<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.20.3" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Protege Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://protegewiki.stanford.edu/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Protege Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />		<title>Troubleshooting Client Server Connections - Protege Wiki</title>
		<link rel="stylesheet" href="http://protegewiki.stanford.edu/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared&amp;only=styles&amp;skin=protege&amp;*" />
<link rel="stylesheet" href="/skins/protege/main.css?303" media="screen" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/protege/IE50Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/protege/IE55Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/protege/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/protege/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://protegewiki.stanford.edu/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=protege&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: protegewiki:resourceloader:filter:minify-css:7:fa90248b478f81892fcea11f84fec5bc */</style>

		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?303"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Troubleshooting_Client_Server_Connections","wgTitle":"Troubleshooting Client Server Connections","wgCurRevisionId":10783,"wgArticleId":1605,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"mdy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Troubleshooting_Client_Server_Connections","wgRestrictionEdit":[],"wgRestrictionMove":[],"sfgAutocompleteValues":[],"sfgAutocompleteOnAllChars":false,"sfgFieldProperties":[],"sfgDependentFields":[],"sfgShowOnSelect":[],"sfgScriptPath":"/extensions/SemanticForms"});
}</script>
		<script type="text/javascript" src="/skins/common/wikibits.js?303"><!-- wikibits js --></script>
		<!-- Head Scripts -->
<script src="http://protegewiki.stanford.edu/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=protege&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Troubleshooting_Client_Server_Connections","wgTitle":"Troubleshooting Client Server Connections","wgCurRevisionId":10783,"wgArticleId":1605,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"mdy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Troubleshooting_Client_Server_Connections","wgRestrictionEdit":[],"wgRestrictionMove":[],"sfgAutocompleteValues":[],"sfgAutocompleteOnAllChars":false,"sfgFieldProperties":[],"sfgDependentFields":[],"sfgShowOnSelect":[],"sfgScriptPath":"/extensions/SemanticForms"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"protege","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs102":false,"searchNs103":false,"searchNs106":false,"searchNs107":false,"searchNs108":false,"searchNs109":false,"searchNs274":false,"searchNs275":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});
/* cache key: protegewiki:resourceloader:filter:minify-js:7:53d8d8d0eeca80ab3b4e8d4b39206dad */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>		<link rel="alternate" type="application/rdf+xml" title="Troubleshooting Client Server Connections" href="/index.php?title=Special:ExportRDF/Troubleshooting_Client_Server_Connections&amp;xmlmime=rdf" />
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Troubleshooting_Client_Server_Connections skin-protege">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Troubleshooting Client Server Connections</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Protege Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="orangeBox">
<p><span class="orangeBoxTitle">Client-Server Troubleshooting</span><br /><br />
</p><p><b>This page contains common problems and exceptions that occur when running the Protege client-sever and is part of the <a href="/wiki/Protege_Client-Server_Tutorial" title="Protege Client-Server Tutorial">Protege client-server tutorial</a>. This page is being updated as issues arise.</b>
</p>
</div>
<p><br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Basics"><span class="tocnumber">1</span> <span class="toctext">Basics</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Versioning_Problems_and_UnmarshalExceptions"><span class="tocnumber">2</span> <span class="toctext">Versioning Problems and UnmarshalExceptions</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#RMI_Registry_Synchronization"><span class="tocnumber">3</span> <span class="toctext">RMI Registry Synchronization</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Java_1.6.0_29_and_1.7_rmiregistry_issue"><span class="tocnumber">4</span> <span class="toctext">Java 1.6.0_29 and 1.7 rmiregistry issue</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Networks.2C_Firewalls_and_Telnet"><span class="tocnumber">5</span> <span class="toctext">Networks, Firewalls and Telnet</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Configuration"><span class="tocnumber">5.1</span> <span class="toctext">Configuration</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#See_Also"><span class="tocnumber">6</span> <span class="toctext">See Also</span></a></li>
</ul>
</td></tr></table>
<p><br />
</p>
<h1> <span class="mw-headline" id="Basics"> Basics </span></h1>
<p>In troubleshooting, it is very useful to understand that the client will first connect to the rmi registry to get a reference to the server and then will use the server reference to contact the server.
This protocol is discussed <a href="/wiki/Protege_Client_Server_RMI" title="Protege Client Server RMI">here</a> (ignore the black magic tricks unless  they help you get  a better understanding).
</p><p>The first thing to do is to look at any messages on the client and server console.  The most fundamental error that can arise is the following exception which appears on the client console:
</p>
<pre>
SEVERE: java.rmi.ConnectException: Connection refused to host: localhost; nested exception is: 
	java.net.ConnectException: Connection refused
	at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:574)
	at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:185)
	at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:171)
	at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:306)
	at sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source)
	at java.rmi.Naming.lookup(Naming.java:84)
	at edu.stanford.smi.protege.server.ServerPanel.connectToHost(ServerPanel.java:140)
</pre>
<p>Note that the exception happens  when trying to call Naming.lookup.  Usually the client will pop up a window that says <i>Unable to Connect to Server</i>.  This means that the client could not connect to the rmiregistry.  Possibly the rmiregistry is not running or there is a firewall or other network problem.
</p><p>An alternate very different error that appears on the client console is the following exception
</p>
<pre>
SEVERE: java.rmi.ConnectException: Connection refused to host: 67.180.198.51; nested exception is: 
	java.net.ConnectException: Connection timed out
	at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:574)
	at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:185)
	at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:171)
	at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:94)
	at edu.stanford.smi.protege.server.Server_Stub.openSession(Unknown Source)
	at edu.stanford.smi.protege.server.ServerPanel.createSession(ServerPanel.java:154))
</pre>
<p>This is usually accompanied by the message <i>Failed to create a session because of either an invalid username/password combination, or a firewall problem</i>.  Unfortunately this pop up dialog is very ambiguous and can mean many things.  It is for this reason that we have tried to add some additional information to help.  In any case the exception tells us two very important things.  First the problem occurs during an attempt ot create a session (ServerPanel.createSession) when the client makes a call to the server (Server_Stub.openSession(Unknown Source).  In particular, since the client is talking to the server, it means that it has already talked to the rmiregistry to obtain a pointer to the client.  That is, this exception means that the client has gotten quite a bit further than it had in the previous case.
</p><p>Note that the connection is being refused to the host 67.180.198.51.  It is important to look at this because this is often the problem - the connection is being made to the wrong place.  There is another message that amplifies on this issue:
</p>
<pre>
Server ref = Server_Stub[UnicastRef2 [liveRef: [endpoint:[67.180.198.51:38547,edu.stanford.smi.protege.server.socket.RmiSocketFactory@2](remote),objID:[-4da377e5:122e64da065:-8000, 0]]]]
</pre>
<p>This is a printout of the server reference that (1) the server passed  to the rmiregistry at server startup and (2) the rmiregistry gave to the client to tell it how to contact the server.  Not the endpoint:
</p>
<pre>
    67.180.198.51:38547.
</pre>
<p>This is the host and port that the rmiregistry thinks should be used to connect to the server.  The Connection Refused exception suggests that there is some problem with this.
</p><p>One problem that can occur is that the server  misrepresents itself when talking to the rmiregistry.  At this point it is worth taking a glance at the first few paragraphs of <a href="/wiki/Protege_Client_Server_RMI" title="Protege Client Server RMI">description of the rmi protocol</a>.  The server decides how to represent itself to the based on the line:
</p>
<pre>
    -Djava.rmi.server.hostname=`hostname`
</pre>
<p>Sometimes this line doesn't do the right thing because the <i>hostname</i> command returns the wrong value.  For instance, perhaps the hostname parameter returns <i>smi-tredmond-li</i>  instead of <i>smi-tredmond-li.stanford.edu</i>.  Perhaps, depending on your network configuration, first of these can be resolved by the client and the second cannot.  Another thing that the <i>hostname</i> command sometimes returns is <i>localhost</i> which will not work for any client on a different machine than  the server.
</p><p>The client console/log is not the only place to look for hints about a problem.  The server console can also have useful information.  For example, if I simply supply the wrong user name or password, the server prints out a message
</p>
<pre>
  WARNING: Failed login for user Timothy Redmond IP: 127.0.1.1 -- Server.openSession()
</pre>
<p>In addition no server or client-side exceptions are generated.
This means that the client successfully contacted the server, the server successfully processed the request but rejected it because the credentials were wrong.
</p><p><br />
</p>
<h1> <span class="mw-headline" id="Versioning_Problems_and_UnmarshalExceptions"> Versioning Problems and UnmarshalExceptions </span></h1>
<p>In order to have a Protege client work reliably with a Protege server, both must be running exactly the same version of Protege.  There are several things that can go wrong when the version numbers are different.  But the most  obvious exception is an UnmarshalException which looks something like the following:
</p>
<pre>
WARNING: Could not connect to remote project Collaborative Pizza -- java.lang.RuntimeException: java.rmi.UnmarshalException: error unmarshalling return; nested exception is: 
	java.io.InvalidClassException: edu.stanford.smi.protege.server.update.ValueUpdate; local class incompatible: stream classdesc serialVersionUID = -7753881900765528485, local class serialVersionUID = -4059275656078639103
	at edu.stanford.smi.protege.server.framestore.RemoteClientFrameStore.convertException(RemoteClientFrameStore.java:388)
	at edu.stanford.smi.protege.server.framestore.RemoteClientFrameStore.getFrame(RemoteClientFrameStore.java:509)
	at edu.stanford.smi.protege.model.framestore.ModificationFrameStore.getFrame(ModificationFrameStore.java:26)
	at edu.stanford.smi.protege.model.framestore.ArgumentCheckingFrameStore.getFrame(ArgumentCheckingFrameStore.java:107)
</pre>
<p>There are some other things that can go wrong when the client and the server have different versions.  In particular another type of error that we saw recently involved a client that used certain remote jobs that the server did not know  about.  This  raised the following exception (seen  on the client):
</p>
<pre>
WARNING: edu.stanford.smi.protege.exception.ProtegeIOException: java.rmi.ServerException: RemoteException occurred in server thread; nested exception is: 
	java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: 
	java.lang.ClassNotFoundException: null class
	at edu.stanford.smi.protege.server.framestore.RemoteClientFrameStore.executeProtegeJob(RemoteClientFrameStore.java:1691)
	at edu.stanford.smi.protege.util.ProtegeJob.execute(ProtegeJob.java:94)
         ...
</pre>
<p>The key hint here is that the error occurred during executeProtegeJob.  The error happened on the server (who is not  able to find a class  passed to it from the client) and is displayed on the client.  This type of exception suggests that the client and server are running different versions of Protege or that the server needs to be running a plugin that is running on the client.
</p><p>Another unmarshalling exception that you may get is related to not finding the class Server_Stub. 
</p>
<pre>
SEVERE: java.rmi.ServerException: RemoteException occurred in server thread; nested exception is:
        java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:
        java.lang.ClassNotFoundException: edu.stanford.smi.protege.server.Server_Stub
        at sun.rmi.server.UnicastServerRef.oldDispatch(Unknown Source)
        at sun.rmi.server.UnicastServerRef.dispatch(Unknown Source)
        ...
</pre>
<p>This happens if rmiregistry does not find the path to the protege.jar, which is specified in the CODEBASE_URL in your <code>run_protege_server</code> script. Especially if running the server on a Windows machine, please make sure that you edit this line from your run_protege_server script to match the path to the protege.jar from your Protege installation folder:
</p>
<pre>set CODEBASE_URL=file:/c:/program%%20files/protege_3.4.7/protege.jar
</pre>
<p>(space is encoded as&#160;%%20).
</p><p><br />
</p>
<h1> <span class="mw-headline" id="RMI_Registry_Synchronization"> RMI Registry Synchronization </span></h1>
<p>Sometime, not very often, a problem arises where the rmiregistry needs to be restarted.  So if the client-server has been running fine and you are suddenly having mysterious problems, try killing the rmiregistry and restarting it.  I don't know anyone who understands this issue.
</p><p><br />
</p>
<h1> <span class="mw-headline" id="Java_1.6.0_29_and_1.7_rmiregistry_issue"> Java 1.6.0_29 and 1.7 rmiregistry issue </span></h1>
<p>There is a <a rel="nofollow" class="external text" href="http://www.oracle.com/technetwork/java/javase/6u29-relnotes-507960.html">known bug</a> in <a rel="nofollow" class="external text" href="http://www.oracle.com/technetwork/java/javase/6u29-relnotes-507960.html">Java 1.6.0_29</a> and <a rel="nofollow" class="external text" href="http://www.oracle.com/technetwork/java/javase/7u1-relnotes-507962.html">Java 1.7</a> that occurs when a RMI server attempts to bind an exported object which includes codebase annotations using the "file:" URL scheme. There is no workaround for this issue, except using a different scheme (e.g. http or ftp) for specifying the code base, or using a different version of Java.
</p><p>If this issue affects you, you will get an exception when starting the Protege server with a stack trace similar to this:
</p>
<pre>
SEVERE: server startup failed -- java.rmi.ServerException: RemoteException occurred in server thread; nested exception is:
    java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:
    java.lang.ClassNotFoundException: access to class loader denied
Caused by
.....
Caused by: java.security.AccessControlException: access denied (java.io.FilePermission C:\Users\csnyulas\workspace\Protege-core\build\dist\- read)
</pre>
<p>To avoid getting this exception you can run the Protege server with a different version of Java that does not contain this bug (i.e. until the bug is fixed in one of the upcoming Java versions, you will need to downgrade to Java 1.6.0_26 or earlier). Another workaround is to serve the protege code base from a different location (e.g. http or ftp) and edit the <a href="/wiki/Protege_Client_Server_Tutorial_Setup#Starting_the_Protege_server_using_the_run_protege_server_script_.28Recommended.29" title="Protege Client Server Tutorial Setup">run_protege script</a> accordingly.
</p>
<h1> <span class="mw-headline" id="Networks.2C_Firewalls_and_Telnet"> Networks, Firewalls and Telnet </span></h1>
<p>It is out of scope for the Protege team to diagnose network problems.  There are simply too many things that can go wrong and too many things to know.  The primary indicator that you need to start thinking about netowrk issues is that the server works fine on localhost or on the lan but not from outside the lan.   In this case, telnet is a useful tool for quickly evaluating where a problem is located.  All real operating systems with possibly (grudgingly admitted) one exception have a telnet command.  If your operating system is under configured you can try this link for <a rel="nofollow" class="external text" href="http://www.arsgeek.com/2007/03/20/enable-telnet-in-windows-vista/">enabling telnet</a> or <a rel="nofollow" class="external autonumber" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">[1]</a>.  I haven't tried either but you should also feel free to complain to your vendor for leaving out such a basic diagnostic command.
</p><p>What telnet does is to allow you to connect to a hostname and a port.  If you know a protocol in detail it is also possible (usually not recommended) to talk  a bit with a server this way.  For example, using the host www.google.com and port 80 you can try <i>GET /</i>.  There are also instructions on various web pages for talking with mail servers, etc.  In our case, all we are interested in is whether the client can connect.  So depending on your telnet client, a successful connection will look something like this:
</p>
<pre>
[tredmond@smi-tredmond-li org.protege.osgi.jdbc.prefs]$ telnet smi-tredmond-li 5100
Trying 127.0.1.1...
Connected to smi-tredmond-li.
Escape character is '^]'.
</pre>
<p>At this point, with this client, type control-]  and then quit and telnet will exit.  In the case of a problem, it may take a bit of time for telnet to realize that it cannot connect.  In the case that it can connect, it usually connects very quickly.
</p><p>There are two connections that need to be tested.  The first connection is the connection to the rmiregistry.  By default the rmi registry runs on port 1099 but it can be changed when the rmi registry is invoked with the command 
</p>
<pre>
    rmiregisty [port #].
</pre>
<p>In addition the server is configured to talk to a particular rmiregistry port  with the jvm definition 
</p>
<pre>
     -Dprotege.rmi.registry.port=[port #].
</pre> 
<p>The rmi registry port that the server is using can  also be seen in the server console message near the top:
</p>
<pre>
    Server port = 5200, registry port = 5100, compressed stream
</pre>
<p>The other connection that needs to be tested  is the server connection.  The server  port can be determined if you have  a server reference message in some clients logs:
</p>
<pre>
Server ref = Server_Stub[UnicastRef2 [liveRef: [endpoint:[67.180.198.51:38547,edu.stanford.smi.protege.server.socket.RmiSocketFactory@2](remote),objID:[-4da377e5:122e64da065:-8000, 0]]]]
</pre>
<p>but the easiest way  to know the server port  is to set it with a jvm definition:
</p>
<pre>
    -Dprotege.rmi.server.port=5200.
</pre>
<p>If telnet cannot connect then neither will Protege and  the problem is to figure  out why the connection failed.  This telnet test can be run from different machines on your network to determine exactly what is causing a problem with the network.
</p>
<h2> <span class="mw-headline" id="Configuration"> Configuration </span></h2>
<p>To resolve configuration issues arising from NAT firewalls, here's a simple walkthrough that hopefully helps someone.  
</p>
<ul><li> In your Protege client application, edit the "protege.properties" file in the installation directory and add the line (or modify if it already exists), where <i>hostname</i> is the HOSTNAME (not the domain name) and <i>RMI_REG_PORT</i> is the RMI Registry Port.  By default this is 1099, but can be changed from the server configuration.  The global IP Address of the server also works in place of the hostname, but a common mistake is to set this to the local IP address of the server.  
</li></ul>
<pre>edu.stanford.smi.protege.server.ServerPanel.host_name=<i>hostname</i>\:<i>RMI_REG_PORT</i>
</pre>
<ul><li> In your Protege Server installation, make the following changes to "run_protege_server.sh":
<ul><li> For the HOSTNAME_PARAM variable, replace `hostname` with the actual hostname of your machine (same as specified from the client side so you know its globally-routable).  A common mistake is to set this to "localhost" or to a locally routable hostname.
</li><li> Add the following lines before the PORTOPTS variable is defined:
</li></ul>
</li></ul>
<pre>RMI_REG_PORT=1099
RMI_SERV_PORT=5200
</pre>
<ul><li><ul><li> Uncomment the line defining the PORTOPTS variable and change it to:
</li></ul>
</li></ul>
<pre>PORTOPTS="-Dprotege.rmi.server.port=$RMI_SERV_PORT -Dprotege.rmi.registry.port=$RMI_REG_PORT"
</pre>
<ul><li><ul><li> Add the RMI_REG_PORT argument to the rmiregistry command, like this:
</li></ul>
</li></ul>
<pre>$JAVA_PATH/rmiregistry $RMI_REG_PORT &amp;
</pre>
<ul><li> Make sure you configure your firewall to allow TCP traffic to the RMI_REG_PORT and RMI_SERV_PORT
</li></ul>
<h1> <span class="mw-headline" id="See_Also"> See Also </span></h1>
<ul><li> <a href="/wiki/Protege_Client_Server_Tutorial_Advanced" title="Protege Client Server Tutorial Advanced">Protege Client Server Tutorial Advanced</a>
</li></ul>

<!-- 
NewPP limit report
Preprocessor visited node count: 175/1000000
Preprocessor generated node count: 360/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key protegewiki:pcache:idhash:1605-0!*!0!!en!*!* and timestamp 20131213234446 -->
</div><div class="printfooter">
Retrieved from "<a href="http://protegewiki.stanford.edu/index.php?title=Troubleshooting_Client_Server_Connections&amp;oldid=10783">http://protegewiki.stanford.edu/index.php?title=Troubleshooting_Client_Server_Connections&amp;oldid=10783</a>"</div>
			<div id='catlinks' class='catlinks catlinks-allhidden'></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Troubleshooting_Client_Server_Connections"Array>Page</a></li>
				 <li id="ca-talk" class="new"><a href="/index.php?title=Talk:Troubleshooting_Client_Server_Connections&amp;action=edit&amp;redlink=1"Array>Discussion</a></li>
				 <li id="ca-viewsource"><a href="/index.php?title=Troubleshooting_Client_Server_Connections&amp;action=edit"Array>View source</a></li>
				 <li id="ca-history"><a href="/index.php?title=Troubleshooting_Client_Server_Connections&amp;action=history"Array>History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Troubleshooting+Client+Server+Connections"Array>Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/skins/ProtegeLogo.gif);" href="/wiki/Main_Page"Array></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page"Array>Main Page</a></li>
				<li id="n-All-Categories"><a href="/wiki/Special:Categories"Array>All Categories</a></li>
				<li id="n-All-Properties"><a href="/wiki/Special:Properties"Array>All Properties</a></li>
				<li id="n-All-Templates"><a href="/wiki/Special:Templates"Array>All Templates</a></li>
				<li id="n-All-Forms"><a href="/wiki/Special:Forms"Array>All Forms</a></li>
				<li id="n-Ontology-Library"><a href="/wiki/Protege_Ontology_Library"Array>Ontology Library</a></li>
				<li id="n-Plugin-Library"><a href="/wiki/Protege_Plugin_Library"Array>Plugin Library</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents"Array>Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text"Array value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go"Array />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search"Array />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Troubleshooting_Client_Server_Connections"Array>What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Troubleshooting_Client_Server_Connections"Array>Related changes</a></li>
<li id="t-specialpages"><a href="/wiki/Special:SpecialPages"Array>Special pages</a></li>
				<li id="t-print"><a href="/index.php?title=Troubleshooting_Client_Server_Connections&amp;printable=yes"Array>Printable version</a></li>				<li id="t-permalink"><a href="/index.php?title=Troubleshooting_Client_Server_Connections&amp;oldid=10783"Array>Permanent link</a></li><li id="t-smwbrowselink"><a href="/wiki/Special:Browse/Troubleshooting_Client_Server_Connections" title="Special:Browse/Troubleshooting Client Server Connections">Browse properties</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="//www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a> <a href="http://www.semantic-mediawiki.org/wiki/Semantic_MediaWiki"><img src="/extensions/SemanticMediaWiki/resources/images/smw_button.png" alt="Powered by Semantic MediaWiki" /></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on January 24, 2012, at 15:48.</li>
					<li id="viewcount">This page has been accessed 28,330 times.</li>
					<li id="privacy"><a href="/wiki/Protege_Wiki:Privacy_policy" title="Protege Wiki:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/wiki/Protege_Wiki:About" title="Protege Wiki:About">About Protege Wiki</a></li>
					<li id="disclaimer"><a href="/wiki/Protege_Wiki:General_disclaimer" title="Protege Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest"], null, true);
}</script>
<script src="http://protegewiki.stanford.edu/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=protege&amp;*"></script>
<!-- Served in 0.153 secs. --></body></html>
