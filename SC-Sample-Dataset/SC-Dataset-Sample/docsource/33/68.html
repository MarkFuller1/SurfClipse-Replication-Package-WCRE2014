<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<style type="text/css">
@import url( /templates/default/mobile/styles/mobile.css?1386831159603 ) ;
</style>

<meta name="viewport" content="width = 320" />

<title>JNDI Port number issue while strating JBoss server 4.2.2.GA (JBoss/WildFly forum at JavaRanch)</title>
<link rel="canonical" href="http://www.coderanch.com/t/424345/JBoss/JNDI-Port-number-strating-JBoss"/>
<link rel="alternate" media="handheld" href="http://www.coderanch.com/mobile/t/424345/JBoss/JNDI-Port-number-strating-JBoss?foo=a">
</head>
<body class="en_US">

<a name="top"></a>
<table cellspacing="0" cellpadding="0" border="0">
    <tr>
        <td align="center">
                <a href="/forums/list"><img
                src="/templates/default/mobile/images/mobile-moose.gif"
                vspace="1" border="0" alt="[Logo]" width="100" height="100" /></a>
		</td>
        <td class="logo" valign="center">
          A friendly place for programming greenhorns!
        <a href="#bottom"><img src="/templates/default/mobile/images/down_arrow.gif" width="10" height="10" alt="Jump to bottom of page" /></a>
        </td>
    </tr>
</table>

<p>
  <a id="register" class="mainmenu" href="/forums/user/insert">Register</a> /
  <a id="login" class="mainmenu" href="/forums/user/login">Login</a>
</p>
<a class="maintitle" href="http://www.coderanch.com/forums">Java Forums</a>



&raquo; <a class="maintitle" href="/forums/c/5/">Products</a> &raquo;
<a class="maintitle" href="/forums/f-63/JBoss">JBoss/WildFly</a>
<div class="subject">JNDI Port number issue while strating JBoss server 4.2.2.GA</div>


  
  <div class="mobilePostBody">
  

  Post by: Micheal John, Ranch Hand<br />
  on <span class="lastPostTime">Jan 01, 2009 23:41:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I am facing the problem while statring the JBoss server 4.2.2.GA in Windows 2000. The problem is, in the port number 1099, some other application is running, which I am suspecting the JBoss is also using for JNDI. So I am getting the following error: I couldn't stop the application that is already running in the port number 1099. <br /> <textarea name="code" class="java" cols="60" rows="10">    
14:29:33,159 INFO  [Server] Starting JBoss (MX MicroKernel)...
14:29:33,206 INFO  [Server] Release ID: JBoss [Trinity] 4.2.2.GA (build: SVNTag=JBoss_4_2_2_GA date=200710221139)
14:29:33,237 INFO  [Server] Home Dir: C:\java\common\bin\jboss-4.2.2.GA
14:29:33,237 INFO  [Server] Home URL: file:/C:/java/common/bin/jboss-4.2.2.GA/
14:29:33,237 INFO  [Server] Patch URL: null
14:29:33,237 INFO  [Server] Server Name: default
14:29:33,237 INFO  [Server] Server Home Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default
14:29:33,237 INFO  [Server] Server Home URL: file:/C:/java/common/bin/jboss-4.2.2.GA/server/default/
14:29:33,237 INFO  [Server] Server Log Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default\log
14:29:33,237 INFO  [Server] Server Temp Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default\tmp
14:29:33,253 INFO  [Server] Root Deployment Filename: jboss-service.xml
14:29:34,315 INFO  [ServerInfo] Java version: 1.5.0_04,Sun Microsystems Inc.
14:29:34,315 INFO  [ServerInfo] Java VM: Java HotSpot(TM) Client VM 1.5.0_04-b05,Sun Microsystems Inc.
14:29:34,315 INFO  [ServerInfo] OS-System: Windows 2000 5.0,x86
14:29:35,581 INFO  [Server] Core system initialized
14:29:42,504 INFO  [WebService] Using RMI server codebase: &lt;a href="http://127.0.0.1:8083/" target="_blank" rel="nofollow"&gt;http://127.0.0.1:8083/&lt;/a&gt;
14:29:42,535 INFO  [Log4jService$URLWatchTimerTask] Configuring from URL: resource:jboss-log4j.xml
14:29:46,676 ERROR [Naming] Could not start on port 1099
java.net.BindException: Address already in use: JVM_Bind
at java.net.PlainSocketImpl.socketBind(Native Method)
at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:359)
at java.net.ServerSocket.bind(ServerSocket.java:319)
at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:185)
at javax.net.DefaultServerSocketFactory.createServerSocket(ServerSocketFactory.java:169)
at org.jnp.server.Main.initBootstrapListener(Main.java:371)
at org.jnp.server.Main.start(Main.java:321)
at org.jboss.naming.NamingService.startService(NamingService.java:284)
at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
at $Proxy0.start(Unknown Source)
at org.jboss.system.ServiceController.start(ServiceController.java:417)
at org.jboss.system.ServiceController.start(ServiceController.java:435)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
at $Proxy4.start(Unknown Source)
at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:766)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
at $Proxy5.deploy(Unknown Source)
at org.jboss.system.server.ServerImpl.doStart(ServerImpl.java:482)
at org.jboss.system.server.ServerImpl.start(ServerImpl.java:362)
at org.jboss.Main.boot(Main.java:200)
at org.jboss.Main$1.run(Main.java:508)
at java.lang.Thread.run(Thread.java:595)
14:29:47,223 INFO  [TransactionManagerService] JBossTS Transaction Service (JTA version) - JBoss Inc.
14:29:47,223 INFO  [TransactionManagerService] Setting up property manager MBean and JMX layer
14:29:48,176 INFO  [TransactionManagerService] Starting recovery manager
</textarea> <br />  <br /> So I have edited the jboss-service.xml file in the following location:<br /> C:\java\common\bin\jboss-4.2.2.GA\server\default\conf\jboss-service.xml<br />  <br /> I have changed the JNDI port number from 1099 to 11099 as follows:<br /> <textarea name="code" class="java" cols="60" rows="10">    
 &lt;mbean code="org.jboss.naming.NamingService"
      name="jboss:service=Naming"
      xmbean-dd="resource:xmdesc/NamingService-xmbean.xml"&gt;
      &lt;!-- The call by value mode. true if all lookups are unmarshalled using
         the caller's TCL, false if in VM lookups return the value by reference.
      --&gt;
      &lt;attribute name="CallByValue"&gt;false&lt;/attribute&gt;
      &lt;!-- The listening port for the bootstrap JNP service. Set this to -1
         to run the NamingService without the JNP invoker listening port.
      --&gt;
     [B] &lt;attribute name="Port"&gt;11099&lt;/attribute&gt;[/B]
      &lt;!-- The bootstrap JNP server bind address. This also sets the default
         RMI service bind address. Empty == all addresses
      --&gt;
      &lt;attribute name="BindAddress"&gt;${jboss.bind.address}&lt;/attribute&gt;
      &lt;!-- The port of the RMI naming service, 0 == anonymous --&gt;
      &lt;attribute name="RmiPort"&gt;1098&lt;/attribute&gt;
      &lt;!-- The RMI service bind address. Empty == all addresses
      --&gt;
      &lt;attribute name="RmiBindAddress"&gt;${jboss.bind.address}&lt;/attribute&gt;
      &lt;!-- The thread pool service used to control the bootstrap lookups --&gt;
      &lt;depends optional-attribute-name="LookupPool"
         proxy-type="attribute"&gt;jboss.system:service=ThreadPool&lt;/depends&gt;
      &lt;!-- An example of using the unifed invoker as the transport.
         &lt;depends optional-attribute-name="InvokerProxyFactory"
         proxy-type="attribute"&gt;jboss:service=proxyFactory,type=unified,target=Naming&lt;/depends&gt;
      --&gt;
      &lt;depends optional-attribute-name="Naming"
         proxy-type="attribute"&gt;jboss:service=NamingBeanImpl&lt;/depends&gt;
   &lt;/mbean&gt;
</textarea><br />  <br /> But I am getting some other error:<br /> <textarea name="code" class="java" cols="60" rows="10">    
14:32:21,790 INFO  [Server] Starting JBoss (MX MicroKernel)...
14:32:21,852 INFO  [Server] Release ID: JBoss [Trinity] 4.2.2.GA (build: SVNTag=JBoss_4_2_2_GA date=200710221139)
14:32:21,852 INFO  [Server] Home Dir: C:\java\common\bin\jboss-4.2.2.GA
14:32:21,884 INFO  [Server] Home URL: file:/C:/java/common/bin/jboss-4.2.2.GA/
14:32:21,884 INFO  [Server] Patch URL: null
14:32:21,884 INFO  [Server] Server Name: default
14:32:21,884 INFO  [Server] Server Home Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default
14:32:21,884 INFO  [Server] Server Home URL: file:/C:/java/common/bin/jboss-4.2.2.GA/server/default/
14:32:21,884 INFO  [Server] Server Log Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default\log
14:32:21,884 INFO  [Server] Server Temp Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default\tmp
14:32:21,884 INFO  [Server] Root Deployment Filename: jboss-service.xml
14:32:22,899 INFO  [ServerInfo] Java version: 1.5.0_04,Sun Microsystems Inc.
14:32:22,899 INFO  [ServerInfo] Java VM: Java HotSpot(TM) Client VM 1.5.0_04-b05,Sun Microsystems Inc.
14:32:22,899 INFO  [ServerInfo] OS-System: Windows 2000 5.0,x86
14:32:24,103 INFO  [Server] Core system initialized
14:32:31,057 INFO  [WebService] Using RMI server codebase: &lt;a href="http://127.0.0.1:8083/" target="_blank" rel="nofollow"&gt;http://127.0.0.1:8083/&lt;/a&gt;
14:32:31,088 INFO  [Log4jService$URLWatchTimerTask] Configuring from URL: resource:jboss-log4j.xml
14:32:35,964 INFO  [TransactionManagerService] JBossTS Transaction Service (JTA version) - JBoss Inc.
14:32:35,964 INFO  [TransactionManagerService] Setting up property manager MBean and JMX layer
14:32:36,917 INFO  [TransactionManagerService] Starting recovery manager
14:32:37,464 INFO  [TransactionManagerService] Recovery manager started
14:32:37,464 INFO  [TransactionManagerService] Binding TransactionManager JNDI Reference
14:32:39,198 ERROR [STDERR] Jan 2, 2009 2:32:39 PM com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl &lt;init&gt;
WARNING: "IOP00410201: (COMM_FAILURE) Connection failure: socketType: IIOP_CLEAR_TEXT; hostname: localhost; port: 3700"
org.omg.CORBA.COMM_FAILURE:   vmcid: SUN  minor code: 201  completed: No
at com.sun.corba.ee.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2257)
at com.sun.corba.ee.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2278)
at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:208)
at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:221)
at com.sun.corba.ee.impl.transport.SocketOrChannelContactInfoImpl.createConnection(SocketOrChannelContactInfoImpl.java:104)
at com.sun.corba.ee.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:152)
at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:146)
at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.is_a(CorbaClientDelegateImpl.java:286)
at org.omg.CORBA.portable.ObjectImpl._is_a(ObjectImpl.java:112)
at org.omg.CosNaming.NamingContextHelper.narrow(NamingContextHelper.java:69)
at com.sun.enterprise.naming.SerialContext.narrowProvider(SerialContext.java:89)
at com.sun.enterprise.naming.SerialContext.getProvider(SerialContext.java:128)
at com.sun.enterprise.naming.SerialContext.rebind(SerialContext.java:380)
at javax.naming.InitialContext.rebind(InitialContext.java:367)
at com.arjuna.ats.jta.utils.JNDIManager.bindJTATransactionSynchronizationRegistryImplementation(JNDIManager.java:157)
at com.arjuna.ats.jta.utils.JNDIManager.bindJTATransactionSynchronizationRegistryImplementation(JNDIManager.java:141)
at com.arjuna.ats.jbossatx.jta.TransactionManagerService.startService(TransactionManagerService.java:206)
at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
at $Proxy0.start(Unknown Source)
at org.jboss.system.ServiceController.start(ServiceController.java:417)
at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
at $Proxy4.start(Unknown Source)
at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:766)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
at $Proxy5.deploy(Unknown Source)
at org.jboss.system.server.ServerImpl.doStart(ServerImpl.java:482)
at org.jboss.system.server.ServerImpl.start(ServerImpl.java:362)
at org.jboss.Main.boot(Main.java:200)
at org.jboss.Main$1.run(Main.java:508)
at java.lang.Thread.run(Thread.java:595)
Caused by: java.lang.RuntimeException: java.net.ConnectException: Connection refused: connect
at com.sun.enterprise.iiop.IIOPSSLSocketFactory.createSocket(IIOPSSLSocketFactory.java:336)
at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:191)
... 61 more
Caused by: java.net.ConnectException: Connection refused: connect
at sun.nio.ch.Net.connect(Native Method)
at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:464)
at java.nio.channels.SocketChannel.open(SocketChannel.java:146)
at com.sun.enterprise.iiop.IIOPSSLSocketFactory.createSocket(IIOPSSLSocketFactory.java:320)
... 62 more
14:32:40,355 ERROR [STDERR] Jan 2, 2009 2:32:40 PM com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl &lt;init&gt;
WARNING: "IOP00410201: (COMM_FAILURE) Connection failure: socketType: IIOP_CLEAR_TEXT; hostname: localhost; port: 3700"
org.omg.CORBA.COMM_FAILURE:   vmcid: SUN  minor code: 201  completed: No
at com.sun.corba.ee.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2257)
at com.sun.corba.ee.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2278)
at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:208)
at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:221)
at com.sun.corba.ee.impl.transport.SocketOrChannelContactInfoImpl.createConnection(SocketOrChannelContactInfoImpl.java:104)
at com.sun.corba.ee.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:152)
at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:146)
at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.is_a(CorbaClientDelegateImpl.java:286)
at org.omg.CORBA.portable.ObjectImpl._is_a(ObjectImpl.java:112)
at org.omg.CosNaming.NamingContextHelper.narrow(NamingContextHelper.java:69)
at com.sun.enterprise.naming.SerialContext.narrowProvider(SerialContext.java:89)
at com.sun.enterprise.naming.SerialContext.getProvider(SerialContext.java:128)
at com.sun.enterprise.naming.SerialContext.rebind(SerialContext.java:380)
at javax.naming.InitialContext.rebind(InitialContext.java:367)
at com.arjuna.ats.jta.utils.JNDIManager.bindJTATransactionSynchronizationRegistryImplementation(JNDIManager.java:157)
at com.arjuna.ats.jta.utils.JNDIManager.bindJTATransactionSynchronizationRegistryImplementation(JNDIManager.java:141)
at com.arjuna.ats.jbossatx.jta.TransactionManagerService.startService(TransactionManagerService.java:206)
at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
at $Proxy0.start(Unknown Source)
at org.jboss.system.ServiceController.start(ServiceController.java:417)
at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
at $Proxy4.start(Unknown Source)
at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:766)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
at $Proxy5.deploy(Unknown Source)
at org.jboss.system.server.ServerImpl.doStart(ServerImpl.java:482)
at org.jboss.system.server.ServerImpl.start(ServerImpl.java:362)
at org.jboss.Main.boot(Main.java:200)
at org.jboss.Main$1.run(Main.java:508)
at java.lang.Thread.run(Thread.java:595)
Caused by: java.lang.RuntimeException: java.net.ConnectException: Connection refused: connect
at com.sun.enterprise.iiop.IIOPSSLSocketFactory.createSocket(IIOPSSLSocketFactory.java:336)
at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:191)
... 61 more
Caused by: java.net.ConnectException: Connection refused: connect
at sun.nio.ch.Net.connect(Native Method)
at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:464)
at java.nio.channels.SocketChannel.open(SocketChannel.java:146)
at com.sun.enterprise.iiop.IIOPSSLSocketFactory.createSocket(IIOPSSLSocketFactory.java:320)
... 62 more
</textarea><br />  <br /> Please help on this. My JDK is at:C:\java\common\bin\jdk1.5<br />  <br /> <textarea name="code" class="java" cols="60" rows="10">
C:\Documents and Settings\john01&gt;netstat -na
 
Active Connections
 
 Proto  Local Address 
 TCP    0.0.0.0:135   
 TCP    0.0.0.0:445   
 TCP    0.0.0.0:1039  
 TCP    0.0.0.0:2021  
 TCP    0.0.0.0:5001  
 TCP    0.0.0.0:5900  
 TCP    0.0.0.0:18081 
 TCP    127.0.0.1:139 
 [B]TCP    127.0.0.1:1099[/B]
 TCP    127.0.0.1:1105
 TCP    127.0.0.1:1203
 TCP    127.0.0.1:1308
 TCP    127.0.0.1:1372
 TCP    127.0.0.1:1373
 TCP    127.0.0.1:1380
 TCP    127.0.0.1:1387
 TCP    127.0.0.1:1388
 TCP    127.0.0.1:1389
 TCP    127.0.0.1:1397
 TCP    127.0.0.1:1591
 TCP    127.0.0.1:1593
 TCP    127.0.0.1:1607
 TCP    127.0.0.1:1610
 TCP    127.0.0.1:1630
 TCP    127.0.0.1:1677
 TCP    127.0.0.1:1680
 TCP    127.0.0.1:1708
 TCP    127.0.0.1:1753
 TCP    127.0.0.1:2280
 TCP    127.0.0.1:3973
 UDP    0.0.0.0:445   
 UDP    0.0.0.0:1028  
 UDP    0.0.0.0:1044  
 UDP    0.0.0.0:1219  
 UDP    0.0.0.0:1395  
 UDP    0.0.0.0:3705  
 UDP    0.0.0.0:3729  
 UDP    0.0.0.0:18081 
 UDP    0.0.0.0:18082 
 UDP    127.0.0.1:1095
 UDP    127.0.0.1:1204
 UDP    127.0.0.1:1246
 UDP    127.0.0.1:1439
 UDP    127.0.0.1:3689
 UDP    127.0.0.1:3721
 UDP    127.0.0.1:3959
 UDP    127.0.0.1:4644
 UDP    127.0.0.1:4686
 UDP    127.0.0.1:4996
 UDP    127.0.0.1:137 
 UDP    127.0.0.1:138 
 UDP    127.0.0.1:500 
 UDP    127.0.0.1:4500                      
</textarea><br /> [ January 02, 2009: Message edited by: Micheal John ]<br /> </span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Jaikiran Pai, Marshal<br />
  on <span class="lastPostTime">Jan 03, 2009 06:52:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">The recommended way of changing ports is using the ServiceBindingManager. See <a href="http://www.jboss.org/community/docs/DOC-12213" target="_blank" >this</a> for details.</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Micheal John, Ranch Hand<br />
  on <span class="lastPostTime">Jan 05, 2009 04:58:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Hi Jaikiran,
<br /> 
<br />   Thanks for your reply. I have followed the below steps and try to run the server in port 01, but unfortunately I am getting the same error.
<br /> 
<br /> <a class="snap_shots" href="http://blog.techstacks.com/2009/01/changing-default-port-numbers-in-jboss.html" target="_blank" rel="nofollow">http://blog.techstacks.com/2009/01/changing-default-port-numbers-in-jboss.html</a>
<br /> <textarea name="code" class="java" cols="60" rows="10">
Changing Default Port Numbers in JBoss AS 4.x 

Port number assignments in JBoss application server 4.0 can be managed through the use of the Bindings Manager. The JBoss Bindings Manager can be loaded as part of jboss-service.xml for your server instance. For the example in this article, I will use the jboss-service.xml from the "default" server instance.

Remove the comments surrounding the Binding Manager configuration from your server's jboss-service.xml so that the following is displayed:
   &lt;mbean code="org.jboss.services.binding.ServiceBindingManager"
     name="jboss.system:service=ServiceBindingManager"&gt;
     &lt;attribute name="ServerName"&gt;ports-01&lt;/attribute&gt;
     &lt;attribute name="StoreURL"&gt;${jboss.home.url}/docs/examples/binding-manager/sample-bindings.xml&lt;/attribute&gt;
     &lt;attribute name="StoreFactoryClassName"&gt;
       org.jboss.services.binding.XMLServicesStoreFactory
     &lt;/attribute&gt;
   &lt;/mbean&gt;

Note that the ServerName parameter is utilizing ports-01. Note also that the StoreURL parameter is presently pointing to a sample configuration file. Open that file up in your editor now. This file contains four port configuration sections. Each port is incremented by 100 from the previous set of ports. For example, the default ajp port is 8009. The port number assigned to this set in the ports-01 configuration is 8109, the number assigned in the ports-02 configuration is 8209, etc. The default http port is 8080. This is set to 8180 in the ports-01 configuration, 8280 in the ports-02 configurationâ€”you get the idea.

Save this file to your server's conf directory as binding-manager.xml(same location as jboss-service.xml). You do not need to make any changes to this file for this example. 

Modify your server instance's jboss-service.xml file and change the StoreURL configuration in the binding manager section from:

${jboss.home.url}/docs/examples/binding-manager/sample-bindings.xmlto:

${jboss.server.base.dir}/${jboss.server.name}/conf/binding-manager.xml
Start up your server and it is now listening on the set of ports from the ports-01 section of the binding-manager.xml file. If you are running JBoss on Windows, depending upon the service wrapper you are using, you might have to delete the service and re-create it. I've seen some service wrappers (like the one that ships with some versions of Covalent Enterprise Ready Server for tomcat) that does not re-read configuration updates unless the service is removed and re-installed.

</textarea>
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">    
20:32:59,536 INFO  [Server] Starting JBoss (MX MicroKernel)...
20:32:59,536 INFO  [Server] Release ID: JBoss [Trinity] 4.2.2.GA (build: SVNTag=JBoss_4_2_2_GA date=200710221139)
20:32:59,536 INFO  [Server] Home Dir: C:\java\common\bin\jboss-4.2.2.GA
20:32:59,582 INFO  [Server] Home URL: file:/C:/java/common/bin/jboss-4.2.2.GA/
20:32:59,582 INFO  [Server] Patch URL: null
20:32:59,582 INFO  [Server] Server Name: default
20:32:59,582 INFO  [Server] Server Home Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default
20:32:59,582 INFO  [Server] Server Home URL: file:/C:/java/common/bin/jboss-4.2.2.GA/server/default/
20:32:59,582 INFO  [Server] Server Log Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default\log
20:32:59,582 INFO  [Server] Server Temp Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default\tmp
20:32:59,582 INFO  [Server] Root Deployment Filename: jboss-service.xml
20:33:00,614 INFO  [ServerInfo] Java version: 1.5.0_04,Sun Microsystems Inc.
20:33:00,614 INFO  [ServerInfo] Java VM: Java HotSpot(TM) Client VM 1.5.0_04-b05,Sun Microsystems Inc.
20:33:00,614 INFO  [ServerInfo] OS-System: Windows 2000 5.0,x86
20:33:01,880 INFO  [Server] Core system initialized[b]
20:33:05,645 INFO  [ServiceBindingManager] Initializing store
20:33:05,645 INFO  [ServiceBindingManager] Using StoreURL: file:/C:/java/common/bin/jboss-4.2.2.GA/server/default/conf/binding-manager.xml
20:33:10,583 INFO  [WebService] Using RMI server codebase: http://127.0.0.1:8183/[/b]
20:33:10,614 INFO  [Log4jService$URLWatchTimerTask] Configuring from URL: resource:jboss-log4j.xml
20:33:15,240 INFO  [TransactionManagerService] JBossTS Transaction Service (JTA version) - JBoss Inc.
20:33:15,240 INFO  [TransactionManagerService] Setting up property manager MBean and JMX layer
20:33:16,177 INFO  [TransactionManagerService] Starting recovery manager
20:33:16,771 INFO  [TransactionManagerService] Recovery manager started
20:33:16,771 INFO  [TransactionManagerService] Binding TransactionManager JNDI Reference
20:33:18,677 ERROR [STDERR] Jan 5, 2009 8:33:18 PM com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl &lt;init&gt;
WARNING: "IOP00410201: (COMM_FAILURE) Connection failure: socketType: IIOP_CLEAR_TEXT; hostname: localhost; port: 3700"
org.omg.CORBA.COMM_FAILURE:   vmcid: SUN  minor code: 201  completed: No
	at com.sun.corba.ee.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2257)
	at com.sun.corba.ee.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2278)
	at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:208)
	at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:221)
	at com.sun.corba.ee.impl.transport.SocketOrChannelContactInfoImpl.createConnection(SocketOrChannelContactInfoImpl.java:104)
	at com.sun.corba.ee.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:152)
	at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:146)
	at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.is_a(CorbaClientDelegateImpl.java:286)
	at org.omg.CORBA.portable.ObjectImpl._is_a(ObjectImpl.java:112)
	at org.omg.CosNaming.NamingContextHelper.narrow(NamingContextHelper.java:69)
	at com.sun.enterprise.naming.SerialContext.narrowProvider(SerialContext.java:89)
	at com.sun.enterprise.naming.SerialContext.getProvider(SerialContext.java:128)
	at com.sun.enterprise.naming.SerialContext.rebind(SerialContext.java:380)
	at javax.naming.InitialContext.rebind(InitialContext.java:367)
	at com.arjuna.ats.jta.utils.JNDIManager.bindJTATransactionSynchronizationRegistryImplementation(JNDIManager.java:157)
	at com.arjuna.ats.jta.utils.JNDIManager.bindJTATransactionSynchronizationRegistryImplementation(JNDIManager.java:141)
	at com.arjuna.ats.jbossatx.jta.TransactionManagerService.startService(TransactionManagerService.java:206)
	at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
	at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
	at $Proxy0.start(Unknown Source)
	at org.jboss.system.ServiceController.start(ServiceController.java:417)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
	at $Proxy4.start(Unknown Source)
	at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
	at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
	at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
	at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
	at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:766)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
	at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
	at $Proxy5.deploy(Unknown Source)
	at org.jboss.system.server.ServerImpl.doStart(ServerImpl.java:482)
	at org.jboss.system.server.ServerImpl.start(ServerImpl.java:362)
	at org.jboss.Main.boot(Main.java:200)
	at org.jboss.Main$1.run(Main.java:508)
	at java.lang.Thread.run(Thread.java:595)
Caused by: java.lang.RuntimeException: java.net.ConnectException: Connection refused: connect
	at com.sun.enterprise.iiop.IIOPSSLSocketFactory.createSocket(IIOPSSLSocketFactory.java:336)
	at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:191)
	... 61 more
Caused by: java.net.ConnectException: Connection refused: connect
	at sun.nio.ch.Net.connect(Native Method)
	at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:464)
	at java.nio.channels.SocketChannel.open(SocketChannel.java:146)
	at com.sun.enterprise.iiop.IIOPSSLSocketFactory.createSocket(IIOPSSLSocketFactory.java:320)
	... 62 more
</textarea></span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Peter Johnson, Bartender<br />
  on <span class="lastPostTime">Jan 05, 2009 12:30:58</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">The problem is with port 3700 (not the JNDI port). There are two possible reasons why port 3700 is not available. First, another app could be using it. Using TCPView from sysinternals is a better bet for determining who is using that port than using netstat. The other possibility is that your firewall is blocking the port. This can happen very easily - some time in the past the firewall popped up a dialog asking if some Java app could connect to the netwrok and you said "no" and told the firewall to remember that setting. Now you are using the same JVM to run JBoss AS and the firewall is acting on the previous settings.
<br /> 
<br /> The weird thing is that I cannot find any place in JBos AS 4.2.2 where port 3700 is identified, but the port does appear to be used by Arjuna (JBoss Transactions). As a wild guess, try adding this line to the server/default/conf/jbossjta-properties.xml file:
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">&lt;property name="com.arjuna.ats.arjuna.recovery.recoveryPort" value="xxxx"/&gt;</textarea>
<br /> 
<br /> where xxxx is some available port number. The above property entry goes within this "properties" entry:
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10"> &lt;properties depends="arjuna,txoj,jta" name="recoverymanager"&gt;</textarea>
<br /> </span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Micheal John, Ranch Hand<br />
  on <span class="lastPostTime">Jan 05, 2009 21:05:07</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I am getting the same exception, even though I have followed your suggestion of adding the recoverymanager in jboss-4.2.2.GA\server\default\conf\jbossjta-properties.xml
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">    
&lt;properties depends="arjuna,txoj,jta" name="recoverymanager"&gt;  
   &lt;property name="com.arjuna.ats.arjuna.recovery.recoveryPort" value="3800"/&gt;  
&lt;/properties&gt;

</textarea>
<br /> 	
<br /> <textarea name="code" class="java" cols="60" rows="10">    
svchost.exe:420		TCP	0.0.0.0:135	0.0.0.0:0	LISTENING	
System:8		TCP	0.0.0.0:445	0.0.0.0:0	LISTENING	
System:8		UDP	0.0.0.0:445	*:*		
lsass.exe:232		UDP	0.0.0.0:1028	*:*		
mstask.exe:780		TCP	0.0.0.0:1039	0.0.0.0:0	LISTENING	
winlogon.exe:192	UDP	0.0.0.0:1045	*:*		
OUTLOOK.EXE:1316	UDP	0.0.0.0:1156	*:*		
soeagent.exe:1172	TCP	0.0.0.0:2021	0.0.0.0:0	LISTENING	
SndServ.exe:824		TCP	0.0.0.0:5001	0.0.0.0:0	LISTENING	
winvnc.exe:920		TCP	0.0.0.0:5900	0.0.0.0:0	LISTENING	
FrameworkServic:560	TCP	0.0.0.0:18081	0.0.0.0:0	LISTENING	
FrameworkServic:560	UDP	0.0.0.0:18081	*:*		
FrameworkServic:560	UDP	0.0.0.0:18082	*:*		
IEXPLORE.EXE:1936	UDP	127.0.0.1:1247	*:*		
IEXPLORE.EXE:2352	UDP	127.0.0.1:3178	*:*		
IEXPLORE.EXE:832	UDP	127.0.0.1:4012	*:*		
System:8		UDP	127.0.0.1:137	*:*		
System:8		UDP	127.0.0.1:138	*:*		
System:8		TCP	127.0.0.1:139	0.0.0.0:0	LISTENING	
lsass.exe:232		UDP	127.0.0.1:500	*:*		
System:8		TCP	127.0.0.1:1108	127.0.0.1:445	ESTABLISHED	
System:8		TCP	127.0.0.1:1114	127.0.0.1:445	ESTABLISHED	
OUTLOOK.EXE:1316	TCP	127.0.0.1:1158	127.0.0.1:1384	ESTABLISHED	
winscp413.exe:2088	TCP	127.0.0.1:1239	127.0.0.1:22	ESTABLISHED	
winscp413.exe:1488	TCP	127.0.0.1:1245	127.0.0.1:22	ESTABLISHED	
winscp413.exe:2088	TCP	127.0.0.1:1327	127.0.0.1:22	ESTABLISHED	
&lt;non-existent&gt;:308	TCP	127.0.0.1:1336	127.0.0.1:22	CLOSE_WAIT	
putty.exe:2276		TCP	127.0.0.1:1357	127.0.0.1:22	ESTABLISHED	
OUTLOOK.EXE:1316	TCP	127.0.0.1:1362	127.0.0.1:1314	ESTABLISHED	
winscp413.exe:1488	TCP	127.0.0.1:1467	127.0.0.1:22	ESTABLISHED	
winscp413.exe:1488	TCP	127.0.0.1:1535	127.0.0.1:22	ESTABLISHED	
putty.exe:2308		TCP	127.0.0.1:1553	127.0.0.1:22	ESTABLISHED	
OUTLOOK.EXE:1316	TCP	127.0.0.1:2674	127.0.0.1:1025	ESTABLISHED	
winscp413.exe:2088	TCP	127.0.0.1:2783	127.0.0.1:22	ESTABLISHED	
putty.exe:2952		TCP	127.0.0.1:4069	127.0.0.1:22	ESTABLISHED	
putty.exe:2964		TCP	127.0.0.1:4248	127.0.0.1:22	ESTABLISHED	
[System Process]:0	TCP	127.0.0.1:4306	127.0.0.1:135	TIME_WAIT	
[System Process]:0	TCP	127.0.0.1:4307	127.0.0.1:1025	TIME_WAIT	
[System Process]:0	TCP	127.0.0.1:4310	127.0.0.1:4308	TIME_WAIT	
IEXPLORE.EXE:1936	TCP	127.0.0.1:4319	127.0.0.1:443	CLOSE_WAIT	
OUTLOOK.EXE:1316	TCP	127.0.0.1:4320	127.0.0.1:1384	ESTABLISHED	
lsass.exe:232		UDP	127.0.0.1:4500	*:*		

</textarea></span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Jaikiran Pai, Marshal<br />
  on <span class="lastPostTime">Jan 06, 2009 07:24:39</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">&nbsp;<blockquote>
			<div>
				<cite>Micheal John wrote:</cite>I am getting the same exception, even though I have followed your suggestion of adding the recoverymanager in jboss-4.2.2.GA\server\default\conf\jbossjta-properties.xml
<br /> 
<br /> </div>
		</blockquote>
<br /> 
<br /> You mean exactly the same error message which says port 3700 in use (even after changing to 3800)?
<br /> 
<br /> Can you please repost the exception after you did the changes?</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Micheal John, Ranch Hand<br />
  on <span class="lastPostTime">Jan 06, 2009 19:29:41</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Exception...
<br /> <textarea name="code" class="java" cols="60" rows="10">   
10:14:51,293 INFO  [Server] Starting JBoss (MX MicroKernel)...
10:14:51,355 INFO  [Server] Release ID: JBoss [Trinity] 4.2.2.GA (build: SVNTag=JBoss_4_2_2_GA date=200710221139)
10:14:51,355 INFO  [Server] Home Dir: C:\java\common\bin\jboss-4.2.2.GA
10:14:51,402 INFO  [Server] Home URL: file:/C:/java/common/bin/jboss-4.2.2.GA/
10:14:51,402 INFO  [Server] Patch URL: null
10:14:51,402 INFO  [Server] Server Name: default
10:14:51,402 INFO  [Server] Server Home Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default
10:14:51,402 INFO  [Server] Server Home URL: file:/C:/java/common/bin/jboss-4.2.2.GA/server/default/
10:14:51,402 INFO  [Server] Server Log Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default\log
10:14:51,402 INFO  [Server] Server Temp Dir: C:\java\common\bin\jboss-4.2.2.GA\server\default\tmp
10:14:51,402 INFO  [Server] Root Deployment Filename: jboss-service.xml
10:14:53,215 INFO  [ServerInfo] Java version: 1.5.0_04,Sun Microsystems Inc.
10:14:53,215 INFO  [ServerInfo] Java VM: Java HotSpot(TM) Client VM 1.5.0_04-b05,Sun Microsystems Inc.
10:14:53,215 INFO  [ServerInfo] OS-System: Windows 2000 5.0,x86
10:14:54,965 INFO  [Server] Core system initialized
10:15:01,310 INFO  [ServiceBindingManager] Initializing store
10:15:01,310 INFO  [ServiceBindingManager] Using StoreURL: file:/C:/java/common/bin/jboss-4.2.2.GA/server/default/conf/binding-manager.xml
10:15:06,185 INFO  [WebService] Using RMI server codebase: http://127.0.0.1:8183/
10:15:06,185 INFO  [Log4jService$URLWatchTimerTask] Configuring from URL: resource:jboss-log4j.xml
10:15:12,624 INFO  [TransactionManagerService] JBossTS Transaction Service (JTA version) - JBoss Inc.
10:15:12,624 INFO  [TransactionManagerService] Setting up property manager MBean and JMX layer
10:15:13,687 INFO  [TransactionManagerService] Starting recovery manager
10:15:14,390 INFO  [TransactionManagerService] Recovery manager started
10:15:14,390 INFO  [TransactionManagerService] Binding TransactionManager JNDI Reference
10:15:16,531 ERROR [STDERR] Jan 7, 2009 10:15:16 AM com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl &lt;init&gt;
WARNING: "IOP00410201: (COMM_FAILURE) Connection failure: socketType: IIOP_CLEAR_TEXT; hostname: localhost; port: 3700"
org.omg.CORBA.COMM_FAILURE:   vmcid: SUN  minor code: 201  completed: No
	at com.sun.corba.ee.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2257)
	at com.sun.corba.ee.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2278)
	at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:208)
	at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:221)
	at com.sun.corba.ee.impl.transport.SocketOrChannelContactInfoImpl.createConnection(SocketOrChannelContactInfoImpl.java:104)
	at com.sun.corba.ee.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:152)
	at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:146)
	at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.is_a(CorbaClientDelegateImpl.java:286)
	at org.omg.CORBA.portable.ObjectImpl._is_a(ObjectImpl.java:112)
	at org.omg.CosNaming.NamingContextHelper.narrow(NamingContextHelper.java:69)
	at com.sun.enterprise.naming.SerialContext.narrowProvider(SerialContext.java:89)
	at com.sun.enterprise.naming.SerialContext.getProvider(SerialContext.java:128)
	at com.sun.enterprise.naming.SerialContext.rebind(SerialContext.java:380)
	at javax.naming.InitialContext.rebind(InitialContext.java:367)
	at com.arjuna.ats.jta.utils.JNDIManager.bindJTATransactionSynchronizationRegistryImplementation(JNDIManager.java:157)
	at com.arjuna.ats.jta.utils.JNDIManager.bindJTATransactionSynchronizationRegistryImplementation(JNDIManager.java:141)
	at com.arjuna.ats.jbossatx.jta.TransactionManagerService.startService(TransactionManagerService.java:206)
	at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
	at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
	at $Proxy0.start(Unknown Source)
	at org.jboss.system.ServiceController.start(ServiceController.java:417)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
	at $Proxy4.start(Unknown Source)
	at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
	at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
	at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
	at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
	at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:766)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
	at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
	at $Proxy5.deploy(Unknown Source)
	at org.jboss.system.server.ServerImpl.doStart(ServerImpl.java:482)
	at org.jboss.system.server.ServerImpl.start(ServerImpl.java:362)
	at org.jboss.Main.boot(Main.java:200)
	at org.jboss.Main$1.run(Main.java:508)
	at java.lang.Thread.run(Thread.java:595)
Caused by: java.lang.RuntimeException: java.net.ConnectException: Connection refused: connect
	at com.sun.enterprise.iiop.IIOPSSLSocketFactory.createSocket(IIOPSSLSocketFactory.java:336)
	at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:191)
	... 61 more
Caused by: java.net.ConnectException: Connection refused: connect
	at sun.nio.ch.Net.connect(Native Method)
	at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:464)
	at java.nio.channels.SocketChannel.open(SocketChannel.java:146)
	at com.sun.enterprise.iiop.IIOPSSLSocketFactory.createSocket(IIOPSSLSocketFactory.java:320)
	... 62 more
10:15:17,609 ERROR [STDERR] Jan 7, 2009 10:15:17 AM com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl &lt;init&gt;
WARNING: "IOP00410201: (COMM_FAILURE) Connection failure: socketType: IIOP_CLEAR_TEXT; hostname: localhost; port: 3700"
org.omg.CORBA.COMM_FAILURE:   vmcid: SUN  minor code: 201  completed: No
	at com.sun.corba.ee.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2257)
	at com.sun.corba.ee.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2278)
	at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:208)
	at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:221)
	at com.sun.corba.ee.impl.transport.SocketOrChannelContactInfoImpl.createConnection(SocketOrChannelContactInfoImpl.java:104)
	at com.sun.corba.ee.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:152)
	at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:146)
	at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.is_a(CorbaClientDelegateImpl.java:286)
	at org.omg.CORBA.portable.ObjectImpl._is_a(ObjectImpl.java:112)
	at org.omg.CosNaming.NamingContextHelper.narrow(NamingContextHelper.java:69)
	at com.sun.enterprise.naming.SerialContext.narrowProvider(SerialContext.java:89)
	at com.sun.enterprise.naming.SerialContext.getProvider(SerialContext.java:128)
	at com.sun.enterprise.naming.SerialContext.rebind(SerialContext.java:380)
	at javax.naming.InitialContext.rebind(InitialContext.java:367)
	at com.arjuna.ats.jta.utils.JNDIManager.bindJTATransactionSynchronizationRegistryImplementation(JNDIManager.java:157)
	at com.arjuna.ats.jta.utils.JNDIManager.bindJTATransactionSynchronizationRegistryImplementation(JNDIManager.java:141)
	at com.arjuna.ats.jbossatx.jta.TransactionManagerService.startService(TransactionManagerService.java:206)
	at org.jboss.system.ServiceMBeanSupport.jbossInternalStart(ServiceMBeanSupport.java:289)
	at org.jboss.system.ServiceMBeanSupport.jbossInternalLifecycle(ServiceMBeanSupport.java:245)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.system.ServiceController$ServiceProxy.invoke(ServiceController.java:978)
	at $Proxy0.start(Unknown Source)
	at org.jboss.system.ServiceController.start(ServiceController.java:417)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
	at $Proxy4.start(Unknown Source)
	at org.jboss.deployment.SARDeployer.start(SARDeployer.java:302)
	at org.jboss.deployment.MainDeployer.start(MainDeployer.java:1025)
	at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:819)
	at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:782)
	at org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:766)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.jboss.mx.interceptor.ReflectedDispatcher.invoke(ReflectedDispatcher.java:155)
	at org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
	at org.jboss.mx.interceptor.AbstractInterceptor.invoke(AbstractInterceptor.java:133)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
	at org.jboss.mx.interceptor.ModelMBeanOperationInterceptor.invoke(ModelMBeanOperationInterceptor.java:142)
	at org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
	at org.jboss.mx.server.AbstractMBeanInvoker.invoke(AbstractMBeanInvoker.java:264)
	at org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:659)
	at org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:210)
	at $Proxy5.deploy(Unknown Source)
	at org.jboss.system.server.ServerImpl.doStart(ServerImpl.java:482)
	at org.jboss.system.server.ServerImpl.start(ServerImpl.java:362)
	at org.jboss.Main.boot(Main.java:200)
	at org.jboss.Main$1.run(Main.java:508)
	at java.lang.Thread.run(Thread.java:595)
Caused by: java.lang.RuntimeException: java.net.ConnectException: Connection refused: connect
	at com.sun.enterprise.iiop.IIOPSSLSocketFactory.createSocket(IIOPSSLSocketFactory.java:336)
	at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.&lt;init&gt;(SocketOrChannelConnectionImpl.java:191)
	... 61 more
Caused by: java.net.ConnectException: Connection refused: connect
	at sun.nio.ch.Net.connect(Native Method)
	at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:464)
	at java.nio.channels.SocketChannel.open(SocketChannel.java:146)
	at com.sun.enterprise.iiop.IIOPSSLSocketFactory.createSocket(IIOPSSLSocketFactory.java:320)
	... 62 more
 </textarea>
<br /> 
<br /> jbossjta-properties.xml in C:\java\common\bin\jboss-4.2.2.GA\server\default\conf:
<br /> <textarea name="code" class="java" cols="60" rows="10">    
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;transaction-service&gt;
    &lt;properties depends="common" name="arjuna"&gt;
        &lt;!--
        Transaction Reaper Timeout (default is 120000 ms).
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.coordinator.txReaperTimeout" value="120000"/&gt;
        &lt;!--
        Transaction Reaper Mode, can be: NORMAL or DYNAMIC (default is NORMAL).
      --&gt;
        &lt;property name="com.arjuna.ats.arjuna.coordinator.txReaperMode" value="DYNAMIC"/&gt;
        &lt;!--
        (default is NO)
      --&gt;
        &lt;property name="com.arjuna.ats.arjuna.coordinator.asyncCommit" value="NO"/&gt;
        &lt;!--
        (default is NO)
      --&gt;
        &lt;property name="com.arjuna.ats.arjuna.coordinator.asyncPrepare" value="NO"/&gt;
        &lt;!--
        (default is YES)
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.coordinator.commitOnePhase" value="YES"/&gt;
        &lt;!--
        (default is defaultStore)
      --&gt;
        &lt;property name="com.arjuna.ats.arjuna.objectstore.localOSRoot" value="defaultStore"/&gt;
        &lt;!--
        default is under user.home - must be writeable!)
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.objectstore.objectStoreDir" value="PutObjectStoreDirHere"/&gt;
        &lt;!--
        (default is ON)
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.objectstore.objectStoreSync" value="ON"/&gt;
        &lt;!--
        (default is ShadowNoFileLockStore)
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.objectstore.objectStoreType" value="ShadowNoFileLockStore"/&gt;
        &lt;!--
        (default is 255)
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.objectstore.hashedDirectories" value="255"/&gt;
        &lt;!--
        (default is ON)
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.objectstore.transactionSync" value="ON"/&gt;
        &lt;!--
        (Must be unique across all Arjuna instances.)
      --&gt;
        &lt;property name="com.arjuna.ats.arjuna.xa.nodeIdentifier" value="1"/&gt;
        &lt;!-- property
        name="com.arjuna.ats.arjuna.coordinator.actionStore"
		value="HashedActionStore"
		value="JDBCActionStore"
      --&gt;
        &lt;!-- property
        name="com.arjuna.ats.arjuna.objectstore.jdbcTxDbAccess"
		value="JDBCAccess"
      --&gt;
        &lt;!-- property
        name="com.arjuna.ats.arjuna.objectstore.objectStoreType"
		value="ShadowNoFileLockStore"
		value="JDBCStore"
      --&gt;
        &lt;!-- property
        name="com.arjuna.ats.arjuna.objectstore.jdbcUserDbAccess"
		value="JDBCAccess"
      --&gt;
        &lt;!-- property
        name="com.arjuna.ats.arjuna.objectstore.jdbcPoolSizeInitial"
		value="1"
      --&gt;
        &lt;!-- property
        name="com.arjuna.ats.arjuna.objectstore.jdbcPoolSizeMaximum"
		value="1"
      --&gt;
        &lt;!-- property
        name="com.arjuna.ats.arjuna.objectstore.jdbcPoolPutConnections"
		value="false"
      --&gt;
        &lt;!-- property
        name="com.arjuna.ats.arjuna.internal.arjuna.objectstore.cacheStore.size"
		value=""
      --&gt;
        &lt;!-- property
        name="com.arjuna.ats.arjuna.internal.arjuna.objectstore.cacheStore.period"
		value=""
      --&gt;
        &lt;!--
        The location for creating temporary files, e.g., Uids.
        Default is under user.home.
        IMPORTANT: make sure the directory is lockable, e.g., /tmp on Unix
        may not be!
      --&gt;
        &lt;!--
        &lt;property
          name="com.arjuna.ats.arjuna.common.varDir"
          value="var"/&gt;
      --&gt;
    &lt;/properties&gt;
    &lt;properties name="common"&gt;
        &lt;!-- CLF 2.0 properties --&gt;
        &lt;property name="com.arjuna.common.util.logging.DebugLevel"
            type="System" value="0x00000000"/&gt;
        &lt;property name="com.arjuna.common.util.logging.FacilityLevel"
            type="System" value="0xffffffff"/&gt;
        &lt;property name="com.arjuna.common.util.logging.VisibilityLevel"
            type="System" value="0xffffffff"/&gt;
        &lt;property name="com.arjuna.common.util.logger" type="System" value="log4j"/&gt;
    &lt;/properties&gt;
    &lt;properties depends="arjuna" name="txoj"&gt;
        &lt;!--
        (default is LockStore of installation - must be writeable!)
      --&gt;
        &lt;!--
        &lt;property
          name="com.arjuna.ats.txoj.lockstore.lockStoreDir"
          value="LockStore"/&gt;
      --&gt;
        &lt;!--
        (default is BasicLockStore)
      --&gt;
        &lt;property name="com.arjuna.ats.txoj.lockstore.lockStoreType" value="BasicLockStore"/&gt;
        &lt;!--
        (default is NO)
      --&gt;
        &lt;property name="com.arjuna.ats.txoj.lockstore.multipleLockStore" value="NO"/&gt;
        &lt;!--
        (default is YES)
      --&gt;
        &lt;property name="com.arjuna.ats.txoj.lockstore.singleLockStore" value="YES"/&gt;
        &lt;!--
        (default is YES)
      --&gt;
        &lt;property
            name="com.arjuna.ats.txoj.lockstore.allowNestedLocking" value="YES"/&gt;
    &lt;/properties&gt;
    &lt;properties depends="arjuna" name="jta"&gt;
        &lt;!--
        Support subtransactions in the JTA layer?
        Default is NO.
      --&gt;
        &lt;property name="com.arjuna.ats.jta.supportSubtransactions" value="NO"/&gt;
        &lt;property name="com.arjuna.ats.jta.jtaTMImplementation" value="com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionManagerImple"/&gt;
        &lt;!--
			com.arjuna.ats.internal.jta.transaction.jts.TransactionManagerImple
			--&gt;
        &lt;property name="com.arjuna.ats.jta.jtaUTImplementation" value="com.arjuna.ats.internal.jta.transaction.arjunacore.UserTransactionImple"/&gt;
        &lt;!--
			com.arjuna.ats.internal.jta.transaction.jts.UserTransactionImple
			--&gt;
    &lt;/properties&gt;
    &lt;properties depends="arjuna,txoj,jta" name="recoverymanager"&gt;
        &lt;!--
        Properties used only by the RecoveryManager.
      --&gt;
        &lt;!--
        Periodic recovery settings.
        Time values in this section are in seconds.
      --&gt;
        &lt;!--
        Interval in seconds between initiating the periodic recovery modules.
        Default is 120 seconds.
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.recovery.periodicRecoveryPeriod" value="120"/&gt;
        &lt;!--
        Interval in seconds between first and second pass of periodic recovery.
        Default is 10 seconds.
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.recovery.recoveryBackoffPeriod" value="10"/&gt;
        &lt;!--
        Periodic recovery modules to use.  Invoked in sort-order of names.
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.recovery.recoveryExtension1" value="com.arjuna.ats.internal.arjuna.recovery.AtomicActionRecoveryModule"/&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.recovery.recoveryExtension2" value="com.arjuna.ats.internal.txoj.recovery.TORecoveryModule"/&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.recovery.recoveryExtension3" value="com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule"/&gt;
        &lt;!--
        Expired entry removal
      --&gt;
        &lt;!--
        Expiry scanners to use (order of invocation is random).
        Names must begin with "com.arjuna.ats.arjuna.recovery.expiryScanner"
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.recovery.expiryScannerTransactionStatusManager" value="com.arjuna.ats.internal.arjuna.recovery.ExpiredTransactionStatusManagerScanner"/&gt;
        &lt;!--
        Interval, in hours, between running the expiry scanners.
        This can be quite long. The absolute value determines the interval -
        if the value is negative, the scan will NOT be run until after one
        interval has elapsed. If positive the first scan will be immediately
        after startup. Zero will prevent any scanning.
        Default  = 12 = run immediately, then every 12 hours.
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.recovery.expiryScanInterval" value="12"/&gt;
        &lt;!--
        Age, in hours, for removal of transaction status manager item.
        This should be longer than any ts-using process will remain running.
        Zero = Never removed.  Default is 12.
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.recovery.transactionStatusManagerExpiryTime" value="12"/&gt;
        &lt;!--
        Use this to fix the port on which the TransactionStatusManager listens,
        The default behaviour is to use any free port.
      --&gt;
        &lt;property
            name="com.arjuna.ats.arjuna.recovery.transactionStatusManagerPort" value="0"/&gt;


		

    &lt;/properties&gt;
    &lt;properties depends="jta" name="jdbc"&gt;
        &lt;!--
           property name="com.arjuna.ats.jdbc.isolationLevel" value="TRANSACTION_SERIALIZABLE"/&gt;
        --&gt;
    &lt;/properties&gt;

	&lt;properties depends="arjuna,txoj,jta" name="recoverymanager"&gt;  
		&lt;property name="com.arjuna.ats.arjuna.recovery.recoveryPort" value="3800"/&gt;  
	&lt;/properties&gt;

&lt;/transaction-service&gt;
</textarea>
<br /> 
<br /> jboss-service.xml
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">    
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;!-- $Id: jboss-service.xml 62434 2007-04-19 21:22:50Z dimitris@jboss.org $ --&gt;

&lt;!-- ===================================================================== --&gt;
&lt;!--  JBoss Server Configuration                                           --&gt;
&lt;!-- ===================================================================== --&gt;

&lt;server&gt;

   &lt;!-- Load all jars from the JBOSS_DIST/server/&lt;config&gt;/lib directory. This
     can be restricted to specific jars by specifying them in the archives
     attribute.
    --&gt;
   &lt;classpath codebase="${jboss.server.lib.url:lib}" archives="*"/&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- JSR-77 Single JBoss Server Management Domain                         --&gt;
   &lt;!-- ==================================================================== --&gt;
   &lt;mbean code="org.jboss.management.j2ee.LocalJBossServerDomain"
      name="jboss.management.local:j2eeType=J2EEDomain,name=Manager"&gt;
      &lt;attribute name="MainDeployer"&gt;jboss.system:service=MainDeployer&lt;/attribute&gt;
      &lt;attribute name="SARDeployer"&gt;jboss.system:service=ServiceDeployer&lt;/attribute&gt;
      &lt;attribute name="EARDeployer"&gt;jboss.j2ee:service=EARDeployer&lt;/attribute&gt;
      &lt;attribute name="EJBDeployer"&gt;jboss.ejb:service=EJBDeployer&lt;/attribute&gt;
      &lt;attribute name="RARDeployer"&gt;jboss.jca:service=RARDeployer&lt;/attribute&gt;
      &lt;attribute name="CMDeployer"&gt;jboss.jca:service=ConnectionFactoryDeployer&lt;/attribute&gt;
      &lt;attribute name="WARDeployer"&gt;jboss.web:service=WebServer&lt;/attribute&gt;
      &lt;attribute name="CARDeployer"&gt;jboss.j2ee:service=ClientDeployer&lt;/attribute&gt;
      &lt;attribute name="MailService"&gt;jboss:service=Mail&lt;/attribute&gt;
      &lt;attribute name="JMSService"&gt;jboss.mq:service=DestinationManager&lt;/attribute&gt;
      &lt;attribute name="JNDIService"&gt;jboss:service=Naming&lt;/attribute&gt;
      &lt;attribute name="JTAService"&gt;jboss:service=TransactionManager&lt;/attribute&gt;
      &lt;attribute name="UserTransactionService"&gt;jboss:service=ClientUserTransaction&lt;/attribute&gt;
      &lt;attribute name="RMI_IIOPService"&gt;jboss:service=CorbaORB&lt;/attribute&gt;
   &lt;/mbean&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- XMBean Persistence                                                   --&gt;
   &lt;!-- ==================================================================== --&gt;
   &lt;mbean code="org.jboss.system.pm.AttributePersistenceService"
      name="jboss:service=AttributePersistenceService"
      xmbean-dd="resource:xmdesc/AttributePersistenceService-xmbean.xml"&gt;
      &lt;!-- the AttributePersistenceService is persistent, itself --&gt;

      &lt;!--
      &lt;attribute name="AttributePersistenceManagerClass"&gt;org.jboss.system.pm.XMLAttributePersistenceManager&lt;/attribute&gt;
      &lt;attribute name="AttributePersistenceManagerConfig"&gt;
         &lt;data-directory&gt;data/xmbean-attrs&lt;/data-directory&gt;
      &lt;/attribute&gt;
      &lt;attribute name="ApmDestroyOnServiceStop"&gt;false&lt;/attribute&gt;
      &lt;attribute name="VersionTag"&gt;&lt;/attribute&gt;
      --&gt;
   &lt;/mbean&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Thread Pool                                                          --&gt;
   &lt;!-- ==================================================================== --&gt;
   
   &lt;!-- A Thread pool service --&gt;
   &lt;mbean code="org.jboss.util.threadpool.BasicThreadPool"
      name="jboss.system:service=ThreadPool"&gt;
      &lt;attribute name="Name"&gt;JBoss System Threads&lt;/attribute&gt;
      &lt;attribute name="ThreadGroupName"&gt;System Threads&lt;/attribute&gt;
      &lt;!-- How long a thread will live without any tasks in MS --&gt;
      &lt;attribute name="KeepAliveTime"&gt;60000&lt;/attribute&gt;
      &lt;!-- The max number of threads in the pool --&gt;
      &lt;attribute name="MaximumPoolSize"&gt;10&lt;/attribute&gt;
      &lt;!-- The max number of tasks before the queue is full --&gt;
      &lt;attribute name="MaximumQueueSize"&gt;1000&lt;/attribute&gt;
      &lt;!-- The behavior of the pool when a task is added and the queue is full.
      abort - a RuntimeException is thrown
      run - the calling thread executes the task
      wait - the calling thread blocks until the queue has room
      discard - the task is silently discarded without being run
      discardOldest - check to see if a task is about to complete and enque
         the new task if possible, else run the task in the calling thread
      --&gt;
      &lt;attribute name="BlockingMode"&gt;run&lt;/attribute&gt;
   &lt;/mbean&gt;

   &lt;!-- Preload all custom editors for VMs that don't use the thread
        context class loader when searching for PropertyEditors. Uncomment
        if your JDK 1.3.0 VM fails to find JBoss PropertyEditors.
   &lt;mbean code="org.jboss.varia.property.PropertyEditorManagerService"
     name="jboss:type=Service,name=BootstrapEditors"&gt;
     &lt;attribute name="BootstrapEditors"&gt;
       java.math.BigDecimal=org.jboss.util.propertyeditor.BigDecimalEditor
       java.lang.Boolean=org.jboss.util.propertyeditor.BooleanEditor
       java.lang.Class=org.jboss.util.propertyeditor.ClassEditor
       java.util.Date=org.jboss.util.propertyeditor.DateEditor
       java.io.File=org.jboss.util.propertyeditor.FileEditor
       java.net.InetAddress=org.jboss.util.propertyeditor.InetAddressEditor
       java.lang.Integer=org.jboss.util.propertyeditor.IntegerEditor
       javax.management.ObjectName=org.jboss.mx.util.propertyeditor.ObjectNameEditor
       java.util.Properties=org.jboss.util.propertyeditor.PropertiesEditor
       [Ljava.lang.String;=org.jboss.util.propertyeditor.StringArrayEditor
       java.net.URL=org.jboss.util.propertyeditor.URLEditor
     &lt;/attribute&gt;
   &lt;/mbean&gt;
   --&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Log4j Initialization                                                 --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;mbean code="org.jboss.logging.Log4jService"
      name="jboss.system:type=Log4jService,service=Logging"
	  xmbean-dd="resource:xmdesc/Log4jService-xmbean.xml"&gt;
      &lt;attribute name="ConfigurationURL"&gt;resource:jboss-log4j.xml&lt;/attribute&gt;
      &lt;!-- Set the org.apache.log4j.helpers.LogLog.setQuiteMode. As of log4j1.2.8
      this needs to be set to avoid a possible deadlock on exception at the
      appender level. See bug#696819.
      --&gt;
      &lt;attribute name="Log4jQuietMode"&gt;true&lt;/attribute&gt;
      &lt;!-- How frequently in seconds the ConfigurationURL is checked for changes --&gt;
      &lt;attribute name="RefreshPeriod"&gt;60&lt;/attribute&gt;
   &lt;/mbean&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Active Alarm Table                                                   --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;!--
      | The ActiveAlarmTable service is a simple JMX notification listener
      | that maintains a table with the received notifications (alarms).
      | The alarms can be acknowledged through the jmx or the web console.
      | Modify the SubscriptionList below to subscribe for any notification
      | in the system and treat it as an alarm.
      | The JMXNotificationAppender is a log4j Appender that can be configured
      | in log4j.xml, that trasforms logging events to JMX notification so they
      | can be fed back into the table. By storing the WARN or higher level logging
      | events you can have a quick view of important system faults.
      |
      | The following attributes may be set:
      |
      | MaxTableSize (default 1000)
      |  - set an upper limit to the number of stored alarms
      | LogLevel (default DEBUG)
      |  - the log level to use for received notification, can be set to NONE
      | ServerId (default jboss)
      |  - used to construct unique alarm ids
      | SubscriptionList
      |  - subscribe for the notifications to be stored in the table

   &lt;mbean code="org.jboss.monitor.services.ActiveAlarmTable"
          name="jboss.monitor:service=ActiveAlarmTable"&gt;
      &lt;attribute name="SubscriptionList"&gt;
         &lt;subscription-list&gt;
            &lt;mbean name="jboss.monitor:*"&gt;
               &lt;notification type="jboss.alarm"/&gt;
               &lt;notification type="JBOSS_MONITOR_NOTIFICATION"/&gt;
            &lt;/mbean&gt;
            &lt;mbean name="jboss.system:service=Logging,type=JMXNotificationAppender"/&gt;
         &lt;/subscription-list&gt;
      &lt;/attribute&gt;
   &lt;/mbean&gt;
   --&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- JBoss RMI Classloader - only install when available                  --&gt;
   &lt;!-- ==================================================================== --&gt;
   &lt;mbean code="org.jboss.util.property.jmx.SystemPropertyClassValue"
      name="jboss.rmi:type=RMIClassLoader"&gt;
      &lt;attribute name="Property"&gt;java.rmi.server.RMIClassLoaderSpi&lt;/attribute&gt;
      &lt;attribute name="ClassName"&gt;org.jboss.system.JBossRMIClassLoader&lt;/attribute&gt;
   &lt;/mbean&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Service Binding                                                      --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;!-- Automatically activated when generatting the clustering environment --&gt;
   &lt;!-- @TESTSUITE_CLUSTER_CONFIG@ --&gt;

   
      | Binding service manager for port/host mapping. This is a sample
      | config that demonstrates a JBoss instances with a server name 'ports-01'
      | loading its bindings from an XML file using the ServicesStoreFactory
      | implementation returned by the XMLServicesStoreFactory.
      |
      | ServerName: The unique name assigned to a JBoss server instance for
      | lookup purposes. This allows a single ServicesStore to handle mulitiple
      | JBoss servers.
      |
      | StoreURL: The URL string passed to org.jboss.services.binding.ServicesStore
      | during initialization that specifies how to connect to the bindings store.
      | StoreFactory: The org.jboss.services.binding.ServicesStoreFactory interface
      | implementation to create to obtain the ServicesStore instance.

   &lt;mbean code="org.jboss.services.binding.ServiceBindingManager"
     name="jboss.system:service=ServiceBindingManager"&gt;
     &lt;attribute name="ServerName"&gt;ports-01&lt;/attribute&gt;
     &lt;!--attribute name="StoreURL"&gt;${jboss.home.url}/docs/examples/binding-manager/sample-bindings.xml&lt;/attribute--&gt;
    &lt;attribute name="StoreURL"&gt;${jboss.server.base.dir}/${jboss.server.name}/conf/binding-manager.xml&lt;/attribute&gt;
     &lt;attribute name="StoreFactoryClassName"&gt;
       org.jboss.services.binding.XMLServicesStoreFactory
     &lt;/attribute&gt;
   &lt;/mbean&gt;
   

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Class Loading                                                        --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;!-- A mini webserver used for dynamic and class and resource loading --&gt; 
   &lt;mbean code="org.jboss.web.WebService"
      name="jboss:service=WebService"&gt;
      &lt;!-- The Bind address and Port --&gt;
      &lt;attribute name="BindAddress"&gt;${jboss.bind.address}&lt;/attribute&gt;      
      &lt;attribute name="Port"&gt;18083&lt;/attribute&gt;
      &lt;!--  The address to use for the host portion of the RMI codebase URL --&gt;
      &lt;attribute name="Host"&gt;${java.rmi.server.hostname}&lt;/attribute&gt;
      &lt;!-- Should non-EJB .class files be downloadable --&gt;
      &lt;attribute name="DownloadServerClasses"&gt;true&lt;/attribute&gt;
      &lt;!-- Should resources other than .class files be downloadable. Both
         DownloadServerClasses and DownloadResources must be true for resources
         to be downloadable. This is false by default because its generally a
         bad idea as server configuration files that container security
         information can be accessed.
       --&gt;
      &lt;attribute name="DownloadResources"&gt;false&lt;/attribute&gt;

      &lt;!-- Use the default thread pool for dynamic class loading --&gt;
      &lt;depends optional-attribute-name="ThreadPool"
         proxy-type="attribute"&gt;jboss.system:service=ThreadPool&lt;/depends&gt;
   &lt;/mbean&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- JNDI                                                                 --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;!-- A simple mbean wrapper around the jndi Naming object. This
   only handles an in memory instance. The NamingService uses this
   as the JNDI store and exposes it remotely.
   --&gt;
   &lt;mbean code="org.jnp.server.NamingBeanImpl"
      name="jboss:service=NamingBeanImpl"
      xmbean-dd="resource:xmdesc/NamingBean-xmbean.xml"&gt;
   &lt;/mbean&gt;
   
   &lt;mbean code="org.jboss.naming.NamingService"
      name="jboss:service=Naming"
      xmbean-dd="resource:xmdesc/NamingService-xmbean.xml"&gt;
      &lt;!-- The call by value mode. true if all lookups are unmarshalled using
         the caller's TCL, false if in VM lookups return the value by reference.
      --&gt;
      &lt;attribute name="CallByValue"&gt;false&lt;/attribute&gt;
      &lt;!-- The listening port for the bootstrap JNP service. Set this to -1
         to run the NamingService without the JNP invoker listening port.
      --&gt;
      &lt;attribute name="Port"&gt;11099&lt;/attribute&gt;
      &lt;!-- The bootstrap JNP server bind address. This also sets the default
         RMI service bind address. Empty == all addresses
      --&gt;
      &lt;attribute name="BindAddress"&gt;${jboss.bind.address}&lt;/attribute&gt;
      &lt;!-- The port of the RMI naming service, 0 == anonymous --&gt;
      &lt;attribute name="RmiPort"&gt;1098&lt;/attribute&gt;
      &lt;!-- The RMI service bind address. Empty == all addresses
      --&gt;
      &lt;attribute name="RmiBindAddress"&gt;${jboss.bind.address}&lt;/attribute&gt;
      &lt;!-- The thread pool service used to control the bootstrap lookups --&gt;
      &lt;depends optional-attribute-name="LookupPool"
         proxy-type="attribute"&gt;jboss.system:service=ThreadPool&lt;/depends&gt;
      &lt;!-- An example of using the unifed invoker as the transport.
         &lt;depends optional-attribute-name="InvokerProxyFactory"
         proxy-type="attribute"&gt;jboss:service=proxyFactory,type=unified,target=Naming&lt;/depends&gt;
      --&gt;
      &lt;depends optional-attribute-name="Naming"
         proxy-type="attribute"&gt;jboss:service=NamingBeanImpl&lt;/depends&gt;
   &lt;/mbean&gt;
   
   &lt;mbean code="org.jboss.naming.JNDIView"
   	name="jboss:service=JNDIView"
   	xmbean-dd="resource:xmdesc/JNDIView-xmbean.xml"&gt;
   	&lt;!-- The HANamingService service name --&gt;
   	&lt;attribute name="HANamingService"&gt;jboss:service=HAJNDI&lt;/attribute&gt;
   &lt;/mbean&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Security                                                             --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;mbean code="org.jboss.security.plugins.SecurityConfig"
      name="jboss.security:service=SecurityConfig"&gt;
      &lt;attribute name="LoginConfig"&gt;jboss.security:service=XMLLoginConfig&lt;/attribute&gt;
   &lt;/mbean&gt;
   &lt;mbean code="org.jboss.security.auth.login.XMLLoginConfig"
      name="jboss.security:service=XMLLoginConfig"&gt;
      &lt;attribute name="ConfigResource"&gt;login-config.xml&lt;/attribute&gt;
   &lt;/mbean&gt;

   &lt;!-- JAAS security manager and realm mapping --&gt;
   &lt;mbean code="org.jboss.security.plugins.JaasSecurityManagerService"
      name="jboss.security:service=JaasSecurityManager"&gt;
      &lt;!-- A flag which indicates whether the SecurityAssociation server mode
      is set on service creation. This is true by default since the
      SecurityAssociation should be thread local for multi-threaded server
      operation.
      --&gt;
      &lt;attribute name="ServerMode"&gt;true&lt;/attribute&gt;
      &lt;attribute name="SecurityManagerClassName"&gt;org.jboss.security.plugins.JaasSecurityManager&lt;/attribute&gt;
      &lt;attribute name="DefaultUnauthenticatedPrincipal"&gt;anonymous&lt;/attribute&gt;
      &lt;!-- DefaultCacheTimeout: Specifies the default timed cache policy timeout
      in seconds.
      If you want to disable caching of security credentials, set this to 0 to
      force authentication to occur every time. This has no affect if the
      AuthenticationCacheJndiName has been changed from the default value.
      --&gt;
      &lt;attribute name="DefaultCacheTimeout"&gt;1800&lt;/attribute&gt;
      &lt;!-- DefaultCacheResolution: Specifies the default timed cache policy
      resolution in seconds. This controls the interval at which the cache
      current timestamp is updated and should be less than the DefaultCacheTimeout
      in order for the timeout to be meaningful. This has no affect if the
      AuthenticationCacheJndiName has been changed from the default value.
      --&gt;
      &lt;attribute name="DefaultCacheResolution"&gt;60&lt;/attribute&gt;
      &lt;!-- DeepCopySubjectMode: This set the copy mode of subjects done by the
      security managers to be deep copies that makes copies of the subject
      principals and credentials if they are cloneable. It should be set to
      true if subject include mutable content that can be corrupted when
      multiple threads have the same identity and cache flushes/logout clearing
      the subject in one thread results in subject references affecting other
      threads.
      --&gt;
      &lt;attribute name="DeepCopySubjectMode"&gt;false&lt;/attribute&gt;
   &lt;/mbean&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Transactions                                                         --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;!-- The configurable Xid factory.  For use with Oracle, set pad to true --&gt;
   &lt;mbean code="org.jboss.tm.XidFactory"
      name="jboss:service=XidFactory"&gt;
      &lt;!--attribute name="Pad"&gt;true&lt;/attribute--&gt;
   &lt;/mbean&gt;

   &lt;!--
      | The fast in-memory transaction manager.
      | Deprecated in JBossAS v4.2. Use JBossTS JTA instead.
    - -&gt;
   &lt;mbean code="org.jboss.tm.TransactionManagerService"
      name="jboss:service=TransactionManager"
      xmbean-dd="resource:xmdesc/TransactionManagerService-xmbean.xml"&gt;
      &lt;attribute name="TransactionTimeout"&gt;300&lt;/attribute&gt;
      &lt;!- - set to false to disable transaction demarcation over IIOP - -&gt;
      &lt;attribute name="GlobalIdsEnabled"&gt;true&lt;/attribute&gt;
      &lt;depends optional-attribute-name="XidFactory"&gt;jboss:service=XidFactory&lt;/depends&gt;

      &lt;!- - Transaction Integrity Checking - -&gt;
      &lt;!- - Force a rollback if another thread is associated with the transaction at commit - -&gt;
      &lt;!- - &lt;depends optional-attribute-name="TransactionIntegrityFactory"
               proxy-type="org.jboss.tm.integrity.TransactionIntegrityFactory"&gt;
         &lt;mbean code="org.jboss.tm.integrity.FailIncompleteTransaction"
                name="jboss:service=TransactionManager,plugin=TransactionIntegrity"/&gt;
      &lt;/depends&gt; - -&gt;
   &lt;/mbean&gt;
   --&gt;

   &lt;!-- JBoss Transactions JTA --&gt;
   &lt;mbean code="com.arjuna.ats.jbossatx.jta.TransactionManagerService"
      name="jboss:service=TransactionManager"&gt;
      &lt;attribute name="TransactionTimeout"&gt;300&lt;/attribute&gt;
      &lt;attribute name="ObjectStoreDir"&gt;${jboss.server.data.dir}/tx-object-store&lt;/attribute&gt; 
   &lt;/mbean&gt;

   &lt;!--
      | UserTransaction support.
    --&gt;
   &lt;mbean code="org.jboss.tm.usertx.server.ClientUserTransactionService"
      name="jboss:service=ClientUserTransaction"
      xmbean-dd="resource:xmdesc/ClientUserTransaction-xmbean.xml"&gt;
      &lt;depends&gt;
         &lt;mbean code="org.jboss.invocation.jrmp.server.JRMPProxyFactory"
            name="jboss:service=proxyFactory,target=ClientUserTransactionFactory"&gt;
            &lt;attribute name="InvokerName"&gt;jboss:service=invoker,type=jrmp&lt;/attribute&gt;
            &lt;attribute name="TargetName"&gt;jboss:service=ClientUserTransaction&lt;/attribute&gt;
            &lt;attribute name="JndiName"&gt;UserTransactionSessionFactory&lt;/attribute&gt;
            &lt;attribute name="ExportedInterface"&gt;org.jboss.tm.usertx.interfaces.UserTransactionSessionFactory&lt;/attribute&gt;
            &lt;attribute name="ClientInterceptors"&gt;
               &lt;interceptors&gt;
                  &lt;interceptor&gt;org.jboss.proxy.ClientMethodInterceptor&lt;/interceptor&gt;
                  &lt;interceptor&gt;org.jboss.invocation.InvokerInterceptor&lt;/interceptor&gt;
               &lt;/interceptors&gt;
            &lt;/attribute&gt;
            &lt;depends&gt;jboss:service=invoker,type=jrmp&lt;/depends&gt;
         &lt;/mbean&gt;
      &lt;/depends&gt;
      &lt;depends optional-attribute-name="TxProxyName"&gt;
         &lt;mbean code="org.jboss.invocation.jrmp.server.JRMPProxyFactory"
            name="jboss:service=proxyFactory,target=ClientUserTransaction"&gt;
            &lt;attribute name="InvokerName"&gt;jboss:service=invoker,type=jrmp&lt;/attribute&gt;
            &lt;attribute name="TargetName"&gt;jboss:service=ClientUserTransaction&lt;/attribute&gt;
            &lt;attribute name="JndiName"&gt;&lt;/attribute&gt;
            &lt;attribute name="ExportedInterface"&gt;org.jboss.tm.usertx.interfaces.UserTransactionSession&lt;/attribute&gt;
            &lt;attribute name="ClientInterceptors"&gt;
               &lt;interceptors&gt;
                  &lt;interceptor&gt;org.jboss.proxy.ClientMethodInterceptor&lt;/interceptor&gt;
                  &lt;interceptor&gt;org.jboss.invocation.InvokerInterceptor&lt;/interceptor&gt;
               &lt;/interceptors&gt;
            &lt;/attribute&gt;
            &lt;depends&gt;jboss:service=invoker,type=jrmp&lt;/depends&gt;
         &lt;/mbean&gt;
      &lt;/depends&gt;
   &lt;/mbean&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Invokers to the JMX node                                             --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;!-- Unified invoker (based on remoting) --&gt;
   &lt;mbean code="org.jboss.invocation.unified.server.UnifiedInvoker"
      name="jboss:service=invoker,type=unified"&gt;
      &lt;!-- To turn on strict RMI exception propagation uncomment block below --&gt;
      &lt;!-- This will cause the UnifiedInvokerProxy to wrap RemoteExceptions  --&gt;
      &lt;!-- within a ServerException, otherwise will throw root exception     --&gt;
      &lt;!-- (not RemoteException)                                             --&gt;
      &lt;!-- &lt;attribute name="StrictRMIException"&gt;true&lt;/attribute&gt; --&gt;
      &lt;depends&gt;jboss:service=TransactionManager&lt;/depends&gt;
      &lt;depends&gt;jboss.remoting:service=Connector,transport=socket&lt;/depends&gt;
   &lt;/mbean&gt;

   &lt;!-- RMI/JRMP invoker --&gt;
   &lt;mbean code="org.jboss.invocation.jrmp.server.JRMPInvoker"
      name="jboss:service=invoker,type=jrmp"&gt;
      &lt;attribute name="RMIObjectPort"&gt;14444&lt;/attribute&gt;
      &lt;attribute name="ServerAddress"&gt;${jboss.bind.address}&lt;/attribute&gt;
      &lt;!--
      &lt;attribute name="RMIClientSocketFactory"&gt;custom&lt;/attribute&gt;
      &lt;attribute name="RMIServerSocketFactory"&gt;custom&lt;/attribute&gt;
      &lt;attribute name="RMIServerSocketAddr"&gt;custom&lt;/attribute&gt;
      &lt;attribute name="SecurityDomain"&gt;ssl-domain-name&lt;/attribute&gt;
      --&gt;
      &lt;depends&gt;jboss:service=TransactionManager&lt;/depends&gt;
   &lt;/mbean&gt;

   &lt;mbean code="org.jboss.invocation.local.LocalInvoker"
      name="jboss:service=invoker,type=local"&gt;

      &lt;depends&gt;jboss:service=TransactionManager&lt;/depends&gt;
   &lt;/mbean&gt;

   &lt;mbean code="org.jboss.invocation.pooled.server.PooledInvoker"
      name="jboss:service=invoker,type=pooled"&gt;
      &lt;attribute name="NumAcceptThreads"&gt;1&lt;/attribute&gt;
      &lt;attribute name="MaxPoolSize"&gt;300&lt;/attribute&gt;
      &lt;attribute name="ClientMaxPoolSize"&gt;300&lt;/attribute&gt;
      &lt;attribute name="SocketTimeout"&gt;60000&lt;/attribute&gt;
      &lt;attribute name="ServerBindAddress"&gt;${jboss.bind.address}&lt;/attribute&gt;
      &lt;attribute name="ServerBindPort"&gt;4445&lt;/attribute&gt;
      &lt;attribute name="ClientConnectAddress"&gt;${jboss.bind.address}&lt;/attribute&gt;
      &lt;attribute name="ClientConnectPort"&gt;0&lt;/attribute&gt;
      &lt;attribute name="ClientRetryCount"&gt;1&lt;/attribute&gt;
      &lt;attribute name="EnableTcpNoDelay"&gt;false&lt;/attribute&gt;

      &lt;!-- Customized socket factory attributes
      &lt;attribute name="ClientSocketFactoryName"&gt;custom.client.factory&lt;/attribute&gt;
      &lt;attribute name="ServerSocketFactoryName"&gt;custom.server.factory&lt;/attribute&gt;
      &lt;attribute name="SslDomain"&gt;java:/jaas/pooledInvoker&lt;/attribute&gt;
      --&gt;
      &lt;depends optional-attribute-name="TransactionManagerService"&gt;jboss:service=TransactionManager&lt;/depends&gt;
   &lt;/mbean&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Remoting services 						                                   --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;!-- For detailed description of all these configuration attributes, please see the --&gt;
   &lt;!-- JBoss Remoting User's Guide or wiki (http://labs.jboss.com/portal/jbossremoting/docs/guide/index.html) --&gt;

    &lt;!-- The NetworkRegistry contains all the local and remote --&gt;
    &lt;!-- servers that it recognizes.  The remote ones registered --&gt;
    &lt;!-- are dependant on the detectors running and which domains --&gt;
    &lt;!-- they are configured to identify.                         --&gt;
    &lt;mbean code="org.jboss.remoting.network.NetworkRegistry"
           name="jboss.remoting:service=NetworkRegistry"/&gt;

   &lt;!-- The Connector is the core component of the remoting server service. --&gt;
   &lt;!-- It binds the remoting invoker (transport protocol, callback configuration, --&gt;
   &lt;!-- data marshalling, etc.) with the invocation handlers.  --&gt;
   &lt;mbean code="org.jboss.remoting.transport.Connector"
          name="jboss.remoting:service=Connector,transport=socket"
          display-name="Socket transport Connector"&gt;

       &lt;!-- Can either just specify the InvokerLocator attribute and not the invoker element in the --&gt;
       &lt;!-- Configuration attribute, or do the full invoker configuration in the in invoker element --&gt;
       &lt;!-- of the Configuration attribute. --&gt;

       &lt;!-- Remember that if you do use more than one param on the uri, will have to include as a CDATA, --&gt;
       &lt;!-- otherwise, parser will complain. --&gt;
       &lt;!-- &lt;attribute name="InvokerLocator"&gt;&lt;![CDATA[socket://${jboss.bind.address}:4446/?datatype=invocation]]&gt;&lt;/attribute&gt; --&gt;

      &lt;attribute name="Configuration"&gt;
         &lt;!-- Using the following &lt;invoker&gt; element instead of the InvokerLocator above because specific attributes needed. --&gt;
         &lt;!-- If wanted to use any of the parameters below, can just add them as parameters to the url above if wanted use the InvokerLocator attribute. --&gt;
         &lt;config&gt;
            &lt;!-- Other than transport type and handler, none of these configurations are required (will just use defaults). --&gt;
            &lt;invoker transport="socket"&gt;
               &lt;attribute name="dataType" isParam="true"&gt;invocation&lt;/attribute&gt;
               &lt;attribute name="marshaller" isParam="true"&gt;org.jboss.invocation.unified.marshall.InvocationMarshaller&lt;/attribute&gt;
               &lt;attribute name="unmarshaller" isParam="true"&gt;org.jboss.invocation.unified.marshall.InvocationUnMarshaller&lt;/attribute&gt;
               &lt;!-- This will be port on which the marshall loader port runs on.  --&gt;
               &lt;!-- &lt;attribute name="loaderport" isParam="true"&gt;4447&lt;/attribute&gt; --&gt;
               &lt;!-- The following are specific to socket invoker --&gt;
               &lt;!-- &lt;attribute name="numAcceptThreads"&gt;1&lt;/attribute&gt;--&gt;
               &lt;!-- &lt;attribute name="maxPoolSize"&gt;303&lt;/attribute&gt;--&gt;
               &lt;!-- &lt;attribute name="clientMaxPoolSize" isParam="true"&gt;304&lt;/attribute&gt;--&gt;
               &lt;attribute name="socketTimeout" isParam="true"&gt;600000&lt;/attribute&gt;
               &lt;attribute name="serverBindAddress"&gt;${jboss.bind.address}&lt;/attribute&gt;
               &lt;attribute name="serverBindPort"&gt;4446&lt;/attribute&gt;
               &lt;!-- &lt;attribute name="clientConnectAddress"&gt;216.23.33.2&lt;/attribute&gt; --&gt;
               &lt;!-- &lt;attribute name="clientConnectPort"&gt;7777&lt;/attribute&gt; --&gt;
               &lt;attribute name="enableTcpNoDelay" isParam="true"&gt;true&lt;/attribute&gt;
               &lt;!-- &lt;attribute name="backlog"&gt;200&lt;/attribute&gt;--&gt;
               &lt;!-- The following is for callback configuration and is independant of invoker type --&gt;
               &lt;!-- &lt;attribute name="callbackMemCeiling"&gt;30&lt;/attribute&gt;--&gt;
               &lt;!-- indicates callback store by fully qualified class name --&gt;
               &lt;!-- &lt;attribute name="callbackStore"&gt;org.jboss.remoting.CallbackStore&lt;/attribute&gt;--&gt;
               &lt;!-- indicates callback store by object name --&gt;
               &lt;!-- &lt;attribute name="callbackStore"&gt;jboss.remoting:service=CallbackStore,type=Serializable&lt;/attribute&gt; --&gt;
               &lt;!-- config params for callback store.  if were declaring callback store via object name, --&gt;
               &lt;!-- could have specified these config params there. --&gt;
               &lt;!-- StoreFilePath indicates to which directory to write the callback objects. --&gt;
               &lt;!-- The default value is the property value of 'jboss.server.data.dir' and if this is not set, --&gt;
               &lt;!-- then will be 'data'. Will then append 'remoting' and the callback client's session id. --&gt;
               &lt;!-- An example would be 'data\remoting\5c4o05l-9jijyx-e5b6xyph-1-e5b6xyph-2'. --&gt;
               &lt;!-- &lt;attribute name="StoreFilePath"&gt;callback&lt;/attribute&gt;--&gt;
               &lt;!-- StoreFileSuffix indicates the file suffix to use for the callback objects written to disk. --&gt;
               &lt;!-- The default value for file suffix is 'ser'. --&gt;
               &lt;!-- &lt;attribute name="StoreFileSuffix"&gt;cst&lt;/attribute&gt;--&gt;
            &lt;/invoker&gt;

            &lt;!-- At least one handler is required by the connector.  If have more than one, must decalre --&gt;
            &lt;!-- different subsystem values.  Otherwise, all invocations will be routed to the only one --&gt;
            &lt;!-- that is declared. --&gt;
            &lt;handlers&gt;
               &lt;!-- can also specify handler by fully qualified classname --&gt;
               &lt;handler subsystem="invoker"&gt;jboss:service=invoker,type=unified&lt;/handler&gt;
            &lt;/handlers&gt;
         &lt;/config&gt;
      &lt;/attribute&gt;
      &lt;depends&gt;jboss.remoting:service=NetworkRegistry&lt;/depends&gt;
   &lt;/mbean&gt;


   &lt;!-- &lt;mbean code="org.jboss.remoting.detection.jndi.JNDIDetector"--&gt;
   &lt;!--      name="jboss.remoting:service=Detector,transport=jndi"&gt;--&gt;
   &lt;!-- host to which the detector will connect to for the JNDI server. --&gt;
   &lt;!-- &lt;attribute name="Host"&gt;localhost&lt;/attribute&gt;--&gt;
   &lt;!-- port to which detector will connect to for the JNDI server. --&gt;
   &lt;!-- &lt;attribute name="Port"&gt;5555&lt;/attribute&gt;--&gt;
   &lt;!-- context factory string used when connecting to the JNDI server. --&gt;
   &lt;!-- The default is org.jnp.interfaces.NamingContextFactory. --&gt;
   &lt;!-- &lt;attribute name="ContextFactory"&gt;org.acme.NamingContextFactory&lt;/attribute&gt; --&gt;
   &lt;!-- url package string to use when connecting to the JNDI server. --&gt;
   &lt;!-- The default is org.jboss.naming:org.jnp.interfaces. --&gt;
   &lt;!-- &lt;attribute name="URLPackage"&gt;org.acme.naming&lt;/attribute&gt; --&gt;
   &lt;!-- Sets the number of detection iterations before manually pinging --&gt;
   &lt;!-- remote server to make sure still alive. This is needed since remote server --&gt;
   &lt;!-- could crash and yet still have an entry in the JNDI server, --&gt;
   &lt;!-- thus making it appear that it is still there. The default value is 5. --&gt;
   &lt;!-- &lt;attribute name="CleanDetectionNumber"&gt;20&lt;/attribute&gt;--&gt;

   &lt;!-- Specifies the domains in which the detector will recognize --&gt;
   &lt;!-- detections.  If servers are not configured to be in these --&gt;
   &lt;!-- domains, they will not be added to NetworkRegistry. --&gt;
   &lt;!--      &lt;attribute name="Configuration"&gt;--&gt;
   &lt;!--         &lt;domains&gt;--&gt;
   &lt;!--            &lt;domain&gt;roxanne&lt;/domain&gt;--&gt;
   &lt;!--            &lt;domain&gt;sparky&lt;/domain&gt;--&gt;
   &lt;!--         &lt;/domains&gt;--&gt;
   &lt;!--      &lt;/attribute&gt;--&gt;
   &lt;!--   &lt;/mbean&gt;--&gt;


   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Monitoring and Management                                            --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;!-- Uncomment to enable JMX monitoring of the bean cache
   &lt;mbean code="org.jboss.monitor.BeanCacheMonitor"
          name="jboss.monitor:name=BeanCacheMonitor"/&gt;
   --&gt;

   &lt;!-- Uncomment to enable JMX monitoring of the entity bean locking
   &lt;mbean code="org.jboss.monitor.EntityLockMonitor"
          name="jboss.monitor:name=EntityLockMonitor"/&gt;
   --&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- An MBean that is a registry for JDBC type-mapping metadata           --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;mbean code="org.jboss.ejb.plugins.cmp.jdbc.metadata.MetaDataLibrary"
      name="jboss.jdbc:service=metadata"/&gt;

   &lt;!-- ==================================================================== --&gt;
   &lt;!-- Deployment Scanning                                                  --&gt;
   &lt;!-- ==================================================================== --&gt;

   &lt;!-- An mbean for hot deployment/undeployment of archives.
   --&gt;
   &lt;mbean code="org.jboss.deployment.scanner.URLDeploymentScanner"
      name="jboss.deployment:type=DeploymentScanner,flavor=URL"&gt;

      &lt;!-- Uncomment (and comment/remove version below) to enable usage of the
        DeploymentCache
      &lt;depends optional-attribute-name="Deployer"&gt;jboss.deployment:type=DeploymentCache&lt;/depends&gt;
      --&gt;
      &lt;depends optional-attribute-name="Deployer"&gt;jboss.system:service=MainDeployer&lt;/depends&gt;

      &lt;!-- The URLComparator can be used to specify a deployment ordering
           for deployments found in a scanned directory.  The class specified
           must be an implementation of java.util.Comparator, it must be able
           to compare two URL objects, and it must have a no-arg constructor.
           Two deployment comparators are shipped with JBoss:
             - org.jboss.deployment.DeploymentSorter
               Sorts by file extension, as follows:
                 "sar", "service.xml", "rar", "jar", "war", "wsr", "ear", "zip",
                 "*"
             - org.jboss.deployment.scanner.PrefixDeploymentSorter
               If the name portion of the url begins with 1 or more digits, those
               digits are converted to an int (ignoring leading zeroes), and
               files are deployed in that order.  Files that do not start with
               any digits will be deployed first, and they will be sorted by
               extension as above with DeploymentSorter.
      --&gt;
      &lt;attribute name="URLComparator"&gt;org.jboss.deployment.DeploymentSorter&lt;/attribute&gt;

      &lt;!--
      &lt;attribute name="URLComparator"&gt;org.jboss.deployment.scanner.PrefixDeploymentSorter&lt;/attribute&gt;
      --&gt;

      &lt;!-- The FilterInstance specifies a URLLister.URLFilter for scanned
           directories. This DeploymentFilter is initialized with the given
           prefixes, suffixes and matches that define which URLs should be
           ignored.
      --&gt;
      &lt;attribute name="FilterInstance"
         attributeClass="org.jboss.deployment.scanner.DeploymentFilter"
         serialDataType="javaBean"&gt;
         &lt;!-- Files starting with theses strings are ignored --&gt;
         &lt;property name="prefixes"&gt;#,%,\,,.,_$&lt;/property&gt;
         &lt;!-- Files ending with theses strings are ignored --&gt;
         &lt;property name="suffixes"&gt;#,$,%,~,\,v,.BAK,.bak,.old,.orig,.tmp,.rej,.sh&lt;/property&gt;
         &lt;!-- Files matching with theses strings are ignored --&gt;
         &lt;property name="matches"&gt;.make.state,.nse_depinfo,CVS,CVS.admin,RCS,RCSLOG,SCCS,TAGS,core,tags&lt;/property&gt;
      &lt;/attribute&gt;

      &lt;!-- Frequency in milliseconds to rescan the URLs for changes --&gt;
      &lt;attribute name="ScanPeriod"&gt;5000&lt;/attribute&gt;

      &lt;!-- A flag to disable the scans --&gt;
      &lt;attribute name="ScanEnabled"&gt;true&lt;/attribute&gt;

      &lt;!-- URLs are comma separated and resolve relative to the server home URL
         unless the given path is absolute. If the URL ends in "/" it is
         considered a collection and scanned, otherwise it is simply deployed;
         this follows RFC2518 convention and allows discrimination between
         collections and directories that are simply unpacked archives.

         URLs may be local (file:) or remote (http:). Scanning is supported
         for remote URLs but unpacked deployment units are not.

         Example URLs:
            deploy/
                 scans ${jboss.server.url}/deploy/, which is local or remote
                 depending on the URL used to boot the server
            ${jboss.server.home}/deploy/
                 scans ${jboss.server.home)/deploy, which is always local
            file:/var/opt/myapp.ear
                 deploy myapp.ear from a local location
            file:/var/opt/apps/
                 scans the specified directory
            http://www.test.com/netboot/myapp.ear
                 deploys myapp.ear from a remote location
            http://www.test.com/netboot/apps/
                 scans the specified WebDAV location
       --&gt;
      &lt;attribute name="URLs"&gt;
         deploy/
      &lt;/attribute&gt;

      &lt;!-- Indicates if the scanner should recursively scan directories that
      contain no "." in their names. This can be used to group applications
      and services that must be deployed and that have the same
      logical function in the same directory i.e.
        deploy/JMX/
        deploy/JMS/
        ...
      --&gt;
      &lt;attribute name="RecursiveSearch"&gt;True&lt;/attribute&gt;

   &lt;/mbean&gt;

&lt;/server&gt;

</textarea></span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Peter Johnson, Bartender<br />
  on <span class="lastPostTime">Jan 07, 2009 10:42:13</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">As I said, setting the recoveryPort was a wild guess - that value appears in that config file in 5.0 but not in 4.2.x. And it would appear that the value is ignored in 4.2.x.
<br /> 
<br /> Is there any possibility that you could try running on another system, perhaps an XP or Server 2003 system? I want to see if the issue is Windows 2000 related, or perhaps related to that specific host.</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Micheal John, Ranch Hand<br />
  on <span class="lastPostTime">Jan 07, 2009 19:51:13</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Actually, I am using the same JBoss4.2.2.GA in Windows Vista in my home note book. And it's staring properly. 
<br /> Now I am trying same in Windows 2000, but in corporate network. Do you mean to say that JBoss 5.x will work?</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Peter Johnson, Bartender<br />
  on <span class="lastPostTime">Jan 08, 2009 10:31:20</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">No, I am not saying that 5.0 will work, just that the port options appears in 5.0.
<br /> 
<br /> I noticed that you are using JSDK 1.5.0_04. Could you try upgrading to a more recent 1.5?
<br /> 
<br /> If that doesn't fix it, then the problem is probably related to some issue with how Windows 2000 handles sockets, and the JDK's interaction with sockets - you might want to consider upgrading to Server 2003 or 2008 (or to Linux since it's cheaper...)</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Mike Thomson, Ranch Hand<br />
  on <span class="lastPostTime">Jan 08, 2009 20:26:02</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I have tried with JBoss 5.0. But getting some other exception. Actually I am using JBoss Eclipse IDE 1.5 and configured the JBoss  server in it. I have configured under JBoss 4.x, as it don't have JBoss 5.x.  Whether the below exception may due to that? 
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">    
11:22:43,735 INFO  [ServerImpl] Starting JBoss (Microcontainer)...
11:22:43,797 INFO  [ServerImpl] Release ID: JBoss [Morpheus] 5.0.0.GA (build: SVNTag=JBoss_5_0_0_GA date=200812041714)
11:22:43,797 INFO  [ServerImpl] Bootstrap URL: null
11:22:43,797 INFO  [ServerImpl] Home Dir: C:\java\common\bin\jboss-5.0.0.GA
11:22:43,797 INFO  [ServerImpl] Home URL: file:/C:/java/common/bin/jboss-5.0.0.GA/
11:22:43,797 INFO  [ServerImpl] Library URL: file:/C:/java/common/bin/jboss-5.0.0.GA/lib/
11:22:43,797 INFO  [ServerImpl] Patch URL: null
11:22:43,797 INFO  [ServerImpl] Common Base URL: file:/C:/java/common/bin/jboss-5.0.0.GA/common/
11:22:43,813 INFO  [ServerImpl] Common Library URL: file:/C:/java/common/bin/jboss-5.0.0.GA/common/lib/
11:22:43,813 INFO  [ServerImpl] Server Name: default
11:22:43,813 INFO  [ServerImpl] Server Base Dir: C:\java\common\bin\jboss-5.0.0.GA\server
11:22:43,813 INFO  [ServerImpl] Server Base URL: file:/C:/java/common/bin/jboss-5.0.0.GA/server/
11:22:43,813 INFO  [ServerImpl] Server Config URL: file:/C:/java/common/bin/jboss-5.0.0.GA/server/default/conf/
11:22:43,813 INFO  [ServerImpl] Server Home Dir: C:\java\common\bin\jboss-5.0.0.GA\server\default
11:22:43,829 INFO  [ServerImpl] Server Home URL: file:/C:/java/common/bin/jboss-5.0.0.GA/server/default/
11:22:43,829 INFO  [ServerImpl] Server Data Dir: C:\java\common\bin\jboss-5.0.0.GA\server\default\data
11:22:43,829 INFO  [ServerImpl] Server Library URL: file:/C:/java/common/bin/jboss-5.0.0.GA/server/default/lib/
11:22:43,829 INFO  [ServerImpl] Server Log Dir: C:\java\common\bin\jboss-5.0.0.GA\server\default\log
11:22:43,829 INFO  [ServerImpl] Server Native Dir: C:\java\common\bin\jboss-5.0.0.GA\server\default\tmp\native
11:22:43,829 INFO  [ServerImpl] Server Temp Dir: C:\java\common\bin\jboss-5.0.0.GA\server\default\tmp
11:22:43,829 INFO  [ServerImpl] Server Temp Deploy Dir: C:\java\common\bin\jboss-5.0.0.GA\server\default\tmp\deploy
11:22:48,861 INFO  [ServerImpl] Starting Microcontainer, bootstrapURL=file:/C:/java/common/bin/jboss-5.0.0.GA/server/default/conf/bootstrap.xml
11:22:53,189 INFO  [VFSCacheFactory] Initializing VFSCache [org.jboss.virtual.plugins.cache.IterableTimedVFSCache]
11:22:53,252 INFO  [VFSCacheFactory] Using VFSCache [IterableTimedVFSCache{lifetime=1800, resolution=60}]
11:22:54,986 INFO  [CopyMechanism] VFS temp dir: C:\java\common\bin\jboss-5.0.0.GA\server\default\tmp
11:22:55,002 INFO  [ZipEntryContext] VFS force nested jars copy-mode is enabled.
11:23:34,195 INFO  [ServerInfo] Java version: 1.5.0_04,Sun Microsystems Inc.
11:23:34,195 INFO  [ServerInfo] Java VM: Java HotSpot(TM) Client VM 1.5.0_04-b05,Sun Microsystems Inc.
11:23:34,195 INFO  [ServerInfo] OS-System: Windows 2000 5.0,x86
11:23:34,508 INFO  [JMXKernel] Legacy JMX core initialized
11:23:45,009 ERROR [AbstractKernelController] Error installing to Start: name=SARDeployer state=Create
javax.xml.parsers.ParserConfigurationException: jaxp_feature_not_supported: Feature &quot;http://apache.org/xml/features/xinclude/fixup-language&quot; is not supported.
	at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl.setFeature(DocumentBuilderFactoryImpl.java:207)
	at org.jboss.deployers.vfs.spi.deployer.JAXPDeployer$1.setFeature(JAXPDeployer.java:149)
	at org.jboss.deployers.vfs.spi.deployer.JAXPDeployer$1.setFeature(JAXPDeployer.java:147)
	at org.jboss.deployers.vfs.spi.deployer.UnmarshallerFactoryDeployer.start(UnmarshallerFactoryDeployer.java:82)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.jboss.reflect.plugins.introspection.ReflectionUtils.invoke(ReflectionUtils.java:59)
	at org.jboss.reflect.plugins.introspection.ReflectMethodInfoImpl.invoke(ReflectMethodInfoImpl.java:150)
	at org.jboss.joinpoint.plugins.BasicMethodJoinPoint.dispatch(BasicMethodJoinPoint.java:66)
	at org.jboss.kernel.plugins.dependency.KernelControllerContextAction$JoinpointDispatchWrapper.execute(KernelControllerContextAction.java:241)
	at org.jboss.kernel.plugins.dependency.ExecutionWrapper.execute(ExecutionWrapper.java:47)
	at org.jboss.kernel.plugins.dependency.KernelControllerContextAction.dispatchExecutionWrapper(KernelControllerContextAction.java:109)
	at org.jboss.kernel.plugins.dependency.KernelControllerContextAction.dispatchJoinPoint(KernelControllerContextAction.java:70)
	at org.jboss.kernel.plugins.dependency.LifecycleAction.installActionInternal(LifecycleAction.java:221)
	at org.jboss.kernel.plugins.dependency.InstallsAwareAction.installAction(InstallsAwareAction.java:54)
	at org.jboss.kernel.plugins.dependency.InstallsAwareAction.installAction(InstallsAwareAction.java:42)
	at org.jboss.dependency.plugins.action.SimpleControllerContextAction.simpleInstallAction(SimpleControllerContextAction.java:62)
	at org.jboss.dependency.plugins.action.AccessControllerContextAction.install(AccessControllerContextAction.java:71)
	at org.jboss.dependency.plugins.AbstractControllerContextActions.install(AbstractControllerContextActions.java:51)
	at org.jboss.dependency.plugins.AbstractControllerContext.install(AbstractControllerContext.java:348)
	at org.jboss.dependency.plugins.AbstractController.install(AbstractController.java:1598)
	at org.jboss.dependency.plugins.AbstractController.incrementState(AbstractController.java:934)
	at org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:1062)
	at org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:984)
	at org.jboss.dependency.plugins.AbstractController.install(AbstractController.java:774)
	at org.jboss.dependency.plugins.AbstractController.install(AbstractController.java:540)
	at org.jboss.kernel.plugins.deployment.AbstractKernelDeployer.deployBean(AbstractKernelDeployer.java:331)
	at org.jboss.kernel.plugins.deployment.AbstractKernelDeployer.deployBeans(AbstractKernelDeployer.java:309)
	at org.jboss.kernel.plugins.deployment.AbstractKernelDeployer.deploy(AbstractKernelDeployer.java:130)
	at org.jboss.kernel.plugins.deployment.BasicKernelDeployer.deploy(BasicKernelDeployer.java:76)
	at org.jboss.bootstrap.microcontainer.TempBasicXMLDeployer.deploy(TempBasicXMLDeployer.java:91)
	at org.jboss.bootstrap.microcontainer.TempBasicXMLDeployer.deploy(TempBasicXMLDeployer.java:161)
	at org.jboss.bootstrap.microcontainer.ServerImpl.doStart(ServerImpl.java:144)
	at org.jboss.bootstrap.AbstractServerImpl.start(AbstractServerImpl.java:394)
	at org.jboss.Main.boot(Main.java:209)
	at org.jboss.Main$1.run(Main.java:547)
	at java.lang.Thread.run(Thread.java:595)
11:23:54,808 INFO  [ProfileServiceImpl] Loading profile: default from: org.jboss.system.server.profileservice.repository.SerializableDeploymentRepository@11ae81d(root=C:\java\common\bin\jboss-5.0.0.GA\server, key=org.jboss.profileservice.spi.ProfileKey@143b82c3[domain=default,server=default,name=default])
11:23:54,839 INFO  [ProfileImpl] Using repository:org.jboss.system.server.profileservice.repository.SerializableDeploymentRepository@11ae81d(root=C:\java\common\bin\jboss-5.0.0.GA\server, key=org.jboss.profileservice.spi.ProfileKey@143b82c3[domain=default,server=default,name=default])
11:23:54,839 INFO  [ProfileServiceImpl] Loaded profile: ProfileImpl@18c668c{key=org.jboss.profileservice.spi.ProfileKey@143b82c3[domain=default,server=default,name=default]}
Failed to boot JBoss:
java.lang.IllegalStateException: Incompletely deployed:

*** DEPLOYMENTS IN ERROR: Name -&gt; Error
SARDeployer -&gt; javax.xml.parsers.ParserConfigurationException: jaxp_feature_not_supported: Feature &quot;http://apache.org/xml/features/xinclude/fixup-language&quot; is not supported.

	at org.jboss.kernel.plugins.deployment.AbstractKernelDeployer.internalValidate(AbstractKernelDeployer.java:290)
	at org.jboss.kernel.plugins.deployment.AbstractKernelDeployer.validate(AbstractKernelDeployer.java:174)
	at org.jboss.bootstrap.microcontainer.ServerImpl.doStart(ServerImpl.java:148)
	at org.jboss.bootstrap.AbstractServerImpl.start(AbstractServerImpl.java:394)
	at org.jboss.Main.boot(Main.java:209)
	at org.jboss.Main$1.run(Main.java:547)
	at java.lang.Thread.run(Thread.java:595)
11:23:59,652 INFO  [ServerImpl] Runtime shutdown hook called, forceHalt: true
11:23:59,746 INFO  [ServerImpl] Shutdown complete
Shutdown complete
Halting VM

</textarea></span>
    </div>
 <br />



<br />


               <input type="button" value="Reply" onclick="location.href='/forums/posts/reply/0/424345'" />
	

    <input type="button" value="New Topic" onclick="location.href='/jforum?module=posts&amp;action=insert&amp;forum_id=63'" />






<br /><br />


<br />

<div class="gensmall center">
All times above are in ranch (not your local) time.<br />
The current ranch time is <br />
<span class="mobileLabel">Dec 13, 2013 17:03:01</span>.
</div>
<br />
<div>
  <a id="search" href="/forums/search/filters/63"><span class="mobileLabel">Search</span></a>
  |
<a href="/forums/recentTopics/list"><span class="mobileLabel">Recent Topics</span></a>
</div>

 <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ?  "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
 <script type="text/javascript">
    if (typeof _gat !== "undefined") {
        var pageTracker = _gat._getTracker("UA-2371260-2");
        pageTracker._trackPageview();

        dt = new Date();
        pageTracker._setVar("hour: " + dt.getHours());
    }
</script>

<br />
<div>Copyright &copy; 1998-2013 <a href="http://www.javaranch.com/paul-wheaton.jsp">Paul Wheaton</a></div>
<br />
<a name="bottom"></a>
<a href="#top"><img src="/templates/default/mobile/images/up_arrow.gif" width="10" height="10" alt="Jump to top of page" /></a>
<br />
<a href="http://www.coderanch.com/t/424345/JBoss/JNDI-Port-number-strating-JBoss?nonMobile=true">Or visit our non-mobile (full) site</a>
</body>
</html>
