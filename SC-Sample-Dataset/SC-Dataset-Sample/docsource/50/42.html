<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html lang="en">  <head>    <TITLE>Java > Open Source Codes > org > eclipse > jface > bindings > BindingManager _ Java API By Example, From Geeks To Geeks.</TITLE>    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">    <META name="description" content="Java > Open Source Codes > org > eclipse > jface > bindings > BindingManager">    <META name="keywords" content="Free Books,Free book,Free Computer Books,Free Computer Book,Free Tech Books,Free Tech Book, j2ee, j2ee example, j2se, j2se example, j2me, j2me example, java, java example, java api, java api example, java jobs, free java books, Free Java Downloads, free java book, java development,enterprise java, java developer,java news,java,resources,jsp,servlets,tomcat,ejb,java and xml,jdo,jdbc,sqlj,jax,jaxp,jaxm,jaxb,jax-rpc,apache,jakarta,open source,wireless java,java 2 micro edition,struts,turbine,velocity,p2p java,jxta,jini,javaspaces,waba,java phone,i-mode,palm,java media,jvm,java 2 standard edition,c#,c sharp,jboss,java book excerpts,java api map,org.eclipse.jface.bindings.BindingManager">    <link rel="stylesheet" type="text/css" href="/cmn/stylesheet.css" />    <link rel="stylesheet" type="text/css" href="/cmn/kickjava.css" />    <script type="text/javascript" src="/cmn/kickjava.js"></script>    <script type="text/javascript" src="/cmn/kickjava1.js"></script>  </head>  <body lang="en" onload="doBodyOnLoad();">     <script type="text/javascript">doBodyBegin();</script>     <noscript>     <BR/>      Your browser does not support JavaScript and this site utilizes JavaScript to build content and provide links to additional information. You should either enable JavaScript in your browser settings or use a browser that supports JavaScript in order to take full advantage of this site.     <BR/>     </noscript>    <div id="pageWrapper">      <table id="masthead">        <tr>          <td id="mastheadLeft" >            <A href="http://KickJava.com" target="_top"><img src="/cmn/kickjava.gif" alt="KickJava"></a>&nbsp;&nbsp;&nbsp;Java <acronym title="Application Programming Interface">API</acronym> By Example, From Geeks To Geeks.          </td>          <td id="mastheadRight">            <!-- Google CSE Search Box Begins -->            <form id="searchbox_016019849777797803616:sbkqcucs8tc" action="http://KickJava.com/cmn/googlesearch.html">              <input type="hidden" name="cx" value="016019849777797803616:sbkqcucs8tc" />              <input name="q" type="text" size="20" />                    <input type="image" src="/cmn/go.gif"  name="sa"  border="0" alt="Search Now">              <input type="hidden" name="cof" value="FORID:9" />            </form>            <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_016019849777797803616%3Asbkqcucs8tc"></script>            <!-- Google CSE Search Box Ends -->          </td>        </tr>      </table>      <div id="PageHeading" class="inside">        <h1><A HREF="/">Java</A> > <A HREF="/src">Open Source Codes</A> > <a href="/src/org.index.htm">org</a> > <a href="/src/org.eclipse.index.htm">eclipse</a> > <a href="/src/org.eclipse.jface.index.htm">jface</a> > <a href="/src/org.eclipse.jface.bindings.index.htm">bindings</a> > <B>BindingManager</B></h1>        <script type="text/javascript">doPageHeading();</script>      </div>      <table id="Top1">        <tr>          <td id="Top11"><script type="text/javascript">doTop11();</script></td>          <td id="Top12"><script type="text/javascript">doTop12();</script></td>        </tr>      </table>      <table id="Top2">        <tr>          <td id="Top21"><script type="text/javascript">doTop21();</script></td>          <td id="Top22"><script type="text/javascript">doTop22();</script></td>        </tr>      </table>      <table id="outerColumnContainer">        <tr id="innerColumnContainer">          <td id="contentColumn">            <div id="contentHeading1" class="inside">              <!--contentHeading1-->            </div>            <div id="contentColumn1" class="inside">              <!--contentColumn1-->              <script type="text/javascript">doContentColumn1();</script>            </div>            <div id="contentHeading2" class="inside">              <!--contentHeading2-->            </div>            <div id="contentColumn2" class="inside">              <CODE><br><FONT ID="LN">1   </FONT><A NAME="1"></A><FONT ID="FormalComment">/*******************************************************************************<br><FONT ID="LN">2   </FONT><A NAME="2"></A>&nbsp;* Copyright (c) 2004, 2007 IBM Corporation and others.<br><FONT ID="LN">3   </FONT><A NAME="3"></A>&nbsp;* All rights reserved. This program and the accompanying materials<br><FONT ID="LN">4   </FONT><A NAME="4"></A>&nbsp;* are made available under the terms of the Eclipse Public License v1.0<br><FONT ID="LN">5   </FONT><A NAME="5"></A>&nbsp;* which accompanies this distribution, and is available at<br><FONT ID="LN">6   </FONT><A NAME="6"></A>&nbsp;* http://www.eclipse.org/legal/epl-v10.html<br><FONT ID="LN">7   </FONT><A NAME="7"></A>&nbsp;*<br><FONT ID="LN">8   </FONT><A NAME="8"></A>&nbsp;* Contributors:<br><FONT ID="LN">9   </FONT><A NAME="9"></A>&nbsp;*     IBM Corporation - initial API and implementation<br><FONT ID="LN">10  </FONT><A NAME="10"></A>&nbsp;*******************************************************************************/</FONT><br><FONT ID="LN">11  </FONT><A NAME="11"></A><FONT ID="Package">package</FONT> org.eclipse.jface.bindings;<br><FONT ID="LN">12  </FONT><A NAME="12"></A><br><FONT ID="LN">13  </FONT><A NAME="13"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/io/BufferedWriter.java.htm">java.io.BufferedWriter</A>  <A HREF= "/1148.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">14  </FONT><A NAME="14"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/io/IOException.java.htm">java.io.IOException</A>  <A HREF= "/2848.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">15  </FONT><A NAME="15"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/io/StringWriter.java.htm">java.io.StringWriter</A>  <A HREF= "/2064.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">16  </FONT><A NAME="16"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/ArrayList.java.htm">java.util.ArrayList</A>  <A HREF= "/220.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">17  </FONT><A NAME="17"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/Arrays.java.htm">java.util.Arrays</A>  <A HREF= "/548.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">18  </FONT><A NAME="18"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/Collection.java.htm">java.util.Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">19  </FONT><A NAME="19"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/Collections.java.htm">java.util.Collections</A>  <A HREF= "/778.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">20  </FONT><A NAME="20"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/HashMap.java.htm">java.util.HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">21  </FONT><A NAME="21"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/HashSet.java.htm">java.util.HashSet</A>  <A HREF= "/237.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">22  </FONT><A NAME="22"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/Iterator.java.htm">java.util.Iterator</A>  <A HREF= "/1170.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">23  </FONT><A NAME="23"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/List.java.htm">java.util.List</A>  <A HREF= "/221.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">24  </FONT><A NAME="24"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/Locale.java.htm">java.util.Locale</A>  <A HREF= "/614.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">25  </FONT><A NAME="25"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/Map.java.htm">java.util.Map</A>  <A HREF= "/755.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">26  </FONT><A NAME="26"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/Set.java.htm">java.util.Set</A>  <A HREF= "/240.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">27  </FONT><A NAME="27"></A><FONT ID="Import">import</FONT> <A HREF="../../../../java/util/StringTokenizer.java.htm">java.util.StringTokenizer</A>  <A HREF= "/1178.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">28  </FONT><A NAME="28"></A><br><FONT ID="LN">29  </FONT><A NAME="29"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/commands/CommandManager.java.htm">org.eclipse.core.commands.CommandManager</A>;<br><FONT ID="LN">30  </FONT><A NAME="30"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/commands/ParameterizedCommand.java.htm">org.eclipse.core.commands.ParameterizedCommand</A>;<br><FONT ID="LN">31  </FONT><A NAME="31"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/commands/common/HandleObjectManager.java.htm">org.eclipse.core.commands.common.HandleObjectManager</A>;<br><FONT ID="LN">32  </FONT><A NAME="32"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/commands/common/NotDefinedException.java.htm">org.eclipse.core.commands.common.NotDefinedException</A>;<br><FONT ID="LN">33  </FONT><A NAME="33"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/commands/contexts/Context.java.htm">org.eclipse.core.commands.contexts.Context</A>;<br><FONT ID="LN">34  </FONT><A NAME="34"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/commands/contexts/ContextManager.java.htm">org.eclipse.core.commands.contexts.ContextManager</A>;<br><FONT ID="LN">35  </FONT><A NAME="35"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/commands/contexts/ContextManagerEvent.java.htm">org.eclipse.core.commands.contexts.ContextManagerEvent</A>;<br><FONT ID="LN">36  </FONT><A NAME="36"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/commands/contexts/IContextManagerListener.java.htm">org.eclipse.core.commands.contexts.IContextManagerListener</A>;<br><FONT ID="LN">37  </FONT><A NAME="37"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/commands/util/Tracing.java.htm">org.eclipse.core.commands.util.Tracing</A>;<br><FONT ID="LN">38  </FONT><A NAME="38"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/runtime/IStatus.java.htm">org.eclipse.core.runtime.IStatus</A>;<br><FONT ID="LN">39  </FONT><A NAME="39"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/runtime/MultiStatus.java.htm">org.eclipse.core.runtime.MultiStatus</A>;<br><FONT ID="LN">40  </FONT><A NAME="40"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/core/runtime/Status.java.htm">org.eclipse.core.runtime.Status</A>;<br><FONT ID="LN">41  </FONT><A NAME="41"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/jface/bindings/keys/IKeyLookup.java.htm">org.eclipse.jface.bindings.keys.IKeyLookup</A>;<br><FONT ID="LN">42  </FONT><A NAME="42"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/jface/bindings/keys/KeyLookupFactory.java.htm">org.eclipse.jface.bindings.keys.KeyLookupFactory</A>;<br><FONT ID="LN">43  </FONT><A NAME="43"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/jface/bindings/keys/KeyStroke.java.htm">org.eclipse.jface.bindings.keys.KeyStroke</A>;<br><FONT ID="LN">44  </FONT><A NAME="44"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/jface/contexts/IContextIds.java.htm">org.eclipse.jface.contexts.IContextIds</A>;<br><FONT ID="LN">45  </FONT><A NAME="45"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/jface/internal/InternalPolicy.java.htm">org.eclipse.jface.internal.InternalPolicy</A>;<br><FONT ID="LN">46  </FONT><A NAME="46"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/jface/util/Policy.java.htm">org.eclipse.jface.util.Policy</A>;<br><FONT ID="LN">47  </FONT><A NAME="47"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/jface/util/Util.java.htm">org.eclipse.jface.util.Util</A>;<br><FONT ID="LN">48  </FONT><A NAME="48"></A><FONT ID="Import">import</FONT> <A HREF="../../../../org/eclipse/swt/SWT.java.htm">org.eclipse.swt.SWT</A>;<br><FONT ID="LN">49  </FONT><A NAME="49"></A><br><FONT ID="LN">50  </FONT><A NAME="50"></A><FONT ID="FormalComment">/**<br><FONT ID="LN">51  </FONT><A NAME="51"></A>&nbsp;* &lt;p&gt;<br><FONT ID="LN">52  </FONT><A NAME="52"></A>&nbsp;* A central repository for bindings -- both in the defined and undefined<br><FONT ID="LN">53  </FONT><A NAME="53"></A>&nbsp;* states. Schemes and bindings can be created and retrieved using this manager.<br><FONT ID="LN">54  </FONT><A NAME="54"></A>&nbsp;* It is possible to listen to changes in the collection of schemes and bindings<br><FONT ID="LN">55  </FONT><A NAME="55"></A>&nbsp;* by adding a listener to the manager.<br><FONT ID="LN">56  </FONT><A NAME="56"></A>&nbsp;* &lt;/p&gt;<br><FONT ID="LN">57  </FONT><A NAME="57"></A>&nbsp;* &lt;p&gt;<br><FONT ID="LN">58  </FONT><A NAME="58"></A>&nbsp;* The binding manager is very sensitive to performance. Misusing the manager<br><FONT ID="LN">59  </FONT><A NAME="59"></A>&nbsp;* can render an application unenjoyable to use. As such, each of the public<br><FONT ID="LN">60  </FONT><A NAME="60"></A>&nbsp;* methods states the current run-time performance. In future releases, it is<br><FONT ID="LN">61  </FONT><A NAME="61"></A>&nbsp;* guaranteed that the method will run in at least the stated time constraint --<br><FONT ID="LN">62  </FONT><A NAME="62"></A>&nbsp;* though it might get faster. Where possible, we have also tried to be memory<br><FONT ID="LN">63  </FONT><A NAME="63"></A>&nbsp;* efficient.<br><FONT ID="LN">64  </FONT><A NAME="64"></A>&nbsp;* &lt;/p&gt;<br><FONT ID="LN">65  </FONT><A NAME="65"></A>&nbsp;* <br><FONT ID="LN">66  </FONT><A NAME="66"></A>&nbsp;* @since 3.1<br><FONT ID="LN">67  </FONT><A NAME="67"></A>&nbsp;*/</FONT><br><FONT ID="LN">68  </FONT><A NAME="68"></A><FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Class">class</FONT> BindingManager <FONT ID="Extends">extends</FONT> <A HREF="../../../../org/eclipse/core/commands/common/HandleObjectManager.java.htm">HandleObjectManager</A> <FONT ID="Implements">implements</FONT><br><FONT ID="LN">69  </FONT><A NAME="69"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../org/eclipse/core/commands/contexts/IContextManagerListener.java.htm">IContextManagerListener</A>, <A HREF="../../../../org/eclipse/jface/bindings/ISchemeListener.java.htm">ISchemeListener</A> {<br><FONT ID="LN">70  </FONT><A NAME="70"></A><br><FONT ID="LN">71  </FONT><A NAME="71"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">72  </FONT><A NAME="72"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This flag can be set to &lt;code&gt;true&lt;/code&gt; if the binding manager should<br><FONT ID="LN">73  </FONT><A NAME="73"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* print information to &lt;code&gt;System.out&lt;/code&gt; when certain boundary<br><FONT ID="LN">74  </FONT><A NAME="74"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* conditions occur.<br><FONT ID="LN">75  </FONT><A NAME="75"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">76  </FONT><A NAME="76"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Boolean">boolean</FONT> DEBUG = <FONT ID="False">false</FONT>;<br><FONT ID="LN">77  </FONT><A NAME="77"></A><br><FONT ID="LN">78  </FONT><A NAME="78"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">79  </FONT><A NAME="79"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returned for optimized lookup.<br><FONT ID="LN">80  </FONT><A NAME="80"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">81  </FONT><A NAME="81"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[] EMPTY_TRIGGER_SEQUENCE = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[<FONT ID="IntegerLiteral">0</FONT>];<br><FONT ID="LN">82  </FONT><A NAME="82"></A><br><FONT ID="LN">83  </FONT><A NAME="83"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">84  </FONT><A NAME="84"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The separator character used in locales.<br><FONT ID="LN">85  </FONT><A NAME="85"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">86  </FONT><A NAME="86"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> LOCALE_SEPARATOR = <FONT ID="StringLiteral">"_"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">87  </FONT><A NAME="87"></A></FONT><br><FONT ID="LN">88  </FONT><A NAME="88"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">89  </FONT><A NAME="89"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">90  </FONT><A NAME="90"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* A utility method for adding entries to a map. The map is checked for<br><FONT ID="LN">91  </FONT><A NAME="91"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* entries at the key. If such an entry exists, it is expected to be a<br><FONT ID="LN">92  </FONT><A NAME="92"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;Collection&lt;/code&gt;. The value is then appended to the collection.<br><FONT ID="LN">93  </FONT><A NAME="93"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* If no such entry exists, then a collection is created, and the value<br><FONT ID="LN">94  </FONT><A NAME="94"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* added to the collection.<br><FONT ID="LN">95  </FONT><A NAME="95"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">96  </FONT><A NAME="96"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">97  </FONT><A NAME="97"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param map<br><FONT ID="LN">98  </FONT><A NAME="98"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The map to modify; if this value is &lt;code&gt;null&lt;/code&gt;, then<br><FONT ID="LN">99  </FONT><A NAME="99"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            this method simply returns.<br><FONT ID="LN">100 </FONT><A NAME="100"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param key<br><FONT ID="LN">101 </FONT><A NAME="101"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The key to look up in the map; may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">102 </FONT><A NAME="102"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param value<br><FONT ID="LN">103 </FONT><A NAME="103"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The value to look up in the map; may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">104 </FONT><A NAME="104"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">105 </FONT><A NAME="105"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> addReverseLookup(<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> map, <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> key,<br><FONT ID="LN">106 </FONT><A NAME="106"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> value) {<br><FONT ID="LN">107 </FONT><A NAME="107"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (map == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">108 </FONT><A NAME="108"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">109 </FONT><A NAME="109"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">110 </FONT><A NAME="110"></A><br><FONT ID="LN">111 </FONT><A NAME="111"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> currentValue = map.get(key);<br><FONT ID="LN">112 </FONT><A NAME="112"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (currentValue != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">113 </FONT><A NAME="113"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> values = (<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) currentValue;<br><FONT ID="LN">114 </FONT><A NAME="114"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values.add(value);<br><FONT ID="LN">115 </FONT><A NAME="115"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> { <FONT ID="SingleLineComment">// currentValue == null<br><FONT ID="LN">116 </FONT><A NAME="116"></A></FONT>            <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> values = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/ArrayList.java.htm">ArrayList</A>  <A HREF= "/220.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="IntegerLiteral">1</FONT>);<br><FONT ID="LN">117 </FONT><A NAME="117"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values.add(value);<br><FONT ID="LN">118 </FONT><A NAME="118"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(key, values);<br><FONT ID="LN">119 </FONT><A NAME="119"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">120 </FONT><A NAME="120"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">121 </FONT><A NAME="121"></A><br><FONT ID="LN">122 </FONT><A NAME="122"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">123 </FONT><A NAME="123"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">124 </FONT><A NAME="124"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Takes a fully-specified string, and converts it into an array of<br><FONT ID="LN">125 </FONT><A NAME="125"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* increasingly less-specific strings. So, for example, "en_GB" would become<br><FONT ID="LN">126 </FONT><A NAME="126"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* ["en_GB", "en", "", null].<br><FONT ID="LN">127 </FONT><A NAME="127"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">128 </FONT><A NAME="128"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">129 </FONT><A NAME="129"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method runs in linear time (O(n)) over the length of the string.<br><FONT ID="LN">130 </FONT><A NAME="130"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">131 </FONT><A NAME="131"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">132 </FONT><A NAME="132"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param string<br><FONT ID="LN">133 </FONT><A NAME="133"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The string to break apart into its less specific components;<br><FONT ID="LN">134 </FONT><A NAME="134"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            should not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">135 </FONT><A NAME="135"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param separator<br><FONT ID="LN">136 </FONT><A NAME="136"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The separator that indicates a separation between a degrees of<br><FONT ID="LN">137 </FONT><A NAME="137"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            specificity; should not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">138 </FONT><A NAME="138"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return An array of strings from the most specific (i.e.,<br><FONT ID="LN">139 </FONT><A NAME="139"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;string&lt;/code&gt;) to the least specific (i.e.,<br><FONT ID="LN">140 </FONT><A NAME="140"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;null&lt;/code&gt;).<br><FONT ID="LN">141 </FONT><A NAME="141"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">142 </FONT><A NAME="142"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] expand(<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> string, <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> separator) {<br><FONT ID="LN">143 </FONT><A NAME="143"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Test for boundary conditions.<br><FONT ID="LN">144 </FONT><A NAME="144"></A></FONT>        <FONT ID="If">if</FONT> (string == <FONT ID="Null">null</FONT> || separator == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">145 </FONT><A NAME="145"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[<FONT ID="IntegerLiteral">0</FONT>];<br><FONT ID="LN">146 </FONT><A NAME="146"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">147 </FONT><A NAME="147"></A><br><FONT ID="LN">148 </FONT><A NAME="148"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/ArrayList.java.htm">List</A>  <A HREF= "/220.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> strings = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/ArrayList.java.htm">ArrayList</A>  <A HREF= "/220.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">149 </FONT><A NAME="149"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> stringBuffer = <FONT ID="New">new</FONT> <A HREF="../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">150 </FONT><A NAME="150"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string = string.trim(); <FONT ID="SingleLineComment">// remove whitespace<br><FONT ID="LN">151 </FONT><A NAME="151"></A></FONT>        <FONT ID="If">if</FONT> (string.length() &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">152 </FONT><A NAME="152"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/StringTokenizer.java.htm">StringTokenizer</A>  <A HREF= "/1178.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> stringTokenizer = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/StringTokenizer.java.htm">StringTokenizer</A>  <A HREF= "/1178.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(string,<br><FONT ID="LN">153 </FONT><A NAME="153"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;separator);<br><FONT ID="LN">154 </FONT><A NAME="154"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (stringTokenizer.hasMoreElements()) {<br><FONT ID="LN">155 </FONT><A NAME="155"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (stringBuffer.length() &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">156 </FONT><A NAME="156"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stringBuffer.append(separator);<br><FONT ID="LN">157 </FONT><A NAME="157"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">158 </FONT><A NAME="158"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stringBuffer.append(((<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) stringTokenizer.nextElement())<br><FONT ID="LN">159 </FONT><A NAME="159"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.trim());<br><FONT ID="LN">160 </FONT><A NAME="160"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strings.add(stringBuffer.toString());<br><FONT ID="LN">161 </FONT><A NAME="161"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">162 </FONT><A NAME="162"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">163 </FONT><A NAME="163"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Collections.reverse(strings);<br><FONT ID="LN">164 </FONT><A NAME="164"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strings.add(Util.ZERO_LENGTH_STRING);<br><FONT ID="LN">165 </FONT><A NAME="165"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strings.add(<FONT ID="Null">null</FONT>);<br><FONT ID="LN">166 </FONT><A NAME="166"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> (<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[]) strings.toArray(<FONT ID="New">new</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[strings.size()]);<br><FONT ID="LN">167 </FONT><A NAME="167"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">168 </FONT><A NAME="168"></A><br><FONT ID="LN">169 </FONT><A NAME="169"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">170 </FONT><A NAME="170"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The active bindings. This is a map of triggers (<br><FONT ID="LN">171 </FONT><A NAME="171"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;TriggerSequence&lt;/code&gt;) to bindings (&lt;code&gt;Binding&lt;/code&gt;).<br><FONT ID="LN">172 </FONT><A NAME="172"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This value will only be &lt;code&gt;null&lt;/code&gt; if the active bindings have<br><FONT ID="LN">173 </FONT><A NAME="173"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not yet been computed. Otherwise, this value may be empty.<br><FONT ID="LN">174 </FONT><A NAME="174"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">175 </FONT><A NAME="175"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> activeBindings = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">176 </FONT><A NAME="176"></A><br><FONT ID="LN">177 </FONT><A NAME="177"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">178 </FONT><A NAME="178"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The active bindings indexed by fully-parameterized commands. This is a<br><FONT ID="LN">179 </FONT><A NAME="179"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* map of fully-parameterized commands (&lt;code&gt;ParameterizedCommand&lt;/code&gt;)<br><FONT ID="LN">180 </FONT><A NAME="180"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* to triggers ( &lt;code&gt;TriggerSequence&lt;/code&gt;). This value will only be<br><FONT ID="LN">181 </FONT><A NAME="181"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;null&lt;/code&gt; if the active bindings have not yet been computed.<br><FONT ID="LN">182 </FONT><A NAME="182"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Otherwise, this value may be empty.<br><FONT ID="LN">183 </FONT><A NAME="183"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">184 </FONT><A NAME="184"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> activeBindingsByParameterizedCommand = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">185 </FONT><A NAME="185"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">186 </FONT><A NAME="186"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/util/HashSet.java.htm">Set</A>  <A HREF= "/237.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> triggerConflicts = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashSet.java.htm">HashSet</A>  <A HREF= "/237.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">187 </FONT><A NAME="187"></A><br><FONT ID="LN">188 </FONT><A NAME="188"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">189 </FONT><A NAME="189"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The scheme that is currently active. An active scheme is the one that is<br><FONT ID="LN">190 </FONT><A NAME="190"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* currently dictating which bindings will actually work. This value may be<br><FONT ID="LN">191 </FONT><A NAME="191"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;null&lt;/code&gt; if there is no active scheme. If the active scheme<br><FONT ID="LN">192 </FONT><A NAME="192"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* becomes undefined, then this should automatically revert to<br><FONT ID="LN">193 </FONT><A NAME="193"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">194 </FONT><A NAME="194"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">195 </FONT><A NAME="195"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A> activeScheme = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">196 </FONT><A NAME="196"></A><br><FONT ID="LN">197 </FONT><A NAME="197"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">198 </FONT><A NAME="198"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The array of scheme identifiers, starting with the active scheme and<br><FONT ID="LN">199 </FONT><A NAME="199"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* moving up through its parents. This value may be &lt;code&gt;null&lt;/code&gt; if<br><FONT ID="LN">200 </FONT><A NAME="200"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* there is no active scheme.<br><FONT ID="LN">201 </FONT><A NAME="201"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">202 </FONT><A NAME="202"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] activeSchemeIds = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">203 </FONT><A NAME="203"></A><br><FONT ID="LN">204 </FONT><A NAME="204"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">205 </FONT><A NAME="205"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The number of bindings in the &lt;code&gt;bindings&lt;/code&gt; array.<br><FONT ID="LN">206 </FONT><A NAME="206"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">207 </FONT><A NAME="207"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> bindingCount = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">208 </FONT><A NAME="208"></A><br><FONT ID="LN">209 </FONT><A NAME="209"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">210 </FONT><A NAME="210"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* A cache of context IDs that weren't defined.<br><FONT ID="LN">211 </FONT><A NAME="211"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">212 </FONT><A NAME="212"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/util/HashSet.java.htm">Set</A>  <A HREF= "/237.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bindingErrors = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashSet.java.htm">HashSet</A>  <A HREF= "/237.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">213 </FONT><A NAME="213"></A><br><FONT ID="LN">214 </FONT><A NAME="214"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">215 </FONT><A NAME="215"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The array of all bindings currently handled by this manager. This array<br><FONT ID="LN">216 </FONT><A NAME="216"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* is the raw list of bindings, as provided to this manager. This value may<br><FONT ID="LN">217 </FONT><A NAME="217"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* be &lt;code&gt;null&lt;/code&gt; if there are no bindings. The size of this array<br><FONT ID="LN">218 </FONT><A NAME="218"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* is not necessarily the number of bindings.<br><FONT ID="LN">219 </FONT><A NAME="219"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">220 </FONT><A NAME="220"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] bindings = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">221 </FONT><A NAME="221"></A><br><FONT ID="LN">222 </FONT><A NAME="222"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">223 </FONT><A NAME="223"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* A cache of the bindings previously computed by this manager. This value<br><FONT ID="LN">224 </FONT><A NAME="224"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* may be empty, but it is never &lt;code&gt;null&lt;/code&gt;. This is a map of<br><FONT ID="LN">225 </FONT><A NAME="225"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;CachedBindingSet&lt;/code&gt; to &lt;code&gt;CachedBindingSet&lt;/code&gt;.<br><FONT ID="LN">226 </FONT><A NAME="226"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">227 </FONT><A NAME="227"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> cachedBindings = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">228 </FONT><A NAME="228"></A><br><FONT ID="LN">229 </FONT><A NAME="229"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">230 </FONT><A NAME="230"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The command manager for this binding manager. This manager is only needed<br><FONT ID="LN">231 </FONT><A NAME="231"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* for the &lt;code&gt;getActiveBindingsFor(String)&lt;/code&gt; method. This value is<br><FONT ID="LN">232 </FONT><A NAME="232"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* guaranteed to never be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">233 </FONT><A NAME="233"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">234 </FONT><A NAME="234"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/CommandManager.java.htm">CommandManager</A> commandManager;<br><FONT ID="LN">235 </FONT><A NAME="235"></A><br><FONT ID="LN">236 </FONT><A NAME="236"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">237 </FONT><A NAME="237"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The context manager for this binding manager. For a binding manager to<br><FONT ID="LN">238 </FONT><A NAME="238"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* function, it needs to listen for changes to the contexts. This value is<br><FONT ID="LN">239 </FONT><A NAME="239"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* guaranteed to never be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">240 </FONT><A NAME="240"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">241 </FONT><A NAME="241"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/contexts/ContextManager.java.htm">ContextManager</A> contextManager;<br><FONT ID="LN">242 </FONT><A NAME="242"></A><br><FONT ID="LN">243 </FONT><A NAME="243"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">244 </FONT><A NAME="244"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The locale for this manager. This defaults to the current locale. The<br><FONT ID="LN">245 </FONT><A NAME="245"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* value will never be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">246 </FONT><A NAME="246"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">247 </FONT><A NAME="247"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> locale = Locale.getDefault().toString();<br><FONT ID="LN">248 </FONT><A NAME="248"></A><br><FONT ID="LN">249 </FONT><A NAME="249"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">250 </FONT><A NAME="250"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The array of locales, starting with the active locale and moving up<br><FONT ID="LN">251 </FONT><A NAME="251"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* through less specific representations of the locale. For example,<br><FONT ID="LN">252 </FONT><A NAME="252"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* ["en_US", "en", "", null]. This value will never be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">253 </FONT><A NAME="253"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">254 </FONT><A NAME="254"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] locales = expand(locale, LOCALE_SEPARATOR);<br><FONT ID="LN">255 </FONT><A NAME="255"></A><br><FONT ID="LN">256 </FONT><A NAME="256"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">257 </FONT><A NAME="257"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The platform for this manager. This defaults to the current platform. The<br><FONT ID="LN">258 </FONT><A NAME="258"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* value will never be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">259 </FONT><A NAME="259"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">260 </FONT><A NAME="260"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> platform = SWT.getPlatform();<br><FONT ID="LN">261 </FONT><A NAME="261"></A><br><FONT ID="LN">262 </FONT><A NAME="262"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">263 </FONT><A NAME="263"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The array of platforms, starting with the active platform and moving up<br><FONT ID="LN">264 </FONT><A NAME="264"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* through less specific representations of the platform. For example,<br><FONT ID="LN">265 </FONT><A NAME="265"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* ["gtk", "", null]. This value will never be &lt;code&gt;null,/code&gt;.<br><FONT ID="LN">266 </FONT><A NAME="266"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">267 </FONT><A NAME="267"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] platforms = expand(platform, Util.ZERO_LENGTH_STRING);<br><FONT ID="LN">268 </FONT><A NAME="268"></A><br><FONT ID="LN">269 </FONT><A NAME="269"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">270 </FONT><A NAME="270"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* A map of prefixes (&lt;code&gt;TriggerSequence&lt;/code&gt;) to a map of<br><FONT ID="LN">271 </FONT><A NAME="271"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* available completions (possibly &lt;code&gt;null&lt;/code&gt;, which means there<br><FONT ID="LN">272 </FONT><A NAME="272"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* is an exact match). The available completions is a map of trigger (&lt;code&gt;TriggerSequence&lt;/code&gt;)<br><FONT ID="LN">273 </FONT><A NAME="273"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* to bindings (&lt;code&gt;Binding&lt;/code&gt;). This value may be<br><FONT ID="LN">274 </FONT><A NAME="274"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;null&lt;/code&gt; if there is no existing solution.<br><FONT ID="LN">275 </FONT><A NAME="275"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">276 </FONT><A NAME="276"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> prefixTable = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">277 </FONT><A NAME="277"></A><br><FONT ID="LN">278 </FONT><A NAME="278"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">279 </FONT><A NAME="279"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">280 </FONT><A NAME="280"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Constructs a new instance of &lt;code&gt;BindingManager&lt;/code&gt;.<br><FONT ID="LN">281 </FONT><A NAME="281"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">282 </FONT><A NAME="282"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">283 </FONT><A NAME="283"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in amortized constant time (O(1)).<br><FONT ID="LN">284 </FONT><A NAME="284"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">285 </FONT><A NAME="285"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">286 </FONT><A NAME="286"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param contextManager<br><FONT ID="LN">287 </FONT><A NAME="287"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The context manager that will support this binding manager.<br><FONT ID="LN">288 </FONT><A NAME="288"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            This value must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">289 </FONT><A NAME="289"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param commandManager<br><FONT ID="LN">290 </FONT><A NAME="290"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The command manager that will support this binding manager.<br><FONT ID="LN">291 </FONT><A NAME="291"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            This value must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">292 </FONT><A NAME="292"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">293 </FONT><A NAME="293"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> BindingManager(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/contexts/ContextManager.java.htm">ContextManager</A> contextManager,<br><FONT ID="LN">294 </FONT><A NAME="294"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/CommandManager.java.htm">CommandManager</A> commandManager) {<br><FONT ID="LN">295 </FONT><A NAME="295"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (contextManager == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">296 </FONT><A NAME="296"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../java/lang/NullPointerException.java.htm">NullPointerException</A>  <A HREF= "/1249.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<br><FONT ID="LN">297 </FONT><A NAME="297"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"A binding manager requires a context manager"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">298 </FONT><A NAME="298"></A></FONT>        }<br><FONT ID="LN">299 </FONT><A NAME="299"></A><br><FONT ID="LN">300 </FONT><A NAME="300"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (commandManager == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">301 </FONT><A NAME="301"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../java/lang/NullPointerException.java.htm">NullPointerException</A>  <A HREF= "/1249.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<br><FONT ID="LN">302 </FONT><A NAME="302"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"A binding manager requires a command manager"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">303 </FONT><A NAME="303"></A></FONT>        }<br><FONT ID="LN">304 </FONT><A NAME="304"></A><br><FONT ID="LN">305 </FONT><A NAME="305"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.contextManager = contextManager;<br><FONT ID="LN">306 </FONT><A NAME="306"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contextManager.addContextManagerListener(<FONT ID="This">this</FONT>);<br><FONT ID="LN">307 </FONT><A NAME="307"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.commandManager = commandManager;<br><FONT ID="LN">308 </FONT><A NAME="308"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">309 </FONT><A NAME="309"></A><br><FONT ID="LN">310 </FONT><A NAME="310"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">311 </FONT><A NAME="311"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">312 </FONT><A NAME="312"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Adds a single new binding to the existing array of bindings. If the array<br><FONT ID="LN">313 </FONT><A NAME="313"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* is currently &lt;code&gt;null&lt;/code&gt;, then a new array is created and this<br><FONT ID="LN">314 </FONT><A NAME="314"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* binding is added to it. This method does not detect duplicates.<br><FONT ID="LN">315 </FONT><A NAME="315"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">316 </FONT><A NAME="316"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">317 </FONT><A NAME="317"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in amortized &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">318 </FONT><A NAME="318"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">319 </FONT><A NAME="319"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">320 </FONT><A NAME="320"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param binding<br><FONT ID="LN">321 </FONT><A NAME="321"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The binding to be added; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">322 </FONT><A NAME="322"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">323 </FONT><A NAME="323"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> addBinding(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding) {<br><FONT ID="LN">324 </FONT><A NAME="324"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (binding == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">325 </FONT><A NAME="325"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../java/lang/NullPointerException.java.htm">NullPointerException</A>  <A HREF= "/1249.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"Cannot add a null binding"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">326 </FONT><A NAME="326"></A></FONT>        }<br><FONT ID="LN">327 </FONT><A NAME="327"></A><br><FONT ID="LN">328 </FONT><A NAME="328"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (bindings == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">329 </FONT><A NAME="329"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindings = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[<FONT ID="IntegerLiteral">1</FONT>];<br><FONT ID="LN">330 </FONT><A NAME="330"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (bindingCount &gt;= bindings.length) {<br><FONT ID="LN">331 </FONT><A NAME="331"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] oldBindings = bindings;<br><FONT ID="LN">332 </FONT><A NAME="332"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindings = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[oldBindings.length * <FONT ID="IntegerLiteral">2</FONT>];<br><FONT ID="LN">333 </FONT><A NAME="333"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(oldBindings, <FONT ID="IntegerLiteral">0</FONT>, bindings, <FONT ID="IntegerLiteral">0</FONT>, oldBindings.length);<br><FONT ID="LN">334 </FONT><A NAME="334"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">335 </FONT><A NAME="335"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindings[bindingCount++] = binding;<br><FONT ID="LN">336 </FONT><A NAME="336"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clearCache();<br><FONT ID="LN">337 </FONT><A NAME="337"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">338 </FONT><A NAME="338"></A><br><FONT ID="LN">339 </FONT><A NAME="339"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">340 </FONT><A NAME="340"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">341 </FONT><A NAME="341"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Adds a listener to this binding manager. The listener will be notified<br><FONT ID="LN">342 </FONT><A NAME="342"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* when the set of defined schemes or bindings changes. This can be used to<br><FONT ID="LN">343 </FONT><A NAME="343"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* track the global appearance and disappearance of bindings.<br><FONT ID="LN">344 </FONT><A NAME="344"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">345 </FONT><A NAME="345"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">346 </FONT><A NAME="346"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in amortized constant time (&lt;code&gt;O(1)&lt;/code&gt;).<br><FONT ID="LN">347 </FONT><A NAME="347"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">348 </FONT><A NAME="348"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">349 </FONT><A NAME="349"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param listener<br><FONT ID="LN">350 </FONT><A NAME="350"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The listener to attach; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">351 </FONT><A NAME="351"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">352 </FONT><A NAME="352"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> addBindingManagerListener(<br><FONT ID="LN">353 </FONT><A NAME="353"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/IBindingManagerListener.java.htm">IBindingManagerListener</A> listener) {<br><FONT ID="LN">354 </FONT><A NAME="354"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addListenerObject(listener);<br><FONT ID="LN">355 </FONT><A NAME="355"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">356 </FONT><A NAME="356"></A><br><FONT ID="LN">357 </FONT><A NAME="357"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">358 </FONT><A NAME="358"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">359 </FONT><A NAME="359"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Builds a prefix table look-up for a map of active bindings.<br><FONT ID="LN">360 </FONT><A NAME="360"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">361 </FONT><A NAME="361"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">362 </FONT><A NAME="362"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method takes &lt;code&gt;O(mn)&lt;/code&gt;, where &lt;code&gt;m&lt;/code&gt; is the<br><FONT ID="LN">363 </FONT><A NAME="363"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* length of the trigger sequences and &lt;code&gt;n&lt;/code&gt; is the number of<br><FONT ID="LN">364 </FONT><A NAME="364"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* bindings.<br><FONT ID="LN">365 </FONT><A NAME="365"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">366 </FONT><A NAME="366"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">367 </FONT><A NAME="367"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param activeBindings<br><FONT ID="LN">368 </FONT><A NAME="368"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The map of triggers (&lt;code&gt;TriggerSequence&lt;/code&gt;) to<br><FONT ID="LN">369 </FONT><A NAME="369"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            command ids (&lt;code&gt;String&lt;/code&gt;) which are currently<br><FONT ID="LN">370 </FONT><A NAME="370"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            active. This value may be &lt;code&gt;null&lt;/code&gt; if there are no<br><FONT ID="LN">371 </FONT><A NAME="371"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            active bindings, and it may be empty. It must not be<br><FONT ID="LN">372 </FONT><A NAME="372"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">373 </FONT><A NAME="373"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return A map of prefixes (&lt;code&gt;TriggerSequence&lt;/code&gt;) to a map of<br><FONT ID="LN">374 </FONT><A NAME="374"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         available completions (possibly &lt;code&gt;null&lt;/code&gt;, which means<br><FONT ID="LN">375 </FONT><A NAME="375"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         there is an exact match). The available completions is a map of<br><FONT ID="LN">376 </FONT><A NAME="376"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         trigger (&lt;code&gt;TriggerSequence&lt;/code&gt;) to command identifier (&lt;code&gt;String&lt;/code&gt;).<br><FONT ID="LN">377 </FONT><A NAME="377"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         This value will never be &lt;code&gt;null&lt;/code&gt;, but may be empty.<br><FONT ID="LN">378 </FONT><A NAME="378"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">379 </FONT><A NAME="379"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buildPrefixTable(<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> activeBindings) {<br><FONT ID="LN">380 </FONT><A NAME="380"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> prefixTable = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">381 </FONT><A NAME="381"></A><br><FONT ID="LN">382 </FONT><A NAME="382"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Iterator.java.htm">Iterator</A>  <A HREF= "/1170.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bindingItr = activeBindings.entrySet().iterator();<br><FONT ID="LN">383 </FONT><A NAME="383"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (bindingItr.hasNext()) {<br><FONT ID="LN">384 </FONT><A NAME="384"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map.Entry</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> entry = (<A HREF="../../../../java/util/HashMap.java.htm">Map.Entry</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) bindingItr.next();<br><FONT ID="LN">385 </FONT><A NAME="385"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> triggerSequence = (<A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>) entry<br><FONT ID="LN">386 </FONT><A NAME="386"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getKey();<br><FONT ID="LN">387 </FONT><A NAME="387"></A><br><FONT ID="LN">388 </FONT><A NAME="388"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Add the perfect match.<br><FONT ID="LN">389 </FONT><A NAME="389"></A></FONT>            <FONT ID="If">if</FONT> (!prefixTable.containsKey(triggerSequence)) {<br><FONT ID="LN">390 </FONT><A NAME="390"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefixTable.put(triggerSequence, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">391 </FONT><A NAME="391"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">392 </FONT><A NAME="392"></A><br><FONT ID="LN">393 </FONT><A NAME="393"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[] prefixes = triggerSequence.getPrefixes();<br><FONT ID="LN">394 </FONT><A NAME="394"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> prefixesLength = prefixes.length;<br><FONT ID="LN">395 </FONT><A NAME="395"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (prefixesLength == <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">396 </FONT><A NAME="396"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">397 </FONT><A NAME="397"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">398 </FONT><A NAME="398"></A><br><FONT ID="LN">399 </FONT><A NAME="399"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Break apart the trigger sequence.<br><FONT ID="LN">400 </FONT><A NAME="400"></A></FONT>            <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding = (<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) entry.getValue();<br><FONT ID="LN">401 </FONT><A NAME="401"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; prefixesLength; i++) {<br><FONT ID="LN">402 </FONT><A NAME="402"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> prefix = prefixes[i];<br><FONT ID="LN">403 </FONT><A NAME="403"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> value = prefixTable.get(prefix);<br><FONT ID="LN">404 </FONT><A NAME="404"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((prefixTable.containsKey(prefix)) &amp;&amp; (value <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>)) {<br><FONT ID="LN">405 </FONT><A NAME="405"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) value).put(triggerSequence, binding);<br><FONT ID="LN">406 </FONT><A NAME="406"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">407 </FONT><A NAME="407"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> map = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">408 </FONT><A NAME="408"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefixTable.put(prefix, map);<br><FONT ID="LN">409 </FONT><A NAME="409"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(triggerSequence, binding);<br><FONT ID="LN">410 </FONT><A NAME="410"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">411 </FONT><A NAME="411"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">412 </FONT><A NAME="412"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">413 </FONT><A NAME="413"></A><br><FONT ID="LN">414 </FONT><A NAME="414"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> prefixTable;<br><FONT ID="LN">415 </FONT><A NAME="415"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">416 </FONT><A NAME="416"></A><br><FONT ID="LN">417 </FONT><A NAME="417"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">418 </FONT><A NAME="418"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">419 </FONT><A NAME="419"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Clears the cache, and the existing solution. If debugging is turned on,<br><FONT ID="LN">420 </FONT><A NAME="420"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* then this will also print a message to standard out.<br><FONT ID="LN">421 </FONT><A NAME="421"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">422 </FONT><A NAME="422"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">423 </FONT><A NAME="423"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">424 </FONT><A NAME="424"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">425 </FONT><A NAME="425"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">426 </FONT><A NAME="426"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> clearCache() {<br><FONT ID="LN">427 </FONT><A NAME="427"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (DEBUG) {<br><FONT ID="LN">428 </FONT><A NAME="428"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tracing.printTrace(<FONT ID="StringLiteral">"BINDINGS"</FONT>, <FONT ID="StringLiteral">"Clearing cache"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">429 </FONT><A NAME="429"></A></FONT>        }<br><FONT ID="LN">430 </FONT><A NAME="430"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cachedBindings.clear();<br><FONT ID="LN">431 </FONT><A NAME="431"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clearSolution();<br><FONT ID="LN">432 </FONT><A NAME="432"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">433 </FONT><A NAME="433"></A><br><FONT ID="LN">434 </FONT><A NAME="434"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">435 </FONT><A NAME="435"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">436 </FONT><A NAME="436"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Clears the existing solution.<br><FONT ID="LN">437 </FONT><A NAME="437"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">438 </FONT><A NAME="438"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">439 </FONT><A NAME="439"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">440 </FONT><A NAME="440"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">441 </FONT><A NAME="441"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> clearSolution() {<br><FONT ID="LN">442 </FONT><A NAME="442"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setActiveBindings(<FONT ID="Null">null</FONT>, <FONT ID="Null">null</FONT>, <FONT ID="Null">null</FONT>, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">443 </FONT><A NAME="443"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">444 </FONT><A NAME="444"></A><br><FONT ID="LN">445 </FONT><A NAME="445"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">446 </FONT><A NAME="446"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Compares the identifier of two schemes, and decides which scheme is the<br><FONT ID="LN">447 </FONT><A NAME="447"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* youngest (i.e., the child) of the two. Both schemes should be active<br><FONT ID="LN">448 </FONT><A NAME="448"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* schemes.<br><FONT ID="LN">449 </FONT><A NAME="449"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">450 </FONT><A NAME="450"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param schemeId1<br><FONT ID="LN">451 </FONT><A NAME="451"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The identifier of the first scheme; must not be<br><FONT ID="LN">452 </FONT><A NAME="452"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">453 </FONT><A NAME="453"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param schemeId2<br><FONT ID="LN">454 </FONT><A NAME="454"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The identifier of the second scheme; must not be<br><FONT ID="LN">455 </FONT><A NAME="455"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">456 </FONT><A NAME="456"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return &lt;code&gt;0&lt;/code&gt; if the two schemes are equal of if neither<br><FONT ID="LN">457 </FONT><A NAME="457"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         scheme is active; &lt;code&gt;1&lt;/code&gt; if the second scheme is the<br><FONT ID="LN">458 </FONT><A NAME="458"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         youngest; and &lt;code&gt;-1&lt;/code&gt; if the first scheme is the<br><FONT ID="LN">459 </FONT><A NAME="459"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         youngest.<br><FONT ID="LN">460 </FONT><A NAME="460"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @since 3.2<br><FONT ID="LN">461 </FONT><A NAME="461"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">462 </FONT><A NAME="462"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> compareSchemes(<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> schemeId1,<br><FONT ID="LN">463 </FONT><A NAME="463"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> schemeId2) {<br><FONT ID="LN">464 </FONT><A NAME="464"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!schemeId2.equals(schemeId1)) {<br><FONT ID="LN">465 </FONT><A NAME="465"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; activeSchemeIds.length; i++) {<br><FONT ID="LN">466 </FONT><A NAME="466"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> schemePointer = activeSchemeIds[i];<br><FONT ID="LN">467 </FONT><A NAME="467"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (schemeId2.equals(schemePointer)) {<br><FONT ID="LN">468 </FONT><A NAME="468"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">469 </FONT><A NAME="469"></A><br><FONT ID="LN">470 </FONT><A NAME="470"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (schemeId1.equals(schemePointer)) {<br><FONT ID="LN">471 </FONT><A NAME="471"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> -<FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">472 </FONT><A NAME="472"></A><br><FONT ID="LN">473 </FONT><A NAME="473"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">474 </FONT><A NAME="474"></A><br><FONT ID="LN">475 </FONT><A NAME="475"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">476 </FONT><A NAME="476"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">477 </FONT><A NAME="477"></A><br><FONT ID="LN">478 </FONT><A NAME="478"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">479 </FONT><A NAME="479"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">480 </FONT><A NAME="480"></A><br><FONT ID="LN">481 </FONT><A NAME="481"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">482 </FONT><A NAME="482"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">483 </FONT><A NAME="483"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Computes the bindings given the context tree, and inserts them into the<br><FONT ID="LN">484 </FONT><A NAME="484"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;commandIdsByTrigger&lt;/code&gt;. It is assumed that<br><FONT ID="LN">485 </FONT><A NAME="485"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;locales&lt;/code&gt;,&lt;code&gt;platforsm&lt;/code&gt; and<br><FONT ID="LN">486 </FONT><A NAME="486"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;schemeIds&lt;/code&gt; correctly reflect the state of the application.<br><FONT ID="LN">487 </FONT><A NAME="487"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method does not deal with caching.<br><FONT ID="LN">488 </FONT><A NAME="488"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">489 </FONT><A NAME="489"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">490 </FONT><A NAME="490"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">491 </FONT><A NAME="491"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of bindings.<br><FONT ID="LN">492 </FONT><A NAME="492"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">493 </FONT><A NAME="493"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">494 </FONT><A NAME="494"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param activeContextTree<br><FONT ID="LN">495 </FONT><A NAME="495"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The map representing the tree of active contexts. The map is<br><FONT ID="LN">496 </FONT><A NAME="496"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            one of child to parent, each being a context id (<br><FONT ID="LN">497 </FONT><A NAME="497"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;String&lt;/code&gt;). The keys are never &lt;code&gt;null&lt;/code&gt;,<br><FONT ID="LN">498 </FONT><A NAME="498"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            but the values may be (i.e., no parent). This map may be<br><FONT ID="LN">499 </FONT><A NAME="499"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            empty. It may be &lt;code&gt;null&lt;/code&gt; if we shouldn't consider<br><FONT ID="LN">500 </FONT><A NAME="500"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            contexts.<br><FONT ID="LN">501 </FONT><A NAME="501"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param bindingsByTrigger<br><FONT ID="LN">502 </FONT><A NAME="502"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The empty of map that is intended to be filled with triggers (<br><FONT ID="LN">503 </FONT><A NAME="503"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;TriggerSequence&lt;/code&gt;) to bindings (<br><FONT ID="LN">504 </FONT><A NAME="504"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;Binding&lt;/code&gt;). This value must not be<br><FONT ID="LN">505 </FONT><A NAME="505"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;null&lt;/code&gt; and must be empty.<br><FONT ID="LN">506 </FONT><A NAME="506"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param triggersByCommandId<br><FONT ID="LN">507 </FONT><A NAME="507"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The empty of map that is intended to be filled with command<br><FONT ID="LN">508 </FONT><A NAME="508"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            identifiers (&lt;code&gt;String&lt;/code&gt;) to triggers (<br><FONT ID="LN">509 </FONT><A NAME="509"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;TriggerSequence&lt;/code&gt;). This value must either be<br><FONT ID="LN">510 </FONT><A NAME="510"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;null&lt;/code&gt; (indicating that these values are not<br><FONT ID="LN">511 </FONT><A NAME="511"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            needed), or empty (indicating that this map should be<br><FONT ID="LN">512 </FONT><A NAME="512"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            computed).<br><FONT ID="LN">513 </FONT><A NAME="513"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">514 </FONT><A NAME="514"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> computeBindings(<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> activeContextTree,<br><FONT ID="LN">515 </FONT><A NAME="515"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bindingsByTrigger, <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> triggersByCommandId, <br><FONT ID="LN">516 </FONT><A NAME="516"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> conflictsByTrigger) {<br><FONT ID="LN">517 </FONT><A NAME="517"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">518 </FONT><A NAME="518"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* FIRST PASS: Remove all of the bindings that are marking deletions.<br><FONT ID="LN">519 </FONT><A NAME="519"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">520 </FONT><A NAME="520"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] trimmedBindings = removeDeletions(bindings);<br><FONT ID="LN">521 </FONT><A NAME="521"></A><br><FONT ID="LN">522 </FONT><A NAME="522"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">523 </FONT><A NAME="523"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* SECOND PASS: Just throw in bindings that match the current state. If<br><FONT ID="LN">524 </FONT><A NAME="524"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* there is more than one match for a binding, then create a list.<br><FONT ID="LN">525 </FONT><A NAME="525"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">526 </FONT><A NAME="526"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> possibleBindings = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">527 </FONT><A NAME="527"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> length = trimmedBindings.length;<br><FONT ID="LN">528 </FONT><A NAME="528"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; length; i++) {<br><FONT ID="LN">529 </FONT><A NAME="529"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding = trimmedBindings[i];<br><FONT ID="LN">530 </FONT><A NAME="530"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> found;<br><FONT ID="LN">531 </FONT><A NAME="531"></A><br><FONT ID="LN">532 </FONT><A NAME="532"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Check the context.<br><FONT ID="LN">533 </FONT><A NAME="533"></A></FONT>            <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> contextId = binding.getContextId();<br><FONT ID="LN">534 </FONT><A NAME="534"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((activeContextTree != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">535 </FONT><A NAME="535"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; (!activeContextTree.containsKey(contextId))) {<br><FONT ID="LN">536 </FONT><A NAME="536"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">537 </FONT><A NAME="537"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">538 </FONT><A NAME="538"></A><br><FONT ID="LN">539 </FONT><A NAME="539"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Check the locale.<br><FONT ID="LN">540 </FONT><A NAME="540"></A></FONT>            <FONT ID="If">if</FONT> (!localeMatches(binding)) {<br><FONT ID="LN">541 </FONT><A NAME="541"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">542 </FONT><A NAME="542"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">543 </FONT><A NAME="543"></A><br><FONT ID="LN">544 </FONT><A NAME="544"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Check the platform.<br><FONT ID="LN">545 </FONT><A NAME="545"></A></FONT>            <FONT ID="If">if</FONT> (!platformMatches(binding)) {<br><FONT ID="LN">546 </FONT><A NAME="546"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">547 </FONT><A NAME="547"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">548 </FONT><A NAME="548"></A><br><FONT ID="LN">549 </FONT><A NAME="549"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Check the scheme ids.<br><FONT ID="LN">550 </FONT><A NAME="550"></A></FONT>            <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> schemeId = binding.getSchemeId();<br><FONT ID="LN">551 </FONT><A NAME="551"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;found = <FONT ID="False">false</FONT>;<br><FONT ID="LN">552 </FONT><A NAME="552"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (activeSchemeIds != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">553 </FONT><A NAME="553"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; activeSchemeIds.length; j++) {<br><FONT ID="LN">554 </FONT><A NAME="554"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (Util.equals(schemeId, activeSchemeIds[j])) {<br><FONT ID="LN">555 </FONT><A NAME="555"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;found = <FONT ID="True">true</FONT>;<br><FONT ID="LN">556 </FONT><A NAME="556"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">557 </FONT><A NAME="557"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">558 </FONT><A NAME="558"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">559 </FONT><A NAME="559"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">560 </FONT><A NAME="560"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!found) {<br><FONT ID="LN">561 </FONT><A NAME="561"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">562 </FONT><A NAME="562"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">563 </FONT><A NAME="563"></A><br><FONT ID="LN">564 </FONT><A NAME="564"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Insert the match into the list of possible matches.<br><FONT ID="LN">565 </FONT><A NAME="565"></A></FONT>            <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> trigger = binding.getTriggerSequence();<br><FONT ID="LN">566 </FONT><A NAME="566"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> existingMatch = possibleBindings.get(trigger);<br><FONT ID="LN">567 </FONT><A NAME="567"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (existingMatch <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) {<br><FONT ID="LN">568 </FONT><A NAME="568"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possibleBindings.remove(trigger);<br><FONT ID="LN">569 </FONT><A NAME="569"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> matches = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/ArrayList.java.htm">ArrayList</A>  <A HREF= "/220.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">570 </FONT><A NAME="570"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches.add(existingMatch);<br><FONT ID="LN">571 </FONT><A NAME="571"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches.add(binding);<br><FONT ID="LN">572 </FONT><A NAME="572"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possibleBindings.put(trigger, matches);<br><FONT ID="LN">573 </FONT><A NAME="573"></A><br><FONT ID="LN">574 </FONT><A NAME="574"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (existingMatch <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) {<br><FONT ID="LN">575 </FONT><A NAME="575"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> matches = (<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) existingMatch;<br><FONT ID="LN">576 </FONT><A NAME="576"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches.add(binding);<br><FONT ID="LN">577 </FONT><A NAME="577"></A><br><FONT ID="LN">578 </FONT><A NAME="578"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">579 </FONT><A NAME="579"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possibleBindings.put(trigger, binding);<br><FONT ID="LN">580 </FONT><A NAME="580"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">581 </FONT><A NAME="581"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">582 </FONT><A NAME="582"></A><br><FONT ID="LN">583 </FONT><A NAME="583"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../org/eclipse/core/runtime/MultiStatus.java.htm">MultiStatus</A> conflicts = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/core/runtime/MultiStatus.java.htm">MultiStatus</A>(<FONT ID="StringLiteral">"org.eclipse.jface"</FONT>, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">584 </FONT><A NAME="584"></A></FONT>                <FONT ID="StringLiteral">"Keybinding conflicts occurred.  They may interfere with normal accelerator operation."</FONT>, <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">585 </FONT><A NAME="585"></A></FONT>                <FONT ID="Null">null</FONT>);<br><FONT ID="LN">586 </FONT><A NAME="586"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">587 </FONT><A NAME="587"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* THIRD PASS: In this pass, we move any non-conflicting bindings<br><FONT ID="LN">588 </FONT><A NAME="588"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* directly into the map. In the case of conflicts, we apply some<br><FONT ID="LN">589 </FONT><A NAME="589"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* further logic to try to resolve them. If the conflict can't be<br><FONT ID="LN">590 </FONT><A NAME="590"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* resolved, then we log the problem.<br><FONT ID="LN">591 </FONT><A NAME="591"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">592 </FONT><A NAME="592"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Iterator.java.htm">Iterator</A>  <A HREF= "/1170.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> possibleBindingItr = possibleBindings.entrySet()<br><FONT ID="LN">593 </FONT><A NAME="593"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.iterator();<br><FONT ID="LN">594 </FONT><A NAME="594"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (possibleBindingItr.hasNext()) {<br><FONT ID="LN">595 </FONT><A NAME="595"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map.Entry</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> entry = (<A HREF="../../../../java/util/HashMap.java.htm">Map.Entry</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) possibleBindingItr.next();<br><FONT ID="LN">596 </FONT><A NAME="596"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> trigger = (<A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>) entry.getKey();<br><FONT ID="LN">597 </FONT><A NAME="597"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> match = entry.getValue();<br><FONT ID="LN">598 </FONT><A NAME="598"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">599 </FONT><A NAME="599"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* What we do depends slightly on whether we are trying to build a<br><FONT ID="LN">600 </FONT><A NAME="600"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* list of all possible bindings (disregarding context), or a flat<br><FONT ID="LN">601 </FONT><A NAME="601"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* map given the currently active contexts.<br><FONT ID="LN">602 </FONT><A NAME="602"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">603 </FONT><A NAME="603"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (activeContextTree == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">604 </FONT><A NAME="604"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// We are building the list of all possible bindings.<br><FONT ID="LN">605 </FONT><A NAME="605"></A></FONT>                <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bindings = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/ArrayList.java.htm">ArrayList</A>  <A HREF= "/220.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">606 </FONT><A NAME="606"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (match <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) {<br><FONT ID="LN">607 </FONT><A NAME="607"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindings.add(match);<br><FONT ID="LN">608 </FONT><A NAME="608"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingsByTrigger.put(trigger, bindings);<br><FONT ID="LN">609 </FONT><A NAME="609"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addReverseLookup(triggersByCommandId, ((<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) match)<br><FONT ID="LN">610 </FONT><A NAME="610"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getParameterizedCommand(), trigger);<br><FONT ID="LN">611 </FONT><A NAME="611"></A><br><FONT ID="LN">612 </FONT><A NAME="612"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (match <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) {<br><FONT ID="LN">613 </FONT><A NAME="613"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindings.addAll((<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) match);<br><FONT ID="LN">614 </FONT><A NAME="614"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingsByTrigger.put(trigger, bindings);<br><FONT ID="LN">615 </FONT><A NAME="615"></A><br><FONT ID="LN">616 </FONT><A NAME="616"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Iterator.java.htm">Iterator</A>  <A HREF= "/1170.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> matchItr = bindings.iterator();<br><FONT ID="LN">617 </FONT><A NAME="617"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (matchItr.hasNext()) {<br><FONT ID="LN">618 </FONT><A NAME="618"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addReverseLookup(triggersByCommandId,<br><FONT ID="LN">619 </FONT><A NAME="619"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) matchItr.next())<br><FONT ID="LN">620 </FONT><A NAME="620"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getParameterizedCommand(), trigger);<br><FONT ID="LN">621 </FONT><A NAME="621"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">622 </FONT><A NAME="622"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">623 </FONT><A NAME="623"></A><br><FONT ID="LN">624 </FONT><A NAME="624"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">625 </FONT><A NAME="625"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// We are building the flat map of trigger to commands.<br><FONT ID="LN">626 </FONT><A NAME="626"></A></FONT>                <FONT ID="If">if</FONT> (match <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) {<br><FONT ID="LN">627 </FONT><A NAME="627"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding = (<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) match;<br><FONT ID="LN">628 </FONT><A NAME="628"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingsByTrigger.put(trigger, binding);<br><FONT ID="LN">629 </FONT><A NAME="629"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addReverseLookup(triggersByCommandId, binding<br><FONT ID="LN">630 </FONT><A NAME="630"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getParameterizedCommand(), trigger);<br><FONT ID="LN">631 </FONT><A NAME="631"></A><br><FONT ID="LN">632 </FONT><A NAME="632"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (match <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) {<br><FONT ID="LN">633 </FONT><A NAME="633"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> winner = resolveConflicts((<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) match,<br><FONT ID="LN">634 </FONT><A NAME="634"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activeContextTree);<br><FONT ID="LN">635 </FONT><A NAME="635"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (winner == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">636 </FONT><A NAME="636"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// warn once ... so as not to flood the logs<br><FONT ID="LN">637 </FONT><A NAME="637"></A></FONT>                        conflictsByTrigger.put(trigger, match);<br><FONT ID="LN">638 </FONT><A NAME="638"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (triggerConflicts.add(trigger)) {<br><FONT ID="LN">639 </FONT><A NAME="639"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/io/StringWriter.java.htm">StringWriter</A>  <A HREF= "/2064.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> sw = <FONT ID="New">new</FONT> <A HREF="../../../../java/io/StringWriter.java.htm">StringWriter</A>  <A HREF= "/2064.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">640 </FONT><A NAME="640"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/io/BufferedWriter.java.htm">BufferedWriter</A>  <A HREF= "/1148.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../java/io/BufferedWriter.java.htm">BufferedWriter</A>  <A HREF= "/1148.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(sw);<br><FONT ID="LN">641 </FONT><A NAME="641"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">642 </FONT><A NAME="642"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.write(<FONT ID="StringLiteral">"A conflict occurred for "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">643 </FONT><A NAME="643"></A></FONT>                                buffer.write(trigger.toString());<br><FONT ID="LN">644 </FONT><A NAME="644"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.write(<FONT ID="CharacerLiteral">':'</FONT>);<br><FONT ID="LN">645 </FONT><A NAME="645"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../java/util/Iterator.java.htm">Iterator</A>  <A HREF= "/1170.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> i = ((<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) match).iterator();<br><FONT ID="LN">646 </FONT><A NAME="646"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (i.hasNext()) {<br><FONT ID="LN">647 </FONT><A NAME="647"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.newLine();<br><FONT ID="LN">648 </FONT><A NAME="648"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.write(i.next().toString());<br><FONT ID="LN">649 </FONT><A NAME="649"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">650 </FONT><A NAME="650"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.flush();<br><FONT ID="LN">651 </FONT><A NAME="651"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../java/io/IOException.java.htm">IOException</A>  <A HREF= "/2848.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e) {<br><FONT ID="LN">652 </FONT><A NAME="652"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// we should not get this<br><FONT ID="LN">653 </FONT><A NAME="653"></A></FONT>                            }<br><FONT ID="LN">654 </FONT><A NAME="654"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conflicts.add(<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/core/runtime/IStatus.java.htm">Status</A>(IStatus.WARNING,<br><FONT ID="LN">655 </FONT><A NAME="655"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"org.eclipse.jface"</FONT>, <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">656 </FONT><A NAME="656"></A></FONT>                                    sw.toString()));<br><FONT ID="LN">657 </FONT><A NAME="657"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">658 </FONT><A NAME="658"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (DEBUG) {<br><FONT ID="LN">659 </FONT><A NAME="659"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tracing.printTrace(<FONT ID="StringLiteral">"BINDINGS"</FONT>, <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">660 </FONT><A NAME="660"></A></FONT>                                    <FONT ID="StringLiteral">"A conflict occurred for "</FONT> + trigger); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">661 </FONT><A NAME="661"></A></FONT>                            Tracing.printTrace(<FONT ID="StringLiteral">"BINDINGS"</FONT>, <FONT ID="StringLiteral">"    "</FONT> + match); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">662 </FONT><A NAME="662"></A></FONT>                        }<br><FONT ID="LN">663 </FONT><A NAME="663"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">664 </FONT><A NAME="664"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingsByTrigger.put(trigger, winner);<br><FONT ID="LN">665 </FONT><A NAME="665"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addReverseLookup(triggersByCommandId, winner<br><FONT ID="LN">666 </FONT><A NAME="666"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getParameterizedCommand(), trigger);<br><FONT ID="LN">667 </FONT><A NAME="667"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">668 </FONT><A NAME="668"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">669 </FONT><A NAME="669"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">670 </FONT><A NAME="670"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">671 </FONT><A NAME="671"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (conflicts.getSeverity() != IStatus.OK) {<br><FONT ID="LN">672 </FONT><A NAME="672"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Policy.getLog().log(conflicts);<br><FONT ID="LN">673 </FONT><A NAME="673"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">674 </FONT><A NAME="674"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">675 </FONT><A NAME="675"></A><br><FONT ID="LN">676 </FONT><A NAME="676"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">677 </FONT><A NAME="677"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">678 </FONT><A NAME="678"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Notifies this manager that the context manager has changed. This method<br><FONT ID="LN">679 </FONT><A NAME="679"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* is intended for internal use only.<br><FONT ID="LN">680 </FONT><A NAME="680"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">681 </FONT><A NAME="681"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">682 </FONT><A NAME="682"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">683 </FONT><A NAME="683"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">684 </FONT><A NAME="684"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">685 </FONT><A NAME="685"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> contextManagerChanged(<br><FONT ID="LN">686 </FONT><A NAME="686"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/contexts/ContextManagerEvent.java.htm">ContextManagerEvent</A> contextManagerEvent) {<br><FONT ID="LN">687 </FONT><A NAME="687"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (contextManagerEvent.isActiveContextsChanged()) {<br><FONT ID="LN">688 </FONT><A NAME="688"></A><FONT ID="SingleLineComment">// clearSolution();<br><FONT ID="LN">689 </FONT><A NAME="689"></A></FONT>            recomputeBindings();<br><FONT ID="LN">690 </FONT><A NAME="690"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">691 </FONT><A NAME="691"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">692 </FONT><A NAME="692"></A><br><FONT ID="LN">693 </FONT><A NAME="693"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">694 </FONT><A NAME="694"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the number of strokes in an array of triggers. It is assumed that<br><FONT ID="LN">695 </FONT><A NAME="695"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* there is one natural key per trigger. The strokes are counted based on<br><FONT ID="LN">696 </FONT><A NAME="696"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the type of key. Natural keys are worth one; ctrl is worth two; shift is<br><FONT ID="LN">697 </FONT><A NAME="697"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* worth four; and alt is worth eight.<br><FONT ID="LN">698 </FONT><A NAME="698"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">699 </FONT><A NAME="699"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param triggers<br><FONT ID="LN">700 </FONT><A NAME="700"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The triggers on which to count strokes; must not be<br><FONT ID="LN">701 </FONT><A NAME="701"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">702 </FONT><A NAME="702"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The value of the strokes in the triggers.<br><FONT ID="LN">703 </FONT><A NAME="703"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @since 3.2<br><FONT ID="LN">704 </FONT><A NAME="704"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">705 </FONT><A NAME="705"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> countStrokes(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Trigger.java.htm">Trigger</A>[] triggers) {<br><FONT ID="LN">706 </FONT><A NAME="706"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> strokeCount = triggers.length;<br><FONT ID="LN">707 </FONT><A NAME="707"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; triggers.length; i++) {<br><FONT ID="LN">708 </FONT><A NAME="708"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Trigger.java.htm">Trigger</A> trigger = triggers[i];<br><FONT ID="LN">709 </FONT><A NAME="709"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (trigger <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../org/eclipse/jface/bindings/keys/KeyStroke.java.htm">KeyStroke</A>) {<br><FONT ID="LN">710 </FONT><A NAME="710"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/keys/KeyStroke.java.htm">KeyStroke</A> keyStroke = (<A HREF="../../../../org/eclipse/jface/bindings/keys/KeyStroke.java.htm">KeyStroke</A>) trigger;<br><FONT ID="LN">711 </FONT><A NAME="711"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> modifierKeys = keyStroke.getModifierKeys();<br><FONT ID="LN">712 </FONT><A NAME="712"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/keys/IKeyLookup.java.htm">IKeyLookup</A> lookup = KeyLookupFactory.getDefault();<br><FONT ID="LN">713 </FONT><A NAME="713"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((modifierKeys &amp; lookup.getAlt()) != <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">714 </FONT><A NAME="714"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strokeCount += <FONT ID="IntegerLiteral">8</FONT>;<br><FONT ID="LN">715 </FONT><A NAME="715"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">716 </FONT><A NAME="716"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((modifierKeys &amp; lookup.getCtrl()) != <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">717 </FONT><A NAME="717"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strokeCount += <FONT ID="IntegerLiteral">2</FONT>;<br><FONT ID="LN">718 </FONT><A NAME="718"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">719 </FONT><A NAME="719"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((modifierKeys &amp; lookup.getShift()) != <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">720 </FONT><A NAME="720"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strokeCount += <FONT ID="IntegerLiteral">4</FONT>;<br><FONT ID="LN">721 </FONT><A NAME="721"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">722 </FONT><A NAME="722"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((modifierKeys &amp; lookup.getCommand()) != <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">723 </FONT><A NAME="723"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strokeCount += <FONT ID="IntegerLiteral">2</FONT>;<br><FONT ID="LN">724 </FONT><A NAME="724"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">725 </FONT><A NAME="725"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">726 </FONT><A NAME="726"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strokeCount += <FONT ID="IntegerLiteral">99</FONT>;<br><FONT ID="LN">727 </FONT><A NAME="727"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">728 </FONT><A NAME="728"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">729 </FONT><A NAME="729"></A><br><FONT ID="LN">730 </FONT><A NAME="730"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> strokeCount;<br><FONT ID="LN">731 </FONT><A NAME="731"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">732 </FONT><A NAME="732"></A><br><FONT ID="LN">733 </FONT><A NAME="733"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">734 </FONT><A NAME="734"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">735 </FONT><A NAME="735"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Creates a tree of context identifiers, representing the hierarchical<br><FONT ID="LN">736 </FONT><A NAME="736"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* structure of the given contexts. The tree is structured as a mapping from<br><FONT ID="LN">737 </FONT><A NAME="737"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* child to parent.<br><FONT ID="LN">738 </FONT><A NAME="738"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">739 </FONT><A NAME="739"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">740 </FONT><A NAME="740"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">741 </FONT><A NAME="741"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the height of the context tree.<br><FONT ID="LN">742 </FONT><A NAME="742"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">743 </FONT><A NAME="743"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">744 </FONT><A NAME="744"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param contextIds<br><FONT ID="LN">745 </FONT><A NAME="745"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The set of context identifiers to be converted into a tree;<br><FONT ID="LN">746 </FONT><A NAME="746"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">747 </FONT><A NAME="747"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The tree of contexts to use; may be empty, but never<br><FONT ID="LN">748 </FONT><A NAME="748"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;null&lt;/code&gt;. The keys and values are both strings.<br><FONT ID="LN">749 </FONT><A NAME="749"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">750 </FONT><A NAME="750"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> createContextTreeFor(<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashSet.java.htm">Set</A>  <A HREF= "/237.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> contextIds) {<br><FONT ID="LN">751 </FONT><A NAME="751"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> contextTree = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">752 </FONT><A NAME="752"></A><br><FONT ID="LN">753 </FONT><A NAME="753"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Iterator.java.htm">Iterator</A>  <A HREF= "/1170.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> contextIdItr = contextIds.iterator();<br><FONT ID="LN">754 </FONT><A NAME="754"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (contextIdItr.hasNext()) {<br><FONT ID="LN">755 </FONT><A NAME="755"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> childContextId = (<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) contextIdItr.next();<br><FONT ID="LN">756 </FONT><A NAME="756"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (childContextId != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">757 </FONT><A NAME="757"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Check if we've already got the part of the tree from here up.<br><FONT ID="LN">758 </FONT><A NAME="758"></A></FONT>                <FONT ID="If">if</FONT> (contextTree.containsKey(childContextId)) {<br><FONT ID="LN">759 </FONT><A NAME="759"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">760 </FONT><A NAME="760"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">761 </FONT><A NAME="761"></A><br><FONT ID="LN">762 </FONT><A NAME="762"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Retrieve the context.<br><FONT ID="LN">763 </FONT><A NAME="763"></A></FONT>                <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/contexts/Context.java.htm">Context</A> childContext = contextManager<br><FONT ID="LN">764 </FONT><A NAME="764"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getContext(childContextId);<br><FONT ID="LN">765 </FONT><A NAME="765"></A><br><FONT ID="LN">766 </FONT><A NAME="766"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Add the child-parent pair to the tree.<br><FONT ID="LN">767 </FONT><A NAME="767"></A></FONT>                <FONT ID="Try">try</FONT> {<br><FONT ID="LN">768 </FONT><A NAME="768"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> parentContextId = childContext.getParentId();<br><FONT ID="LN">769 </FONT><A NAME="769"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contextTree.put(childContextId, parentContextId);<br><FONT ID="LN">770 </FONT><A NAME="770"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;childContextId = parentContextId;<br><FONT ID="LN">771 </FONT><A NAME="771"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/common/NotDefinedException.java.htm">NotDefinedException</A> e) {<br><FONT ID="LN">772 </FONT><A NAME="772"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>; <FONT ID="SingleLineComment">// stop ascending<br><FONT ID="LN">773 </FONT><A NAME="773"></A></FONT>                }<br><FONT ID="LN">774 </FONT><A NAME="774"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">775 </FONT><A NAME="775"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">776 </FONT><A NAME="776"></A><br><FONT ID="LN">777 </FONT><A NAME="777"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> contextTree;<br><FONT ID="LN">778 </FONT><A NAME="778"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">779 </FONT><A NAME="779"></A><br><FONT ID="LN">780 </FONT><A NAME="780"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">781 </FONT><A NAME="781"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">782 </FONT><A NAME="782"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Creates a tree of context identifiers, representing the hierarchical<br><FONT ID="LN">783 </FONT><A NAME="783"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* structure of the given contexts. The tree is structured as a mapping from<br><FONT ID="LN">784 </FONT><A NAME="784"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* child to parent. In this tree, the key binding specific filtering of<br><FONT ID="LN">785 </FONT><A NAME="785"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* contexts will have taken place.<br><FONT ID="LN">786 </FONT><A NAME="786"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">787 </FONT><A NAME="787"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">788 </FONT><A NAME="788"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n^2)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt;<br><FONT ID="LN">789 </FONT><A NAME="789"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* is the height of the context tree.<br><FONT ID="LN">790 </FONT><A NAME="790"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">791 </FONT><A NAME="791"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">792 </FONT><A NAME="792"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param contextIds<br><FONT ID="LN">793 </FONT><A NAME="793"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The set of context identifiers to be converted into a tree;<br><FONT ID="LN">794 </FONT><A NAME="794"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">795 </FONT><A NAME="795"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The tree of contexts to use; may be empty, but never<br><FONT ID="LN">796 </FONT><A NAME="796"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;null&lt;/code&gt;. The keys and values are both strings.<br><FONT ID="LN">797 </FONT><A NAME="797"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">798 </FONT><A NAME="798"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> createFilteredContextTreeFor(<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashSet.java.htm">Set</A>  <A HREF= "/237.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> contextIds) {<br><FONT ID="LN">799 </FONT><A NAME="799"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Check to see whether a dialog or window is active.<br><FONT ID="LN">800 </FONT><A NAME="800"></A></FONT>        <FONT ID="Boolean">boolean</FONT> dialog = <FONT ID="False">false</FONT>;<br><FONT ID="LN">801 </FONT><A NAME="801"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> window = <FONT ID="False">false</FONT>;<br><FONT ID="LN">802 </FONT><A NAME="802"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../java/util/Iterator.java.htm">Iterator</A>  <A HREF= "/1170.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> contextIdItr = contextIds.iterator();<br><FONT ID="LN">803 </FONT><A NAME="803"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (contextIdItr.hasNext()) {<br><FONT ID="LN">804 </FONT><A NAME="804"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> contextId = (<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) contextIdItr.next();<br><FONT ID="LN">805 </FONT><A NAME="805"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (IContextIds.CONTEXT_ID_DIALOG.equals(contextId)) {<br><FONT ID="LN">806 </FONT><A NAME="806"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dialog = <FONT ID="True">true</FONT>;<br><FONT ID="LN">807 </FONT><A NAME="807"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">808 </FONT><A NAME="808"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">809 </FONT><A NAME="809"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (IContextIds.CONTEXT_ID_WINDOW.equals(contextId)) {<br><FONT ID="LN">810 </FONT><A NAME="810"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window = <FONT ID="True">true</FONT>;<br><FONT ID="LN">811 </FONT><A NAME="811"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">812 </FONT><A NAME="812"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">813 </FONT><A NAME="813"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">814 </FONT><A NAME="814"></A><br><FONT ID="LN">815 </FONT><A NAME="815"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">816 </FONT><A NAME="816"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Remove all context identifiers for contexts whose parents are dialog<br><FONT ID="LN">817 </FONT><A NAME="817"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* or window, and the corresponding dialog or window context is not<br><FONT ID="LN">818 </FONT><A NAME="818"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* active.<br><FONT ID="LN">819 </FONT><A NAME="819"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">820 </FONT><A NAME="820"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contextIdItr = contextIds.iterator();<br><FONT ID="LN">821 </FONT><A NAME="821"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (contextIdItr.hasNext()) {<br><FONT ID="LN">822 </FONT><A NAME="822"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> contextId = (<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) contextIdItr.next();<br><FONT ID="LN">823 </FONT><A NAME="823"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../org/eclipse/core/commands/contexts/Context.java.htm">Context</A> context = contextManager.getContext(contextId);<br><FONT ID="LN">824 </FONT><A NAME="824"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">825 </FONT><A NAME="825"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> parentId = context.getParentId();<br><FONT ID="LN">826 </FONT><A NAME="826"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (parentId != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">827 </FONT><A NAME="827"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (IContextIds.CONTEXT_ID_DIALOG.equals(parentId)) {<br><FONT ID="LN">828 </FONT><A NAME="828"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!dialog) {<br><FONT ID="LN">829 </FONT><A NAME="829"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contextIdItr.remove();<br><FONT ID="LN">830 </FONT><A NAME="830"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">831 </FONT><A NAME="831"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">832 </FONT><A NAME="832"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">833 </FONT><A NAME="833"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (IContextIds.CONTEXT_ID_WINDOW.equals(parentId)) {<br><FONT ID="LN">834 </FONT><A NAME="834"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!window) {<br><FONT ID="LN">835 </FONT><A NAME="835"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contextIdItr.remove();<br><FONT ID="LN">836 </FONT><A NAME="836"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">837 </FONT><A NAME="837"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">838 </FONT><A NAME="838"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">839 </FONT><A NAME="839"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (IContextIds.CONTEXT_ID_DIALOG_AND_WINDOW<br><FONT ID="LN">840 </FONT><A NAME="840"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.equals(parentId)) {<br><FONT ID="LN">841 </FONT><A NAME="841"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((!window) &amp;&amp; (!dialog)) {<br><FONT ID="LN">842 </FONT><A NAME="842"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contextIdItr.remove();<br><FONT ID="LN">843 </FONT><A NAME="843"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">844 </FONT><A NAME="844"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">845 </FONT><A NAME="845"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">846 </FONT><A NAME="846"></A><br><FONT ID="LN">847 </FONT><A NAME="847"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context = contextManager.getContext(parentId);<br><FONT ID="LN">848 </FONT><A NAME="848"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parentId = context.getParentId();<br><FONT ID="LN">849 </FONT><A NAME="849"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">850 </FONT><A NAME="850"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../org/eclipse/core/commands/common/NotDefinedException.java.htm">NotDefinedException</A> e) {<br><FONT ID="LN">851 </FONT><A NAME="851"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// since this context was part of an undefined hierarchy,<br><FONT ID="LN">852 </FONT><A NAME="852"></A></FONT>                <FONT ID="SingleLineComment">// I'm going to yank it out as a bad bet<br><FONT ID="LN">853 </FONT><A NAME="853"></A></FONT>                contextIdItr.remove();<br><FONT ID="LN">854 </FONT><A NAME="854"></A><br><FONT ID="LN">855 </FONT><A NAME="855"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// This is a logging optimization, only log the error once.<br><FONT ID="LN">856 </FONT><A NAME="856"></A></FONT>                <FONT ID="If">if</FONT> (context == <FONT ID="Null">null</FONT> || !bindingErrors.contains(context.getId())) {<br><FONT ID="LN">857 </FONT><A NAME="857"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (context != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">858 </FONT><A NAME="858"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingErrors.add(context.getId());<br><FONT ID="LN">859 </FONT><A NAME="859"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">860 </FONT><A NAME="860"></A><br><FONT ID="LN">861 </FONT><A NAME="861"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// now log like you've never logged before!<br><FONT ID="LN">862 </FONT><A NAME="862"></A></FONT>                    Policy<br><FONT ID="LN">863 </FONT><A NAME="863"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getLog()<br><FONT ID="LN">864 </FONT><A NAME="864"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.log(<br><FONT ID="LN">865 </FONT><A NAME="865"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/core/runtime/IStatus.java.htm">Status</A>(<br><FONT ID="LN">866 </FONT><A NAME="866"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IStatus.ERROR,<br><FONT ID="LN">867 </FONT><A NAME="867"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Policy.JFACE,<br><FONT ID="LN">868 </FONT><A NAME="868"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IStatus.OK,<br><FONT ID="LN">869 </FONT><A NAME="869"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"Undefined context while filtering dialog/window contexts"</FONT>, <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">870 </FONT><A NAME="870"></A></FONT>                                            e));<br><FONT ID="LN">871 </FONT><A NAME="871"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">872 </FONT><A NAME="872"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">873 </FONT><A NAME="873"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">874 </FONT><A NAME="874"></A><br><FONT ID="LN">875 </FONT><A NAME="875"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> createContextTreeFor(contextIds);<br><FONT ID="LN">876 </FONT><A NAME="876"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">877 </FONT><A NAME="877"></A><br><FONT ID="LN">878 </FONT><A NAME="878"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">879 </FONT><A NAME="879"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">880 </FONT><A NAME="880"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Notifies all of the listeners to this manager that the defined or active<br><FONT ID="LN">881 </FONT><A NAME="881"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* schemes of bindings have changed.<br><FONT ID="LN">882 </FONT><A NAME="882"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">883 </FONT><A NAME="883"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">884 </FONT><A NAME="884"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The time this method takes to complete is dependent on external<br><FONT ID="LN">885 </FONT><A NAME="885"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* listeners.<br><FONT ID="LN">886 </FONT><A NAME="886"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">887 </FONT><A NAME="887"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">888 </FONT><A NAME="888"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param event<br><FONT ID="LN">889 </FONT><A NAME="889"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The event to send to all of the listeners; must not be<br><FONT ID="LN">890 </FONT><A NAME="890"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">891 </FONT><A NAME="891"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">892 </FONT><A NAME="892"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> fireBindingManagerChanged(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/BindingManagerEvent.java.htm">BindingManagerEvent</A> event) {<br><FONT ID="LN">893 </FONT><A NAME="893"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (event == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">894 </FONT><A NAME="894"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../java/lang/NullPointerException.java.htm">NullPointerException</A>  <A HREF= "/1249.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">895 </FONT><A NAME="895"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">896 </FONT><A NAME="896"></A><br><FONT ID="LN">897 </FONT><A NAME="897"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] listeners = getListeners();<br><FONT ID="LN">898 </FONT><A NAME="898"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; listeners.length; i++) {<br><FONT ID="LN">899 </FONT><A NAME="899"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/IBindingManagerListener.java.htm">IBindingManagerListener</A> listener = (<A HREF="../../../../org/eclipse/jface/bindings/IBindingManagerListener.java.htm">IBindingManagerListener</A>) listeners[i];<br><FONT ID="LN">900 </FONT><A NAME="900"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listener.bindingManagerChanged(event);<br><FONT ID="LN">901 </FONT><A NAME="901"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">902 </FONT><A NAME="902"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">903 </FONT><A NAME="903"></A><br><FONT ID="LN">904 </FONT><A NAME="904"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">905 </FONT><A NAME="905"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">906 </FONT><A NAME="906"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the active bindings. The caller must not modify the returned map.<br><FONT ID="LN">907 </FONT><A NAME="907"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">908 </FONT><A NAME="908"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">909 </FONT><A NAME="909"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;. If the active bindings are<br><FONT ID="LN">910 </FONT><A NAME="910"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not yet computed, then this completes in &lt;code&gt;O(nn)&lt;/code&gt;, where<br><FONT ID="LN">911 </FONT><A NAME="911"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;n&lt;/code&gt; is the number of bindings.<br><FONT ID="LN">912 </FONT><A NAME="912"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">913 </FONT><A NAME="913"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">914 </FONT><A NAME="914"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The map of triggers (&lt;code&gt;TriggerSequence&lt;/code&gt;) to<br><FONT ID="LN">915 </FONT><A NAME="915"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         bindings (&lt;code&gt;Binding&lt;/code&gt;) which are currently active.<br><FONT ID="LN">916 </FONT><A NAME="916"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         This value may be &lt;code&gt;null&lt;/code&gt; if there are no active<br><FONT ID="LN">917 </FONT><A NAME="917"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         bindings, and it may be empty.<br><FONT ID="LN">918 </FONT><A NAME="918"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">919 </FONT><A NAME="919"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getActiveBindings() {<br><FONT ID="LN">920 </FONT><A NAME="920"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (activeBindings == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">921 </FONT><A NAME="921"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recomputeBindings();<br><FONT ID="LN">922 </FONT><A NAME="922"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">923 </FONT><A NAME="923"></A><br><FONT ID="LN">924 </FONT><A NAME="924"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> activeBindings;<br><FONT ID="LN">925 </FONT><A NAME="925"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">926 </FONT><A NAME="926"></A><br><FONT ID="LN">927 </FONT><A NAME="927"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">928 </FONT><A NAME="928"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">929 </FONT><A NAME="929"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the active bindings indexed by command identifier. The caller<br><FONT ID="LN">930 </FONT><A NAME="930"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* must not modify the returned map.<br><FONT ID="LN">931 </FONT><A NAME="931"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">932 </FONT><A NAME="932"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">933 </FONT><A NAME="933"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;. If the active bindings are<br><FONT ID="LN">934 </FONT><A NAME="934"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not yet computed, then this completes in &lt;code&gt;O(nn)&lt;/code&gt;, where<br><FONT ID="LN">935 </FONT><A NAME="935"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;n&lt;/code&gt; is the number of bindings.<br><FONT ID="LN">936 </FONT><A NAME="936"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">937 </FONT><A NAME="937"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">938 </FONT><A NAME="938"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The map of fully-parameterized commands (&lt;code&gt;ParameterizedCommand&lt;/code&gt;)<br><FONT ID="LN">939 </FONT><A NAME="939"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         to triggers (&lt;code&gt;TriggerSequence&lt;/code&gt;) which are<br><FONT ID="LN">940 </FONT><A NAME="940"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         currently active. This value may be &lt;code&gt;null&lt;/code&gt; if there<br><FONT ID="LN">941 </FONT><A NAME="941"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         are no active bindings, and it may be empty.<br><FONT ID="LN">942 </FONT><A NAME="942"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">943 </FONT><A NAME="943"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getActiveBindingsByParameterizedCommand() {<br><FONT ID="LN">944 </FONT><A NAME="944"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (activeBindingsByParameterizedCommand == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">945 </FONT><A NAME="945"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recomputeBindings();<br><FONT ID="LN">946 </FONT><A NAME="946"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">947 </FONT><A NAME="947"></A><br><FONT ID="LN">948 </FONT><A NAME="948"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> activeBindingsByParameterizedCommand;<br><FONT ID="LN">949 </FONT><A NAME="949"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">950 </FONT><A NAME="950"></A><br><FONT ID="LN">951 </FONT><A NAME="951"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">952 </FONT><A NAME="952"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">953 </FONT><A NAME="953"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Computes the bindings for the current state of the application, but<br><FONT ID="LN">954 </FONT><A NAME="954"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* disregarding the current contexts. This can be useful when trying to<br><FONT ID="LN">955 </FONT><A NAME="955"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* display all the possible bindings.<br><FONT ID="LN">956 </FONT><A NAME="956"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">957 </FONT><A NAME="957"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">958 </FONT><A NAME="958"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">959 </FONT><A NAME="959"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of bindings.<br><FONT ID="LN">960 </FONT><A NAME="960"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">961 </FONT><A NAME="961"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">962 </FONT><A NAME="962"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return A map of trigger (&lt;code&gt;TriggerSequence&lt;/code&gt;) to bindings (<br><FONT ID="LN">963 </FONT><A NAME="963"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;Collection&lt;/code&gt; containing &lt;code&gt;Binding&lt;/code&gt;).<br><FONT ID="LN">964 </FONT><A NAME="964"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         This map may be empty, but it is never &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">965 </FONT><A NAME="965"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">966 </FONT><A NAME="966"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getActiveBindingsDisregardingContext() {<br><FONT ID="LN">967 </FONT><A NAME="967"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (bindings == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">968 </FONT><A NAME="968"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Not yet initialized. This is happening too early. Do nothing.<br><FONT ID="LN">969 </FONT><A NAME="969"></A></FONT>            <FONT ID="Return">return</FONT> Collections.EMPTY_MAP;<br><FONT ID="LN">970 </FONT><A NAME="970"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">971 </FONT><A NAME="971"></A><br><FONT ID="LN">972 </FONT><A NAME="972"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Build a cached binding set for that state.<br><FONT ID="LN">973 </FONT><A NAME="973"></A></FONT>        <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A> bindingCache = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A>(<FONT ID="Null">null</FONT>,<br><FONT ID="LN">974 </FONT><A NAME="974"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locales, platforms, activeSchemeIds);<br><FONT ID="LN">975 </FONT><A NAME="975"></A><br><FONT ID="LN">976 </FONT><A NAME="976"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">977 </FONT><A NAME="977"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Check if the cached binding set already exists. If so, simply set the<br><FONT ID="LN">978 </FONT><A NAME="978"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* active bindings and return.<br><FONT ID="LN">979 </FONT><A NAME="979"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">980 </FONT><A NAME="980"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A> existingCache = (<A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A>) cachedBindings<br><FONT ID="LN">981 </FONT><A NAME="981"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.get(bindingCache);<br><FONT ID="LN">982 </FONT><A NAME="982"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (existingCache == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">983 </FONT><A NAME="983"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache = bindingCache;<br><FONT ID="LN">984 </FONT><A NAME="984"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cachedBindings.put(existingCache, existingCache);<br><FONT ID="LN">985 </FONT><A NAME="985"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">986 </FONT><A NAME="986"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> commandIdsByTrigger = existingCache.getBindingsByTrigger();<br><FONT ID="LN">987 </FONT><A NAME="987"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (commandIdsByTrigger != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">988 </FONT><A NAME="988"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (DEBUG) {<br><FONT ID="LN">989 </FONT><A NAME="989"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tracing.printTrace(<FONT ID="StringLiteral">"BINDINGS"</FONT>, <FONT ID="StringLiteral">"Cache hit"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">990 </FONT><A NAME="990"></A></FONT>            }<br><FONT ID="LN">991 </FONT><A NAME="991"></A><br><FONT ID="LN">992 </FONT><A NAME="992"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> Collections.unmodifiableMap(commandIdsByTrigger);<br><FONT ID="LN">993 </FONT><A NAME="993"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">994 </FONT><A NAME="994"></A><br><FONT ID="LN">995 </FONT><A NAME="995"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// There is no cached entry for this.<br><FONT ID="LN">996 </FONT><A NAME="996"></A></FONT>        <FONT ID="If">if</FONT> (DEBUG) {<br><FONT ID="LN">997 </FONT><A NAME="997"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tracing.printTrace(<FONT ID="StringLiteral">"BINDINGS"</FONT>, <FONT ID="StringLiteral">"Cache miss"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">998 </FONT><A NAME="998"></A></FONT>        }<br><FONT ID="LN">999 </FONT><A NAME="999"></A><br><FONT ID="LN">1000</FONT><A NAME="1000"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Compute the active bindings.<br><FONT ID="LN">1001</FONT><A NAME="1001"></A></FONT>        commandIdsByTrigger = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1002</FONT><A NAME="1002"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> triggersByParameterizedCommand = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1003</FONT><A NAME="1003"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> conflictsByTrigger = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1004</FONT><A NAME="1004"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;computeBindings(<FONT ID="Null">null</FONT>, commandIdsByTrigger,<br><FONT ID="LN">1005</FONT><A NAME="1005"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;triggersByParameterizedCommand, conflictsByTrigger);<br><FONT ID="LN">1006</FONT><A NAME="1006"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.setBindingsByTrigger(commandIdsByTrigger);<br><FONT ID="LN">1007</FONT><A NAME="1007"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.setTriggersByCommandId(triggersByParameterizedCommand);<br><FONT ID="LN">1008</FONT><A NAME="1008"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.setConflictsByTrigger(conflictsByTrigger);<br><FONT ID="LN">1009</FONT><A NAME="1009"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> Collections.unmodifiableMap(commandIdsByTrigger);<br><FONT ID="LN">1010</FONT><A NAME="1010"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1011</FONT><A NAME="1011"></A><br><FONT ID="LN">1012</FONT><A NAME="1012"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1013</FONT><A NAME="1013"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1014</FONT><A NAME="1014"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Computes the bindings for the current state of the application, but<br><FONT ID="LN">1015</FONT><A NAME="1015"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* disregarding the current contexts. This can be useful when trying to<br><FONT ID="LN">1016</FONT><A NAME="1016"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* display all the possible bindings.<br><FONT ID="LN">1017</FONT><A NAME="1017"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1018</FONT><A NAME="1018"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1019</FONT><A NAME="1019"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">1020</FONT><A NAME="1020"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of bindings.<br><FONT ID="LN">1021</FONT><A NAME="1021"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1022</FONT><A NAME="1022"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1023</FONT><A NAME="1023"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return A map of trigger (&lt;code&gt;TriggerSequence&lt;/code&gt;) to bindings (<br><FONT ID="LN">1024</FONT><A NAME="1024"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;Collection&lt;/code&gt; containing &lt;code&gt;Binding&lt;/code&gt;).<br><FONT ID="LN">1025</FONT><A NAME="1025"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         This map may be empty, but it is never &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1026</FONT><A NAME="1026"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @since 3.2<br><FONT ID="LN">1027</FONT><A NAME="1027"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1028</FONT><A NAME="1028"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getActiveBindingsDisregardingContextByParameterizedCommand() {<br><FONT ID="LN">1029</FONT><A NAME="1029"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (bindings == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1030</FONT><A NAME="1030"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Not yet initialized. This is happening too early. Do nothing.<br><FONT ID="LN">1031</FONT><A NAME="1031"></A></FONT>            <FONT ID="Return">return</FONT> Collections.EMPTY_MAP;<br><FONT ID="LN">1032</FONT><A NAME="1032"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1033</FONT><A NAME="1033"></A><br><FONT ID="LN">1034</FONT><A NAME="1034"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Build a cached binding set for that state.<br><FONT ID="LN">1035</FONT><A NAME="1035"></A></FONT>        <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A> bindingCache = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A>(<FONT ID="Null">null</FONT>,<br><FONT ID="LN">1036</FONT><A NAME="1036"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locales, platforms, activeSchemeIds);<br><FONT ID="LN">1037</FONT><A NAME="1037"></A><br><FONT ID="LN">1038</FONT><A NAME="1038"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1039</FONT><A NAME="1039"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Check if the cached binding set already exists. If so, simply set the<br><FONT ID="LN">1040</FONT><A NAME="1040"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* active bindings and return.<br><FONT ID="LN">1041</FONT><A NAME="1041"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1042</FONT><A NAME="1042"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A> existingCache = (<A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A>) cachedBindings<br><FONT ID="LN">1043</FONT><A NAME="1043"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.get(bindingCache);<br><FONT ID="LN">1044</FONT><A NAME="1044"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (existingCache == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1045</FONT><A NAME="1045"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache = bindingCache;<br><FONT ID="LN">1046</FONT><A NAME="1046"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cachedBindings.put(existingCache, existingCache);<br><FONT ID="LN">1047</FONT><A NAME="1047"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1048</FONT><A NAME="1048"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> triggersByParameterizedCommand = existingCache<br><FONT ID="LN">1049</FONT><A NAME="1049"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getTriggersByCommandId();<br><FONT ID="LN">1050</FONT><A NAME="1050"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (triggersByParameterizedCommand != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1051</FONT><A NAME="1051"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (DEBUG) {<br><FONT ID="LN">1052</FONT><A NAME="1052"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tracing.printTrace(<FONT ID="StringLiteral">"BINDINGS"</FONT>, <FONT ID="StringLiteral">"Cache hit"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">1053</FONT><A NAME="1053"></A></FONT>            }<br><FONT ID="LN">1054</FONT><A NAME="1054"></A><br><FONT ID="LN">1055</FONT><A NAME="1055"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> Collections.unmodifiableMap(triggersByParameterizedCommand);<br><FONT ID="LN">1056</FONT><A NAME="1056"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1057</FONT><A NAME="1057"></A><br><FONT ID="LN">1058</FONT><A NAME="1058"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// There is no cached entry for this.<br><FONT ID="LN">1059</FONT><A NAME="1059"></A></FONT>        <FONT ID="If">if</FONT> (DEBUG) {<br><FONT ID="LN">1060</FONT><A NAME="1060"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tracing.printTrace(<FONT ID="StringLiteral">"BINDINGS"</FONT>, <FONT ID="StringLiteral">"Cache miss"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">1061</FONT><A NAME="1061"></A></FONT>        }<br><FONT ID="LN">1062</FONT><A NAME="1062"></A><br><FONT ID="LN">1063</FONT><A NAME="1063"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Compute the active bindings.<br><FONT ID="LN">1064</FONT><A NAME="1064"></A></FONT>        <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> commandIdsByTrigger = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1065</FONT><A NAME="1065"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> conflictsByTrigger = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1066</FONT><A NAME="1066"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;triggersByParameterizedCommand = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1067</FONT><A NAME="1067"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;computeBindings(<FONT ID="Null">null</FONT>, commandIdsByTrigger,<br><FONT ID="LN">1068</FONT><A NAME="1068"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;triggersByParameterizedCommand, conflictsByTrigger);<br><FONT ID="LN">1069</FONT><A NAME="1069"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.setBindingsByTrigger(commandIdsByTrigger);<br><FONT ID="LN">1070</FONT><A NAME="1070"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.setTriggersByCommandId(triggersByParameterizedCommand);<br><FONT ID="LN">1071</FONT><A NAME="1071"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.setConflictsByTrigger(conflictsByTrigger);<br><FONT ID="LN">1072</FONT><A NAME="1072"></A><br><FONT ID="LN">1073</FONT><A NAME="1073"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> Collections.unmodifiableMap(triggersByParameterizedCommand);<br><FONT ID="LN">1074</FONT><A NAME="1074"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1075</FONT><A NAME="1075"></A><br><FONT ID="LN">1076</FONT><A NAME="1076"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1077</FONT><A NAME="1077"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1078</FONT><A NAME="1078"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Computes the bindings for the current state of the application, but<br><FONT ID="LN">1079</FONT><A NAME="1079"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* disregarding the current contexts. This can be useful when trying to<br><FONT ID="LN">1080</FONT><A NAME="1080"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* display all the possible bindings.<br><FONT ID="LN">1081</FONT><A NAME="1081"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1082</FONT><A NAME="1082"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1083</FONT><A NAME="1083"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">1084</FONT><A NAME="1084"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of bindings.<br><FONT ID="LN">1085</FONT><A NAME="1085"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1086</FONT><A NAME="1086"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1087</FONT><A NAME="1087"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return All of the active bindings (&lt;code&gt;Binding&lt;/code&gt;), not sorted<br><FONT ID="LN">1088</FONT><A NAME="1088"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         in any fashion. This collection may be empty, but it is never<br><FONT ID="LN">1089</FONT><A NAME="1089"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1090</FONT><A NAME="1090"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1091</FONT><A NAME="1091"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getActiveBindingsDisregardingContextFlat() {<br><FONT ID="LN">1092</FONT><A NAME="1092"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bindingCollections = getActiveBindingsDisregardingContext()<br><FONT ID="LN">1093</FONT><A NAME="1093"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.values();<br><FONT ID="LN">1094</FONT><A NAME="1094"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> mergedBindings = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/ArrayList.java.htm">ArrayList</A>  <A HREF= "/220.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1095</FONT><A NAME="1095"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Iterator.java.htm">Iterator</A>  <A HREF= "/1170.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bindingCollectionItr = bindingCollections.iterator();<br><FONT ID="LN">1096</FONT><A NAME="1096"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (bindingCollectionItr.hasNext()) {<br><FONT ID="LN">1097</FONT><A NAME="1097"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bindingCollection = (<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) bindingCollectionItr<br><FONT ID="LN">1098</FONT><A NAME="1098"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.next();<br><FONT ID="LN">1099</FONT><A NAME="1099"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((bindingCollection != <FONT ID="Null">null</FONT>) &amp;&amp; (!bindingCollection.isEmpty())) {<br><FONT ID="LN">1100</FONT><A NAME="1100"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mergedBindings.addAll(bindingCollection);<br><FONT ID="LN">1101</FONT><A NAME="1101"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1102</FONT><A NAME="1102"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1103</FONT><A NAME="1103"></A><br><FONT ID="LN">1104</FONT><A NAME="1104"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> mergedBindings;<br><FONT ID="LN">1105</FONT><A NAME="1105"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1106</FONT><A NAME="1106"></A><br><FONT ID="LN">1107</FONT><A NAME="1107"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1108</FONT><A NAME="1108"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1109</FONT><A NAME="1109"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the active bindings for a particular command identifier, but<br><FONT ID="LN">1110</FONT><A NAME="1110"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* discounting the current contexts. This method operates in O(n) time over<br><FONT ID="LN">1111</FONT><A NAME="1111"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of bindings.<br><FONT ID="LN">1112</FONT><A NAME="1112"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1113</FONT><A NAME="1113"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1114</FONT><A NAME="1114"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;. If the active bindings are<br><FONT ID="LN">1115</FONT><A NAME="1115"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not yet computed, then this completes in &lt;code&gt;O(nn)&lt;/code&gt;, where<br><FONT ID="LN">1116</FONT><A NAME="1116"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;n&lt;/code&gt; is the number of bindings.<br><FONT ID="LN">1117</FONT><A NAME="1117"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1118</FONT><A NAME="1118"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1119</FONT><A NAME="1119"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param parameterizedCommand<br><FONT ID="LN">1120</FONT><A NAME="1120"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The fully-parameterized command whose bindings are requested.<br><FONT ID="LN">1121</FONT><A NAME="1121"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            This argument may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1122</FONT><A NAME="1122"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The array of active triggers (&lt;code&gt;TriggerSequence&lt;/code&gt;)<br><FONT ID="LN">1123</FONT><A NAME="1123"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         for a particular command identifier. This value is guaranteed to<br><FONT ID="LN">1124</FONT><A NAME="1124"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         never be &lt;code&gt;null&lt;/code&gt;, but it may be empty.<br><FONT ID="LN">1125</FONT><A NAME="1125"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @since 3.2<br><FONT ID="LN">1126</FONT><A NAME="1126"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1127</FONT><A NAME="1127"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[] getActiveBindingsDisregardingContextFor(<br><FONT ID="LN">1128</FONT><A NAME="1128"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/ParameterizedCommand.java.htm">ParameterizedCommand</A> parameterizedCommand) {<br><FONT ID="LN">1129</FONT><A NAME="1129"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> object = getActiveBindingsDisregardingContextByParameterizedCommand()<br><FONT ID="LN">1130</FONT><A NAME="1130"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.get(parameterizedCommand);<br><FONT ID="LN">1131</FONT><A NAME="1131"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (object <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) {<br><FONT ID="LN">1132</FONT><A NAME="1132"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> collection = (<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) object;<br><FONT ID="LN">1133</FONT><A NAME="1133"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> (<A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[]) collection<br><FONT ID="LN">1134</FONT><A NAME="1134"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.toArray(<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[collection.size()]);<br><FONT ID="LN">1135</FONT><A NAME="1135"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1136</FONT><A NAME="1136"></A><br><FONT ID="LN">1137</FONT><A NAME="1137"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> EMPTY_TRIGGER_SEQUENCE;<br><FONT ID="LN">1138</FONT><A NAME="1138"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1139</FONT><A NAME="1139"></A><br><FONT ID="LN">1140</FONT><A NAME="1140"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1141</FONT><A NAME="1141"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1142</FONT><A NAME="1142"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the active bindings for a particular command identifier. This<br><FONT ID="LN">1143</FONT><A NAME="1143"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* method operates in O(n) time over the number of bindings.<br><FONT ID="LN">1144</FONT><A NAME="1144"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1145</FONT><A NAME="1145"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1146</FONT><A NAME="1146"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;. If the active bindings are<br><FONT ID="LN">1147</FONT><A NAME="1147"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not yet computed, then this completes in &lt;code&gt;O(nn)&lt;/code&gt;, where<br><FONT ID="LN">1148</FONT><A NAME="1148"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;n&lt;/code&gt; is the number of bindings.<br><FONT ID="LN">1149</FONT><A NAME="1149"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1150</FONT><A NAME="1150"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1151</FONT><A NAME="1151"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param parameterizedCommand<br><FONT ID="LN">1152</FONT><A NAME="1152"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The fully-parameterized command whose bindings are requested.<br><FONT ID="LN">1153</FONT><A NAME="1153"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            This argument may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1154</FONT><A NAME="1154"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The array of active triggers (&lt;code&gt;TriggerSequence&lt;/code&gt;)<br><FONT ID="LN">1155</FONT><A NAME="1155"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         for a particular command identifier. This value is guaranteed to<br><FONT ID="LN">1156</FONT><A NAME="1156"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         never be &lt;code&gt;null&lt;/code&gt;, but it may be empty.<br><FONT ID="LN">1157</FONT><A NAME="1157"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1158</FONT><A NAME="1158"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[] getActiveBindingsFor(<br><FONT ID="LN">1159</FONT><A NAME="1159"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/ParameterizedCommand.java.htm">ParameterizedCommand</A> parameterizedCommand) {<br><FONT ID="LN">1160</FONT><A NAME="1160"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> object = getActiveBindingsByParameterizedCommand().get(<br><FONT ID="LN">1161</FONT><A NAME="1161"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameterizedCommand);<br><FONT ID="LN">1162</FONT><A NAME="1162"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (object <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) {<br><FONT ID="LN">1163</FONT><A NAME="1163"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> collection = (<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) object;<br><FONT ID="LN">1164</FONT><A NAME="1164"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> (<A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[]) collection<br><FONT ID="LN">1165</FONT><A NAME="1165"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.toArray(<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[collection.size()]);<br><FONT ID="LN">1166</FONT><A NAME="1166"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1167</FONT><A NAME="1167"></A><br><FONT ID="LN">1168</FONT><A NAME="1168"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> EMPTY_TRIGGER_SEQUENCE;<br><FONT ID="LN">1169</FONT><A NAME="1169"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1170</FONT><A NAME="1170"></A><br><FONT ID="LN">1171</FONT><A NAME="1171"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1172</FONT><A NAME="1172"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1173</FONT><A NAME="1173"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the active bindings for a particular command identifier. This<br><FONT ID="LN">1174</FONT><A NAME="1174"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* method operates in O(n) time over the number of bindings.<br><FONT ID="LN">1175</FONT><A NAME="1175"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1176</FONT><A NAME="1176"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1177</FONT><A NAME="1177"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;. If the active bindings are<br><FONT ID="LN">1178</FONT><A NAME="1178"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not yet computed, then this completes in &lt;code&gt;O(nn)&lt;/code&gt;, where<br><FONT ID="LN">1179</FONT><A NAME="1179"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;n&lt;/code&gt; is the number of bindings.<br><FONT ID="LN">1180</FONT><A NAME="1180"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1181</FONT><A NAME="1181"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1182</FONT><A NAME="1182"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param commandId<br><FONT ID="LN">1183</FONT><A NAME="1183"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The identifier of the command whose bindings are requested.<br><FONT ID="LN">1184</FONT><A NAME="1184"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            This argument may be &lt;code&gt;null&lt;/code&gt;. It is assumed that<br><FONT ID="LN">1185</FONT><A NAME="1185"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            the command has no parameters.<br><FONT ID="LN">1186</FONT><A NAME="1186"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The array of active triggers (&lt;code&gt;TriggerSequence&lt;/code&gt;)<br><FONT ID="LN">1187</FONT><A NAME="1187"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         for a particular command identifier. This value is guaranteed not<br><FONT ID="LN">1188</FONT><A NAME="1188"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         to be &lt;code&gt;null&lt;/code&gt;, but it may be empty.<br><FONT ID="LN">1189</FONT><A NAME="1189"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1190</FONT><A NAME="1190"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[] getActiveBindingsFor(<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> commandId) {<br><FONT ID="LN">1191</FONT><A NAME="1191"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/ParameterizedCommand.java.htm">ParameterizedCommand</A> parameterizedCommand = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/core/commands/ParameterizedCommand.java.htm">ParameterizedCommand</A>(<br><FONT ID="LN">1192</FONT><A NAME="1192"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commandManager.getCommand(commandId), <FONT ID="Null">null</FONT>);<br><FONT ID="LN">1193</FONT><A NAME="1193"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> object = getActiveBindingsByParameterizedCommand().get(<br><FONT ID="LN">1194</FONT><A NAME="1194"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameterizedCommand);<br><FONT ID="LN">1195</FONT><A NAME="1195"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (object <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) {<br><FONT ID="LN">1196</FONT><A NAME="1196"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> collection = (<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) object;<br><FONT ID="LN">1197</FONT><A NAME="1197"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> (<A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[]) collection<br><FONT ID="LN">1198</FONT><A NAME="1198"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.toArray(<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[collection.size()]);<br><FONT ID="LN">1199</FONT><A NAME="1199"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1200</FONT><A NAME="1200"></A><br><FONT ID="LN">1201</FONT><A NAME="1201"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> EMPTY_TRIGGER_SEQUENCE;<br><FONT ID="LN">1202</FONT><A NAME="1202"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1203</FONT><A NAME="1203"></A><br><FONT ID="LN">1204</FONT><A NAME="1204"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1205</FONT><A NAME="1205"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* A variation on {@link BindingManager#getActiveBindingsFor(String)} that<br><FONT ID="LN">1206</FONT><A NAME="1206"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* returns an array of bindings, rather than trigger sequences. This method<br><FONT ID="LN">1207</FONT><A NAME="1207"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* is needed for doing "best" calculations on the active bindings.<br><FONT ID="LN">1208</FONT><A NAME="1208"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1209</FONT><A NAME="1209"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param commandId<br><FONT ID="LN">1210</FONT><A NAME="1210"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The identifier of the command for which the active bindings<br><FONT ID="LN">1211</FONT><A NAME="1211"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            should be retrieved; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1212</FONT><A NAME="1212"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The active bindings for the given command; this value may be<br><FONT ID="LN">1213</FONT><A NAME="1213"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;null&lt;/code&gt; if there are no active bindings.<br><FONT ID="LN">1214</FONT><A NAME="1214"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @since 3.2<br><FONT ID="LN">1215</FONT><A NAME="1215"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1216</FONT><A NAME="1216"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] getActiveBindingsFor1(<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> commandId) {<br><FONT ID="LN">1217</FONT><A NAME="1217"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A>[] triggers = getActiveBindingsFor(commandId);<br><FONT ID="LN">1218</FONT><A NAME="1218"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (triggers.length == <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1219</FONT><A NAME="1219"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1220</FONT><A NAME="1220"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1221</FONT><A NAME="1221"></A><br><FONT ID="LN">1222</FONT><A NAME="1222"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> activeBindings = getActiveBindings();<br><FONT ID="LN">1223</FONT><A NAME="1223"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (activeBindings != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1224</FONT><A NAME="1224"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] bindings = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[triggers.length];<br><FONT ID="LN">1225</FONT><A NAME="1225"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; triggers.length; i++) {<br><FONT ID="LN">1226</FONT><A NAME="1226"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> triggerSequence = triggers[i];<br><FONT ID="LN">1227</FONT><A NAME="1227"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> object = activeBindings.get(triggerSequence);<br><FONT ID="LN">1228</FONT><A NAME="1228"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding = (<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) object;<br><FONT ID="LN">1229</FONT><A NAME="1229"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindings[i] = binding;<br><FONT ID="LN">1230</FONT><A NAME="1230"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1231</FONT><A NAME="1231"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> bindings;<br><FONT ID="LN">1232</FONT><A NAME="1232"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1233</FONT><A NAME="1233"></A><br><FONT ID="LN">1234</FONT><A NAME="1234"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1235</FONT><A NAME="1235"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1236</FONT><A NAME="1236"></A><br><FONT ID="LN">1237</FONT><A NAME="1237"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1238</FONT><A NAME="1238"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1239</FONT><A NAME="1239"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Gets the currently active scheme.<br><FONT ID="LN">1240</FONT><A NAME="1240"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1241</FONT><A NAME="1241"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1242</FONT><A NAME="1242"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">1243</FONT><A NAME="1243"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1244</FONT><A NAME="1244"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1245</FONT><A NAME="1245"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The active scheme; may be &lt;code&gt;null&lt;/code&gt; if there is no<br><FONT ID="LN">1246</FONT><A NAME="1246"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         active scheme. If a scheme is returned, it is guaranteed to be<br><FONT ID="LN">1247</FONT><A NAME="1247"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         defined.<br><FONT ID="LN">1248</FONT><A NAME="1248"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1249</FONT><A NAME="1249"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A> getActiveScheme() {<br><FONT ID="LN">1250</FONT><A NAME="1250"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> activeScheme;<br><FONT ID="LN">1251</FONT><A NAME="1251"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1252</FONT><A NAME="1252"></A><br><FONT ID="LN">1253</FONT><A NAME="1253"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1254</FONT><A NAME="1254"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Gets the best active binding for a command. The best binding is the one<br><FONT ID="LN">1255</FONT><A NAME="1255"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* that would be most appropriate to show in a menu. Bindings which belong<br><FONT ID="LN">1256</FONT><A NAME="1256"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* to a child scheme are given preference over those in a parent scheme.<br><FONT ID="LN">1257</FONT><A NAME="1257"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Bindings which belong to a particular locale or platform are given<br><FONT ID="LN">1258</FONT><A NAME="1258"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* preference over those that do not. The rest of the calculaton is based<br><FONT ID="LN">1259</FONT><A NAME="1259"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* most on various concepts of "length", as well as giving some modifier<br><FONT ID="LN">1260</FONT><A NAME="1260"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* keys preference (e.g., &lt;code&gt;Alt&lt;/code&gt; is less likely to appear than<br><FONT ID="LN">1261</FONT><A NAME="1261"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;Ctrl&lt;/code&gt;).<br><FONT ID="LN">1262</FONT><A NAME="1262"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1263</FONT><A NAME="1263"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param commandId<br><FONT ID="LN">1264</FONT><A NAME="1264"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The identifier of the command for which the best active<br><FONT ID="LN">1265</FONT><A NAME="1265"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            binding should be retrieved; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1266</FONT><A NAME="1266"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The trigger sequence for the best binding; may be<br><FONT ID="LN">1267</FONT><A NAME="1267"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;null&lt;/code&gt; if no bindings are active for the given<br><FONT ID="LN">1268</FONT><A NAME="1268"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         command.<br><FONT ID="LN">1269</FONT><A NAME="1269"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @since 3.2<br><FONT ID="LN">1270</FONT><A NAME="1270"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1271</FONT><A NAME="1271"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> getBestActiveBindingFor(<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> commandId) {<br><FONT ID="LN">1272</FONT><A NAME="1272"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] bindings = getActiveBindingsFor1(commandId);<br><FONT ID="LN">1273</FONT><A NAME="1273"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((bindings == <FONT ID="Null">null</FONT>) || (bindings.length == <FONT ID="IntegerLiteral">0</FONT>)) {<br><FONT ID="LN">1274</FONT><A NAME="1274"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1275</FONT><A NAME="1275"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1276</FONT><A NAME="1276"></A><br><FONT ID="LN">1277</FONT><A NAME="1277"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> bestBinding = bindings[<FONT ID="IntegerLiteral">0</FONT>];<br><FONT ID="LN">1278</FONT><A NAME="1278"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> compareTo;<br><FONT ID="LN">1279</FONT><A NAME="1279"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">1</FONT>; i &lt; bindings.length; i++) {<br><FONT ID="LN">1280</FONT><A NAME="1280"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> currentBinding = bindings[i];<br><FONT ID="LN">1281</FONT><A NAME="1281"></A><br><FONT ID="LN">1282</FONT><A NAME="1282"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Bindings in a child scheme are always given preference.<br><FONT ID="LN">1283</FONT><A NAME="1283"></A></FONT>            <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bestSchemeId = bestBinding.getSchemeId();<br><FONT ID="LN">1284</FONT><A NAME="1284"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> currentSchemeId = currentBinding.getSchemeId();<br><FONT ID="LN">1285</FONT><A NAME="1285"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compareTo = compareSchemes(bestSchemeId, currentSchemeId);<br><FONT ID="LN">1286</FONT><A NAME="1286"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (compareTo &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1287</FONT><A NAME="1287"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bestBinding = currentBinding;<br><FONT ID="LN">1288</FONT><A NAME="1288"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1289</FONT><A NAME="1289"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (compareTo != <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1290</FONT><A NAME="1290"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">1291</FONT><A NAME="1291"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1292</FONT><A NAME="1292"></A><br><FONT ID="LN">1293</FONT><A NAME="1293"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1294</FONT><A NAME="1294"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Bindings with a locale are given preference over those that do<br><FONT ID="LN">1295</FONT><A NAME="1295"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not.<br><FONT ID="LN">1296</FONT><A NAME="1296"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1297</FONT><A NAME="1297"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bestLocale = bestBinding.getLocale();<br><FONT ID="LN">1298</FONT><A NAME="1298"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> currentLocale = currentBinding.getLocale();<br><FONT ID="LN">1299</FONT><A NAME="1299"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((bestLocale == <FONT ID="Null">null</FONT>) &amp;&amp; (currentLocale != <FONT ID="Null">null</FONT>)) {<br><FONT ID="LN">1300</FONT><A NAME="1300"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bestBinding = currentBinding;<br><FONT ID="LN">1301</FONT><A NAME="1301"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1302</FONT><A NAME="1302"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!(Util.equals(bestLocale, currentLocale))) {<br><FONT ID="LN">1303</FONT><A NAME="1303"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">1304</FONT><A NAME="1304"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1305</FONT><A NAME="1305"></A><br><FONT ID="LN">1306</FONT><A NAME="1306"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1307</FONT><A NAME="1307"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Bindings with a platform are given preference over those that do<br><FONT ID="LN">1308</FONT><A NAME="1308"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not.<br><FONT ID="LN">1309</FONT><A NAME="1309"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1310</FONT><A NAME="1310"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bestPlatform = bestBinding.getPlatform();<br><FONT ID="LN">1311</FONT><A NAME="1311"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> currentPlatform = currentBinding.getPlatform();<br><FONT ID="LN">1312</FONT><A NAME="1312"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((bestPlatform == <FONT ID="Null">null</FONT>) &amp;&amp; (currentPlatform != <FONT ID="Null">null</FONT>)) {<br><FONT ID="LN">1313</FONT><A NAME="1313"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bestBinding = currentBinding;<br><FONT ID="LN">1314</FONT><A NAME="1314"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1315</FONT><A NAME="1315"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!(Util.equals(bestPlatform, currentPlatform))) {<br><FONT ID="LN">1316</FONT><A NAME="1316"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">1317</FONT><A NAME="1317"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1318</FONT><A NAME="1318"></A><br><FONT ID="LN">1319</FONT><A NAME="1319"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1320</FONT><A NAME="1320"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Check to see which has the least number of triggers in the<br><FONT ID="LN">1321</FONT><A NAME="1321"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* trigger sequence.<br><FONT ID="LN">1322</FONT><A NAME="1322"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1323</FONT><A NAME="1323"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> bestTriggerSequence = bestBinding<br><FONT ID="LN">1324</FONT><A NAME="1324"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getTriggerSequence();<br><FONT ID="LN">1325</FONT><A NAME="1325"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> currentTriggerSequence = currentBinding<br><FONT ID="LN">1326</FONT><A NAME="1326"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getTriggerSequence();<br><FONT ID="LN">1327</FONT><A NAME="1327"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Trigger.java.htm">Trigger</A>[] bestTriggers = bestTriggerSequence.getTriggers();<br><FONT ID="LN">1328</FONT><A NAME="1328"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Trigger.java.htm">Trigger</A>[] currentTriggers = currentTriggerSequence<br><FONT ID="LN">1329</FONT><A NAME="1329"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getTriggers();<br><FONT ID="LN">1330</FONT><A NAME="1330"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compareTo = bestTriggers.length - currentTriggers.length;<br><FONT ID="LN">1331</FONT><A NAME="1331"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (compareTo &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1332</FONT><A NAME="1332"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bestBinding = currentBinding;<br><FONT ID="LN">1333</FONT><A NAME="1333"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1334</FONT><A NAME="1334"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (compareTo != <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1335</FONT><A NAME="1335"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">1336</FONT><A NAME="1336"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1337</FONT><A NAME="1337"></A><br><FONT ID="LN">1338</FONT><A NAME="1338"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1339</FONT><A NAME="1339"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Compare the number of keys pressed in each trigger sequence. Some<br><FONT ID="LN">1340</FONT><A NAME="1340"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* types of keys count less than others (i.e., some types of<br><FONT ID="LN">1341</FONT><A NAME="1341"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* modifiers keys are less likely to be chosen).<br><FONT ID="LN">1342</FONT><A NAME="1342"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1343</FONT><A NAME="1343"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compareTo = countStrokes(bestTriggers)<br><FONT ID="LN">1344</FONT><A NAME="1344"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- countStrokes(currentTriggers);<br><FONT ID="LN">1345</FONT><A NAME="1345"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (compareTo &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1346</FONT><A NAME="1346"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bestBinding = currentBinding;<br><FONT ID="LN">1347</FONT><A NAME="1347"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1348</FONT><A NAME="1348"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (compareTo != <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1349</FONT><A NAME="1349"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">1350</FONT><A NAME="1350"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1351</FONT><A NAME="1351"></A><br><FONT ID="LN">1352</FONT><A NAME="1352"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// If this is still a tie, then just chose the shortest text.<br><FONT ID="LN">1353</FONT><A NAME="1353"></A></FONT>            compareTo = bestTriggerSequence.format().length()<br><FONT ID="LN">1354</FONT><A NAME="1354"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- currentTriggerSequence.format().length();<br><FONT ID="LN">1355</FONT><A NAME="1355"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (compareTo &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1356</FONT><A NAME="1356"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bestBinding = currentBinding;<br><FONT ID="LN">1357</FONT><A NAME="1357"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1358</FONT><A NAME="1358"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1359</FONT><A NAME="1359"></A><br><FONT ID="LN">1360</FONT><A NAME="1360"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> bestBinding.getTriggerSequence();<br><FONT ID="LN">1361</FONT><A NAME="1361"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1362</FONT><A NAME="1362"></A><br><FONT ID="LN">1363</FONT><A NAME="1363"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1364</FONT><A NAME="1364"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Gets the formatted string representing the best active binding for a<br><FONT ID="LN">1365</FONT><A NAME="1365"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* command. The best binding is the one that would be most appropriate to<br><FONT ID="LN">1366</FONT><A NAME="1366"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* show in a menu. Bindings which belong to a child scheme are given<br><FONT ID="LN">1367</FONT><A NAME="1367"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* preference over those in a parent scheme. The rest of the calculaton is<br><FONT ID="LN">1368</FONT><A NAME="1368"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* based most on various concepts of "length", as well as giving some<br><FONT ID="LN">1369</FONT><A NAME="1369"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* modifier keys preference (e.g., &lt;code&gt;Alt&lt;/code&gt; is less likely to<br><FONT ID="LN">1370</FONT><A NAME="1370"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* appear than &lt;code&gt;Ctrl&lt;/code&gt;).<br><FONT ID="LN">1371</FONT><A NAME="1371"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1372</FONT><A NAME="1372"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param commandId<br><FONT ID="LN">1373</FONT><A NAME="1373"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The identifier of the command for which the best active<br><FONT ID="LN">1374</FONT><A NAME="1374"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            binding should be retrieved; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1375</FONT><A NAME="1375"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The formatted string for the best binding; may be<br><FONT ID="LN">1376</FONT><A NAME="1376"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;null&lt;/code&gt; if no bindings are active for the given<br><FONT ID="LN">1377</FONT><A NAME="1377"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         command.<br><FONT ID="LN">1378</FONT><A NAME="1378"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @since 3.2<br><FONT ID="LN">1379</FONT><A NAME="1379"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1380</FONT><A NAME="1380"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getBestActiveBindingFormattedFor(<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> commandId) {<br><FONT ID="LN">1381</FONT><A NAME="1381"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> binding = getBestActiveBindingFor(commandId);<br><FONT ID="LN">1382</FONT><A NAME="1382"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (binding != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1383</FONT><A NAME="1383"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> binding.format();<br><FONT ID="LN">1384</FONT><A NAME="1384"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1385</FONT><A NAME="1385"></A><br><FONT ID="LN">1386</FONT><A NAME="1386"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1387</FONT><A NAME="1387"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1388</FONT><A NAME="1388"></A><br><FONT ID="LN">1389</FONT><A NAME="1389"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1390</FONT><A NAME="1390"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1391</FONT><A NAME="1391"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the set of all bindings managed by this class.<br><FONT ID="LN">1392</FONT><A NAME="1392"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1393</FONT><A NAME="1393"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1394</FONT><A NAME="1394"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">1395</FONT><A NAME="1395"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1396</FONT><A NAME="1396"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1397</FONT><A NAME="1397"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The array of all bindings. This value may be &lt;code&gt;null&lt;/code&gt;<br><FONT ID="LN">1398</FONT><A NAME="1398"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         and it may be empty.<br><FONT ID="LN">1399</FONT><A NAME="1399"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1400</FONT><A NAME="1400"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] getBindings() {<br><FONT ID="LN">1401</FONT><A NAME="1401"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (bindings == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1402</FONT><A NAME="1402"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1403</FONT><A NAME="1403"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1404</FONT><A NAME="1404"></A><br><FONT ID="LN">1405</FONT><A NAME="1405"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] returnValue = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[bindingCount];<br><FONT ID="LN">1406</FONT><A NAME="1406"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(bindings, <FONT ID="IntegerLiteral">0</FONT>, returnValue, <FONT ID="IntegerLiteral">0</FONT>, bindingCount);<br><FONT ID="LN">1407</FONT><A NAME="1407"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> returnValue;<br><FONT ID="LN">1408</FONT><A NAME="1408"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1409</FONT><A NAME="1409"></A><br><FONT ID="LN">1410</FONT><A NAME="1410"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1411</FONT><A NAME="1411"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1412</FONT><A NAME="1412"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the array of schemes that are defined.<br><FONT ID="LN">1413</FONT><A NAME="1413"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1414</FONT><A NAME="1414"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1415</FONT><A NAME="1415"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">1416</FONT><A NAME="1416"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1417</FONT><A NAME="1417"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1418</FONT><A NAME="1418"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The array of defined schemes; this value may be empty or<br><FONT ID="LN">1419</FONT><A NAME="1419"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1420</FONT><A NAME="1420"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1421</FONT><A NAME="1421"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A>[] getDefinedSchemes() {<br><FONT ID="LN">1422</FONT><A NAME="1422"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> (<A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A>[]) definedHandleObjects<br><FONT ID="LN">1423</FONT><A NAME="1423"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.toArray(<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A>[definedHandleObjects.size()]);<br><FONT ID="LN">1424</FONT><A NAME="1424"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1425</FONT><A NAME="1425"></A><br><FONT ID="LN">1426</FONT><A NAME="1426"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1427</FONT><A NAME="1427"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1428</FONT><A NAME="1428"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the active locale for this binding manager. The locale is in the<br><FONT ID="LN">1429</FONT><A NAME="1429"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* same format as &lt;code&gt;Locale.getDefault().toString()&lt;/code&gt;.<br><FONT ID="LN">1430</FONT><A NAME="1430"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1431</FONT><A NAME="1431"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1432</FONT><A NAME="1432"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">1433</FONT><A NAME="1433"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1434</FONT><A NAME="1434"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1435</FONT><A NAME="1435"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The active locale; never &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1436</FONT><A NAME="1436"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1437</FONT><A NAME="1437"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getLocale() {<br><FONT ID="LN">1438</FONT><A NAME="1438"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> locale;<br><FONT ID="LN">1439</FONT><A NAME="1439"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1440</FONT><A NAME="1440"></A><br><FONT ID="LN">1441</FONT><A NAME="1441"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1442</FONT><A NAME="1442"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1443</FONT><A NAME="1443"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns all of the possible bindings that start with the given trigger<br><FONT ID="LN">1444</FONT><A NAME="1444"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* (but are not equal to the given trigger).<br><FONT ID="LN">1445</FONT><A NAME="1445"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1446</FONT><A NAME="1446"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1447</FONT><A NAME="1447"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;. If the bindings aren't<br><FONT ID="LN">1448</FONT><A NAME="1448"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* currently computed, then this completes in &lt;code&gt;O(n)&lt;/code&gt;, where<br><FONT ID="LN">1449</FONT><A NAME="1449"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;n&lt;/code&gt; is the number of bindings.<br><FONT ID="LN">1450</FONT><A NAME="1450"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1451</FONT><A NAME="1451"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1452</FONT><A NAME="1452"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param trigger<br><FONT ID="LN">1453</FONT><A NAME="1453"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The prefix to look for; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1454</FONT><A NAME="1454"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return A map of triggers (&lt;code&gt;TriggerSequence&lt;/code&gt;) to bindings (&lt;code&gt;Binding&lt;/code&gt;).<br><FONT ID="LN">1455</FONT><A NAME="1455"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         This map may be empty, but it is never &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1456</FONT><A NAME="1456"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1457</FONT><A NAME="1457"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getPartialMatches(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> trigger) {<br><FONT ID="LN">1458</FONT><A NAME="1458"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> partialMatches = (<A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) getPrefixTable().get(trigger);<br><FONT ID="LN">1459</FONT><A NAME="1459"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (partialMatches == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1460</FONT><A NAME="1460"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> Collections.EMPTY_MAP;<br><FONT ID="LN">1461</FONT><A NAME="1461"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1462</FONT><A NAME="1462"></A><br><FONT ID="LN">1463</FONT><A NAME="1463"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> partialMatches;<br><FONT ID="LN">1464</FONT><A NAME="1464"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1465</FONT><A NAME="1465"></A><br><FONT ID="LN">1466</FONT><A NAME="1466"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1467</FONT><A NAME="1467"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1468</FONT><A NAME="1468"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the command identifier for the active binding matching this<br><FONT ID="LN">1469</FONT><A NAME="1469"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* trigger, if any.<br><FONT ID="LN">1470</FONT><A NAME="1470"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1471</FONT><A NAME="1471"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1472</FONT><A NAME="1472"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;. If the bindings aren't<br><FONT ID="LN">1473</FONT><A NAME="1473"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* currently computed, then this completes in &lt;code&gt;O(n)&lt;/code&gt;, where<br><FONT ID="LN">1474</FONT><A NAME="1474"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;n&lt;/code&gt; is the number of bindings.<br><FONT ID="LN">1475</FONT><A NAME="1475"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1476</FONT><A NAME="1476"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1477</FONT><A NAME="1477"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param trigger<br><FONT ID="LN">1478</FONT><A NAME="1478"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The trigger to match; may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1479</FONT><A NAME="1479"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The binding that matches, if any; &lt;code&gt;null&lt;/code&gt; otherwise.<br><FONT ID="LN">1480</FONT><A NAME="1480"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1481</FONT><A NAME="1481"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> getPerfectMatch(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> trigger) {<br><FONT ID="LN">1482</FONT><A NAME="1482"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> (<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) getActiveBindings().get(trigger);<br><FONT ID="LN">1483</FONT><A NAME="1483"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1484</FONT><A NAME="1484"></A><br><FONT ID="LN">1485</FONT><A NAME="1485"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1486</FONT><A NAME="1486"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1487</FONT><A NAME="1487"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the active platform for this binding manager. The platform is in<br><FONT ID="LN">1488</FONT><A NAME="1488"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the same format as &lt;code&gt;SWT.getPlatform()&lt;/code&gt;.<br><FONT ID="LN">1489</FONT><A NAME="1489"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1490</FONT><A NAME="1490"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1491</FONT><A NAME="1491"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">1492</FONT><A NAME="1492"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1493</FONT><A NAME="1493"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1494</FONT><A NAME="1494"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The active platform; never &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1495</FONT><A NAME="1495"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1496</FONT><A NAME="1496"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getPlatform() {<br><FONT ID="LN">1497</FONT><A NAME="1497"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> platform;<br><FONT ID="LN">1498</FONT><A NAME="1498"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1499</FONT><A NAME="1499"></A><br><FONT ID="LN">1500</FONT><A NAME="1500"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1501</FONT><A NAME="1501"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1502</FONT><A NAME="1502"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the prefix table. The caller must not modify the returned map.<br><FONT ID="LN">1503</FONT><A NAME="1503"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1504</FONT><A NAME="1504"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1505</FONT><A NAME="1505"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;. If the active bindings are<br><FONT ID="LN">1506</FONT><A NAME="1506"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not yet computed, then this completes in &lt;code&gt;O(n)&lt;/code&gt;, where<br><FONT ID="LN">1507</FONT><A NAME="1507"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;n&lt;/code&gt; is the number of bindings.<br><FONT ID="LN">1508</FONT><A NAME="1508"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1509</FONT><A NAME="1509"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1510</FONT><A NAME="1510"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return A map of prefixes (&lt;code&gt;TriggerSequence&lt;/code&gt;) to a map of<br><FONT ID="LN">1511</FONT><A NAME="1511"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         available completions (possibly &lt;code&gt;null&lt;/code&gt;, which means<br><FONT ID="LN">1512</FONT><A NAME="1512"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         there is an exact match). The available completions is a map of<br><FONT ID="LN">1513</FONT><A NAME="1513"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         trigger (&lt;code&gt;TriggerSequence&lt;/code&gt;) to binding (&lt;code&gt;Binding&lt;/code&gt;).<br><FONT ID="LN">1514</FONT><A NAME="1514"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         This value will never be &lt;code&gt;null&lt;/code&gt; but may be empty.<br><FONT ID="LN">1515</FONT><A NAME="1515"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1516</FONT><A NAME="1516"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getPrefixTable() {<br><FONT ID="LN">1517</FONT><A NAME="1517"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (prefixTable == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1518</FONT><A NAME="1518"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recomputeBindings();<br><FONT ID="LN">1519</FONT><A NAME="1519"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1520</FONT><A NAME="1520"></A><br><FONT ID="LN">1521</FONT><A NAME="1521"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> prefixTable;<br><FONT ID="LN">1522</FONT><A NAME="1522"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1523</FONT><A NAME="1523"></A><br><FONT ID="LN">1524</FONT><A NAME="1524"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1525</FONT><A NAME="1525"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1526</FONT><A NAME="1526"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Gets the scheme with the given identifier. If the scheme does not already<br><FONT ID="LN">1527</FONT><A NAME="1527"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* exist, then a new (undefined) scheme is created with that identifier.<br><FONT ID="LN">1528</FONT><A NAME="1528"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This guarantees that schemes will remain unique.<br><FONT ID="LN">1529</FONT><A NAME="1529"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1530</FONT><A NAME="1530"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1531</FONT><A NAME="1531"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in amortized &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">1532</FONT><A NAME="1532"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1533</FONT><A NAME="1533"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1534</FONT><A NAME="1534"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param schemeId<br><FONT ID="LN">1535</FONT><A NAME="1535"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The identifier for the scheme to retrieve; must not be<br><FONT ID="LN">1536</FONT><A NAME="1536"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1537</FONT><A NAME="1537"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return A scheme with the given identifier.<br><FONT ID="LN">1538</FONT><A NAME="1538"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1539</FONT><A NAME="1539"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A> getScheme(<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> schemeId) {<br><FONT ID="LN">1540</FONT><A NAME="1540"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkId(schemeId);<br><FONT ID="LN">1541</FONT><A NAME="1541"></A><br><FONT ID="LN">1542</FONT><A NAME="1542"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A> scheme = (<A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A>) handleObjectsById.get(schemeId);<br><FONT ID="LN">1543</FONT><A NAME="1543"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (scheme == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1544</FONT><A NAME="1544"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scheme = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A>(schemeId);<br><FONT ID="LN">1545</FONT><A NAME="1545"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handleObjectsById.put(schemeId, scheme);<br><FONT ID="LN">1546</FONT><A NAME="1546"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scheme.addSchemeListener(<FONT ID="This">this</FONT>);<br><FONT ID="LN">1547</FONT><A NAME="1547"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1548</FONT><A NAME="1548"></A><br><FONT ID="LN">1549</FONT><A NAME="1549"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> scheme;<br><FONT ID="LN">1550</FONT><A NAME="1550"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1551</FONT><A NAME="1551"></A><br><FONT ID="LN">1552</FONT><A NAME="1552"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1553</FONT><A NAME="1553"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1554</FONT><A NAME="1554"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Ascends all of the parents of the scheme until no more parents are found.<br><FONT ID="LN">1555</FONT><A NAME="1555"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1556</FONT><A NAME="1556"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1557</FONT><A NAME="1557"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">1558</FONT><A NAME="1558"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the height of the context tree.<br><FONT ID="LN">1559</FONT><A NAME="1559"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1560</FONT><A NAME="1560"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1561</FONT><A NAME="1561"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param schemeId<br><FONT ID="LN">1562</FONT><A NAME="1562"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The id of the scheme for which the parents should be found;<br><FONT ID="LN">1563</FONT><A NAME="1563"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1564</FONT><A NAME="1564"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The array of scheme ids (&lt;code&gt;String&lt;/code&gt;) starting with<br><FONT ID="LN">1565</FONT><A NAME="1565"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;schemeId&lt;/code&gt; and then ascending through its ancestors.<br><FONT ID="LN">1566</FONT><A NAME="1566"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1567</FONT><A NAME="1567"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] getSchemeIds(<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> schemeId) {<br><FONT ID="LN">1568</FONT><A NAME="1568"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/ArrayList.java.htm">List</A>  <A HREF= "/220.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> strings = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/ArrayList.java.htm">ArrayList</A>  <A HREF= "/220.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1569</FONT><A NAME="1569"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (schemeId != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1570</FONT><A NAME="1570"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strings.add(schemeId);<br><FONT ID="LN">1571</FONT><A NAME="1571"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">1572</FONT><A NAME="1572"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schemeId = getScheme(schemeId).getParentId();<br><FONT ID="LN">1573</FONT><A NAME="1573"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/core/commands/common/NotDefinedException.java.htm">NotDefinedException</A> e) {<br><FONT ID="LN">1574</FONT><A NAME="1574"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Policy.getLog().log(<br><FONT ID="LN">1575</FONT><A NAME="1575"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/core/runtime/IStatus.java.htm">Status</A>(IStatus.ERROR, Policy.JFACE, IStatus.OK,<br><FONT ID="LN">1576</FONT><A NAME="1576"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"Failed ascending scheme parents"</FONT>, <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1577</FONT><A NAME="1577"></A></FONT>                                e));<br><FONT ID="LN">1578</FONT><A NAME="1578"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[<FONT ID="IntegerLiteral">0</FONT>];<br><FONT ID="LN">1579</FONT><A NAME="1579"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1580</FONT><A NAME="1580"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1581</FONT><A NAME="1581"></A><br><FONT ID="LN">1582</FONT><A NAME="1582"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> (<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[]) strings.toArray(<FONT ID="New">new</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[strings.size()]);<br><FONT ID="LN">1583</FONT><A NAME="1583"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1584</FONT><A NAME="1584"></A><br><FONT ID="LN">1585</FONT><A NAME="1585"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1586</FONT><A NAME="1586"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1587</FONT><A NAME="1587"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns whether the given trigger sequence is a partial match for the<br><FONT ID="LN">1588</FONT><A NAME="1588"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* given sequence.<br><FONT ID="LN">1589</FONT><A NAME="1589"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1590</FONT><A NAME="1590"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1591</FONT><A NAME="1591"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;. If the bindings aren't<br><FONT ID="LN">1592</FONT><A NAME="1592"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* currently computed, then this completes in &lt;code&gt;O(n)&lt;/code&gt;, where<br><FONT ID="LN">1593</FONT><A NAME="1593"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;n&lt;/code&gt; is the number of bindings.<br><FONT ID="LN">1594</FONT><A NAME="1594"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1595</FONT><A NAME="1595"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1596</FONT><A NAME="1596"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param trigger<br><FONT ID="LN">1597</FONT><A NAME="1597"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The sequence which should be the prefix for some binding;<br><FONT ID="LN">1598</FONT><A NAME="1598"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            should not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1599</FONT><A NAME="1599"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return &lt;code&gt;true&lt;/code&gt; if the trigger can be found in the active<br><FONT ID="LN">1600</FONT><A NAME="1600"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         bindings; &lt;code&gt;false&lt;/code&gt; otherwise.<br><FONT ID="LN">1601</FONT><A NAME="1601"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1602</FONT><A NAME="1602"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Boolean">boolean</FONT> isPartialMatch(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> trigger) {<br><FONT ID="LN">1603</FONT><A NAME="1603"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> (getPrefixTable().get(trigger) != <FONT ID="Null">null</FONT>);<br><FONT ID="LN">1604</FONT><A NAME="1604"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1605</FONT><A NAME="1605"></A><br><FONT ID="LN">1606</FONT><A NAME="1606"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1607</FONT><A NAME="1607"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1608</FONT><A NAME="1608"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns whether the given trigger sequence is a perfect match for the<br><FONT ID="LN">1609</FONT><A NAME="1609"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* given sequence.<br><FONT ID="LN">1610</FONT><A NAME="1610"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1611</FONT><A NAME="1611"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1612</FONT><A NAME="1612"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;. If the bindings aren't<br><FONT ID="LN">1613</FONT><A NAME="1613"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* currently computed, then this completes in &lt;code&gt;O(n)&lt;/code&gt;, where<br><FONT ID="LN">1614</FONT><A NAME="1614"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;n&lt;/code&gt; is the number of bindings.<br><FONT ID="LN">1615</FONT><A NAME="1615"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1616</FONT><A NAME="1616"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1617</FONT><A NAME="1617"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param trigger<br><FONT ID="LN">1618</FONT><A NAME="1618"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The sequence which should match exactly; should not be<br><FONT ID="LN">1619</FONT><A NAME="1619"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1620</FONT><A NAME="1620"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return &lt;code&gt;true&lt;/code&gt; if the trigger can be found in the active<br><FONT ID="LN">1621</FONT><A NAME="1621"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         bindings; &lt;code&gt;false&lt;/code&gt; otherwise.<br><FONT ID="LN">1622</FONT><A NAME="1622"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1623</FONT><A NAME="1623"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Boolean">boolean</FONT> isPerfectMatch(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> trigger) {<br><FONT ID="LN">1624</FONT><A NAME="1624"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> getActiveBindings().containsKey(trigger);<br><FONT ID="LN">1625</FONT><A NAME="1625"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1626</FONT><A NAME="1626"></A><br><FONT ID="LN">1627</FONT><A NAME="1627"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1628</FONT><A NAME="1628"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1629</FONT><A NAME="1629"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Tests whether the locale for the binding matches one of the active<br><FONT ID="LN">1630</FONT><A NAME="1630"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* locales.<br><FONT ID="LN">1631</FONT><A NAME="1631"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1632</FONT><A NAME="1632"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1633</FONT><A NAME="1633"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">1634</FONT><A NAME="1634"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of active locales.<br><FONT ID="LN">1635</FONT><A NAME="1635"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1636</FONT><A NAME="1636"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1637</FONT><A NAME="1637"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param binding<br><FONT ID="LN">1638</FONT><A NAME="1638"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The binding with which to test; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1639</FONT><A NAME="1639"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return &lt;code&gt;true&lt;/code&gt; if the binding's locale matches;<br><FONT ID="LN">1640</FONT><A NAME="1640"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;false&lt;/code&gt; otherwise.<br><FONT ID="LN">1641</FONT><A NAME="1641"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1642</FONT><A NAME="1642"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Boolean">boolean</FONT> localeMatches(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding) {<br><FONT ID="LN">1643</FONT><A NAME="1643"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> matches = <FONT ID="False">false</FONT>;<br><FONT ID="LN">1644</FONT><A NAME="1644"></A><br><FONT ID="LN">1645</FONT><A NAME="1645"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> locale = binding.getLocale();<br><FONT ID="LN">1646</FONT><A NAME="1646"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (locale == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1647</FONT><A NAME="1647"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>; <FONT ID="SingleLineComment">// shortcut a common case<br><FONT ID="LN">1648</FONT><A NAME="1648"></A></FONT>        }<br><FONT ID="LN">1649</FONT><A NAME="1649"></A><br><FONT ID="LN">1650</FONT><A NAME="1650"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; locales.length; i++) {<br><FONT ID="LN">1651</FONT><A NAME="1651"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (Util.equals(locales[i], locale)) {<br><FONT ID="LN">1652</FONT><A NAME="1652"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches = <FONT ID="True">true</FONT>;<br><FONT ID="LN">1653</FONT><A NAME="1653"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">1654</FONT><A NAME="1654"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1655</FONT><A NAME="1655"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1656</FONT><A NAME="1656"></A><br><FONT ID="LN">1657</FONT><A NAME="1657"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> matches;<br><FONT ID="LN">1658</FONT><A NAME="1658"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1659</FONT><A NAME="1659"></A><br><FONT ID="LN">1660</FONT><A NAME="1660"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1661</FONT><A NAME="1661"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1662</FONT><A NAME="1662"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Tests whether the platform for the binding matches one of the active<br><FONT ID="LN">1663</FONT><A NAME="1663"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* platforms.<br><FONT ID="LN">1664</FONT><A NAME="1664"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1665</FONT><A NAME="1665"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1666</FONT><A NAME="1666"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">1667</FONT><A NAME="1667"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of active platforms.<br><FONT ID="LN">1668</FONT><A NAME="1668"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1669</FONT><A NAME="1669"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1670</FONT><A NAME="1670"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param binding<br><FONT ID="LN">1671</FONT><A NAME="1671"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The binding with which to test; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1672</FONT><A NAME="1672"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return &lt;code&gt;true&lt;/code&gt; if the binding's platform matches;<br><FONT ID="LN">1673</FONT><A NAME="1673"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;false&lt;/code&gt; otherwise.<br><FONT ID="LN">1674</FONT><A NAME="1674"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1675</FONT><A NAME="1675"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Boolean">boolean</FONT> platformMatches(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding) {<br><FONT ID="LN">1676</FONT><A NAME="1676"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> matches = <FONT ID="False">false</FONT>;<br><FONT ID="LN">1677</FONT><A NAME="1677"></A><br><FONT ID="LN">1678</FONT><A NAME="1678"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> platform = binding.getPlatform();<br><FONT ID="LN">1679</FONT><A NAME="1679"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (platform == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1680</FONT><A NAME="1680"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>; <FONT ID="SingleLineComment">// shortcut a common case<br><FONT ID="LN">1681</FONT><A NAME="1681"></A></FONT>        }<br><FONT ID="LN">1682</FONT><A NAME="1682"></A><br><FONT ID="LN">1683</FONT><A NAME="1683"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; platforms.length; i++) {<br><FONT ID="LN">1684</FONT><A NAME="1684"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (Util.equals(platforms[i], platform)) {<br><FONT ID="LN">1685</FONT><A NAME="1685"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches = <FONT ID="True">true</FONT>;<br><FONT ID="LN">1686</FONT><A NAME="1686"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">1687</FONT><A NAME="1687"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1688</FONT><A NAME="1688"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1689</FONT><A NAME="1689"></A><br><FONT ID="LN">1690</FONT><A NAME="1690"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> matches;<br><FONT ID="LN">1691</FONT><A NAME="1691"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1692</FONT><A NAME="1692"></A><br><FONT ID="LN">1693</FONT><A NAME="1693"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1694</FONT><A NAME="1694"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1695</FONT><A NAME="1695"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This recomputes the bindings based on changes to the state of the world.<br><FONT ID="LN">1696</FONT><A NAME="1696"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This computation can be triggered by changes to contexts, the active<br><FONT ID="LN">1697</FONT><A NAME="1697"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* scheme, the locale, or the platform. This method tries to use the cache<br><FONT ID="LN">1698</FONT><A NAME="1698"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* of pre-computed bindings, if possible. When this method completes,<br><FONT ID="LN">1699</FONT><A NAME="1699"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;activeBindings&lt;/code&gt; will be set to the current set of bindings<br><FONT ID="LN">1700</FONT><A NAME="1700"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* and &lt;code&gt;cachedBindings&lt;/code&gt; will contain an instance of<br><FONT ID="LN">1701</FONT><A NAME="1701"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;CachedBindingSet&lt;/code&gt; representing these bindings.<br><FONT ID="LN">1702</FONT><A NAME="1702"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1703</FONT><A NAME="1703"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1704</FONT><A NAME="1704"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n+pn)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt;<br><FONT ID="LN">1705</FONT><A NAME="1705"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* is the number of bindings, and &lt;code&gt;p&lt;/code&gt; is the average number of<br><FONT ID="LN">1706</FONT><A NAME="1706"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* triggers in a trigger sequence.<br><FONT ID="LN">1707</FONT><A NAME="1707"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1708</FONT><A NAME="1708"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1709</FONT><A NAME="1709"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> recomputeBindings() {<br><FONT ID="LN">1710</FONT><A NAME="1710"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (bindings == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1711</FONT><A NAME="1711"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Not yet initialized. This is happening too early. Do nothing.<br><FONT ID="LN">1712</FONT><A NAME="1712"></A></FONT>            setActiveBindings(Collections.EMPTY_MAP, Collections.EMPTY_MAP,<br><FONT ID="LN">1713</FONT><A NAME="1713"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Collections.EMPTY_MAP, Collections.EMPTY_MAP);<br><FONT ID="LN">1714</FONT><A NAME="1714"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">1715</FONT><A NAME="1715"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1716</FONT><A NAME="1716"></A><br><FONT ID="LN">1717</FONT><A NAME="1717"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Figure out the current state.<br><FONT ID="LN">1718</FONT><A NAME="1718"></A></FONT>        <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashSet.java.htm">Set</A>  <A HREF= "/237.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> activeContextIds = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashSet.java.htm">HashSet</A>  <A HREF= "/237.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(contextManager<br><FONT ID="LN">1719</FONT><A NAME="1719"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getActiveContextIds());<br><FONT ID="LN">1720</FONT><A NAME="1720"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> activeContextTree = createFilteredContextTreeFor(activeContextIds);<br><FONT ID="LN">1721</FONT><A NAME="1721"></A><br><FONT ID="LN">1722</FONT><A NAME="1722"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Build a cached binding set for that state.<br><FONT ID="LN">1723</FONT><A NAME="1723"></A></FONT>        <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A> bindingCache = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A>(<br><FONT ID="LN">1724</FONT><A NAME="1724"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activeContextTree, locales, platforms, activeSchemeIds);<br><FONT ID="LN">1725</FONT><A NAME="1725"></A><br><FONT ID="LN">1726</FONT><A NAME="1726"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1727</FONT><A NAME="1727"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Check if the cached binding set already exists. If so, simply set the<br><FONT ID="LN">1728</FONT><A NAME="1728"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* active bindings and return.<br><FONT ID="LN">1729</FONT><A NAME="1729"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1730</FONT><A NAME="1730"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A> existingCache = (<A HREF="../../../../org/eclipse/jface/bindings/CachedBindingSet.java.htm">CachedBindingSet</A>) cachedBindings<br><FONT ID="LN">1731</FONT><A NAME="1731"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.get(bindingCache);<br><FONT ID="LN">1732</FONT><A NAME="1732"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (existingCache == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1733</FONT><A NAME="1733"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache = bindingCache;<br><FONT ID="LN">1734</FONT><A NAME="1734"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cachedBindings.put(existingCache, existingCache);<br><FONT ID="LN">1735</FONT><A NAME="1735"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1736</FONT><A NAME="1736"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> commandIdsByTrigger = existingCache.getBindingsByTrigger();<br><FONT ID="LN">1737</FONT><A NAME="1737"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (commandIdsByTrigger != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1738</FONT><A NAME="1738"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (DEBUG) {<br><FONT ID="LN">1739</FONT><A NAME="1739"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tracing.printTrace(<FONT ID="StringLiteral">"BINDINGS"</FONT>, <FONT ID="StringLiteral">"Cache hit"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">1740</FONT><A NAME="1740"></A></FONT>            }<br><FONT ID="LN">1741</FONT><A NAME="1741"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setActiveBindings(commandIdsByTrigger, existingCache<br><FONT ID="LN">1742</FONT><A NAME="1742"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getTriggersByCommandId(), existingCache.getPrefixTable(),<br><FONT ID="LN">1743</FONT><A NAME="1743"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.getConflictsByTrigger());<br><FONT ID="LN">1744</FONT><A NAME="1744"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">1745</FONT><A NAME="1745"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1746</FONT><A NAME="1746"></A><br><FONT ID="LN">1747</FONT><A NAME="1747"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// There is no cached entry for this.<br><FONT ID="LN">1748</FONT><A NAME="1748"></A></FONT>        <FONT ID="If">if</FONT> (DEBUG) {<br><FONT ID="LN">1749</FONT><A NAME="1749"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tracing.printTrace(<FONT ID="StringLiteral">"BINDINGS"</FONT>, <FONT ID="StringLiteral">"Cache miss"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">1750</FONT><A NAME="1750"></A></FONT>        }<br><FONT ID="LN">1751</FONT><A NAME="1751"></A><br><FONT ID="LN">1752</FONT><A NAME="1752"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Compute the active bindings.<br><FONT ID="LN">1753</FONT><A NAME="1753"></A></FONT>        commandIdsByTrigger = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1754</FONT><A NAME="1754"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> triggersByParameterizedCommand = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1755</FONT><A NAME="1755"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> conflictsByTrigger = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1756</FONT><A NAME="1756"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;computeBindings(activeContextTree, commandIdsByTrigger,<br><FONT ID="LN">1757</FONT><A NAME="1757"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;triggersByParameterizedCommand, conflictsByTrigger);<br><FONT ID="LN">1758</FONT><A NAME="1758"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.setBindingsByTrigger(commandIdsByTrigger);<br><FONT ID="LN">1759</FONT><A NAME="1759"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.setTriggersByCommandId(triggersByParameterizedCommand);<br><FONT ID="LN">1760</FONT><A NAME="1760"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.setConflictsByTrigger(conflictsByTrigger);<br><FONT ID="LN">1761</FONT><A NAME="1761"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setActiveBindings(commandIdsByTrigger, triggersByParameterizedCommand,<br><FONT ID="LN">1762</FONT><A NAME="1762"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buildPrefixTable(commandIdsByTrigger),<br><FONT ID="LN">1763</FONT><A NAME="1763"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conflictsByTrigger);<br><FONT ID="LN">1764</FONT><A NAME="1764"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existingCache.setPrefixTable(prefixTable);<br><FONT ID="LN">1765</FONT><A NAME="1765"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1766</FONT><A NAME="1766"></A><br><FONT ID="LN">1767</FONT><A NAME="1767"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1768</FONT><A NAME="1768"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1769</FONT><A NAME="1769"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Remove the specific binding by identity. Does nothing if the binding is<br><FONT ID="LN">1770</FONT><A NAME="1770"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not in the manager.<br><FONT ID="LN">1771</FONT><A NAME="1771"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1772</FONT><A NAME="1772"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1773</FONT><A NAME="1773"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">1774</FONT><A NAME="1774"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of bindings.<br><FONT ID="LN">1775</FONT><A NAME="1775"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1776</FONT><A NAME="1776"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1777</FONT><A NAME="1777"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param binding<br><FONT ID="LN">1778</FONT><A NAME="1778"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The binding to be removed; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1779</FONT><A NAME="1779"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @since 3.2<br><FONT ID="LN">1780</FONT><A NAME="1780"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1781</FONT><A NAME="1781"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> removeBinding(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding) {<br><FONT ID="LN">1782</FONT><A NAME="1782"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (bindings == <FONT ID="Null">null</FONT> || bindings.length &lt; <FONT ID="IntegerLiteral">1</FONT>) {<br><FONT ID="LN">1783</FONT><A NAME="1783"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">1784</FONT><A NAME="1784"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1785</FONT><A NAME="1785"></A><br><FONT ID="LN">1786</FONT><A NAME="1786"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] newBindings = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[bindings.length];<br><FONT ID="LN">1787</FONT><A NAME="1787"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> bindingsChanged = <FONT ID="False">false</FONT>;<br><FONT ID="LN">1788</FONT><A NAME="1788"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> index = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">1789</FONT><A NAME="1789"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; bindingCount; i++) {<br><FONT ID="LN">1790</FONT><A NAME="1790"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> b = bindings[i];<br><FONT ID="LN">1791</FONT><A NAME="1791"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (b == binding) {<br><FONT ID="LN">1792</FONT><A NAME="1792"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingsChanged = <FONT ID="True">true</FONT>;<br><FONT ID="LN">1793</FONT><A NAME="1793"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">1794</FONT><A NAME="1794"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newBindings[index++] = b;<br><FONT ID="LN">1795</FONT><A NAME="1795"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1796</FONT><A NAME="1796"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1797</FONT><A NAME="1797"></A><br><FONT ID="LN">1798</FONT><A NAME="1798"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (bindingsChanged) {<br><FONT ID="LN">1799</FONT><A NAME="1799"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.bindings = newBindings;<br><FONT ID="LN">1800</FONT><A NAME="1800"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingCount = index;<br><FONT ID="LN">1801</FONT><A NAME="1801"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clearCache();<br><FONT ID="LN">1802</FONT><A NAME="1802"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1803</FONT><A NAME="1803"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1804</FONT><A NAME="1804"></A><br><FONT ID="LN">1805</FONT><A NAME="1805"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1806</FONT><A NAME="1806"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1807</FONT><A NAME="1807"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Removes a listener from this binding manager.<br><FONT ID="LN">1808</FONT><A NAME="1808"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1809</FONT><A NAME="1809"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1810</FONT><A NAME="1810"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in amortized &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">1811</FONT><A NAME="1811"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1812</FONT><A NAME="1812"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1813</FONT><A NAME="1813"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param listener<br><FONT ID="LN">1814</FONT><A NAME="1814"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The listener to be removed; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1815</FONT><A NAME="1815"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1816</FONT><A NAME="1816"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> removeBindingManagerListener(<br><FONT ID="LN">1817</FONT><A NAME="1817"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/IBindingManagerListener.java.htm">IBindingManagerListener</A> listener) {<br><FONT ID="LN">1818</FONT><A NAME="1818"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;removeListenerObject(listener);<br><FONT ID="LN">1819</FONT><A NAME="1819"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1820</FONT><A NAME="1820"></A><br><FONT ID="LN">1821</FONT><A NAME="1821"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1822</FONT><A NAME="1822"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1823</FONT><A NAME="1823"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Removes any binding that matches the given values -- regardless of<br><FONT ID="LN">1824</FONT><A NAME="1824"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* command identifier.<br><FONT ID="LN">1825</FONT><A NAME="1825"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1826</FONT><A NAME="1826"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1827</FONT><A NAME="1827"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">1828</FONT><A NAME="1828"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of bindings.<br><FONT ID="LN">1829</FONT><A NAME="1829"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1830</FONT><A NAME="1830"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1831</FONT><A NAME="1831"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param sequence<br><FONT ID="LN">1832</FONT><A NAME="1832"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The sequence to match; may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1833</FONT><A NAME="1833"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param schemeId<br><FONT ID="LN">1834</FONT><A NAME="1834"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The scheme id to match; may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1835</FONT><A NAME="1835"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param contextId<br><FONT ID="LN">1836</FONT><A NAME="1836"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The context id to match; may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1837</FONT><A NAME="1837"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param locale<br><FONT ID="LN">1838</FONT><A NAME="1838"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The locale to match; may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1839</FONT><A NAME="1839"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param platform<br><FONT ID="LN">1840</FONT><A NAME="1840"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The platform to match; may be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1841</FONT><A NAME="1841"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param windowManager<br><FONT ID="LN">1842</FONT><A NAME="1842"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The window manager to match; may be &lt;code&gt;null&lt;/code&gt;. TODO<br><FONT ID="LN">1843</FONT><A NAME="1843"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            Currently ignored.<br><FONT ID="LN">1844</FONT><A NAME="1844"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param type<br><FONT ID="LN">1845</FONT><A NAME="1845"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The type to look for.<br><FONT ID="LN">1846</FONT><A NAME="1846"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1847</FONT><A NAME="1847"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1848</FONT><A NAME="1848"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> removeBindings(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> sequence,<br><FONT ID="LN">1849</FONT><A NAME="1849"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> schemeId, <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> contextId, <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> locale,<br><FONT ID="LN">1850</FONT><A NAME="1850"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> platform, <FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> windowManager, <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> type) {<br><FONT ID="LN">1851</FONT><A NAME="1851"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((bindings == <FONT ID="Null">null</FONT>) || (bindingCount &lt; <FONT ID="IntegerLiteral">1</FONT>)) {<br><FONT ID="LN">1852</FONT><A NAME="1852"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">1853</FONT><A NAME="1853"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1854</FONT><A NAME="1854"></A><br><FONT ID="LN">1855</FONT><A NAME="1855"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] newBindings = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[bindings.length];<br><FONT ID="LN">1856</FONT><A NAME="1856"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> bindingsChanged = <FONT ID="False">false</FONT>;<br><FONT ID="LN">1857</FONT><A NAME="1857"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> index = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">1858</FONT><A NAME="1858"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; bindingCount; i++) {<br><FONT ID="LN">1859</FONT><A NAME="1859"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding = bindings[i];<br><FONT ID="LN">1860</FONT><A NAME="1860"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> equals = <FONT ID="True">true</FONT>;<br><FONT ID="LN">1861</FONT><A NAME="1861"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;equals &amp;= Util.equals(sequence, binding.getTriggerSequence());<br><FONT ID="LN">1862</FONT><A NAME="1862"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;equals &amp;= Util.equals(schemeId, binding.getSchemeId());<br><FONT ID="LN">1863</FONT><A NAME="1863"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;equals &amp;= Util.equals(contextId, binding.getContextId());<br><FONT ID="LN">1864</FONT><A NAME="1864"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;equals &amp;= Util.equals(locale, binding.getLocale());<br><FONT ID="LN">1865</FONT><A NAME="1865"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;equals &amp;= Util.equals(platform, binding.getPlatform());<br><FONT ID="LN">1866</FONT><A NAME="1866"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;equals &amp;= (type == binding.getType());<br><FONT ID="LN">1867</FONT><A NAME="1867"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (equals) {<br><FONT ID="LN">1868</FONT><A NAME="1868"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingsChanged = <FONT ID="True">true</FONT>;<br><FONT ID="LN">1869</FONT><A NAME="1869"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">1870</FONT><A NAME="1870"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newBindings[index++] = binding;<br><FONT ID="LN">1871</FONT><A NAME="1871"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1872</FONT><A NAME="1872"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1873</FONT><A NAME="1873"></A><br><FONT ID="LN">1874</FONT><A NAME="1874"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (bindingsChanged) {<br><FONT ID="LN">1875</FONT><A NAME="1875"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.bindings = newBindings;<br><FONT ID="LN">1876</FONT><A NAME="1876"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingCount = index;<br><FONT ID="LN">1877</FONT><A NAME="1877"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clearCache();<br><FONT ID="LN">1878</FONT><A NAME="1878"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1879</FONT><A NAME="1879"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1880</FONT><A NAME="1880"></A><br><FONT ID="LN">1881</FONT><A NAME="1881"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1882</FONT><A NAME="1882"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1883</FONT><A NAME="1883"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Attempts to remove deletion markers from the collection of bindings.<br><FONT ID="LN">1884</FONT><A NAME="1884"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1885</FONT><A NAME="1885"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1886</FONT><A NAME="1886"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">1887</FONT><A NAME="1887"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of bindings.<br><FONT ID="LN">1888</FONT><A NAME="1888"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1889</FONT><A NAME="1889"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1890</FONT><A NAME="1890"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param bindings<br><FONT ID="LN">1891</FONT><A NAME="1891"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The bindings from which the deleted items should be removed.<br><FONT ID="LN">1892</FONT><A NAME="1892"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            This array should not be &lt;code&gt;null&lt;/code&gt;, but may be<br><FONT ID="LN">1893</FONT><A NAME="1893"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            empty.<br><FONT ID="LN">1894</FONT><A NAME="1894"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The array of bindings with the deletions removed; never<br><FONT ID="LN">1895</FONT><A NAME="1895"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         &lt;code&gt;null&lt;/code&gt;, but may be empty. Contains only instances<br><FONT ID="LN">1896</FONT><A NAME="1896"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         of &lt;code&gt;Binding&lt;/code&gt;.<br><FONT ID="LN">1897</FONT><A NAME="1897"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1898</FONT><A NAME="1898"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] removeDeletions(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] bindings) {<br><FONT ID="LN">1899</FONT><A NAME="1899"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> deletions = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/HashMap.java.htm">HashMap</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1900</FONT><A NAME="1900"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] bindingsCopy = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[bindingCount];<br><FONT ID="LN">1901</FONT><A NAME="1901"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(bindings, <FONT ID="IntegerLiteral">0</FONT>, bindingsCopy, <FONT ID="IntegerLiteral">0</FONT>, bindingCount);<br><FONT ID="LN">1902</FONT><A NAME="1902"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> deletedCount = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">1903</FONT><A NAME="1903"></A><br><FONT ID="LN">1904</FONT><A NAME="1904"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Extract the deletions.<br><FONT ID="LN">1905</FONT><A NAME="1905"></A></FONT>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; bindingCount; i++) {<br><FONT ID="LN">1906</FONT><A NAME="1906"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding = bindingsCopy[i];<br><FONT ID="LN">1907</FONT><A NAME="1907"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((binding.getParameterizedCommand() == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">1908</FONT><A NAME="1908"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; (localeMatches(binding)) &amp;&amp; (platformMatches(binding))) {<br><FONT ID="LN">1909</FONT><A NAME="1909"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/TriggerSequence.java.htm">TriggerSequence</A> sequence = binding.getTriggerSequence();<br><FONT ID="LN">1910</FONT><A NAME="1910"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> currentValue = deletions.get(sequence);<br><FONT ID="LN">1911</FONT><A NAME="1911"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (currentValue <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) {<br><FONT ID="LN">1912</FONT><A NAME="1912"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> collection = <FONT ID="New">new</FONT> <A HREF="../../../../java/util/ArrayList.java.htm">ArrayList</A>  <A HREF= "/220.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="IntegerLiteral">2</FONT>);<br><FONT ID="LN">1913</FONT><A NAME="1913"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;collection.add(currentValue);<br><FONT ID="LN">1914</FONT><A NAME="1914"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;collection.add(binding);<br><FONT ID="LN">1915</FONT><A NAME="1915"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deletions.put(sequence, collection);<br><FONT ID="LN">1916</FONT><A NAME="1916"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (currentValue <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) {<br><FONT ID="LN">1917</FONT><A NAME="1917"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> collection = (<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) currentValue;<br><FONT ID="LN">1918</FONT><A NAME="1918"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;collection.add(binding);<br><FONT ID="LN">1919</FONT><A NAME="1919"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">1920</FONT><A NAME="1920"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deletions.put(sequence, binding);<br><FONT ID="LN">1921</FONT><A NAME="1921"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1922</FONT><A NAME="1922"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingsCopy[i] = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1923</FONT><A NAME="1923"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deletedCount++;<br><FONT ID="LN">1924</FONT><A NAME="1924"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1925</FONT><A NAME="1925"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1926</FONT><A NAME="1926"></A><br><FONT ID="LN">1927</FONT><A NAME="1927"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (DEBUG) {<br><FONT ID="LN">1928</FONT><A NAME="1928"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tracing.printTrace(<FONT ID="StringLiteral">"BINDINGS"</FONT>, <FONT ID="StringLiteral">"There are "</FONT> + deletions.size() <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">1929</FONT><A NAME="1929"></A></FONT>                    + <FONT ID="StringLiteral">" deletion markers"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1930</FONT><A NAME="1930"></A></FONT>        }<br><FONT ID="LN">1931</FONT><A NAME="1931"></A><br><FONT ID="LN">1932</FONT><A NAME="1932"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Remove the deleted items.<br><FONT ID="LN">1933</FONT><A NAME="1933"></A></FONT>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; bindingCount; i++) {<br><FONT ID="LN">1934</FONT><A NAME="1934"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding = bindingsCopy[i];<br><FONT ID="LN">1935</FONT><A NAME="1935"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (binding != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1936</FONT><A NAME="1936"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> deletion = deletions.get(binding<br><FONT ID="LN">1937</FONT><A NAME="1937"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getTriggerSequence());<br><FONT ID="LN">1938</FONT><A NAME="1938"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (deletion <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) {<br><FONT ID="LN">1939</FONT><A NAME="1939"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (((<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) deletion).deletes(binding)) {<br><FONT ID="LN">1940</FONT><A NAME="1940"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingsCopy[i] = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1941</FONT><A NAME="1941"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deletedCount++;<br><FONT ID="LN">1942</FONT><A NAME="1942"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1943</FONT><A NAME="1943"></A><br><FONT ID="LN">1944</FONT><A NAME="1944"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (deletion <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) {<br><FONT ID="LN">1945</FONT><A NAME="1945"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> collection = (<A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) deletion;<br><FONT ID="LN">1946</FONT><A NAME="1946"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Iterator.java.htm">Iterator</A>  <A HREF= "/1170.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> iterator = collection.iterator();<br><FONT ID="LN">1947</FONT><A NAME="1947"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (iterator.hasNext()) {<br><FONT ID="LN">1948</FONT><A NAME="1948"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> deletionBinding = iterator.next();<br><FONT ID="LN">1949</FONT><A NAME="1949"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (deletionBinding <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) {<br><FONT ID="LN">1950</FONT><A NAME="1950"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (((<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) deletionBinding).deletes(binding)) {<br><FONT ID="LN">1951</FONT><A NAME="1951"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingsCopy[i] = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1952</FONT><A NAME="1952"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deletedCount++;<br><FONT ID="LN">1953</FONT><A NAME="1953"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">1954</FONT><A NAME="1954"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1955</FONT><A NAME="1955"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1956</FONT><A NAME="1956"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1957</FONT><A NAME="1957"></A><br><FONT ID="LN">1958</FONT><A NAME="1958"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1959</FONT><A NAME="1959"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1960</FONT><A NAME="1960"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1961</FONT><A NAME="1961"></A><br><FONT ID="LN">1962</FONT><A NAME="1962"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Compact the array.<br><FONT ID="LN">1963</FONT><A NAME="1963"></A></FONT>        <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] returnValue = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[bindingCount - deletedCount];<br><FONT ID="LN">1964</FONT><A NAME="1964"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> index = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">1965</FONT><A NAME="1965"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; bindingCount; i++) {<br><FONT ID="LN">1966</FONT><A NAME="1966"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> binding = bindingsCopy[i];<br><FONT ID="LN">1967</FONT><A NAME="1967"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (binding != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1968</FONT><A NAME="1968"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returnValue[index++] = binding;<br><FONT ID="LN">1969</FONT><A NAME="1969"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1970</FONT><A NAME="1970"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1971</FONT><A NAME="1971"></A><br><FONT ID="LN">1972</FONT><A NAME="1972"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> returnValue;<br><FONT ID="LN">1973</FONT><A NAME="1973"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1974</FONT><A NAME="1974"></A><br><FONT ID="LN">1975</FONT><A NAME="1975"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1976</FONT><A NAME="1976"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1977</FONT><A NAME="1977"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Attempts to resolve the conflicts for the given bindings.<br><FONT ID="LN">1978</FONT><A NAME="1978"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1979</FONT><A NAME="1979"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">1980</FONT><A NAME="1980"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">1981</FONT><A NAME="1981"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of bindings.<br><FONT ID="LN">1982</FONT><A NAME="1982"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">1983</FONT><A NAME="1983"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">1984</FONT><A NAME="1984"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param bindings<br><FONT ID="LN">1985</FONT><A NAME="1985"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The bindings which all match the same trigger sequence; must<br><FONT ID="LN">1986</FONT><A NAME="1986"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            not be &lt;code&gt;null&lt;/code&gt;, and should contain at least two<br><FONT ID="LN">1987</FONT><A NAME="1987"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            items. This collection should only contain instances of<br><FONT ID="LN">1988</FONT><A NAME="1988"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;Binding&lt;/code&gt; (i.e., no &lt;code&gt;null&lt;/code&gt; values).<br><FONT ID="LN">1989</FONT><A NAME="1989"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param activeContextTree<br><FONT ID="LN">1990</FONT><A NAME="1990"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The tree of contexts to be used for all of the comparison. All<br><FONT ID="LN">1991</FONT><A NAME="1991"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            of the keys should be active context identifiers (i.e., never<br><FONT ID="LN">1992</FONT><A NAME="1992"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            &lt;code&gt;null&lt;/code&gt;). The values will be their parents (i.e.,<br><FONT ID="LN">1993</FONT><A NAME="1993"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            possibly &lt;code&gt;null&lt;/code&gt;). Both keys and values are<br><FONT ID="LN">1994</FONT><A NAME="1994"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            context identifiers (&lt;code&gt;String&lt;/code&gt;). This map should<br><FONT ID="LN">1995</FONT><A NAME="1995"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            never be empty, and must never be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1996</FONT><A NAME="1996"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return The binding which best matches the current state. If there is a<br><FONT ID="LN">1997</FONT><A NAME="1997"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*         tie, then return &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">1998</FONT><A NAME="1998"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1999</FONT><A NAME="1999"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> resolveConflicts(<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Collection.java.htm">Collection</A>  <A HREF= "/239.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bindings,<br><FONT ID="LN">2000</FONT><A NAME="2000"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> activeContextTree) {<br><FONT ID="LN">2001</FONT><A NAME="2001"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">2002</FONT><A NAME="2002"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This flag is used to indicate when the bestMatch binding conflicts<br><FONT ID="LN">2003</FONT><A NAME="2003"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* with another binding. We keep the best match binding so that we know<br><FONT ID="LN">2004</FONT><A NAME="2004"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* if we find a better binding. However, if we don't find a better<br><FONT ID="LN">2005</FONT><A NAME="2005"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* binding, then we known to return null.<br><FONT ID="LN">2006</FONT><A NAME="2006"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2007</FONT><A NAME="2007"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> conflict = <FONT ID="False">false</FONT>;<br><FONT ID="LN">2008</FONT><A NAME="2008"></A><br><FONT ID="LN">2009</FONT><A NAME="2009"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/Iterator.java.htm">Iterator</A>  <A HREF= "/1170.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bindingItr = bindings.iterator();<br><FONT ID="LN">2010</FONT><A NAME="2010"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> bestMatch = (<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) bindingItr.next();<br><FONT ID="LN">2011</FONT><A NAME="2011"></A><br><FONT ID="LN">2012</FONT><A NAME="2012"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">2013</FONT><A NAME="2013"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Iterate over each binding and compare it with the best match. If a<br><FONT ID="LN">2014</FONT><A NAME="2014"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* better match is found, then replace the best match and set the<br><FONT ID="LN">2015</FONT><A NAME="2015"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* conflict flag to false. If a conflict is found, then leave the best<br><FONT ID="LN">2016</FONT><A NAME="2016"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* match and set the conflict flag. Otherwise, just continue.<br><FONT ID="LN">2017</FONT><A NAME="2017"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2018</FONT><A NAME="2018"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (bindingItr.hasNext()) {<br><FONT ID="LN">2019</FONT><A NAME="2019"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A> current = (<A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>) bindingItr.next();<br><FONT ID="LN">2020</FONT><A NAME="2020"></A><br><FONT ID="LN">2021</FONT><A NAME="2021"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">2022</FONT><A NAME="2022"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* SCHEME: Test whether the current is in a child scheme. Bindings<br><FONT ID="LN">2023</FONT><A NAME="2023"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* defined in a child scheme will always take priority over bindings<br><FONT ID="LN">2024</FONT><A NAME="2024"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* defined in a parent scheme.<br><FONT ID="LN">2025</FONT><A NAME="2025"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2026</FONT><A NAME="2026"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> currentSchemeId = current.getSchemeId();<br><FONT ID="LN">2027</FONT><A NAME="2027"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bestSchemeId = bestMatch.getSchemeId();<br><FONT ID="LN">2028</FONT><A NAME="2028"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> compareTo = compareSchemes(bestSchemeId, currentSchemeId);<br><FONT ID="LN">2029</FONT><A NAME="2029"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (compareTo &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">2030</FONT><A NAME="2030"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bestMatch = current;<br><FONT ID="LN">2031</FONT><A NAME="2031"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conflict = <FONT ID="False">false</FONT>;<br><FONT ID="LN">2032</FONT><A NAME="2032"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2033</FONT><A NAME="2033"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (compareTo != <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">2034</FONT><A NAME="2034"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">2035</FONT><A NAME="2035"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2036</FONT><A NAME="2036"></A><br><FONT ID="LN">2037</FONT><A NAME="2037"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">2038</FONT><A NAME="2038"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* CONTEXTS: Check for context superiority. Bindings defined in a<br><FONT ID="LN">2039</FONT><A NAME="2039"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* child context will take priority over bindings defined in a<br><FONT ID="LN">2040</FONT><A NAME="2040"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* parent context -- assuming that the schemes lead to a conflict.<br><FONT ID="LN">2041</FONT><A NAME="2041"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2042</FONT><A NAME="2042"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> currentContext = current.getContextId();<br><FONT ID="LN">2043</FONT><A NAME="2043"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> bestContext = bestMatch.getContextId();<br><FONT ID="LN">2044</FONT><A NAME="2044"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!currentContext.equals(bestContext)) {<br><FONT ID="LN">2045</FONT><A NAME="2045"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> goToNextBinding = <FONT ID="False">false</FONT>;<br><FONT ID="LN">2046</FONT><A NAME="2046"></A><br><FONT ID="LN">2047</FONT><A NAME="2047"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Ascend the current's context tree.<br><FONT ID="LN">2048</FONT><A NAME="2048"></A></FONT>                <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> contextPointer = currentContext;<br><FONT ID="LN">2049</FONT><A NAME="2049"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (contextPointer != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2050</FONT><A NAME="2050"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (contextPointer.equals(bestContext)) {<br><FONT ID="LN">2051</FONT><A NAME="2051"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// the current wins<br><FONT ID="LN">2052</FONT><A NAME="2052"></A></FONT>                        bestMatch = current;<br><FONT ID="LN">2053</FONT><A NAME="2053"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conflict = <FONT ID="False">false</FONT>;<br><FONT ID="LN">2054</FONT><A NAME="2054"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goToNextBinding = <FONT ID="True">true</FONT>;<br><FONT ID="LN">2055</FONT><A NAME="2055"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">2056</FONT><A NAME="2056"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2057</FONT><A NAME="2057"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contextPointer = (<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) activeContextTree<br><FONT ID="LN">2058</FONT><A NAME="2058"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.get(contextPointer);<br><FONT ID="LN">2059</FONT><A NAME="2059"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2060</FONT><A NAME="2060"></A><br><FONT ID="LN">2061</FONT><A NAME="2061"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Ascend the best match's context tree.<br><FONT ID="LN">2062</FONT><A NAME="2062"></A></FONT>                contextPointer = bestContext;<br><FONT ID="LN">2063</FONT><A NAME="2063"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (contextPointer != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2064</FONT><A NAME="2064"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (contextPointer.equals(currentContext)) {<br><FONT ID="LN">2065</FONT><A NAME="2065"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// the best wins<br><FONT ID="LN">2066</FONT><A NAME="2066"></A></FONT>                        goToNextBinding = <FONT ID="True">true</FONT>;<br><FONT ID="LN">2067</FONT><A NAME="2067"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">2068</FONT><A NAME="2068"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2069</FONT><A NAME="2069"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contextPointer = (<A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) activeContextTree<br><FONT ID="LN">2070</FONT><A NAME="2070"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.get(contextPointer);<br><FONT ID="LN">2071</FONT><A NAME="2071"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2072</FONT><A NAME="2072"></A><br><FONT ID="LN">2073</FONT><A NAME="2073"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (goToNextBinding) {<br><FONT ID="LN">2074</FONT><A NAME="2074"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">2075</FONT><A NAME="2075"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2076</FONT><A NAME="2076"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2077</FONT><A NAME="2077"></A><br><FONT ID="LN">2078</FONT><A NAME="2078"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">2079</FONT><A NAME="2079"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* TYPE: Test for type superiority.<br><FONT ID="LN">2080</FONT><A NAME="2080"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2081</FONT><A NAME="2081"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (current.getType() &gt; bestMatch.getType()) {<br><FONT ID="LN">2082</FONT><A NAME="2082"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bestMatch = current;<br><FONT ID="LN">2083</FONT><A NAME="2083"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conflict = <FONT ID="False">false</FONT>;<br><FONT ID="LN">2084</FONT><A NAME="2084"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">2085</FONT><A NAME="2085"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (bestMatch.getType() &gt; current.getType()) {<br><FONT ID="LN">2086</FONT><A NAME="2086"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">2087</FONT><A NAME="2087"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2088</FONT><A NAME="2088"></A><br><FONT ID="LN">2089</FONT><A NAME="2089"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// We could not resolve the conflict between these two.<br><FONT ID="LN">2090</FONT><A NAME="2090"></A></FONT>            conflict = <FONT ID="True">true</FONT>;<br><FONT ID="LN">2091</FONT><A NAME="2091"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2092</FONT><A NAME="2092"></A><br><FONT ID="LN">2093</FONT><A NAME="2093"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// If the best match represents a conflict, then return null.<br><FONT ID="LN">2094</FONT><A NAME="2094"></A></FONT>        <FONT ID="If">if</FONT> (conflict) {<br><FONT ID="LN">2095</FONT><A NAME="2095"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2096</FONT><A NAME="2096"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2097</FONT><A NAME="2097"></A><br><FONT ID="LN">2098</FONT><A NAME="2098"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Otherwise, we have a winner....<br><FONT ID="LN">2099</FONT><A NAME="2099"></A></FONT>        <FONT ID="Return">return</FONT> bestMatch;<br><FONT ID="LN">2100</FONT><A NAME="2100"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2101</FONT><A NAME="2101"></A><br><FONT ID="LN">2102</FONT><A NAME="2102"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2103</FONT><A NAME="2103"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">2104</FONT><A NAME="2104"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Notifies this manager that a scheme has changed. This method is intended<br><FONT ID="LN">2105</FONT><A NAME="2105"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* for internal use only.<br><FONT ID="LN">2106</FONT><A NAME="2106"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">2107</FONT><A NAME="2107"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">2108</FONT><A NAME="2108"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method calls out to listeners, and so the time it takes to complete<br><FONT ID="LN">2109</FONT><A NAME="2109"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* is dependent on third-party code.<br><FONT ID="LN">2110</FONT><A NAME="2110"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">2111</FONT><A NAME="2111"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">2112</FONT><A NAME="2112"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param schemeEvent<br><FONT ID="LN">2113</FONT><A NAME="2113"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            An event describing the change in the scheme.<br><FONT ID="LN">2114</FONT><A NAME="2114"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2115</FONT><A NAME="2115"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> schemeChanged(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/SchemeEvent.java.htm">SchemeEvent</A> schemeEvent) {<br><FONT ID="LN">2116</FONT><A NAME="2116"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (schemeEvent.isDefinedChanged()) {<br><FONT ID="LN">2117</FONT><A NAME="2117"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A> scheme = schemeEvent.getScheme();<br><FONT ID="LN">2118</FONT><A NAME="2118"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <FONT ID="Boolean">boolean</FONT> schemeIdAdded = scheme.isDefined();<br><FONT ID="LN">2119</FONT><A NAME="2119"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> activeSchemeChanged = <FONT ID="False">false</FONT>;<br><FONT ID="LN">2120</FONT><A NAME="2120"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (schemeIdAdded) {<br><FONT ID="LN">2121</FONT><A NAME="2121"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;definedHandleObjects.add(scheme);<br><FONT ID="LN">2122</FONT><A NAME="2122"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">2123</FONT><A NAME="2123"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;definedHandleObjects.remove(scheme);<br><FONT ID="LN">2124</FONT><A NAME="2124"></A><br><FONT ID="LN">2125</FONT><A NAME="2125"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (activeScheme == scheme) {<br><FONT ID="LN">2126</FONT><A NAME="2126"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activeScheme = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2127</FONT><A NAME="2127"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activeSchemeIds = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2128</FONT><A NAME="2128"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activeSchemeChanged = <FONT ID="True">true</FONT>;<br><FONT ID="LN">2129</FONT><A NAME="2129"></A><br><FONT ID="LN">2130</FONT><A NAME="2130"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Clear the binding solution.<br><FONT ID="LN">2131</FONT><A NAME="2131"></A></FONT>                    clearSolution();<br><FONT ID="LN">2132</FONT><A NAME="2132"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2133</FONT><A NAME="2133"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2134</FONT><A NAME="2134"></A><br><FONT ID="LN">2135</FONT><A NAME="2135"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (isListenerAttached()) {<br><FONT ID="LN">2136</FONT><A NAME="2136"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fireBindingManagerChanged(<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/BindingManagerEvent.java.htm">BindingManagerEvent</A>(<FONT ID="This">this</FONT>, <FONT ID="False">false</FONT>,<br><FONT ID="LN">2137</FONT><A NAME="2137"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Null">null</FONT>, activeSchemeChanged, scheme, schemeIdAdded,<br><FONT ID="LN">2138</FONT><A NAME="2138"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="False">false</FONT>, <FONT ID="False">false</FONT>));<br><FONT ID="LN">2139</FONT><A NAME="2139"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2140</FONT><A NAME="2140"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2141</FONT><A NAME="2141"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2142</FONT><A NAME="2142"></A><br><FONT ID="LN">2143</FONT><A NAME="2143"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2144</FONT><A NAME="2144"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Sets the active bindings and the prefix table. This ensures that the two<br><FONT ID="LN">2145</FONT><A NAME="2145"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* values change at the same time, and that any listeners are notified<br><FONT ID="LN">2146</FONT><A NAME="2146"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* appropriately.<br><FONT ID="LN">2147</FONT><A NAME="2147"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">2148</FONT><A NAME="2148"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param activeBindings<br><FONT ID="LN">2149</FONT><A NAME="2149"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            This is a map of triggers ( &lt;code&gt;TriggerSequence&lt;/code&gt;)<br><FONT ID="LN">2150</FONT><A NAME="2150"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            to bindings (&lt;code&gt;Binding&lt;/code&gt;). This value will only<br><FONT ID="LN">2151</FONT><A NAME="2151"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            be &lt;code&gt;null&lt;/code&gt; if the active bindings have not yet<br><FONT ID="LN">2152</FONT><A NAME="2152"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            been computed. Otherwise, this value may be empty.<br><FONT ID="LN">2153</FONT><A NAME="2153"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param activeBindingsByCommandId<br><FONT ID="LN">2154</FONT><A NAME="2154"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            This is a map of fully-parameterized commands (&lt;code&gt;ParameterizedCommand&lt;/code&gt;)<br><FONT ID="LN">2155</FONT><A NAME="2155"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            to triggers ( &lt;code&gt;TriggerSequence&lt;/code&gt;). This value<br><FONT ID="LN">2156</FONT><A NAME="2156"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            will only be &lt;code&gt;null&lt;/code&gt; if the active bindings have<br><FONT ID="LN">2157</FONT><A NAME="2157"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            not yet been computed. Otherwise, this value may be empty.<br><FONT ID="LN">2158</FONT><A NAME="2158"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param prefixTable<br><FONT ID="LN">2159</FONT><A NAME="2159"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            A map of prefixes (&lt;code&gt;TriggerSequence&lt;/code&gt;) to a map<br><FONT ID="LN">2160</FONT><A NAME="2160"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            of available completions (possibly &lt;code&gt;null&lt;/code&gt;, which<br><FONT ID="LN">2161</FONT><A NAME="2161"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            means there is an exact match). The available completions is a<br><FONT ID="LN">2162</FONT><A NAME="2162"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            map of trigger (&lt;code&gt;TriggerSequence&lt;/code&gt;) to binding (&lt;code&gt;Binding&lt;/code&gt;).<br><FONT ID="LN">2163</FONT><A NAME="2163"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            This value may be &lt;code&gt;null&lt;/code&gt; if there is no existing<br><FONT ID="LN">2164</FONT><A NAME="2164"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            solution.<br><FONT ID="LN">2165</FONT><A NAME="2165"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2166</FONT><A NAME="2166"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> setActiveBindings(<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> activeBindings,<br><FONT ID="LN">2167</FONT><A NAME="2167"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> activeBindingsByCommandId, <FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> prefixTable,<br><FONT ID="LN">2168</FONT><A NAME="2168"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> conflicts) {<br><FONT ID="LN">2169</FONT><A NAME="2169"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.activeBindings = activeBindings;<br><FONT ID="LN">2170</FONT><A NAME="2170"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../java/util/HashMap.java.htm">Map</A>  <A HREF= "/754.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> previousBindingsByParameterizedCommand = <FONT ID="This">this</FONT>.activeBindingsByParameterizedCommand;<br><FONT ID="LN">2171</FONT><A NAME="2171"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.activeBindingsByParameterizedCommand = activeBindingsByCommandId;<br><FONT ID="LN">2172</FONT><A NAME="2172"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.prefixTable = prefixTable;<br><FONT ID="LN">2173</FONT><A NAME="2173"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InternalPolicy.currentConflicts = conflicts;<br><FONT ID="LN">2174</FONT><A NAME="2174"></A><br><FONT ID="LN">2175</FONT><A NAME="2175"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fireBindingManagerChanged(<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/BindingManagerEvent.java.htm">BindingManagerEvent</A>(<FONT ID="This">this</FONT>, <FONT ID="True">true</FONT>,<br><FONT ID="LN">2176</FONT><A NAME="2176"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;previousBindingsByParameterizedCommand, <FONT ID="False">false</FONT>, <FONT ID="Null">null</FONT>, <FONT ID="False">false</FONT>,<br><FONT ID="LN">2177</FONT><A NAME="2177"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="False">false</FONT>, <FONT ID="False">false</FONT>));<br><FONT ID="LN">2178</FONT><A NAME="2178"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2179</FONT><A NAME="2179"></A><br><FONT ID="LN">2180</FONT><A NAME="2180"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2181</FONT><A NAME="2181"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">2182</FONT><A NAME="2182"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Selects one of the schemes as the active scheme. This scheme must be<br><FONT ID="LN">2183</FONT><A NAME="2183"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* defined.<br><FONT ID="LN">2184</FONT><A NAME="2184"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">2185</FONT><A NAME="2185"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">2186</FONT><A NAME="2186"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">2187</FONT><A NAME="2187"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the height of the context tree.<br><FONT ID="LN">2188</FONT><A NAME="2188"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">2189</FONT><A NAME="2189"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">2190</FONT><A NAME="2190"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param scheme<br><FONT ID="LN">2191</FONT><A NAME="2191"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The scheme to become active; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">2192</FONT><A NAME="2192"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @throws NotDefinedException<br><FONT ID="LN">2193</FONT><A NAME="2193"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*             If the given scheme is currently undefined.<br><FONT ID="LN">2194</FONT><A NAME="2194"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2195</FONT><A NAME="2195"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> setActiveScheme(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Scheme.java.htm">Scheme</A> scheme)<br><FONT ID="LN">2196</FONT><A NAME="2196"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throws">throws</FONT> <A HREF="../../../../org/eclipse/core/commands/common/NotDefinedException.java.htm">NotDefinedException</A> {<br><FONT ID="LN">2197</FONT><A NAME="2197"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (scheme == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2198</FONT><A NAME="2198"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../java/lang/NullPointerException.java.htm">NullPointerException</A>  <A HREF= "/1249.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"Cannot activate a null scheme"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2199</FONT><A NAME="2199"></A></FONT>        }<br><FONT ID="LN">2200</FONT><A NAME="2200"></A><br><FONT ID="LN">2201</FONT><A NAME="2201"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((scheme == <FONT ID="Null">null</FONT>) || (!scheme.isDefined())) {<br><FONT ID="LN">2202</FONT><A NAME="2202"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/core/commands/common/NotDefinedException.java.htm">NotDefinedException</A>(<br><FONT ID="LN">2203</FONT><A NAME="2203"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"Cannot activate an undefined scheme. "</FONT> <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2204</FONT><A NAME="2204"></A></FONT>                            + scheme.getId());<br><FONT ID="LN">2205</FONT><A NAME="2205"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2206</FONT><A NAME="2206"></A><br><FONT ID="LN">2207</FONT><A NAME="2207"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (Util.equals(activeScheme, scheme)) {<br><FONT ID="LN">2208</FONT><A NAME="2208"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">2209</FONT><A NAME="2209"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2210</FONT><A NAME="2210"></A><br><FONT ID="LN">2211</FONT><A NAME="2211"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activeScheme = scheme;<br><FONT ID="LN">2212</FONT><A NAME="2212"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activeSchemeIds = getSchemeIds(activeScheme.getId());<br><FONT ID="LN">2213</FONT><A NAME="2213"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clearSolution();<br><FONT ID="LN">2214</FONT><A NAME="2214"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fireBindingManagerChanged(<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/BindingManagerEvent.java.htm">BindingManagerEvent</A>(<FONT ID="This">this</FONT>, <FONT ID="False">false</FONT>, <FONT ID="Null">null</FONT>,<br><FONT ID="LN">2215</FONT><A NAME="2215"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="True">true</FONT>, <FONT ID="Null">null</FONT>, <FONT ID="False">false</FONT>, <FONT ID="False">false</FONT>, <FONT ID="False">false</FONT>));<br><FONT ID="LN">2216</FONT><A NAME="2216"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2217</FONT><A NAME="2217"></A><br><FONT ID="LN">2218</FONT><A NAME="2218"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2219</FONT><A NAME="2219"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">2220</FONT><A NAME="2220"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Changes the set of bindings for this binding manager. Changing the set of<br><FONT ID="LN">2221</FONT><A NAME="2221"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* bindings all at once ensures that: (1) duplicates are removed; and (2)<br><FONT ID="LN">2222</FONT><A NAME="2222"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* avoids unnecessary intermediate computations. This method clears the<br><FONT ID="LN">2223</FONT><A NAME="2223"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* existing bindings, but does not trigger a recomputation (other method<br><FONT ID="LN">2224</FONT><A NAME="2224"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* calls are required to do that).<br><FONT ID="LN">2225</FONT><A NAME="2225"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">2226</FONT><A NAME="2226"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">2227</FONT><A NAME="2227"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(n)&lt;/code&gt;, where &lt;code&gt;n&lt;/code&gt; is<br><FONT ID="LN">2228</FONT><A NAME="2228"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the number of bindings.<br><FONT ID="LN">2229</FONT><A NAME="2229"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">2230</FONT><A NAME="2230"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">2231</FONT><A NAME="2231"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param bindings<br><FONT ID="LN">2232</FONT><A NAME="2232"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The new array of bindings; may be &lt;code&gt;null&lt;/code&gt;. This<br><FONT ID="LN">2233</FONT><A NAME="2233"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            set is copied into a local data structure.<br><FONT ID="LN">2234</FONT><A NAME="2234"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2235</FONT><A NAME="2235"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> setBindings(<FONT ID="Final">final</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[] bindings) {<br><FONT ID="LN">2236</FONT><A NAME="2236"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (Arrays.equals(<FONT ID="This">this</FONT>.bindings, bindings)) {<br><FONT ID="LN">2237</FONT><A NAME="2237"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>; <FONT ID="SingleLineComment">// nothing has changed<br><FONT ID="LN">2238</FONT><A NAME="2238"></A></FONT>        }<br><FONT ID="LN">2239</FONT><A NAME="2239"></A><br><FONT ID="LN">2240</FONT><A NAME="2240"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((bindings == <FONT ID="Null">null</FONT>) || (bindings.length == <FONT ID="IntegerLiteral">0</FONT>)) {<br><FONT ID="LN">2241</FONT><A NAME="2241"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.bindings = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2242</FONT><A NAME="2242"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingCount = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">2243</FONT><A NAME="2243"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">2244</FONT><A NAME="2244"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> bindingsLength = bindings.length;<br><FONT ID="LN">2245</FONT><A NAME="2245"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.bindings = <FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/Binding.java.htm">Binding</A>[bindingsLength];<br><FONT ID="LN">2246</FONT><A NAME="2246"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(bindings, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="This">this</FONT>.bindings, <FONT ID="IntegerLiteral">0</FONT>, bindingsLength);<br><FONT ID="LN">2247</FONT><A NAME="2247"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindingCount = bindingsLength;<br><FONT ID="LN">2248</FONT><A NAME="2248"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2249</FONT><A NAME="2249"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clearCache();<br><FONT ID="LN">2250</FONT><A NAME="2250"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2251</FONT><A NAME="2251"></A><br><FONT ID="LN">2252</FONT><A NAME="2252"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2253</FONT><A NAME="2253"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">2254</FONT><A NAME="2254"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Changes the locale for this binding manager. The locale can be used to<br><FONT ID="LN">2255</FONT><A NAME="2255"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* provide locale-specific bindings. If the locale is different than the<br><FONT ID="LN">2256</FONT><A NAME="2256"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* current locale, this will force a recomputation of the bindings. The<br><FONT ID="LN">2257</FONT><A NAME="2257"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* locale is in the same format as<br><FONT ID="LN">2258</FONT><A NAME="2258"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;Locale.getDefault().toString()&lt;/code&gt;.<br><FONT ID="LN">2259</FONT><A NAME="2259"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">2260</FONT><A NAME="2260"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">2261</FONT><A NAME="2261"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">2262</FONT><A NAME="2262"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">2263</FONT><A NAME="2263"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">2264</FONT><A NAME="2264"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param locale<br><FONT ID="LN">2265</FONT><A NAME="2265"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The new locale; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">2266</FONT><A NAME="2266"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @see Locale#getDefault()<br><FONT ID="LN">2267</FONT><A NAME="2267"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2268</FONT><A NAME="2268"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> setLocale(<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> locale) {<br><FONT ID="LN">2269</FONT><A NAME="2269"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (locale == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2270</FONT><A NAME="2270"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../java/lang/NullPointerException.java.htm">NullPointerException</A>  <A HREF= "/1249.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"The locale cannot be null"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2271</FONT><A NAME="2271"></A></FONT>        }<br><FONT ID="LN">2272</FONT><A NAME="2272"></A><br><FONT ID="LN">2273</FONT><A NAME="2273"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!Util.equals(<FONT ID="This">this</FONT>.locale, locale)) {<br><FONT ID="LN">2274</FONT><A NAME="2274"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.locale = locale;<br><FONT ID="LN">2275</FONT><A NAME="2275"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.locales = expand(locale, LOCALE_SEPARATOR);<br><FONT ID="LN">2276</FONT><A NAME="2276"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clearSolution();<br><FONT ID="LN">2277</FONT><A NAME="2277"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fireBindingManagerChanged(<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/BindingManagerEvent.java.htm">BindingManagerEvent</A>(<FONT ID="This">this</FONT>, <FONT ID="False">false</FONT>,<br><FONT ID="LN">2278</FONT><A NAME="2278"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Null">null</FONT>, <FONT ID="False">false</FONT>, <FONT ID="Null">null</FONT>, <FONT ID="False">false</FONT>, <FONT ID="True">true</FONT>, <FONT ID="False">false</FONT>));<br><FONT ID="LN">2279</FONT><A NAME="2279"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2280</FONT><A NAME="2280"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2281</FONT><A NAME="2281"></A><br><FONT ID="LN">2282</FONT><A NAME="2282"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2283</FONT><A NAME="2283"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">2284</FONT><A NAME="2284"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Changes the platform for this binding manager. The platform can be used<br><FONT ID="LN">2285</FONT><A NAME="2285"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* to provide platform-specific bindings. If the platform is different than<br><FONT ID="LN">2286</FONT><A NAME="2286"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the current platform, then this will force a recomputation of the<br><FONT ID="LN">2287</FONT><A NAME="2287"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* bindings. The locale is in the same format as<br><FONT ID="LN">2288</FONT><A NAME="2288"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;SWT.getPlatform()&lt;/code&gt;.<br><FONT ID="LN">2289</FONT><A NAME="2289"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">2290</FONT><A NAME="2290"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">2291</FONT><A NAME="2291"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This method completes in &lt;code&gt;O(1)&lt;/code&gt;.<br><FONT ID="LN">2292</FONT><A NAME="2292"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;/p&gt;<br><FONT ID="LN">2293</FONT><A NAME="2293"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">2294</FONT><A NAME="2294"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param platform<br><FONT ID="LN">2295</FONT><A NAME="2295"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*            The new platform; must not be &lt;code&gt;null&lt;/code&gt;.<br><FONT ID="LN">2296</FONT><A NAME="2296"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @see org.eclipse.swt.SWT#getPlatform()<br><FONT ID="LN">2297</FONT><A NAME="2297"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2298</FONT><A NAME="2298"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> setPlatform(<FONT ID="Final">final</FONT> <A HREF="../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> platform) {<br><FONT ID="LN">2299</FONT><A NAME="2299"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (platform == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2300</FONT><A NAME="2300"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../java/lang/NullPointerException.java.htm">NullPointerException</A>  <A HREF= "/1249.htm"><img SRC="../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"The platform cannot be null"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2301</FONT><A NAME="2301"></A></FONT>        }<br><FONT ID="LN">2302</FONT><A NAME="2302"></A><br><FONT ID="LN">2303</FONT><A NAME="2303"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!Util.equals(<FONT ID="This">this</FONT>.platform, platform)) {<br><FONT ID="LN">2304</FONT><A NAME="2304"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.platform = platform;<br><FONT ID="LN">2305</FONT><A NAME="2305"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.platforms = expand(platform, Util.ZERO_LENGTH_STRING);<br><FONT ID="LN">2306</FONT><A NAME="2306"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clearSolution();<br><FONT ID="LN">2307</FONT><A NAME="2307"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fireBindingManagerChanged(<FONT ID="New">new</FONT> <A HREF="../../../../org/eclipse/jface/bindings/BindingManagerEvent.java.htm">BindingManagerEvent</A>(<FONT ID="This">this</FONT>, <FONT ID="False">false</FONT>,<br><FONT ID="LN">2308</FONT><A NAME="2308"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Null">null</FONT>, <FONT ID="False">false</FONT>, <FONT ID="Null">null</FONT>, <FONT ID="False">false</FONT>, <FONT ID="False">false</FONT>, <FONT ID="True">true</FONT>));<br><FONT ID="LN">2309</FONT><A NAME="2309"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2310</FONT><A NAME="2310"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2311</FONT><A NAME="2311"></A>}<br><FONT ID="LN">2312</FONT><A NAME="2312"></A></CODE>              <script type="text/javascript">doContentColumn2();</script>            </div>            <div id="contentHeading3" class="inside">              <!--contentHeading3-->            </div>            <div id="contentColumn3" class="inside">              <!--contentColumn3-->              <script type="text/javascript">doContentColumn3();</script>            </div>            <div id="contentHeading4" class="inside">              <!--contentHeading4-->            </div>            <div id="contentColumn4" class="inside">              <!--contentColumn4-->              <script type="text/javascript">doContentColumn4();</script>            </div>            <div id="contentHeading5" class="inside">              <!--contentHeading5-->            </div>            <div id="contentColumn5" class="inside">              <!--contentColumn5-->              <script type="text/javascript">doContentColumn5();</script>            </div>          </td>          <td id="rightColumn">            <div id="rightHeading1" class="inside">              <!--rightHeading1-->            </div>            <div id="rightColumn1" class="inside">              <!--rightColumn1-->              <a href="/browse.html" title="JavaDoc, source codes and sample codes for all the Java SE, EE, and ME methods organized alphabetically in one central place." id="menu1" target="_top">A to Z: JavaDoc & Examples</a>              <hr class="hide">              <a href="/news" title="Daily Java news and articles, updated continuously from 100+ Java news sources." id="menu2" target="_top">Daily Java News & Articles</a>              <hr class="hide">              <a href="/prj" title="Java Open Source Projects by Tags." id="menu3" target="_top">Open Source Projects</a>              <hr class="hide">              <a href="/src" title="34,081,897 lines of Java Open Source Codes." id="menu4" target="_top">Open Source Codes</a>              <hr class="hide">              <a href="/books" title="A large collection of free online computer books." id="menu5" target="_top">Free Computer Books</a>              <hr class="hide">              <a href=# title="Remove Frame." onclick="removeFrame();" id="menu6" target="_top">Remove Frame</a>              <hr class="hide">              <script type="text/javascript">doRightColumn1();</script>            </div>            <div id="rightHeading2" class="inside">              <!--rightHeading2-->            </div>            <div id="rightColumn2" class="inside">              <!--rightColumn2-->              <script type="text/javascript">doRightColumn2();</script>            </div>            <div id="rightHeading3" class="inside">              Popular Tags            </div>            <div id="rightColumn3" class="inside">              <!--rightColumn3-->              <script type="text/javascript">doRightColumn3();</script>            </div>            <div id="rightHeading4" class="inside">              <!--rightHeading4-->            </div>            <div id="rightColumn4" class="inside">              <!--rightColumn4-->              <script type="text/javascript">doRightColumn4();</script>            </div>            <div id="rightHeading5" class="inside">              <!--rightHeading5-->            </div>            <div id="rightColumn5" class="inside">              <!--rightColumn5-->              <script type="text/javascript">doRightColumn5();</script>            </div>          </td>        </tr>      </table>      <table id="Bottom1">        <tr>          <td id="Bottom10"><script type="text/javascript">doBottom10();</script></td>          <td id="Bottom11"><script type="text/javascript">doBottom11();</script></td>          <td id="Bottom12"><script type="text/javascript">doBottom12();</script></td>          <td id="Bottom13"><script type="text/javascript">doBottom13();</script></td>          <td id="Bottom14"><script type="text/javascript">doBottom14();</script></td>          <td id="Bottom15"><script type="text/javascript">doBottom15();</script></td>          <td id="Bottom16"><script type="text/javascript">doBottom16();</script></td>          <td id="Bottom17"><script type="text/javascript">doBottom17();</script></td>          <td id="Bottom18"><script type="text/javascript">doBottom18();</script></td>          <td id="Bottom10"><script type="text/javascript">doBottom19();</script></td>        </tr>      </table>      <table id="Bottom2">        <tr>          <td id="Bottom20"><script type="text/javascript">doBottom20();</script></td>          <td id="Bottom21"><script type="text/javascript">doBottom21();</script></td>          <td id="Bottom22"><script type="text/javascript">doBottom22();</script></td>          <td id="Bottom23"><script type="text/javascript">doBottom23();</script></td>          <td id="Bottom24"><script type="text/javascript">doBottom24();</script></td>          <td id="Bottom25"><script type="text/javascript">doBottom25();</script></td>          <td id="Bottom26"><script type="text/javascript">doBottom26();</script></td>          <td id="Bottom27"><script type="text/javascript">doBottom27();</script></td>          <td id="Bottom28"><script type="text/javascript">doBottom28();</script></td>          <td id="Bottom29"><script type="text/javascript">doBottom29();</script></td>        </tr>      </table>      <div id="footer" class="inside">        <hr class="hide">        <p>          Java <acronym title="Application Programming Interface">API</acronym> By Example, From Geeks To Geeks.&nbsp;|&nbsp;          <A href="http://121space.com/blog/kickjava" target="_top">Our Blog</A>&nbsp;|&nbsp;          <A href="/cmn/condition.html" target="_top">Conditions of Use</A><A href="/sitemap_index.xml"> </a>&nbsp;|&nbsp;          <A href="/cmn/about.html" target="_top">About Us</A><A href="/all.html.gz">_</a>&nbsp;|&nbsp;          <script type="text/javascript">doFooter();</script>        </p>      </div>    </div>    <script type="text/javascript">doBodyEnd();</script>    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>    <script type="text/javascript">_uacct = "UA-437240-2";urchinTracker();</script>    <DIV ID="divWindow" NAME="divWindow"></DIV>  </body></html>
