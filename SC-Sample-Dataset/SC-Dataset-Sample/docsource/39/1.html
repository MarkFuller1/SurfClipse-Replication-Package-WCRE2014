<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<link rel="stylesheet" type="text/css" href="http://bugs.caucho.com/css/default.css" />
	<script type="text/javascript" language="JavaScript"><!--
		if(document.layers) {document.write("<style>td{padding:0px;}<\/style>")}
	// --></script>
	<meta http-equiv="Content-type" content="text/html;charset=windows-1252" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Cache-Control" content="no-cache" />
	<meta http-equiv="Pragma-directive" content="no-cache" />
	<meta http-equiv="Cache-Directive" content="no-cache" />
	<meta http-equiv="Expires" content="Sat, 14 Dec 2013 00:08:54 GMT" />
	<title>0005355: UnsupportedEncodingException ISO8859_10 when using Estonian lanaguage - Mantis</title>
	<script type="text/JavaScript" src="javascript/common.js"></script>
</head>
<body>
<div class="center"><span class="pagetitle"></span></div>
<div align="left"><a href="http://www.mantisbt.org" title="Mantis Bugtracker"><img border="0" width="238" height="78" alt="Mantis Bugtracker" src="images/mantis_logo.gif" /></a></div><table class="hide"><tr><td class="login-info-left">Anonymous | <a href="login_page.php?return=%2Fview.php%3Fid%3D5355">Login</a> | <a href="signup_page.php">Signup for a new account</a></td><td class="login-info-middle"><span class="italic">12-13-2013 16:08 PST</span></td><td class="login-info-right"><form method="post" name="form_set_project" action="set_project.php">Project: <select name="project_id" class="small" onchange="document.forms.form_set_project.submit();"><option value="0" selected="selected" >All Projects</option>
<option value="5">Baratine</option>
<option value="3">Documentation</option>
<option value="4">Hessian</option>
<option value="2">Quercus</option>
<option value="1">Resin</option>
</select> <input type="submit" class="button-small" value="Switch" /></form></td></tr></table><table class="width100" cellspacing="0"><tr><td class="menu"><a href="main_page.php">Main</a> | <a href="my_view_page.php">My View</a> | <a href="view_all_bug_page.php">View Issues</a> | <a href="changelog_page.php">Change Log</a> | <a href="proj_doc_page.php">Docs</a></td><td class="right" style="white-space: nowrap;"><form method="post" action="jump_to_bug.php"><input type="text" name="bug_id" size="10" class="small" />&nbsp;<input type="submit" class="button-small" value="Jump" />&nbsp;</form></td></tr></table>
<br />
<table class="width100" cellspacing="1">


<tr>

	<!-- Title -->
	<td class="form-title" colspan="4">
		Viewing Issue Simple Details
		<!-- Jump to Bugnotes -->
		<span class="small">[&nbsp;<a href="#bugnotes">Jump to Notes</a>&nbsp;]</span>

		<!-- Send Bug Reminder -->
		</td>

	<!-- prev/next links -->
	
	<!-- Links -->
	<td class="right" colspan="2">

		<!-- Advanced View (if enabled) -->
			<span class="small">[&nbsp;<a href="bug_view_advanced_page.php?bug_id=5355">View Advanced</a>&nbsp;]</span>
	
			<!-- History -->
		<span class="small">[&nbsp;<a href="bug_view_page.php?bug_id=5355&amp;history=1#history">Issue History</a>&nbsp;]</span>
	
		<!-- Print Bug -->
		<span class="small">[&nbsp;<a href="print_bug_page.php?bug_id=5355">Print</a>&nbsp;]</span>

	</td>

</tr>


<!-- Labels -->
<tr class="row-category">
	<td>
		ID	</td>
	<td>
		Category	</td>
	<td>
		Severity	</td>
	<td>
		Reproducibility	</td>
	<td>
		Date Submitted	</td>
	<td>
		Last Update	</td>
</tr>


<tr class="row-1">

	<!-- Bug ID -->
	<td>
		0005355	</td>

	<!-- Category -->
	<td>
		[Resin] 	</td>

	<!-- Severity -->
	<td>
		minor	</td>

	<!-- Reproducibility -->
	<td>
		always	</td>

	<!-- Date Submitted -->
	<td>
		01-31-13 16:06	</td>

	<!-- Date Updated -->
	<td>
		02-01-13 10:44	</td>

</tr>


<!-- spacer -->
<tr height="5" class="spacer">
	<td colspan="6"></td>
</tr>


<tr class="row-2">

	<!-- Reporter -->
	<td class="category">
		Reporter	</td>
	<td>
		rickHigh	</td>

	<!-- View Status -->
	<td class="category">
		View Status	</td>
	<td>
		public	</td>

	<!-- spacer -->
	<td colspan="2">&nbsp;</td>
</tr>


<!-- Handler -->
<tr class="row-1">
	<td class="category">
		Assigned To	</td>
	<td colspan="5">
		ferg	</td>
</tr>


<tr class="row-2">

	<!-- Priority -->
	<td class="category">
		Priority	</td>
	<td>
		normal	</td>

	<!-- Resolution -->
	<td class="category">
		Resolution	</td>
	<td>
		fixed	</td>

	<!-- spacer -->
	<td colspan="2">&nbsp;</td>
</tr>


<tr class="row-1">

	<!-- Status -->
	<td class="category">
		Status	</td>
	<td bgcolor="#e8e8e8">
		closed	</td>

	<td colspan="2">&nbsp;</td>
	<!-- Product Version -->
		<td class="category">
		Product Version	</td>
	<td>
		4.0.32	</td>
	</tr>


<!-- spacer -->
<tr height="5" class="spacer">
	<td colspan="6"></td>
</tr>


<!-- Summary -->
<tr class="row-2">
	<td class="category">
		Summary	</td>
	<td colspan="5">
		0005355: UnsupportedEncodingException ISO8859_10 when using Estonian lanaguage	</td>
</tr>


<!-- Description -->
<tr class="row-1">
	<td class="category">
		Description	</td>
	<td colspan="5">
		$ curl -H &quot;Accept-Language: et&quot; local.test.com/index.html -vvv -o/dev/null<br />
<br />
Server: Resin/4.0.32<br />
&lt; Cache-Control: private<br />
&lt; Cache-Control: private<br />
&lt; Expires: 21600000<br />
&lt; Content-Language: et<br />
&lt; Set-Cookie: requestGuid=2e78816ef7ae570db3c5d5e178588dd4<br />
&lt; Set-Cookie: ariel=cd7096b79f5c93513880f2f95663c722; path=/; expires=Wed, 19-Feb-2081 01:21:06 GMT<br />
&lt; Set-Cookie: aens=enp; path=/<br />
&lt; Set-Cookie: _sv=D; path=/; expires=Wed, 26-Jan-2033 22:06:59 GMT<br />
&lt; Set-Cookie: _idsv=D; path=/; expires=Wed, 26-Jan-2033 22:06:59 GMT<br />
&lt; Set-Cookie: JSESSIONID=aaaVrBlw8WFAI6ETFPsYt; path=/<br />
&lt; Content-Type: text/html; charset=ISO-8859-10<br />
&lt; Transfer-Encoding: chunked<br />
&lt; Date: Thu, 31 Jan 2013 22:06:59 GMT<br />
&lt;<br />
<br />
With that, we see the java.io.UnsupportedEncodingException: ISO8859_10 exception.<br />
<br />
[13-01-31 14:06:59.495] {resin-port-80-38} java.io.UnsupportedEncodingException: ISO8859_10<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at com.caucho.vfs.i18n.JDKWriter$OutputStreamEncodingWriter.&lt;init&gt;(JDKWriter.java:115)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at com.caucho.vfs.i18n.JDKWriter.create(JDKWriter.java:81)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at com.caucho.vfs.i18n.EncodingWriter.create(EncodingWriter.java:81)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at com.caucho.vfs.Encoding.getWriteEncoding(Encoding.java:197)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at com.caucho.server.http.ToByteResponseStream.setEncoding(ToByteResponseStream.java:127)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at com.caucho.server.http.HttpServletResponseImpl.getResponseStream(HttpServletResponseImpl.java:1477)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at com.caucho.server.http.AbstractCauchoResponse.completeCache(AbstractCauchoResponse.java:45)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at com.caucho.server.httpcache.ProxyCacheFilterChain.doFilter(ProxyCacheFilterChain.java:193)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at com.caucho.server.webapp.<br />
<br />
<br />
Note Estonian is not ISO-8859_10, it is ISO-8859_4<br />
<br />
<a href="http://en.wikipedia.org/wiki/ISO/IEC_8859">http://en.wikipedia.org/wiki/ISO/IEC_8859</a> [<a href="http://en.wikipedia.org/wiki/ISO/IEC_8859" target="_blank">^</a>]<br />
<br />
Line 557 of emacs ./modules/kernel/src/com/caucho/vfs/Encoding.java has this: <br />
<br />
&nbsp;_localeName.put(&quot;et&quot;, &quot;ISO-8859-10&quot;);<br />
<br />
This could be changed to <br />
&nbsp;_localeName.put(&quot;et&quot;, &quot;ISO-8859-4&quot;);<br />
<br />
<br />
ISO-8859-10 is a Nordic language not a Finnic.<br />
Also ISO-8859-10 is not supported by Java.<br />
<br />
Estonian is a Finnic language.<br />
Finnic Langauges are covered under ISO-8859-4.<br />
<br />
Also Java does not support ISO-8859-10.<br />
<br />
Estonian, Latvian, Lithuanian, Greenlandic, and Sami -- et, lv, lt -- would all have the same issue.<br />
<br />
<br />
Latin 6 (Noridc) does not seem like it is supported aka ISO-8859-10.<br />
<a href="http://docs.oracle.com/javase/6/docs/technotes/guides/intl/encoding.doc.html">http://docs.oracle.com/javase/6/docs/technotes/guides/intl/encoding.doc.html</a> [<a href="http://docs.oracle.com/javase/6/docs/technotes/guides/intl/encoding.doc.html" target="_blank">^</a>]<br />
<br />
We should probably remove references to ISO-8859_10 and replace with ISO-8859-4.<br />
<br />
./modules/kernel/src/com/caucho/vfs/Encoding.java:    _mimeName.put(&quot;ISO_8859-10:1992&quot;, &quot;ISO-8859-10&quot;);<br />
./modules/kernel/src/com/caucho/vfs/Encoding.java:    _mimeName.put(&quot;iso-ir-157&quot;, &quot;ISO-8859-10&quot;);<br />
./modules/kernel/src/com/caucho/vfs/Encoding.java:    _mimeName.put(&quot;I6&quot;, &quot;ISO-8859-10&quot;);<br />
./modules/kernel/src/com/caucho/vfs/Encoding.java:    _mimeName.put(&quot;cslSOLatin6&quot;, &quot;ISO-8859-10&quot;);<br />
./modules/kernel/src/com/caucho/vfs/Encoding.java:    _mimeName.put(&quot;latin6&quot;, &quot;ISO-8859-10&quot;);<br />
./modules/kernel/src/com/caucho/vfs/Encoding.java:    _javaName.put(&quot;ISO-8859-10&quot;, &quot;ISO8859_10&quot;);<br />
./modules/kernel/src/com/caucho/vfs/Encoding.java:    _localeName.put(&quot;et&quot;, &quot;ISO-8859-10&quot;);<br />
./modules/kernel/src/com/caucho/vfs/Encoding.java:    _localeName.put(&quot;lv&quot;, &quot;ISO-8859-10&quot;);<br />
./modules/kernel/src/com/caucho/vfs/Encoding.java:    _localeName.put(&quot;lt&quot;, &quot;ISO-8859-10&quot;);	</td>
</tr>


<!-- Additional Information -->
<tr class="row-2">
	<td class="category">
		Additional Information	</td>
	<td colspan="5">
			</td>
</tr>


<!-- spacer -->
<tr height="5" class="spacer">
	<td colspan="6"></td>
</tr>


<!-- Custom Fields -->




<!-- Attachments -->
<tr class="row-1">
	<td class="category">
		<a name="attachments" id="attachments" />
		Attached Files	</td>
	<td colspan="5">
			</td>
</tr>

<!-- Buttons -->
<tr align="center">
	<td align="center" colspan="6">
<table><tr class="vcenter"><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td></tr></table>	</td>
</tr>


</table>

<br/>

<div id="relationships_open"><table class="width100" cellspacing="1">
<tr class="row-2" valign="top">
	<td width="15%" class="form-title" colspan="2">
		<a href="" onclick="ToggleDiv( 'relationships', g_div_relationships ); return false;"
			><img border="0" src="images/minus.png" alt="-" /></a>&nbsp;Relationships	</td>
</tr>
<tr>
	<td colspan="2"></td>
</tr>
</table>

</div><div id="relationships_closed" style="display: none;"><table class="width100" cellspacing="1">
<tr>
	<td class="form-title">
		<a href="" onclick="ToggleDiv( 'relationships', g_div_relationships ); return false;"
			><img border="0" src="images/plus.png" alt="+" /></a>&nbsp;Relationships	</td>
</tr>
</table>

</div><script type="text/JavaScript"><!--
	SetDiv( "relationships", g_div_relationships );
--></script>
<a name="bugnotes" id="bugnotes" /><br />

<div id="bugnotes_closed" style="display: none;">
<table class="width100" cellspacing="1">
<tr>
	<td class="form-title" colspan="2">
		<a href="" onclick="ToggleDiv( 'bugnotes', g_div_bugnotes ); return false;"
		><img border="0" src="images/plus.png" alt="+" /></a>
		Notes	</td>
</tr>
</table>
</div>

<div id="bugnotes_open">
<table class="width100" cellspacing="1">
<tr>
	<td class="center" colspan="2">
		There are no notes attached to this issue.	</td>
</tr>
</table>
</div>

<script type="text/JavaScript">
<!--
	SetDiv( "bugnotes", g_div_bugnotes );
// -->
</script>

	<!-- Jump to Bugnote add form -->


<a name="history" id="history" /><br />

<div id="history_closed" style="display: none;">
<table class="width100" cellspacing="0">
<tr>
	<td class="form-title" colspan="4">
		<a href="" onclick="ToggleDiv( 'history', g_div_history ); return false;"
		><img border="0" src="images/plus.png" alt="+" /></a>
		Issue History	</td>
</tr>
</table>
</div>

<div id="history_open">
<table class="width100" cellspacing="0">
<tr>
	<td class="form-title" colspan="4">
		<a href="" onclick="ToggleDiv( 'history', g_div_history ); return false;"
		><img border="0" src="images/minus.png" alt="-" /></a>
		Issue History	</td>
</tr>
<tr class="row-category-history">
	<td class="small-caption">
		Date Modified	</td>
	<td class="small-caption">
		Username	</td>
	<td class="small-caption">
		Field	</td>
	<td class="small-caption">
		Change	</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		01-31-13 16:06	</td>
	<td class="small-caption">
		rickHigh	</td>
	<td class="small-caption">
		New Issue	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		01-31-13 16:19	</td>
	<td class="small-caption">
		rickHigh	</td>
	<td class="small-caption">
		Description Updated	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		01-31-13 16:23	</td>
	<td class="small-caption">
		afoong	</td>
	<td class="small-caption">
		Issue Monitored: afoong	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		02-01-13 10:44	</td>
	<td class="small-caption">
		ferg	</td>
	<td class="small-caption">
		Assigned To	</td>
	<td class="small-caption">
		&nbsp;=&gt; ferg	</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		02-01-13 10:44	</td>
	<td class="small-caption">
		ferg	</td>
	<td class="small-caption">
		Status	</td>
	<td class="small-caption">
		new =&gt; closed	</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		02-01-13 10:44	</td>
	<td class="small-caption">
		ferg	</td>
	<td class="small-caption">
		Resolution	</td>
	<td class="small-caption">
		open =&gt; fixed	</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		02-01-13 10:44	</td>
	<td class="small-caption">
		ferg	</td>
	<td class="small-caption">
		Fixed in Version	</td>
	<td class="small-caption">
		&nbsp;=&gt; 4.0.35	</td>
</tr>
</table>
</div>

<script type="text/JavaScript">
<!--
	SetDiv( "history", g_div_history );
// -->
</script>
	<br />
	<hr size="1" />
<table border="0" width="100%" cellspacing="0" cellpadding="0"><tr valign="top"><td>	<span class="timer"><a href="http://www.mantisbt.org/">Mantis 1.0.0rc3</a>[<a href="http://www.mantisbt.org/" target="_blank">^</a>]</span>
	<address>Copyright &copy; 2000 - 2005 Mantis Group</address>
	30 total queries executed.<br />
	26 unique queries executed.<br />
</td><td><div align="right"><a href="http://www.mantisbt.org" title="Powered by Mantis Bugtracker"><img src="images/mantis_logo_button.gif" width="88" height="35" alt="Powered by Mantis Bugtracker" border="0" /></a></div></td></tr></table></body>
</html>
