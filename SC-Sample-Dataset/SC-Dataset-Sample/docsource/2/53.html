<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN"
  "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" version="XHTML+RDFa 1.0" dir="ltr">
<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="http://dev.datasift.com/sites/default/files/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="shortlink" href="/node/4207" />
<link rel="canonical" href="/discussions/java-multistreamws-example-gets-exception" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
  <meta name="description" content="DataSift helps you filter specific real-time content out of the noise of social media, and find the information that is valuable to you and your customers" />
  <meta name="keywords" content="DataSift, Twitter, MySpace, Digg, Filter, Social Media, Tune, Channels, Curate, Insight, Big Social Data,firehose,100%,social data,social insights,csdl,augmentations" />
  <meta name="google-site-verification" content="Lq278WL6zOP1zpmT3Ed42T14x4rqKwg_bLIyqPyCDpE" />
  <title>Java MultiStreamWS example gets exception | DataSift Developers</title>
  <link type="text/css" rel="stylesheet" href="http://dev.datasift.com/sites/default/files/css/css__9zsakYbWSOTLroLLtWO9P7zLJXhXtSJo2OgXN4wIrU.css" media="all" />
<link type="text/css" rel="stylesheet" href="http://dev.datasift.com/sites/default/files/css/css_27mVbIv4qh9zNw5NeDZNuqO2BLFPCmhnXbqggHX0r3I.css" media="all" />
<link type="text/css" rel="stylesheet" href="http://dev.datasift.com/sites/default/files/css/css_lGfp_hX4wfLQ-Wp9tEAbOt_3HD7obwhOZu5vb6JVz6A.css" media="all" />
<link type="text/css" rel="stylesheet" href="http://dev.datasift.com/sites/default/files/css/css_aRhc2DHKeK40bV4jxd-HsO02q6h_cezXHj5pRXiTOUc.css" media="all" />
<link type="text/css" rel="stylesheet" href="http://dev.datasift.com/sites/default/files/css/css_fFGvJV0qWI6ArBLmsg7c6f7lqRiR5OL9ka8RN90I8tQ.css" media="all" />
  <script type="text/javascript" src="http://dev.datasift.com/sites/default/files/js/js_3jHghlMLrjr9xXAC0JufqSSch3oAbkZstSqYdc4uuck.js"></script>
<script type="text/javascript" src="http://dev.datasift.com/sites/default/files/js/js_WhrE5r2gqPvR6gHOWardLSdMRIXOhrkUrcQ1OIX7nRQ.js"></script>
<script type="text/javascript" src="http://dev.datasift.com/sites/default/files/js/js_GKx48AzWIrBNQC95QUtvtqz6jKknLGRs-uubV0v8Ark.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-394484-13"]);_gaq.push(["_setDomainName", ".datasift.com"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})();
//--><!]]>
</script>
<script type="text/javascript" src="http://dev.datasift.com/sites/default/files/js/js_tFLE_ckmhVmFFQGRU2nJZ3w2ktfughIeSIBxdOx2vzo.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery(function(){
jQuery('#superfish-1').supersubs({minWidth: 12, maxWidth: 27, extraWidth: 1}).superfish({
delay: 50,
animation: {opacity:'show',height:'show'},
speed: 'fast',
autoArrows: false,
dropShadows: false});
});
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery(function(){
jQuery('#superfish-2').supersubs({minWidth: 12, maxWidth: 27, extraWidth: 1}).superfish({
delay: 50,
animation: {opacity:'show'},
speed: 'fast',
autoArrows: false,
dropShadows: false});
});
//--><!]]>
</script>
<script type="text/javascript" src="http://dev.datasift.com/sites/default/files/js/js_vnNoQdpoHVo_FpoZuqjHvmy64sf6h8V_8PD_goUafKU.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"datasift_support","theme_token":"V-5IePhTxIt8SKopxAUPihJJXbqOur5Z1BHR_TXl5MQ","js":{"http:\/\/platform.twitter.com\/widgets.js":1,"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"misc\/ui\/jquery.ui.position.min.js":1,"sites\/all\/libraries\/superfish\/jquery.hoverIntent.minified.js":1,"sites\/all\/libraries\/superfish\/jquery.bgiframe.min.js":1,"sites\/all\/libraries\/superfish\/superfish.js":1,"sites\/all\/libraries\/superfish\/supersubs.js":1,"sites\/all\/libraries\/superfish\/supposition.js":1,"sites\/all\/libraries\/superfish\/sftouchscreen.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/form.js":1,"misc\/collapse.js":1,"sites\/all\/modules\/field_group\/field_group.js":1,"1":1,"2":1,"sites\/all\/themes\/omega\/omega\/js\/jquery.formalize.js":1,"sites\/all\/themes\/omega\/omega\/js\/omega-mediaqueries.js":1,"sites\/all\/themes\/datasift_support\/js\/datasift_support.menufix.js":1,"sites\/all\/themes\/datasift_support\/js\/datasift_support.tweet.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/date\/date_api\/date.css":1,"sites\/all\/modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/mollom\/mollom.css":1,"modules\/node\/node.css":1,"sites\/all\/modules\/rpx\/rpx_widgets.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/ckeditor\/ckeditor.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"sites\/all\/libraries\/superfish\/css\/superfish.css":1,"sites\/all\/libraries\/superfish\/css\/superfish-vertical.css":1,"sites\/all\/libraries\/superfish\/css\/superfish-navbar.css":1,"sites\/all\/themes\/datasift_support\/css\/menus.css":1,"sites\/all\/themes\/datasift_support\/ds_layouts\/datasift_support_ds\/datasift_support_ds.css":1,"sites\/all\/modules\/field_group\/field_group.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-reset.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-mobile.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-alpha.css":1,"sites\/all\/themes\/omega\/omega\/css\/formalize.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-branding.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-menu.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-forms.css":1,"sites\/all\/themes\/datasift_support\/css\/global.css":1,"sites\/all\/themes\/datasift_support\/css\/ds_styles.css":1,"sites\/all\/themes\/datasift_support\/css\/datasift-support-text.css":1,"normal::sites\/all\/themes\/datasift_support\/css\/datasift-support-alpha-default.css":1,"normal::sites\/all\/themes\/datasift_support\/css\/datasift-support-alpha-default-normal.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/normal\/alpha-default-normal-16.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/normal\/alpha-default-normal-12.css":1}},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip","trackDomainMode":"1","trackCrossDomains":".datasift.com"},"field_group":{"div":"full"},"omega":{"layouts":{"primary":"normal","order":["narrow","normal","wide"],"queries":{"narrow":"all and (min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)","normal":"all and (min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)","wide":"all and (min-width: 1220px)"}}}});
//--><!]]>
</script>
</head>
<body class="html not-front not-logged-in page-node page-node- page-node-4207 node-type-discussion-topic context-discussions">
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <div id="section-header" class="section section-header">
  <div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-16">
    <div class="grid-16 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-delta-blocks block-branding block-delta-blocks-branding odd block-without-title" id="block-delta-blocks-branding">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <div class="logo-img"><a href="/" id="logo" title="Return to the DataSift Developers home page"><img src="http://dev.datasift.com/sites/all/themes/datasift_support/logo.png" alt="DataSift Developers" /></a></div><hgroup class="site-name-slogan"><h2 class="site-name"><a href="/" title="Return to the developers home page"><span>developers</span></a></h2></hgroup>    </div>
  </div>
</div>
<div class="block block-search block-form block-search-form even block-without-title" id="block-search-form">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <form action="/discussions/java-multistreamws-example-gets-exception" method="post" id="search-block-form" accept-charset="UTF-8"><div><input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" /><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /><input type="hidden" name="form_build_id" value="form--APbWW56A6pUH3Nr_kf4aP5wxjP2uzISg-vUFq02Ut4" />
<input type="hidden" name="form_id" value="search_block_form" />
</div></form>    </div>
  </div>
</div>
<div class="block block-superfish block-1 block-superfish-1 odd block-without-title" id="block-superfish-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul id="superfish-1" class="sf-menu main-menu sf-horizontal sf-style-none sf-total-items-4 sf-parent-items-2 sf-single-items-2"><li id="menu-4609-1" class="first odd sf-item-1 sf-depth-1 sf-total-children-6 sf-parent-children-0 sf-single-children-6 menuparent"><a href="/docs" class="sf-depth-1  menuparent">Documentation</a><ul><li id="menu-4113-1" class="first odd sf-item-1 sf-depth-2 sf-no-children"><a href="/docs/getting-started" class="sf-depth-2 ">Getting Started</a></li><li id="menu-4610-1" class="middle even sf-item-2 sf-depth-2 sf-no-children"><a href="/docs/rest-api" class="sf-depth-2 ">REST API</a></li><li id="menu-4427-1" class="middle odd sf-item-3 sf-depth-2 sf-no-children"><a href="/docs/streaming-api" class="sf-depth-2 ">Streaming API</a></li><li id="menu-4120-1" class="middle even sf-item-4 sf-depth-2 sf-no-children"><a href="/csdl" class="sf-depth-2 ">Programming</a></li><li id="menu-4611-1" class="middle odd sf-item-5 sf-depth-2 sf-no-children"><a href="/docs/targets" class="sf-depth-2 ">Targets</a></li><li id="menu-4612-1" class="last even sf-item-6 sf-depth-2 sf-no-children"><a href="/docs/resources" class="sf-depth-2 ">Other Resources</a></li></ul></li><li id="menu-1512-1" class="middle even sf-item-2 sf-depth-1 sf-no-children"><a href="/discussions" class="sf-depth-1 ">Discussions</a></li><li id="menu-4099-1" class="middle odd sf-item-3 sf-depth-1 sf-no-children"><a href="/blog" class="sf-depth-1 ">Blog</a></li><li id="menu-4240-1" class="last even sf-item-4 sf-depth-1 sf-total-children-2 sf-parent-children-0 sf-single-children-2 menuparent"><a href="http://status.datasift.com/" title="" class="sf-depth-1  menuparent">API Health</a><ul><li id="menu-1052-1" class="first odd sf-item-1 sf-depth-2 sf-no-children"><a href="http://status.datasift.com/" title="" class="sf-depth-2 ">API Status</a></li><li id="menu-4239-1" class="last even sf-item-2 sf-depth-2 sf-no-children"><a href="/issues" class="sf-depth-2 ">API Issues</a></li></ul></li></ul>    </div>
  </div>
</div>
<div class="block block-superfish block-2 block-superfish-2 even block-without-title" id="block-superfish-2">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul id="superfish-2" class="sf-menu user-menu sf-horizontal sf-style-none sf-total-items-1 sf-parent-items-0 sf-single-items-1"><li id="menu-1513-2" class="first odd sf-item-1 sf-depth-1 sf-no-children"><a href="/user/login" title="" class="sf-depth-1 ">Sign in</a></li></ul>    </div>
  </div>
</div>
  </div>
</div>
  </div>
</div></div>    
      <div id="section-content" class="section section-content">
  <div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix">  
  <div id="zone-content" class="zone zone-content clearfix container-12">    
          <div id="breadcrumb" class="grid-12"><h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a> » <a href="/discussions">Discussions</a> » <a href="/discussions/category/client-libraries">Client Libraries</a></div></div>
        
        <div class="grid-12 region region-content" id="region-content">
  <div class="region-inner region-content-inner">
    <a id="main-content"></a>
                <h1 class="title" id="page-title">Java MultiStreamWS example gets exception</h1>
                        <div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <div class="node node-discussion-topic view-mode-full clearfix">

  
  
      <div class="group-content">
      <div class="field-group-format group_avatar field-group-div group-avatar avatar speed-fast effect-none"><div class="field field-name-ds-user-picture field-type-ds field-label-hidden"><div class="field-items"><div class="field-item even"><img src="http://dev.datasift.com/sites/default/files/pictures/user-default.png" alt="neilberkman&#039;s picture" title="neilberkman&#039;s picture" /></div></div></div></div><div class="tweetbutton-tweet tweetbutton"><a href="http://twitter.com/share" data-size="medium" data-count="horizontal" data-via="" data-related="datasift:" data-text="Java MultiStreamWS example gets exception" data-counturl="http://dev.datasift.com/discussions/java-multistreamws-example-gets-exception" data-url="http://dev.datasift.com/discussions/java-multistreamws-example-gets-exception" data-lang="en" class="twitter-share-button">Tweet</a></div><div class="field-group-format group_inner field-group-div group-inner content-inner speed-fast effect-none"><div class="author"> Posted by neilberkman </div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even"><p>When I run the MultiStreamWS example from datasift-java I get a ConcurrentModificationException.  This happens with the downloaded 2.2.0 version and 2.2.1 built from source.  The MultiStream example does work.</p>
<p>Output:</p>
<p><code><br />
Creating user...<br />
Building hash list...<br />
Getting the consumer...<br />
Consuming...<br />
--<br />
Subscribing to "Python", 89251290332bb42c0e6a647f8c3f6cb6...<br />
Connected<br />
--<br />
Subscribing to "PHP", b95a09322b49f59881565bd46487dd81...<br />
Disconnected<br />
--<br />
Exception in thread "Thread-1" java.util.ConcurrentModificationException<br />
	at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:819)<br />
	at java.util.ArrayList$Itr.next(ArrayList.java:791)<br />
	at org.datasift.streamconsumer.WSThread$1.onOpen(Unknown Source)<br />
	at org.datasift.dep.ws.WebSocketConnection.connect(Unknown Source)<br />
	at org.datasift.streamconsumer.WSThread.run(Unknown Source)<br />
</code></p></div></div></div><div class="field-group-format group_meta field-group-div group-meta meta clearfix speed-fast effect-none"><span class="time"><p>4 months 6 days ago</p></span><div class="field-group-format group_links field-group-div group-links links speed-fast effect-none"><ul class="links inline"><li class="comment_forbidden first last"><span><a href="/user/login?destination=node/4207%23comment-form">Log in</a> or <a href="/user/register?destination=node/4207%23comment-form">register</a> to post comments</span></li></ul></div></div></div>    </div>
  
      <div class="group-footer">
      <div id="comments" class="comment-wrapper" class="comment-wrapper">
          <h2 class="title">Replies</h2>
      
  <a id="comment-1624"></a>
<div class="comment clearfix">

  

    <div class="avatar">
      <div class="user-picture">
    <img src="http://dev.datasift.com/sites/default/files/styles/avatar/public/pictures/picture-105-1321889327.jpg" alt="Jason&#039;s picture" title="Jason&#039;s picture" />  </div>
  </div>
  
  <div class="content-wrapper">
    <div class="author">
      Posted by <span class="username">Jason</span>    </div>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"> <p>This has now been resolved. Please see <a href="https://github.com/datasift/datasift-java/issues/45">Github Issue #45</a> for more details. You should now be able to checkout the latest version (v.2.2.2)</p>
 </div></div></div>    </div>

    <div class="meta">
      <span class="time">3 months 3 weeks ago</span>
            <span class="links comment-links clearfix"><ul class="links inline"><li class="comment_forbidden first last"><span><a href="/user/login?destination=node/4207%23comment-form">Log in</a> or <a href="/user/register?destination=node/4207%23comment-form">register</a> to post comments</span></li></ul></span>
          </div>
  </div>

</div>

  </div>
    </div>
  </div>
    </div>
  </div>
</div>
      </div>
</div>  </div>
</div></div>    
  
      <div id="section-footer" class="section section-footer">
  <div id="zone-footer-wrapper" class="zone-wrapper zone-footer-wrapper clearfix">  
  <div id="zone-footer" class="zone zone-footer clearfix container-12">
    <div class="grid-12 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-menu block-menu-footer-menu block-menu-menu-footer-menu odd block-without-title" id="block-menu-menu-footer-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu"><li class="first leaf"><a href="http://datasift.com/terms" title="">Terms</a></li>
<li class="leaf"><a href="/glossary" title="">Glossary</a></li>
<li class="leaf"><a href="/discussions" title="">Discussions</a></li>
<li class="last leaf"><a href="http://www.datasift.com" title="">DataSift Home</a></li>
</ul>    </div>
  </div>
</div>
<div class="block block-followbutton block-followbutton block-followbutton-followbutton even block-without-title" id="block-followbutton-followbutton">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <a href="http://twitter.com/datasiftdev" class="twitter-follow-button" data-show-count="false" data-button="blue" data-lang="en" data-text-color="800080" data-link-color="e8650e">Follow @datasiftdev</a><script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>    </div>
  </div>
</div>
<div class="block block-block block-9 block-block-9 odd block-without-title" id="block-block-9">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <!-- Start of HubSpot Logging Code  -->
<script type="text/javascript" language="javascript">
var hs_portalid=125742; 
var hs_salog_version = "2.00";
var hs_ppa = "datasift1.app11.hubspot.com";
document.write(unescape("%3Cscript src='" + document.location.protocol + "//" + hs_ppa + "/salog.js.aspx' type='text/javascript'%3E%3C/script%3E"));
</script>
<!-- End of HubSpot Logging Code -->

<script type="text/javascript">
(function() {
 var p = document.createElement('script');
 p.type = 'text/javascript'; p.async = true;
 p.src = '//d2f7h8c8hc0u7y.cloudfront.net/performable/pax/9fVwSy.js';
 var s = document.getElementsByTagName('script')[0];
 s.parentNode.insertBefore(p, s);
})();
</script>    </div>
  </div>
</div>
  </div>
</div>  </div>
</div></div>  </div>  <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</body>
</html>
