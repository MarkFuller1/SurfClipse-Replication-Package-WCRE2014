<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head> 
<link href="/css/tigon.css" type="text/css" rel="stylesheet">
<title>How to avoid an java.util.ConcurrentModificationException with ArrayList?</title>
</head>
<body>

<div class="headerwide">
<table border="0" cellpadding="0" cellspacing="0" width="1000" align="center">
  <tr class="banner">
    <td valign="top" align="center">
		<IMG src="/images/logo.gif" border="0" alt="XYZWS SCDJWS SCJP"/>
    </td> 
	<td valign="bottom" align="right">
	<font size="-2">Member Center:&nbsp;<a href="/registration">Register</a>&nbsp;|&nbsp;<a href="/login">Sign In</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>
	
	<br><br>
	
	<form method="get" action="http://www.google.com/custom" target="_top">
<table border="0">
<tr>

<td><input type="radio" name="sitesearch" value="" checked="checked"/><font size="-2" color="#000000">The Web</font></td>
<td><input type="radio" name="sitesearch" value="www.xyzws.com"/><font size="-2" color="#000000">xyzws.com</font></td>

<td nowrap="nowrap">
	
	<input type="text" name="q" size="50" maxlength="255" value=""/></td>

	<td><input type="submit" name="sa" value="Search"/>
	<input type="hidden" name="domains" value="www.xyzws.com"/>
	<input type="hidden" name="client" value="pub-5605518375162908"/>
	<input type="hidden" name="forid" value="1"/>
	<input type="hidden" name="ie" value="ISO-8859-1"/>
	<input type="hidden" name="oe" value="ISO-8859-1"/>
	<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1;"/>
	<input type="hidden" name="hl" value="en"/>
</td>
<td nowrap="nowrap"><span id="smalltext">powered by</span></td>
<td colspan=2 nowrap valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="http://www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></a>
</td>
</tr>
</table>
</form>
</td>
  </tr>
</table>
</div>

<div id="topmenu">
<ul>
    <li><a href="/">Home</a></li> 
    <li><a href="/stius/view/all/page1/month/latest">STIU</a></li>
    <li><a href="/scjp/">SCJP</a></li>
    <li><a href="/scdjws/">SCDJWS</a></li>
    <li><a href="/javafaq/page/1">JEE FAQ</a></li>
    <li><a href="/wow/all/latest/1">WOW</a></li>
    <li><a href="/aboutus">About US</a></li>
</ul>
</div>

<table border="0" cellpadding="0" cellspacing="0" width="1000" align="center">
<tr><td><div class="nav">You are here: <a href="http://www.xyzws.com/javafaq/page/1"><font color="#00ccff">JEE FAQ</font></a> &#187; Java FAQ</div></td></tr></table>
<!-- main content -->
<div class="main">
    
<!-- main left-->
<div class="main_left">

<div class="module">
    <div class="content">
        <div class="module">
<div class="header">
<h3>FAQ</h3>
</div>
<div class="content">

  
<p>Java</p>
<p><a href="/jspfaq/page/1">JSP</a></p>
<p><a href="/servletfaq/page/1">Servlet</a></p>
<p></p>
    </div>
</div>

</div>
</div>
<br/>   

<div class="left_menu_ad">
<script type="text/javascript"><!--
google_ad_client = "pub-5605518375162908";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "6699ff";
google_color_link = "0000FF";
google_color_bg = "FFFFFF";
google_color_text = "000000";
google_color_url = "008000";
google_color_bg = "f0f8ff";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><font size=-2 color="#ffffff">Advertisement</font>
</div>

</div> <!-- end of main left-->

<!-- main right -->
<div class="main_right">
    
<!--top ads -->
<script type="text/javascript"><!--
google_ad_client = "pub-5605518375162908";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "6699ff";
google_color_bg = "f0f8ff";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><!-- end of top ads -->

<br>
<br>
    
<div class="main_right_l">

<div class="module">
<div id="faq_body">
<br>
<h1>How to avoid an java.util.ConcurrentModificationException with ArrayList?</h1>

<p>You need to add/delete an item in an ArrayList when you are iterating the list. You will receive the java.util.ConcurrentModificationException exception. For example, the following code will throw an exception after adding an item into list:</p>
<p>public class Sample {</p>
<p>&nbsp; public static void main(String[] args) {</p>
<p>&nbsp;&nbsp;&nbsp; List&lt;Integer&gt;&nbsp; iList = new ArrayList&lt;Integer&gt;();<br />&nbsp;&nbsp;&nbsp; for (int i = 0; i != 100; i++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iList.add(i);</p>
<p>&nbsp;&nbsp;&nbsp; int addValue = 1000;<br />&nbsp;&nbsp;&nbsp; for (Integer i: iList) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (i%10 == 0) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iList.add(addValue++);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;<br />}</p>
<p>To avoid java.util.ConcurrentModificationException exception, we can add an item through the iterator of list. If we do the same as the above code, the next access item in list via the iterator will generate the same exception.</p>
<p>public class Sample {</p>
<p>&nbsp; public static void main(String[] args) {</p>
<p>&nbsp;&nbsp;&nbsp; List&lt;Integer&gt;&nbsp; iList = new ArrayList&lt;Integer&gt;();<br />&nbsp;&nbsp;&nbsp; for (int i = 0; i != 100; i++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iList.add(i);</p>
<p>&nbsp;&nbsp;&nbsp; int addValue = 1000;</p>
<p>&nbsp;&nbsp;&nbsp; for (ListIterator&lt;Integer&gt; itr = iList.listIterator(); itr.hasNext();) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Integer i = itr.next();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (i%10 == 0) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; itr.add(addValue++);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; }</p>
<p>}</p><p>
<!--start google ad -->
<script type="text/javascript"><!--
google_ad_client = "pub-5605518375162908";
google_alternate_color = "FFFFFF";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<!--end google ad -->
</P>
</div>
<hr width="100%" size="1">

<div style="float:left;">
<p>
<img src="/images/printIcon.gif" width="16" height="15" 
border="0" alt="Printer-friendly version" vspace="4" align="absmiddle" />
   <a href="javascript:toPrint('203', 'java')" >Printer-friendly version</a> | 
<img src="/images/emailIcon.gif" width="20" height="15" border="0" alt="Send this 
article to a friend"> <a href="/faqMail/java/how-to-avoid-an-javautilconcurrentmodificationexception-with-arraylist/203">Mail this to a friend</a>
</p>
</div> 

<!-- Doc Nav -->
<div style="float:right;">
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td><a href="/javafaq/how-to-convert-a-given-array-to-a-list-in-java/202"><img src="/images/doc_nav_prev.gif" border="0" width="36" height="44" alt="Previous" title="Previous" /></td>

<td><a href="/javafaq/how-to-loop-through-a-map/204"><img src="/images/doc_nav_next.gif" width="44" height="44" alt="Next" title="Next" border="0" /></a></td>

<td><img src="/images/doc_nav_dots.gif" width="5" height="44" border="0" alt="vertical dots separating previous/next from contents/index/pdf" /></td>

<td><a href="/javafaq/page/11"><img src="/images/doc_nav_contents.gif" width="52" height="44" alt="Contents" title="Contents" border="0"/></td>
</tr>
</table>
</div>
<!--End of Doc Nav -->
<div style="clear:both;"></div>

</div>
</div>

<div class="main_right_r">

<div class="module">
<div class="header">
<h3>Most Recent java Faqs</h3>
</div>
<div class="content"> 
    <UL class="home">
<LI><a href="/Javafaq/how-to-uncompress-a-file-in-the-gzip-format/216">How to uncompress a file in the gzip format?</a></LI>
    <LI><a href="/Javafaq/how-to-make-a-gzip-file-in-java/215">How to make a gzip file in Java?</a></LI>
    <LI><a href="/Javafaq/how-to-use-java-stringsplit-method-to-split-a-string-by-dot/214">How to use Java String.split method to split a string by dot?</a></LI>
    <LI><a href="/Javafaq/how-to-validate-url-in-java/213">How to validate URL in Java?</a></LI>
    <LI><a href="/Javafaq/how-to-schedule-a-job-in-java/212">How to schedule a job in Java?</a></LI>
    <LI><a href="/Javafaq/how-to-return-the-content-in-the-correct-encoding-from-a-servlet/211">How to return the content in the correct encoding from a servlet?</a></LI>
    <LI><a href="/Javafaq/what-is-the-difference-between-jdk-and-jre/210">What is the difference between JDK and JRE?</a></LI>
    </UL></div>

</div>

<br>

<div class="module">
<div class="header">
<h3>Most Viewed java Faqs</h3>
</div>
<div class="content"> 
    <UL class="home">
<LI><a href="/Javafaq/how-to-read-input-from-console-keyboard-in-java/195">How to read input from console (keyboard) in Java?</a></LI>
    <LI><a href="/Javafaq/what-are-class-variables-in-java/197">What are class variables in Java?</a></LI>
    <LI><a href="/Javafaq/how-to-retrieve-multiple-result-sets-from-a-stored-procedure-in-jdbc/172">How to Retrieve Multiple Result Sets from a Stored Procedure in JDBC?</a></LI>
    <LI><a href="/Javafaq/how-to-use-updatable-resultset-in-jdbc/179">How to Use Updatable ResultSet in JDBC?</a></LI>
    <LI><a href="/Javafaq/what-are-local-variables-in-java/200">What are local variables in Java?</a></LI>
    <LI><a href="/Javafaq/how-to-use-jdbc-java-to-create-table/170">How to Use JDBC Java to Create Table?</a></LI>
    <LI><a href="/Javafaq/why-final-variable-in-enhanced-for-loop-does-not-act-final/160">Why final variable in Enhanced for Loop does not act final?</a></LI>
    </UL></div>

</div>
   

</div>
</div> <!-- end of main right-->

</div> <!-- end of main-->

<br>

<div class="clearfloat">
<div class="help">
    <script language="Javascript" type="text/javascript">
    <!-- //
    var user = "webmaster"; 
    var domain = "xyzws.com"; 

    document.write('<a href=\"mailto:' + user + '@' + domain + '\">'); 
    document.write('Support</a>');
      // -->
   </script>
   &nbsp;&nbsp;|
    <script language="Javascript" type="text/javascript">
    <!-- //
    document.write('<a href=\"mailto:' + user + '@' + domain + '\">'); 
    document.write('Feedback</a>');
      // -->
   </script>
   &nbsp;&nbsp;|
       <script language="Javascript" type="text/javascript">
    <!-- //
    document.write('<a href=\"mailto:' + user + '@' + domain + '\">'); 
    document.write('Help</a>');
      // -->
   </script>
   &nbsp;&nbsp;
</div>


</div>
<hr class="layout">

<div style="clear:both;"></div>

<div class="footer">
&copy Copyright 2005-2013 www.xyzws.com All rights reserved.
</div>
		

</body>
</html>



