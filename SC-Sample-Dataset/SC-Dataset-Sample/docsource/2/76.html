<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr" id="html-main">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title> java.util.ConcurrentModificationException | TechDive</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link rel="stylesheet" type="text/css" href="http://s7.addthis.com/static/r07/widget02.css" />
<link rel="shortcut icon" href="/sites/default/files/analytic_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="/sites/default/files/css/css_767dfcc01e239ee2973108dc9ca6aa7d.css" />
  <script type="text/javascript" src="/sites/default/files/js/js_2a507e1eb447cb64733bef20eba1c9f1.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "fivestar": { "titleUser": "Your rating: ", "titleAverage": "Average: ", "feedbackSavingVote": "Saving your vote...", "feedbackVoteSaved": "Your vote has been saved.", "feedbackDeletingVote": "Deleting your vote...", "feedbackVoteDeleted": "Your vote has been deleted." } });
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
var text_resize_scope = "content-inner";
    var text_resize_minimum = "12";
    var text_resize_maximum = "25";
    var text_resize_line_height_allow = 1;
    var text_resize_line_height_min = "16";
    var text_resize_line_height_max = "36";
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--

	    addthis_pub = 'techdive';
	    addthis_logo = 'http://www.addthis.com/images/yourlogo.png';
	    addthis_logo_background = 'EFEFFF';
	    addthis_logo_color = '666699';
	    addthis_brand = 'TechDive';
	    addthis_options = 'favorites, email, digg, delicious, myspace, facebook, google, live, more';
	    addthis_disable_flash = 'false';
	
//--><!]]>
</script>
  <script type="text/javascript"> </script>
</head>

    <body class="body-main arial">	
	
<!-- / make-it-center --><div class="make-it-center">

<div class="top-menu clear-block">
    
  
  <!-- >>>>>>>> REMOVE THIS IF YOU WANT TO GET RID OF TOP LINKS (RSS, LOGIN, REGISTER | PROFILE) start-->  
  
  <!-- <<<<<<<< REMOVE THIS IF YOU WANT TO GET RID OF TOP LINKS (RSS, LOGIN, REGISTER) end -->

</div>

<!-- logo-container -->
<div id="logo-container">
  <div id="money-bg" class="clear-block">
  <div id="logo">
  
			 
            <div id="logo-picture">
            <a href="/" title="Home"><img src="/themes/analytic/logo.png" alt="Home" /></a>
            </div>
              </div>
  
   <!-- Vignesh Code starts here -->
    <div id="google_ads1" class="google_ads">
	  <div class="block block-block" id="block-block-40">
       <div class="content"><script type="text/javascript"><!--
google_ad_client = "ca-pub-9377132558366282";
/* TechDive Banner 728x90 */
google_ad_slot = "0078360570";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
 </div>
  </div>
  
  </div>

</div>
<!-- /logo-container -->


<!-- primary menu -->
<div class="rws-primary-menu clear-block">
    
  
  
        <ul class="links primary-links"><li class="menu-114 first"><a href="/" title="">Home</a></li>
<li class="menu-2091"><a href="/java" title="">Java</a></li>
<li class="menu-305"><a href="/solutions" title="">Solutions</a></li>
<li class="menu-2140"><a href="/page/interview-questions" title="">Interview Questions</a></li>
<li class="menu-301"><a href="/search" title="">Search</a></li>
<li class="menu-138 last"><a href="/contact" title="">Contact Us</a></li>
</ul>     
  
  <!-- admin edit   -->
    <!-- admin edit   -->
  
  
  
    <!-- admin panel   -->
     <!-- / admin panel -->


</div>
<!--  /primary menu -->


<!-- column-1 -->
<div class="column-1">  <div class="block block-vocabindex" id="block-vocabindex-1">
   <h2 class="title">Technology</h2>    <div class="content"><div class="item-list"><ul class="vocabindex flat"><li class="even parent first"><a href="/taxonomy/term/1" title="">Java</a></li>
<li class="odd"><a href="/technology/spring" title="">Spring</a></li>
<li class="even"><a href="/technology/snmp" title="">Snmp</a></li>
<li class="odd"><a href="/technology/oracle" title="">Oracle</a></li>
<li class="even"><a href="/technology/scripting" title="">Scripting</a></li>
<li class="odd"><a href="/technology/testing" title="">Testing</a></li>
<li class="even"><a href="/technology/telecom" title="">Telecom</a></li>
<li class="odd"><a href="/technology/project-management" title="">Project Management</a></li>
<li class="even"><a href="/technology/web-service" title="">Web Service</a></li>
<li class="odd"><a href="/technology/ant" title="">ANT</a></li>
<li class="even"><a href="/technology/c" title="">C</a></li>
<li class="odd last"><a href="/technology/html5" title="">HTML5</a></li>
</ul></div></div>
 </div>
  <div class="block block-block" id="block-block-39">
       <div class="content"><script type="text/javascript"><!--
google_ad_client = "ca-pub-9377132558366282";
/* Analytic_Google_160_90_Text */
google_ad_slot = "2456693332";
google_ad_width = 160;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
 </div>
  <div class="block block-block" id="block-block-68">
   <h2 class="title">Interview Questions</h2>    <div class="content"> <div class="item-list">
<ul class="vocabindex flat">
<li class="even first">
	<a href="/java/java-interview-questions-answers" title="">Java</a>
</li>
<li class="odd">
	<a href="/snmp/snmp-interview-questions-answers" title="">SNMP</a>
</li>
<li class="even">
	<a href="/scripting/ssh-interview-questions-answers" title="">SSH</a>
</li>
<li class="odd">
	<a href="/scripting/linux-interview-questions-answers" title="">Linux</a>
</li>
<li class="even last">
	<a href="/web-service/webservice-interview-questions-answers" title="">WebService</a>
</li>
</ul>
</div>
 </div>
 </div>
  <div class="block block-user" id="block-user-3">
   <h2 class="title">Who's online</h2>    <div class="content">There are currently <em>0 users</em> and <em>5 guests</em> online.</div>
 </div>
</div>
<!-- / column-1 -->





<!-- column-2 --><div class="column-2 
no-right-column
">


						        


<!-- PRINTING BLOCKS BEFORE THE CONTENT (with RED headers) -->
<!-- PRINTING BLOCKS BEFORE THE CONTENT (with RED headers) -->




		<div class="breadcrumb"><a href="/">Home</a></div>		
		


		<h1 class="title">Concurrent Modification Exception</h1>				<!-- main-content-block --><div class="main-content-block"> 
		  <div class="node">
    <div class="picture">
  </div>

 <span class="submitted">Submitted by <a href="/users/muthu" title="View user profile.">muthu</a> on Sun, 08/29/2010 - 13:59</span>

       
    
    <div class="content clear-block">
	<div class="block-incontent">  <div class="block block-block" id="block-block-56">
       <div class="content"><script type="text/javascript"><!--
google_ad_client = "ca-pub-9377132558366282";
/* 336x280 With Border */
google_ad_slot = "6780812087";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
 </div>
</div> <p><b>java.util.ConcurrentModificationException</b></p>
<p>       The above exception is thrown by java runtime when a collection is modified by a thread, at the same time when another thread is iterating over it in a non-synchronous environment. Let's see an example for the same.</p>
<p><b>ConModTest.java</b><br />
<div class="geshifilter"><span style="color: #000000; font-weight: bold;">package</span> <span style="color: #006699;">in.techdive.java</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">java.util.ArrayList</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">java.util.Iterator</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">java.util.LinkedHashMap</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">java.util.Set</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">class</span> ConModTest<br />
<span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> ConModTest<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">static</span> <span style="color: #000066; font-weight: bold;">void</span> main<span style="color: #009900;">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span style="color: #003399;">String</span></a><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> args<span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ConModTest cmT <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> ConModTest<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cmT.<span style="color: #006633;">listIteration</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">void</span> listIteration<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ArrayList<span style="color: #339933;">&lt;</span>String<span style="color: #339933;">&gt;</span> lst <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> ArrayList<span style="color: #339933;">&lt;</span>String<span style="color: #339933;">&gt;</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lst.<span style="color: #006633;">add</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;a&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lst.<span style="color: #006633;">add</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;b&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lst.<span style="color: #006633;">add</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;c&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lst.<span style="color: #006633;">add</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;d&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Iterator<span style="color: #339933;">&lt;</span>String<span style="color: #339933;">&gt;</span> it <span style="color: #339933;">=</span> lst.<span style="color: #006633;">iterator</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">while</span> <span style="color: #009900;">&#40;</span>it.<span style="color: #006633;">hasNext</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span style="color: #003399;">String</span></a> st <span style="color: #339933;">=</span> it.<span style="color: #006633;">next</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lst.<span style="color: #006633;">remove</span><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span style="color: #003399;">System</span></a>.<span style="color: #006633;">out</span>.<span style="color: #006633;">println</span><span style="color: #009900;">&#40;</span>lst<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></p>
<p>In the above code in listIteration() method, we create an array list , add elements and get an Iterator from the arraylist. Inside the while loop, array list is iterated, the last line removes an element from arraylist. It means that the Arraylist is structurally modified while being iterated. So the above code throws concurrentModificationException.</p>
<p>To avoid this, once we have created the iterator, we should only remove the arraylist elements using the iterator method. We should only use the iterator methods to modify the arraylist once we have retrieved the iterator. Have a look at the modified version of the above listIteration method.</p>
<p><div class="geshifilter"><span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">void</span> listIteration<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; ArrayList<span style="color: #339933;">&lt;</span>String<span style="color: #339933;">&gt;</span> lst <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> ArrayList<span style="color: #339933;">&lt;</span>String<span style="color: #339933;">&gt;</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; lst.<span style="color: #006633;">add</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;a&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; lst.<span style="color: #006633;">add</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;b&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; lst.<span style="color: #006633;">add</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;c&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; lst.<span style="color: #006633;">add</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;d&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; Iterator<span style="color: #339933;">&lt;</span>String<span style="color: #339933;">&gt;</span> it <span style="color: #339933;">=</span> lst.<span style="color: #006633;">iterator</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">while</span> <span style="color: #009900;">&#40;</span>it.<span style="color: #006633;">hasNext</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span style="color: #003399;">String</span></a> st <span style="color: #339933;">=</span> it.<span style="color: #006633;">next</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #666666; font-style: italic;">// lst.remove(0);</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; it.<span style="color: #006633;">remove</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span style="color: #003399;">System</span></a>.<span style="color: #006633;">out</span>.<span style="color: #006633;">println</span><span style="color: #009900;">&#40;</span>lst<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></p>
<p>         The functionality of Iterator is such that every-time it is iterated or any element is removed, it checks for the count of the collection which is iterated. If there is a difference in the count, it means that the collection is externally modified then the exception is thrown.</p><div class="block-midcontent">  <div class="block block-block" id="block-block-57">
       <div class="content"><script type="text/javascript"><!--
google_ad_client = "ca-pub-9377132558366282";
/* 728x90 - Content - Middle */
google_ad_slot = "9427598267";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
 </div>
</div>
<p>         Now consider the case of LinkedHashMap, it maintains the order in which the <key, value> pairs are entered in to it, while the collection is iterated. There is also a special case of LinkedHashMap, which iterates the Map in terms of access-order. When such a map is iterated, it retrieves elements in the order of elements which are least accessed. Consider the below method.</key,></p>
<p><div class="geshifilter"><span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">void</span> mapIteration<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; LinkedHashMap<span style="color: #339933;">&lt;</span>String, String<span style="color: #339933;">&gt;</span> lru <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> LinkedHashMap<span style="color: #339933;">&lt;</span>String, String<span style="color: #339933;">&gt;</span><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">16</span>, 0.75f, <span style="color: #000066; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; lru.<span style="color: #006633;">put</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;1&quot;</span>, <span style="color: #0000ff;">&quot;one&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; lru.<span style="color: #006633;">put</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;2&quot;</span>, <span style="color: #0000ff;">&quot;two&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; lru.<span style="color: #006633;">put</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;3&quot;</span>, <span style="color: #0000ff;">&quot;three&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; lru.<span style="color: #006633;">put</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;4&quot;</span>, <span style="color: #0000ff;">&quot;four&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; lru.<span style="color: #006633;">get</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;1&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span style="color: #003399;">System</span></a>.<span style="color: #006633;">out</span>.<span style="color: #006633;">println</span><span style="color: #009900;">&#40;</span>lru<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; Set<span style="color: #339933;">&lt;</span>String<span style="color: #339933;">&gt;</span> st <span style="color: #339933;">=</span> lru.<span style="color: #006633;">keySet</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span style="color: #003399;">String</span></a> s <span style="color: #339933;">:</span> st<span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span style="color: #003399;">System</span></a>.<span style="color: #006633;">out</span>.<span style="color: #006633;">println</span><span style="color: #009900;">&#40;</span>s<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lru.<span style="color: #006633;">get</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;4&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div>        </p>
<p>         When the above method is executed, it throws the java.util.ConcurrentModificationException. Oops! How come this is possible? we are not modifying the Map here after getting the iterator.</p><div class="adlink-content-top"></div>
<p>         Yeah, you are right! The problem here is the purpose of the LinkeHashMap is to maintain the order of elements in terms of there access ratio. If an element is accessed less number of times then it is retrieved first using iterator. So after getting either a keySet or Iterator, the Map api methods like get() or put() should not be executed as it will change the iteration order. So structural modification      differs for the different set of Maps and collections. For ArrayLists , structural modification means add/delete elements in the ArrayList. For LinkedHashMap (with access order) it means get/put operations in the Map. </p>
<p>         So while working with collections, we should take care of above factors to avoid ConcurrentModificationException exception.</p>
 	</div>
	
	<div class="taxonomy"><ul class="links inline"><li class="taxonomy_term_39 first last"><a href="/taxonomy/term/39" rel="tag" title="">Utils</a></li>
</ul></div>    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first"></li>
<li class="statistics_counter"><span>2213 reads</span></li>
<li class="addthis last"><span>
      <a class="addthis-button" href="http://www.addthis.com/bookmark.php"
        onfocus="return addthis_open(this, '', '[URL]', '[TITLE]')"
        onmouseover="return addthis_open(this, '', '[URL]', '[TITLE]')"
        onblur="addthis_close()"
        onmouseout="addthis_close()"
        onclick="return addthis_sendto()"><img src="http://s9.addthis.com/button1-share.gif" width="125" height="16" alt="share" class="addthisimage" /></a><script type="text/javascript" src="http://s7.addthis.com/js/152/addthis_widget.js"></script></span></li>
</ul></div>  </div>		<!-- /main-content-block --></div>
		
        



<!-- PRINTING BLOCK AFTER THE CONTENT -->


  <!-- column-2-blocks -->
  <div class="column-2-blocks clear-block 
    column-2-blocks-no-right-column
    ">
  <!-- /column-2-blocks-left --><div class="column-2-blocks-left">
    <div class="block block-relatedlinks" id="block-relatedlinks-3">
   <h2 class="title">Similar links</h2>    <div class="content"><div class="item-list"><ul><li class="first"><a href="/java/snake-and-ladder-game">Snake and Ladder Game</a></li>
<li><a href="/java/java-jar-operations">Java - Jar Operations</a></li>
<li><a href="/java/sending-email-using-java">Sending Email using Java</a></li>
<li><a href="/java/java-pagination-utility">Java - Pagination Utility</a></li>
<li class="last"><a href="/java/java-base64-encoding">Java Base64 Encoding</a></li>
</ul></div></div>
 </div>
    <!-- /column-2-blocks-left --></div>
  
  
  
  <!-- /column-2-blocks-right --><div class="column-2-blocks-right">
    <div class="block block-block" id="block-block-61">
       <div class="content"><script type="text/javascript"><!--
google_ad_client = "ca-pub-9377132558366282";
/* Link-200x90_4 */
google_ad_slot = "9183012722";
google_ad_width = 200;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
 </div>
  <!-- /column-2-blocks-right --></div>
  <!-- /column-2-blocks --></div>



<div class="content_after_blocks">  <div class="block block-block" id="block-block-34">
       <div class="content"><form action="http://www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-9377132558366282:4721632018" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="61" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>

<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script></div>
 </div>
</div>


<!-- / column-2 --></div>






<!-- footer -->
<div id="footer" class="clear-block">
 
    <div class="block block-block" id="block-block-25">
       <div class="content"> <p><fieldset class=" collapsible collapsed"><legend>Disclaimer Notice</legend>
<div>
THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS OF TECHDIVE.IN ''AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS OF TECHDIVE.IN BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. ANY COPYRIGHT INFRINGEMENT ON THE ARTICLES/CONTENT POSTED IN TECHDIVE.IN IS PURELY UN-INTENTIONAL AND NO LIABILITY CAN BE MADE AGAINST TECHDIVE.IN OR ITS CONTRIBUTORS.<br/><br />
The trademarks like Java, Spring, Spring Framework, Spring Web Flow, Oracle, SNMP, Shell Scripting, Log4j and other trademarks are property of their respective owners. <br/><br />
Please read our <a href="/page/terms-use">terms of use</a> before using the site. </br/></br/></div>
<p></p></fieldset></p>
 </div>
 </div>
  <div class="block block-block" id="block-block-8">
       <div class="content"> <p>Tech Dive is for learning and training only. We do not warrant the correctness of the content published. The risk from using it lies entirely with the user.<br />
The pages, source code, articles, tutorials and other content should not be reproduced or redistributed in any way, shape or form. Failure to do so is a violation of copyright laws.<br />
All other trademarks are property of their respective owners.<br />
While using this site, you have agree to read and accepted our <a href="/page/terms-use">terms of use</a>.</p>
 </div>
 </div>
  <div class="block block-block" id="block-block-53">
       <div class="content"> <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-19139500-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script> </div>
 </div>
  <div class="block block-block" id="block-block-26">
       <div class="content"> <script>
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    gaTrack: true,
    gaId: 'UA-19139500-1',
    floatPosition: google.translate.TranslateElement.FloatPosition.BOTTOM_RIGHT
  });
}
</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script> </div>
 </div>
  <div class="block block-menu" id="block-menu-secondary-links">
   <h2 class="title">Secondary links</h2>    <div class="content"><ul class="menu"><li class="leaf first"><a href="/" title="">Home</a></li>
<li class="leaf"><a href="/blog" title="">Blog</a></li>
<li class="leaf"><a href="/sitemap" title="">SiteMap</a></li>
<li class="leaf"><a href="/search" title="">Search</a></li>
<li class="leaf last"><a href="/contact" title="">Contact Us</a></li>
</ul></div>
 </div>

<div class="clear-both">
  </div>

</div>
<!-- /footer -->



</div>
<!-- / make-it-center -->

<span class="developer"></span>	</body>
</html>

