
    
    <!-- classdoc.jsp -->
<html><head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<title>org.apache.log4j: public class: LogManager</title>
	<style>
#jdoc {margin:10px 10px 10px 10px}
#pkg {font-size:1em;font-weight:bold}
#cls {font-size:2em;font-weight:bold}
body {margin:0 0 0 0; padding:0 0 0 0} 
table {margin-top:10px;background-color:#ffffff;}

th {background:#ddeeff;text-align:left}	
td {padding:5px 2px 2px 5px;border-top:1px solid #999999;margin:0 0 0 0}
pre {padding:0;margin:0}
.withborder {border-left:1px solid #999999;border-right:1px solid #999999;background-color:#eeeeee}
	</style>
	
	<script type="text/javascript">
	
	function src(m) {
	  s = 	document.getElementById(m);
	  i = document.getElementById(m+"i");
	  if (s != null && s.style.visibility!='visible') {
	   s.style.visibility='visible';
	   s.style.height="auto";
	   s.style.overflow='auto';
	   i.src = "/minus.gif";
	  } else if (s != null) {
	   s.style.visibility='hidden';
	   s.style.height="1px";
	   s.style.overflow='hidden';
	   i.src = "/plus.gif";
	  }
	}
	
	</script>
<style type="text/css">
#fixme {
	/* Netscape 4, IE 4.x-5.0/Win and other lesser browsers will use this */
  position: absolute; left: 0; top: 0;
}
body > div#fixme {
  /* used by Opera 5+, Netscape6+/Mozilla, Konqueror, Safari, OmniWeb 4.5+, iCab, ICEbrowser */
  position: fixed;
}
</style>
<!--[if gte IE 5.5]>
<style type="text/css">
div#fixme {
  /* IE5.5+/Win - this is more specific than the IE 5.0 version */
  left: expression( ( 0 + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px' );
  top: expression( ( 0 + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px' );
}
</style>
<![endif]--></head><body>
<div id="fixme" style="width:100%;background-color:#ddeeff;border:1px solid #ccddee;margin:0 0 0 0;padding:2px 2px 2px 2px">
<div style="float:right"><a href="http://del.icio.us/post" onclick="window.open('http://del.icio.us/post?v=4&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title), 'delicious','toolbar=no,width=700,height=400'); return false;"><img src="http://images.del.icio.us/static/img/delicious.small.gif" border=0> Save This Page</a></div>
<a href="/">Home</a> &#187; <a href="/projects/apache-log4j-1.2.16-code.html">apache-log4j-1.2.16</a> &#187; org.apache &#187;  <a href='/docs/api/org/apache/log4j/package-index.html'>log4j</a> &#187; 
[javadoc | 
 <a href="/html/api/org/apache/log4j/LogManager.java.html">source</a>]
</div>
<div style="height:20px"></div>
<div id="jdoc">


<!-- classname.jsp -->
    
<span id="pkg">org.apache.log4j</span><br>
    <span id="cls">public class: LogManager</span> [javadoc | 
 <a href="/html/api/org/apache/log4j/LogManager.java.html">source</a>]
    
    	<br><pre><a href=/docs/api/java/lang/Object.html>java.lang.Object</a>
 &nbsp; <img src=/inherit.gif><b>org.apache.log4j.LogManager</b></pre>
    




<!-- end -->


<!-- classimplements.jsp -->
    




<!-- end -->


    <!-- classcomment.jsp -->
    Use the <code>LogManager</code> class to retreive <a href='Logger.html'>Logger</a> 
instances or to operate on the current <a href='LoggerRepository.html'>LoggerRepository</a> . When the <code>LogManager</code> class is loaded
into memory the default initalzation procedure is inititated. The
default intialization procedure</a> is described in the <a
href="../../../../manual.html#defaultInit">short log4j manual</a>.<ul><dd>author: <code>Ceki</code> -  G&uuml;lc&uuml;<br></dd></ul>



<!-- end -->



<!-- nestedclass.jsp -->
    



<!-- end -->


<!-- fieldsummary.jsp -->
    
<table width='100%'><tr><th colspan=3>Field Summary</td></tr><tr valign=top><td valign='top' nowrap>public static final  &nbsp;<a href=/docs/api/java/lang/String.html>String</a></td> <td class='withborder' nowrap><b>DEFAULT_CONFIGURATION_FILE</b>&nbsp; &nbsp; </td><td width='100%'><ul></ul>&nbsp;</td></tr><tr valign=top><td valign='top' nowrap>static final  &nbsp;<a href=/docs/api/java/lang/String.html>String</a></td> <td class='withborder' nowrap><b>DEFAULT_XML_CONFIGURATION_FILE</b>&nbsp; &nbsp; </td><td width='100%'>&nbsp;</td></tr><tr valign=top><td valign='top' nowrap>public static final  &nbsp;<a href=/docs/api/java/lang/String.html>String</a></td> <td class='withborder' nowrap><b>DEFAULT_CONFIGURATION_KEY</b>&nbsp; &nbsp; </td><td width='100%'><ul></ul>&nbsp;</td></tr><tr valign=top><td valign='top' nowrap>public static final  &nbsp;<a href=/docs/api/java/lang/String.html>String</a></td> <td class='withborder' nowrap><b>CONFIGURATOR_CLASS_KEY</b>&nbsp; &nbsp; </td><td width='100%'><ul></ul>&nbsp;</td></tr><tr valign=top><td valign='top' nowrap>public static final  &nbsp;<a href=/docs/api/java/lang/String.html>String</a></td> <td class='withborder' nowrap><b>DEFAULT_INIT_OVERRIDE_KEY</b>&nbsp; &nbsp; </td><td width='100%'><ul></ul>&nbsp;</td></tr>





<!-- end -->




<!-- constructsummary.jsp -->
    





<!-- end -->


<!-- methodsummary.jsp -->
    <table width='100%'><tr><th>Method from <b>org.apache.log4j.LogManager</b> Summary:</td></tr><tr><td>
<a href='/docs/api/org/apache/log4j/LogManager.html#exists(String)'>exists</a>, &nbsp; <a href='/docs/api/org/apache/log4j/LogManager.html#getCurrentLoggers'>getCurrentLoggers</a>, &nbsp; <a href='/docs/api/org/apache/log4j/LogManager.html#getLogger(String)'>getLogger</a>, &nbsp; <a href='/docs/api/org/apache/log4j/LogManager.html#getLogger(Class)'>getLogger</a>, &nbsp; <a href='/docs/api/org/apache/log4j/LogManager.html#getLogger(String, LoggerFactory)'>getLogger</a>, &nbsp; <a href='/docs/api/org/apache/log4j/LogManager.html#getLoggerRepository'>getLoggerRepository</a>, &nbsp; <a href='/docs/api/org/apache/log4j/LogManager.html#getRootLogger'>getRootLogger</a>, &nbsp; <a href='/docs/api/org/apache/log4j/LogManager.html#resetConfiguration'>resetConfiguration</a>, &nbsp; <a href='/docs/api/org/apache/log4j/LogManager.html#setRepositorySelector(RepositorySelector, Object)'>setRepositorySelector</a>, &nbsp; <a href='/docs/api/org/apache/log4j/LogManager.html#shutdown'>shutdown</a></td></tr></table><table width='100%'><tr><th>Methods from <b>java.lang.Object</b>:</td></tr><tr><td>
<a href='/docs/api/java/lang/Object.html#clone'>clone</a>, &nbsp; <a href='/docs/api/java/lang/Object.html#equals(Object)'>equals</a>, &nbsp; <a href='/docs/api/java/lang/Object.html#finalize'>finalize</a>, &nbsp; <a href='/docs/api/java/lang/Object.html#getClass'>getClass</a>, &nbsp; <a href='/docs/api/java/lang/Object.html#hashCode'>hashCode</a>, &nbsp; <a href='/docs/api/java/lang/Object.html#notify'>notify</a>, &nbsp; <a href='/docs/api/java/lang/Object.html#notifyAll'>notifyAll</a>, &nbsp; <a href='/docs/api/java/lang/Object.html#toString'>toString</a>, &nbsp; <a href='/docs/api/java/lang/Object.html#wait'>wait</a>, &nbsp; <a href='/docs/api/java/lang/Object.html#wait(long)'>wait</a>, &nbsp; <a href='/docs/api/java/lang/Object.html#wait(long, int)'>wait</a></td></tr></table><table width='100%'><tr><th>Method from <b>org.apache.log4j.LogManager</b> Detail:</td></tr>
<tr><td><pre><a href='javascript:src("ms0")'><img id='ms0i' src=/plus.gif border=0></a> public static <a href=/docs/api/org/apache/log4j/Logger.html>Logger</a><a name='exists(String)'> <b>exists</b>(<a href=/docs/api/java/lang/String.html>String</a> name)</a> <pre id='ms0' style='height:1px;overflow:hidden;visibility:hidden;width:100%'>{
    return getLoggerRepository().exists(name);
}</pre></pre></td></tr><tr><td><pre><a href='javascript:src("ms1")'><img id='ms1i' src=/plus.gif border=0></a> public static <a href=/docs/api/java/util/Enumeration.html>Enumeration</a><a name='getCurrentLoggers'> <b>getCurrentLoggers</b>()</a> <pre id='ms1' style='height:1px;overflow:hidden;visibility:hidden;width:100%'>{
    return getLoggerRepository().getCurrentLoggers();
}</pre></pre></td></tr><tr><td><pre><a href='javascript:src("ms2")'><img id='ms2i' src=/plus.gif border=0></a> public static <a href=/docs/api/org/apache/log4j/Logger.html>Logger</a><a name='getLogger(String)'> <b>getLogger</b>(<a href=/docs/api/java/lang/String.html>String</a> name)</a> <pre id='ms2' style='height:1px;overflow:hidden;visibility:hidden;width:100%'>{
     // Delegate the actual manufacturing of the logger to the logger repository.
    return getLoggerRepository().getLogger(name);
}</pre></pre><ul>Retrieve the appropriate <a href='Logger.html'>Logger</a>  instance.</ul></td></tr><tr><td><pre><a href='javascript:src("ms3")'><img id='ms3i' src=/plus.gif border=0></a> public static <a href=/docs/api/org/apache/log4j/Logger.html>Logger</a><a name='getLogger(Class)'> <b>getLogger</b>(<a href=/docs/api/java/lang/Class.html>Class</a> clazz)</a> <pre id='ms3' style='height:1px;overflow:hidden;visibility:hidden;width:100%'>{
     // Delegate the actual manufacturing of the logger to the logger repository.
    return getLoggerRepository().getLogger(clazz.getName());
}</pre></pre><ul>Retrieve the appropriate <a href='Logger.html'>Logger</a>  instance.</ul></td></tr><tr><td><pre><a href='javascript:src("ms4")'><img id='ms4i' src=/plus.gif border=0></a> public static <a href=/docs/api/org/apache/log4j/Logger.html>Logger</a><a name='getLogger(String, LoggerFactory)'> <b>getLogger</b>(<a href=/docs/api/java/lang/String.html>String</a> name,
    <a href=/docs/api/org/apache/log4j/spi/LoggerFactory.html>LoggerFactory</a> factory)</a> <pre id='ms4' style='height:1px;overflow:hidden;visibility:hidden;width:100%'>{
     // Delegate the actual manufacturing of the logger to the logger repository.
    return getLoggerRepository().getLogger(name, factory);
}</pre></pre><ul>Retrieve the appropriate <a href='Logger.html'>Logger</a>  instance.</ul></td></tr><tr><td><pre><a href='javascript:src("ms5")'><img id='ms5i' src=/plus.gif border=0></a> public static <a href=/docs/api/org/apache/log4j/spi/LoggerRepository.html>LoggerRepository</a><a name='getLoggerRepository'> <b>getLoggerRepository</b>()</a> <pre id='ms5' style='height:1px;overflow:hidden;visibility:hidden;width:100%'>{
    if (repositorySelector == null) {
        repositorySelector = new DefaultRepositorySelector(new NOPLoggerRepository());
        guard = null;
        Exception ex = new IllegalStateException("Class invariant violation");
        String msg =
                "log4j called after unloading, see http://logging.apache.org/log4j/1.2/faq.html#unload.";
        if (isLikelySafeScenario(ex)) {
            LogLog.debug(msg, ex);
        } else {
            LogLog.error(msg, ex);
        }
    }
    return repositorySelector.getLoggerRepository();
}</pre></pre></td></tr><tr><td><pre><a href='javascript:src("ms6")'><img id='ms6i' src=/plus.gif border=0></a> public static <a href=/docs/api/org/apache/log4j/Logger.html>Logger</a><a name='getRootLogger'> <b>getRootLogger</b>()</a> <pre id='ms6' style='height:1px;overflow:hidden;visibility:hidden;width:100%'>{
     // Delegate the actual manufacturing of the logger to the logger repository.
    return getLoggerRepository().getRootLogger();
}</pre></pre><ul>Retrieve the appropriate root logger.</ul></td></tr><tr><td><pre><a href='javascript:src("ms8")'><img id='ms8i' src=/plus.gif border=0></a> public static  void<a name='resetConfiguration'> <b>resetConfiguration</b>()</a> <pre id='ms8' style='height:1px;overflow:hidden;visibility:hidden;width:100%'>{
    getLoggerRepository().resetConfiguration();
}</pre></pre></td></tr><tr><td><pre><a href='javascript:src("ms9")'><img id='ms9i' src=/plus.gif border=0></a> public static  void<a name='setRepositorySelector(RepositorySelector, Object)'> <b>setRepositorySelector</b>(<a href=/docs/api/org/apache/log4j/spi/RepositorySelector.html>RepositorySelector</a> selector,
    <a href=/docs/api/java/lang/Object.html>Object</a> guard)</a> throws <a href=/docs/api/java/lang/IllegalArgumentException.html>IllegalArgumentException</a> <pre id='ms9' style='height:1px;overflow:hidden;visibility:hidden;width:100%'>{
    if((LogManager.guard != null) && (LogManager.guard != guard)) {
      throw new IllegalArgumentException(
           "Attempted to reset the LoggerFactory without possessing the guard.");
    }
    if(selector == null) {
      throw new IllegalArgumentException("RepositorySelector must be non-null.");
    }
    LogManager.guard = guard;
    LogManager.repositorySelector = selector;
}</pre></pre><ul>Sets <code>LoggerFactory</code> but only if the correct
<em>guard</em> is passed as parameter.

<p>Initally the guard is null.  If the guard is
<code>null</code>, then invoking this method sets the logger
factory and the guard. Following invocations will throw a <a href='IllegalArgumentException.html'>IllegalArgumentException</a> , unless the previously set
<code>guard</code> is passed as the second parameter.

<p>This allows a high-level component to set the <a href='RepositorySelector.html'>RepositorySelector</a>  used by the <code>LogManager</code>.

<p>For example, when tomcat starts it will be able to install its
own repository selector. However, if and when Tomcat is embedded
within JBoss, then JBoss will install its own repository selector
and Tomcat will use the repository selector set by its container,
JBoss.</ul></td></tr><tr><td><pre><a href='javascript:src("ms10")'><img id='ms10i' src=/plus.gif border=0></a> public static  void<a name='shutdown'> <b>shutdown</b>()</a> <pre id='ms10' style='height:1px;overflow:hidden;visibility:hidden;width:100%'>{
    getLoggerRepository().shutdown();
}</pre></pre></td></tr></table>








<!-- end -->


</div>
</body></html>













<!-- end -->

