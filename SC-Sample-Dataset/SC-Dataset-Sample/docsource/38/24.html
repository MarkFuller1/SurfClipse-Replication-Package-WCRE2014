<!DOCTYPE html>
<!--[if IE 7]>
<html id="ie7" lang="en">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en">
<![endif]-->
<!--[if (!IE)]><!-->
<html lang="en">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<title>Java Proxies and UndeclaredThrowableException | Amit&#039;s Tech Blog</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://amitstechblog.wordpress.com/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="Amit&#039;s Tech Blog &raquo; Feed" href="http://amitstechblog.wordpress.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Amit&#039;s Tech Blog &raquo; Comments Feed" href="http://amitstechblog.wordpress.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Amit&#039;s Tech Blog &raquo; Java Proxies and&nbsp;UndeclaredThrowableException Comments Feed" href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/feed/" />
<script type="text/javascript">
/* <![CDATA[ */
function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){oldonload();func();}}}
/* ]]> */
</script>
<style type="text/css">
	/*body div.jp-relatedposts { border-color:#5ba1e0; }
	body div.jp-relatedposts .jp-relatedposts-headline em { background:#ffffff }
	body div.jp-relatedposts, body div.jp-relatedposts .jp-relatedposts-post a { color:#4e4e4e }*/
	body div.jp-relatedposts .jp-relatedposts-headline em:before { border-color:#4e4e4e; }
</style><link rel='stylesheet' id='all-css-0' href='http://s2.wp.com/_static/??-eJyVUO0KwjAMfCFrEIfuj/gs3Rq7arrUJmX49s6JKA4H/soHd7nLwZBMy71irxCLSVR86AUoXFDgjJpsezHTtG5FVvABb4j9m8Deo+Oi5sREPMAQnEedkT40MpJVdCax6Ne0RItpN65jsjq13WhwEf84aE5kQwbRG+EMqx3G8dlUGog30XAt+AeyZeIsz2IaKnPWDy+dzaH3r/pLq6vAEzeWls4+sx5NiIBndhmtmzI5xsNmW+/qqq731fkOhkO4gw==' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-0' href='http://s0.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1335386953g' type='text/css' media='print' />
<script type='text/javascript'>
/* <![CDATA[ */
var LoggedOutFollow = {"invalid_email":"Your subscription did not succeed, please try again with a valid email address."};
/* ]]> */
</script>
<script type='text/javascript' src='http://s1.wp.com/_static/??-eJyVkFuOwjAMRTdECC+N+EGspU3djENih9ih6qx+UgmkeSAhvmzZx766107ZOCYFUhvEJu4xgqkCpfNtZpBGXgdZ2cYhuVgHkAUM1wplvpeXgEnoS6ewTkgP+IdqZtEEIk3yyfa3FNINYXqJBdDcuYspIPj172sf2Zscq0cS23oPA1c1I8fIk51w8KBvSMRmbVhMyN8j/YRmzOba2zSLYrtcHo2VnCKTPEvOcUpL9AVynO+JndNpuz9+bLb73eYQvgHRF6RN'></script>
<link rel='stylesheet' id='all-css-0' href='http://s2.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1377793621g' type='text/css' media='all' />
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='http://s2.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563g&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://amitstechblog.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://amitstechblog.wordpress.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Text Search In Jar&nbsp;Files' href='http://amitstechblog.wordpress.com/2011/07/21/text-search-in-jar-files/' />
<link rel='next' title='How Does OCI JDBC Application Communicate With Oracle Database&nbsp;Server' href='http://amitstechblog.wordpress.com/2011/07/31/how-does-oci-jdbc-application-communicate-with-oracle-database-server/' />
<meta name="generator" content="WordPress.com" />
<link rel='canonical' href='http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/' />
<link rel='shortlink' href='http://wp.me/p1rKPX-6s' />
<link rel="alternate" type="application/json+oembed" href="http://public-api.wordpress.com/oembed/1.0/?format=json&amp;url=http%3A%2F%2Famitstechblog.wordpress.com%2F2011%2F07%2F24%2Fjava-proxies-and-undeclaredthrowableexception%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="http://public-api.wordpress.com/oembed/1.0/?format=xml&amp;url=http%3A%2F%2Famitstechblog.wordpress.com%2F2011%2F07%2F24%2Fjava-proxies-and-undeclaredthrowableexception%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Java Proxies and UndeclaredThrowableException" />
<meta property="og:url" content="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/" />
<meta property="og:description" content="A common approach in Java is to use dynamic proxies to provide decorator-style behavior. Doing this allows you to add additional behavior â€œaroundâ€? an object without the object itself or itâ€™s caller..." />
<meta property="og:site_name" content="Amit&#039;s Tech Blog" />
<meta property="og:image" content="http://wordpress.com/i/blank.jpg?m=1383295312g" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:card" content="summary" />
<meta property="fb:app_id" content="249643311490" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />
<link rel="shortcut icon" type="image/x-icon" href="http://s2.wp.com/i/favicon.ico?m=1311975824g" sizes="16x16 24x24 32x32 48x48" />
<link rel="icon" type="image/x-icon" href="http://s2.wp.com/i/favicon.ico?m=1311975824g" sizes="16x16 24x24 32x32 48x48" />
<link rel="apple-touch-icon-precomposed" href="http://s0.wp.com/i/webclip.png?m=1355642671g" />
<link rel='openid.server' href='http://amitstechblog.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='http://amitstechblog.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="http://amitstechblog.wordpress.com/osd.xml" title="Amit&#039;s Tech Blog" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wordpress.com/opensearch.xml" title="WordPress.com" />
		<style>
		/* <![CDATA[ */
		/* Block: reblog */
		
		.reblog-from img                   { margin: 0 10px 0 0; vertical-align: middle; padding: 0; border: 0; }
		.reblogger-note img.avatar         { float: left; padding: 0; border: 0; }
		.reblogger-note-content            { margin: 0 0 20px; }
		
		.wpcom-reblog-snapshot .reblog-from img {
		margin: 0 .5em 0 0;
		padding: 0;
		border: 0;
		}
		
		.wpcom-reblog-snapshot .reblogger-note img.avatar {
		float: left;
		padding: 0;
		border: 0;
		margin: 0 .5em 0 0;
		}
		
		.reblog-post .wpcom-enhanced-excerpt-content { border-left: 3px solid #eee; padding-left: 15px; }
		.reblog-post ul.thumb-list         { display: block; list-style: none; margin: 2px 0; padding: 0; clear: both; }
		.reblog-post ul.thumb-list li      { display: inline; margin: 0; padding: 0 1px; border: 0; }
		.reblog-post ul.thumb-list li a    { margin: 0; padding: 0; border: 0; }
		.reblog-post ul.thumb-list li img  { margin: 0; padding: 0; border: 0; }
		
		.reblog-post .wpcom-enhanced-excerpt { clear: both; }
		
		.reblog-post .wpcom-enhanced-excerpt address,
		.reblog-post .wpcom-enhanced-excerpt li,
		.reblog-post .wpcom-enhanced-excerpt h1,
		.reblog-post .wpcom-enhanced-excerpt h2,
		.reblog-post .wpcom-enhanced-excerpt h3,
		.reblog-post .wpcom-enhanced-excerpt h4,
		.reblog-post .wpcom-enhanced-excerpt h5,
		.reblog-post .wpcom-enhanced-excerpt h6,
		.reblog-post .wpcom-enhanced-excerpt p { font-size: 100% !important; }
		
		.reblog-post .wpcom-enhanced-excerpt blockquote,
		.reblog-post .wpcom-enhanced-excerpt pre,
		.reblog-post .wpcom-enhanced-excerpt code,
		.reblog-post .wpcom-enhanced-excerpt q { font-size: 98% !important; }
		
		.wpcom-reblog-snapshot {
		margin-bottom: 1em;
		}
		
		.wpcom-reblog-snapshot p.reblog-from {
		margin: 0 0 1em 0;
		}
		
		.wpcom-reblog-snapshot p.reblogger-headline {
		line-height: 32px;
		margin: 0 0 1em 0;
		}
		
		/* Optional notes */
		.wpcom-reblog-snapshot .reblogger-note {
		border-bottom: 1px solid #ddd;
		border-bottom: 1px solid rgba(0,0,0,.1);
		margin: 0 0 1em 0;
		padding: 0 0 1em 0;
		overflow: hidden;
		}
		
		.wpcom-reblog-snapshot p.reblogger-headline {
		line-height: 32px;
		margin: 0 0 1em 0;
		}
		
		.wpcom-reblog-snapshot .reblogger-note-content {
		margin: 0;
		padding: 0;
		}
		
		.wpcom-reblog-snapshot .reblogger-note-content blockquote {
		font-style: normal;
		font-weight: normal;
		font-size: 1em;
		padding: 2px 1em 6px 1em;
		background: rgba(0,0,0,.1);
		margin: 0;
		position: relative;
		}
		
		.wpcom-reblog-snapshot .reblogger-note-content blockquote p:last-child {
		margin-bottom: 0;
		}
		
		

		/* ]]> */
		</style>
		<meta name="application-name" content="Amit&#039;s Tech Blog" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-task" content="name=Subscribe;action-uri=http://amitstechblog.wordpress.com/feed/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="title" content="Java Proxies and&nbsp;UndeclaredThrowableException | Amit&#039;s Tech Blog on WordPress.com" />
<meta name="description" content="A common approach in Java is to use dynamic proxies to provide decorator-style behavior. Doing this allows you to add additional behavior â€œaroundâ€? an object without the object itself or itâ€™s callers being aware of the decorating. Let&#039;s take an common implementation of java proxy. If you run the ProxyApp class to test the proxy&hellip;" />

<script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'>
</script>
<script type='text/javascript'>
if ( typeof GS_googleAddAdSenseService == 'function' ) { GS_googleAddAdSenseService("ca-pub-3443918307802676"); }
if ( typeof GS_googleEnableAllServices == 'function' ) { GS_googleEnableAllServices() };
</script>
<script type="text/javascript" src="http://c.amazon-adsystem.com/aax2/amzn_ads.js"></script>
<script type="text/javascript">
try { amznads.getAds("3033","300x250"); } catch(e) { /* ignore */ }
</script>
<script type="text/javascript">
var amznKeys = amznads.getKeys();
if (typeof amznKeys != "undefined" && amznKeys != "") { for (var i =0; i < amznKeys.length; i++) { var key = amznKeys[i]; GA_googleAddAttr("amzn", key);} }
document.close();
</script>
<script type='text/javascript'>
if ( typeof GA_googleAddSlot == 'function' ) { GA_googleAddSlot("ca-pub-3443918307802676", "wpcom_below_post_adsafe"); }
</script>
<script type='text/javascript'>
if ( typeof GA_googleFetchAds == 'function' ) { GA_googleFetchAds(); }
</script>

<script type="text/javascript">
var wpcom_ads = { bid: 21391237, pt: 'permalink', wa: 0, as: 1, domain: 'amitstechblog.wordpress.com', url: 'http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/', gid: '', };
</script>
<style id="syntaxhighlighteranchor"></style>
<script type="text/javascript">
	window.google_analytics_uacct = "UA-52447-2";
</script>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-52447-2']);
	_gaq.push(['_setDomainName', 'wordpress.com']);
	_gaq.push(['_initData']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</script>
</head>

<body class="single single-post postid-400 single-format-standard mp6 content-sidebar highlander-enabled highlander-light">
<div id="page">

	<div id="container">

		<ul class="skip">
			<li><a href="#access">Skip to navigation</a></li>
			<li><a href="#main">Skip to main content</a></li>
			<li><a href="#sidebar">Skip to primary sidebar</a></li>
			<li><a href="#sidebar2">Skip to secondary sidebar</a></li>
			<li><a href="#footer">Skip to footer</a></li>
		</ul>

		<div id="header">
			<div id="branding" class="clear-block">
				<a class="home-link" href="http://amitstechblog.wordpress.com/" title="Amit&#039;s Tech Blog" rel="home">
					<h1 id="logo">Amit&#039;s Tech Blog</h1>
					<h2 id="site-description"></h2>
				</a>
			</div><!-- #branding-->

			<div id="access" class="clear-block" role="navigation">
				<div class="menu"><ul><li ><a href="http://amitstechblog.wordpress.com/">Home</a></li><li class="page_item page-item-2"><a href="http://amitstechblog.wordpress.com/about/">About</a></li></ul></div>

				<div class="social-icons">

					
					
					
					
					
				</div><!-- .social-icons -->

			</div><!-- #access -->

							
			</div><!-- #header-->

			<div id="main">
 			<div id="content-container">
	 			<div id="content">
					
						<div class="post-navigation nav-above">
							<div class="nav-previous">
								<a href="http://amitstechblog.wordpress.com/2011/07/21/text-search-in-jar-files/" rel="prev">&larr; Text Search In Jar&nbsp;Files</a>							</div>
							<div class="nav-next">
								<a href="http://amitstechblog.wordpress.com/2011/07/31/how-does-oci-jdbc-application-communicate-with-oracle-database-server/" rel="next">How Does OCI JDBC Application Communicate With Oracle Database&nbsp;Server &rarr;</a>							</div>
						</div><!-- .post-navigation -->

						<div class="post-400 post type-post status-publish format-standard hentry category-java tag-java tag-proxies post-wrapper clear-block">

	
			<h1 class="single-title">Java Proxies and&nbsp;UndeclaredThrowableException</h1>	
	<div class="post-date">
		<p class="day"><a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/" rel="bookmark" title="Permanent Link to Java Proxies and&nbsp;UndeclaredThrowableException">Jul 24</a></p>
	</div><!-- .post-date -->

	<div class="post-info clear-block">
		<p class="author alignleft">Posted by <a href="http://amitstechblog.wordpress.com/author/amitstechblog/" title="Posts by Amit" rel="author">Amit</a></p>
	</div><!-- .post-info clear-block" -->

	<div class="entry clear-block">
		<p>A common approach in Java is to use dynamic proxies to provide decorator-style behavior. Doing this allows you to add additional behavior â€œaroundâ€? an object without the object itself or itâ€™s callers being aware of the decorating.</p>
<p>Let&#8217;s take an common implementation of java proxy.</p>
<pre class="brush: java; title: ; notranslate" title="">
public interface InterfaceA {
    void display() throws SQLException;
}

public class ClassA implements InterfaceA {

    @Override
    public void display() throws SQLException {
        throw new SQLException();
    }
}

public class ProxyHandler implements InvocationHandler {

    private InterfaceA delegate;

    public ProxyHandler(InterfaceA delegate) {
        this.delegate = delegate;
    }

    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        System.out.println(&quot;Inside the invocation handler&quot;);
        return method.invoke(delegate, args);
    }
}

public class ProxyApp {
    public static void main(String[] args) {
        createAndTestProxy();
    }

    private static void createAndTestProxy() {
        InterfaceA interfaceA = (InterfaceA) Proxy.newProxyInstance(Thread.currentThread().getContextClassLoader(),
                                                    new Class[]{InterfaceA.class}, new ProxyHandler(new ClassA()));
        try {
            interfaceA.display();
        } catch (java.sql.SQLException e) {
            throw new RuntimeException(&quot;Something bad happened&quot;, e);
        }
    }
}
</pre>
<p>If you run the ProxyApp class to test the proxy implementation, you would get the below exception trace</p>
<pre class="brush: java; title: ; notranslate" title="">
Inside the invocation handler
Exception in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException
	at $Proxy0.display(Unknown Source)
	at proxy.ProxyApp.createAndTestProxy(ProxyApp.java:23)
	at proxy.ProxyApp.main(ProxyApp.java:16)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:110)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at proxy.ProxyHandler.invoke(ProxyHandler.java:26)
	... 8 more
Caused by: java.sql.SQLException
	at proxy.ClassA.display(ClassA.java:18)
	... 13 more
</pre>
<p>The expected stacktrace should have been</p>
<pre class="brush: java; title: ; notranslate" title="">
Inside the invocation handler
Exception in thread &quot;main&quot; java.lang.RuntimeException: Something bad happened
	at proxy.ProxyApp.createAndTestProxy(ProxyApp.java:25)
	at proxy.ProxyApp.main(ProxyApp.java:16)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:110)
Caused by: java.sql.SQLException
	at proxy.ClassA.display(ClassA.java:18)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at proxy.ProxyHandler.invoke(ProxyHandler.java:28)
	at $Proxy0.display(Unknown Source)
	at proxy.ProxyApp.createAndTestProxy(ProxyApp.java:23)
	... 6 more
</pre>
<p><span id="more-400"></span>The root cause of the above issue is an subtle bug in the InvocationHandler implementation. The invocation handler internally callsÂ <a href="http://download.oracle.com/javase/6/docs/api/java/lang/reflect/Method.html#invoke(java.lang.Object, java.lang.Object...)">java.lang.reflect.Method.invoke</a>Â method and youâ€™ll see that it can throw anÂ <a href="http://download.oracle.com/javase/6/docs/api/java/lang/reflect/InvocationTargetException.html">InvocationTargetException</a>. This occurs when the method being reflectively invoked throws any exception.</p>
<p>Since reflectively calling a method could result in a checked exception being thrown but not handled (since the signature of Method.invoke does not declare it), all exceptions thrown by the target are wrapped in a checked InvocationTargetException, which is declared in the signature of Method.invoke.</p>
<p>Normally when calling Method.invoke() the InvocationTargetException must be explicitly handled, since it is a checked exception. However, in the above case weâ€™re calling it from inside an InvocationHandlerâ€™s invoke method, whose signature declares that it throws Throwable. Because of this, it is very easy to write an InvocationHandler that throws an InvocationTargetException out of its invoke method (which the above code will do).</p>
<p>Now if you read the documentation for theÂ <a href="http://download.oracle.com/javase/6/docs/api/java/lang/reflect/InvocationHandler.html#invoke(java.lang.Object, java.lang.reflect.Method, java.lang.Object[])">InvocationHandler.invoke</a>Â method, youâ€™ll see that it describes how Java dynamic proxies respond to any Throwable thrown out of the InvocationHandler. In particular, if the exception is either a checked exception that is declared by the proxied interface, or is an unchecked exception, it will be propagated directly to the caller of the proxied method. <strong>However, if the exception is checked and is not declared by the proxied interface, it will first be wrapped in anÂ <a href="http://download.oracle.com/javase/6/docs/api/java/lang/reflect/UndeclaredThrowableException.html">UndeclaredThrowableException</a>.</strong></p>
<p>Remembering that InvocationTargetException is aÂ <strong>checked</strong>Â exception, what this all boils down to is that any InvocationHandler written as above does not explictly handle the InvocationTargetException from Method.invoke() and will end up propogating an UndeclaredThrowableException to client code. The client code calling the proxied method is hardly ever going to expect this exception.</p>
<p>Given that most of the time, the goal of dynamic proxying is to provideÂ <em>transparent</em>Â proxying of a service, this situation is hardly going to result in transparency. When client code invokes a proxied method, and the â€œrealâ€? implementation throws any exception (checked or unchecked), that exception should propagated to the calling client code. Any other implementation will result in client code that needs to be aware of the proxying, which means losing one of the main advantages of using dynamic proxies in the first place.</p>
<p>Hereâ€™s the correct implementation of the InvocationHandler.invoke() method from the above code:</p>
<pre class="brush: java; title: ; notranslate" title="">
public class ProxyHandler implements InvocationHandler {

    private InterfaceA delegate;

    public ProxyHandler(InterfaceA delegate) {
        this.delegate = delegate;
    }

    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        System.out.println(&quot;Inside the invocation handler&quot;);
        try {
            return method.invoke(delegate, args);
        } catch (InvocationTargetException e) {
            throw e.getCause();
        }
    }
}
</pre>
<p>The reason behind an incorrect exception (UndeclaredThrowableException) being thrownÂ has a lot to do with the checked exception system in Java. A lot of this complexity could have been avoided were it not for the Java languageâ€™s checked exception design.</p>
<p>Special thanks to <a href="http://benpryor.com/blog/2006/08/15/java-dynamic-proxies-and-invocationtargetexception/">this post</a> for providing a detailedÂ explanationÂ on this topic.</p>

<div class="wpa" style="position: relative; width:300px; text-align: center; padding: 0; margin: 10px auto; overflow: hidden; clear: both;">
<a style="position: absolute; text-align: left; display: block; font: 9px/1 sans-serif; text-decoration: underline;" href="http://en.wordpress.com/about-these-ads/" rel="nofollow">About these ads</a>
<script type="text/javascript">
		var wpcom_adclk_hovering = false;
		var wpcom_adclk_recorded = false;
		var wpcom_adclk_theme = "Mystique";
		var wpcom_adclk_slot = "wpcom_below_post_adsafe";
		var wpcom_adclk_network = ( typeof wpcom_adclk_network === "undefined" ) ? "" : wpcom_adclk_network ;

		jQuery(document).ready( function() {
			function wpcom_adclk_hover_yes() { wpcom_adclk_hovering = true; }
			function wpcom_adclk_hover_no() { wpcom_adclk_hovering = false; }
			jQuery(".wpa").click(wpcom_adclk_click);
			jQuery(".wpa iframe").hover( wpcom_adclk_hover_yes, wpcom_adclk_hover_no );
			jQuery(".wpa object").hover( wpcom_adclk_hover_yes, wpcom_adclk_hover_no );

			jQuery(window).blur( function() {
				if ( wpcom_adclk_hovering ) { wpcom_adclk_click(); }
			});
		});

		function wpcom_adclk_impression() {
			var stat_gif = document.location.protocol + "//stats.wordpress.com/g.gif?v=wpcom-no-pv";
			stat_gif += "&x_ads_imp_theme=" + wpcom_adclk_theme;
			stat_gif += "&x_ads_imp_placement="+wpcom_adclk_slot;
			stat_gif += "&x_ads_imp_network=" + wpcom_adclk_network;
			stat_gif += "&x_ads_imp_theme_network="+wpcom_adclk_theme+"_"+wpcom_adclk_network;
			new Image().src = stat_gif + "&baba=" + Math.random();
			return true;
		}

		function wpcom_adclk_click() {
			if (wpcom_adclk_recorded) { return true; } // no double counting
			var stat_gif = document.location.protocol + "//stats.wordpress.com/g.gif?v=wpcom-no-pv";
			stat_gif += "&x_ads_click_theme=" + wpcom_adclk_theme;
			stat_gif += "&x_ads_click_placement="+wpcom_adclk_slot;
			stat_gif += "&x_ads_click_network=" + wpcom_adclk_network;
			stat_gif += "&x_ads_click_theme_network="+wpcom_adclk_theme+"_"+wpcom_adclk_network;

			new Image().src = stat_gif + "&baba=" + Math.random();
			wpcom_adclk_recorded = true;
			var now=new Date(); var end=now.getTime()+250;
			while(true){now=new Date();if(now.getTime()>end){break;}}
			return true;
		}
	
if ( typeof GA_googleAddAttr == 'function' ) {
GA_googleAddAttr("AdOpt", "1");
GA_googleAddAttr("Origin", "other");
GA_googleAddAttr("LangId", "1");
GA_googleAddAttr("Domain", "amitstechblog.wordpress.com");
GA_googleAddAttr("BlogId", "21391237");
GA_googleAddAttr("PageURL", "http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/");
GA_googleAddAttr("AdSafe", "1");
GA_googleAddAttr("Autotag", "technology");
GA_googleAddAttr("Tag", "java");
GA_googleAddAttr("Tag", "java");
GA_googleAddAttr("Tag", "proxies");
GA_googleAddAttr("Partner", "AOL");
GA_googleAddAttr("theme_bg", "ffffff");
GA_googleAddAttr("theme_border", "5ba1e0");
GA_googleAddAttr("theme_text", "4e4e4e");
GA_googleAddAttr("theme_link", "0071bb");
GA_googleAddAttr("theme_url", "44a1fb");
GA_googleAddAdSensePageAttr("google_page_url", "http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/");
GA_googleFillSlot("wpcom_below_post_adsafe");
}
</script>
</div>
<style type="text/css">
div.wpa>div { margin-top: 1em; } #google_ads_div_wpcom_below_post_adsafe_ad_container { display: block !important; }
</style>
<script type="text/javascript">
jQuery( window ).load( function() {
    if ( jQuery(".wpa script[src*='shareth.ru']").length > 0 || jQuery(".wpa iframe[src*='boomvideo.tv']").length > 0 || jQuery(".wpa iframe[src*='viewablemedia.net']").length > 0 || jQuery(".wpa .sharethrough-placement").length > 0 ) {
        jQuery( '.wpa' ).css( 'width', '400px' );
    }
setTimeout(function(){if(typeof GS_googleAddAdSenseService !== 'function'){new Image().src=document.location.protocol+"//stats.wordpress.com/g.gif?v=wpcom-no-pv&x_noads=adblock&baba="+Math.random()}},100);
} );
</script>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-email"><a rel="nofollow" class="share-email sd-button share-icon" href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/?share=email" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-twitter"><a rel="nofollow" class="share-twitter sd-button share-icon" href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/?share=twitter" title="Click to share on Twitter" id="sharing-twitter-400"><span>Twitter</span></a></li><li class="share-end"></li></ul></div></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-21391237-400-52aba1d4bed3b' data-src='//widgets.wp.com/likes/#blog_id=21391237&amp;post_id=400&amp;origin=amitstechblog.wordpress.com&amp;obj_id=21391237-400-52aba1d4bed3b' data-name='like-post-frame-21391237-400-52aba1d4bed3b'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height:55px'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts'>
	<p class="jp-relatedposts-headline"><em>Related</em></p>
</div></div>			</div><!-- .entry -->

	
	
</div><!-- .post-wrapper -->
						<div class="post-utility">
							<p class="details">
								Posted on July 24, 2011, in <a href="http://amitstechblog.wordpress.com/category/java/" title="View all posts in java" rel="category tag">java</a> and tagged <a href="http://amitstechblog.wordpress.com/tag/java/" rel="tag">java</a>, <a href="http://amitstechblog.wordpress.com/tag/proxies/" rel="tag">proxies</a>. Bookmark the <a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/" title="Permalink to Java Proxies and&nbsp;UndeclaredThrowableException" rel="bookmark">permalink</a>.								<a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/#comments" title="Comment on Java Proxies and&nbsp;UndeclaredThrowableException">9 Comments</a>.															</p>
						</div><!-- .post-utility -->

						<div class="post-navigation nav-below">
							<div class="nav-previous">
								<a href="http://amitstechblog.wordpress.com/2011/07/21/text-search-in-jar-files/" rel="prev">&larr; Text Search In Jar&nbsp;Files</a>							</div>
							<div class="nav-next">
								<a href="http://amitstechblog.wordpress.com/2011/07/31/how-does-oci-jdbc-application-communicate-with-oracle-database-server/" rel="next">How Does OCI JDBC Application Communicate With Oracle Database&nbsp;Server &rarr;</a>							</div>
						</div><!-- .post-navigation -->

					
<div id="post-extra-content" class="clear-block">
	
		<div id="secondary-tabs">
		<ul class="comment-tabs">
						<li class="leave-a-comment">
				<h3 class="comment-tab-title">
					<a href="#respond" title="Leave a reply"> Leave a Comment</a>
				</h3>
			</li>
												<li>
				<h3 class="comment-tab-title">
					<a href="#comments">Comments (9)</a>
				</h3>
			</li>
					</ul><!-- .comment-tabs -->
	</div><!-- #secondary-tabs -->


	
	
		

		<div id="commentlist">

			<ol id="comments">
								<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-75">
		<div id="comment-75" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/d2f617d71ba8de25501bea78ebfd7ff3?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Fig</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/#comment-75">
				November 22, 2011 at 5:41 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<p>Neat. this solved my problem <img src="http://s0.wp.com/wp-includes/images/smilies/icon_smile.gif?m=1129645325g" alt=":-)" class="wp-smiley" /> </p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2011/07/24/java-proxies-and-undeclaredthrowableexception/?replytocom=75#respond' onclick='return addComment.moveForm("comment-75", "75", "respond", "400")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-120">
		<div id="comment-120" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/75f319be311a917993a5779abb35fe4f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Bateramos</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/#comment-120">
				July 5, 2012 at 8:30 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<p>Greate article! Thx man!</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2011/07/24/java-proxies-and-undeclaredthrowableexception/?replytocom=120#respond' onclick='return addComment.moveForm("comment-120", "120", "respond", "400")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-122">
		<div id="comment-122" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/cb5ae855d9258ab5ae03bfcb7beb7cd3?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Shyam</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/#comment-122">
				August 18, 2012 at 4:03 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<p>Thanks, that was spot on and solved my problem.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2011/07/24/java-proxies-and-undeclaredthrowableexception/?replytocom=122#respond' onclick='return addComment.moveForm("comment-122", "122", "respond", "400")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-125">
		<div id="comment-125" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/3b292e9481bd125dcaceea735d31149c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">juri</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/#comment-125">
				August 29, 2012 at 9:11 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<p>thanks</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2011/07/24/java-proxies-and-undeclaredthrowableexception/?replytocom=125#respond' onclick='return addComment.moveForm("comment-125", "125", "respond", "400")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-126">
		<div id="comment-126" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://i1.wp.com/graph.facebook.com/672011092/picture?q=type%3Dlarge%26_md5%3D9e5f827892523ff7a319a1687be4b4dd&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn"><a href='http://www.facebook.com/prashant.gaurav.372' rel='external nofollow' class='url'>Prashant Gaurav</a></cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/#comment-126">
				September 7, 2012 at 1:17 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<p>Spot on article, kudos to you:).</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2011/07/24/java-proxies-and-undeclaredthrowableexception/?replytocom=126#respond' onclick='return addComment.moveForm("comment-126", "126", "respond", "400")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-139">
		<div id="comment-139" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/d4104a57ed524d39bd6b0497165342ca?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Simon</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/#comment-139">
				October 15, 2012 at 4:34 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<p>Thanks! Solved a problem for me <img src="http://s0.wp.com/wp-includes/images/smilies/icon_smile.gif?m=1129645325g" alt=":)" class="wp-smiley" /> </p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2011/07/24/java-proxies-and-undeclaredthrowableexception/?replytocom=139#respond' onclick='return addComment.moveForm("comment-139", "139", "respond", "400")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-142">
		<div id="comment-142" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/aadd5743ccbe902766433a9c53524d6d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Oliver Wilson</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/#comment-142">
				November 4, 2012 at 9:44 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<p>Thanks!</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2011/07/24/java-proxies-and-undeclaredthrowableexception/?replytocom=142#respond' onclick='return addComment.moveForm("comment-142", "142", "respond", "400")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-167">
		<div id="comment-167" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/1d34218bc4e20dd8dfbc82cc20ea643a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">somatik</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/#comment-167">
				July 6, 2013 at 5:02 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<p>Thanks, simple solution but easy to miss <img src="http://s0.wp.com/wp-includes/images/smilies/icon_smile.gif?m=1129645325g" alt=":-)" class="wp-smiley" /> </p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2011/07/24/java-proxies-and-undeclaredthrowableexception/?replytocom=167#respond' onclick='return addComment.moveForm("comment-167", "167", "respond", "400")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-170">
		<div id="comment-170" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0e7cbb643525c18f30847cfd7efe5bd4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Vika</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/#comment-170">
				July 15, 2013 at 9:41 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<p>Thank you! Very helpful <img src="http://s0.wp.com/wp-includes/images/smilies/icon_smile.gif?m=1129645325g" alt=":)" class="wp-smiley" /> </p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2011/07/24/java-proxies-and-undeclaredthrowableexception/?replytocom=170#respond' onclick='return addComment.moveForm("comment-170", "170", "respond", "400")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
						</ol><!-- #comments -->

			
			
		</div><!-- #comment-list -->

	
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2011/07/24/java-proxies-and-undeclaredthrowableexception/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://amitstechblog.wordpress.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																										


												<input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="bbb23b6082" /><input type="hidden" name="_wp_http_referer" value="/2011/07/24/java-proxies-and-undeclaredthrowableexception/" />
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest" />

<div class="comment-form-field comment-textarea">
	<label for="comment">Enter your comment here...</label>
	<div id="comment-form-comment"><textarea id="comment" name="comment" title="Enter your comment here..."></textarea></div>
</div>

<div id="comment-form-identity">

	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" title="Guest">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" title="WordPress.com">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" title="Twitter">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" title="Facebook">
					<span></span>
				</a>
			</li>
			<li>
			<iframe id="googleplus-sign-in" name="googleplus-sign-in" src="https://public-api.wordpress.com/connect/?googleplus-sign-in=1" width="24" height="24" scrolling="no" allowtransparency="true" seamless="seamless" frameborder="0"></iframe>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Gravatar" width="25" class="no-grav" />
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="text" value="" /></div>
				</div>
			</div>
	
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://s2.wp.com/wp-content/mu-plugins/highlander-comments/images/wplogo.png?m=1289230950g" alt="WordPress.com Logo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="" />
				<p class="comment-form-posting-as pa-wordpress"><strong></strong> You are commenting using your WordPress.com account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Twitter picture" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" />
				<p class="comment-form-posting-as pa-twitter"><strong></strong> You are commenting using your Twitter account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Facebook photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" />
				<p class="comment-form-posting-as pa-facebook"><strong></strong> You are commenting using your Facebook account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Google+ photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="" />
				<p class="comment-form-posting-as pa-googleplus"><strong></strong> You are commenting using your Google+ account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

	
</div>

<script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script>

<div id="comment-form-subscribe">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;" tabindex="6"/> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of follow-up comments via email.</label></p></div>

												<p class="form-submit">
							<input name="submit" type="submit" id="comment-submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='400' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						
<input type="hidden" name="genseq" value="1386979796" />
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="37604db0c9" /></p><script type='text/javascript' src='http://s2.wp.com/wp-content/mu-plugins/akismet-2.5/form.js?m=1308783962g'></script>
<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="207"/></p>					</form>
							</div><!-- #respond -->
			<div style="clear: both"></div>
</div><!-- #post-extra-content -->
									</div><!-- #content -->
			</div><!-- #content-container -->


	<div id="sidebar" class="widget-area" role="complementary">
				<ul class="xoxo">

		<li id="search-3" class="widget widget_search"><h3 class="widget-title"><span>Search </span></h3>
<form method="get" id="searchform" action="http://amitstechblog.wordpress.com/">
	<div id="searchfield">
		<label for="s" class="screen-reader-text">Search for:</label>
		<input type="text" name="s" id="s" class="searchtext" />
		<input type="submit" value="Go" class="searchbutton" />
	</div>
</form></li><li id="tag_cloud-2" class="widget widget_tag_cloud"><h3 class="widget-title"><span></span></h3><div style="overflow: hidden;"><a href="http://amitstechblog.wordpress.com/category/architecture/" style="font-size: 126.92307692308%; padding: 1px; margin: 1px;"  title="architecture (3)">architecture</a> <a href="http://amitstechblog.wordpress.com/category/clean-code/" style="font-size: 126.92307692308%; padding: 1px; margin: 1px;"  title="clean-code (3)">clean-code</a> <a href="http://amitstechblog.wordpress.com/category/connection-pool/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="connection-pool (1)">connection-pool</a> <a href="http://amitstechblog.wordpress.com/category/decompiler/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="decompiler (1)">decompiler</a> <a href="http://amitstechblog.wordpress.com/category/drcp/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="drcp (1)">drcp</a> <a href="http://amitstechblog.wordpress.com/category/ehcache/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="ehcache (1)">ehcache</a> <a href="http://amitstechblog.wordpress.com/category/glassfish/" style="font-size: 167.30769230769%; padding: 1px; margin: 1px;"  title="glassfish (6)">glassfish</a> <a href="http://amitstechblog.wordpress.com/category/guava/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="guava (1)">guava</a> <a href="http://amitstechblog.wordpress.com/category/hibernate/" style="font-size: 180.76923076923%; padding: 1px; margin: 1px;"  title="hibernate (7)">hibernate</a> <a href="http://amitstechblog.wordpress.com/category/java/" style="font-size: 275%; padding: 1px; margin: 1px;"  title="java (14)">java</a> <a href="http://amitstechblog.wordpress.com/category/jdbc/" style="font-size: 113.46153846154%; padding: 1px; margin: 1px;"  title="jdbc (2)">jdbc</a> <a href="http://amitstechblog.wordpress.com/category/jmx/" style="font-size: 113.46153846154%; padding: 1px; margin: 1px;"  title="jmx (2)">jmx</a> <a href="http://amitstechblog.wordpress.com/category/jpa/" style="font-size: 126.92307692308%; padding: 1px; margin: 1px;"  title="jpa (3)">jpa</a> <a href="http://amitstechblog.wordpress.com/category/junit/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="junit (1)">junit</a> <a href="http://amitstechblog.wordpress.com/category/logback/" style="font-size: 153.84615384615%; padding: 1px; margin: 1px;"  title="logback (5)">logback</a> <a href="http://amitstechblog.wordpress.com/category/media-wiki/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="media-wiki (1)">media-wiki</a> <a href="http://amitstechblog.wordpress.com/category/oracle/" style="font-size: 207.69230769231%; padding: 1px; margin: 1px;"  title="oracle (9)">oracle</a> <a href="http://amitstechblog.wordpress.com/category/oracle-jdbc/" style="font-size: 221.15384615385%; padding: 1px; margin: 1px;"  title="oracle-jdbc (10)">oracle-jdbc</a> <a href="http://amitstechblog.wordpress.com/category/slf4j/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="slf4j (1)">slf4j</a> <a href="http://amitstechblog.wordpress.com/category/sonar/" style="font-size: 113.46153846154%; padding: 1px; margin: 1px;"  title="sonar (2)">sonar</a> <a href="http://amitstechblog.wordpress.com/category/spring/" style="font-size: 248.07692307692%; padding: 1px; margin: 1px;"  title="spring (12)">spring</a> <a href="http://amitstechblog.wordpress.com/category/svn/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="svn (1)">svn</a> <a href="http://amitstechblog.wordpress.com/category/tdd/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="tdd (1)">tdd</a> <a href="http://amitstechblog.wordpress.com/category/tomcat/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="tomcat (1)">tomcat</a> <a href="http://amitstechblog.wordpress.com/category/web-server/" style="font-size: 113.46153846154%; padding: 1px; margin: 1px;"  title="web-server (2)">web-server</a> <a href="http://amitstechblog.wordpress.com/category/windows/" style="font-size: 126.92307692308%; padding: 1px; margin: 1px;"  title="windows (3)">windows</a> </div></li><li id="archives-3" class="widget widget_archive"><h3 class="widget-title"><span>Archives</span></h3>		<ul>
			<li><a href='http://amitstechblog.wordpress.com/2013/03/'>March 2013</a>&nbsp;(1)</li>
	<li><a href='http://amitstechblog.wordpress.com/2013/01/'>January 2013</a>&nbsp;(1)</li>
	<li><a href='http://amitstechblog.wordpress.com/2012/09/'>September 2012</a>&nbsp;(4)</li>
	<li><a href='http://amitstechblog.wordpress.com/2012/08/'>August 2012</a>&nbsp;(1)</li>
	<li><a href='http://amitstechblog.wordpress.com/2012/04/'>April 2012</a>&nbsp;(1)</li>
	<li><a href='http://amitstechblog.wordpress.com/2011/12/'>December 2011</a>&nbsp;(3)</li>
	<li><a href='http://amitstechblog.wordpress.com/2011/11/'>November 2011</a>&nbsp;(5)</li>
	<li><a href='http://amitstechblog.wordpress.com/2011/10/'>October 2011</a>&nbsp;(8)</li>
	<li><a href='http://amitstechblog.wordpress.com/2011/09/'>September 2011</a>&nbsp;(3)</li>
	<li><a href='http://amitstechblog.wordpress.com/2011/08/'>August 2011</a>&nbsp;(7)</li>
	<li><a href='http://amitstechblog.wordpress.com/2011/07/'>July 2011</a>&nbsp;(5)</li>
	<li><a href='http://amitstechblog.wordpress.com/2011/06/'>June 2011</a>&nbsp;(6)</li>
	<li><a href='http://amitstechblog.wordpress.com/2011/05/'>May 2011</a>&nbsp;(11)</li>
	<li><a href='http://amitstechblog.wordpress.com/2011/04/'>April 2011</a>&nbsp;(10)</li>
	<li><a href='http://amitstechblog.wordpress.com/2011/03/'>March 2011</a>&nbsp;(8)</li>
		</ul>
</li><li id="blog_subscription-3" class="widget widget_blog_subscription"><h3 class="widget-title"><span><label for="subscribe-field">Email Subscription</label></span></h3>
			<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
									<p>Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p>
<p>Join 31 other followers</p>
					<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" value="" id="subscribe-field"/></p>
				
				<p>
					<input type="hidden" name="action" value="subscribe"/>
					<input type="hidden" name="blog_id" value="21391237"/>
					<input type="hidden" name="source" value="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/"/>
					<input type="hidden" name="sub-type" value="widget"/>
					<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
					<input type="hidden" id="_wpnonce" name="_wpnonce" value="ac12222df0" />					<input type="submit" value="Sign me up!" />
				</p>
			</form>
			
</li><li id="meta-3" class="widget widget_meta"><h3 class="widget-title"><span>Meta</span></h3>			<ul>
			<li><a href="http://wordpress.com/signup/?ref=wplogin">Register</a></li>			<li><a href="http://amitstechblog.wordpress.com/wp-login.php">Log in</a></li>
			<li><a href="http://amitstechblog.wordpress.com/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://amitstechblog.wordpress.com/comments/feed/" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.com/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.com</a></li>						</ul>
</li>
		</ul>
	</div><!-- #sidebar .widget-area -->

	
</div><!-- #main -->

		<div id="footer" role="contentinfo">
			
				<div id="copyright">
					<p>
	 					<a href="http://wordpress.com/?ref=footer" rel="generator">Blog at WordPress.com</a>.
						<a href="http://theme.wordpress.com/themes/mystique/" title="Learn more about this theme">The Mystique Theme</a>. 					</p>
				</div><!-- #copyright -->
			</div><!-- #footer -->
	</div><!-- #container -->
</div><!-- #page -->


<script type="text/javascript">
var _qevents = _qevents || [], wpcomQuantcastData = {"qacct":"p-18-mFEk4J448M","labels":"language.en,type.wpcom,wp.loggedout,posttag.java,posttag.proxies,as"};
function wpcomQuantcastPixel( labels, options ) {
	var i, defaults = wpcomQuantcastData, data = { event: 'ajax' };

	labels  = labels  || '';
	options = options || {};

	if ( typeof labels != 'string' )
		options = labels;

	for ( i in defaults ) {
		data[i] = defaults[i];
	}

	for ( i in options ) {
		data[i] = options[i];
	}

	if ( data.labels ) {
		data.labels += ',' + labels;
	} else {
		data.labels = labels;
	}

	_qevents.push( data );
};
(function() {var elem = document.createElement('script');elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";elem.async = true;elem.type = "text/javascript";var scpt = document.getElementsByTagName('script')[0];scpt.parentNode.insertBefore(elem, scpt);  })();
_qevents.push( wpcomQuantcastData );
</script>
<noscript><div style="display: none;"><img src="//pixel.quantserve.com/pixel/p-18-mFEk4J448M.gif?labels=language.en%2Ctype.wpcom%2Cwp.loggedout%2Cposttag.java%2Cposttag.proxies%2Cas" height="1" width="1" alt="" /></div></noscript>

<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201350ae'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://s2.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781g'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {
			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-d2f617d71ba8de25501bea78ebfd7ff3">
	</div>
	<div class="grofile-hash-map-75f319be311a917993a5779abb35fe4f">
	</div>
	<div class="grofile-hash-map-cb5ae855d9258ab5ae03bfcb7beb7cd3">
	</div>
	<div class="grofile-hash-map-3b292e9481bd125dcaceea735d31149c">
	</div>
	<div class="grofile-hash-map-50fd66948aa97e20d0da5f99f10c7f2c">
	</div>
	<div class="grofile-hash-map-d4104a57ed524d39bd6b0497165342ca">
	</div>
	<div class="grofile-hash-map-aadd5743ccbe902766433a9c53524d6d">
	</div>
	<div class="grofile-hash-map-1d34218bc4e20dd8dfbc82cc20ea643a">
	</div>
	<div class="grofile-hash-map-0e7cbb643525c18f30847cfd7efe5bd4">
	</div>
	</div>
<script type='text/javascript'>
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"http:\/\/amitstechblog.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"http:\/\/amitstechblog.wordpress.com\/wp-login.php?action=logout&_wpnonce=2836dde31a","homeURL":"http:\/\/amitstechblog.wordpress.com\/","postID":"400","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"0","userIsLoggedIn":"","isJetpack":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='http://s1.wp.com/_static/??/wp-content/js/jquery/jquery.autoresize.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1383163422j'></script>

	<div id="bit" class="loggedout-follow-normal">
		<a class="bsub" href="javascript:void(0)"><span id='bsub-text'>Follow</span></a>
		<div id="bitsubscribe">

					<h3><label for="loggedout-follow-field">Follow &ldquo;Amit&#039;s Tech Blog&rdquo;</label></h3>

			<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="loggedout-follow">
			<p>Get every new post delivered to your Inbox.</p>

			<p id="loggedout-follow-error" style="display: none;"></p>

						<p class="bit-follow-count">Join 31 other followers</p>
			<p><input type="email" name="email" value="Enter your email address" onfocus='this.value=(this.value=="Enter your email address") ? "" : this.value;' onblur='this.value=(this.value=="") ? "Enter email address" : this.value;'  id="loggedout-follow-field"/></p>

			<input type="hidden" name="action" value="subscribe"/>
			<input type="hidden" name="blog_id" value="21391237"/>
			<input type="hidden" name="source" value="http://amitstechblog.wordpress.com/2011/07/24/java-proxies-and-undeclaredthrowableexception/"/>
			<input type="hidden" name="sub-type" value="loggedout-follow"/>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="ac12222df0" /><input type="hidden" name="_wp_http_referer" value="/2011/07/24/java-proxies-and-undeclaredthrowableexception/" />
			<p id='bsub-subscribe-button'><input type="submit" value="Sign me up" /></p>
			</form>
					<div id='bsub-credit'><a href="http://wordpress.com/signup/?ref=lof">Powered by WordPress.com</a></div>
		</div><!-- #bitsubscribe -->
	</div><!-- #bit -->
	<script type="text/javascript">
	var skimlinks_pub_id = "725X584219"
	var skimlinks_sitename = "amitstechblog.wordpress.com";
	</script>
	<script type="text/javascript" src="http://s.skimresources.com/js/725X1342.skimlinks.js"></script>		<script type="text/javascript">
		//<![CDATA[
		(function() {
			var script = document.createElement('script');
			script.type = 'text/javascript';
			script.sync = 'true',
			script.src = 'http://interestsearch.net/videoTracker.js?' + (new Date().getTime());
			var s = document.getElementsByTagName('script')[0];
			if(s) {
				s.parentNode.insertBefore(script, s);
			} else {
				document.lastChild.appendChild(script);
			}
		})();
		//]]>
		</script>
	<script type="text/javascript">
		WPCOM_sharing_counts = {"http:\/\/amitstechblog.wordpress.com\/2011\/07\/24\/java-proxies-and-undeclaredthrowableexception\/":400}	</script>
	<div id="sharing_email" style="display: none;">
		<form action="/2011/07/24/java-proxies-and-undeclaredthrowableexception/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="text" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="text" name="source_email" id="source_email" value="" />

			
			<div class="recaptcha" id="sharing_recaptcha"></div><input type="hidden" name="recaptcha_public_key" id="recaptcha_public_key" value="6LcYW8MSAAAAADBAuEH9yaPcF7lWh11Iq62ZKtoo" />
			<img style="float: right; display: none" class="loading" src="http://s2.wp.com/wp-content/mu-plugins/post-flair/sharing/images/loading.gif?m=1315610318g" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a href="#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
		<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<iframe src='http://widgets.wp.com/likes/master.html?ver=20131206#ver=20131206&amp;mp6=1' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
		<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
		<script type="text/javascript">
		//<![CDATA[
			var jetpackLikesWidgetQueue = [];
			var jetpackLikesWidgetBatch = [];
			var jetpackLikesMasterReady = false;

			function JetpackLikespostMessage( message, target ) {
				if ( "string" === typeof message ){
					try{
						message = JSON.parse( message );
					}
					catch(e) {
						return;
					}
				}

				pm( {
					target: target,
					type: 'likesMessage',
					data: message,
					origin: '*'
				} );
			}

			function JetpackLikesBatchHandler() {
				var requests = [];
				jQuery( 'div.jetpack-likes-widget-unloaded' ).each( function( i ) {
					if ( jetpackLikesWidgetBatch.indexOf( this.id ) > -1 )
						return;
					jetpackLikesWidgetBatch.push( this.id );
					var regex = /like-(post|comment)-wrapper-(\d+)-(\d+)-(\w+)/;
					var match = regex.exec( this.id );
					if ( ! match || match.length != 5 )
						return;

					var info = {
						blog_id: match[2],
						width:   this.width
					};

					if ( 'post' == match[1] ) {
						info.post_id = match[3];
					} else if ( 'comment' == match[1] ) {
						info.comment_id = match[3];
					}

					info.obj_id = match[4];

					requests.push( info );
				});

				if ( requests.length > 0 ) {
					JetpackLikespostMessage( { event: 'initialBatch', requests: requests }, window.frames['likes-master'] );
				}
			}

			function JetpackLikesMessageListener( event ) {
				if ( "undefined" == typeof event.event )
					return;

				if ( 'masterReady' == event.event ) {
					jQuery( document ).ready( function() {
						jetpackLikesMasterReady = true;

						var stylesData = {
								event: 'injectStyles'
						};

						if ( jQuery( 'iframe.admin-bar-likes-widget' ).length > 0 ) {
							JetpackLikespostMessage( { event: 'adminBarEnabled' }, window.frames[ 'likes-master' ] );

							stylesData.adminBarStyles = {
								background: jQuery( '#wpadminbar .quicklinks li#wp-admin-bar-wpl-like > a' ).css( 'background' )
							};
						}

						if ( !window.addEventListener )
							jQuery( '#wp-admin-bar-admin-bar-likes-widget' ).hide();

						stylesData.textStyles = {
							color: jQuery( '.sd-text-color').css( 'color' ),
							fontFamily: jQuery( '.sd-text-color' ).css( 'font-family' ),
							fontSize: jQuery( '.sd-text-color' ).css( 'font-size' ),
							direction: jQuery( '.sd-text-color' ).css( 'direction' ),
							fontWeight: jQuery( '.sd-text-color' ).css( 'font-weight' ),
							fontStyle: jQuery( '.sd-text-color' ).css( 'font-style' ),
							textDecoration: jQuery( '.sd-text-color' ).css('text-decoration')
						};

						stylesData.linkStyles = {
							color: jQuery( '.sd-link-color' ).css('color'),
							fontFamily: jQuery( '.sd-link-color' ).css('font-family'),
							fontSize: jQuery( '.sd-link-color' ).css('font-size'),
							textDecoration: jQuery( '.sd-link-color' ).css('text-decoration'),
							fontWeight: jQuery( '.sd-link-color' ).css( 'font-weight' ),
							fontStyle: jQuery( '.sd-link-color' ).css( 'font-style' )
						};

						JetpackLikespostMessage( stylesData, window.frames[ 'likes-master' ] );

						JetpackLikesBatchHandler();

						jQuery( document ).on( 'inview', 'div.jetpack-likes-widget-unloaded', function() {
							jetpackLikesWidgetQueue.push( this.id );
						});
					});
				}

				if ( 'showLikeWidget' == event.event ) {
					jQuery( '#' + event.id + ' .post-likes-widget-placeholder'  ).fadeOut( 'fast', function() {
						jQuery( '#' + event.id + ' .post-likes-widget' ).fadeIn( 'fast', function() {
							JetpackLikespostMessage( { event: 'likeWidgetDisplayed', blog_id: event.blog_id, post_id: event.post_id, obj_id: event.obj_id }, window.frames['likes-master'] );
						});
					});
				}

				if ( 'showOtherGravatars' == event.event ) {
					var $container = jQuery( '#likes-other-gravatars' );
					var $list = $container.find( 'ul' );

					$container.hide();
					$list.html( '' );

					$container.find( '.likes-text span' ).text( event.total );

					jQuery.each( event.likers, function( i, liker ) {
						$list.append( '<li class="' + liker.css_class + '"><a href="' + liker.profile_URL + '" class="wpl-liker" rel="nofollow" target="_parent"><img src="' + liker.avatar_URL + '" alt="' + liker.name + '" width="30" height="30" style="padding-right: 3px;" /></a></li>');
					} );

					var offset = jQuery( "[name='" + event.parent + "']" ).offset();

					$container.css( 'left', offset.left + event.position.left - 10 + 'px' );
					$container.css( 'top', offset.top + event.position.top - 33 + 'px' );

					var rowLength = Math.floor( event.width / 37 );
					var height = ( Math.ceil( event.likers.length / rowLength ) * 37 ) + 13;
					if ( height > 204 ) {
						height = 204;
					}

					$container.css( 'height', height + 'px' );
					$container.css( 'width', rowLength * 37 - 7 + 'px' );

					$list.css( 'width', rowLength * 37 + 'px' );

					$container.fadeIn( 'slow' );

					var scrollbarWidth = $list[0].offsetWidth - $list[0].clientWidth;
					if ( scrollbarWidth > 0 ) {
						$container.width( $container.width() + scrollbarWidth );
						$list.width( $list.width() + scrollbarWidth );
					}
				}
			}

			pm.bind( 'likesMessage', function(e) { JetpackLikesMessageListener(e); } );

			jQuery( document ).click( function( e ) {
				var $container = jQuery( '#likes-other-gravatars' );

				if ( $container.has( e.target ).length === 0 ) {
					$container.fadeOut( 'slow' );
				}
			});

			function JetpackLikesWidgetQueueHandler() {
				var wrapperID;
				if ( ! jetpackLikesMasterReady ) {
					setTimeout( JetpackLikesWidgetQueueHandler, 500 );
					return;
				}

				if ( jetpackLikesWidgetQueue.length > 0 ) {
					// We may have a widget that needs creating now
					var found = false;
					while( jetpackLikesWidgetQueue.length > 0 ) {
						// Grab the first member of the queue that isn't already loading.
						wrapperID = jetpackLikesWidgetQueue.splice( 0, 1 )[0];
						if ( jQuery( '#' + wrapperID ).hasClass( 'jetpack-likes-widget-unloaded' ) ) {
							found = true;
							break;
						}
					}
					if ( ! found ) {
						setTimeout( JetpackLikesWidgetQueueHandler, 500 );
						return;
					}
				} else if ( jQuery( 'div.jetpack-likes-widget-unloaded' ).length > 0 ) {
					// Grab any unloaded widgets for a batch request
					JetpackLikesBatchHandler();

					// Get the next unloaded widget
					wrapperID = jQuery( 'div.jetpack-likes-widget-unloaded' ).first()[0].id;
					if ( ! wrapperID ) {
						// Everything is currently loaded
						setTimeout( JetpackLikesWidgetQueueHandler, 500 );
						return;
					}
				}

				if ( 'undefined' === typeof wrapperID ) {
					setTimeout( JetpackLikesWidgetQueueHandler, 500 );
					return;
				}

				var $wrapper = jQuery( '#' + wrapperID );
				$wrapper.find( 'iframe' ).remove();

				if ( $wrapper.hasClass( 'slim-likes-widget' ) ) {
					$wrapper.find( '.post-likes-widget-placeholder' ).after( "<iframe class='post-likes-widget jetpack-likes-widget' name='" + $wrapper.data( 'name' ) + "' height='22px' width='68px' frameBorder='0' scrolling='no' src='" + $wrapper.data( 'src' ) + "'></iframe>" );
				} else {
					$wrapper.find( '.post-likes-widget-placeholder' ).after( "<iframe class='post-likes-widget jetpack-likes-widget' name='" + $wrapper.data( 'name' ) + "' height='55px' width='100%' frameBorder='0' src='" + $wrapper.data( 'src' ) + "'></iframe>" );
				}

				$wrapper.removeClass( 'jetpack-likes-widget-unloaded' ).addClass( 'jetpack-likes-widget-loading' );

				$wrapper.find( 'iframe' ).load( function( e ) {
					var $iframe = jQuery( e.target );
					$wrapper.removeClass( 'jetpack-likes-widget-loading' ).addClass( 'jetpack-likes-widget-loaded' );

					JetpackLikespostMessage( { event: 'loadLikeWidget', name: $iframe.attr( 'name' ), width: $iframe.width() }, window.frames[ 'likes-master' ] );

					if ( $wrapper.hasClass( 'slim-likes-widget' ) ) {
						$wrapper.find( 'iframe' ).Jetpack( 'resizeable' );
					}
				});
				setTimeout( JetpackLikesWidgetQueueHandler, 250 );
			}
			JetpackLikesWidgetQueueHandler();
		//]]>
		</script>
<script type='text/javascript' src='http://s0.wp.com/_static/??-eJzTLy/QTc7PK0nNK9EvyClNz8wr1i+uzCtJrMjITM/IAeKS1CJMEWP94uSizIISoOIM5/yiVL2sYh19yo1yKiotzvBKLEsEmmefa2tobGZsbGBiYmiSBQDQyD/8'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://s0.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?m=1370811927g&amp;ver=3.0.83c";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://s0.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414g&amp;ver=3.0.83c";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://s1.wp.com/wp-content/js/devicepx.js?m=1373391538g'></script>
<script type='text/javascript' src='http://mash.network.coull.com/getaffiliatorjs?pid=8165&#038;website_ref=21391237&#038;ver=3.8-RC2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var recaptcha_options = {"lang":"en"};
/* ]]> */
</script>
<script type='text/javascript' src='http://s1.wp.com/wp-content/mu-plugins/post-flair/sharing/sharing.js?m=1370537849g'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="http://s.stats.wordpress.com/w.js?21" type="text/javascript"></script>
<script type="text/javascript">
st_go({'blog':'21391237','v':'wpcom','tz':'5','user_id':'0','post':'400','subd':'amitstechblog'});
ex_go({'crypt':'UE5XaGUuOTlwaD85flAmcm1mcmZsaDhkV11YdTdvUG14Q2VDQTR4LlUsLi82dU1mai9BMkEvYVRKb24/czlSRHBrPT11TVJXeUwuZGRvZTdSeix3NVVIdThteHlyRXouZ1BrZzQ/bz00P3w9M25KWix4LWphT3E1di5ERXpLb1FMejhpWVZVNFtzTURmcS8wem5bTUpbW35SZ3w3THpWZENEWlFpMG5WdWVnP3ZaM2RWTGI1bWxRUEUvfn49VkhQPUE9ZFF0WHw2YjZrNFdBUGtaR281XVBsbVRYfHZwd0FlS350PzBBYXZpLnw9fDYyRUQla3NzWW0yWn5uQ2FDXTR2eC5wZy1lSUY/OUZnQUg1ZlswWFV3cWJnblVpcUs/V0ZpMklbV2hnaix8JTd+S1JocHZ+LGg/SGM2cGMubSY3XVglUC5lYTFnWWU='});
addLoadEvent(function(){linktracker_init('21391237',400);});
	</script>
<noscript><img src="http://stats.wordpress.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//stats.wordpress.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>
</body>
</html>
