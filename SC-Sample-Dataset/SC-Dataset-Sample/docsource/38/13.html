




























<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>[#JDBC-314] Error when setting connection charset equals &quot;file.encoding&quot; java property - Firebird RDBMS Issue Tracker </title>

    <meta content="issuesummary" name="decorator" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

    <link rel="shortcut icon" href="/s/360/1/_/favicon.ico">
    <link rel="icon" type="image/png" href="/s/360/1/_/images/icons/favicon.png">
	




<link rel="stylesheet" type="text/css" media="print" href="/s/360/1/_/styles/combined-printable.css">
<link type="text/css" rel="StyleSheet" media="all" href="/s/360/1/_/styles/combined.css"/>
<link type="text/css" rel="StyleSheet" media="all" href="/s/360/1/7/_/styles/global.css"/>

    <script language="JavaScript" type="text/javascript" src="/s/360/1/_/includes/js/combined-javascript.js"></script>

<script type="text/javascript" src="/s/360/1/1.0/_/download/resources/jira.webresources:yui/yahoo-dom-event-min.js" ></script>
<script type="text/javascript" src="/s/360/1/1.0/_/download/resources/jira.webresources:yui-container/connection.js" ></script>
<script type="text/javascript" src="/s/360/1/1.0/_/download/resources/jira.webresources:yui-container/container.js" ></script>
<link type="text/css" rel="stylesheet" href="/s/360/1/1.0/_/download/resources/jira.webresources:yui-container/container.css" media="all"/>
<script type="text/javascript" src="/s/360/1/1.0/_/download/resources/jira.webresources:json/json.js" ></script>
<script type="text/javascript" src="/s/360/1/1.0/_/download/resources/jira.webresources:jira-menubutton/menubutton-widget.js" ></script>
<link type="text/css" rel="stylesheet" href="/s/360/1/1.0/_/download/resources/jira.webresources:jira-menubutton/menubutton-widget.css" media="all"/>

</head>

















<body bgcolor="#f0f0f0" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" link="#003366" vlink="#003366" alink="#660000">


<div id="header">
    <div id="header-top">
            <a id="logo" href="/secure/Dashboard.jspa">
                            <img class="logo" src="/s/360/1/_/images/fb_tracker_logo.gif" width="389" height="96" border="0" alt="Firebird RDBMS Issue Tracker">
                        </a>
            
            <ul id="account-options">
                <li>
                                    <a class="dropdownmenu" id="user_history" title="View and open your recently viewed issues" href="/secure/RecentIssueHistory.jspa" onClick="return false;"><span>History</span></a>
                <script type="text/javascript">
                    YAHOO.util.Event.addListener(window, 'load', function() { new jira.widget.MenuButton('user_history','/secure/RecentIssueHistory.jspa', '')});
                </script>
                            </li>
            <li>
                    <a rel="nofollow" href="/login.jsp?os_destination=%2Fbrowse%2FJDBC-314">Log In</a>
                </li>
                <li class="icon">
                    <a rel="nofollow" href="http://tracker.firebirdsql.org/browse/JDBC-314?decorator=printable" ><img src="/images/icons/print.gif" width="16" height="16" align="absmiddle" border="0" alt="View a printable version of the current page." title="View a printable version of the current page."></a>
                </li>
            <li class="icon">
                    
                    <a class="helpLink" href="http://www.atlassian.com/software/jira/docs/v3.13/index.html?clicked=jirahelp" target="_jirahelp">
    
        <img src="/images/icons/help_blue.gif" width="16" height="16" align="absmiddle"
            title="Get online help about Using and setting up JIRA"
        /></a>

                </li>
    </ul>

            
    </div>
    <div id="menu">
        
        <ul id="main-nav">
        <li>
        <a href="/secure/Dashboard.jspa"
                         id="home_link"             title="A configurable overview of JIRA"             accessKey="h"            ><u>h</u>ome</a>
    </li>
        <li>
        <a href="/secure/BrowseProject.jspa"
                         id="browse_link"             title="Browse currently active project 'Jaybird JCA/JDBC Driver'"             accessKey="b"            ><u>b</u>rowse project</a>
    </li>
        <li>
        <a href="/secure/IssueNavigator.jspa"
                         id="find_link"             title="Find issues in the projects you have permissions to view"             accessKey="f"            ><u>f</u>ind issues</a>
    </li>
    </ul>

        

                <form id="quicksearch" action="/secure/QuickSearch.jspa" method="post">
            <label onclick="quickSearchTextBoxSetFocus();" onmouseover="showToolTip()" onmouseout="hideToolTip()">&nbsp; &nbsp;<u>Q</u>uick Search:</label>
            <input id="quickSearchInput" class="quickSearchInput" title="Go directly to an issue by typing a valid issue key, or run a free-text search." type="text" size="25" name="searchString" accessKey="q"  valign="absmiddle" />
        </form>
        <div onmouseover="recordInTip()" onmouseout="recordOutTip()" id="quicksearchhelp" class="informationBox"
             style="display: none; text-align: center; width: 20em; position: absolute; top: 55px; right: 10px; padding: 0.5em;">
                        Learn more about <a href='http://www.atlassian.com/software/jira/docs/v3.13/quicksearch.html?clicked=jirahelp' target='_jirahelp'>Quick Search</a>
        </div>
            </div>
</div>


<!--This should always be included as it is not part of a themable plugin, instead it is core functionality-->





<table cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
        <td width="200" bgcolor="#f0f0f0" valign="top">
            <table cellpadding="0" cellspacing="0" border="0" width="200">
<tr><td>
        <table cellpadding="3" cellspacing="0" border="0" width="100%">
    <tr><td bgcolor="dddddd">
        <span style="float:left"><b>Issue Details</b></span>
        <span class="small" style="float:right">
                                        (<a rel="nofollow" class="small" href="/si/jira.issueviews:issue-xml/JDBC-314/JDBC-314.xml">XML</a> | <a rel="nofollow" class="small" href="/si/jira.issueviews:issue-word/JDBC-314/JDBC-314.doc">Word</a> | <a rel="nofollow" class="small" href="/si/jira.issueviews:issue-html/JDBC-314/JDBC-314.html">Printable</a>)
                    </span>
    </td></tr>
    </table>
                        <img src="/images/bluepixel.gif" width="100%" height="1" border="0" alt=""><br>
                <table id="issuedetails" cellpadding="3" cellspacing="0" border="0">
            <tr>
                <td valign="top"><b>Key:</b></td>
                <td valign="top">
                    <b><a id="issue_key_JDBC-314" href="/browse/JDBC-314">JDBC-314</a></b>
                </td>
            </tr>

            <tr>
                <td valign="top"><b>Type:</b></td>
                <td valign="top">
                                                                <img src="/images/icons/bug.gif" height="16" width="16" border="0" align="absmiddle" alt="Bug" title="Bug - A problem which impairs or prevents the functions of the product.">
             Bug
                </td>
            </tr>

            <tr>
                <td valign="top"><b>Status:</b></td>
                <td valign="top">
                                                                <img src="/images/icons/status_closed.gif" height="16" width="16" border="0" align="absmiddle" alt="Closed" title="Closed - The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">
             Closed
                </td>
            </tr>

                        <tr>
                <td valign="top"><b>Resolution:</b></td>
                <td valign="top">
                                             Fixed
                </td>
            </tr>
            
                        <tr>
                <td valign="top"><b>Priority:</b></td>
                <td valign="top">
                                                                <img src="/images/icons/priority_major.gif" height="16" width="16" border="0" align="absmiddle" alt="Major" title="Major - Major loss of function.">
             Major
                </td>
            </tr>
            

                        <tr>
                <td valign="top"><b>Assignee:</b></td>
                <td valign="top">
                            <a id="issue_summary_assignee_avalanche1979" href="/secure/ViewProfile.jspa?name=avalanche1979">Mark Rotteveel</a>
                </td>
            </tr>
            
                        <tr>
                <td valign="top"><b>Reporter:</b></td>
                <td valign="top">
                            <a id="issue_summary_reporter_wasp" href="/secure/ViewProfile.jspa?name=wasp">Orlov Sergey</a>
                </td>
            </tr>
            
                        <tr>
                <td valign="top"><b>Votes:</b></td>
                <td valign="top">
                                                                        0
                                                            </td>
            </tr>
            
                        <tr>
                <td valign="top"><b>Watchers:</b></td>
                <td valign="top">
                                                                                    0
                                    </td>
            </tr>
                    </table>
        
        
                <div class="operations">
        <table cellpadding="3" cellspacing="0" border="0" width="100%">
        <tr><td bgcolor="dddddd">
            <b>Operations</b>
        </td></tr>
        </table>
        <img src="/images/bluepixel.gif" width="100%" height="1" border="0" alt=""><br>
        <table cellpadding="3" cellspacing="0" border="0" id="operationsSection">
                    <tr><td class="issueOperation lazyOperation">
                If you were <a rel="nofollow" href="/login.jsp?os_destination=%2Fbrowse%2FJDBC-314">logged in</a> you would be able to see more operations.
            </td></tr>
                </table>
        </div>
            </td></tr>
</table>
        </td>
        <td bgcolor="#ffffff" valign="top">
            <div style="padding:10px 10px 10px 10px" id="issueContent">
                <style type="text/css">
<!--
.fieldArea .fieldLabelArea { width: 10%; }
.fieldArea .fieldValueArea { width: 90%; }
#pinCommentContainer { float: right; font-size: 10px; }
#pinCommentContainer a { margin: 0 0.2em; }
-->
</style>


















<table cellpadding="1" cellspacing="0" border="0" bgcolor="#bbbbbb" width="100%" align="center">
<tr><td width="100%" colspan="2" valign="top">
<table id="issue_header" cellpadding="4" cellspacing="0" border="0" width="100%" bgcolor="#ffffff">
<tr>
    <td bgcolor="#f0f0f0" width="100%" colspan="2" valign="top">
    <table width="100%" cellpadding="0" cellspacing="0">
        <tr><td bgcolor="#f0f0f0" width="80%" valign="top">
            <b><a href="/browse/JDBC">
                Jaybird JCA/JDBC Driver</a></b><br>

            

            <h3 class="formtitle"><img src="/images/icons/link_out_bot.gif" width="16" height="16"
                              border="0" alt="" /> Error when setting connection charset equals &quot;file.encoding&quot; java property</h3>
            <font size="1">
                Created: <span class="date">12/Jul/13 08:53 PM</span> &nbsp;
                Updated: <span class="date">Sunday 09:47 PM</span>

                
                    
                
            </font>
        </td>
            
            
        </tr></table>
</tr>


    
        <tr>
            <td width="20%"><b>Component/s:</b></td>
            <td width="80%">
                
                    


    
        <a href="/browse/JDBC/component/10053" title="JDBC driver Main part responsible for the JDBC 3.0 specification implementation">JDBC driver</a>
    



                
            </td>
        </tr>
    

    
        <tr>
            <td width="20%"><b>Affects Version/s:</b></td>
            <td width="80%">
                
                    


    
        Jaybird 2.2.3
    



                
            </td>
        </tr>
    

    
        <tr>
            <td width="20%"><b>Fix Version/s:</b></td>
            <td width="80%">
                
                    


    
        <a href="/browse/JDBC/fixforversion/10531" title="Jaybird 2.2.4 Bugfix release for Jaybird 2.2.x">Jaybird 2.2.4</a>, 
    
        <a href="/browse/JDBC/fixforversion/10440" title="Jaybird 3.0 Post 2.2 version to include additional features for Firebird 2.5 and wire protocol improvements">Jaybird 3.0</a>
    



                
            </td>
        </tr>
    
    
    
        
        
            
        
    
    

</table>
</td></tr></table>




    
        


<br/>
<table width="100%" cellpadding="0" cellspacing="0">
    <tr>
        <td>
            <table cellpadding="4" cellspacing="1" class="tt_outer">
                <tr>
                    <td id="tt_heading" class="tt_heading" style="line-height:150%;">
                        Time Tracking:
                        
                    </td>
                    <td class="tt_infoarea">
                        
                        
                            


<table id="tt_single_table_info" class="tt_inner">
    
        <tr>
            <td>
                Not Specified
            </td>
        </tr>
    
    
</table>


                        
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>



    
    
        <br>
        <table cellpadding="0" cellspacing="0" border="0" bgcolor="#bbbbbb" WIDTH="100%" align="center"><tr><td>
        <table cellpadding="4" cellspacing="1" border="0" width="100%" bgcolor="#bbbbbb" id="issueDetailsTable">

        






	<tr>
		<td bgcolor="#f0f0f0" width="20%" valign="top">
            
            
                <b>File Attachments:</b>
            
        </td>
		<td id="file_attachments" bgcolor="#ffffff" valign="top">
			
                
                
                    
                    
                    1.
    					<a href="/secure/attachment/12344/setCharSet.patch"><img src="/images/icons/attach/text.gif" height=16 width=16 border=0 vspace=1 align=absmiddle alt="Text File">
</a>
	    				<a href="/secure/attachment/12344/setCharSet.patch" title="Latest 12/Jul/13 09:24 PM - Orlov Sergey">setCharSet.patch</a> <font size="-2">(0.8 kB)</font><br/>
                    
				
				<br/>
			
			

		</td>
	</tr>

    

    



        

        



        




        </table>
        </td></tr></table>
    


<br>




























<br>

<div id="description-open">
<table cellpadding="2" cellspacing="0" border="0" width="100%" align="center">
<tr>
	<td bgcolor="#bbbbbb" width="1%" nowrap align="center">
			&nbsp;<font color="#ffffff"><b>Description</b></font>&nbsp;
	</td>
    <td align="right"><a id="description-hide" href="" onClick="toggleDivsWithCookie('description-closed', 'description-open'); return false;" class="smallgrey">&laquo; Hide</a></td>
</tr>
</table>

<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr>
	<td id="descriptionArea">
        <div id="description_full">
            Exception in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.FBStatementFactory.createPreparedStatement(FBStatementFactory.java:101)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractConnection.prepareStatement(AbstractConnection.java:1187)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractConnection.prepareStatement(AbstractConnection.java:942)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractConnection.prepareStatement(AbstractConnection.java:896)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at Main.main(Main.java:16)
<br/>
Caused by: java.lang.RuntimeException: Cannot get the value for this argument type as a string
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.gds.impl.wire.ParameterBufferBase$Argument.getValueAsString(ParameterBufferBase.java:185)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.gds.impl.wire.ParameterBufferBase.getArgumentAsString(ParameterBufferBase.java:64)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.gds.impl.GDSHelper.prepareStatement(GDSHelper.java:177)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractStatement.prepareFixedStatement(AbstractStatement.java:1441)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractPreparedStatement.prepareFixedStatement(AbstractPreparedStatement.java:1282)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractPreparedStatement.&lt;init&gt;(AbstractPreparedStatement.java:138)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.FBPreparedStatement.&lt;init&gt;(FBPreparedStatement.java:45)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.FBStatementFactory.createPreparedStatement(FBStatementFactory.java:89)
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... 4 more
<br/>

<br/>
Sample code:
<br/>

<br/>
public class Main {
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public static void main(String [] args) throws SQLException {
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FBSimpleDataSource ds = new FBSimpleDataSource();
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ds.setDatabase(&quot;localhost:w:/progs/firebird/2.5.2.26539/examples/empbuild/EMPLOYEE.FDB&quot;);
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ds.setUserName(&quot;SYSDBA&quot;);
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ds.setPassword(&quot;masterkey&quot;);
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ds.setCharSet(&quot;cp1251&quot;);
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connection con = ds.getConnection();
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PreparedStatement sql = con.prepareStatement(&quot;select EMP_NO From Employee&quot;, 0, ResultSet.TYPE_SCROLL_INSENSITIVE);
<br/>
}
<br/>
java -Dfile.encoding=cp1251 -cp jaybird-full-2.2.3.jar;. Main
<br/>

<br/>
<br />
        </div>
    </td>
</tr>
</table>
</div>

<div id="description-closed" style="display:none;">
<table cellpadding="2" cellspacing="0" border="0" width="100%" align="center" class="table-layout: fixed;">
<tr>
	<td bgcolor="#bbbbbb" width="1%" nowrap align="center">
			&nbsp;<font color="#ffffff"><b>Description</b></font>&nbsp;
	</td>
    <td style="padding: 1px; margin: 0px; border-bottom: #bbb 1px solid;"><div style="height: 1.2em; overflow: hidden; text-overflow: ellipsis;">&nbsp; &nbsp;Exception in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.FBStatementFactory.createPreparedStatement(FBStatementFactory.java:101)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractConnection.prepareStatement(AbstractConnection.java:1187)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractConnection.prepareStatement(AbstractConnection.java:942)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractConnection.prepareStatement(AbstractConnection.java:896)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at Main.main(Main.java:16)
Caused by: java.lang.RuntimeException: Cannot get the value for this argument type as a string
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.gds.impl.wire.ParameterBufferBase$Argument.getValueAsString(ParameterBufferBase.java:185)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.gds.impl.wire.ParameterBufferBase.getArgumentAsString(ParameterBufferBase.java:64)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.gds.impl.GDSHelper.prepareStatement(GDSHelper.java:177)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractStatement.prepareFixedStatement(AbstractStatement.java:1441)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractPreparedStatement.prepareFixedStatement(AbstractPreparedStatement.java:1282)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.AbstractPreparedStatement.&lt;init&gt;(AbstractPreparedStatement.java:138)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.FBPreparedStatement.&lt;init&gt;(FBPreparedStatement.java:45)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at org.firebirdsql.jdbc.FBStatementFactory.createPreparedStatement(FBStatementFactory.java:89)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... 4 more

Sample code:

public class Main {
&nbsp;&nbsp;&nbsp;&nbsp;public static void main(String [] args) throws SQLException {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FBSimpleDataSource ds = new FBSimpleDataSource();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ds.setDatabase(&quot;localhost:w:/progs/firebird/2.5.2.26539/examples/empbuild/EMPLOYEE.FDB&quot;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ds.setUserName(&quot;SYSDBA&quot;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ds.setPassword(&quot;masterkey&quot;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ds.setCharSet(&quot;cp1251&quot;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connection con = ds.getConnection();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PreparedStatement sql = con.prepareStatement(&quot;select EMP_NO From Employee&quot;, 0, ResultSet.TYPE_SCROLL_INSENSITIVE);
}
java -Dfile.encoding=cp1251 -cp jaybird-full-2.2.3.jar;. Main

</div></td>
    <td width="1%" align="right" nowrap style="padding: 1px; margin: 0px; border-bottom: #bbb 1px solid;"><a id="description-show" href="" onClick="toggleDivsWithCookie('description-open', 'description-closed'); return false;" class="smallgrey">Show &raquo;</a></td>
</tr>
</table>
</div>

<script language="JavaScript" type="text/javascript">
<!--
    restoreDivFromCookie('description-open', 'jira.viewissue.cong.cookie', '1');
    restoreDivFromCookie('description-closed', 'jira.viewissue.cong.cookie', '0');
//-->
</script>














<br>




<table cellpadding="2" cellspacing="0" border="0" width="100%" align="center">
<tr>
	
        
        
            <td width="1%" nowrap align="center">
                &nbsp;<b><a href="/browse/JDBC-314?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel">All</a></b>&nbsp;
            </td>
        
    
        
            <td bgcolor="#bbbbbb" width="1%" nowrap align="center">
                &nbsp;<font color="#ffffff"><b>Comments</b></font>&nbsp;
            </td>
        
        
    
        
        
            <td width="1%" nowrap align="center">
                &nbsp;<b><a href="/browse/JDBC-314?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aworklog-tabpanel">Work Log</a></b>&nbsp;
            </td>
        
    
        
        
            <td width="1%" nowrap align="center">
                &nbsp;<b><a href="/browse/JDBC-314?page=com.atlassian.jira.plugin.system.issuetabpanels%3Achangehistory-tabpanel">Change History</a></b>&nbsp;
            </td>
        
    
        
        
            <td width="1%" nowrap align="center">
                &nbsp;<b><a href="/browse/JDBC-314?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acvs-tabpanel">Version Control</a></b>&nbsp;
            </td>
        
    
        
        
            <td width="1%" nowrap align="center">
                &nbsp;<b><a href="/browse/JDBC-314?page=com.atlassian.jira.plugin.ext.subversion%3Asubversion-commits-tabpanel">Subversion Commits</a></b>&nbsp;
            </td>
        
    

	<td>&nbsp;</td>
    <td width="1%" bgcolor="#e5e5e5" nowrap>
        &nbsp;
        Sort Order:
        
            <a rel="nofollow" href="/browse/JDBC-314?actionOrder=desc"><img src="/images/icons/arrow_down_blue_small.gif" class="sortArrow" alt="Ascending order - Click to sort in descending order" title="Ascending order - Click to sort in descending order" border="0" /></a>
        
        
    </td>
</tr>
</table>


    <div class="issuePanelContainer" id="issue_actions_container">
    
        
            
            <div id="comment-26892-open">
<div class="actionContainer">
    <div class="action-links subText smallgrey">
    [
        <a href="/browse/JDBC-314?focusedCommentId=26892&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_26892" title="A permanent link to this comment." class="smallgrey">Permalink</a>
                      | <a id="comment-26892-hide" href="" onClick="toggleDivsWithCookie('comment-26892-closed', 'comment-26892-open'); return false;" class="smallgrey">&laquo; Hide</a>
    ]
    </div>
    <div class="action-details">    <a name="action_26892" />
    
    
    
                <a id="comment_26892_header_wasp" href="/secure/ViewProfile.jspa?name=wasp">Orlov Sergey</a> added a comment  - <span class=subText><span class=date>12/Jul/13 09:24 PM</span></span>  </div>
    <div class="action-body">EncodingFactory.getJavaEncodingForAlias(charSet) can return null.
<br/>
When null are in connection properties org.firebirdsql.gds.impl.wire.ParameterBufferBase$Argument.getValueAsString raise appropriate exception   </div>
</div>
</div>


<div id="comment-26892-closed" style="display: none;">
<div class="actionContainer" style="background-color:#f0f0f0;">
    <div class="action-links subText smallgrey">
    [ <a id="comment-26892-show" href="" onClick="toggleDivsWithCookie('comment-26892-open', 'comment-26892-closed'); return false;" class="smallgrey">Show &raquo;</a> ]
    </div>
    <div class="action-details" style="overflow: hidden; height: 1em;">
                <a name="action_26892" />
    
    
    
                <a id="comment_26892_header_wasp" href="/secure/ViewProfile.jspa?name=wasp">Orlov Sergey</a> added a comment  - <span class=subText><span class=date>12/Jul/13 09:24 PM</span></span>               EncodingFactory.getJavaEncodingForAlias(charSet) can return null.
When null are in connection properties org.firebirdsql.gds.impl.wire.ParameterBufferBase$Argument.getValueAsString raise appropriate exception       </div>
</div>
</div>
<br clear="all" />
<script language="JavaScript" type="text/javascript">
<!--
    restoreDivFromCookie('comment-26892-open', 'jira.viewissue.cong.cookie', '1');
    restoreDivFromCookie('comment-26892-closed', 'jira.viewissue.cong.cookie', '0');
//-->
</script>

            
        
            
            <div id="comment-26893-open">
<div class="actionContainer">
    <div class="action-links subText smallgrey">
    [
        <a href="/browse/JDBC-314?focusedCommentId=26893&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_26893" title="A permanent link to this comment." class="smallgrey">Permalink</a>
                      | <a id="comment-26893-hide" href="" onClick="toggleDivsWithCookie('comment-26893-closed', 'comment-26893-open'); return false;" class="smallgrey">&laquo; Hide</a>
    ]
    </div>
    <div class="action-details">    <a name="action_26893" />
    
                                                
    
                <a id="comment_26893_header_avalanche1979" href="/secure/ViewProfile.jspa?name=avalanche1979">Mark Rotteveel</a> added a comment  - <span class=subText><span class=date>13/Jul/13 09:11 AM</span></span>   - <span class="redText subText" title="Mark Rotteveel - 13/Jul/13 09:21 AM">edited</span> </div>
    <div class="action-body">Thanks for the report. I will use a slightly different solution than your patch, as we actually need the original (or any) charSet name for the second part of the setter. </div>
</div>
</div>


<div id="comment-26893-closed" style="display: none;">
<div class="actionContainer" style="background-color:#f0f0f0;">
    <div class="action-links subText smallgrey">
    [ <a id="comment-26893-show" href="" onClick="toggleDivsWithCookie('comment-26893-open', 'comment-26893-closed'); return false;" class="smallgrey">Show &raquo;</a> ]
    </div>
    <div class="action-details" style="overflow: hidden; height: 1em;">
                <a name="action_26893" />
    
                                                
    
                <a id="comment_26893_header_avalanche1979" href="/secure/ViewProfile.jspa?name=avalanche1979">Mark Rotteveel</a> added a comment  - <span class=subText><span class=date>13/Jul/13 09:11 AM</span></span>   - <span class="redText subText" title="Mark Rotteveel - 13/Jul/13 09:21 AM">edited</span>              Thanks for the report. I will use a slightly different solution than your patch, as we actually need the original (or any) charSet name for the second part of the setter.     </div>
</div>
</div>
<br clear="all" />
<script language="JavaScript" type="text/javascript">
<!--
    restoreDivFromCookie('comment-26893-open', 'jira.viewissue.cong.cookie', '1');
    restoreDivFromCookie('comment-26893-closed', 'jira.viewissue.cong.cookie', '0');
//-->
</script>

            
        
            
            <div id="comment-26894-open">
<div class="actionContainer">
    <div class="action-links subText smallgrey">
    [
        <a href="/browse/JDBC-314?focusedCommentId=26894&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_26894" title="A permanent link to this comment." class="smallgrey">Permalink</a>
                      | <a id="comment-26894-hide" href="" onClick="toggleDivsWithCookie('comment-26894-closed', 'comment-26894-open'); return false;" class="smallgrey">&laquo; Hide</a>
    ]
    </div>
    <div class="action-details">    <a name="action_26894" />
    
    
    
                <a id="comment_26894_header_avalanche1979" href="/secure/ViewProfile.jspa?name=avalanche1979">Mark Rotteveel</a> added a comment  - <span class=subText><span class=date>13/Jul/13 09:12 AM</span></span>  </div>
    <div class="action-body">Scheduled for 2.2.4 and 2.3. Solution for 2.3 will initially be committed to the wire protocol improvements branch as I am currently overhauling the character set / encoding implementation for Jaybird 2.3 </div>
</div>
</div>


<div id="comment-26894-closed" style="display: none;">
<div class="actionContainer" style="background-color:#f0f0f0;">
    <div class="action-links subText smallgrey">
    [ <a id="comment-26894-show" href="" onClick="toggleDivsWithCookie('comment-26894-open', 'comment-26894-closed'); return false;" class="smallgrey">Show &raquo;</a> ]
    </div>
    <div class="action-details" style="overflow: hidden; height: 1em;">
                <a name="action_26894" />
    
    
    
                <a id="comment_26894_header_avalanche1979" href="/secure/ViewProfile.jspa?name=avalanche1979">Mark Rotteveel</a> added a comment  - <span class=subText><span class=date>13/Jul/13 09:12 AM</span></span>               Scheduled for 2.2.4 and 2.3. Solution for 2.3 will initially be committed to the wire protocol improvements branch as I am currently overhauling the character set / encoding implementation for Jaybird 2.3     </div>
</div>
</div>
<br clear="all" />
<script language="JavaScript" type="text/javascript">
<!--
    restoreDivFromCookie('comment-26894-open', 'jira.viewissue.cong.cookie', '1');
    restoreDivFromCookie('comment-26894-closed', 'jira.viewissue.cong.cookie', '0');
//-->
</script>

            
        
    
    
    </div>

<br/>
            </div>
        </td>
    </tr>
</table>









    
    <div class="footer">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                <td bgcolor="#bbbbbb"><img src="/s/360/1/_/images/border/spacer.gif" height="1" width="100" border="0" alt=""></td>
            </tr>
                        <tr>
            <td class="licensemessage">
        
        Powered by a free Atlassian <a href='http://www.atlassian.com/software/jira'>JIRA</a> open source license for Firebird (RDBMS). Try JIRA - <a href='http://www.atlassian.com/software/jira'>bug tracking software</a> for <i>your</i> team.


            </td>
    </tr>
    
    <tr>
        <td height="12" style="background-image:url(/s/360/1/_/images/border/border_bottom.gif)"><img src="/s/360/1/_/images/border/spacer.gif" width="1" height="1" border="0" alt=""></td>
    </tr>
</table>

<span  class="poweredbymessage" >
    <a href="http://www.atlassian.com/software/jira" class="smalltext">Atlassian JIRA</a>
    the Professional <a href="http://www.atlassian.com/software/jira">Issue Tracker</a>.
    <span  style="color: #666666;" >(Enterprise Edition, Version: 3.13.5-#360)</span>    - <a href="http://jira.atlassian.com/default.jsp?clicked=footer">Bug/feature request</a>
    - <a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=jira-stayintouch">Atlassian news</a>
    - <a href="/secure/Administrators.jspa">Contact Administrators</a>
</span>


</div>
    

</body>
</html>



