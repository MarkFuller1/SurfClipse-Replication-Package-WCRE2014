<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"  />
<title>Debug &laquo;  Middleware Magic</title>
<meta name="generator" content="WordPress 3.0.5" />
<meta name="robots" content="follow, all" />

<!-- ************ Middleware Magic Favicon - STARTED ***************** -->

<link rel="shortcut icon" href="http://middlewaremagic.com/weblogic/wp-admin/images/magic/MM_Favicon.ico"/>

<!-- ************ Middleware Magic Favicon - ENDED ***************** -->

<link rel="stylesheet" href="http://middlewaremagic.com/weblogic/wp-content/themes/idream/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="Middleware Magic RSS Feed" href="http://middlewaremagic.com/weblogic/?feed=rss2" />
<link rel="pingback" href="http://middlewaremagic.com/weblogic/xmlrpc.php" />
<!--[if IE]><link rel="stylesheet" href="http://middlewaremagic.com/weblogic/wp-content/themes/idream/css/ie.css" type="text/css" media="screen" /><![endif]-->

<link rel="alternate" type="application/rss+xml" title="Middleware Magic &raquo; Debug Category Feed" href="http://middlewaremagic.com/weblogic/?feed=rss2&amp;cat=38" />
<link rel='stylesheet' id='thickbox-css'  href='http://middlewaremagic.com/weblogic/wp-includes/js/thickbox/thickbox.css?ver=20090514' type='text/css' media='all' />
<link rel='stylesheet' id='mtq_StyleSheets-css'  href='http://middlewaremagic.com/weblogic/wp-content/plugins/mtouch-quiz/style.min.css?ver=2.2.3' type='text/css' media='all' />
<link rel='stylesheet' id='smooth_slider_headcss-css'  href='http://middlewaremagic.com/weblogic/wp-content/plugins/smooth-slider/css/skins/default/style.css?ver=2.3.5' type='text/css' media='all' />
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.0.5'></script>
<script type='text/javascript' src='http://middlewaremagic.com/weblogic/wp-content/plugins/si-contact-form/captcha-secureimage/ctf_captcha.js?ver=3.0.5'></script>
<script type='text/javascript' src='http://middlewaremagic.com/weblogic/wp-content/plugins/mtouch-quiz/script.min.js?ver=2.2.3'></script>
<script type='text/javascript' src='http://middlewaremagic.com/weblogic/wp-content/plugins/mtouch-quiz/scrollable.min.js?ver=2.2.3'></script>
<script type='text/javascript' src='http://middlewaremagic.com/weblogic/wp-content/plugins/smooth-slider/js/jquery.jcarousel.min.js?ver=2.3.5'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://middlewaremagic.com/weblogic/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://middlewaremagic.com/weblogic/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Middleware Magic' href='http://middlewaremagic.com/weblogic' />
<meta name="generator" content="WordPress 3.0.5" />
<link rel="stylesheet" href="http://middlewaremagic.com/weblogic/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />
<!-- Start Simple Author Highlighter -->
<style type="text/css">
.bypostauthor {background-color:  !important; color:  ;}
.comment-author-admin {background-color: #D8BFBF !important; color:  ;}
.comment-author-ravishmody {background-color: #D8BFBF !important; color:  ;}
.comment-author-renevanwijk {background-color: #D8BFBF !important; color:  ;}
</style>
<!-- Stop Simple Author Highlighter -->
<style type="text/css" media="screen">.jcarousel-skin-default .jcarousel-clip-horizontal {padding:0px 20px 0px 20px;width:510px;}.smooth_slider{width:540px;height:190px;background-color:#f3f2f2;border:2px solid #bc0806;padding:0 5px 0 10px;}.sldr_title{font-family:Arial, Arial, Helvetica, sans-serif;font-size:20px;font-weight:bold;font-style:normal;color:#f3f2f2;}.smooth_slider .jcarousel-item{width:510px;height:143px;}.smooth_slider h2{clear:none;line-height:19px;font-family:Arial, Arial, Helvetica, sans-serif;font-size:16px;font-weight:bold;font-style:normal;color:#333333;margin:10px 0 5px 0 !important;}.smooth_slider h2 a{color:#333333;}.smooth_slider span{font-family:Arial, Arial, Helvetica, sans-serif;font-size:14px;font-weight:normal;font-style:normal;color:#333333;}.smooth_slider_thumbnail{float:left;margin:10px 5px 0 0px;max-height:75px;border:2px solid #c7c7c7;}.smooth_slider .smooth_slideri div{margin-right:40px}.smooth_slider p.more a{color:#333333;font-family:Arial, Arial, Helvetica, sans-serif;font-size:14px;}.jcarousel-control a{border:1px solid #333333;font-size:14px;font-family:Arial, Arial, Helvetica, sans-serif;}.jcarousel-control a{color:#333333 !important;}.sldrlink{padding-right:10px;}.sldrlink a{color:#333333 !important;}</style>

<style type="text/css">
.wptable {
	border-width: 0 px;
	border-color: #FFFFFF;
	border-style: solid;
	width: 90%;
}

.wptable th {
	border-width: 0px;
	border-color: #FFFFFF;
	background-color: #800000;
	border-style: solid;
}

.wptable td {
	border-width: 0px;
	border-color: #FFFFFF;
	border-style: solid;
}

.wptable tr.alt {
 	background-color: #FFFFFF;
}

</style>
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>

<script type="text/javascript" src="http://middlewaremagic.com/weblogic/wp-content/themes/idream/js/jquery.pngFix.js"></script>

<!-- this product is released under General Public License. Please see the attached file for details. You can also find details about the license at http://www.opensource.org/licenses/gpl-license.php -->
<script type="text/javascript">
/* <![CDATA[ */

jQuery(document).ready(function(){ 
    jQuery(document).pngFix(); 
});

jQuery(document).ready(function() { 
jQuery("#dropmenu ul").css({display: "none"}); // Opera Fix 
jQuery("#dropmenu li").hover(function(){ 
        jQuery(this).find('ul:first').css({visibility: "visible",display: "none"}).show(268); 
        },function(){ 
        jQuery(this).find('ul:first').css({visibility: "hidden"}); 
        });
		 
}); 
/* ]]> */ 
</script>

</head>

<body>

<div id="wrapper" align="center">
	<div id="layouttop"></div>
    
    <!-- Header Starts -->
    <div id="header">
    	<div id="headerleft">
        	              	<h1><a href="http://middlewaremagic.com/weblogic" class="nobar"><img src="http://middlewaremagic.com/weblogic/wp-admin/images/magic/MM-Banner-logo.png" alt="Middleware Magic"></a></h1></h3>
			             
        </div>
        <div id="headerright">
        	<div id="rssboxo">
            	<a href="http://middlewaremagic.com/weblogic/?feed=rss2">RSS Feed</a>
			</div>
        </div>
    </div>
    <!-- Header Ends -->

    
    

    	
        <!-- Main nav Starts here -->
        <div id="navouter">
            <div id="nav">

                <ul id="dropmenu">
                <li class="page_item "><a href="http://middlewaremagic.com/weblogic">Home</a></li>
                <li class="page_item page-item-1005"><a href="http://middlewaremagic.com/weblogic/?page_id=1005" title="Who We Are">Who We Are</a></li>
<li class="page_item page-item-3488"><a href="http://middlewaremagic.com/weblogic/?page_id=3488" title="Contact Us">Contact Us</a></li>
<li class="page_item page-item-4038"><a href="http://middlewaremagic.com/weblogic/?page_id=4038" title="Disclaimer">Disclaimer</a></li>
<li class="page_item page-item-1749"><a href="http://middlewaremagic.com/weblogic/?page_id=1749" title="Beginners Corner">Beginners Corner</a></li>
<li class="page_item page-item-241"><a href="http://middlewaremagic.com/weblogic/?page_id=241" title="WebLogic">WebLogic</a></li>
<li class="page_item page-item-1492"><a href="http://middlewaremagic.com/weblogic/?page_id=1492" title="WebLogic Scripting">WebLogic Scripting</a></li>
<li class="page_item page-item-123"><a href="http://middlewaremagic.com/weblogic/?page_id=123" title="EJB">EJB</a></li>
<li class="page_item page-item-1976"><a href="http://middlewaremagic.com/weblogic/?page_id=1976" title="JMS">JMS</a></li>
<li class="page_item page-item-131"><a href="http://middlewaremagic.com/weblogic/?page_id=131" title="Web Services">Web Services</a></li>
<li class="page_item page-item-6051"><a href="http://middlewaremagic.com/weblogic/?page_id=6051" title="SOA">SOA</a></li>
<li class="page_item page-item-7607"><a href="http://middlewaremagic.com/weblogic/?page_id=7607" title="Security">Security</a></li>
<li class="page_item page-item-114"><a href="http://middlewaremagic.com/weblogic/?page_id=114" title="JMX">JMX</a></li>
<li class="page_item page-item-87"><a href="http://middlewaremagic.com/weblogic/?page_id=87" title="Work Managers">Work Managers</a></li>
<li class="page_item page-item-1109"><a href="http://middlewaremagic.com/weblogic/?page_id=1109" title="Proxy Plugin">Proxy Plugin</a></li>
<li class="page_item page-item-2261"><a href="http://middlewaremagic.com/weblogic/?page_id=2261" title="Debugging">Debugging</a></li>
<li class="page_item page-item-261"><a href="http://middlewaremagic.com/weblogic/?page_id=261" title="Ant">Ant</a></li>
<li class="page_item page-item-7132"><a href="http://middlewaremagic.com/weblogic/?page_id=7132" title="JVM">JVM</a></li>
<li class="page_item page-item-5436"><a href="http://middlewaremagic.com/weblogic/?page_id=5436" title="Coherence">Coherence</a></li>
<li class="page_item page-item-77"><a href="http://middlewaremagic.com/weblogic/?page_id=77" title="Spring">Spring</a></li>
<li class="page_item page-item-5895"><a href="http://middlewaremagic.com/weblogic/?page_id=5895" title="Hibernate">Hibernate</a></li>
<li class="page_item page-item-8374"><a href="http://middlewaremagic.com/weblogic/?page_id=8374" title="JBoss">JBoss</a></li>
<li class="page_item page-item-146"><a href="http://middlewaremagic.com/weblogic/?page_id=146" title="Forums">Forums</a>
<ul class='children'>
	<li class="page_item page-item-2594"><a href="http://middlewaremagic.com/weblogic/?page_id=2594" title="WebLogic">WebLogic</a></li>
	<li class="page_item page-item-2599"><a href="http://middlewaremagic.com/weblogic/?page_id=2599" title="Installation / Upgrade">Installation / Upgrade</a></li>
	<li class="page_item page-item-2588"><a href="http://middlewaremagic.com/weblogic/?page_id=2588" title="Cluster / Node Manager">Cluster / Node Manager</a></li>
	<li class="page_item page-item-2604"><a href="http://middlewaremagic.com/weblogic/?page_id=2604" title="JMS">JMS</a></li>
	<li class="page_item page-item-2671"><a href="http://middlewaremagic.com/weblogic/?page_id=2671" title="EJB / Web Services">EJB / Web Services</a></li>
	<li class="page_item page-item-2602"><a href="http://middlewaremagic.com/weblogic/?page_id=2602" title="Security">Security</a></li>
	<li class="page_item page-item-2608"><a href="http://middlewaremagic.com/weblogic/?page_id=2608" title="JMX / WLST / WLDF">JMX / WLST / WLDF</a></li>
	<li class="page_item page-item-2582"><a href="http://middlewaremagic.com/weblogic/?page_id=2582" title="Proxy Plugin / Web Servers">Proxy Plugin / Web Servers</a></li>
	<li class="page_item page-item-2611"><a href="http://middlewaremagic.com/weblogic/?page_id=2611" title="Knowledge Sharing">Knowledge Sharing</a></li>
	<li class="page_item page-item-2612"><a href="http://middlewaremagic.com/weblogic/?page_id=2612" title="Miscellaneous">Miscellaneous</a></li>
</ul>
</li>
			
                </ul>
            
            </div>
        </div>
        <!-- Main nav Ends -->
	<div id="outerwrapper">
    	<div id="innerwrapper">
  
<!-- main column Starts here -->
<div id="maincol">


	
		<h2 class="arpageTitle">Debug</h2>
	

<div class="postwrap">

        	<div class="postmeta2">
            	<div class="meta2inner">
                	<div class="pday">12</div>
                    <div class="pmonth">Jan/11</div>
                </div>
            </div> 

  <h2 class="posttitle"><a href="http://middlewaremagic.com/weblogic/?p=5131">Analyzing Garbage Collection Log</a></h2>
  <div class="postmeta">by <a href="http://middlewaremagic.com/weblogic/?author=1" title="Posts by JaySenSharma">JaySenSharma</a> under <a href="http://middlewaremagic.com/weblogic/?cat=38" title="View all posts in Debug" rel="category">Debug</a>, <a href="http://middlewaremagic.com/weblogic/?cat=47" title="View all posts in JVM Tuning" rel="category">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?cat=79" title="View all posts in Monitoring" rel="category">Monitoring</a></div>
  <div class="clr16"></div>
  <div class="postcontent"><div id="_mcePaste">Hi,</div>
<div id="attachment_3091" class="wp-caption alignleft" style="width: 117px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool.jpg"><img class="size-thumbnail wp-image-3091" title="Joy_pool" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg" alt="Jay SenSharma" width="107" height="116" /></a><p class="wp-caption-text">Jay SenSharma</p></div>
<div id="_mcePaste">It&#8217;s always best to enable the Garbage collection Logging in our production environment as well because it does not cause any resource overhead or any side effect on weblogic server or an other application server&#8217;s performance.  GC log helps us in investigating man issues. Apart from issues it helps us to find out if some tuning is required based on the statistics of the Garbage collection.</div>
<div>.</div>
<div id="_mcePaste">Garbage collection logging can be enable and collected in a separate log file by using the following JAVA_OPTIONS:</div>
<div id="_mcePaste"><strong>-Xloggc:D:/gcLogs/GCLogs.log         -XX:+PrintGCDetails        -XX:+PrintGCTimeStamps</strong></div>
<div id="_mcePaste">As soon as you add these JAVA_OPTIONS which are JVM specific (above will work for Sun and Open JDKs fine) the JVM will start generating the garbage collection logging in the GCLog.log file. Now if you will open this file then you can</div>
<div>see something like following:</div>
<pre class="brush: java; wrap-lines: false;">
4.636: [GC [PSYoungGen: 230400K-&gt;19135K(268800K)] 230400K-&gt;19135K(2058752K), 0.0635710 secs] [Times: user=0.08 sys=0.01, real=0.06 secs]
7.302: [GC [PSYoungGen: 249535K-&gt;38396K(268800K)] 249535K-&gt;51158K(2058752K), 0.0777300 secs] [Times: user=0.21 sys=0.04, real=0.07 secs]
7.521: [GC [PSYoungGen: 49735K-&gt;38388K(268800K)] 62496K-&gt;51933K(2058752K), 0.0741680 secs] [Times: user=0.15 sys=0.04, real=0.07 secs]
7.595: [Full GC (System) [PSYoungGen: 38388K-&gt;0K(268800K)] [PSOldGen: 13545K-&gt;51794K(1789952K)] 51933K-&gt;51794K(2058752K) [PSPermGen: 19868K-&gt;19868K(39936K)], 0.3066610 secs] [Times: user=0.28 sys=0.02, real=0.31 secs]
9.752: [GC [PSYoungGen: 230400K-&gt;26206K(268800K)] 282194K-&gt;78000K(2058752K), 0.0728380 secs] [Times: user=0.15 sys=0.00, real=0.08 secs]
11.906: [GC [PSYoungGen: 256606K-&gt;38393K(268800K)] 308400K-&gt;94759K(2058752K), 0.1058920 secs] [Times: user=0.19 sys=0.00, real=0.10 secs]
13.480: [GC [PSYoungGen: 268793K-&gt;38394K(268800K)] 325159K-&gt;109054K(2058752K), 0.0762360 secs] [Times: user=0.20 sys=0.03, real=0.08 secs]
18.115: [GC [PSYoungGen: 268794K-&gt;38384K(268800K)] 339454K-&gt;179238K(2058752K), 0.1351350 secs] [Times: user=0.42 sys=0.10, real=0.14 secs]
20.860: [GC [PSYoungGen: 268784K-&gt;38394K(268800K)] 409638K-&gt;200343K(2058752K), 0.1063430 secs] [Times: user=0.29 sys=0.03, real=0.11 secs]
22.148: [GC [PSYoungGen: 268794K-&gt;38399K(268800K)] 430743K-&gt;221395K(2058752K), 0.1173980 secs] [Times: user=0.24 sys=0.02, real=0.12 secs]
23.357: [GC [PSYoungGen: 268799K-&gt;26775K(268800K)] 451795K-&gt;231618K(2058752K), 0.0714130 secs] [Times: user=0.15 sys=0.03, real=0.08 secs]
24.449: [GC [PSYoungGen: 257175K-&gt;29170K(268800K)] 462018K-&gt;239909K(2058752K), 0.0312400 secs] [Times: user=0.06 sys=0.01, real=0.04 secs]
</pre>
<div>You can notice something in the above output:</div>
<div id="_mcePaste"><strong>Point-1).</strong> [Full GC (System) [PSYoungGen: 38388K-&gt;0K(268800K)]    It means a Full GC is happening on the complete Heap Area including all the Areas of the Java Heap Space.</div>
<div>.</div>
<div id="_mcePaste"><strong>Point-2)</strong>. [GC [PSYoungGen: 230400K-&gt;19135K(268800K)]   Indicates some small GCs which keep on happening in the young generation very frequently,This garbage collection cleans the Young Generation short living Objects.</div>
<div>.</div>
<div id="_mcePaste"><strong>Point-3).</strong> Meaning of the [GC [PSYoungGen: 230400K-&gt;19135K(268800K)]   line is around 256MB (268800K) is the Young Generation Size, Before Garbage Collection in young generation the heap utilization in Young Generation area was around  255MB (230400K)  and after garbage collection it reduced up to 18MB (19135K)</div>
<div id="_mcePaste">.</div>
<div><strong>Point-4).</strong> Same thing we can see for Full Garbage collection as well&#8230;.How effective the Garbage collection was&#8230;[Full GC (System) [PSYoungGen: 38388K-&gt;0K(268800K)] [PSOldGen: 13545K-&gt;51794K(1789952K)]  Here it says that around</div>
<div id="_mcePaste">[(old)1789952K +  young (268800K) ]  memory space means  OldGeneration is consuming 1.75GB space and Young Generation is consuming around 255 MB space  So it means total Heap size is around 2GB.</div>
<div id="_mcePaste">.</div>
<div>But analyzing the Garbage collection log like above technique Line by Line is very bad&#8230;so here we have an alternative was to analyze the Garbage Collection log in few Seconds to see how much time the Full Garbage collection is taking as an average and other reports&#8230;etc.</div>
<div id="_mcePaste">.</div>
<div><span style="color: #800000;"><strong>Step1). </strong></span>Download the &#8220;garbagecat-1.0.0.jar   (881 KB) &#8221;  tool from the follwing link: <a title=" http://garbagecat.eclipselabs.org.codespot.com/files/garbagecat-1.0.0.jar" href=" http://garbagecat.eclipselabs.org.codespot.com/files/garbagecat-1.0.0.jar"> http://garbagecat.eclipselabs.org.codespot.com/files/garbagecat-1.0.0.jar</a></div>
<div>.</div>
<div id="_mcePaste"><span style="color: #800000;"><strong><span style="color: #800000;">Step2).</span></strong></span> Open a command prompt and then make sure that JAVA is set in the Path so that we can use &#8220;jar&#8221; utility of JDK to run the &#8220;garbagecat-1.0.0.jar&#8221;  tool.</div>
<div id="_mcePaste">.</div>
<div><span style="color: #800000;"><strong>Step3).</strong></span> Put the &#8220;garbagecat-1.0.0.jar&#8221;  file and the &#8220;GCLog.log&#8221; file in the same directory. then run the following command:</div>
<div id="_mcePaste"><strong>java      -jar      garbagecat-1.0.0.jar      GCLog.log</strong></div>
<div id="_mcePaste">.</div>
<div><span style="color: #800000;"><strong>Step4).</strong></span> As soon as ou run the above command you will see that in your current directory following files are created:</div>
<div id="_mcePaste">garbagecat-1.0.0.jar</div>
<div id="_mcePaste">GCLog.log</div>
<div id="_mcePaste">gcdb.lck</div>
<div id="_mcePaste">gcdb.log</div>
<div id="_mcePaste">gcdb.properties</div>
<div id="_mcePaste">report.txt</div>
<div id="_mcePaste">.</div>
<div><span style="color: #800000;"><strong>Step5).</strong></span> Now open the &#8220;report.txt&#8221; file to see the Over all report of the Garbage Collection something like following:</div>
<div id="_mcePaste">========================================</div>
<div id="_mcePaste">SUMMARY:</div>
<div id="_mcePaste">========================================</div>
<div id="_mcePaste"># GC Events: 12</div>
<div id="_mcePaste">GC Event Types: PARALLEL_SCAVENGE, PARALLEL_SERIAL_OLD</div>
<div id="_mcePaste">Max Heap Space: 2058752K</div>
<div id="_mcePaste">Max Heap Occupancy: 462018K</div>
<div id="_mcePaste">Max Perm Space: 39936K</div>
<div id="_mcePaste">Max Perm Occupancy: 19868K</div>
<div id="_mcePaste">Throughput: 95%</div>
<div id="_mcePaste">Max Pause: 306 ms</div>
<div id="_mcePaste">Total Pause: 1233 ms</div>
<div id="_mcePaste">First Timestamp: 4636 ms</div>
<div id="_mcePaste">Last Timestamp: 24449 ms</div>
<div id="_mcePaste">========================================</div>
<div>.</div>
<div>If you see that the Garbage Collection Max Pause time is very high like  more than 5-7 Seconds for a 2 GB heap then you need to worry about it. <img src='http://middlewaremagic.com/weblogic/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </div>
<div><strong><span style="color: #ff0000;">NOTE:</span></strong> <span style="color: #ff0000;">Garbagecat  is a best utility to generate the Garbage Collection Report for Sun JDK and Open JDK for other JDKs you should use other tools for accurate results.</span></div>
<div id="_mcePaste">.</div>
<div>.</div>
<div>Thanks</div>
<div id="_mcePaste">Jay SenSharma</div>
</div>

		<div class="roubcornrcontent">         	
                <span class="posttags"><a href="http://middlewaremagic.com/weblogic/?tag=debugging" rel="tag">debugging</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm-tuning" rel="tag">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?tag=monitoring" rel="tag">Monitoring</a></span>  
              	<span class="postcomments"><a href="http://middlewaremagic.com/weblogic/?p=5131#comments" title="Comment on Analyzing Garbage Collection Log">11 Comments</a></span>
              	<span class="postmore"><a href="http://middlewaremagic.com/weblogic/?p=5131">more...</a></span>
                <div class="clr"></div>
        </div>


<div class="cleared"></div>
</div> <!-- Closes topPost --><br/>


<div class="postwrap">

        	<div class="postmeta2">
            	<div class="meta2inner">
                	<div class="pday">11</div>
                    <div class="pmonth">Dec/10</div>
                </div>
            </div> 

  <h2 class="posttitle"><a href="http://middlewaremagic.com/weblogic/?p=4884">High CPU Utilization Finding Cause?</a></h2>
  <div class="postmeta">by <a href="http://middlewaremagic.com/weblogic/?author=1" title="Posts by JaySenSharma">JaySenSharma</a> under <a href="http://middlewaremagic.com/weblogic/?cat=38" title="View all posts in Debug" rel="category">Debug</a>, <a href="http://middlewaremagic.com/weblogic/?cat=47" title="View all posts in JVM Tuning" rel="category">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?cat=79" title="View all posts in Monitoring" rel="category">Monitoring</a></div>
  <div class="clr16"></div>
  <div class="postcontent"><p>Hi All,</p>
<div id="attachment_3091" class="wp-caption alignleft" style="width: 117px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool.jpg"><img class="size-thumbnail wp-image-3091" title="Joy_pool" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg" alt="Jay SenSharma" width="107" height="116" /></a><p class="wp-caption-text">Jay SenSharma</p></div>
<p>High CPU utilization is a very very common thing for an Application Server Administrator. Almost every week or quarter or may be every day we can see some High CPU utilization by the Application Server. It is very important for an Administrator or System Admin or a Application Server Support Person to find out what is causing the High CPU.</p>
<p>.<br />
High CPU may cause System Crash or Server Crash or Slow Responsiveness of Server. So we need to find out  which Thread is actually consuming more CPU cycles this will help us to find out whether the Thread is processing some application code &#8230;.there may be a code bug or it may be Application Framework bug as well&#8230;etc</p>
<p>.<br />
So here we are going to see a very simple demonstration of generating High CPU and then we will see How to Analyze High CPU utilization. For this purpose we are going to use 2 very basic utilities</p>
<p>.<br />
<strong><span style="color: #800000;"> 1). jps:</span> </strong> to know How to use JPS utility please refer to :  <a href="http://middlewaremagic.com/weblogic/?p=2291">http://middlewaremagic.com/weblogic/?p=2291</a><br />
<span style="color: #800000;"><strong> 2). top: </strong></span> This is an Operating System Utility .. Please refer to &#8220;man&#8221; (Manual of your OS like Linux/Solaris)<br />
<strong><span style="color: #800000;"> 3). jstack:</span> </strong> to know how to use jstack please refer to : <a href="http://middlewaremagic.com/weblogic/?p=2281">http://middlewaremagic.com/weblogic/?p=2281</a></p>
<h2><strong><span style="color: #800000;"><span style="text-decoration: underline;">Generating High CPU</span></span></strong></h2>
<p><span style="color: #800000;"><strong>Step1).</strong></span> Create a Simple Web Application with the following JSP code:<br />
<strong> &#8220;HighCpuGenerator.jsp&#8221;</strong></p>
<pre class="brush: java; wrap-lines: false;">

&lt;%
for (int i=0; i &lt; 3; i++)
    {
       Thread x=new Thread(new Runnable(){

                  public void run()
                    {
                       System.out.println(&quot;Thread &quot; +Thread.currentThread().getName() + &quot; started&quot;);
                       double val=10;
                       for (;;)
                         {
                            Math.atan(Math.sqrt(Math.pow(val, 10)));
                         }
                     }
              });

        x.start();
    }
%&gt;

&lt;h3&gt;High CPU generation ....Please collect the 4-5 times &quot;Top&quot; command Output and the 4-5 ThreadDumps.&lt;/h3&gt;
</pre>
<p><strong><span style="color: #800000;">Step2).</span></strong> Now Deploy your Application which is having this JSP.<br />
<strong><span style="color: #800000;"> Step3).</span></strong> Hit the Application using &#8220;h<strong><em>ttp://localhost:7001/HighCpuWebApp/HighCpuGenerator.jsp</em></strong>&#8221;</p>
<h2><span style="color: #800000;"><span style="text-decoration: underline;">Analyzing High CPU:</span></span></h2>
<p><strong><span style="color: #800000;"> Step4).</span></strong> Open a shell prompt and then get the Servers Process ID using &#8220;jps&#8221; utility which comes with Jdk1.5 and Higher inside the \bin directory.</p>
<p>[jsenshar@jsenshar ~]$ export PATH=/home/jsenshar/MyJdks/jdk1.6.0_21/bin:$PATH<br />
[jsenshar@jsenshar ~]$<strong> jps -v</strong></p>
<div id="attachment_4898" class="wp-caption aligncenter" style="width: 310px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/12/HighCpu_Jps.png"><img class="size-medium wp-image-4898" title="HighCpu_Jps.png" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/12/HighCpu_Jps-300x176.png" alt="HighCpu_Collect5ing Process ID using JPS " width="300" height="176" /></a><p class="wp-caption-text">HighCpu_Collect5ing Process ID using JPS</p></div>
<p><strong><span style="color: #800000;">Step5). </span></strong> Now  In the same command prompt  run the &#8220;JStack&#8221; utility to collect some Thread Dumps in a File&#8230; Suppose if the Application Servers Process ID is &#8220;5398&#8243; which we got in previous step.</p>
<div id="_mcePaste">[jsenshar@jsenshar ~]$ jstack -l 5398 &gt; ThreadDumps.log</div>
<div id="_mcePaste">[jsenshar@jsenshar ~]$ jstack -l 5398 &gt;&gt; ThreadDumps.log</div>
<div id="_mcePaste">[jsenshar@jsenshar ~]$ jstack -l 5398 &gt;&gt; ThreadDumps.log</div>
<div id="_mcePaste">[jsenshar@jsenshar ~]$ jstack -l 5398 &gt;&gt; ThreadDumps.log</div>
<div id="_mcePaste">[jsenshar@jsenshar ~]$<strong> jstack -l 5398 &gt;&gt; ThreadDumps.log</strong></div>
<div id="attachment_4902" class="wp-caption aligncenter" style="width: 310px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/12/HighCpu_ThreadDumps_JStack.png"><img class="size-medium wp-image-4902" title="HighCpu_ThreadDumps_JStack.png" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/12/HighCpu_ThreadDumps_JStack-300x176.png" alt="HighCpu_ThreadDumps_JStack" width="300" height="176" /></a><p class="wp-caption-text">HighCpu_ThreadDumps_JStack</p></div>
<p><span style="color: #800000;"><strong>Step6).</strong></span> Now In Parallel to collecting the Thread Dumps please collect the &#8220;top&#8221; commands output as well&#8230;.like<br />
(<strong>NOTE: </strong>Make sure that u collect the Thread Dumps and the Top commands results in Parallel whenever u observe any kind of High CPU utilization or Server Slow response)</p>
<p>[jsenshar@jsenshar HighCpu]$<strong> top -H -b -p 5398</strong></p>
<div id="attachment_4904" class="wp-caption aligncenter" style="width: 310px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/12/HighCPU_Top_Report.png"><img class="size-medium wp-image-4904" title="HighCPU_Top_Report.png" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/12/HighCPU_Top_Report-300x176.png" alt="HighCPU_Top_Report" width="300" height="176" /></a><p class="wp-caption-text">HighCPU_Top_Report</p></div>
<p>You will see some results like this :</p>
<pre class="brush: java; wrap-lines: false;">
top - 02:52:09 up 18:08,  4 users,  load average: 3.49, 3.25, 8.02
Tasks:  51 total,   6 running,  45 sleeping,   0 stopped,   0 zombie
Cpu(s): 96.6%us,  0.7%sy,  0.0%ni,  2.6%id,  0.0%wa,  0.0%hi,  0.1%si,  0.0%st
Mem:   3848964k total,  3352224k used,   496740k free,    50940k buffers
Swap:  4194296k total,   400804k used,  3793492k free,  1116028k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
 5522 jsenshar  20   0 2884m 412m  19m R 77.8 11.0  40:00.46 java
 5521 jsenshar  20   0 2884m 412m  19m R 66.9 11.0  39:57.34 java
 6900 jsenshar  20   0 2884m 412m  19m R 65.2 11.0   0:07.82 java
 5520 jsenshar  20   0 2884m 412m  19m R 54.2 11.0  39:57.70 java
</pre>
<p><strong><span style="color: #800000;">Step7).</span></strong> Now U will observe that there are some Thread IDs which are consuming more CPU Cycles like Child Thread PID=5522 is consuming 77.8% of CPU similarly Child Thread PID 5521 is consuming 66.9 % of CPU Cycles. These are very Hign CPU utilization Threads inside the Main Parent Process ID <strong>5398.</strong></p>
<p><span style="color: #800000;"><strong>Step8). </strong></span>Now convert those PIDs into Hexadecimal values&#8230;..Example     the Hex Decimal Value for     5522 will be      1592. So now please open the Thread Dump and then find out the word <strong>1592</strong></p>
<p><strong> </strong></p>
<div id="attachment_4894" class="wp-caption aligncenter" style="width: 280px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/12/HighCpu_Decimal_Calculator.png"><img class="size-medium wp-image-4894" title="HighCpu_Decimal_Calculator.png" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/12/HighCpu_Decimal_Calculator-270x300.png" alt="Decimal Value of the Thread ID provided by OS" width="270" height="300" /></a><p class="wp-caption-text">Decimal Value of the Thread ID provided by OS</p></div>
<div id="attachment_4896" class="wp-caption aligncenter" style="width: 280px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/12/HighCPU_HexValue.png"><img class="size-medium wp-image-4896" title="HighCPU_HexValue.png" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/12/HighCPU_HexValue-270x300.png" alt="Converted the Decimal Thread ID Value to Hexa Decimal Code" width="270" height="300" /></a><p class="wp-caption-text">Converted the Decimal Thread ID Value to Hexa Decimal Code</p></div>
<pre class="brush: java; wrap-lines: false;">
&quot;Thread-17&quot; daemon prio=10 tid=0x00007fe824439800 nid=0x1592 runnable [0x00007fe7fa9e2000]
   java.lang.Thread.State: RUNNABLE
        at java.lang.StrictMath.atan(Native Method)
        at java.lang.Math.atan(Math.java:187)
        at jsp_servlet.__highcpugenerator$1.run(__highcpugenerator.java:83)
        at java.lang.Thread.run(Thread.java:619)
</pre>
<p>Here you will see that The Thread with id=0&#215;1592 is actually causing the High CPU &#8230;Now u can tell your Developers to check the Stack Trace of this Thread so that they can correct their Application Code or If you see  any API Code or Framework code there then you know what u need to do and where the problem is.</p>
<p>Like in above case u can see that  My JSPs code is actually causing High CPU    &#8221;<span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace; line-height: 18px; font-size: 12px; white-space: pre;">at jsp_servlet.__highcpugenerator$1.run</span><span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace; line-height: 18px; font-size: 12px; white-space: pre;">(__highcpugenerator.java:83)</span>&#8221;</p>
<p><span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace; line-height: 18px; font-size: 12px; white-space: pre;"> </span></p>
<p>.</p>
<p>.</p>
<p>Thanks</p>
<p>Jay SenSharma</p>
</div>

		<div class="roubcornrcontent">         	
                <span class="posttags"><a href="http://middlewaremagic.com/weblogic/?tag=debugging" rel="tag">debugging</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm-tuning" rel="tag">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm-utilities" rel="tag">JVM Utilities</a>, <a href="http://middlewaremagic.com/weblogic/?tag=monitoring" rel="tag">Monitoring</a></span>  
              	<span class="postcomments"><a href="http://middlewaremagic.com/weblogic/?p=4884#comments" title="Comment on High CPU Utilization Finding Cause?">18 Comments</a></span>
              	<span class="postmore"><a href="http://middlewaremagic.com/weblogic/?p=4884">more...</a></span>
                <div class="clr"></div>
        </div>


<div class="cleared"></div>
</div> <!-- Closes topPost --><br/>


<div class="postwrap">

        	<div class="postmeta2">
            	<div class="meta2inner">
                	<div class="pday">25</div>
                    <div class="pmonth">Nov/10</div>
                </div>
            </div> 

  <h2 class="posttitle"><a href="http://middlewaremagic.com/weblogic/?p=4611">Multicast Errors in The Server Logs</a></h2>
  <div class="postmeta">by <a href="http://middlewaremagic.com/weblogic/?author=1" title="Posts by JaySenSharma">JaySenSharma</a> under <a href="http://middlewaremagic.com/weblogic/?cat=100" title="View all posts in Cluster" rel="category">Cluster</a>, <a href="http://middlewaremagic.com/weblogic/?cat=38" title="View all posts in Debug" rel="category">Debug</a></div>
  <div class="clr16"></div>
  <div class="postcontent"><div id="_mcePaste">
<div id="_mcePaste">Hi All,</div>
<div id="attachment_3091" class="wp-caption alignleft" style="width: 117px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool.jpg"><img class="size-thumbnail wp-image-3091" title="Joy_pool" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg" alt="Jay SenSharma" width="107" height="116" /></a><p class="wp-caption-text">Jay SenSharma</p></div>
<div id="_mcePaste">Multicasting is the technology of delivering a message to a group of destination nodes (servers/jvms/any other network based software) Means broadcasting the piece of information to all it&#8217;s peers. Usually the IP Address range for multicast communication is any IP Address in the range of 224.0.0.0 to 239.255.255.255.</div>
<div>.</div>
<div id="_mcePaste">Application Server Clustering is one of the best implementation of Multicasting technology. In Middleware world Cluster is a logical entity in which many Member (Servers) will work together to provide LoadBalancing (Load Sharing), Failover (Reliablity) and Scalability to our applications.</div>
<div>.</div>
<div id="_mcePaste">Cluster Members usually communicates with each othr using following two ways:</div>
<h3><span style="color: #800000;">1). IP Multicasting (One to Many): </span></h3>
<div>In This technique every node of a cluster broadcast some piece of data/information to all the other members of the same Cluster. Using this techniqueue Servers achieves 2 main goals&#8230;.</div>
<div id="_mcePaste"><strong>a).</strong> Each nodes sends the heartbeat messages to other nodes of the cluster. This makes other node of the cluster aware that the member whoever is sending messages is alive. The heartbeat message broadcasting helps the cluster master to maintain the &#8220;Dynamic Server List&#8221; (A List of servers who all are alive).</div>
<div>.</div>
<div id="_mcePaste"><strong>b).</strong> IP Multicasting techniqueue is also used for the JNDI objects replication among all the members of the cluster. The Object binded in the JNDI tree of a Clustered Node (Server) is broadcasted to rest of the members of the Cluster. It means the JNDI tree of a Clustered Server will be identicle to other members of the same cluster.</div>
<h3><span style="color: #800000;">2). IP Socketing (One to One):</span></h3>
<div>This technique is broadly used by the middleware cluster members for accessing the object from any other node of the cluster. This technique is actually used by the Cluster members to replicate the HttpSession Data or the EJB Session Objects.</div>
<h2 style="text-align: left;"><span style="color: #800000;">Multicast Errors: </span></h2>
<div>If we observe the multicast errors in the Server Logs &#8230;then it means our Cluster is not going to work as expected&#8230;one or more node of the clusters may be kicked out of the cluster&#8230;.The errors will look something like this in the Server Logs:</div>
<div><strong><span style="color: #800000;">java.io.OptionalDataException</span></strong></div>
<pre class="brush: java; wrap-lines: false;">
&lt;Error&gt; &lt;Cluster&gt; &lt;BEA-000110&gt; &lt;Multicast socket receive error: java.io.OptionalDataException
java.io.OptionalDataException
at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1285)
at java.io.ObjectInputStream.readObject(ObjectInputStream.java:322)
at weblogic.cluster.MulticastManager.execute(MulticastManager.java:411)
at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:224)
at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:183)
</pre>
<div><strong><span style="color: #800000;">java.lang.OutOfMemoryError: PermGen space</span></strong></div>
<pre class="brush: java; wrap-lines: false;">
&lt;Error&gt; &lt;Cluster&gt; &lt;testWeb&gt; &lt;MS1&gt; &lt;[ACTIVE] ExecuteThread: '0' for queue: 'weblogic.kernel.Default (self-tuning)'&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;1264189488263&gt; &lt;BEA-000110&gt; &lt;Multicast socket receive error: java.lang.OutOfMemoryError: PermGen space
java.lang.OutOfMemoryError: PermGen space
at sun.misc.Unsafe.defineClass(Native Method)
at sun.reflect.ClassDefiner.defineClass(ClassDefiner.java:45)
at sun.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:381)
at java.security.AccessController.doPrivileged(Native Method)
at sun.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java:377)
at sun.reflect.MethodAccessorGenerator.generateSerializationConstructor(MethodAccessorGenerator.java:95)
at sun.reflect.ReflectionFactory.newConstructorForSerialization(ReflectionFactory.java:313)
at java.io.ObjectStreamClass.getSerializableConstructor(ObjectStreamClass.java:1299)
at java.io.ObjectStreamClass.access$1500(ObjectStreamClass.java:52)
</pre>
<div><strong><span style="color: #800000;">java.io.StreamCorruptedException</span></strong></div>
<pre class="brush: java; wrap-lines: false;">
&lt;Error&gt; &lt;Cluster&gt; &lt;testDomain&gt; &lt;testServer&gt; &lt;ExecuteThread: '14' for queue: 'weblogic.kernel.Default'&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;BEA-000110&gt; &lt;Multicast socket receive error: java.io.StreamCorruptedException
java.io.StreamCorruptedException
at java.io.ObjectInputStream$BlockDataInputStream.readBlockHeader(ObjectInputStream.java:2347)
at java.io.ObjectInputStream$BlockDataInputStream.refill(ObjectInputStream.java:2380)
at java.io.ObjectInputStream$BlockDataInputStream.read(ObjectInputStream.java:2452)
at java.io.DataInputStream.readInt(DataInputStream.java:443)
at java.io.ObjectInputStream$BlockDataInputStream.readInt(ObjectInputStream.java:2657)
at java.io.ObjectInputStream.readInt(ObjectInputStream.java:900)
at weblogic.cluster.MulticastManager.execute(MulticastManager.java:387)
</pre>
<div id="_mcePaste"><strong><span style="color: #800000;">java.io.EOFException</span></strong></div>
<pre class="brush: java; wrap-lines: false;">
&lt;Error&gt; &lt;Cluster&gt; &lt;BEA-000110&gt; &lt;Multicast socket receive error: java.io.EOFException
java.io.EOFException
at java.io.DataInputStream.readFully(DataInputStream.java:178)
at java.io.DataInputStream.readLong(DataInputStream.java:380)
at java.io.ObjectInputStream$BlockDataInputStream.readLong()J(Unknown Source)
at java.io.ObjectInputStream.readLong()J(Unknown Source)
at weblogic.cluster.HeartbeatMessage.readExternal(HeartbeatMessage.java:55)
at java.io.ObjectInputStream.readExternalData(Ljava.io.Externalizable;Ljava.io.ObjectStreamClass;)V(Unknown Source)
at java.io.ObjectInputStream.readOrdinaryObject(Z)Ljava.lang.Object;(Unknown Source)
</pre>
<div><strong><span style="color: #800000;">java.io.InterruptedIOException</span></strong></div>
<pre class="brush: java; wrap-lines: false;">
&lt;Error&gt; &lt;Cluster&gt; &lt;Multicast socket receive error : java.io.InterruptedIOException: Receive timed out
java.io.InterruptedIOException: Receive timed out
at java.net.PlainDatagramSocketImpl.receive(Native Method)
at java.net.PlainDatagramSocketImpl.receive(PlainDatagramSocketImpl.java:90)
at java.net.DatagramSocket.receive(DatagramSocket.java:404)
at weblogic.cluster.FragmentSocket.receive(FragmentSocket.java:145)
at weblogic.cluster.MulticastManager.execute(MulticastManager.java:298)
at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139)
at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)
</pre>
<h2><strong><span style="color: #800000;">Most Possible Causes of the Multicast Errors ?</span></strong></h2>
<div id="_mcePaste"><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Cause-</span></strong></span><span style="color: #800000;">1).</span></strong> Incorrect configuration of Multicast Addresses.</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Cause-</span></strong></span><span style="color: #800000;">2).</span></strong><span style="color: #800000;"> </span>Less Number of File Descriptors Availability</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Cause-</span></strong></span><span style="color: #800000;">3).</span></strong> Network Fluctuation/Interrupted Network Connectivity.</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Cause-</span></strong></span><span style="color: #800000;">4).</span></strong> Multicast Blocking due to some Firewall restrictions. Try disabling the &#8220;iptables&#8221; as described at the bottom of the page.</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Cause-</span></strong></span><span style="color: #800000;">5).</span></strong> Multicast Timeouts. Increase the MulticastTTL.</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Cause-</span></strong></span><span style="color: #800000;">6).</span></strong> More than one Clusters present in the same Network using the same Multicast address.</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Cause-</span></strong></span><span style="color: #800000;">7).</span></strong> In correct usages of Operating System Zoning or Multihoming Issues. MultiHoming means a Single Physical Box with multiple NIC Cards (Multiple IP Addresses)</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Cause-</span></strong></span><span style="color: #800000;">8).</span></strong><span style="color: #800000;"> </span>Servers Listen Port was used as the Multicast Port.</div>
<h2><strong><span style="color: #800000;">What All Things Need to Debug ?</span></strong></h2>
<p><span style="color: #800000;"><span style="color: #000000;">It is Always recommended to first of all go through the following link:</span> </span><a href="http://download.oracle.com/docs/cd/E12840_01/wls/docs103/cluster/multicast_configuration.html">http://download.oracle.com/docs/cd/E12840_01/wls/docs103/cluster/multicast_configuration.html</a></p>
<div id="_mcePaste"><strong><span style="color: #800000;">Point-1).</span></strong><span style="color: #800000;"> </span>Check &amp; Make Sure that all the Clusters present in the same Network are using Uniqueue Multicast Address And Port</div>
<div id="_mcePaste">.</div>
<div><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Point-</span></strong></span><span style="color: #800000;">2).</span></strong> Using &#8220;netstat&#8221; or &#8220;ping&#8221; commands we need to make sure that the Multicast Address and the Port are Ok for use.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Point-</span></strong></span><span style="color: #800000;">3).</span></strong> Opening a Socket or a File requires File Descriptors&#8230;So we Need to make sure that the required number of &#8220;File Descriptors&#8221; are available or not?</div>
<div id="_mcePaste">In Unix based OS we can use &#8220;lsof&#8221;  command (List Of Open Files)</div>
<div id="_mcePaste">Example :   <strong> &#8220;lsof -p &lt;WLS_PID&gt; | wc -l&#8221;</strong></div>
<div id="_mcePaste">Here WLS_PID is the Process ID of WebLogic. To find WebLogic Process ID please refer to:  <a title="http://middlewaremagic.com/weblogic/?p=2291" href="http://middlewaremagic.com/weblogic/?p=2291">http://middlewaremagic.com/weblogic/?p=2291</a></div>
<div><strong>Example: </strong> Suppose if the <strong>WebLogic Server&#8217;s Process ID is 4020</strong> then run the following command:</div>
<pre class="brush: java; wrap-lines: false;">
[jaytest@jaytest bin]$ lsof -p 4020 | wc -l
666

[jaytest@jaytest bin]$ lsof -p 4020
COMMAND  PID     USER   FD   TYPE             DEVICE SIZE/OFF    NODE NAME
java    4020 jaytest  cwd    DIR              253,4     4096 8657973 /NotBackedUp/WLS103/user_projects/domains/base_domain
java    4020 jaytest  rtd    DIR              253,1     4096       2 /
java    4020 jaytest  txt    REG              253,3    50810  133154 /home/jaytest/MyJdks/jdk1.6.0_21/bin/java
java    4020 jaytest  mem    REG              253,1   150672  542805 /lib64/ld-2.12.so
java    4020 jaytest  mem    REG              253,1  1838296  542806 /lib64/libc-2.12.so
java    4020 jaytest  mem    REG              253,1   145672  542818 /lib64/libpthread-2.12.so
java    4020 jaytest  mem    REG              253,1    22536  542808 /lib64/libdl-2.12.so
java    4020 jaytest  mem    REG              253,1   598816  542807 /lib64/libm-2.12.so
java    4020 jaytest  mem    REG              253,1    47072  542819 /lib64/librt-2.12.so
java    4020 jaytest  mem    REG              253,1   113904  542814 /lib64/libresolv-2.12.so
java    4020 jaytest  mem    REG              253,1   116136  542840 /lib64/libnsl-2.12.so
java    4020 jaytest  mem    REG              253,3     6676  133795 /home/jaytest/MyJdks/jdk1.6.0_21/jre/lib/amd64/librmi.so
java    4020 jaytest  mem    REG              253,3  1163700  133902 /home/jaytest/MyJdks/jdk1.6.0_21/jre/lib/resources.jar
java    4020 jaytest  mem    REG              253,3   842216  134434 /home/jaytest/MyJdks/jdk1.6.0_21/jre/lib/ext/localedata.jar
java    4020 jaytest  mem    REG              253,4   282279 8653766 /NotBackedUp/WLS103/wlserver_10.3/server/lib/consoleapp/consolehelp/WEB-INF/lib/console.jar
java    4020 jaytest  mem    REG              253,4   293750 8653774 /NotBackedUp/WLS103/wlserver_10.3/server/lib/consoleapp/consolehelp/WEB-INF/lib/standard.jar
java    4020 jaytest  mem    REG              253,4   779658 8653764 /NotBackedUp/WLS103/wlserver_10.3/server/lib/consoleapp/consolehelp/WEB-INF/lib/beehive-netui-core.jar
java    4020 jaytest  mem    REG              253,4    57299 8653775 /NotBackedUp/WLS103/wlserver_10.3/server/lib/consoleapp/consolehelp/WEB-INF/lib/struts-adapter.jar
java    4020 jaytest  mem    REG              253,4   531676 8653767 /NotBackedUp/WLS103/wlserver_10.3/server/lib/consoleapp/consolehelp/WEB-INF/lib/jh.jar
java    4020 jaytest  mem    REG              253,4  1490143 8653770 /NotBackedUp/WLS103/wlserver_10.3/server/lib/consoleapp/consolehelp/WEB-INF/lib/netuix_servlet.jar
java    4020 jaytest  mem    REG              253,4    54683 8653769 /NotBackedUp/WLS103/wlserver_10.3/server/lib/consoleapp/consolehelp/WEB-INF/lib/netuix_common_web.jar
java    4020 jaytest  mem    REG              253,4    46008 8653772 /NotBackedUp/WLS103/wlserver_10.3/server/lib/consoleapp/consolehelp/WEB-INF/lib/render_taglib.jar
</pre>
<div id="_mcePaste">.</div>
<div><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Point-</span></strong></span><span style="color: #800000;">4).</span></strong> If we see any kind of &#8220;Multicast Receive timeout error&#8221; It means  we need to check the NIC card functioning properly or not.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Point-</span></strong></span><span style="color: #800000;">5).</span></strong><span style="color: #800000;"> </span>There May be Many a Multicast Storm going on in the Network (Storm means repeated transmission of the Multicast packets over the network). In this case we can try increasing the Multicast Buffer Size. Using <strong>&#8220;udp_max_buf&#8221;</strong> Parameter we can increase it. Please refer to :  <a href="http://docs.sun.com/app/docs/doc/816-0607/6m735r5gb?a=view">http://docs.sun.com/app/docs/doc/816-0607/6m735r5gb?a=view</a> for more details on it.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Point-</span></strong></span></strong><strong><span style="color: #800000;">6).</span></strong><span style="color: #800000;"> </span>In case of Multicast storm the network may be already flooded with the Multicast messages. If we find this then please disable the &#8220;igmp&#8221; snooping switch. This switch is part of the Internet Group Management Protocol (IGMP) and is used to prevent multicast flood problems on the managed switch.</div>
<div id="_mcePaste">Example:  <strong> igmp snooping=disable</strong></div>
<div>For more details on this parameter Please refer to:  <a href="http://documentation.netgear.com/gs108t/enu/202-10337-01/GS108T_UM-06-21.html">http://documentation.netgear.com/gs108t/enu/202-10337-01/GS108T_UM-06-21.html</a></div>
<div id="_mcePaste">.</div>
<div><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Point-</span></strong></span></strong><strong><span style="color: #800000;">7).</span></strong> Set the Multicast Time-To-Live to the following:  <strong>MulticastTTL=32</strong></div>
<div id="_mcePaste">NOTE: For WAN kind of larger network the Multicast Time To Live Parameters value must be kept High&#8230;sothat the Routers will not discard the Multicast Packets before they reach the Message destination.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="font-weight: normal;"><strong><span style="color: #800000;">Point-</span></strong></span><span style="color: #800000;">8).</span></strong><span style="color: #800000;"> </span>Perform the MulticastMonitor Test &amp; MulticastTest  on the network&#8230;As described in the following link: <a title="http://middlewaremagic.com/weblogic/?p=980" href="http://middlewaremagic.com/weblogic/?p=980">http://middlewaremagic.com/weblogic/?p=980</a></div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-9).</span></strong> Try to enable the Cluster Debug to get more details:</div>
<pre class="brush: java; wrap-lines: true;">
java weblogic.Admin -url t3://localhost:7001 - username weblogic -password weblogic SET -type ServerDebug -property DebugCluster true
</pre>
<div><strong><span style="color: #800000;"> Point-10). </span></strong>If the Multicast still doesnt work&#8230;.:) then disable the IPTables&#8230;.And then check  <a href="http://kr.forums.oracle.com/forums/thread.jspa?threadID=767088">http://kr.forums.oracle.com/forums/thread.jspa?threadID=767088</a></div>
<div>In RedHat Linux:        <strong>/etc/init.d/ipdables stop</strong></div>
<h4><span style="font-weight: normal;">.</span></h4>
<h4><span style="font-weight: normal;">.</span></h4>
<div id="_mcePaste">Thanks</div>
<div id="_mcePaste">Jay SenSharma</div>
</div>
</div>

		<div class="roubcornrcontent">         	
                <span class="posttags"><a href="http://middlewaremagic.com/weblogic/?tag=cluster" rel="tag">Cluster</a>, <a href="http://middlewaremagic.com/weblogic/?tag=debugging" rel="tag">debugging</a>, <a href="http://middlewaremagic.com/weblogic/?tag=multicast" rel="tag">Multicast</a></span>  
              	<span class="postcomments"><a href="http://middlewaremagic.com/weblogic/?p=4611#comments" title="Comment on Multicast Errors in The Server Logs">2 Comments</a></span>
              	<span class="postmore"><a href="http://middlewaremagic.com/weblogic/?p=4611">more...</a></span>
                <div class="clr"></div>
        </div>


<div class="cleared"></div>
</div> <!-- Closes topPost --><br/>


<div class="postwrap">

        	<div class="postmeta2">
            	<div class="meta2inner">
                	<div class="pday">21</div>
                    <div class="pmonth">Nov/10</div>
                </div>
            </div> 

  <h2 class="posttitle"><a href="http://middlewaremagic.com/weblogic/?p=4482">Causes and First Aid of JVM Crash Issues?</a></h2>
  <div class="postmeta">by <a href="http://middlewaremagic.com/weblogic/?author=1" title="Posts by JaySenSharma">JaySenSharma</a> under <a href="http://middlewaremagic.com/weblogic/?cat=38" title="View all posts in Debug" rel="category">Debug</a>, <a href="http://middlewaremagic.com/weblogic/?cat=47" title="View all posts in JVM Tuning" rel="category">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?cat=79" title="View all posts in Monitoring" rel="category">Monitoring</a></div>
  <div class="clr16"></div>
  <div class="postcontent"><div id="_mcePaste">Hi All,</div>
<div id="attachment_3091" class="wp-caption alignleft" style="width: 117px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool.jpg"><img class="size-thumbnail wp-image-3091" title="Joy_pool" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg" alt="Jay SenSharma" width="107" height="116" /></a><p class="wp-caption-text">Jay SenSharma</p></div>
<div id="_mcePaste">Java Virtual Machine is a Native engine which allows our Java Applications to run. It performs the code optimization to improve the performance. In correct tuning, Low memory allocation, extensive code optimization, bad garbage collection strategy, API code leaking&#8230;etc are some of the reasons which may cause the JVM to crash.</div>
<div>.</div>
<div id="_mcePaste">Analyzing a JVM Crash is one of the very interesting and little time taking process sometimes it is even little complex to find out the root cause of the JVM Crash. Here in this article we will see some of the common mistakes, first aid solutions/debugging techniques to find out what kind of informations we can get by looking into the Core Dump.</div>
<h2><span style="color: #800000;">What is Core Dump &amp; Where to Find It?</span></h2>
<div id="_mcePaste">Code dump is usually a Binary file which gets generated by the Operating System when JVM or any other process crashes. Sometimes it also happens that the JVM will not be able to generate the Crash dump. In Windows Operating Systems it will be generated in the Directore where the &#8220;Dr. Watson&#8221; tool is installed. In Windows it will be usually:  &#8221;<strong>C:\Documents and Settings\All Users\Application Data\Microsoft\Dr Watson</strong>&#8220;</div>
<div>.</div>
<div id="_mcePaste">By default in Unix based Operating Systems the Core Dump files are created in the directory where the Java Program/Server was started even sometimes it is generated in the &#8220;/tmp&#8221; directory of the Operating System. But using the following Java Option we can change it&#8217;s the Crash Dump/Heap   Dump generation locations:  <strong>-XX:HeapDumpPath=/opt/app/someLocaton/</strong> and  <strong>-XX:+HeapDump</strong> JVM Options.</div>
<div>.</div>
<div><span style="color: #ff0000;"><strong>NOTE:</strong></span> These Flags does not gurantee that always the Heap/Crash dump will be generated at the time of JVM Crash. There are some more reasons behind the Core Dump not gets generated&#8230;like Process Limitations or the Less Disk Quota or unavailability of the Free File Descriptors.</div>
<h2><span style="color: #800000;">Who Generates the Crash/Core Dump?</span></h2>
<div id="_mcePaste">JVM does not generate the Coe dump. Rather it is the Operating System which generates the Core Dump. Core Dump is a Binary file which may be several hundred Mega Bytes or Giga Bytes in size. The Operating systems just log the exception/error messages and the details of the Threads along with the Native libraries loaded with that java process.</div>
<div id="_mcePaste">.</div>
<div>Many times a brief Textual Crash file is also generated by the JVM itself sometimes during Crash. Usually the file name is &#8220;<strong>hs_err_pid&lt;WebLogicPID&gt;.log</strong>&#8221; in case of Sun JDK. Similarly JRockit JVM also generates a Textual file with name &#8220;<strong>*.dump</strong>&#8221; in case of JVM Crash.</div>
<h2><span style="color: #800000;">Use of -XX:+ShowMessageBoxOnError?</span></h2>
<div id="_mcePaste">The Thread Dump is also very helpful to analyze the Server Crash. Thread dump tells us what was the status and activities performed by the Threads at the time of crash. It may be possible to get a thread dump before the process exits. HotSpot supports the JAVA_OPTIONS <strong>-XX:+ShowMessageBoxOnError</strong></div>
<div><strong>.</strong></div>
<div id="_mcePaste">The corresponding JRockit JVM Option is <strong>-Djrockit.waitonerror</strong>.  When the JVM is crashing, it may prompt the user &#8221; Do you want to debug the problem? &#8221; This pauses the process, thereby creating an opportunity to generate a thread dump (a stack trace of every thread in the JVM), attach a debugger, or perform some other debugging activity.  However, this does not work in all cases (for eg., in case of stack overflow).</div>
<div id="_mcePaste">.</div>
<div>Along with above there are various options available to get the Thread Dumps as described in : <a title="http://middlewaremagic.com/weblogic/?p=823" href="http://middlewaremagic.com/weblogic/?p=823">http://middlewaremagic.com/weblogic/?p=823</a></div>
<h2><span style="color: #800000;">What May Cause JVM Crash?</span></h2>
<div id="_mcePaste"><strong><span style="color: #800000;">Reason-1).</span></strong> Usually Native Code causes the JVM Crash. Native code is a code written in Languages like C/C++, Java Native Interface APIs (JNI).</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="color: #800000;">Reason-2).</span></strong> JDBC Drivers specially the Native Drivers.</div>
<div id="_mcePaste"><strong><span style="color: #800000;">.</span></strong></div>
<div><strong><span style="color: #800000;">Reason-3).</span></strong><span style="color: #800000;"> </span>JVM Code Optimization.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Reason-4).</span></strong> Less Memory availabity for Native Area of a Java Process.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Reason-5).</span></strong><span style="color: #800000;"> </span>Application Servers Native Performance Pack Libraries.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Reason-6).</span></strong> JVMs library itself can cause the Crash.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Reason-7).</span></strong><span style="color: #800000;"> </span>High CPU Utilization by the Threads. As described in : <a title="http://middlewaremagic.com/weblogic/?p=4348" href="http://middlewaremagic.com/weblogic/?p=4348">http://middlewaremagic.com/weblogic/?p=4348</a></div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Reason-8).</span></strong> Presence of Wrong Native Libraries in the PATH or in the &#8220;<strong>-Djava.library.path</strong>&#8220;</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Reason-9).</span> </strong>Presence of A Different Version of Libraries in &#8220;java.library.path&#8221; or in &#8220;<strong>SHLIB</strong>&#8221; or in &#8220;<strong>LD_LIBRARY_PATH</strong>&#8221; variables. Like setting a 64-bit version of Library in a 32-bit version of JVM&#8217;s library path or vise-versa.</div>
<div>.</div>
<div>.</div>
<h2><span style="color: #800000;">Tools To Analyze the Core Dumps?</span></h2>
<div id="_mcePaste">Core/Crash dump is Operating System specific, So to analyze these Dumps we must use the Tools provided by the same Operating System vendors. Various kind of tools are provided by the Operating Systems to analyze these Core Dumps like:</div>
<div id="_mcePaste"><strong><span style="color: #800000;">Tool-1).</span></strong> Dr. Watson Tool  in Windows OS. Windows OS <strong>Start (Button)&#8212;&gt;Run&#8230;&#8212;&gt;drwtsn32</strong></div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Tool-2).</span></strong> &#8220;pstack&#8221; and &#8220;pmap&#8221; in Solaris Operating System.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Tool-3).</span></strong> &#8220;procstack&#8221; and &#8220;procmap&#8221; in AIX Operating System.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Tool-4).</span></strong> &#8220;lsstack&#8221; and &#8220;pmap&#8221; in Linux Operating System.</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Tool-5).</span></strong> &#8220;pflag&#8221; if available in HP-UX Operating System.</div>
<div>.</div>
<div>.</div>
<h2><span style="color: #800000;">What May Help To Avoid JVM Crash?</span></h2>
<div id="_mcePaste">It totally depends on What Caused the Crash or What Libraries caused the JVM crash to avoid the occurance of the JVM crash for next time. But following things should be taken in consideration while analyzing and avoiding the Crash.</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="color: #800000;">Point-1).</span></strong><span style="color: #800000;"> </span>If the Native Jdbc Driver is causing issues, If our appliation is using the Native JDBC Drivers then Switching from Pure Native Jdbc Driver (Type-2 Drivers) to the Pure Java JDBC Driver (Type-4 Driver) may help.</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="color: #800000;">Point-2).</span></strong> If the JVM Libraries are causing the Crash then Upgrading to a Later Version of the JDK. If that Application Server has that new JDK in it;s Supported Configuration list.</div>
<div id="_mcePaste">.</div>
<div><span style="color: #800000;"><strong>Point-3).</strong></span> If the JVM Code Optimization is causing the Crash, then Disabling the Code Optimization of JVM by applying the JVM Options.</div>
<div id="_mcePaste">For JRockit JVM Code Optimization can be disabled using JAVA_OPTION  <strong>-Xnoopt</strong></div>
<div id="_mcePaste">For Sun JDK Code Optimization can be disabled using   JAVA_OPTION  <strong>-Xint</strong></div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Point-4). </span></strong>Some times the &#8220;Just In Time Compiler&#8221; code generation also causes the JVM Crash. In these scenarios In Case of Sun JDKs disabling the JIT Compiler can help. We can disable the JIT Compiler by adding the JVM Option:  &#8221;<strong>-Djava.compiler=none</strong>&#8220;</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Point-5).</span></strong> Presence of a different bit version (32 bit or 64-bit libraries) of Library in the &#8220;<strong>-Djava.library.path</strong>&#8220;</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Point-6). </span></strong>Disabling the Application Servers Native Performance Packs. In WebLogic The Native IO Can be disabled using <strong>&#8220;-Dweblogic.NativeIOEnabled=false&#8221;</strong> JVM Option.</div>
<div id="_mcePaste">.</div>
<div id="_mcePaste">.</div>
<div id="_mcePaste">Thanks</div>
<div id="_mcePaste">Jay SenSharma</div>
</div>

		<div class="roubcornrcontent">         	
                <span class="posttags"><a href="http://middlewaremagic.com/weblogic/?tag=crash" rel="tag">Crash</a>, <a href="http://middlewaremagic.com/weblogic/?tag=debugging" rel="tag">debugging</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm-tuning" rel="tag">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?tag=monitoring" rel="tag">Monitoring</a></span>  
              	<span class="postcomments"><a href="http://middlewaremagic.com/weblogic/?p=4482#comments" title="Comment on Causes and First Aid of JVM Crash Issues?">16 Comments</a></span>
              	<span class="postmore"><a href="http://middlewaremagic.com/weblogic/?p=4482">more...</a></span>
                <div class="clr"></div>
        </div>


<div class="cleared"></div>
</div> <!-- Closes topPost --><br/>


<div class="postwrap">

        	<div class="postmeta2">
            	<div class="meta2inner">
                	<div class="pday">21</div>
                    <div class="pmonth">Nov/10</div>
                </div>
            </div> 

  <h2 class="posttitle"><a href="http://middlewaremagic.com/weblogic/?p=4500">Basic JVM Tuning Tips</a></h2>
  <div class="postmeta">by <a href="http://middlewaremagic.com/weblogic/?author=1" title="Posts by JaySenSharma">JaySenSharma</a> under <a href="http://middlewaremagic.com/weblogic/?cat=38" title="View all posts in Debug" rel="category">Debug</a>, <a href="http://middlewaremagic.com/weblogic/?cat=47" title="View all posts in JVM Tuning" rel="category">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?cat=79" title="View all posts in Monitoring" rel="category">Monitoring</a></div>
  <div class="clr16"></div>
  <div class="postcontent"><div id="_mcePaste">Hi All,</div>
<div id="attachment_3091" class="wp-caption alignleft" style="width: 117px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool.jpg"><img class="size-thumbnail wp-image-3091" title="Joy_pool" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg" alt="Jay SenSharma" width="107" height="116" /></a><p class="wp-caption-text">Jay SenSharma</p></div>
<div><strong><span style="color: #ff0000;">NOTE</span></strong> : Prerequisite of this post is that u are aware of the JVM Architecture and different generations of it&#8230;If not then Please refer to:  <a href="http://middlewaremagic.com/weblogic/?p=4464">http://middlewaremagic.com/weblogic/?p=4464</a></div>
<div><a href="http://middlewaremagic.com/weblogic/?p=4464"></a> <strong>And</strong></div>
<div><a title="http://middlewaremagic.com/weblogic/?p=4456" href="http://middlewaremagic.com/weblogic/?p=4456">http://middlewaremagic.com/weblogic/?p=4456</a><span style="font-family: Arial, Helvetica, sans-serif; line-height: normal; font-size: 12px; color: #373737;"> </span></div>
<div>.</div>
<div>Middleware performance is directly related to the JVM Tuning. Due to incorrect JVM Tuning we may face OutOfMemory, High CPU, StuckThread, Server Crash kind of issues. There is no standard value available for JVM Tuning which can be suggested so that a JVM can be called as 100% tuned because the JVM tuning totally depends on the Platform (Operating System), The Number of CPUs, The nature of Application (Like how many objects it creates? How Many Long Living Objects? How it implements Caching of Objects? &#8230;etc). But if we will keep following  things in mind while tuning the JVM then it may be really helpful.</div>
<div>.</div>
<div id="_mcePaste">Here are some very basic tips of tuning the JVM. Whatever Values of different JVM tuning parameters we are going to see and discuss in this Article is not an absolute value, it may vary according to your environmental setup and requirement.</div>
<h2><span style="color: #800000;">Tip-1).  If Observed the GC time is Very Long.</span></h2>
<div id="_mcePaste">If we observe that the Full Garbage Collection is taking a longer duration (Healthy JVM Usually takes around 2 to 2.5 Seconds for Full GC) then we must try following things:</div>
<div id="_mcePaste">.</div>
<div><strong><span style="color: #800000;">Point-1).</span></strong> <strong>-Xincgc: </strong> Applying the &#8220;-Xincgc&#8221; JVM Option instructs the JVM to use the incremental Garbage Collection Strategy. Due to this option the Garbage Collector starts Garbage Collecting a fraction of heap at a time rather than Garbage Collecting the whole Heap space at once. So it reduces the long GC pauses.</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="color: #800000;">Point-2).</span></strong> Apart from above we can even decide to decrease the Max Heap Size (If a very large heap is not required for us). Because if the Heap Size is very large then the Garbage Collector will take little longer duration to perform a full GC.</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="color: #800000;">Point-3).</span></strong><span style="color: #800000;"> </span>Suppose if we dont have an option to decrease the Heap Memory then we can even think of adjusting the <strong>-XX:MaxNewSize</strong> (in JDK1.3 and JDK1.4) or  <strong>-Xmn</strong> (new name of Young Generation flag from JDK1.4 onwards). Increasing the -Xmn (Young Generation Area) helps in scenarios where the Application creates short living objects (less caching Applications). Because it inceases the time of minor GC, most of the application objects dies early.</div>
<div>.</div>
<div id="_mcePaste"><strong>Example-1:</strong></div>
<div id="_mcePaste">Suppose the Maximum Heap is -Xmx1024m then we can choose the Young Generation EdenSpace as -Xmn340m&#8230; It means the 1/3 (one third of the Max Heap) Or in other way we can say that the Eden Space is One Third of the Maximum Heap.</div>
<div id="_mcePaste"><strong>Example-2:</strong></div>
<div id="_mcePaste">It can also be achieved by setting the -XX:NewRatio. Because  -XX:NewRatio=2 means that 2:1 ratio of Tenured and Young Generation(Eden)</div>
<h2><span style="color: #800000;">Tip-2).  Full GC Is Happening Very Frequently?</span></h2>
<div id="_mcePaste">Many times some application calls System.gc() or Runtime.gc() to perform explicit Garbage Collection (Which is not recommended). Apart from this if an Application uses many Remote Method Invocation calls then in that case as well there are chances that the full GC may happen very frequently.  In this case we can try disabling the Explicit Garbage Collection statements using the JVM Option:  <strong>-XX:+DisableExplicitGC</strong></div>
<div id="_mcePaste">Similarly If we dont require a very frequent RMI garbage collection then we can use the JVM Option:  -<strong>Dsun.rmi.dgc.client.gcInterval=1800000</strong> &#8230;&#8230;     It means now the Explicit RMI Garbage collection will happen in 30 Minutes.</div>
<h2><span style="color: #800000;">Tip-3).  OutOfMemoryError: unable to create new native thread?</span></h2>
<div id="_mcePaste">If you see very frequently &#8220;java.lang.OutOfMemoryError: unable to create new native thread&#8221;. It usually happens if the <strong>-Xss</strong> Stack size is very large. Thread Stack size is a memory area where the Threads places their local variables and maintains the stack. Many applications which creates a lots of Threads which requires less memory for their local variables, still the JVM allocates a large memory StackSize for those threads&#8230;so after a certain number of thread creation JVM will not be allocate some more space for new Thread creation.</div>
<div>.</div>
<div id="_mcePaste">So it is recommended for these kind of environments that we decrease the StackSize because Sparc 32-bit JVM has -Xss512k as default value and 1024k Stack Size on Sparc 64-bit JVM. So if we want to create some more threads and if the Threads requires less memory stack then in that case we should try to decrease the StackSize.</div>
<div id="_mcePaste"><strong>Example:</strong> <strong><a title="http://middlewaremagic.com/weblogic/?p=422" href="http://middlewaremagic.com/weblogic/?p=422">http://middlewaremagic.com/weblogic/?p=422</a></strong></div>
<div><strong><br />
</strong></div>
<h2><span style="color: #800000;">Tip-4). How To Preserve Memory ?</span></h2>
<div id="_mcePaste">We must disable loading some libraries in the memory of JVM if our application does not require them. Like if our Application does not require the JVMs Graphic Library then in that case we must diasble loading of Graphic libraries using the JVM Option  <strong>&#8220;-Djava.awt.headless=true&#8221;</strong></div>
<div><strong><br />
</strong></div>
<div id="_mcePaste"><span style="color: #ff0000;"><strong>Some More Tips&#8230;.Keep Visiting Middleware Magic&#8230;.</strong></span></div>
<div id="_mcePaste">.</div>
<div id="_mcePaste">.</div>
<div id="_mcePaste">Thanks</div>
<div id="_mcePaste">Jay SenSharma</div>
</div>

		<div class="roubcornrcontent">         	
                <span class="posttags"><a href="http://middlewaremagic.com/weblogic/?tag=debugging" rel="tag">debugging</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm-tuning" rel="tag">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?tag=monitoring" rel="tag">Monitoring</a></span>  
              	<span class="postcomments"><a href="http://middlewaremagic.com/weblogic/?p=4500#comments" title="Comment on Basic JVM Tuning Tips">14 Comments</a></span>
              	<span class="postmore"><a href="http://middlewaremagic.com/weblogic/?p=4500">more...</a></span>
                <div class="clr"></div>
        </div>


<div class="cleared"></div>
</div> <!-- Closes topPost --><br/>


<div class="postwrap">

        	<div class="postmeta2">
            	<div class="meta2inner">
                	<div class="pday">20</div>
                    <div class="pmonth">Nov/10</div>
                </div>
            </div> 

  <h2 class="posttitle"><a href="http://middlewaremagic.com/weblogic/?p=4464">OutOfMemory Causes and First Aid Steps?</a></h2>
  <div class="postmeta">by <a href="http://middlewaremagic.com/weblogic/?author=1" title="Posts by JaySenSharma">JaySenSharma</a> under <a href="http://middlewaremagic.com/weblogic/?cat=38" title="View all posts in Debug" rel="category">Debug</a>, <a href="http://middlewaremagic.com/weblogic/?cat=47" title="View all posts in JVM Tuning" rel="category">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?cat=79" title="View all posts in Monitoring" rel="category">Monitoring</a></div>
  <div class="clr16"></div>
  <div class="postcontent"><div id="_mcePaste">Hi All,</div>
<div id="attachment_3091" class="wp-caption alignleft" style="width: 117px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool.jpg"><img class="size-thumbnail wp-image-3091" title="Joy_pool" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg" alt="Jay SenSharma" width="107" height="116" /></a><p class="wp-caption-text">Jay SenSharma</p></div>
<div id="_mcePaste">In response to the Comment: <a href="http://middlewaremagic.com/weblogic/?p=4456#comment-2026">http://middlewaremagic.com/weblogic/?p=4456#comment-2026</a> We developed a Post on Java Heap. Thanks to &#8220;Swordfish&#8221; for querying us very important topic.</div>
<div>.</div>
<div>In most of the environments we usually see some kind of Memory related issues like OutOfMemory/Server Slowless kind of things. most of the times it is related to the in accurate tuning of the JVM and some times it happens due to the Application Frameworks Bug/ In accurate tuning configuration or it may happen due to the Application Code as well ..like Object Leakin in the Application code.</div>
<div>.</div>
<div><strong><span style="color: #ff0000;">NOTE: </span></strong>The pre requisit for this Post is that you are already aware of different Memory Spaces available as part of the Java Process..If Not then Please quickly review: <a href="http://middlewaremagic.com/weblogic/?p=4456">http://middlewaremagic.com/weblogic/?p=4456</a></div>
<div>.</div>
<div id="_mcePaste">Here we are going to see that what causes the OutOfMemory issues  and Why it happens along with some basic First Aid Steps to debug this kind of  issues.</div>
<h1><span style="color: #800000;">What is OutOfMemory?</span></h1>
<div id="_mcePaste">An OutOfMemory is a condition in which there is not enough space left for allocating required space for the new objects or libraries or native codes. OutOfMemory can be divided in tow main categories:</div>
<h2><span style="color: #800000;"><span style="text-decoration: underline;">1). OutOfMemory in Java Heap:</span></span></h2>
<div id="_mcePaste">This happens when the JVM is not able to allocate the required memory space for a Java Object. There may be many reasons behind this&#8230;like</div>
<div><strong><span style="color: #800000;">Point-1).</span></strong> Very Less Heap Size allocation. Means setting the MaxHeapSize (-Xmx) parameter to a very less value.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-2).</span></strong> The Leaking of Objects. Either the Application is not unreferencing the unused Objects or the Third part frameworks (Hibernate/Spring/Seam&#8230;etc) might not be releasing the references of the objects due to some inaccurate configurations.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-3).</span></strong> In Many cases it may be the reason that Application codes are getting the JDBC connections objects from the DataSource are not being released back to the Connection Pool.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-4).</span></strong> Garbage Collection strategy may be in correct according to the environmental/application requirements.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-5).</span></strong> In-accurate setting of Application/Frameworks Cache.</div>
<div id="_mcePaste"><strong>Example:</strong></div>
<pre class="brush: java; wrap-lines: false;">
Exception in thread &quot;Thread-10&quot; java.lang.OutOfMemoryError: Java heap space
at java.util.Arrays.copyOf(Arrays.java:2882)
at java.lang.AbstractStringBuilder.expandCapacity(Abs tractStringBuilder.java:100)
at java.lang.AbstractStringBuilder.append(AbstractStr ingBuilder.java:390)
at java.lang.StringBuilder.append(StringBuilder.java: 119)
at java.lang.Throwable.toString(Throwable.java:344)
</pre>
<h2><span style="text-decoration: underline;"><span style="color: #800000;">2). Native OutOfMemory:</span></span></h2>
<div id="_mcePaste">Native OutOfMemory is a scenario when the JVM is not able to allocate the required Native Libraries and JNI Codes in the memory.</div>
<div id="_mcePaste">Native Memory is an area which is usually used by the JVM for it&#8217;s internal operations and to execute the JNI codes. The JVM Uses Native Memory for Code Optimization and for loading the classes and libraries along with the intermediate code generation.</div>
<div>The Size of the Native Memory depends on the Architecture of the Operating System and the amount of memory which is already commited to the Java Heap. Native memory is an Process Area where the JNI codes gets loaded or JVM Libraries gets loaded or the native Performance packs and the Proxy Modules gets loaded&#8230;</div>
<div>Native OutOfMemory can happen due to the following main reasons:</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-1)</span></strong><span style="color: #800000;">.</span> Setting very small StackSize (-Xss). StackSize is a memory area which is allocated to individual threads where they can place their thread local objects/variables.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-2).</span></strong> Usually it may be seen because of Tuxedos incorrect setting. WebLogic Tuxedo Connectors allows the interoperability between the Java Applications deployed on WebLogic Server and the Native Services deployed on Tuxedo Servers. Because Tuxedos uses JNI code intensively.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-3).</span></strong> Less RAM or Swap Space.</div>
<div id="_mcePaste">Example: For details on this kind of error Please refer to: <a title="http://middlewaremagic.com/weblogic/?p=422" href="http://middlewaremagic.com/weblogic/?p=422">http://middlewaremagic.com/weblogic/?p=422</a></div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-4).</span></strong> Usually it may occur is our Application is using a very large number of JSPs in our application. The JSPs need to be converted into the Java Code and then need to be compiled. Which reqires DTD and Custom Tag Library resolution as well. Which usually consumes more native memory.</div>
<pre class="brush: java; wrap-lines: false;">
Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: unable to create new native thread
at java.lang.Thread.start0(Native Method)
at java.lang.Thread.start(Thread.java:574)
at TestXss.main(TestXss.java:18)
</pre>
<h2><span style="text-decoration: underline;"><span style="color: #800000;">3).  OutOfMemory in PermGen Space:</span></span></h2>
<div id="_mcePaste">Permanent Generation is a Non-Heap Memory Area inside the JVM Space. Manytimes we see OutOfMemory in this Area. PermGen Area is NOT present in JRockit JVMs. For more details on this area please refer to: <a title="http://middlewaremagic.com/weblogic/?p=4456" href="http://middlewaremagic.com/weblogic/?p=4456">http://middlewaremagic.com/weblogic/?p=4456</a>.</div>
<div>.</div>
<div>The PermGen Area is measured independently from the other generations because this is the place where the JVM allocates Classes, Class Structures, Methods and Reflection Objects. PermGen is a Non-Heap Area.It means we DO NOT count the PermGen Area as part of Java Heap.</div>
<div>The OutOfMemory in PermGen Area can be seen because of the following main reasons:</div>
<div><strong><span style="color: #800000;">Point-1).</span></strong><span style="color: #800000;"> </span>Deploying and Redeploying a very Large Application which has many Classes inside it.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-2).</span></strong> If an Application is getting deployed/Updated/redeployed repeatedly using the Auto Deployment feature of the Containers. In that case the Classes belonging to the application stays un cleaned and remains in the PermGen Area without Class Garbage Collection.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-3).</span></strong> If  &#8221;<strong>-noclassgc</strong>&#8221; Java Option is added while starting the Server. In that case the Classes instances which are not required will not be Garbage collected.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-4).</span></strong> Very Less Space for allocated the &#8220;=XX:MaxPermGen&#8221;</div>
<div>Example: you can see following kind of Trace in the Server/Stdout Logs:</div>
<pre class="brush: java; wrap-lines: false;">
&lt;Notice&gt; &lt;Security&gt; &lt;BEA-090171&gt; &lt;Loading the identity certificate and private key stored under the alias DemoIdentity from the jks keystore file D:\ORACLE\MIDDLE~1\WLSERV~1.3\server\lib\DemoIdentity.jks.&gt;
Exception in thread &quot;[STANDBY] ExecuteThread: '1' for queue: 'weblogic.kernel.Default (self-tuning)'&quot; java.lang.OutOfMemoryError: PermGen space
at java.lang.ClassLoader.defineClass1(Native Method)
at java.lang.ClassLoader.defineClass(ClassLoader.java:621)
at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)
at java.net.URLClassLoader.defineClass(URLClassLoader.java:260)
at java.net.URLClassLoader.access$000(URLClassLoader.java:56)
at java.net.URLClassLoader$1.run(URLClassLoader.java:195)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
at java.lang.ClassLoader.loadClass(ClassLoader.java:252)
at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)
at weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)
at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
</pre>
<h1><span style="color: #800000;">What to do in case of OutOfMemory In JavaHeap?</span></h1>
<div id="_mcePaste">Whenever we see an OutOfMemory in the server log or in the stdout of the server. We must try to do the following things as first aid steps:</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-1).</span></strong> If possible enable the following JAVA_OPTIONS in the server start Scripts to get the informations of the Garbage Collection status.</div>
<div id="_mcePaste"><strong>-verbose:gc -XX:+PrintGCTimeStamps -XX:+PrintGCDetails  -Xloggc:/opt/app/GCLogsDirectory/gc.log</strong></div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-2).</span> </strong>It is always needed to see what all objects were present when the OutOfMemory error occured to identify whether those objects belongs to the Application Code/ Application Framework Codes/ The Application Server APIs. Sothat we can isolate the issue. In order to get the details of the Heap Objects collect &#8220;HeapDump&#8221; either using JHat (not a better tool) or JMap (Much Better compared to the Jhat tool). Plese refer to the post to know how to do it : <a title=" http://middlewaremagic.com/weblogic/?p=2241" href=" http://middlewaremagic.com/weblogic/?p=2241"> http://middlewaremagic.com/weblogic/?p=2241</a></div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-3)</span></strong><span style="color: #800000;">.</span> Once we collected the Heap Dump we can easily monitor the Heap Details using best GUI toold like &#8220;Jhat Web Browser&#8221; or using &#8220;Eclipse Memory Analyzer&#8221;.</div>
<h1><span style="color: #800000;">What to do in case of Native OutOfMemory?</span></h1>
<div id="_mcePaste"><strong><span style="color: #800000;">Point-1).</span></strong> Usually Native OutOfMemory causes Server/JVM Crash. So it is always recommended to apply the following JAVA_OPTIONS flags in the Server Start Script to instruct the JVM to generate the HeapDump  &#8221;<strong>-XX:+HeapDumpOnOutOfMemoryError</strong>&#8220;</div>
<div id="_mcePaste">By default the heap dump is created in a file called java_pidpid.hprof in the working directory of the VM, as in the example above. You can specify an alternative file name or directory with the &#8220;<strong>-XX:HeapDumpPath=C:/someLocation/</strong>&#8220;</div>
<div>.</div>
<div id="_mcePaste"><strong><span style="color: #ff0000;">Note:</span></strong> Above Flags are also suitable to collect HeapDump in case of JavaHeap OutOfMemory as well. But these flags never gurantees that the JVM will always generate the Heap Dump in case of any OutOfMemory Situation.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-2).</span></strong> Usually in case of Native OutOfMemory a &#8220;hs_err_pid.log&#8221; file is created in case of Sun JDK and &#8220;xxxx.dump&#8221; file is created in case of JRockit JDK. These log files are usually Text Files and tells about the Libraries which caused the Crash. These files need to be collected and analyzed to find out the root cause.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-3).</span></strong> Make Sure that the <strong>-XX:MaxHeapSize</strong> is not set to a Very Large Space&#8230;because it will cause a very less Native Space allocation. Because as soon as we increase the HeapSize, the Native Area decreases. Please see the Post: <a title="http://middlewaremagic.com/weblogic/?p=4456" href="http://middlewaremagic.com/weblogic/?p=4456">http://middlewaremagic.com/weblogic/?p=4456</a></div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-4).</span></strong> Keep Monitoring the process&#8217;s memory using the Unix utility &#8216;ps&#8217; like following:</div>
<div><strong>ps -p &lt;PID&gt; -o vsz</strong></div>
<div>Here you need to pass the WebLogic Server&#8217;s PID (Process ID) to get it&#8217;s Threading Details with respect to the Virtual Memory Space.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-5).</span></strong> If the Heap Usages is less Or if you see that Your Application usages less Heap Memory then it is always better to reduls the MaxHeapSize  so that the Native Area will automatically gets increased.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-6).</span></strong> Sometimes the JVMs code optimization causes Native OutOfMemory or the Crash&#8230;So in this case we can disable the Code Optimization feature of JVM.</div>
<div>(<strong><span style="color: #ff0000;">Note: </span></strong>disabling the Code Optimization of JVM will decrease the Performance of JVM)</div>
<div>For JRockit JVM Code Optimization can be disabled using JAVA_OPTION  -<strong>Xnoopt</strong></div>
<div>For Sun JDK Code Optimization can be disabled using   JAVA_OPTION  <strong>-Xint</strong></div>
<h1><span style="color: #800000;">What to do in case of OutOfMemory In PermGen?</span></h1>
<div id="_mcePaste"><strong><span style="color: #800000;">Point-1).</span></strong> Make Sure that the PermGen Area is not set to a very less value.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-2).</span></strong> Usually if an Application has Many JSP Pages in that case every JSP will be converted to a *.class file before JSP Request Process. So a large number of JSPs causes generation of a Large number of *.class files all these classes gets loaded in the PermGen area.</div>
<div>.</div>
<div><strong><span style="color: #800000;">Point-3).</span></strong> While allocating the<strong> -XX:MaxPermSize</strong> make sure that you follow a rough Formula&#8230; which works in most of the Application Servers.</div>
<div id="_mcePaste">MaxPermSize = (Xmx/3) &#8212;- Very Special Cases (One Third of maximum Heap Size)</div>
<div id="_mcePaste">MaxPermSize = (Xmx/4) &#8212;- Recommended (One Fourth Of maximum Heap Size)</div>
<div><strong><span style="color: #800000;">Point-4). </span></strong> If you are repeatedly getting the OutOfMemory in PermGen space then it could be a Classloader leak….</div>
<div>May be some of the classes are not being unloaded from the permgen area of JVM . So please try to increase the -XX:MaxPermSize=512M  or little more and see if it goes away.</div>
<div>If not then add the following JAVA_OPTIONS to trace the classloading and unloading to find out the root cause :</div>
<div><strong>-XX:+TraceClassloading and -XX:+TraceClassUnloading</strong></div>
<div id="_mcePaste">.</div>
<div id="_mcePaste">.</div>
<div id="_mcePaste">Thanks</div>
<div id="_mcePaste">Jay SenSharma</div>
</div>

		<div class="roubcornrcontent">         	
                <span class="posttags"><a href="http://middlewaremagic.com/weblogic/?tag=debugging" rel="tag">debugging</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm-tuning" rel="tag">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?tag=monitoring" rel="tag">Monitoring</a>, <a href="http://middlewaremagic.com/weblogic/?tag=native-outofmemory" rel="tag">Native outOfMemory</a>, <a href="http://middlewaremagic.com/weblogic/?tag=outofmemory" rel="tag">OutOfMemory</a>, <a href="http://middlewaremagic.com/weblogic/?tag=permgen" rel="tag">PermGen</a></span>  
              	<span class="postcomments"><a href="http://middlewaremagic.com/weblogic/?p=4464#comments" title="Comment on OutOfMemory Causes and First Aid Steps?">46 Comments</a></span>
              	<span class="postmore"><a href="http://middlewaremagic.com/weblogic/?p=4464">more...</a></span>
                <div class="clr"></div>
        </div>


<div class="cleared"></div>
</div> <!-- Closes topPost --><br/>


<div class="postwrap">

        	<div class="postmeta2">
            	<div class="meta2inner">
                	<div class="pday">20</div>
                    <div class="pmonth">Nov/10</div>
                </div>
            </div> 

  <h2 class="posttitle"><a href="http://middlewaremagic.com/weblogic/?p=4456">Parts Of JVM And JVM Architecture Diagram?</a></h2>
  <div class="postmeta">by <a href="http://middlewaremagic.com/weblogic/?author=1" title="Posts by JaySenSharma">JaySenSharma</a> under <a href="http://middlewaremagic.com/weblogic/?cat=38" title="View all posts in Debug" rel="category">Debug</a>, <a href="http://middlewaremagic.com/weblogic/?cat=47" title="View all posts in JVM Tuning" rel="category">JVM Tuning</a></div>
  <div class="clr16"></div>
  <div class="postcontent"><div id="_mcePaste">Hi All,</div>
<div id="attachment_3091" class="wp-caption alignleft" style="width: 117px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool.jpg"><img class="size-thumbnail wp-image-3091" title="Joy_pool" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg" alt="Jay SenSharma" width="107" height="116" /></a><p class="wp-caption-text">Jay SenSharma</p></div>
<div id="_mcePaste">JVM is the heart of any Java based Application Server. We face most of the issues deu to incorrect JVM tunning. It is very important to understand the Overall architecture of the JVM in order to trouble shoot different JVM tunning related issues.Here we are going to discuss the Architecture and the Major parts of a Java Process And the Java Heap Division.</div>
<div>.</div>
<div id="_mcePaste">The Following Diagram is just a basic overview of a Java Process in a 2 GB process Size Machine. Usually in 32 bit Windows Operating Systems the default process size will be 2 GB (In Unix based 64 bit operating Systems it can be 4GB or more). So i draw the following Diagram of Java Process to explain the Java Process partitions in a 2Gb process size machine.</div>
<div>
<div id="attachment_4515" class="wp-caption aligncenter" style="width: 310px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Java_Heap_Diagram_12.jpg"><img class="size-medium wp-image-4515" title="Java_Heap_Diagram_1.jpg" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Java_Heap_Diagram_12-300x140.jpg" alt="Java Process Architecture Diagram" width="300" height="140" /></a><p class="wp-caption-text">Java Process Architecture Diagram</p></div>
</div>
<div id="_mcePaste">In the above diagram we will find different partitions of a Java Process. Please compare the above diagram with below descriptions.</div>
<div>.</div>
<div id="_mcePaste"><strong>1).</strong> Just for Example we can see that Process Size is 2048 MB (2GB)</div>
<div id="_mcePaste"><strong>2). </strong>The Java Heap Size is 1024MB (means 1GB)   -Xmx1024m</div>
<div id="_mcePaste"><strong>3). </strong>Native Space = ( ProcessSize &#8211; MaxHeapSize &#8211; MaxPermSize) It means around 768 MB of Native Space.</div>
<div id="_mcePaste"><strong>4). </strong>MaxPermSpace is around -XX:MaxPermSize=256m</div>
<div id="_mcePaste"><strong>5). </strong>Young Generation Space is around    40% of Maximum Java Heap.</div>
<h1><span style="color: #800000;">What Are these Different Parts?</span></h1>
<h2><span style="color: #800000;">Eden Space: </span></h2>
<div>Eden Space is a Part of Java Heap where the JVM initially creates any objects, where most objects die and quickly are cleanedup by the minor Garbage Collectors (Note: Full Garbage Collection is different from Minor Garbage Collection). Usually any new objects created inside a Java Method go into Eden space and the objects space is reclaimed once the method execution completes. Where as the Instance Variables of a Class usually lives longer until the Object based on that class gets destroyed. When Eden fills up it causes a minor collection, in which some surviving objects are moved to an older generation.</div>
<h2><span style="color: #800000;">Survivor Spaces:</span></h2>
<div id="_mcePaste">Eden Sapce has two Survivor spaces. One survivor space is empty at any given time. These Survivor Spaces serves as the destination of the next copying collection of any living objects in eden and the other survivor space.</div>
<div id="_mcePaste">The parameter SurvivorRatio can be used to tune the size of the survivor spaces.</div>
<div id="_mcePaste">-XX:SurvivorRatio=6 sets the ratio between each survivor space and eden to be 1:6</div>
<div id="_mcePaste">If survivor spaces are too small copying collection overflows directly into the tenured generation.</div>
<h2><span style="color: #800000;">Young Generation: (-XX:MaxNewSize)</span></h2>
<div id="_mcePaste">Till JDK1.3 and 1.4 we used to set the Young Generation Size using <strong>-XX:MaxNewSize</strong>. But from JDK1.4 onwards we set the YoungGeneration size using (<strong>-Xmn</strong>) JVM option.</div>
<div>Young Generation size is controlled by NewRatio.  It means setting -XX:NewRatio=3 means that the ratio between the Old Generation and the Young Generation is  1:3</div>
<div id="_mcePaste">.</div>
<div>Similarly -XX:NewRatio=8 means that 8:1 ratio of tenured and young generation.</div>
<div><strong>NewRatio: </strong> NewRatio is actually the ratio between the (YoungGenaration/Old Generations) has default values of 2 on Sparc , 12 on client Intel, and 8 everywhere else.</div>
<div><strong><span style="color: #ff0000;">NOTE: </span></strong>After JDK 1.4 The Young Generation Size can be set using  (<strong>-Xmn</strong>) as well.</div>
<h2><strong><span style="color: #800000;">Virtual Space-1: (MaxNewSize &#8211; NewSize)</span></strong></h2>
<div id="_mcePaste">The First Virtual Space is actually shows the difference between the -XX:NewSize and -XX:MaxNewSize.  Or we can say that it is basically a difference between the Initial Young Size and the Maximum Young Size.</div>
<h2><span style="color: #800000;">Java Heap Area: (-Xmx and -Xms)</span></h2>
<h3><span style="color: #800000;"> </span><span style="font-weight: normal; font-size: 13px;">Java Heap is a Memory area inside the Java Process which holds the java objects.  Java Heap is a combination of Young Generation Heap and Old Generation Heap. We can set the Initial Java Heap Size using -Xms JVM parameter similarly if we want to set the Maximum Heap Size then we can use -Xmx JVM parameter to define it.</span></h3>
<div><strong>Example: </strong></div>
<div><strong>-Xmx1024m</strong> &#8212;&gt; Means Setting the Maximum limit of Heap as 1 GB</div>
<div><strong>-Xms512m </strong>&#8212;&gt; Means setting Java Heap Initial Size as 512m</div>
<div>.</div>
<div><strong><span style="color: #ff0000;">NOTE-1):</span></strong> It is always recommended to set the Initial and the Maximum Heap size values as same for better performance.</div>
<div><strong><span style="color: #ff0000;">NOTE-2):</span></strong> The Theoretical limitation of Maximum Heap size for a 32 bit JVM is upto 4GB. Because of the Memory Fragmentation, Kernel Space Addressing, Swap memory usages and the Virtual Machine Overheads are some factors JVM does not allow us to allocate whole 4GB memory for Heap in a 32 bit JVM. So usually on 32-bit Windows Operating Systems the Maximum can be from 1.4 GB to 1.6 GB.</div>
<div>.</div>
<div>If we want a Larger memory allocation according to our application requirement then we must choose the 64-bit operating systems with 64 bit JVM. 64-bit JVM provides us a larger address space. So we can have much larger Java Heap  with  the increased number of Threads allocation area. Based on the Nature of your Operating system in a 64 bit JVM you can even set the Maximum Heap size upto 32GB.</div>
<div>Example:        <span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace; line-height: 18px; font-size: 12px; white-space: pre-wrap;"><em>-Xms32g -Xmx32g -Xmn4g</em></span></div>
<h2><span style="color: #800000;">Virtual Space-2: (MaxHeapSize &#8211; InitialHeapSize)</span></h2>
<div id="_mcePaste">The Second Virtual Space is actually the Difference between the Maximum Heap size (<strong>-Xmx</strong>)and the Initial Heap Size(<strong>-Xms</strong>). This is called as virtual space because initially the JVM will allocate the Initial Heap Size and then according to the requirement the Heap size can grow till the MaxHeapSize.</div>
<div id="_mcePaste">.</div>
<h2><strong><span style="color: #800000;">PermGen Space: (-XX:MaxPermSize)</span></strong></h2>
<div id="_mcePaste">PermGen is a non-heap memory area where the Class Loading happens and the JVM allocates spaces for classes, class meta data,  java methods and the reference Objects here. The PermGen is independent from the Heap Area. It can be resized according to the requirement using -XX:MaxPermSize and -XX:PermSize  JVM Options. The Garbage collection happens in this area of JVM Memory as well. The Garbage collection in this area is called as &#8220;Class GC&#8221;. We can disable the Class Garbage Collection using the JVM Option -noclassgc. if  &#8221;-noclassgc&#8221; Java Option is added while starting the Server. In that case the Classes instances which are not required will not be Garbage collected.</div>
<h2><strong><span style="color: #800000;">Native Area:</span></strong></h2>
<div id="_mcePaste">Native Memory is an area which is usually used by the JVM for it’s internal operations and to execute the JNI codes. The JVM Uses Native Memory for Code Optimization and for loading the classes and libraries along with the intermediate code generation.</div>
<div id="_mcePaste">The Size of the Native Memory depends on the Architecture of the Operating System and the amount of memory which is already commited to the Java Heap. Native memory is an Process Area where the JNI codes gets loaded or JVM Libraries gets loaded or the native Performance packs and the Proxy Modules gets loaded.</div>
<div id="_mcePaste">There is no JVM Option available to size the Native Area. but we can calculate it approximately using the following formula:</div>
<div id="_mcePaste"><strong>NativeMemory = (ProcessSize &#8211; MaxHeapSize &#8211; MaxPermSize)</strong></div>
<div id="_mcePaste">.</div>
<div id="_mcePaste">.</div>
<div id="_mcePaste">Thanks</div>
<div id="_mcePaste">Jay SenSharma</div>
</div>

		<div class="roubcornrcontent">         	
                <span class="posttags"><a href="http://middlewaremagic.com/weblogic/?tag=eden-space" rel="tag">Eden Space</a>, <a href="http://middlewaremagic.com/weblogic/?tag=java-heap" rel="tag">Java Heap</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm" rel="tag">JVM</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm-architecture-diagram" rel="tag">Jvm Architecture Diagram</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm-tuning" rel="tag">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?tag=native" rel="tag">Native</a>, <a href="http://middlewaremagic.com/weblogic/?tag=permgen" rel="tag">PermGen</a>, <a href="http://middlewaremagic.com/weblogic/?tag=survivor-spaces" rel="tag">Survivor Spaces</a>, <a href="http://middlewaremagic.com/weblogic/?tag=young-generation" rel="tag">Young Generation</a></span>  
              	<span class="postcomments"><a href="http://middlewaremagic.com/weblogic/?p=4456#comments" title="Comment on Parts Of JVM And JVM Architecture Diagram?">4 Comments</a></span>
              	<span class="postmore"><a href="http://middlewaremagic.com/weblogic/?p=4456">more...</a></span>
                <div class="clr"></div>
        </div>


<div class="cleared"></div>
</div> <!-- Closes topPost --><br/>


<div class="postwrap">

        	<div class="postmeta2">
            	<div class="meta2inner">
                	<div class="pday">18</div>
                    <div class="pmonth">Nov/10</div>
                </div>
            </div> 

  <h2 class="posttitle"><a href="http://middlewaremagic.com/weblogic/?p=4375">What Is Server Hang And What Need To Be Done ?</a></h2>
  <div class="postmeta">by <a href="http://middlewaremagic.com/weblogic/?author=1" title="Posts by JaySenSharma">JaySenSharma</a> under <a href="http://middlewaremagic.com/weblogic/?cat=38" title="View all posts in Debug" rel="category">Debug</a>, <a href="http://middlewaremagic.com/weblogic/?cat=47" title="View all posts in JVM Tuning" rel="category">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?cat=79" title="View all posts in Monitoring" rel="category">Monitoring</a></div>
  <div class="clr16"></div>
  <div class="postcontent"><p>Hi All,</p>
<div id="attachment_3091" class="wp-caption alignleft" style="width: 117px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool.jpg"><img class="size-thumbnail wp-image-3091" title="Joy_pool" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg" alt="Jay SenSharma" width="107" height="116" /></a><p class="wp-caption-text">Jay SenSharma</p></div>
<p>Thread dump analysis is the most important part to find out the Server slow responsiveness or Hang Server Situation or sometimes a Crash scenario as well if happened because of the Stuck threads. Here we are going to see some very basic but important features of  WebLogic Thread Model and the functionality and tasks performed by these Threads. Here we will talk about some very common terminology which we use while analyzing the Thread Dump or Hang Server Situation.</p>
<h2><span style="color: maroon;">What is Hang Server Situation and It&#8217;s Symptoms?</span></h2>
<p>1). If a server responses very slow compared to the estimated time of response then it may be moving to total Hang Server Situation.</p>
<p>2). If a Server does not even response to the clients requests, then it is a Complete Server Hang scenario. Some times the complete stuckness of a Server also may cause a Server Crash.</p>
<h2><span style="color: maroon;">Roles &amp; Responsibilities  Of WebLogic Threads?</span></h2>
<p>The WebLogic Threads can be broadly categorized into 2 Main categories.<br />
<strong><span style="color: maroon;">1). WebLogic Execute Threads: </span></strong> These Threads are responsible for processing the clients/users requests. This decides that how many tasks a server can be performed in parallel.  By default in development mode the WLS Server will have 15 Execute Threads and if we run the Server in Production mode then the WLS Server will have 25 Execute Threads as Default. Increasing the Execute Thread count does not mean increase in performance&#8230;rather in some cases it may even degrade the performance.<br />
<strong><span style="color: maroon;">2). WebLogic Socket Reader Threads:</span></strong> These threads listens to the incoming clients requests, Means basically these Threads deals with the Network traffic part.  These are basically a percentage of Execute Threads. The Default ration between is Execute Threads and Socket Reader Threads is 33%. Means 33% Threads will be Socket Readers as default. Which can be tuned according to the requirement.<br />
<strong> Example:</strong> if we have 15 Execute Threads in Development Mode of WLS Server then it simply means that around 33% of these threads will work as Socket Reader Threads and rest Threads will be processing the Clients request.</p>
<h2><span style="color: maroon;">What are Execute Queues?</span></h2>
<p>Execute Queue is a group of Execute Threads which will be taking care of designated Servlets / RMI Ojects/ EJBs/ JSPs&#8230;etc. Till WLS8.1 we could see these Execute Queues informations  available as part of &#8220;config.xml&#8221; file entry. But from WLS 9.x onwards as the WebLogic Threading Model is changed because of the introduction of WorkManagers, we wont see the Execute Queues details by default in WLS9.x and later WLS. But still if we want to use the WLS8.1 style of Threading model in WLS9.x or Later versions of WebLogic then we can use the  the following JAVA_OPTION :  <strong>-Dweblogic.Use81StyleExecuteQueues=true</strong></p>
<h2><span style="color: maroon;">Possible Cause of Server Hang?</span></h2>
<p>There may be many reasons behind Server Slow responsiveness or Hang scenario&#8230;</p>
<p><strong><span style="color: maroon;">Cause 1).</span></strong> If the Free Heap memory is very less then the the Threads will NOT be able to create required objects in the Java Heap.</p>
<p><strong><span style="color: maroon;">Cause 2).</span></strong> Insufficient number of Threads. It happens some times that if the Load (number of users request) on Server suddenly increased and the MaxThreadCount is not set to a correct value then Server will not be able to process these many requests.</p>
<p><strong><span style="color: maroon;">Cause 3).</span></strong> If the Garbage Collection is taking much time in that case the Garbage Data clean up process will take longer time and the Threads will be doing Garbage Collection rather than processing the clients request. Or the Threads will be waiting for some free memory to create some objects in the heap.</p>
<p><strong><span style="color: maroon;">Cause 4).</span></strong> Sometimes Java Code optimization also causes a temporary hang scenario, because the code optimization is a little heavy process but useful for better performance.</p>
<p><strong><span style="color: maroon;">Cause 5).</span></strong> Many Remote Jdbc Lookups can sometimes cause the Hang scenario.</p>
<p><strong><span style="color: maroon;">Cause 6).</span></strong> In accurate JSP compilation settings. (recommended always precompile the JSPs before deploying it to the production environments and the  PageCheckSeconds must be set correctly sothat the JSP compilation will not happen very frequently)</p>
<p><strong><span style="color: maroon;">Cause 7).</span></strong> Application code Deadlock or Jdbc Driver Deadlocks or Vendor API Bug: When threads waits in infinite loop to gain lock on objects&#8230; Example scenario below<br />
<strong> Example:</strong><br />
1).  Thread_A has Gained Lock on Object Obj_A<br />
2).  Thread_B Gained Lock on Object Obj_B<br />
3).  Now After performing some operations on Obj_A the Thread_A  is trying to get Lock on Obj_B (Obj_B is already locked by Thread_B currently)<br />
4).  Similarly after performing some operations on Obj_B the Thread_B wants to gain Lock on Obj_A (Obj_A is already locked by Thread_A)</p>
<p>In Above Scenario Now Both the Threads are waiting for each other to release the Lock on their object &#8230; but none of them is actually releasing the lock from the Objects which they Already have Locked.</p>
<p><strong><span style="color: maroon;">Cause 8).</span></strong> If the Number of File Descriptors are very less (insufficient resources) in this case also we might face slow server response or Server Hang situations.</p>
<h2><span style="color: maroon;">How the Server Log will Look like in case of Hang Scenarios or Slow Responsiveness?</span></h2>
<p>By Default 600 Seconds (10 Minutes) is the default duration after which the WebLogic Server declares a Thread as a STUCK Thread. The Entry of Stuck Thread occurance can be seen in the Server Logs. You can see following kind of entry in the Server Logs&#8230;</p>
<pre class="brush: java; wrap-lines: true;">
&lt;Warning&gt; &lt;WebLogicServer&gt; &lt;BEA-000337&gt; &lt;ExecuteThread: '7' for queue: 'weblogic.kernel.Default' has been busy for &quot;630&quot; seconds working on the request &quot;weblogic.ejb20.internal.JMSMessagePoller@d64412&quot;, which is more than the configured time (StuckThreadMaxTime) of &quot;600&quot; seconds.&gt;
</pre>
<h2><span style="color: maroon;">Does the Above kind of Entry in Server Log means WebLogic is Hang?</span></h2>
<p>Above message in server Log is just an indication that some Threads are taking longer time to process some requests which may lead to a Hang Server Situation and of course Slow responsiveness of WebLogic Server. But it doesn&#8217;t mean 100% that WebLogic cannot recover these Threads.</p>
<p>WebLogic has a capability to Declare a STUCK thread as UNSTUCK. Weblogic would priodically check for stuck threads based on settings of &#8220;Stuck Thread Max Time&#8221; and &#8220;Stuck Thread Timer Interval&#8221;  <a title="http://e-docs.bea.com/wls/docs103/ConsoleHelp/taskhelp/tuning/TuningExecuteThreads.html" href="http://e-docs.bea.com/wls/docs103/ConsoleHelp/taskhelp/tuning/TuningExecuteThreads.html">http://e-docs.bea.com/wls/docs103/ConsoleHelp/taskhelp/tuning/TuningExecuteThreads.html</a>.</p>
<p>Weblogic will just report the thread as stuck and in case the thread progresses(may be it seemed to be stuck but was actually running a long transaction), weblogic would declare it as unstuck.<br />
Many times it happens that our Application requirement says that a Thread can take more time to process the Clients request (more than 600 Seconds) In that case we can change the &#8220;StuckThreadMaxTime&#8221; interval.  Example if we know that our Application has some long running Jdbc queries which may take upto 900 Seconds then we can increase the StuckThreadMaxTime.</p>
<h2><span style="color: maroon;">What First Aid Steps Required to Collect Debug Data ?</span></h2>
<p><strong><span style="color: maroon;">Debugging-1).</span></strong> Try to ping the WebLogic Server 5-6 times using &#8220;weblogic.Admin PING&#8221; utility to see how quickly we are getting the response back?</p>
<pre class="brush: java; wrap-lines: true;">
java weblogic.Admin -url t3://StuckThreadHostName:9001  -username weblogic -password weblogic  PING
</pre>
<p><strong><span style="color: maroon;">Debugging-2).</span></strong> As soon as you get time check the Verbose GC Logs (Garbage Collection Logs if you have already enabled the Garbage Collection Logging by applying the following JAVA_OPTIONS)</p>
<pre class="brush: java; wrap-lines: true;">
set JAVA_OPTIONS=%JAVA_OPTIONS%  -Xloggc:/opt/logs/gc.log -XX:+PrintGCDetails -Xmx1024m -Xms1024m
</pre>
<p><strong><span style="color: maroon;">Debugging-3).</span></strong> Collect at least 4-5 Thread Dumps taken in the interval of 9-10 seconds each to see the Activities of Threads. Follow the various ways of collecting Thread Dumps:  <a href="http://middlewaremagic.com/weblogic/?p=823">http://middlewaremagic.com/weblogic/?p=823</a></p>
<p><strong><span style="color: maroon;">Debugging-4).</span></strong> Check If the Load (Number of Clients Request) is/was abnormally very High on the Server?</p>
<p><strong><span style="color: maroon;">Debugging-5).</span></strong> Check if the JMS Subsystem connectivity or the Database connectivity is lost somewhere&#8230; You may find in the Server Logs some Strange entries like DataSource is Disables/ Network Adapter could not Establish Connection to the Database/  JMS Messaging System &#8220;PeerGoneException&#8221; &#8230;.. Tuxedo/Jolt Connectivity Errors&#8230;etc.<br />
.</p>
<p>.</p>
<p>Thanks</p>
<p>Jay SenSharma</p>
</div>

		<div class="roubcornrcontent">         	
                <span class="posttags"><a href="http://middlewaremagic.com/weblogic/?tag=debugging" rel="tag">debugging</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm-tuning" rel="tag">JVM Tuning</a></span>  
              	<span class="postcomments"><a href="http://middlewaremagic.com/weblogic/?p=4375#comments" title="Comment on What Is Server Hang And What Need To Be Done ?">5 Comments</a></span>
              	<span class="postmore"><a href="http://middlewaremagic.com/weblogic/?p=4375">more...</a></span>
                <div class="clr"></div>
        </div>


<div class="cleared"></div>
</div> <!-- Closes topPost --><br/>


<div class="postwrap">

        	<div class="postmeta2">
            	<div class="meta2inner">
                	<div class="pday">12</div>
                    <div class="pmonth">Nov/10</div>
                </div>
            </div> 

  <h2 class="posttitle"><a href="http://middlewaremagic.com/weblogic/?p=4348">High CPU Analysis in AIX</a></h2>
  <div class="postmeta">by <a href="http://middlewaremagic.com/weblogic/?author=1" title="Posts by JaySenSharma">JaySenSharma</a> under <a href="http://middlewaremagic.com/weblogic/?cat=38" title="View all posts in Debug" rel="category">Debug</a>, <a href="http://middlewaremagic.com/weblogic/?cat=47" title="View all posts in JVM Tuning" rel="category">JVM Tuning</a>, <a href="http://middlewaremagic.com/weblogic/?cat=79" title="View all posts in Monitoring" rel="category">Monitoring</a></div>
  <div class="clr16"></div>
  <div class="postcontent"><div id="_mcePaste">Hi All,</div>
<div id="attachment_3091" class="wp-caption alignleft" style="width: 117px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool.jpg"><img class="size-thumbnail wp-image-3091" title="Joy_pool" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg" alt="Jay SenSharma" width="107" height="116" /></a><p class="wp-caption-text">Jay SenSharma</p></div>
<div id="_mcePaste">In response to the comment: <a href="http://middlewaremagic.com/weblogic/?p=958&amp;cpage=1#comment-1971"><strong>http://middlewaremagic.com/weblogic/?p=958&amp;cpage=1#comment-1971</strong></a><br />
I got an idea to develop a post on this. It is very interesting to start High CPU Analysis on AIX Operating system, because it doesnt have common and useful utilities like &#8220;prstat&#8221; or &#8220;top&#8221; unlike Solaris/Linux Operating Systems.</div>
<div id="_mcePaste">But if we want to analyze the High CPU in AIX operating system then we can use the following utilities:</div>
<h2><span style="color: maroon;">1) dbx: </span><span style="font-weight: normal; font-size: 13px;">The dbx utility can be used to examine corefiles as well as executable programs. By examining a core memory image file, you can use the dbx command to examine the state of the program when it faulted.</span></h2>
<h2><span style="color: maroon;">2) ps: </span><span style="font-weight: normal; font-size: 13px;">The ps command writes the status of active processes and if the -m flag is given, displays the associated kernel threads to standard output. While the -m flag displays threads associated with processes using extra lines, you must use the -o flag with the THREAD field specifier to display extra thread-related columns.</span></h2>
<p>.<br />
So lets see how to how to proceed with the AIX High CPU analysis.<br />
.</p>
<div id="_mcePaste"><strong><span style="color: maroon;">Step1).</span></strong> Open a AIX Shell Prompt and then find out the WebLogic Server Process ID(PID).</div>
<p>.</p>
<div id="_mcePaste"><strong><span style="color: maroon;">Step2).</span></strong> Now run the following command to findout the Thread information which is consuming maximum CPU cycles: (Here PID=weblogic Server Process ID)</div>
<div id="_mcePaste"><strong>ps  -mp &lt;PID&gt;  -o  THREAD</strong></div>
<div id="_mcePaste">Suppose if the WebLogic Servers Process ID is = 23456 then please run the following command:</div>
<div id="_mcePaste"><strong>Example:</strong></div>
<div id="_mcePaste">
<pre class="brush: java; wrap-lines: false;">
ps   -mp  23456  -o  THREAD
</pre>
</div>
<div id="_mcePaste">As soon as the above command lists the Thread details Notice the Note down TID value in the List which has high number of CPU. Suppose the TID is &#8217;11111&#8242; then u note it down becasue u will need to use it in <strong>Step 4 for analysis.</strong></div>
<p>.</p>
<div><strong><span style="color: maroon;">Step3).</span></strong>Take 4-5 Thread Dumps of WebLogic Server in the interval of 10-12 seconds.</div>
<div id="_mcePaste"><strong>kill -3 &lt;PID&gt;</strong></div>
<div id="_mcePaste">So far we have collected the raw dat, Now we will start Investigating <img src='http://middlewaremagic.com/weblogic/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </div>
<p>.</p>
<div><strong><span style="color: maroon;">Step4).</span></strong> Run the dbx utility with -a with the sub command &#8216;thread&#8217; to list down all the Threads of WLS. Example suppose if the WebLogic Servers Process ID is = 23456 then please run the following command:</div>
<div id="_mcePaste">
<pre class="brush: java; wrap-lines: false;">
$ dbx -a 23456
(dbx) thread
</pre>
</div>
<div>Somewhere in the output if the above command u will find a line like :</div>
<div id="_mcePaste">
<pre class="brush: java; wrap-lines: false;">
$t15 run running 11111 k no sys JVM_Send
</pre>
</div>
<div id="_mcePaste">In the above line t15 means the thread number 15  and 11111 is the TID of the thread which we noticed in <strong>Step2).</strong></div>
<p>.</p>
<div><strong><span style="color: maroon;">Step5).</span></strong> Now in the dbx window again run the following command to query for the thread 15&#8230;because Thread 15 information we got in previous command.</div>
<div>
<pre class="brush: java; wrap-lines: false;">
(dbx) th info 15
</pre>
</div>
<p>.</p>
<div><strong><span style="color: maroon;">Step6).</span></strong> In the output of the above command please find the value of  &#8217;pthread_t&#8217;  attribute, which is actually Native Thread Number.</div>
<div id="_mcePaste">Suppose the &#8216;pthread_t&#8217; attribute value is &#8217;3333&#8242; The u need to find the value 3333 in the WebLogic Thread Dump to findout the Culprit Thread which is causing the High CPU.</div>
<div id="_mcePaste">In the thread dump u will find something like:</div>
<div id="_mcePaste">
<pre class="brush: java; wrap-lines: true;">
Execute Thread: '5' for queue 'default'  (TID:0x21df97a8, sys_thread_t:0x3a5bea108, state:R, native ID:0x3333) prio=5 at java.net.SocketOutputStream.socketWrite(Native Method)........
</pre>
</div>
<p>.</p>
<div><strong><span style="color: maroon;">Step7).</span></strong> Remember to detach the &#8216;dbx&#8217; utility with the WebLogic using the &#8216;detach&#8217; command in the dbx prompt.</div>
<div id="_mcePaste">.</div>
<div id="_mcePaste">.</div>
<div id="_mcePaste">Thanks</div>
<div id="_mcePaste">Jay SenSharma</div>
</div>

		<div class="roubcornrcontent">         	
                <span class="posttags"><a href="http://middlewaremagic.com/weblogic/?tag=aix" rel="tag">AIX</a>, <a href="http://middlewaremagic.com/weblogic/?tag=debugging" rel="tag">debugging</a>, <a href="http://middlewaremagic.com/weblogic/?tag=high-cpu" rel="tag">High CPU</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jvm-tuning" rel="tag">JVM Tuning</a></span>  
              	<span class="postcomments"><a href="http://middlewaremagic.com/weblogic/?p=4348#comments" title="Comment on High CPU Analysis in AIX">4 Comments</a></span>
              	<span class="postmore"><a href="http://middlewaremagic.com/weblogic/?p=4348">more...</a></span>
                <div class="clr"></div>
        </div>


<div class="cleared"></div>
</div> <!-- Closes topPost --><br/>


<div class="postwrap">

        	<div class="postmeta2">
            	<div class="meta2inner">
                	<div class="pday">22</div>
                    <div class="pmonth">Jul/10</div>
                </div>
            </div> 

  <h2 class="posttitle"><a href="http://middlewaremagic.com/weblogic/?p=2477">Debugging Basic JDBC Issues</a></h2>
  <div class="postmeta">by <a href="http://middlewaremagic.com/weblogic/?author=1" title="Posts by JaySenSharma">JaySenSharma</a> under <a href="http://middlewaremagic.com/weblogic/?cat=38" title="View all posts in Debug" rel="category">Debug</a>, <a href="http://middlewaremagic.com/weblogic/?cat=19" title="View all posts in JDBC" rel="category">JDBC</a></div>
  <div class="clr16"></div>
  <div class="postcontent"><p>Hi,</p>
<div id="attachment_3091" class="wp-caption alignleft" style="width: 117px"><a href="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool.jpg"><img class="size-thumbnail wp-image-3091" title="Joy_pool" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg" alt="Jay SenSharma" width="107" height="116" /></a><p class="wp-caption-text">Jay SenSharma</p></div>
<p>Here is a Simple demonstration of Debugging Jdbc N/W Connectivity issues. Some very basic and common tools and simple Jdbc programs helps us a lot in debugging the JDBC issues.</p>
<p>You can also refer to the WebLogic JDBC related some very common tips: <a title="http://middlewaremagic.com/weblogic/2010/02/10/jdbc-tips/" href="http://middlewaremagic.com/weblogic/2010/02/10/jdbc-tips/">http://middlewaremagic.com/weblogic/2010/02/10/jdbc-tips/</a></p>
<h2><span style="color: maroon;">Common Jdbc Issues-1</span>).</h2>
<p>If you get the following Error:</p>
<pre class="brush: java; wrap-lines: false;">
&lt;BEA-149205&gt; &lt;Failed to initialize the application ‘TestDataSource’ due to error weblogic.application.ModuleException: .
weblogic.application.ModuleException:
at weblogic.jdbc.module.JDBCModule.prepare(JDBCModule.java:289)
at weblogic.application.internal.flow.ModuleListenerInvoker.prepare(ModuleListenerInvoker.java:93)
at weblogic.application.internal.flow.DeploymentCallbackFlow$1.next(DeploymentCallbackFlow.java:387)
.
.
weblogic.common.ResourceException: Could not create pool connection. The DBMS driver exception was: The Network Adapter could not establish the connection
- – - – - – or - – - – - -
weblogic.common.ResourceException: weblogic.common.ResourceException: Could not create pool connection. The DBMS driver exception was: Io exception: The Network Adapter
</pre>
<p><strong>Degugging the root Cause of above Issue:</strong><br />
The Above Exception: java.io.IOException: The Network Adapter could not establish the connection</p>
<p>It simply suggest that the Database URL may not be correct in the DataSource XML file locatied inside &#8220;&lt;DOMAIN_HOME&gt;\config\jdbc&#8221; directoryor may be the TNS name OR some n/w issue between WLS BOX and the DB Box. Please try the following to Double Check it.</p>
<p><strong><span style="color: maroon;">Step1).</span></strong> Add JDBC Driver also in the Classpath or Better run<strong> &#8220;. ./setWLSEnv.sh&#8221; </strong></p>
<p>(<strong>NOTE: </strong>While running the above script please use two DOTs like mentioned above. The first DOT represents that set the Environment in the Current Shell and the second DOT (./) Slash represents that pick up the Script from the current Location. Both DOTs are separated by a single space. Once u run &#8220;. ./setWLSEnv.sh&#8221; after that try to echo the values of $CLASSPATH and $PATH to make sure that the env is set properly)</p>
<p><strong><span style="color: maroon;">Step2).</span></strong> Use WLS   <strong>dbping</strong> utility to test the Database Network Connectivity from the WebLogic Server Box:<br />
<strong>Syntax:</strong><br />
java -classpath /bea103/wl_server103/server/lib/weblogic.jar utils.dbping ORACLE_THIN &lt;dbUserName&gt; &lt;dbPasswoes&gt; &lt;dbURL&gt;</p>
<p><strong>Example:</strong><br />
java -classpath /bea103/wl_server103/server/lib/weblogic.jar utils.dbping ORACLE_THIN scott tiger databaseHostName:1521:P15215h</p>
<p><span style="color: #800000;"><strong>Step 3).</strong></span> Try doing a <strong>telnet</strong> to connect to the Database Box on the Database Listen Port like following Just to make sure that the Database has started listening on the Mentioned Listen Port or Not &#8230;..:</p>
<p><strong>telnet   databaseHostName   1521</strong><br />
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>
<h2><span style="color: maroon;">Common Jdbc Issues-2</span>).</h2>
<p>Many times we see that DataSource configured on WebLogic Server was running fine sometimes back and suddenly we start seeing the following Error:</p>
<pre class="brush: java; wrap-lines: false;">
Caused by: java.sql.SQLException: Io exception: Got minus one from a read call
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:387)
at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:420)
</pre>
<p><strong>Degugging the root Cause of above Issue:</strong><br />
The error &#8220;<em>Caused by: java.sql.SQLException: Io exception: Got minus one from a read call</em>&#8221; clearly indicates the root cause of this issue. &#8220;We get the following error &#8220;Got minus one from a read call&#8221; if the <strong>Database goes under Maintenance&#8230;..or Database is in inconsistent State</strong> (Due to any reason like Database Maintenance or Database unmounting&#8230;etc ).</p>
<p>WLS is asking a JDBC driver for a connection and getting that exception, which means the DBMS or network dropped the socket during the driver-DBMS handshake.</p>
<p>The above error ensures that there is Nothing Wrong from WebLogic Side &#8230;we need to contact the Database Administrator only.</p>
<p><strong><span style="color: maroon;">Step1).</span></strong> Open the Server Log and check the timestamp of the first occurance of that Error in the Server log.</p>
<p><strong><span style="color: maroon;">Step2).</span></strong> Confirm with the Database Administrator&#8230;. What was the activity happening on the Database side at that time (90% cases u will find that the Database might be under Maintenance that time)</p>
<h2><span style="color: maroon;">&#8212;&#8212;-Make Use of Appropriate Debug Flags:&#8212;&#8212;&#8212;</span></h2>
<p><strong>-Dweblogic.resourcepool.max_test_wait_secs=xx</strong><br />
Where xx is the amount of time, in seconds, WebLogic Server waits for connection test before considering the connection test failed. By default, a server instance is assigned a value of 10 seconds. This command line flag manages failures, such as a DBMS network failure, which can cause connection tests and applications to hang for extended periods of time (for example, 10 minutes). If the assigned time period expires, the server instance purges and disables the pool (closes all connections and blocks further reserve attempts) and re-enables the pool as soon as it is possible to reconnect.</p>
<p><strong>You can use the following Debug Flags:</strong><br />
-Dweblogic.debug.DebugJDBCSQL=true<br />
-Dweblogic.log.StdoutSeverity=Debug</p>
<p>Use the Following WLST Script to Enable the JDBC related Debug Flags<br />
<strong>&#8220;ExampleDebugJdbc.py&#8221;</strong><br />
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;<br />
user=&#8217;weblogic&#8217;<br />
password=&#8217;weblogic&#8217;<br />
url=&#8217;t3://localhost:7001&#8242;<br />
connect(user, password, url)<br />
edit()<br />
cd(&#8216;Servers/TestServer/ServerDebug/TestServer&#8217;)<br />
startEdit()<br />
set(&#8216;DebugJDBCSQL&#8217;,'true&#8217;)<br />
save()<br />
activate()<br />
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>
<h2><span style="color: maroon;">Common Jdbc Issues-3</span>).</h2>
<p><strong> </strong> If you see that the Database is going into <strong>DataSource is moving to SUSPENDED/Disabled State</strong>&#8230;.The first of all check the database connectivity. If the dfatabase connectivity is OK and WLS is able to establish the Connectivity with the database Successfully then Please try to use the &#8220;weblogic.Admin&#8221; utility to Restore (Resume) the DataSource.</p>
<p>You can use “weblogic.Admin? utility to Enable and Disable the Pool (DataSource) Just to Confirm whether the dataSource is actually active or not:</p>
<p><strong><span style="color: maroon;">Step1). </span></strong>run <strong>&#8220;. ./setWLSEnv.sh&#8221; </strong>first in the same Shell prompt&#8230;.then do the following:</p>
<p><strong><span style="color: maroon;">Step2).</span></strong> To suspend:<br />
<strong>java weblogic.Admin -url t3://localhost:7001 -username weblogic -password weblogic SUSPEND_POOL YourDataSourceName</strong></p>
<p><strong><span style="color: maroon;">Step3).</span></strong> To re-enable:<br />
<strong>java weblogic.Admin -url t3://localhost:7001 -username weblogic -password weblogic RESUME_POOL YourDataSourceName</strong></p>
<p>To test whether you are getting any Exception or Error while doing this&#8230;.If yes u are getting any Error or exception then It means there May be some Database connectivity issue&#8230;<br />
If a datasource gets destroyed then even if u are having DataSource Configuration Entries in the &#8220;config.xml&#8221; and the<strong><em> &#8220;&lt;DOMAIN_HOME&gt;/config/jdbc/*.xml&#8221;</em></strong> files &#8230;still u wont be able to see that datasource in the Monitoring Tab in the AdminConsole. Because as soon as the datasource gets destroyed (Due to N/W disconnect or someother reason) the MBean Object gets destroyed.</p>
<h2><span style="color: maroon;">Common Jdbc Issues-4</span>).</h2>
<pre class="brush: java; wrap-lines: false;">
&lt;Warning&gt; &lt;JDBC&gt; &lt;BEA-001153&gt; &lt;Forcibly releasing inactive connection
“weblogic.jdbc.wrapper.PoolConnection_oracle_jdbc_driver_T4CConnection@3″ back into the connection pool “TestDataSource?, currently reserved by: java.lang.Exception
at weblogic.jdbc.common.internal.ConnectionEnv.setup(ConnectionEnv.java:291)
at weblogic.common.resourcepool.ResourcePoolImpl.reserveResource(ResourcePoolImpl.java:314)
at weblogic.common.resourcepool.ResourcePoolImpl.reserveResource(ResourcePoolImpl.java:292)
at weblogic.jdbc.common.internal.ConnectionPool.reserve(ConnectionPool.java:425)
at weblogic.jdbc.common.internal.ConnectionPool.reserve(ConnectionPool.java:316)
</pre>
<p>If we see above kind of exceptions in our Server Logs then definately we need to look into the Application Code. <strong> &#8220;That is either your application reserving and Hholding the jdbc connections (they aren&#8217;t lost means leaked), or maybe they are hanging waiting for the DBMS to respond.&#8221;</strong></p>
<p>Usually we see this Warning When the Application code obtains a JDBC connection from the WLS datasource, then not using it and not closing it, Means Just Holding the Connection Reference, for longer than your datasource/pool is configured to allow (IdleConnectionTimeout). Make sure that u close all the JDBC related Objects in a proper sequence. like exactly in the following  Order&#8230;Always close the ResultSet, Statement and Connection objects insode the finally{} Block in the following order:</p>
<pre class="brush: java; wrap-lines: false;">

finally {
try {resultset.close();}
catch (Exception rse) {}
try {statement.close();}
catch (Exception sse) {}
try {connection.close();
catch (Exception cse) {}
}
</pre>
<h2><span style="color: maroon;">Common Jdbc Issues-5</span>).</h2>
<p>Many times we get the following kind of error/exception while using a Connection object:</p>
<pre class="brush: java; wrap-lines: false;">
java.sql.SQLException: Closed Connection
at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:70)
at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:133)
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:199)
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:271)
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:445)
at oracle.jdbc.driver.OracleStatement.ensureOpen(OracleStatement.java:3620)
at oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:3853)
at oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1374)
at weblogic.jdbc.wrapper.PreparedStatement.execute(PreparedStatement.java:99)
</pre>
<p>In these cases we need to make sure that you enable the &#8220;Test Connection On Reserve&#8221; is disabled. for your Connection Pool.This is the best way the pool can ensure That connection pool provides us a good connection when an application ask for it.<br />
Also provide a simple SQL query for connection testing in the DataSource configuration like &#8216;SELECT * FROM DUAL&#8217;</p>
<h2><span style="color: maroon;">Common Jdbc Issues-6</span>).</h2>
<p>If you get the following Error:</p>
<pre class="brush: java; wrap-lines: false;">
java.sql.SQLException: No more data to read from socket
at oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1200)
at oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:1155)
at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:279)
at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:186)
at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:521)
at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:194)
at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:853)
at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1145)
at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1267)
at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1882)
at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1847)
at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:301)
</pre>
<p>This error occurs if an applications that uses a database connections from the DataSource/Pool and When the application checked out a connection that has been already &#8220;timed out&#8221; or has been &#8220;staled&#8221;, still the application uses it to connect to the database, this error occurs.</p>
<p>In this case eother we need to start the Oracle Database Server or the Application Server which is maintaining the Connection Pool (Reseting the DataSource is also a valid option) sothat the staled connection should be cleared out and a new connection should be establised automatically.<br />
.<br />
.<br />
Thanks<br />
Jay SenSharma</p>
</div>

		<div class="roubcornrcontent">         	
                <span class="posttags"><a href="http://middlewaremagic.com/weblogic/?tag=debug" rel="tag">Debug</a>, <a href="http://middlewaremagic.com/weblogic/?tag=debugging" rel="tag">debugging</a>, <a href="http://middlewaremagic.com/weblogic/?tag=jdbc" rel="tag">JDBC</a>, <a href="http://middlewaremagic.com/weblogic/?tag=monitoring" rel="tag">Monitoring</a></span>  
              	<span class="postcomments"><a href="http://middlewaremagic.com/weblogic/?p=2477#comments" title="Comment on Debugging Basic JDBC Issues">61 Comments</a></span>
              	<span class="postmore"><a href="http://middlewaremagic.com/weblogic/?p=2477">more...</a></span>
                <div class="clr"></div>
        </div>


<div class="cleared"></div>
</div> <!-- Closes topPost --><br/>



<div id="nextprevious">
<div class="alignleft"><a href="http://middlewaremagic.com/weblogic/?cat=38&#038;paged=2" >&laquo; Older Entries</a></div>
<div class="alignright"></div>
<div class="cleared"></div>
</div>
</div>


<!-- right column Starts here -->
<div id="rightcol">
		    <div id="searchboxo">
        		<form method="get" id="searchform" action="http://middlewaremagic.com/weblogic/">
    <input type="text" value="Search keywords" name="s" id="searchbox" onfocus="this.value=''" class="searchinput"/>
    <input type="submit" class="submitbutton" value="Search" />
</form> 
                <div class="clr"></div>
        </div>
             
        <!-- widget -->
        <li id="continuous-announcement-scroller" class="sidebaritem cas_widget"><div class="sidebarbox"><h2 class="widgettitle"><a href="http://middlewaremagic.com/weblogic/?page_id=6117"><center><img src="http://middlewaremagic.com/weblogic/wp-content/uploads/2011/02/Trophy2-150x150.jpg" alt="" width="35" height="40" /> Testimonials</center></a></h2>	
		<div style="padding-top:8px;padding-bottom:8px;">
			<div style="text-align:left;vertical-align:middle;text-decoration: none;overflow: hidden; position: relative; margin-left: 1px; height: 154px;" id="cas_Holder">
				<div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?page_id=2611#comment-5194'><center><img class=\"size-medium wp-image-3091\" title=\"rwijk-foto\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/rwijk-foto-249x300.jpg\" alt=\"René van Wijk\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Thanks Rene. That was helpful. </font><br> <font color=\"black\"> - Manish </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=4931#comment-4372'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Ravish\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Ravish1-150x150.jpg\" alt=\"\" width=\"40\" height=\"44\" /> </center><br><b><font color=\"maroon\">Thanks Ravish, It worked absolutely fine. I further made some changes so that it suits my need. Thanks again, was browsing through the site and could find lot of useful stuff.</font><br> <font color=\"black\"> - ccherukuri  </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=5806#comment-5182'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Joy_pool\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg\" alt=\"Jay SenSharma\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Hi Jay,  Thanks your site is really helpful.... </font><br> <font color=\"black\"> - learning_weblogic  </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=6334#comment-5180'><center><img class=\"size-medium wp-image-3091\" title=\"rwijk-foto\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/rwijk-foto-249x300.jpg\" alt=\"René van Wijk\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Great article. Thanks for writing it.</font><br> <font color=\"black\"> - kkinney </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?page_id=241#comment-3547'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Ravish\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Ravish1-150x150.jpg\" alt=\"\" width=\"40\" height=\"44\" /> </center><br><b><font color=\"maroon\">Ravish, Thanks a lot. It was really helpful. I know this is the right place to look for weblogic stuff instead of wasting time on google and you prove me right.</font><br> <font color=\"black\"> - Syed Sohel  </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=1716#comment-5181'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Joy_pool\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg\" alt=\"Jay SenSharma\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Really a beauty……  Thanks Sir….:D</font><br> <font color=\"black\"> -Sandeep N  </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=7265#comment-4992'><center><img class=\"size-medium wp-image-3091\" title=\"rwijk-foto\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/rwijk-foto-249x300.jpg\" alt=\"René van Wijk\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Hi René, Great post. Starting from installation to testing, all things explained very clear. </font><br> <font color=\"black\"> -  Mugdha </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=1311#comment-3440'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Ravish\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Ravish1-150x150.jpg\" alt=\"\" width=\"40\" height=\"44\" /> </center><br><b><font color=\"maroon\">Ravish, Thanks for the quick response, as usual. </font><br> <font color=\"black\"> - Sathya  </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=2649#comment-4794'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Joy_pool\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg\" alt=\"Jay SenSharma\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Thanks for the explanation Jay… you rock as always…</font><br> <font color=\"black\"> - kishore </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=6334#comment-3439'><center><img class=\"size-medium wp-image-3091\" title=\"rwijk-foto\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/rwijk-foto-249x300.jpg\" alt=\"René van Wijk\" width=\"40\" height=\"44\" /> </center><br> <b><font color=\"maroon\">Kudos to you Rene. This is the best concept on JMS I have ever read. CHEERS TO YOU GUYS </font><br> <font color=\"black\">-swordfish </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=5582#comment-4989'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Ravish\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Ravish1-150x150.jpg\" alt=\"\" width=\"40\" height=\"44\" /> </center><br><b><font color=\"maroon\">It worked Ravish.. there was a typo in the e-mail address.. Thanks for your help…You guys are Excellent…Good site for WebLogic Admins… </font><br> <font color=\"black\"> -  Lakshmi Srikanth</font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=573#comment-4911'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Joy_pool\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg\" alt=\"Jay SenSharma\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Thanks Jay, this is what I wanted, timely response. Thank you very much again. It works cool.</font><br> <font color=\"black\"> - finjava</font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=6334#comment-3403'><center><img class=\"size-medium wp-image-3091\" title=\"rwijk-foto\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/rwijk-foto-249x300.jpg\" alt=\"René van Wijk\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Rene, Very conceptual and helpful post .keep going.GL!! </font><br> <font color=\"black\">-  Adrian </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=5177#comment-3539'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Ravish\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Ravish1-150x150.jpg\" alt=\"\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Ravish, Now the script is working. Thank you so much.</font><br> <font color=\"black\"> - Pavan  </font></b></a></div><div class='cas_div' style='height:150px;padding:2px 0px 2px 0px;'><a href='http://middlewaremagic.com/weblogic/?p=823#comment-4943'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Joy_pool\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg\" alt=\"Jay SenSharma\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Thanks Jay. This is the post I have been looking for. It helped me a lot. Awesome post :)</font><br> <font color=\"black\"> - Kiran </font></b></a></div>			</div>
		</div>
		<script type="text/javascript" src="http://middlewaremagic.com/weblogic/wp-content/plugins/continuous-announcement-scroller/continuous-announcement-scroller.js"></script>
		<script type="text/javascript">
		var cas_array	= new Array();
		var cas_obj	= '';
		var cas_scrollPos 	= '';
		var cas_numScrolls	= '';
		var cas_heightOfElm = '154'; // Height of each element (px)
		var cas_numberOfElm = '1';
		var cas_scrollOn 	= 'true';
		function cas_createscroll() 
		{
			cas_array[0] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?page_id=2611#comment-5194\'><center><img class=\"size-medium wp-image-3091\" title=\"rwijk-foto\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/rwijk-foto-249x300.jpg\" alt=\"René van Wijk\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Thanks Rene. That was helpful. </font><br> <font color=\"black\"> - Manish </font></b></a></div>'; cas_array[1] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=4931#comment-4372\'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Ravish\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Ravish1-150x150.jpg\" alt=\"\" width=\"40\" height=\"44\" /> </center><br><b><font color=\"maroon\">Thanks Ravish, It worked absolutely fine. I further made some changes so that it suits my need. Thanks again, was browsing through the site and could find lot of useful stuff.</font><br> <font color=\"black\"> - ccherukuri  </font></b></a></div>'; cas_array[2] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=5806#comment-5182\'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Joy_pool\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg\" alt=\"Jay SenSharma\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Hi Jay,  Thanks your site is really helpful.... </font><br> <font color=\"black\"> - learning_weblogic  </font></b></a></div>'; cas_array[3] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=6334#comment-5180\'><center><img class=\"size-medium wp-image-3091\" title=\"rwijk-foto\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/rwijk-foto-249x300.jpg\" alt=\"René van Wijk\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Great article. Thanks for writing it.</font><br> <font color=\"black\"> - kkinney </font></b></a></div>'; cas_array[4] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?page_id=241#comment-3547\'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Ravish\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Ravish1-150x150.jpg\" alt=\"\" width=\"40\" height=\"44\" /> </center><br><b><font color=\"maroon\">Ravish, Thanks a lot. It was really helpful. I know this is the right place to look for weblogic stuff instead of wasting time on google and you prove me right.</font><br> <font color=\"black\"> - Syed Sohel  </font></b></a></div>'; cas_array[5] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=1716#comment-5181\'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Joy_pool\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg\" alt=\"Jay SenSharma\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Really a beauty……  Thanks Sir….:D</font><br> <font color=\"black\"> -Sandeep N  </font></b></a></div>'; cas_array[6] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=7265#comment-4992\'><center><img class=\"size-medium wp-image-3091\" title=\"rwijk-foto\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/rwijk-foto-249x300.jpg\" alt=\"René van Wijk\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Hi René, Great post. Starting from installation to testing, all things explained very clear. </font><br> <font color=\"black\"> -  Mugdha </font></b></a></div>'; cas_array[7] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=1311#comment-3440\'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Ravish\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Ravish1-150x150.jpg\" alt=\"\" width=\"40\" height=\"44\" /> </center><br><b><font color=\"maroon\">Ravish, Thanks for the quick response, as usual. </font><br> <font color=\"black\"> - Sathya  </font></b></a></div>'; cas_array[8] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=2649#comment-4794\'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Joy_pool\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg\" alt=\"Jay SenSharma\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Thanks for the explanation Jay… you rock as always…</font><br> <font color=\"black\"> - kishore </font></b></a></div>'; cas_array[9] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=6334#comment-3439\'><center><img class=\"size-medium wp-image-3091\" title=\"rwijk-foto\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/rwijk-foto-249x300.jpg\" alt=\"René van Wijk\" width=\"40\" height=\"44\" /> </center><br> <b><font color=\"maroon\">Kudos to you Rene. This is the best concept on JMS I have ever read. CHEERS TO YOU GUYS </font><br> <font color=\"black\">-swordfish </font></b></a></div>'; cas_array[10] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=5582#comment-4989\'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Ravish\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Ravish1-150x150.jpg\" alt=\"\" width=\"40\" height=\"44\" /> </center><br><b><font color=\"maroon\">It worked Ravish.. there was a typo in the e-mail address.. Thanks for your help…You guys are Excellent…Good site for WebLogic Admins… </font><br> <font color=\"black\"> -  Lakshmi Srikanth</font></b></a></div>'; cas_array[11] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=573#comment-4911\'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Joy_pool\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg\" alt=\"Jay SenSharma\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Thanks Jay, this is what I wanted, timely response. Thank you very much again. It works cool.</font><br> <font color=\"black\"> - finjava</font></b></a></div>'; cas_array[12] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=6334#comment-3403\'><center><img class=\"size-medium wp-image-3091\" title=\"rwijk-foto\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/rwijk-foto-249x300.jpg\" alt=\"René van Wijk\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Rene, Very conceptual and helpful post .keep going.GL!! </font><br> <font color=\"black\">-  Adrian </font></b></a></div>'; cas_array[13] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=5177#comment-3539\'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Ravish\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2010/11/Ravish1-150x150.jpg\" alt=\"\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Ravish, Now the script is working. Thank you so much.</font><br> <font color=\"black\"> - Pavan  </font></b></a></div>'; cas_array[14] = '<div class=\'cas_div\' style=\'height:150px;padding:2px 0px 2px 0px;\'><a href=\'http://middlewaremagic.com/weblogic/?p=823#comment-4943\'><center><img class=\"size-thumbnail wp-image-3091\" title=\"Joy_pool\" src=\"http://middlewaremagic.com/weblogic/wp-content/uploads/2009/12/Joy_pool-150x150.jpg\" alt=\"Jay SenSharma\" width=\"40\" height=\"44\" /></center><br><b><font color=\"maroon\">Thanks Jay. This is the post I have been looking for. It helped me a lot. Awesome post :)</font><br> <font color=\"black\"> - Kiran </font></b></a></div>'; 			cas_obj	= document.getElementById('cas_Holder');
			cas_obj.style.height = (cas_numberOfElm * cas_heightOfElm) + 'px'; // Set height of DIV
			cas_content();
		}
		</script>
		<script type="text/javascript">
		cas_createscroll();
		</script>
		</div></li><li id="rss-3" class="sidebaritem widget_rss"><div class="sidebarbox"><h2 class="widgettitle"><a class='rsswidget' href='http://middlewaremagic.com/jboss/?feed=rss2' title='Syndicate this content'><img style='border:0' width='14' height='14' src='http://middlewaremagic.com/weblogic/wp-includes/images/rss.png' alt='RSS' /></a> <a class='rsswidget' href='http://middlewaremagic.com/jboss' title='Just another WordPress site'>Middleware Magic &#8211; JBoss</a></h2><ul><li><a class='rsswidget' href='http://middlewaremagic.com/jboss/?p=2630' title='Hi, High availability and fail-over are very important feature for any kind of infrastructure. As the name suggests the servicesRead the Rest... [&hellip;]'>JBoss AS 7 Clustering on OpenShift</a> <span class="rss-date">July 16, 2013</span><div class='rssSummary'>Hi, High availability and fail-over are very important feature for any kind of infrastructure. As the name suggests the servicesRead the Rest... [&hellip;]</div></li><li><a class='rsswidget' href='http://middlewaremagic.com/jboss/?p=2583' title='Hi, In this article we will discuss how can we integrate our Eclipse IDE to OpenShift and create new applications.Read the Rest... [&hellip;]'>Integrate your Eclipse Juno IDE with Openshift</a> <span class="rss-date">February 24, 2013</span><div class='rssSummary'>Hi, In this article we will discuss how can we integrate our Eclipse IDE to OpenShift and create new applications.Read the Rest... [&hellip;]</div></li><li><a class='rsswidget' href='http://middlewaremagic.com/jboss/?p=2561' title='Hi, In this article we will discuss how can we load jars residing over NFS in JBoss AS-7 classpath. InRead the Rest... [&hellip;]'>How to load jars residing over NFS in JBossAS7 classpath ?</a> <span class="rss-date">January 25, 2013</span><div class='rssSummary'>Hi, In this article we will discuss how can we load jars residing over NFS in JBoss AS-7 classpath. InRead the Rest... [&hellip;]</div></li></ul></div></li><li id="text-8" class="sidebaritem widget_text"><div class="sidebarbox"><h2 class="widgettitle">Receive FREE Updates </h2>			<div class="textwidget"><form style="border:1px solid #ccc;padding:3px;text-align:center;" action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=MiddlewareMagic-Weblogic', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true"><BR><b>FREE Email updates of our new posts</b>

<img class="aligncenter size-full wp-image-5989" title="RSSfeed" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/RSSfeed.png" alt="" width="60" height="60" />

Enter your email address:
<input type="text" style="width:140px" name="email"/>

<input type="hidden" value="MiddlewareMagic-Weblogic" name="uri"/><br>

<input type="hidden" name="loc" value="en_US"/><input type="submit" value="Subscribe" />
<br>
<br><a href="http://feeds.feedburner.com/MiddlewareMagic-Weblogic"><img src="http://feeds.feedburner.com/~fc/MiddlewareMagic-Weblogic?bg=CC0000&amp;fg=FFFFFF&amp;anim=1" height="26" width="88" style="border:0" alt="" /></a>
<br>

<!-- Place this tag in the <head> of your document-->
<link href="https://plus.google.com/107313421357952861131/" rel="publisher" />

<!-- Place this tag where you want the badge to render-->
<a href="https://plus.google.com/107313421357952861131/?prsrc=3" style="text-decoration: none;"><img src="https://ssl.gstatic.com/images/icons/gplus-32.png" width="32" height="32" style="border: 0;"/></a>

<a href="http://www.facebook.com/middlewaremagic" target="_blank"><img class="alignnone size-thumbnail wp-image-3098" style="margin-top: 5px;" title="Middleware Magic" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/facebook-icon.png" alt="" width="35" height="35" /> </a>

<a href="http://twitter.com/#!/MiddlewareMagic" target="_blank"><img class="alignnone size-thumbnail wp-image-3098" style="margin-top: 5px;" title="Twitter Middleware Magic" src="http://middlewaremagic.com/weblogic/wp-content/uploads/2009/08/twittericon.png" alt="" width="35" height="35" /> </a>

</form>
</div>
		</div></li><li id="text-7" class="sidebaritem widget_text"><div class="sidebarbox">			<div class="textwidget"><script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script><fb:like-box href="http://www.facebook.com/pages/MiddlewareMagic/113782642020174" width="260" height="340" show_faces="true" stream="false" header="false"></fb:like-box></div>
		</div></li><li id="meta-3" class="sidebaritem widget_meta"><div class="sidebarbox"><h2 class="widgettitle">Magic Account&#8230;</h2>			<ul>
			<li><a href="http://middlewaremagic.com/weblogic/wp-login.php?action=register">Register</a></li>			<li><a href="http://middlewaremagic.com/weblogic/wp-login.php">Log in</a></li>
			<li><a href="http://middlewaremagic.com/weblogic/?feed=rss2" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://middlewaremagic.com/weblogic/?feed=comments-rss2" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>
						</ul>
</div></li><li id="cubepoints-top-users" class="sidebaritem cp_topPointsWidget"><div class="sidebarbox"><h2 class="widgettitle">Top Magic Users</h2><ul><li><a href="http://middlewaremagic.com/weblogic/wp-content/plugins/cubepoints/cp_about.php?u=41&width=500&height=200" title="CubePoints - About" class="thickbox">swordfish (Magic-1260)</a></li><li><a href="http://middlewaremagic.com/weblogic/wp-content/plugins/cubepoints/cp_about.php?u=81&width=500&height=200" title="CubePoints - About" class="thickbox">sumit (Magic-955)</a></li><li><a href="http://middlewaremagic.com/weblogic/wp-content/plugins/cubepoints/cp_about.php?u=36&width=500&height=200" title="CubePoints - About" class="thickbox">sathya (Magic-800)</a></li><li><a href="http://middlewaremagic.com/weblogic/wp-content/plugins/cubepoints/cp_about.php?u=122&width=500&height=200" title="CubePoints - About" class="thickbox">Kiran (Magic-745)</a></li><li><a href="http://middlewaremagic.com/weblogic/wp-content/plugins/cubepoints/cp_about.php?u=25&width=500&height=200" title="CubePoints - About" class="thickbox">amalia (Magic-615)</a></li><li><a href="http://middlewaremagic.com/weblogic/wp-content/plugins/cubepoints/cp_about.php?u=202&width=500&height=200" title="CubePoints - About" class="thickbox">kiran reddy (Magic-590)</a></li><li><a href="http://middlewaremagic.com/weblogic/wp-content/plugins/cubepoints/cp_about.php?u=523&width=500&height=200" title="CubePoints - About" class="thickbox">Andrew Diengdoh (Magic-549)</a></li><li><a href="http://middlewaremagic.com/weblogic/wp-content/plugins/cubepoints/cp_about.php?u=63&width=500&height=200" title="CubePoints - About" class="thickbox">vinobabu2001 (Magic-530)</a></li><li><a href="http://middlewaremagic.com/weblogic/wp-content/plugins/cubepoints/cp_about.php?u=16&width=500&height=200" title="CubePoints - About" class="thickbox">Mauricio (Magic-525)</a></li><li><a href="http://middlewaremagic.com/weblogic/wp-content/plugins/cubepoints/cp_about.php?u=733&width=500&height=200" title="CubePoints - About" class="thickbox">manishy (Magic-455)</a></li></ul></div></li><li id="archives-3" class="sidebaritem widget_archive"><div class="sidebarbox"><h2 class="widgettitle">Magic Archives</h2>		<select name="archive-dropdown" onchange='document.location.href=this.options[this.selectedIndex].value;'> <option value="">Select Month</option> 	<option value='http://middlewaremagic.com/weblogic/?m=201312'> December 2013 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201311'> November 2013 &nbsp;(2)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201310'> October 2013 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201309'> September 2013 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201308'> August 2013 &nbsp;(3)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201307'> July 2013 &nbsp;(2)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201306'> June 2013 &nbsp;(2)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201305'> May 2013 &nbsp;(2)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201304'> April 2013 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201303'> March 2013 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201302'> February 2013 &nbsp;(2)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201301'> January 2013 &nbsp;(3)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201211'> November 2012 &nbsp;(3)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201210'> October 2012 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201209'> September 2012 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201208'> August 2012 &nbsp;(3)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201207'> July 2012 &nbsp;(2)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201206'> June 2012 &nbsp;(2)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201205'> May 2012 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201204'> April 2012 &nbsp;(3)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201203'> March 2012 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201202'> February 2012 &nbsp;(2)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201201'> January 2012 &nbsp;(3)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201112'> December 2011 &nbsp;(4)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201111'> November 2011 &nbsp;(4)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201110'> October 2011 &nbsp;(4)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201109'> September 2011 &nbsp;(5)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201108'> August 2011 &nbsp;(3)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201107'> July 2011 &nbsp;(5)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201106'> June 2011 &nbsp;(6)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201105'> May 2011 &nbsp;(10)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201104'> April 2011 &nbsp;(9)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201103'> March 2011 &nbsp;(13)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201102'> February 2011 &nbsp;(19)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201101'> January 2011 &nbsp;(9)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201012'> December 2010 &nbsp;(14)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201011'> November 2010 &nbsp;(20)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201010'> October 2010 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201009'> September 2010 &nbsp;(3)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201008'> August 2010 &nbsp;(9)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201007'> July 2010 &nbsp;(12)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201006'> June 2010 &nbsp;(20)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201005'> May 2010 &nbsp;(12)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201004'> April 2010 &nbsp;(15)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201003'> March 2010 &nbsp;(17)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201002'> February 2010 &nbsp;(9)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=201001'> January 2010 &nbsp;(14)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=200912'> December 2009 &nbsp;(24)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=200911'> November 2009 &nbsp;(1)</option>
	<option value='http://middlewaremagic.com/weblogic/?m=200908'> August 2009 &nbsp;(11)</option>
 </select>
</div></li><li id="recent-comments-3" class="sidebaritem widget_recent_comments"><div class="sidebarbox"><h2 class="widgettitle">Recent Tech. Discussion</h2><ul id="recentcomments"><li class="recentcomments">René van Wijk on <a href="http://middlewaremagic.com/weblogic/?p=980#comment-8985">MulticastMonitor &amp; MulticastTest Utility</a></li><li class="recentcomments">Imran on <a href="http://middlewaremagic.com/weblogic/?p=980#comment-8982">MulticastMonitor &amp; MulticastTest Utility</a></li><li class="recentcomments">René van Wijk on <a href="http://middlewaremagic.com/weblogic/?p=303#comment-8981">Recursive Deployment Using WLST</a></li><li class="recentcomments">kapila on <a href="http://middlewaremagic.com/weblogic/?p=303#comment-8980">Recursive Deployment Using WLST</a></li><li class="recentcomments">René van Wijk on <a href="http://middlewaremagic.com/weblogic/?p=7505#comment-8979">Using WLST to obtain WebLogic Runtime Information</a></li><li class="recentcomments">aellen on <a href="http://middlewaremagic.com/weblogic/?p=7505#comment-8978">Using WLST to obtain WebLogic Runtime Information</a></li><li class="recentcomments">René van Wijk on <a href="http://middlewaremagic.com/weblogic/?page_id=2608#comment-8975">JMX / WLST / WLDF</a></li><li class="recentcomments">bubblu on <a href="http://middlewaremagic.com/weblogic/?page_id=2608#comment-8974">JMX / WLST / WLDF</a></li><li class="recentcomments">Vikas on <a href="http://middlewaremagic.com/weblogic/?page_id=2612#comment-8971">Miscellaneous</a></li><li class="recentcomments">René van Wijk on <a href="http://middlewaremagic.com/weblogic/?page_id=2612#comment-8970">Miscellaneous</a></li><li class="recentcomments">Mettemusen on <a href="http://middlewaremagic.com/weblogic/?p=5131#comment-8968">Analyzing Garbage Collection Log</a></li><li class="recentcomments">Vikas on <a href="http://middlewaremagic.com/weblogic/?page_id=2612#comment-8967">Miscellaneous</a></li><li class="recentcomments">René van Wijk on <a href="http://middlewaremagic.com/weblogic/?page_id=1976#comment-8966">JMS</a></li><li class="recentcomments">stevesmith on <a href="http://middlewaremagic.com/weblogic/?page_id=1976#comment-8959">JMS</a></li><li class="recentcomments">jrathod on <a href="http://middlewaremagic.com/weblogic/?page_id=2599#comment-8957">Installation / Upgrade</a></li></ul></div></li><li id="text-10" class="sidebaritem widget_text"><div class="sidebarbox"><h2 class="widgettitle">Sitemeter Status</h2>			<div class="textwidget"><center>
<!-- Site Meter -->
<script type="text/javascript" src="http://s47.sitemeter.com/js/counter.js?site=s47middlewaremagic">
</script>
<noscript>
<a href="http://s47.sitemeter.com/stats.asp?site=s47middlewaremagic" target="_top">
<img src="http://s47.sitemeter.com/meter.asp?site=s47middlewaremagic" alt="Site Meter" border="0"/></a>
</noscript>
<!-- Copyright (c)2009 Site Meter -->
</center></div>
		</div></li><li id="text-4" class="sidebaritem widget_text"><div class="sidebarbox"><h2 class="widgettitle">ClusterMap  7-Nov-2011 till Date</h2>			<div class="textwidget"><center>
<a href="http://www2.clustrmaps.com/counter/maps.php?url=http://middlewaremagic.com" id="clustrMapsLink"><img src="http://www2.clustrmaps.com/counter/index2.php?url=http://middlewaremagic.com" style="border:0px;" alt="Locations of visitors to this page" title="Locations of visitors to this page" id="clustrMapsImg" onerror="this.onerror=null; this.src='http://clustrmaps.com/images/clustrmaps-back-soon.jpg'; document.getElementById('clustrMapsLink').href='http://clustrmaps.com';" />
</a>
</center></div>
		</div></li><li id="text-9" class="sidebaritem widget_text"><div class="sidebarbox"><h2 class="widgettitle">ClusterMap  6-Nov-2010 till 7-Nov-2011</h2>			<div class="textwidget"><center>
<a href="http://www2.clustrmaps.com/stats/history/middlewaremagic.com-2010-11-06_to_2011-11-07.jpg"><img src="http://www2.clustrmaps.com/stats/history/middlewaremagic.com-2010-11-06_to_2011-11-07.jpg"></a>
</center></div>
		</div></li> 

        <div class="clr"></div>
</div>
<div class="clr"></div>

    
			<div id="bottompanel">
    <div class="roundcornrrbox">
        <div class="topleftcorner"><div class="toprightcorner"></div></div>
        <div class="roundcrrcnt">
        
        	
            <div class="col1">
                <div id="text-5" class="widget widget_text">			<div class="textwidget"><!-- RAVISH MODY -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-19587961-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></div>
		</div><div id="text-3" class="widget widget_text">			<div class="textwidget"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-19545847-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></div>
		</div>            </div>
            
            <div class="col2">
                <div id="text-6" class="widget widget_text">			<div class="textwidget"><!-- Site Meter -->
<script type="text/javascript" src="http://s47.sitemeter.com/js/counter.js?site=s47middlewaremagic">
</script>
<noscript>
<a href="http://s47.sitemeter.com/stats.asp?site=s47middlewaremagic" target="_top">
<img src="http://s47.sitemeter.com/meter.asp?site=s47middlewaremagic" alt="Site Meter" border="0"/></a>
</noscript>
<!-- Copyright (c)2009 Site Meter --></div>
		</div>            </div>
            
            <div class="col3">
                                    <h3>Tags</h3>
                    <ul>
                    	<a href='http://middlewaremagic.com/weblogic/?tag=alert' class='tag-link-57' title='7 topics' style='font-size: 9.0666666666667pt;'>Alert</a>
<a href='http://middlewaremagic.com/weblogic/?tag=ant' class='tag-link-21' title='9 topics' style='font-size: 9.9555555555556pt;'>ANT</a>
<a href='http://middlewaremagic.com/weblogic/?tag=cluster' class='tag-link-100' title='9 topics' style='font-size: 9.9555555555556pt;'>Cluster</a>
<a href='http://middlewaremagic.com/weblogic/?tag=coherence' class='tag-link-52' title='19 topics' style='font-size: 12.622222222222pt;'>Coherence</a>
<a href='http://middlewaremagic.com/weblogic/?tag=datasource' class='tag-link-14' title='13 topics' style='font-size: 11.288888888889pt;'>DataSource</a>
<a href='http://middlewaremagic.com/weblogic/?tag=debugging' class='tag-link-75' title='19 topics' style='font-size: 12.622222222222pt;'>debugging</a>
<a href='http://middlewaremagic.com/weblogic/?tag=deploy' class='tag-link-24' title='8 topics' style='font-size: 9.5111111111111pt;'>Deploy</a>
<a href='http://middlewaremagic.com/weblogic/?tag=ejb' class='tag-link-10' title='15 topics' style='font-size: 11.733333333333pt;'>EJB</a>
<a href='http://middlewaremagic.com/weblogic/?tag=ejb3' class='tag-link-16' title='10 topics' style='font-size: 10.311111111111pt;'>EJB3</a>
<a href='http://middlewaremagic.com/weblogic/?tag=hibernate' class='tag-link-51' title='7 topics' style='font-size: 9.0666666666667pt;'>Hibernate</a>
<a href='http://middlewaremagic.com/weblogic/?tag=jms' class='tag-link-7' title='32 topics' style='font-size: 14.577777777778pt;'>JMS</a>
<a href='http://middlewaremagic.com/weblogic/?tag=jmx' class='tag-link-13' title='17 topics' style='font-size: 12.266666666667pt;'>JMX</a>
<a href='http://middlewaremagic.com/weblogic/?tag=jvm' class='tag-link-35' title='7 topics' style='font-size: 9.0666666666667pt;'>JVM</a>
<a href='http://middlewaremagic.com/weblogic/?tag=jvm-tuning' class='tag-link-47' title='18 topics' style='font-size: 12.444444444444pt;'>JVM Tuning</a>
<a href='http://middlewaremagic.com/weblogic/?tag=mdb' class='tag-link-15' title='5 topics' style='font-size: 8pt;'>MDB</a>
<a href='http://middlewaremagic.com/weblogic/?tag=monitoring' class='tag-link-79' title='26 topics' style='font-size: 13.777777777778pt;'>Monitoring</a>
<a href='http://middlewaremagic.com/weblogic/?tag=plan-xml' class='tag-link-18' title='7 topics' style='font-size: 9.0666666666667pt;'>Plan.xml</a>
<a href='http://middlewaremagic.com/weblogic/?tag=security' class='tag-link-54' title='14 topics' style='font-size: 11.555555555556pt;'>Security</a>
<a href='http://middlewaremagic.com/weblogic/?tag=spring' class='tag-link-49' title='12 topics' style='font-size: 10.933333333333pt;'>Spring</a>
<a href='http://middlewaremagic.com/weblogic/?tag=tuning' class='tag-link-74' title='9 topics' style='font-size: 9.9555555555556pt;'>tuning</a>
<a href='http://middlewaremagic.com/weblogic/?tag=weblogic' class='tag-link-48' title='34 topics' style='font-size: 14.755555555556pt;'>weblogic</a>
<a href='http://middlewaremagic.com/weblogic/?tag=weblogic-12c' class='tag-link-189' title='7 topics' style='font-size: 9.0666666666667pt;'>WebLogic 12c</a>
<a href='http://middlewaremagic.com/weblogic/?tag=webservice' class='tag-link-11' title='10 topics' style='font-size: 10.311111111111pt;'>WebService</a>
<a href='http://middlewaremagic.com/weblogic/?tag=wlst' class='tag-link-9' title='47 topics' style='font-size: 16pt;'>WLST</a>                    </ul>
                    
                            </div>
            <div class="clr"></div>
        

            <div class="clr"></div>
        </div>
        <div class="bottomleftcorner"><div class="bottomrightcorner"></div></div>
    </div>
</div>
<!-- Bottom Panel ends -->


	
            <div class="copyr">Copyright © 2010-2012 Middleware Magic. All rights reserved. | <a href="http://middlewaremagic.com/weblogic/?page_id=4038">Disclaimer</a></div>    
        <div class="clr16"></div>
        </div>
    </div>
    <div id="layoutbottom"></div>
</div>

<script type='text/javascript'>
/* <![CDATA[ */
var thickboxL10n = {
	next: "Next &gt;",
	prev: "&lt; Prev",
	image: "Image",
	of: "of",
	close: "Close",
	noiframes: "This feature requires inline frames. You have iframes disabled or your browser does not support them."
};
try{convertEntities(thickboxL10n);}catch(e){};
/* ]]> */
</script>
<script type='text/javascript' src='http://middlewaremagic.com/weblogic/wp-includes/js/thickbox/thickbox.js?ver=3.1-20100407'></script>
<script type='text/javascript' src='http://w.sharethis.com/button/buttons.js?ver=3.0.5'></script>
<script type='text/javascript' src='http://middlewaremagic.com/weblogic/wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/shCore.js?ver=2.1.364b'></script>
<script type='text/javascript' src='http://middlewaremagic.com/weblogic/wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/shBrushJava.js?ver=2.1.364b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://middlewaremagic.com/weblogic/wp-content/plugins/syntaxhighlighter/syntaxhighlighter/styles/shCore.css?ver=2.1.364b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].appendChild(corecss);
		var themecssurl = "http://middlewaremagic.com/weblogic/wp-content/plugins/syntaxhighlighter/syntaxhighlighter/styles/shThemeDefault.css?ver=2.1.364b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.getElementsByTagName("head")[0].appendChild(themecss);
	})();
	SyntaxHighlighter.config.clipboardSwf = 'http://middlewaremagic.com/weblogic/wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/clipboard.swf';
	SyntaxHighlighter.config.strings.expandSource = 'show source';
	SyntaxHighlighter.config.strings.viewSource = 'view source';
	SyntaxHighlighter.config.strings.copyToClipboard = 'copy to clipboard';
	SyntaxHighlighter.config.strings.copyToClipboardConfirmation = 'The code is in your clipboard now';
	SyntaxHighlighter.config.strings.print = 'print';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.all();
</script>
<script type="text/javascript">
	var tb_pathToImage = "http://middlewaremagic.com/weblogic/wp-includes/js/thickbox/loadingAnimation.gif";
	var tb_closeImage =  "http://middlewaremagic.com/weblogic/wp-includes/js/thickbox/tb-close.png"
	</script>
</body>
</html>
