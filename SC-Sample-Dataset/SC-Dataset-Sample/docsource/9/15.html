<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Purify error</title>

<link rel="stylesheet" href="http://cdn.derkeiler.com/styles/dkv4.css" type="text/css" media="all">
<link rel="alternate" href="http://unix.derkeiler.com/pdf/Newsgroups/comp.unix.solaris/2008-12/msg00084.pdf" type="application/pdf" media="print" title="PDF version">
<link rel="alternate" type="application/rss+xml" href="http://unix.derkeiler.com/Newsgroups/comp.unix.solaris/rss.xml">

<link href="http://cdn.derkeiler.com/icons/dkunix.ico" rel="icon" type="image/vnd.microsoft.icon">
<link href="http://cdn.derkeiler.com/icons/dkunix.ico" rel="SHORTCUT ICON">
<meta property="og:image" content="http://cdn.derkeiler.com/logo/dk_logo_square.jpg"/>
<script type="text/javascript">
var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-86536-4']); _gaq.push(['_setDomainName', 'derkeiler.com']); _gaq.push(['_setAllowHash', 'false']); _gaq.push(['_trackPageview']); _gaq.push(['_trackPageLoadTime']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</head>
<body>
<div id="content">
<!-- google_ad_section_start -->


<h1>Purify error</h1>
<hr>
<ul>
<li><em>From</em>: Vijay Jain &lt;<a href="mailto:vj.jain@DOMAIN.HIDDEN">vj.jain@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 4 Dec 2008 21:51:02 -0800 (PST)</li>
</ul>
<hr>
Hi All,<br>
<br>
I am trying to build purified binary of my code to detect memory leak<br>
with my application.<br>
However I get the following error when linking through purify in<br>
verbose mode.<br>
<br>
------------------------------------------------------ERROR<br>
START----------------------------------------------------------------<br>
Purify engine: Note: File /usr/lib/libc.so.1 (/usr/lib/libc.so.1)<br>
already in list of dependent libs.<br>
<br>
Purify engine: Note: Instrumenting /tmp/data635common_defs0.o -&gt; /tmp/<br>
data635common_defs0_pure_p9_c0_103312158_32.o<br>
<br>
Purify engine: Error: Errors detected while instrumenting files.<br>
Linking suppressed.<br>
(To force continuation, use &quot;purify -best-effort $(CC) ...&quot;.)<br>
*** Error code 1<br>
clearmake: Error: Build script failed for &quot;TM_transactioncapture.pure&quot;<br>
------------------------------------------------ERROR END<br>
------------------------------------------------------------------------<br>
<br>
When I link with -best-effort option I get the following error<br>
<br>
<br>
------------------------------------------------------ERROR<br>
START----------------------------------------------------------------<br>
<br>
ld: fatal: option -dn and -P are incompatible<br>
ld: fatal: Flags processing errors<br>
<br>
Purify engine: Error: The linker returned error code: 1<br>
<br>
*** Error code 1<br>
clearmake: Error: Build script failed for &quot;TM_transactioncapture.pure&quot;<br>
------------------------------------------------ERROR END<br>
------------------------------------------------------------------------<br>
<br>
<br>
When I do the linking through ld myself changing the ld options  (-dy)<br>
I get the following error<br>
<br>
------------------------------------------------------ERROR<br>
START----------------------------------------------------------------<br>
<br>
ld: fatal: file /tmp/data2806.o: open failed: No such file or<br>
directory<br>
ld: fatal: file /tmp/data2806common_defs0_pure_p9_c0_103312158_32.o:<br>
open failed: No such file or directory<br>
ld: fatal: File processing errors. No output written to<br>
TM_transactioncapture.pure<br>
------------------------------------------------ERROR END<br>
------------------------------------------------------------------------<br>
<br>
<br>
Following is the directive for these files in the ld command generated<br>
by purify<br>
<br>
&quot; -e __pure_start /tmp/data2806.o /tmp/<br>
data2806common_defs0_pure_p9_c0_103312158_32.o &quot;<br>
<br>
<br>
If I remove the files &quot; /tmp/data2806.o /tmp/<br>
data2806common_defs0_pure_p9_c0_103312158_32.o &quot;  from the link option<br>
and with oe without &quot;-e __pure_start &quot;<br>
I get loads of such error<br>
<br>
------------------------------------------------------ERROR<br>
START----------------------------------------------------------------<br>
<br>
ld: fatal: relocation error: R_SPARC_DISP32: file /vobs/odyssey/tm/src/<br>
tm/vobs/odyssey/tm/lib/libpersistence_classes_pure_p9_c0_103312158_32.a<br>
(dbttmcashflowtask_data.o): symbol DW.ref.__gxx_personality_v0: offset<br>
0x528fb is non-aligned<br>
<br>
------------------------------------------------ERROR END<br>
------------------------------------------------------------------------<br>
<br>
<br>
Could you please help me resolve the error to get a purified build of<br>
my application?<br>
<br>
Thanks,<br>
Vijay<br>
.<br>
<br>

<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00094" href="msg00094.html">Re: Purify error</a></strong>
<ul><li><em>From:</em> Paul Floyd</li></ul></li>
<li><strong><a name="00085" href="msg00085.html">Re: Purify error</a></strong>
<ul><li><em>From:</em> Ian Collins</li></ul></li>
</ul></li></ul>
<ul>
<li>Prev by Date:
<strong><a href="msg00083.html">Re: ZFS or UFS</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00085.html">Re: Purify error</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00081.html">Sun Microsystems User Research Dec 10-12, 2008</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00085.html">Re: Purify error</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00084"><strong>Date</strong></a></li>
<li><a href="threads.html#00084"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>


<!-- google_ad_section_end -->
<div id="footer">
	<a href="http://www.derkeiler.com/about/content-quality">Flag as inappropriate</a><br>
	(13)
</div>

</div>
<p id="logo"><a href="/" title="Home"><img src="http://cdn.derkeiler.com/images/logo.png" width="46" height="313" alt="derkeiler.com" title="Home"></a></p>
<div id="menu1">
        <ul>
                <li><a href="http://www.derkeiler.com/">Security</a></li>
                <li id="selected1"><a href="http://unix.derkeiler.com/">UNIX</a></li>
                <li><a href="http://linux.derkeiler.com/">Linux</a></li>
                <li><a href="http://coding.derkeiler.com/">Coding</a></li>
		<li><a href="http://newsgroups.derkeiler.com/">Usenet</a></li>
        </ul>
</div>
<div id="menu2">
        <ul>
		<li><a href="http://unix.derkeiler.com/Mailing-Lists/">Mailing-Lists</a></li><li id="selected2"><a href="http://unix.derkeiler.com/Newsgroups/">Newsgroups</a></li><li><a href="http://www.derkeiler.com/about/">About</a></li><li><a href="http://unix.derkeiler.com/privacy/">Privacy</a></li><li><a href="http://unix.derkeiler.com/search/">Search</a></li><li><a href="http://www.derkeiler.com/about/imprint">Imprint</a></li>
        </ul>
</div>
<div id="nav">
        <img src="http://cdn.derkeiler.com/images/arrow.gif" width="15" height="7" alt="Path:">
        <a href="http://unix.derkeiler.com/">unix.derkeiler.com</a> &nbsp;&gt;&nbsp;<a href="http://unix.derkeiler.com/Newsgroups/">Newsgroups</a> &nbsp;&gt;&nbsp;<a href="http://unix.derkeiler.com/Newsgroups/comp.unix.solaris/">comp.unix.solaris</a> &nbsp;&gt;&nbsp;<a href="http://unix.derkeiler.com/Newsgroups/comp.unix.solaris/2008-12/">2008-12</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://unix.derkeiler.com/pdf/Newsgroups/comp.unix.solaris/2008-12/msg00084.pdf"><img src="http://cdn.derkeiler.com/images/pdf.jpg" height="15" width="16" alt="Print as PDF" style="position:relative; bottom:-2px;"></a>&nbsp;&nbsp;<a class="addthis_button"><img src="http://cdn.derkeiler.com/images/share.gif" width="52" height="16" alt="Bookmark and Share" style="border:0;position:relative; bottom:-3px;"/></a>&nbsp;&nbsp;<a href="http://unix.derkeiler.com/Newsgroups/comp.unix.solaris/rss.xml"><img src="http://cdn.derkeiler.com/images/xml.gif" height="13" width="35" alt="RSS Feed" style="position:relative; bottom:-2px;"></a>
</div>

<div id="topbanner">
</div>
	
<div id="skyscraper">
</div>
<script type="text/javascript" src="http://www.derkeiler.com/gam/tag.js?site=unix-derkeiler-com"></script>
<script type="text/javascript">
	function tracking(){var a=document.createElement("iframe");a.height=1;a.width=1;a.hspace=0;a.vspace=0;a.scrolling="no";a.style.border="0px none";a.allowTransparency=true;document.body.appendChild(a);var b=a.contentDocument;if(b==undefined||b==null){b=a.contentWindow.document}b.open();b.write('<img src="http://pixel.quantserve.com/pixel/p-abMz3F92T4IJ2.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>');b.write("<div id='beacon_67' style='position: absolute; left: 0px; top: 0px; visibility: hidden;'><img src='/ads/adlog.php?bannerid=67&amp;campaignid=42&amp;zoneid=22&amp;source=&amp;block=0&amp;capping=0&amp;session_capping=0&amp;cb=5b01351bc8' width='0' height='0' alt='' style='width: 0px; height: 0px;'></div>");b.close();
		var c=document.createElement("script"); 
                c.src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4d9980b07dd97c4d&async=1";
                c.onload = function () { addthis.init(); }
                c.onreadystatechange= function () { if (this.readyState == 'loaded' || this.readyState == 'complete') addthis.init(); }
                document.body.appendChild(c);
	}
	function downloadJSAtOnload(){var a=document.createElement("script");a.src="http://cdn.derkeiler.com/js/deferred.js";document.body.appendChild(a);setTimeout("tracking()",1000)}if(window.addEventListener){window.addEventListener("load",downloadJSAtOnload,false)}else{if(window.attachEvent){window.attachEvent("onload",downloadJSAtOnload)}else{window.onload=downloadJSAtOnload}};
</script>
<script type="text/javascript" src="http://partner.googleadservices.com/gampad/google_service.js"></script>
<script type="text/javascript">
        GS_googleAddAdSenseService("ca-pub-3777565888511862");
        GS_googleEnableAllServices();
</script>
<script type="text/javascript">
        GA_googleUseIframeRendering(true);
</script>

</body>
</html>
