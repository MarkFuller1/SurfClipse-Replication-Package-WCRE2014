<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<link rel="stylesheet" type="text/css" href="/resources/gjdochtml-clean-layout.css" />
<link rel="stylesheet" type="text/css" href="/resources/gjdochtml-clean-color1.css" />
<script src="/resources/gjdoc.js" type="text/javascript"></script>




<head><meta http-equiv=content-type content="text/html; charset=UTF-8"><title>daikon.dcomp.Premain - Java Examples</title></head><body><table class="navbar div top"><tbody><tr><td class="navbar div top"><div class="navbar div top"> <span class="navbar item enabled"><a href="/" target="_top">JavaDocExamples</a></span><span class="navbar item enabled"><a href="/java_examples/">Java Examples</a></span> <span class="navbar item enabled"><a href="/overview-summary.html">Java Doc</a></span> <span class="navbar item enabled"><a href="/search">Usage & Exmaples Search</a></span> <span class="navbar item enabled"><a href="/about.html">About</a></span></div></td></tr></tbody></table>
<script src="/resources/headersrc.js" type="text/javascript"></script><h1 class="source title">Java Source Code: daikon.dcomp.Premain</h1><br />
  <div class="source">
<pre>
   <a name="line.1"><span class="line-number even">1:</span> </a><span class="keyword">package</span> <span class="package header type">daikon.dcomp</span>;
   <a name="line.2"><span class="line-number even">2:</span> </a>
   <a name="line.3"><span class="line-number even">3:</span> </a><span class="keyword">import</span> <span class="import header type">java.lang.instrument.*</span>;
   <a name="line.4"><span class="line-number even">4:</span> </a><span class="keyword">import</span> <span class="import header type">java.security.*</span>;
   <a name="line.5"><span class="line-number odd">5: </span></a><span class="keyword">import</span> <span class="import header type">java.io.*</span>;
   <a name="line.6"><span class="line-number even">6:</span> </a><span class="keyword">import</span> <span class="import header type">java.util.*</span>;
   <a name="line.7"><span class="line-number even">7:</span> </a><span class="keyword">import</span> <span class="import header type">java.util.regex.*</span>;
   <a name="line.8"><span class="line-number even">8:</span> </a>
   <a name="line.9"><span class="line-number even">9:</span> </a><span class="keyword">import</span> <span class="import header type">org.apache.bcel.*</span>;
  <a name="line.10"><span class="line-number odd">10: </span></a><span class="keyword">import</span> <span class="import header type">org.apache.bcel.classfile.*</span>;
  <a name="line.11"><span class="line-number even">11:</span> </a><span class="keyword">import</span> <span class="import header type">org.apache.bcel.generic.*</span>;
  <a name="line.12"><span class="line-number even">12:</span> </a>
  <a name="line.13"><span class="line-number even">13:</span> </a><span class="keyword">import</span> <span class="import header type">daikon.util.*</span>;
  <a name="line.14"><span class="line-number even">14:</span> </a><span class="keyword">import</span> <span class="import header type">daikon.chicory.DaikonVariableInfo</span>;
  <a name="line.15"><span class="line-number odd">15: </span></a>
  <a name="line.16"><span class="line-number even">16:</span> </a><span class="keyword">import</span> <span class="import header type">daikon.DynComp</span>;
  <a name="line.17"><span class="line-number even">17:</span> </a>
  <a name="line.18"><span class="line-number even">18:</span></a><img id="javadocexamples__code_id_0_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_0_');" alt="" src="/resources/ExpandedBlockStart.gif" align="top" /><img id="javadocexamples__code_id_0_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_0_');" alt="" src="/resources/ContractedBlock.gif" align="top" /><span id="javadocexamples__code_id_0_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_0_Open_Text"><span class="keyword">public</span> <span class="keyword">class</span> <span class="non-primitive type">Premain</span> {
  <a name="line.19"><span class="line-number even">19:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.20"><span class="line-number odd">20:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />  <span class="javadoc comment">/**
  <a name="line.21"><span class="line-number even">21:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />   * Set of pre_instrumented jdk classes.  Needed so that we will instrument
  <a name="line.22"><span class="line-number even">22:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />   * classes generated on the fly in the jdk.
  <a name="line.23"><span class="line-number even">23:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />   **/</span>
  <a name="line.24"><span class="line-number even">24:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />  <span class="keyword">static</span> <span class="non-primitive type">Set</span>&lt;<span class="non-primitive type">String</span>&gt; <span class="variable member">pre_instrumented</span> = <span class="keyword">new</span> <span class="non-primitive type">LinkedHashSet</span>&lt;<span class="non-primitive type">String</span>&gt;();
  <a name="line.25"><span class="line-number odd">25:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.26"><span class="line-number even">26:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />  <span class="keyword">public</span> <span class="keyword">static</span> <span class="primitive type">void</span> <span class="method member">premain</span> (<span class="non-primitive type">String</span> <span class="variable member">agentArgs</span>, <span class="non-primitive type">Instrumentation</span> <span class="variable member">inst</span>)
  <a name="line.27"><span class="line-number even">27:</span></a><img id="javadocexamples__code_id_1_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_1_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_1_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_1_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_1_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_1_Open_Text">    <span class="keyword">throws</span> <span class="non-primitive type">IOException</span> {
  <a name="line.28"><span class="line-number even">28:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.29"><span class="line-number even">29:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="non-primitive type">Options</span> <span class="variable member">options</span> = <span class="keyword">new</span> <span class="constructor member">Options</span> (<span class="variable member">DynComp.usage_synopsis</span>, <span class="keyword">DynComp.class</span>, <span class="keyword">Premain.class</span>);
  <a name="line.30"><span class="line-number odd">30:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="non-primitive type">String</span>[] <span class="variable member">args</span> = <span class="method member">options.parse_and_usage</span> (<span class="method member">agentArgs.split</span> (<span class="double quote">&quot;  *&quot;</span>));
  <a name="line.31"><span class="line-number even">31:</span></a><img id="javadocexamples__code_id_2_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_2_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_2_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_2_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_2_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_2_Open_Text">    <span class="keyword">if</span> (<span class="variable member">args.length</span> &gt; <span class="numeric literal">0</span>) {
  <a name="line.32"><span class="line-number even">32:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="method member">options.print_usage</span> (<span class="double quote">&quot;Unexpected argument %s&quot;</span>, <span class="variable member">args</span>[<span class="numeric literal">0</span>]);
  <a name="line.33"><span class="line-number even">33:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="method member">System.exit</span> (-<span class="numeric literal">1</span>);
  <a name="line.34"><span class="line-number even">34:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />    }</span>
  <a name="line.35"><span class="line-number odd">35:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.36"><span class="line-number even">36:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="variable member">DaikonVariableInfo.std_visibility</span> = <span class="variable member">DynComp.std_visibility</span>;
  <a name="line.37"><span class="line-number even">37:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="variable member">DCRuntime.depth</span> = <span class="variable member">DynComp.nesting_depth</span>;
  <a name="line.38"><span class="line-number even">38:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.39"><span class="line-number even">39:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="keyword">if</span> (<span class="variable member">DynComp.no_jdk</span>)
  <a name="line.40"><span class="line-number odd">40:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="variable member">DCInstrument.jdk_instrumented</span> = <span class="primitive literal">false</span>;
  <a name="line.41"><span class="line-number even">41:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.42"><span class="line-number even">42:</span></a><img id="javadocexamples__code_id_3_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_3_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_3_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_3_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_3_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_3_Open_Text">    <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>) {
  <a name="line.43"><span class="line-number even">43:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="method member">System.out.format</span> (<span class="double quote">&quot;In dcomp premain, agentargs ='%s', &quot;</span> +
  <a name="line.44"><span class="line-number even">44:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />                       <span class="double quote">&quot;Instrumentation = '%s'\n&quot;</span>, <span class="variable member">agentArgs</span>, <span class="variable member">inst</span>);
  <a name="line.45"><span class="line-number odd">45:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="method member">System.out.printf</span> (<span class="double quote">&quot;Options settings: %n%s%n&quot;</span>, <span class="method member">options.settings</span>());
  <a name="line.46"><span class="line-number even">46:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />    }</span>
  <a name="line.47"><span class="line-number even">47:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.48"><span class="line-number even">48:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="line comment">// Read in the list of pre-instrumented classes</span>
  <a name="line.49"><span class="line-number even">49:</span></a><img id="javadocexamples__code_id_4_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_4_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_4_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_4_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_4_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_4_Open_Text">    <span class="keyword">if</span> (!<span class="variable member">DynComp.no_jdk</span>) {
  <a name="line.50"><span class="line-number odd">50:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="non-primitive type">InputStream</span> <span class="variable member">strm</span>
  <a name="line.51"><span class="line-number even">51:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        = <span class="method member">Object.class.getResourceAsStream</span> (<span class="double quote">&quot;jdk_classes.txt&quot;</span>);
  <a name="line.52"><span class="line-number even">52:</span></a><img id="javadocexamples__code_id_5_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_5_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_5_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_5_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_5_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_5_Open_Text">      <span class="keyword">if</span> (<span class="variable member">strm</span> == <span class="primitive literal">null</span>) {
  <a name="line.53"><span class="line-number even">53:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.err.println</span>(<span class="double quote">&quot;Can't find jdk_classes.txt; see Daikon manual, section \"Instrumenting the JDK with DynComp\"&quot;</span>);
  <a name="line.54"><span class="line-number even">54:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.exit</span>(<span class="numeric literal">1</span>);
  <a name="line.55"><span class="line-number odd">55:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />      }</span>
  <a name="line.56"><span class="line-number even">56:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="non-primitive type">BufferedReader</span> <span class="variable member">reader</span>
  <a name="line.57"><span class="line-number even">57:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        = <span class="keyword">new</span> <span class="constructor member">BufferedReader</span> (<span class="keyword">new</span> <span class="constructor member">InputStreamReader</span> (<span class="variable member">strm</span>));
  <a name="line.58"><span class="line-number even">58:</span></a><img id="javadocexamples__code_id_6_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_6_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_6_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_6_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_6_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_6_Open_Text">      <span class="keyword">while</span> (<span class="primitive literal">true</span>) {
  <a name="line.59"><span class="line-number even">59:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="non-primitive type">String</span> <span class="variable member">line</span> = <span class="method member">reader.readLine</span>();
  <a name="line.60"><span class="line-number odd">60:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="keyword">if</span> (<span class="variable member">line</span> == <span class="primitive literal">null</span>)
  <a name="line.61"><span class="line-number even">61:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">break</span>;
  <a name="line.62"><span class="line-number even">62:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="line comment">// System.out.printf (&quot;adding '%s'%n&quot;, line);</span>
  <a name="line.63"><span class="line-number even">63:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">pre_instrumented.add</span> (<span class="variable member">line</span>);
  <a name="line.64"><span class="line-number even">64:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />      }</span>
  <a name="line.65"><span class="line-number odd">65:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />    }</span>
  <a name="line.66"><span class="line-number even">66:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.67"><span class="line-number even">67:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="line comment">// Find out what classes are already loaded</span>
  <a name="line.68"><span class="line-number even">68:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="non-primitive type">Class</span>[] <span class="variable member">loaded_classes</span> = <span class="method member">inst.getAllLoadedClasses</span>();
  <a name="line.69"><span class="line-number even">69:</span></a><img id="javadocexamples__code_id_7_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_7_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_7_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_7_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_7_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_7_Open_Text">    <span class="keyword">for</span> (<span class="non-primitive type">Class</span> <span class="variable member">loaded_class</span> : <span class="variable member">loaded_classes</span>) {
  <a name="line.70"><span class="line-number odd">70:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="line comment">// System.out.printf (&quot;loaded class = %s\n&quot;, loaded_class.getName());</span>
  <a name="line.71"><span class="line-number even">71:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />    }</span>
  <a name="line.72"><span class="line-number even">72:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.73"><span class="line-number even">73:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="line comment">// Setup the shutdown hook</span>
  <a name="line.74"><span class="line-number even">74:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="non-primitive type">Thread</span> <span class="variable member">shutdown_thread</span> = <span class="keyword">new</span> <span class="constructor member">ShutdownThread</span>();
  <a name="line.75"><span class="line-number odd">75:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="method member">java.lang.Runtime.getRuntime</span>().<span class="method member">addShutdownHook</span> (<span class="variable member">shutdown_thread</span>);
  <a name="line.76"><span class="line-number even">76:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.77"><span class="line-number even">77:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="non-primitive type">Transform</span> <span class="variable member">transformer</span> = <span class="keyword">new</span> <span class="constructor member">Transform</span>();
  <a name="line.78"><span class="line-number even">78:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="method member">inst.addTransformer</span> (<span class="variable member">transformer</span>);
  <a name="line.79"><span class="line-number even">79:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.80"><span class="line-number odd">80:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="line comment">// Initialize the static tag array</span>
  <a name="line.81"><span class="line-number even">81:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="method member">DCRuntime.init</span>();
  <a name="line.82"><span class="line-number even">82:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.83"><span class="line-number even">83:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.84"><span class="line-number even">84:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />  }</span>
  <a name="line.85"><span class="line-number odd">85:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.86"><span class="line-number even">86:</span></a><img id="javadocexamples__code_id_8_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_8_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_8_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_8_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_8_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_8_Open_Text">  <span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">class</span> <span class="non-primitive type">Transform</span> <span class="keyword">implements</span> <span class="non-primitive type">ClassFileTransformer</span> {
  <a name="line.87"><span class="line-number even">87:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.88"><span class="line-number even">88:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="non-primitive type">File</span> <span class="variable member">debug_dir</span>;
  <a name="line.89"><span class="line-number even">89:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="non-primitive type">File</span> <span class="variable member">debug_bin_dir</span>;
  <a name="line.90"><span class="line-number odd">90:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="non-primitive type">File</span> <span class="variable member">debug_orig_dir</span>;
  <a name="line.91"><span class="line-number even">91:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.92"><span class="line-number even">92:</span></a><img id="javadocexamples__code_id_9_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_9_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_9_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_9_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_9_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_9_Open_Text">    <span class="keyword">public</span> <span class="constructor member">Transform</span>() {
  <a name="line.93"><span class="line-number even">93:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="variable member">debug_dir</span> = <span class="variable member">DynComp.debug_dir</span>;
  <a name="line.94"><span class="line-number even">94:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="variable member">debug_bin_dir</span> = <span class="keyword">new</span> <span class="constructor member">File</span> (<span class="variable member">debug_dir</span>, <span class="double quote">&quot;bin&quot;</span>);
  <a name="line.95"><span class="line-number odd">95:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="variable member">debug_orig_dir</span> = <span class="keyword">new</span> <span class="constructor member">File</span> (<span class="variable member">debug_dir</span>, <span class="double quote">&quot;orig&quot;</span>);
  <a name="line.96"><span class="line-number even">96:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
  <a name="line.97"><span class="line-number even">97:</span></a><img id="javadocexamples__code_id_10_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_10_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_10_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_10_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_10_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_10_Open_Text">      <span class="keyword">if</span> (<span class="variable member">DynComp.debug</span>) {
  <a name="line.98"><span class="line-number even">98:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">debug_bin_dir.mkdirs</span>();
  <a name="line.99"><span class="line-number even">99:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">debug_orig_dir.mkdirs</span>();
 <a name="line.100"><span class="line-number odd">100:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />      }</span>
 <a name="line.101"><span class="line-number even">101:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />    }</span>
 <a name="line.102"><span class="line-number even">102:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.103"><span class="line-number even">103:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    <span class="keyword">public</span> <span class="primitive type">byte</span>[] <span class="method member">transform</span> (<span class="non-primitive type">ClassLoader</span> <span class="variable member">loader</span>, <span class="non-primitive type">String</span> <span class="variable member">className</span>,
 <a name="line.104"><span class="line-number even">104:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />                           <span class="non-primitive type">Class</span>&lt;?&gt; <span class="variable member">classBeingRedefined</span>,
 <a name="line.105"><span class="line-number odd">105:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />                           <span class="non-primitive type">ProtectionDomain</span> <span class="variable member">protectionDomain</span>,
 <a name="line.106"><span class="line-number even">106:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />                           <span class="primitive type">byte</span>[] <span class="variable member">classfileBuffer</span>)
 <a name="line.107"><span class="line-number even">107:</span></a><img id="javadocexamples__code_id_11_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_11_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_11_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_11_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_11_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_11_Open_Text">                                  <span class="keyword">throws</span> <span class="non-primitive type">IllegalClassFormatException</span> {
 <a name="line.108"><span class="line-number even">108:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.109"><span class="line-number even">109:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="line comment">// Don't instrument JDK classes (but allow instrumentation of the java</span>
 <a name="line.110"><span class="line-number odd">110:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="line comment">// compiler)</span>
 <a name="line.111"><span class="line-number even">111:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="keyword">if</span> ((<span class="method member">className.startsWith</span> (<span class="double quote">&quot;java/&quot;</span>) || <span class="method member">className.startsWith</span> (<span class="double quote">&quot;com/&quot;</span>)
 <a name="line.112"><span class="line-number even">112:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />           || <span class="method member">className.startsWith</span> (<span class="double quote">&quot;sun/&quot;</span>))
 <a name="line.113"><span class="line-number even">113:</span></a><img id="javadocexamples__code_id_12_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_12_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_12_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_12_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_12_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_12_Open_Text">          &amp;&amp; !<span class="method member">className.startsWith</span> (<span class="double quote">&quot;com/sun/tools/javac&quot;</span>)) {
 <a name="line.114"><span class="line-number even">114:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="keyword">if</span> (<span class="variable member">DynComp.no_jdk</span> || <span class="method member">pre_instrumented.contains</span> (<span class="variable member">className</span>))
 <a name="line.115"><span class="line-number odd">115:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">return</span> (<span class="primitive literal">null</span>);
 <a name="line.116"><span class="line-number even">116:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>)
 <a name="line.117"><span class="line-number even">117:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="method member">System.out.printf</span> (<span class="double quote">&quot;Instrumenting JDK class %s%n&quot;</span>, <span class="variable member">className</span>);
 <a name="line.118"><span class="line-number even">118:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />      }</span>
 <a name="line.119"><span class="line-number even">119:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.120"><span class="line-number odd">120:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="line comment">// Don't instrument our own classes</span>
 <a name="line.121"><span class="line-number even">121:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="keyword">if</span> ((<span class="method member">className.startsWith</span> (<span class="double quote">&quot;daikon/dcomp/&quot;</span>)
 <a name="line.122"><span class="line-number even">122:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />           &amp;&amp; !<span class="method member">className.startsWith</span> (<span class="double quote">&quot;daikon/dcomp/Test&quot;</span>))
 <a name="line.123"><span class="line-number even">123:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          || <span class="method member">className.startsWith</span> (<span class="double quote">&quot;daikon/chicory/&quot;</span>))
 <a name="line.124"><span class="line-number even">124:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="keyword">return</span> (<span class="primitive literal">null</span>);
 <a name="line.125"><span class="line-number odd">125:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.126"><span class="line-number even">126:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>)
 <a name="line.127"><span class="line-number even">127:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.out.format</span> (<span class="double quote">&quot;In Transform: class = %s\n&quot;</span>, <span class="variable member">className</span>);
 <a name="line.128"><span class="line-number even">128:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.129"><span class="line-number even">129:</span></a><img id="javadocexamples__code_id_13_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_13_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_13_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_13_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_13_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_13_Open_Text">      <span class="keyword">try</span> {
 <a name="line.130"><span class="line-number odd">130:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="line comment">// Parse the bytes of the classfile, die on any errors</span>
 <a name="line.131"><span class="line-number even">131:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="non-primitive type">ClassParser</span> <span class="variable member">parser</span> = <span class="keyword">new</span> <span class="constructor member">ClassParser</span>
 <a name="line.132"><span class="line-number even">132:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          (<span class="keyword">new</span> <span class="constructor member">ByteArrayInputStream</span> (<span class="variable member">classfileBuffer</span>), <span class="variable member">className</span>);
 <a name="line.133"><span class="line-number even">133:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="non-primitive type">JavaClass</span> <span class="variable member">c</span> = <span class="method member">parser.parse</span>();
 <a name="line.134"><span class="line-number even">134:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.135"><span class="line-number odd">135:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.136"><span class="line-number even">136:</span></a><img id="javadocexamples__code_id_14_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_14_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_14_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_14_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_14_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_14_Open_Text">        <span class="keyword">if</span> (<span class="variable member">DynComp.debug</span>) {
 <a name="line.137"><span class="line-number even">137:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="method member">c.dump</span> (<span class="keyword">new</span> <span class="constructor member">File</span> (<span class="variable member">debug_orig_dir</span>, <span class="method member">c.getClassName</span>() + <span class="double quote">&quot;.class&quot;</span>));
 <a name="line.138"><span class="line-number even">138:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />        }</span>
 <a name="line.139"><span class="line-number even">139:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.140"><span class="line-number odd">140:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="line comment">// Transform the file</span>
 <a name="line.141"><span class="line-number even">141:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="non-primitive type">DCInstrument</span> <span class="variable member">dci</span> = <span class="keyword">new</span> <span class="constructor member">DCInstrument</span> (<span class="variable member">c</span>, <span class="primitive literal">false</span>, <span class="variable member">loader</span>);
 <a name="line.142"><span class="line-number even">142:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="non-primitive type">JavaClass</span> <span class="variable member">njc</span>;
 <a name="line.143"><span class="line-number even">143:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="keyword">if</span> (<span class="variable member">DynComp.no_primitives</span>)
 <a name="line.144"><span class="line-number even">144:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="variable member">njc</span> = <span class="method member">dci.instrument_refs_only</span>();
 <a name="line.145"><span class="line-number odd">145:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="keyword">else</span>
 <a name="line.146"><span class="line-number even">146:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="variable member">njc</span> = <span class="method member">dci.instrument</span>();
 <a name="line.147"><span class="line-number even">147:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.148"><span class="line-number even">148:</span></a><img id="javadocexamples__code_id_15_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_15_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_15_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_15_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_15_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_15_Open_Text">        <span class="keyword">if</span> (<span class="variable member">njc</span> == <span class="primitive literal">null</span>) {
 <a name="line.149"><span class="line-number even">149:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>)
 <a name="line.150"><span class="line-number odd">150:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />            <span class="method member">System.out.printf</span> (<span class="double quote">&quot;Didn't instrument %s%n&quot;</span>, <span class="method member">c.getClassName</span>());
 <a name="line.151"><span class="line-number even">151:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">return</span> (<span class="primitive literal">null</span>);
 <a name="line.152"><span class="line-number even">152:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        } <span class="keyword">else</span> {
 <a name="line.153"><span class="line-number even">153:</span></a><img id="javadocexamples__code_id_16_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_16_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_16_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_16_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_16_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_16_Open_Text">          <span class="keyword">if</span> (<span class="variable member">DynComp.debug</span>) {
 <a name="line.154"><span class="line-number even">154:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />            <span class="method member">System.out.printf</span> (<span class="double quote">&quot;Dumping to %s%n&quot;</span>, <span class="variable member">debug_bin_dir</span>);
 <a name="line.155"><span class="line-number odd">155:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />            <span class="method member">njc.dump</span> (<span class="keyword">new</span> <span class="constructor member">File</span> (<span class="variable member">debug_bin_dir</span>, <span class="method member">njc.getClassName</span>() + <span class="double quote">&quot;.class&quot;</span>));
 <a name="line.156"><span class="line-number even">156:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />            <span class="method member">BCELUtil.dump</span> (<span class="variable member">njc</span>, <span class="variable member">debug_bin_dir</span>);
 <a name="line.157"><span class="line-number even">157:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />          }</span>
 <a name="line.158"><span class="line-number even">158:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">return</span> (<span class="method member">njc.getBytes</span>());
 <a name="line.159"><span class="line-number even">159:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />        }</span>
 <a name="line.160"><span class="line-number odd">160:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      } <span class="keyword">catch</span> (<span class="non-primitive type">Throwable</span> <span class="variable member">e</span>) {
 <a name="line.161"><span class="line-number even">161:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.out.printf</span> (<span class="double quote">&quot;Unexpected Error: %n&quot;</span>);
 <a name="line.162"><span class="line-number even">162:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">e.printStackTrace</span>();
 <a name="line.163"><span class="line-number even">163:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="constructor member">RuntimeException</span> (<span class="double quote">&quot;Unexpected error&quot;</span>, <span class="variable member">e</span>);
 <a name="line.164"><span class="line-number even">164:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />      }</span>
 <a name="line.165"><span class="line-number odd">165:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />    }</span>
 <a name="line.166"><span class="line-number even">166:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />  }</span>
 <a name="line.167"><span class="line-number even">167:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.168"><span class="line-number even">168:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />  <span class="javadoc comment">/**
 <a name="line.169"><span class="line-number even">169:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />   * Shutdown thread that writes out the comparability results
 <a name="line.170"><span class="line-number odd">170:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />   */</span>
 <a name="line.171"><span class="line-number even">171:</span></a><img id="javadocexamples__code_id_17_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_17_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_17_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_17_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_17_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_17_Open_Text">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="non-primitive type">ShutdownThread</span> <span class="keyword">extends</span> <span class="non-primitive type">Thread</span> {
 <a name="line.172"><span class="line-number even">172:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.173"><span class="line-number even">173:</span></a><img id="javadocexamples__code_id_18_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_18_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_18_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_18_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_18_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_18_Open_Text">    <span class="keyword">public</span> <span class="primitive type">void</span> <span class="method member">run</span>() {
 <a name="line.174"><span class="line-number even">174:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.175"><span class="line-number odd">175:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="line comment">// If requested, write the comparability data to a file</span>
 <a name="line.176"><span class="line-number even">176:</span></a><img id="javadocexamples__code_id_19_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_19_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_19_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_19_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_19_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_19_Open_Text">      <span class="keyword">if</span> (!<span class="variable member">DynComp.no_cset_file</span>) {
 <a name="line.177"><span class="line-number even">177:</span></a><img id="javadocexamples__code_id_20_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_20_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_20_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_20_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_20_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_20_Open_Text">        <span class="keyword">if</span> (<span class="variable member">DynComp.compare_sets_file</span> != <span class="primitive literal">null</span>) {
 <a name="line.178"><span class="line-number even">178:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>)
 <a name="line.179"><span class="line-number even">179:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />            <span class="method member">System.out.println</span> (<span class="double quote">&quot;Writing comparability sets to &quot;</span>
 <a name="line.180"><span class="line-number odd">180:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />                                + <span class="variable member">DynComp.compare_sets_file</span>);
 <a name="line.181"><span class="line-number even">181:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="non-primitive type">PrintWriter</span> <span class="variable member">compare_out</span> = <span class="method member">open</span> (<span class="variable member">DynComp.compare_sets_file</span>);
 <a name="line.182"><span class="line-number even">182:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="non-primitive type">Stopwatch</span> <span class="variable member">watch</span> = <span class="keyword">new</span> <span class="constructor member">Stopwatch</span>();
 <a name="line.183"><span class="line-number even">183:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">if</span> (<span class="variable member">DynComp.no_primitives</span>)
 <a name="line.184"><span class="line-number even">184:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />            <span class="method member">DCRuntime.print_all_comparable_refs_only</span> (<span class="variable member">compare_out</span>);
 <a name="line.185"><span class="line-number odd">185:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">else</span>
 <a name="line.186"><span class="line-number even">186:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />            <span class="method member">DCRuntime.print_all_comparable</span> (<span class="variable member">compare_out</span>);
 <a name="line.187"><span class="line-number even">187:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="method member">compare_out.close</span>();
 <a name="line.188"><span class="line-number even">188:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>)
 <a name="line.189"><span class="line-number even">189:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />            <span class="method member">System.out.printf</span> (<span class="double quote">&quot;Comparability sets written in %s%n&quot;</span>,
 <a name="line.190"><span class="line-number odd">190:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />                               <span class="method member">watch.format</span>());
 <a name="line.191"><span class="line-number even">191:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        } <span class="keyword">else</span> {
 <a name="line.192"><span class="line-number even">192:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="method member">System.out.println</span> (<span class="double quote">&quot;Writing comparability sets to standard output&quot;</span>);
 <a name="line.193"><span class="line-number even">193:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">if</span> (<span class="variable member">DynComp.no_primitives</span>)
 <a name="line.194"><span class="line-number even">194:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />            <span class="method member">DCRuntime.print_all_comparable_refs_only</span> (<span class="keyword">new</span> <span class="constructor member">PrintWriter</span>(<span class="variable member">System.out</span>, <span class="primitive literal">true</span>));
 <a name="line.195"><span class="line-number odd">195:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="keyword">else</span>
 <a name="line.196"><span class="line-number even">196:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />            <span class="method member">DCRuntime.print_all_comparable</span> (<span class="keyword">new</span> <span class="constructor member">PrintWriter</span>(<span class="variable member">System.out</span>, <span class="primitive literal">true</span>));
 <a name="line.197"><span class="line-number even">197:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />        }</span>
 <a name="line.198"><span class="line-number even">198:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />      }</span>
 <a name="line.199"><span class="line-number even">199:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.200"><span class="line-number odd">200:</span></a><img id="javadocexamples__code_id_21_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_21_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_21_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_21_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_21_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_21_Open_Text">      <span class="keyword">if</span> (<span class="variable member">DynComp.trace_sets_file</span> != <span class="primitive literal">null</span>) {
 <a name="line.201"><span class="line-number even">201:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>)
 <a name="line.202"><span class="line-number even">202:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="method member">System.out.println</span> (<span class="double quote">&quot;Writing traced comparability sets to &quot;</span>
 <a name="line.203"><span class="line-number even">203:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />                              + <span class="variable member">DynComp.trace_sets_file</span>);
 <a name="line.204"><span class="line-number even">204:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="non-primitive type">PrintWriter</span> <span class="variable member">trace_out</span> = <span class="method member">open</span> (<span class="variable member">DynComp.trace_sets_file</span>);
 <a name="line.205"><span class="line-number odd">205:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="non-primitive type">Stopwatch</span> <span class="variable member">watch</span> = <span class="keyword">new</span> <span class="constructor member">Stopwatch</span>();
 <a name="line.206"><span class="line-number even">206:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">DCRuntime.trace_all_comparable</span> (<span class="variable member">trace_out</span>);
 <a name="line.207"><span class="line-number even">207:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">trace_out.close</span>();
 <a name="line.208"><span class="line-number even">208:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>)
 <a name="line.209"><span class="line-number even">209:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />          <span class="method member">System.out.printf</span> (<span class="double quote">&quot;Comparability sets written in %s%n&quot;</span>,
 <a name="line.210"><span class="line-number odd">210:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />                             <span class="method member">watch.format</span>());
 <a name="line.211"><span class="line-number even">211:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      } <span class="keyword">else</span> {
 <a name="line.212"><span class="line-number even">212:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="line comment">// Writing comparability sets to standard output?</span>
 <a name="line.213"><span class="line-number even">213:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />      }</span>
 <a name="line.214"><span class="line-number even">214:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.215"><span class="line-number odd">215:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>)
 <a name="line.216"><span class="line-number even">216:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">DCRuntime.decl_stats</span>();
 <a name="line.217"><span class="line-number even">217:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.218"><span class="line-number even">218:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="line comment">// Write the decl file out</span>
 <a name="line.219"><span class="line-number even">219:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="non-primitive type">File</span> <span class="variable member">decl_file</span> = <span class="variable member">DynComp.decl_file</span>;
 <a name="line.220"><span class="line-number odd">220:</span></a><img id="javadocexamples__code_id_22_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_22_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_22_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_22_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_22_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_22_Open_Text">      <span class="keyword">if</span> (<span class="variable member">decl_file</span> == <span class="primitive literal">null</span>) {
 <a name="line.221"><span class="line-number even">221:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="variable member">decl_file</span> = <span class="keyword">new</span> <span class="constructor member">File</span> (<span class="variable member">DynComp.output_dir</span>, <span class="double quote">&quot;comparability.decls&quot;</span>);
 <a name="line.222"><span class="line-number even">222:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />      }</span>
 <a name="line.223"><span class="line-number even">223:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>)
 <a name="line.224"><span class="line-number even">224:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.out.println</span>(<span class="double quote">&quot;Writing decl file to &quot;</span> + <span class="variable member">decl_file</span>);
 <a name="line.225"><span class="line-number odd">225:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="non-primitive type">PrintWriter</span> <span class="variable member">decl_fp</span> = <span class="method member">open</span> (<span class="variable member">decl_file</span>);
 <a name="line.226"><span class="line-number even">226:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="non-primitive type">Stopwatch</span> <span class="variable member">watch</span> = <span class="keyword">new</span> <span class="constructor member">Stopwatch</span>();
 <a name="line.227"><span class="line-number even">227:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="method member">DCRuntime.print_decl_file</span> (<span class="variable member">decl_fp</span>);
 <a name="line.228"><span class="line-number even">228:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="method member">decl_fp.close</span>();
 <a name="line.229"><span class="line-number even">229:</span></a><img id="javadocexamples__code_id_23_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_23_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_23_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_23_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_23_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_23_Open_Text">      <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>) {
 <a name="line.230"><span class="line-number odd">230:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.out.printf</span> (<span class="double quote">&quot;Decl file written in %s%n&quot;</span>, <span class="method member">watch.format</span>());
 <a name="line.231"><span class="line-number even">231:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.out.printf</span> (<span class="double quote">&quot;comp_list = %,d%n&quot;</span>, <span class="variable member">DCRuntime.comp_list_ms</span>);
 <a name="line.232"><span class="line-number even">232:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.out.printf</span> (<span class="double quote">&quot;ppt name  = %,d%n&quot;</span>, <span class="variable member">DCRuntime.ppt_name_ms</span>);
 <a name="line.233"><span class="line-number even">233:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.out.printf</span> (<span class="double quote">&quot;decl vars = %,d%n&quot;</span>, <span class="variable member">DCRuntime.decl_vars_ms</span>);
 <a name="line.234"><span class="line-number even">234:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.out.printf</span> (<span class="double quote">&quot;total     = %,d%n&quot;</span>, <span class="variable member">DCRuntime.total_ms</span>);
 <a name="line.235"><span class="line-number odd">235:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />      }</span>
 <a name="line.236"><span class="line-number even">236:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="keyword">if</span> (<span class="variable member">DynComp.verbose</span>)
 <a name="line.237"><span class="line-number even">237:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />        <span class="method member">System.out.println</span> (<span class="double quote">&quot;DynComp complete&quot;</span>);
 <a name="line.238"><span class="line-number even">238:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />    }</span>
 <a name="line.239"><span class="line-number even">239:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />  }</span>
 <a name="line.240"><span class="line-number odd">240:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />
 <a name="line.241"><span class="line-number even">241:</span></a><img id="javadocexamples__code_id_24_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_24_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_24_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_24_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_24_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_24_Open_Text">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="non-primitive type">PrintWriter</span> <span class="method member">open</span> (<span class="non-primitive type">File</span> <span class="variable member">filename</span>) {
 <a name="line.242"><span class="line-number even">242:</span></a><img id="javadocexamples__code_id_25_Open_Image" onclick="javascript:codeopen('javadocexamples__code_id_25_');" alt="" src="/resources/ExpandedSubBlockStart.gif" align="top" /><img id="javadocexamples__code_id_25_Closed_Image" style="display: none;" onclick="javascript:codeclose('javadocexamples__code_id_25_');" alt="" src="/resources/ContractedSubBlock.gif" align="top" /><span id="javadocexamples__code_id_25_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">...</span>	  <span id="javadocexamples__code_id_25_Open_Text">    <span class="keyword">try</span> {
 <a name="line.243"><span class="line-number even">243:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="keyword">return</span> <span class="keyword">new</span> <span class="constructor member">PrintWriter</span> (<span class="keyword">new</span> <span class="constructor member">BufferedWriter</span> (<span class="keyword">new</span> <span class="constructor member">FileWriter</span> (<span class="variable member">filename</span>)));
 <a name="line.244"><span class="line-number even">244:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="line comment">//return new PrintWriter (filename);</span>
 <a name="line.245"><span class="line-number odd">245:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="line comment">//return new PrintStream (new BufferedWriter</span>
 <a name="line.246"><span class="line-number even">246:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="line comment">//            (new OutputStreamWriter (new FileOutputStream(filename))));</span>
 <a name="line.247"><span class="line-number even">247:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />    } <span class="keyword">catch</span> (<span class="non-primitive type">Exception</span> <span class="variable member">e</span>) {
 <a name="line.248"><span class="line-number even">248:</span></a><img alt="" src="/resources/InBlock.gif" align="top" />      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="constructor member">Error</span> (<span class="double quote">&quot;Can't open &quot;</span> + <span class="variable member">filename</span>, <span class="variable member">e</span>);
 <a name="line.249"><span class="line-number even">249:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />    }</span>
 <a name="line.250"><span class="line-number odd">250:</span></a><img alt="" src="/resources/ExpandedSubBlockEnd.gif" align="top" />  }</span>
 <a name="line.251"><span class="line-number even">251:</span></a><img alt="" src="/resources/ExpandedBlockEnd.gif" align="top" />}</pre></span>
  </div>

<center><script src="/resources/footer.js" type="text/javascript"></script></center>
<div class="footer">

Copyright 2008 - 2011 Java DOC(API) by Examples. All rights reserved.<a href="/contact.html">Contact US</a>.<br />
All other trademarks and source code are property of their respective owners.
</div>
</body>
</html>



