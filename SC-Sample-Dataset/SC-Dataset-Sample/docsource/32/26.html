<html>
<head>
<title>jboss-as7 IRC logs [March 3 - 2011]</title>
<style>
body {
margin: 	10px;
padding: 	10px;
background-color: #ffffff;
font: 12px/16px Verdana, Arial, Helvetica;
}
.a { color: #800000; }
.b { color: #009200; }
.c { color: #9c009c; }
.d { color: #404040; }
</style>
</head>
<body>
		<div align="center">
		<form action="http://www.google.com/cse" id="cse-search-box">
		  <div>
		    <input type="hidden" name="cx" value="partner-pub-6854624150474051:3nob9c-4ru4" />
		    <input type="hidden" name="ie" value="ISO-8859-1" />
		    <input type="text" name="q" size="31" />
		    <input type="submit" name="sa" value="Search" />
		  </div>
		</form>
		<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
		</div><a name='top'>
<div class='log_menu' style='height: 4em; margin: 0; padding: 0;' align='center'>
<a href='1296514800'><img src='http://echelog.com/logs//button_backwards.png' border='0'></a>&nbsp;&nbsp; March 3, 2011&nbsp;&nbsp;<a href='1301608800'><img src='http://echelog.com/logs//button_forwards.png' border='0'></a><br/><a href='1298934000'>1</a> | <a href='1299020400'>2</a> | <a href='1299106800'>3</a> | <a href='1299193200'>4</a> | <a href='1299279600'>5</a> | <a href='1299366000'>6</a> | <a href='1299452400'>7</a> | <a href='1299538800'>8</a> | <a href='1299625200'>9</a> | <a href='1299711600'>10</a> | <a href='1299798000'>11</a> | <a href='1299884400'>12</a> | <a href='1299970800'>13</a> | <a href='1300057200'>14</a> | <a href='1300143600'>15</a> | <a href='1300230000'>16</a> | <a href='1300316400'>17</a> | <a href='1300402800'>18</a> | <a href='1300489200'>19</a> | <a href='1300575600'>20</a> | <a href='1300662000'>21</a> | <a href='1300748400'>22</a> | <a href='1300834800'>23</a> | <a href='1300921200'>24</a> | <a href='1301007600'>25</a> | <a href='1301094000'>26</a> | <a href='1301180400'>27</a> | <a href='1301263200'>28</a> | <a href='1301349600'>29</a> | <a href='1301436000'>30</a> | <a href='1301522400'>31</a></div>
<br/><div align="center">		<script type="text/javascript"><!--
		google_ad_client = "pub-6854624150474051";
		google_ad_width = 728;
		google_ad_height = 15;
		google_ad_format = "728x15_0ads_al";
		google_ad_channel ="8178533671";
		google_color_border = "CCCCCC";
		google_color_bg = "FFFFFF";
		google_color_link = "000000";
		google_color_url = "666666";
		google_color_text = "333333";
		//--></script>
		<script type="text/javascript"
		  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
		</script></div><br/><div align="center"><p><font color="#ff0000"><b>NOTICE</b>: This channel is no longer actively logged.</font></p></div><div class='body' style='margin:2 0 0 0em; '>
<pre>
[00:24:47] <span class="a">*** bstansberry is now known as bstans_afk</span>
[00:32:29] <span class="a">*** mbg is now known as mbg|away</span>
[00:34:44] <span class="a">*** smcgowan is now known as smcgowan_dinner</span>
[00:44:32] <span class="a">*** rmaucher has quit IRC</span>
[00:47:51] <span class="d">&lt;dmlloyd&gt; okay I'm back</span>
[00:48:02] <span class="d">&lt;dmlloyd&gt; stuartdouglas, are you going to change that demo to deploy an ear instead?</span>
[00:48:18] <span class="d">&lt;dmlloyd&gt; if not I'm going to try to get it to bind a thing into global</span>
[00:49:35] <span class="d">&lt;stuartdouglas&gt; I can give it a go, I was not sure if you were still changing stuff</span>
[00:49:45] <span class="d">&lt;dmlloyd&gt; no I was afk</span>
[00:50:14] <span class="d">&lt;dmlloyd&gt; soon comes the dinner-thru-kids-bedtime break</span>
[00:50:50] <span class="d">&lt;stuartdouglas&gt; Are all your changes pushed?</span>
[00:50:55] <span class="d">&lt;dmlloyd&gt; yeah I think so</span>
[00:50:56] <span class="c">* dmlloyd checks</span>
[00:51:09] <span class="d">&lt;dmlloyd&gt; yeah</span>
[00:51:25] <span class="d">&lt;dmlloyd&gt; the newest IDEA seems way more aggressive about changing copyright dates</span>
[00:51:33] <span class="d">&lt;dmlloyd&gt; like you just open the file and sometimes it does it</span>
[00:51:35] <span class="d">&lt;dmlloyd&gt; annoying</span>
[00:53:08] <span class="d">&lt;dmlloyd&gt; anyway once that demo is working, one way or another, and I finish this naming thing I'm squishing this thing and pushing it</span>
[00:53:24] <span class="d">&lt;stuartdouglas&gt; ok, I have been looking at CDI injection</span>
[00:55:29] <span class="a">*** bstans_afk is now known as bstansberry</span>
[00:57:17] <span class="a">*** pgier has quit IRC</span>
[00:58:09] <span class="b">*** pgier has joined #jboss-as7</span>
[00:58:09] <span class="a">*** ChanServ sets mode: +v pgier</span>
[01:04:50] <span class="b">*** jpearlin has joined #jboss-as7</span>
[01:08:26] <span class="a">*** bgeorges has quit IRC</span>
[01:16:12] <span class="b">*** smarlow has joined #jboss-as7</span>
[01:16:12] <span class="a">*** ChanServ sets mode: +v smarlow</span>
[01:22:16] <span class="a">*** kkhan has quit IRC</span>
[01:23:59] <span class="d">&lt;stuartdouglas&gt; dmlloyd: I am getting some really weird behaviour at the moment, where some deployments are not going through all the deployers in the INSTALL phase</span>
[01:24:10] <span class="d">&lt;stuartdouglas&gt; so this make take longer than anticipated :-)</span>
[01:24:58] <span class="d">&lt;dmlloyd&gt; it's ok, I'm still trying to figure out why this is trying to inject into a field named &quot;java:module/TempRemoveMeLater&quot; :-)</span>
[01:27:41] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/8d1a1ac" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/8d1a1ac</a></span>
[01:27:41] <span class="d">&lt;jbossbot&gt; git [jboss-as] 8d1a1ac.. David M. Lloyd Fix injection locations</span>
[01:27:44] <span class="d">&lt;dmlloyd&gt; seems to work!</span>
[01:27:55] <span class="d">&lt;dmlloyd&gt; I'm using java:module/env/ for now</span>
[01:27:59] <span class="d">&lt;dmlloyd&gt; we can change it if it's a problem</span>
[01:28:07] <span class="d">&lt;dmlloyd&gt; it bases the injection location on naming mode</span>
[01:28:29] <span class="d">&lt;stuartdouglas&gt; ok, I am getting some kind of missing dep in my ear deployment, so it never hits INSTALL</span>
[01:32:17] <span class="a">*** dmlloyd has quit IRC</span>
[01:33:37] <span class="b">*** Guest51553 has joined #jboss-as7</span>
[01:37:32] <span class="a">*** asaldhan has left #jboss-as7</span>
[01:55:21] <span class="d">&lt;Guest51553&gt; man this znc bouncer kinda sucks</span>
[01:56:12] <span class="a">*** Guest51553 has quit IRC</span>
[01:56:12] <span class="b">*** Guest51553 has joined #jboss-as7</span>
[01:56:15] <span class="a">*** Guest51553 is now known as dmlloyd</span>
[01:59:53] <span class="d">&lt;dmlloyd&gt; stuartdouglas: you should have a look in the MSC mbean to see what the dep graph looks like</span>
[02:00:08] <span class="d">&lt;dmlloyd&gt; if you're still stuck on that</span>
[02:00:21] <span class="d">&lt;stuartdouglas&gt; I got that sorted out, there was a dep on the other deployment in the manifest</span>
[02:00:22] <span class="d">&lt;dmlloyd&gt; kids are all headed for bed so it's quieting down here</span>
[02:00:29] <span class="d">&lt;dmlloyd&gt; ah, cool</span>
[02:00:38] <span class="d">&lt;dmlloyd&gt; we're gonna need better error reporting</span>
[02:00:44] <span class="c">* dmlloyd notes that for later...</span>
[02:00:46] <span class="d">&lt;stuartdouglas&gt; I thought that some of my ear code was adding a dep with the wrong name for a bit, but sorted it out now</span>
[02:01:07] <span class="d">&lt;stuartdouglas&gt; I think I nearly have it working</span>
[02:01:15] <span class="d">&lt;dmlloyd&gt; ok cool</span>
[02:01:20] <span class="d">&lt;dmlloyd&gt; so close!</span>
[02:01:25] <span class="d">&lt;stuartdouglas&gt; but LookupService.bean is null</span>
[02:01:51] <span class="d">&lt;stuartdouglas&gt; (I only just got to this point when you pinged me)</span>
[02:01:57] <span class="d">&lt;stuartdouglas&gt; so it may be something simple</span>
[02:02:00] <span class="d">&lt;dmlloyd&gt; ah it was that way before too, I figured it was because they're in different DUs though</span>
[02:02:22] <span class="d">&lt;dmlloyd&gt; the MSC service dump will also tell you what JNDI services are active</span>
[02:03:18] <span class="d">&lt;stuartdouglas&gt; I can see what is wrong</span>
[02:03:47] <span class="d">&lt;dmlloyd&gt; is it binding to app like it should, btw?</span>
[02:03:56] <span class="c">* dmlloyd doesn't remember if he tested that</span>
[02:04:18] <span class="d">&lt;stuartdouglas&gt; although if it is bound to app</span>
[02:04:25] <span class="d">&lt;stuartdouglas&gt; we won't need lookupservice</span>
[02:04:42] <span class="d">&lt;dmlloyd&gt; well we still need some kind of service because we're testing from a SAR which doesn't have EE injection</span>
[02:07:45] <span class="d">&lt;stuartdouglas&gt; actually it looks like the component service is not coming up</span>
[02:07:51] <span class="d">&lt;dmlloyd&gt; what I don't understand is, why is bean null</span>
[02:07:56] <span class="d">&lt;dmlloyd&gt; shouldn't it be waiting for the service?</span>
[02:07:58] <span class="d">&lt;dmlloyd&gt; like blocking</span>
[02:08:20] <span class="d">&lt;stuartdouglas&gt; It does not look like it was written that way :-)</span>
[02:08:48] <span class="d">&lt;dmlloyd&gt; if not then it was pure luck that it ever worked</span>
[02:11:02] <span class="d">&lt;dmlloyd&gt; yeah I see nothing to ever hint that there was any kind of dep here</span>
[02:11:13] <span class="d">&lt;dmlloyd&gt; maybe it relies on deployment order or something</span>
[02:12:44] <span class="d">&lt;stuartdouglas&gt; for most of its life there would have been a sleep() in there as well</span>
[02:12:44] <span class="d">&lt;stuartdouglas&gt; so SimpleManagedBean is coming up</span>
[02:12:44] <span class="d">&lt;stuartdouglas&gt; but the START service for ManagedBeanWithInjected is not</span>
[02:13:27] <span class="d">&lt;stuartdouglas&gt; I think it was always just a fluke</span>
[02:13:50] <span class="d">&lt;stuartdouglas&gt; did you fix the removeMeLater thing?</span>
[02:14:17] <span class="d">&lt;stuartdouglas&gt; cause that is causing me problems</span>
[02:14:43] <span class="d">&lt;dmlloyd&gt; no it's still using that to bind to a global context</span>
[02:14:49] <span class="d">&lt;dmlloyd&gt; well it's still there I should say</span>
[02:14:54] <span class="d">&lt;dmlloyd&gt; it's all working in my ee</span>
[02:14:59] <span class="d">&lt;dmlloyd&gt; pushed out</span>
[02:15:26] <span class="d">&lt;dmlloyd&gt; hm it is invalid though</span>
[02:15:38] <span class="d">&lt;dmlloyd&gt; you can remove the name= from that</span>
[02:16:05] <span class="b">*** pferraro has joined #jboss-as7</span>
[02:16:05] <span class="a">*** ChanServ sets mode: +v pferraro</span>
[02:16:17] <span class="b">*** bgeorges has joined #jboss-as7</span>
[02:16:18] <span class="a">*** ChanServ sets mode: +v bgeorges</span>
[02:18:40] <span class="d">&lt;dmlloyd&gt; it should be binding to java:module/env/org.jboss.as.demos.managedbean.archive.BeanWithSimpleInjected/simple</span>
[02:18:43] <span class="d">&lt;dmlloyd&gt; if you remove name=</span>
[02:19:07] <span class="d">&lt;stuartdouglas&gt; at the moment it looks like a different problem</span>
[02:20:05] <span class="d">&lt;stuartdouglas&gt; It depends on jboss.naming.context.java.module.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.module.SimpleManagedBean, I think it needs a CREATE on the end</span>
[02:22:08] <span class="d">&lt;dmlloyd&gt; CREATE is just for the component</span>
[02:22:15] <span class="d">&lt;dmlloyd&gt; &quot;module&quot; is a giveaway that it's not a component service</span>
[02:22:21] <span class="d">&lt;dmlloyd&gt; that'd be a view service I believe</span>
[02:22:24] <span class="d">&lt;stuartdouglas&gt; ah</span>
[02:22:36] <span class="d">&lt;dmlloyd&gt; if so though it should have a VIEW in there</span>
[02:22:42] <span class="d">&lt;dmlloyd&gt; before &quot;module&quot;</span>
[02:22:43] <span class="d">&lt;dmlloyd&gt; I think</span>
[02:22:45] <span class="c">* dmlloyd goes to look</span>
[02:22:50] <span class="d">&lt;stuartdouglas&gt; It would be neat if MSC could just ell me what services where missing</span>
[02:24:20] <span class="d">&lt;dmlloyd&gt; ah okay that's the service for the binding: java:module/SimpleManagedBean</span>
[02:24:26] <span class="d">&lt;dmlloyd&gt; so those bindings *are* missing</span>
[02:24:29] <span class="d">&lt;dmlloyd&gt; one sec...</span>
[02:25:16] <span class="d">&lt;stuartdouglas&gt; you cam merge this from my ee branch btw</span>
[02:25:36] <span class="d">&lt;dmlloyd&gt; okay will do so before I try to fix this</span>
[02:25:47] <span class="d">&lt;stuartdouglas&gt; I got rid of name</span>
[02:25:50] <span class="d">&lt;stuartdouglas&gt; and now jboss.naming.context.java.module.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.module.SimpleManagedBean</span>
[02:25:52] <span class="d">&lt;stuartdouglas&gt; is missing</span>
[02:25:54] <span class="d">&lt;dmlloyd&gt; rebase needed</span>
[02:26:11] <span class="d">&lt;dmlloyd&gt; yeah makes sense</span>
[02:26:20] <span class="d">&lt;dmlloyd&gt; I forgot to do the MB.2.1.2 bindings</span>
[02:26:27] <span class="d">&lt;stuartdouglas&gt; I need some kind of notification for when you push :-)</span>
[02:26:49] <span class="d">&lt;dmlloyd&gt; I post the URL in here whenever I do</span>
[02:27:08] <span class="d">&lt;stuartdouglas&gt; ok, try now</span>
[02:28:11] <span class="d">&lt;dmlloyd&gt; Thread.sleep(60000);</span>
[02:28:11] <span class="d">&lt;dmlloyd&gt; lol</span>
[02:28:17] <span class="d">&lt;stuartdouglas&gt; oops</span>
[02:28:27] <span class="d">&lt;stuartdouglas&gt; I wanted it to hang around for a bit so I could connect jconsole</span>
[02:28:48] <span class="d">&lt;stuartdouglas&gt; now it just blocks anyway</span>
[02:29:33] <span class="a">*** jpearlin has left #jboss-as7</span>
[02:31:27] <span class="d">&lt;dmlloyd&gt; BindingDescription is overloaded past the breaking point</span>
[02:32:05] <span class="d">&lt;dmlloyd&gt; there's no real mechanism for actually binding the component views</span>
[02:32:16] <span class="d">&lt;dmlloyd&gt; of which managed beans only have one</span>
[02:33:04] <span class="d">&lt;dmlloyd&gt; view bindings depend on the VIEW service which depends on the CREATE service</span>
[02:33:20] <span class="d">&lt;dmlloyd&gt; resource bindings depend on what they inject (if anything), and are depended on by the START service</span>
[02:33:31] <span class="d">&lt;dmlloyd&gt; resource bindings are always relative to the environment namespace</span>
[02:33:40] <span class="d">&lt;dmlloyd&gt; (though perhaps they should not be...)</span>
[02:33:56] <span class="a">*** emuckenhuber has quit IRC</span>
[02:34:12] <span class="d">&lt;Nihility&gt; Ok so anything that comes from @Resource should go into env of the default namespace (module or comp)</span>
[02:34:25] <span class="d">&lt;dmlloyd&gt; yeah, that part works</span>
[02:34:33] <span class="d">&lt;Nihility&gt; same for @EJB</span>
[02:34:44] <span class="d">&lt;Nihility&gt; And any other ref type</span>
[02:34:45] <span class="d">&lt;dmlloyd&gt; just observing that my general-purpose binding mechanism isn't general-purpose enough to actually bind views into their rightful spots</span>
[02:35:07] <span class="a">*** smcgowan_dinner has quit IRC</span>
[02:35:09] <span class="d">&lt;dmlloyd&gt; running through the scenarios &quot;out loud&quot; to trigger my brain into working</span>
[02:35:24] <span class="d">&lt;Nihility&gt; name, depending on the component type may or may not allow specifying global jndi names</span>
[02:35:30] <span class="d">&lt;Nihility&gt; Ejb it does not</span>
[02:35:39] <span class="d">&lt;Nihility&gt; Datasources do allow it though</span>
[02:35:40] <span class="d">&lt;dmlloyd&gt; MB does not</span>
[02:35:48] <span class="d">&lt;dmlloyd&gt; really?</span>
[02:35:54] <span class="d">&lt;dmlloyd&gt; but you don't specify those with @Resource</span>
[02:36:01] <span class="d">&lt;dmlloyd&gt; that's gotta be dependent on the annotation right?</span>
[02:36:03] <span class="d">&lt;Nihility&gt; right @datasource</span>
[02:36:15] <span class="d">&lt;dmlloyd&gt; right now we don't have support for any of those</span>
[02:36:20] <span class="d">&lt;dmlloyd&gt; just @Resource</span>
[02:37:13] <span class="d">&lt;Nihility&gt; mb has that dumb vague section but I say make it consistent</span>
[02:37:27] <span class="d">&lt;dmlloyd&gt; okay so if datasource allows absolute names then BindingService should have that as an option at least</span>
[02:37:31] <span class="d">&lt;dmlloyd&gt; that's an easy change</span>
[02:37:44] <span class="d">&lt;Nihility&gt; I couldnt find another example</span>
[02:38:34] <span class="b">*** jpearlin1 has joined #jboss-as7</span>
[02:38:40] <span class="d">&lt;Nihility&gt; As to defaults</span>
[02:39:15] <span class="d">&lt;Nihility&gt; Everything uses defining class/fieldorprop name</span>
[02:39:45] <span class="d">&lt;Nihility&gt; (reference types)</span>
[02:39:52] <span class="d">&lt;dmlloyd&gt; good</span>
[02:40:00] <span class="d">&lt;dmlloyd&gt; at least that's correct then</span>
[02:40:05] <span class="d">&lt;dmlloyd&gt; that's how I have it now</span>
[02:40:29] <span class="d">&lt;Nihility&gt; so the pattern for exposing an ejb into a custom global location</span>
[02:40:41] <span class="d">&lt;Nihility&gt; Is to put @ejb on the actual ejb</span>
[02:41:50] <span class="d">&lt;Nihility&gt; @ejb(name=&quot;java:global/env/blahblah&quot;) @stateless(name=&quot;foo&quot;)</span>
[02:41:56] <span class="d">&lt;dmlloyd&gt; interesting</span>
[02:42:17] <span class="d">&lt;Nihility&gt; the important thing is that it's additive</span>
[02:42:33] <span class="d">&lt;dmlloyd&gt; okay so no matter what you get the view bindings?</span>
[02:42:34] <span class="d">&lt;Nihility&gt; there is Always a portable deterministic name</span>
[02:42:42] <span class="d">&lt;dmlloyd&gt; what view does that actually bind?</span>
[02:42:48] <span class="d">&lt;Nihility&gt; you only define aliases</span>
[02:43:05] <span class="d">&lt;Nihility&gt; the ejb annotation specifies the view</span>
[02:43:15] <span class="d">&lt;dmlloyd&gt; oh you give the class name to bind?</span>
[02:43:29] <span class="d">&lt;Nihility&gt; Yes and it has some default rules</span>
[02:44:41] <span class="d">&lt;Nihility&gt; amazing that users are expected to grok this</span>
[02:44:43] <span class="d">&lt;Nihility&gt; Hahaha</span>
[02:45:13] <span class="d">&lt;stuartdouglas&gt; I would say that 90% of users think that all @EJB does is inject an EJB</span>
[02:45:36] <span class="b">*** emuckenhuber has joined #jboss-as7</span>
[02:45:36] <span class="b">*** emuckenhuber has joined #jboss-as7</span>
[02:45:36] <span class="a">*** ChanServ sets mode: +v emuckenhuber</span>
[02:46:17] <span class="d">&lt;Nihility&gt; I reread the eg ml and it wasn't even really clear what we all decided on various things, I hadnto refer back and forth between emails specs and the ri before I could make sense of all of it</span>
[02:48:52] <span class="d">&lt;Nihility&gt; Oh one other goofy thing that requires further looking into</span>
[02:49:12] <span class="d">&lt;dmlloyd&gt; where is the thing that gives the binding rules for views</span>
[02:49:14] <span class="d">&lt;dmlloyd&gt; in EJB</span>
[02:49:44] <span class="d">&lt;Nihility&gt; Is there is a beanName on @ejb that iirc is synonymous with ejb-link</span>
[02:50:08] <span class="d">&lt;Nihility&gt; so in addition to jndi we need to support ejb-link refs</span>
[02:50:24] <span class="d">&lt;dmlloyd&gt; should be easy enough since we already have MSC namespaces for stuff</span>
[02:50:54] <span class="d">&lt;Nihility&gt; the rules are in the ejb3 spec and EE</span>
[02:51:00] <span class="d">&lt;Nihility&gt; For views</span>
[02:51:27] <span class="d">&lt;dmlloyd&gt; yeah I'm looking in ejb and not finding it</span>
[02:51:34] <span class="d">&lt;dmlloyd&gt; but it's a huge spec</span>
[02:51:56] <span class="d">&lt;Nihility&gt; THe ejb3 spec also defines names for the default bindings of all views</span>
[02:52:01] <span class="d">&lt;Nihility&gt; It uses ! Marks</span>
[02:52:04] <span class="d">&lt;dmlloyd&gt; that's what I'm looking for</span>
[02:52:05] <span class="d">&lt;dmlloyd&gt; where is that</span>
[02:52:19] <span class="d">&lt;Nihility&gt; Don't have it ha dy one sec</span>
[02:52:26] <span class="d">&lt;dmlloyd&gt; ah I found it</span>
[02:52:27] <span class="d">&lt;dmlloyd&gt; 4.4</span>
[02:52:28] <span class="d">&lt;dmlloyd&gt; never mind :)</span>
[02:52:46] <span class="d">&lt;dmlloyd&gt; ok great it looks at least somewhat consistent with MBs</span>
[02:52:53] <span class="d">&lt;dmlloyd&gt; though I don't think MBs are bound to global by default</span>
[02:53:35] <span class="d">&lt;Nihility&gt; Global/module/ is an alias of nodu</span>
[02:53:42] <span class="d">&lt;Nihility&gt; Module pretty much</span>
[02:53:51] <span class="d">&lt;dmlloyd&gt; really</span>
[02:53:57] <span class="a">*** pferraro has quit IRC</span>
[02:53:57] <span class="d">&lt;Nihility&gt; e.g. glob a</span>
[02:54:08] <span class="d">&lt;dmlloyd&gt; heh you and your ipad!</span>
[02:54:17] <span class="d">&lt;Nihility&gt; e.g. Global/foo.jar/</span>
[02:55:55] <span class="d">&lt;dmlloyd&gt; we don't have it working that way</span>
[02:56:00] <span class="d">&lt;dmlloyd&gt; there's no automatic mapping</span>
[02:56:05] <span class="d">&lt;dmlloyd&gt; they're just separate namespaces</span>
[02:57:53] <span class="d">&lt;stuartdouglas&gt; we discussed doing that ages ago</span>
[02:58:00] <span class="d">&lt;stuartdouglas&gt; and we decided against it</span>
[02:58:24] <span class="d">&lt;stuartdouglas&gt; I think there were security concerns, as it means any deployment can access any other deployments JNDI namespace</span>
[02:59:21] <span class="d">&lt;dmlloyd&gt; yeah</span>
[02:59:34] <span class="d">&lt;dmlloyd&gt; just today someone in ##java was asking if they should bind passwords into comp/env</span>
[02:59:39] <span class="c">* dmlloyd shudder</span>
[03:00:01] <span class="d">&lt;dmlloyd&gt; ok testing this fix</span>
[03:01:31] <span class="d">&lt;dmlloyd&gt; smoke tests failed, that's a bad sign...</span>
[03:01:33] <span class="d">&lt;dmlloyd&gt; trying it by hand</span>
[03:04:36] <span class="d">&lt;jpearlin1&gt; Nihility:  I think I have everything working with the upload stuff...do we want to just pass the DMR response from the  upload handler in the HTTP response?  I assume that we really don't know yet what the web console will want back...</span>
[03:05:27] <span class="d">&lt;Nihility&gt; since its a form post it probably will be in an iframe</span>
[03:05:54] <span class="d">&lt;Nihility&gt; so my guess is that it would want something it can access on a frame</span>
[03:06:02] <span class="d">&lt;Nihility&gt; perhaps using dom</span>
[03:06:05] <span class="d">&lt;jpearlin1&gt; I assume though that they will want to do something ajax-y to update the page to show that the upload/deployment was a success</span>
[03:06:11] <span class="d">&lt;Nihility&gt; or maybe there is a way to use json that way</span>
[03:06:29] <span class="d">&lt;jpearlin1&gt; I'm confused...are you talking about the request or the response?</span>
[03:06:34] <span class="d">&lt;Nihility&gt; response</span>
[03:06:48] <span class="d">&lt;Nihility&gt; i mean that the thing issueing the request has to be a form</span>
[03:06:54] <span class="d">&lt;jpearlin1&gt; ok...I guess it doesn't really matter right now, we can always change it</span>
[03:06:56] <span class="d">&lt;jpearlin1&gt; right...</span>
[03:07:05] <span class="d">&lt;Nihility&gt; so that means its got to be html sitting somewhere</span>
[03:07:06] <span class="d">&lt;jpearlin1&gt; but it could be something ajax-y that does a async post</span>
[03:07:20] <span class="d">&lt;jpearlin1&gt; and wants just json back to update the page to show success or failure...</span>
[03:07:33] <span class="d">&lt;Nihility&gt; well thats just it you cant use XmlHttpRequest</span>
[03:07:34] <span class="d">&lt;jpearlin1&gt; or it could navigate to a whole new page in a more traditional manor</span>
[03:07:35] <span class="d">&lt;Nihility&gt; to send a file</span>
[03:07:48] <span class="b">*** AndyTaylor has joined #jboss-as7</span>
[03:07:49] <span class="a">*** ChanServ sets mode: +v AndyTaylor</span>
[03:07:52] <span class="d">&lt;Nihility&gt; well not portably anyway</span>
[03:08:01] <span class="a">*** AndyTaylor has left #jboss-as7</span>
[03:08:04] <span class="d">&lt;jpearlin1&gt; right...I was going to say that you can...but it involves frameworks</span>
[03:08:18] <span class="d">&lt;Nihility&gt; mozilla has a special feature</span>
[03:08:29] <span class="d">&lt;Nihility&gt; nsFileUpload or something</span>
[03:08:38] <span class="d">&lt;jpearlin1&gt; ok...so I guess I should just leave it as is for now (returning the DMR response)?</span>
[03:08:56] <span class="d">&lt;jpearlin1&gt; until we know more about the caller</span>
[03:09:20] <span class="d">&lt;Nihility&gt; yeah if they wanted to be fancy</span>
[03:09:28] <span class="d">&lt;Nihility&gt; they would have the upload be in an iframe</span>
[03:09:34] <span class="d">&lt;Nihility&gt; and use ajax to poll the server</span>
[03:09:38] <span class="d">&lt;Nihility&gt; and to a progress bar</span>
[03:09:53] <span class="d">&lt;Nihility&gt; (that would require something on the server side to do that)</span>
[03:10:05] <span class="d">&lt;jpearlin1&gt; every time we open that can of worms at work it ends in tears (polling the progress of a file uploaded via http)</span>
[03:10:43] <span class="d">&lt;Nihility&gt; too much network traffic</span>
[03:10:44] <span class="d">&lt;Nihility&gt; ?</span>
[03:10:57] <span class="d">&lt;jpearlin1&gt; no...its more to do with the fact that you don't really know the size of the file being uploaded</span>
[03:11:11] <span class="d">&lt;jpearlin1&gt; or at least there is no easy way to tell unless you do some calculations client side first</span>
[03:11:16] <span class="d">&lt;jpearlin1&gt; to give real meaningful progress</span>
[03:11:34] <span class="d">&lt;jpearlin1&gt; because you don't get it in chunks on the server side via a form post</span>
[03:11:55] <span class="d">&lt;Nihility&gt; yeah if it uses http chunking you wont know for sure</span>
[03:12:00] <span class="d">&lt;jpearlin1&gt; right</span>
[03:12:05] <span class="d">&lt;jpearlin1&gt; so you can guess</span>
[03:12:08] <span class="d">&lt;Nihility&gt; if it sends a content length you do know</span>
[03:12:12] <span class="d">&lt;jpearlin1&gt; but it looks weird on small files, etc</span>
[03:12:31] <span class="d">&lt;jpearlin1&gt; 0%, 1%, 100%!</span>
[03:12:34] <span class="d">&lt;Nihility&gt; haha</span>
[03:12:39] <span class="d">&lt;jpearlin1&gt; just like windows</span>
[03:12:48] <span class="d">&lt;dmlloyd&gt; ok now I'm getting somewhere...</span>
[03:12:52] <span class="d">&lt;dmlloyd&gt; it's failing right away :)</span>
[03:12:57] <span class="d">&lt;dmlloyd&gt; adn the bindings are at least all there</span>
[03:12:58] <span class="d">&lt;Nihility&gt; i wonder how gmail does it</span>
[03:13:03] <span class="d">&lt;jpearlin1&gt; javascript</span>
[03:13:06] <span class="d">&lt;jpearlin1&gt; lots and lots of javascript</span>
[03:13:20] <span class="d">&lt;Nihility&gt; yeah they have the same restrictions on sending though</span>
[03:13:31] <span class="d">&lt;jpearlin1&gt; right...but I think they do a lot of stuff client side</span>
[03:13:36] <span class="d">&lt;jpearlin1&gt; try logging out before the file is attached</span>
[03:13:46] <span class="d">&lt;jpearlin1&gt; you will get a popup warning you it hasnt completed yet</span>
[03:14:02] <span class="d">&lt;jpearlin1&gt; so they must break it up into chunks client side</span>
[03:14:05] <span class="d">&lt;jpearlin1&gt; or something like that</span>
[03:14:24] <span class="d">&lt;jpearlin1&gt; and async push a chunk at a time to store on the server until you hit send</span>
[03:14:26] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/ebc63f1" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/ebc63f1</a></span>
[03:14:27] <span class="d">&lt;jbossbot&gt; git [jboss-as] ebc63f1.. David M. Lloyd Almost there</span>
[03:14:28] <span class="d">&lt;Nihility&gt; yeah the big problem is you cant access files with javascript</span>
[03:14:36] <span class="d">&lt;dmlloyd&gt; stuartdouglas: ^^ take note!  I have pushed!</span>
[03:14:44] <span class="c">* dmlloyd waves a couple flags in the air semaphore-style</span>
[03:14:47] <span class="d">&lt;jpearlin1&gt; true...hmm</span>
[03:15:39] <span class="d">&lt;stuartdouglas&gt; does it work?</span>
[03:15:50] <span class="d">&lt;dmlloyd&gt; almost</span>
[03:15:56] <span class="d">&lt;dmlloyd&gt; there's a start failure with the binding service</span>
[03:16:02] <span class="d">&lt;stuartdouglas&gt; It almost worked before :-)</span>
[03:16:07] <span class="d">&lt;dmlloyd&gt; I think it's a dep that needs to be added or something</span>
[03:16:14] <span class="d">&lt;dmlloyd&gt; it gets farther than it did!</span>
[03:17:54] <span class="d">&lt;jpearlin1&gt; Nihility:  looks like there are two competing thoughts on how gmail does it:  flash or an iframe with ajax</span>
[03:18:11] <span class="d">&lt;jpearlin1&gt; or html5 if they detect a newer browser</span>
[03:18:53] <span class="d">&lt;stuartdouglas&gt; something screwey is going on: service jboss.naming.context.java.app.&quot;managedbean-example.ear&quot;.anagedbean-example/BeanWithSimpleInjected</span>
[03:19:08] <span class="d">&lt;stuartdouglas&gt; anagedbean is probably not right :-)</span>
[03:19:34] <span class="d">&lt;dmlloyd&gt; god dammit</span>
[03:19:40] <span class="d">&lt;dmlloyd&gt; one sec</span>
[03:20:56] <span class="d">&lt;stuartdouglas&gt; actually that is probably not the problem</span>
[03:21:13] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/d4404e1" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/d4404e1</a></span>
[03:21:13] <span class="d">&lt;jbossbot&gt; git [jboss-as] d4404e1.. David M. Lloyd I CAN DO MATHZ</span>
[03:21:33] <span class="d">&lt;dmlloyd&gt; yeah it's *a* problem but not *the* problem</span>
[03:24:42] <span class="d">&lt;dmlloyd&gt; wow, I hit something pretty bad this time</span>
[03:25:17] <span class="d">&lt;dmlloyd&gt; <a href="http://fpaste.org/ZQjc/" rel="nofollow" target="_blank">http://fpaste.org/ZQjc/</a></span>
[03:25:18] <span class="d">&lt;stuartdouglas&gt; that sounds ominous</span>
[03:25:47] <span class="d">&lt;stuartdouglas&gt; that looks bad</span>
[03:25:51] <span class="d">&lt;dmlloyd&gt; spurious failure</span>
[03:25:55] <span class="d">&lt;stuartdouglas&gt; is that a circular dep?</span>
[03:26:02] <span class="d">&lt;dmlloyd&gt; I'll have to give this one to flavia to sort out</span>
[03:26:12] <span class="d">&lt;dmlloyd&gt; &quot;good news is that it didn't happen again :)</span>
[03:26:14] <span class="d">&lt;dmlloyd&gt; &quot;good&quot;</span>
[03:28:36] <span class="d">&lt;Nihility&gt; jpearlin1: so it looks like most browsers send content-length on a form post</span>
[03:29:26] <span class="d">&lt;Nihility&gt; jpearlin1: you know one trick that might help you at work, is that http 1.0 doesnt support chunking</span>
[03:29:51] <span class="d">&lt;stuartdouglas&gt; So now the service name is : jboss.naming.context.java.app.&quot;managedbean-example.jar&quot;.managedbean-example/SimpleManagedBean:</span>
[03:30:01] <span class="d">&lt;stuartdouglas&gt; is that / going to cause problems?</span>
[03:30:12] <span class="d">&lt;Nihility&gt; jpearlin1: so you might be able to tell a browser to repost on http/1.0 and then they MUST provide it</span>
[03:30:30] <span class="d">&lt;jpearlin1&gt; yeah</span>
[03:30:43] <span class="d">&lt;dmlloyd&gt; stuartdouglas: no, that's what it should be</span>
[03:30:53] <span class="d">&lt;jpearlin1&gt; I do have one more question...do I need to put anything in the &quot;address&quot; parameter when I call execute on the modelcontroller?</span>
[03:30:58] <span class="d">&lt;jpearlin1&gt; right now I just have an empty list</span>
[03:31:02] <span class="d">&lt;dmlloyd&gt; stuartdouglas: this is weird though, it didn't bind the VIEW service this time</span>
[03:31:06] <span class="d">&lt;dmlloyd&gt; but I swear it did last time</span>
[03:31:08] <span class="d">&lt;Nihility&gt; jpearlin1: it depends on the operation</span>
[03:31:17] <span class="d">&lt;jpearlin1&gt; the upload doesn't seem to care about it</span>
[03:31:27] <span class="d">&lt;jpearlin1&gt; and the empty list allows it to pass the validation</span>
[03:31:31] <span class="d">&lt;Nihility&gt; jpearlin1: an empty list refers to the &quot;root&quot; node</span>
[03:31:36] <span class="d">&lt;jpearlin1&gt; the upload handler only cares about the &quot;url&quot; param for its validation</span>
[03:32:01] <span class="d">&lt;Nihility&gt; the upload operation is likely on the root node</span>
[03:32:06] <span class="d">&lt;jpearlin1&gt; it is</span>
[03:32:08] <span class="d">&lt;Nihility&gt; erm add to repo</span>
[03:32:09] <span class="d">&lt;jpearlin1&gt; from what I can tell</span>
[03:33:12] <span class="d">&lt;bstansberry&gt; an empty address is fine</span>
[03:33:19] <span class="d">&lt;jpearlin1&gt; thanks</span>
[03:33:22] <span class="d">&lt;bstansberry&gt; the handler is on the root node</span>
[03:33:32] <span class="d">&lt;jpearlin1&gt; that's what it looked like, but I wanted to make sure</span>
[03:33:49] <span class="d">&lt;stuartdouglas&gt; dmlloyd: Are you talking about Service &quot;jboss.deployment.unit.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.component.BeanWithSimpleInjected.VIEW ?</span>
[03:33:49] <span class="d">&lt;jpearlin1&gt; I pulled out the name and display name fields (as well as the validation on those)...is that still okay?</span>
[03:33:53] <span class="d">&lt;stuartdouglas&gt; cause that is up for me</span>
[03:34:35] <span class="d">&lt;dmlloyd&gt; stuartdouglas: just restarted and it bound the view this time</span>
[03:34:43] <span class="d">&lt;dmlloyd&gt; that's about 8 different kinds of &quot;not good&quot;</span>
[03:35:18] <span class="d">&lt;bstansberry&gt; jpearlin1: that's fine</span>
[03:35:22] <span class="d">&lt;jpearlin1&gt; thanks</span>
[03:35:35] <span class="d">&lt;stuartdouglas&gt; hang on</span>
[03:35:46] <span class="d">&lt;stuartdouglas&gt; jboss.naming.context.java.app.&quot;managedbean-example.jar&quot;</span>
[03:35:57] <span class="d">&lt;stuartdouglas&gt; that should probably be .ear rather than .jar</span>
[03:36:14] <span class="d">&lt;dmlloyd&gt; maybe but that doesn't explain what's going on here</span>
[03:36:15] <span class="d">&lt;bstansberry&gt; jpearlin1: fyi, kkhan added an ability to attach streams to operations, and an upload handler that can access the stream</span>
[03:36:19] <span class="d">&lt;bstansberry&gt; <a href="https://github.com/jbossas/jboss-as/blob/master/server/src/main/java/org/jboss/as/server/deployment/DeploymentUploadStreamAttachmentHandler.java" rel="nofollow" target="_blank">https://github.com/jbossas/jboss-as/blob/master/server/src/main/java/org/jboss/as/server/deployment/DeploymentUploadStreamAttachmentHandler.java</a></span>
[03:36:21] <span class="d">&lt;dmlloyd&gt; this time I got all services installed correctly</span>
[03:36:25] <span class="d">&lt;bstansberry&gt; that's the handler</span>
[03:36:28] <span class="d">&lt;dmlloyd&gt; except an ISE on the MB service start</span>
[03:36:31] <span class="d">&lt;jpearlin1&gt; should we use that instead?</span>
[03:36:38] <span class="d">&lt;jpearlin1&gt; right now, I am just passing the url to the file</span>
[03:36:43] <span class="d">&lt;jpearlin1&gt; the temp file that is</span>
[03:36:52] <span class="d">&lt;dmlloyd&gt; an injection which wasn't started yet</span>
[03:37:23] <span class="d">&lt;bstansberry&gt; it would be interesting to try, if it allows you to skip the temp file</span>
[03:37:58] <span class="d">&lt;stuartdouglas&gt; actually I am seeing the same now</span>
[03:38:21] <span class="d">&lt;jpearlin1&gt; bstansberry:  it would, but I think Nihility wants to avoid holding all of the deployment in memory if possible</span>
[03:39:06] <span class="d">&lt;bstansberry&gt; it wouldn't all be in memory</span>
[03:39:58] <span class="d">&lt;bstansberry&gt; well, TBH, it would now, but that's just because the impl is as simple as possible until we change out the client/server transport to JBoss Remoting 3</span>
[03:40:17] <span class="d">&lt;stuartdouglas&gt; dmlloyd: line 167 of ComponentInstallProcessor, I think resourceValue is not being set</span>
[03:40:23] <span class="d">&lt;bstansberry&gt; so maybe sticking with the URL for now makes sense, until that change happens</span>
[03:40:31] <span class="d">&lt;jpearlin1&gt; yeah...looking at that code it is just a straight call to the input stream to read the data</span>
[03:40:39] <span class="d">&lt;stuartdouglas&gt; as it is the first injection that is failing, and that is the first injection</span>
[03:40:41] <span class="d">&lt;jpearlin1&gt; yeah...it wouldn't be much to change on my end</span>
[03:41:14] <span class="d">&lt;jpearlin1&gt; thanks for your help</span>
[03:41:24] <span class="d">&lt;dmlloyd&gt; stuartdouglas: it must be set to something</span>
[03:41:31] <span class="d">&lt;dmlloyd&gt; otherwise there'd be an IlArgEx</span>
[03:41:35] <span class="d">&lt;Nihility&gt; there would be some slight complexity in doing tha tin the current server</span>
[03:41:47] <span class="d">&lt;Nihility&gt; the webserver is blocking i/o</span>
[03:41:48] <span class="d">&lt;bstansberry&gt; jpearlin1: fyi, in <a href="https://github.com/jbossas/jboss-as/tree/master/controller-client/src/main/java/org/jboss/as/controller/client" rel="nofollow" target="_blank">https://github.com/jbossas/jboss-as/tree/master/controller-client/src/main/java/org/jboss/as/controller/client</a></span>
[03:41:55] <span class="d">&lt;dmlloyd&gt; brb</span>
[03:41:58] <span class="d">&lt;Nihility&gt; and i assume the operation that takes a stream is as well</span>
[03:42:00] <span class="d">&lt;stuartdouglas&gt; It is an InjectedValue</span>
[03:42:11] <span class="d">&lt;stuartdouglas&gt; but I don't think the injected value is ever set</span>
[03:42:14] <span class="d">&lt;Nihility&gt; so you would have to do something like pipedinputstream</span>
[03:42:24] <span class="d">&lt;Nihility&gt; and kick off a thread to copy the data</span>
[03:42:28] <span class="d">&lt;jpearlin1&gt; yeah...that is what I thought</span>
[03:42:35] <span class="d">&lt;jpearlin1&gt; and that could get interesting</span>
[03:42:40] <span class="d">&lt;bstansberry&gt; ModelControllerClient has a new method, and ExecutionContentBuilder is how you create the ExecutionContext</span>
[03:43:26] <span class="d">&lt;Nihility&gt; hmmm</span>
[03:43:28] <span class="d">&lt;Nihility&gt; unless</span>
[03:43:41] <span class="d">&lt;bstansberry&gt; remoting will read the stream</span>
[03:43:55] <span class="d">&lt;Nihility&gt; you could just pass the http input stream straight to the operation</span>
[03:44:02] <span class="d">&lt;jpearlin1&gt; right</span>
[03:44:03] <span class="d">&lt;bstansberry&gt; yeah</span>
[03:44:06] <span class="d">&lt;Nihility&gt; duh</span>
[03:44:17] <span class="d">&lt;jpearlin1&gt; but...its multipart</span>
[03:44:30] <span class="d">&lt;jpearlin1&gt; so you would need to get the body or change the upload handler to parse multipart</span>
[03:44:34] <span class="d">&lt;jpearlin1&gt; to get the deployment</span>
[03:44:36] <span class="d">&lt;Nihility&gt; right so you would have to have a mutlipart decoder stream</span>
[03:44:53] <span class="d">&lt;jpearlin1&gt; right...wrap the input stream in a multipart stream</span>
[03:45:11] <span class="d">&lt;jpearlin1&gt; but most of the ones I see want you to do separate calls to get the header and body per part</span>
[03:45:13] <span class="d">&lt;Nihility&gt; thats that thing i wrote long long ago</span>
[03:45:18] <span class="d">&lt;jpearlin1&gt; so we would need one that doesn it in one call</span>
[03:45:26] <span class="d">&lt;jpearlin1&gt; i.e. read()</span>
[03:45:38] <span class="a">*** pgier has quit IRC</span>
[03:45:45] <span class="d">&lt;jpearlin1&gt; in a galaxy far, far away?</span>
[03:47:12] <span class="d">&lt;jpearlin1&gt; Nihility:  should I do separate commits, one for the changes to the deployment handler to remove those now unused paramters and one for the upload stuff, or can it be just one commit?</span>
[03:50:01] <span class="d">&lt;Nihility&gt; <a href="http://viewvc.jboss.org/cgi-bin/viewvc.cgi/jbossws/stack/native/trunk/modules/core/src/main/java/org/jboss/ws/core/soap/attachment/BoundaryDelimitedInputStream.java?view=log" rel="nofollow" target="_blank">http://viewvc.jboss.org/cgi-bin/viewvc.cgi/jbossws/stack/native/trunk/modules/core/src/main/java/org/jboss/ws/core/soap/attachment/BoundaryDelimitedInputStream.java?view=log</a></span>
[03:50:15] <span class="d">&lt;jpearlin1&gt; nice</span>
[03:53:31] <span class="d">&lt;jpearlin1&gt; so, should I commit what I have, then try to switch to using the stream handler?</span>
[03:53:42] <span class="d">&lt;jpearlin1&gt; or create a separate branch, I suppose</span>
[03:54:42] <span class="d">&lt;dmlloyd&gt; stuartdouglas: yeah almost like the dependency isn't injected</span>
[03:54:48] <span class="d">&lt;dmlloyd&gt; I think it is the VIEW dep</span>
[03:54:53] <span class="d">&lt;stuartdouglas&gt; <a href="https://github.com/stuartwdouglas/jboss-as/commit/9d8c116456c49de865bdea5695588ac875b38a1e" rel="nofollow" target="_blank">https://github.com/stuartwdouglas/jboss-as/commit/9d8c116456c49de865bdea5695588ac875b38a1e</a></span>
[03:54:53] <span class="d">&lt;jbossbot&gt; git [jboss-as] 9d8c116.. Stuart Douglas TEMP HACK</span>
[03:55:04] <span class="d">&lt;bstansberry&gt; IMO, let's see what you have</span>
[03:55:07] <span class="d">&lt;stuartdouglas&gt; I did that, and now I get a completly different failure</span>
[03:55:32] <span class="d">&lt;stuartdouglas&gt; <a href="http://pastebin.com/7Ww5tDwu" rel="nofollow" target="_blank">http://pastebin.com/7Ww5tDwu</a></span>
[03:55:37] <span class="d">&lt;dmlloyd&gt; so basically you add the same dep again</span>
[03:56:03] <span class="d">&lt;bstansberry&gt; &quot;All read() methods will start from the first inner stream, returning -1 when a boundary is reached. Subsequent calls will then advance to the next stream, skipping the boundary. &quot;</span>
[03:56:26] <span class="d">&lt;stuartdouglas&gt; actually yea</span>
[03:56:33] <span class="d">&lt;stuartdouglas&gt; I totally misread what was going on there</span>
[03:57:20] <span class="d">&lt;bstansberry&gt; so that would be an issue with how the ModelControllerClient API works; the client attaches 0..n streams and then they get read in arbitary order</span>
[03:58:02] <span class="d">&lt;Nihility&gt; ugh</span>
[03:58:10] <span class="d">&lt;Nihility&gt; that last patch that was made to this file</span>
[03:58:12] <span class="d">&lt;Nihility&gt; is wrong</span>
[03:59:39] <span class="d">&lt;dmlloyd&gt; stuartdouglas: maybe the problem is in addInjectionValue</span>
[04:00:05] <span class="d">&lt;Nihility&gt; jpearlin1: so if you use that, take the revision BEFORE the most recent</span>
[04:00:26] <span class="d">&lt;jpearlin1&gt; well...it sounds like it may not jive with the model controller api</span>
[04:00:40] <span class="d">&lt;stuartdouglas&gt; could well be</span>
[04:01:11] <span class="d">&lt;stuartdouglas&gt; yea, I think it is</span>
[04:01:25] <span class="d">&lt;stuartdouglas&gt; I change my temp hack so I only add the dep once</span>
[04:02:10] <span class="d">&lt;stuartdouglas&gt; <a href="https://github.com/stuartwdouglas/jboss-as/commit/f925e6ce9bafac1364eeee33a6d5f6fa6804d926" rel="nofollow" target="_blank">https://github.com/stuartwdouglas/jboss-as/commit/f925e6ce9bafac1364eeee33a6d5f6fa6804d926</a></span>
[04:02:11] <span class="d">&lt;jbossbot&gt; git [jboss-as] f925e6c.. Stuart Douglas TEMP HACK2</span>
[04:02:19] <span class="d">&lt;stuartdouglas&gt; and I was still getting the same failure as before</span>
[04:02:28] <span class="d">&lt;stuartdouglas&gt; with the already bound stuff</span>
[04:06:18] <span class="d">&lt;Nihility&gt; jpearlin1:bstansberry: yeah we would need something specific to http which isnt that great</span>
[04:06:46] <span class="d">&lt;jpearlin1&gt; and are we really that concerned with the delay of writing the temp file for this?</span>
[04:06:55] <span class="d">&lt;Nihility&gt; not really</span>
[04:07:05] <span class="d">&lt;jpearlin1&gt; right...that would be my thought too</span>
[04:07:16] <span class="d">&lt;jpearlin1&gt; it might be cool to pipe it through, but we don't need racing stripes on this</span>
[04:07:29] <span class="d">&lt;bstansberry&gt; if we could skip it, it's just nicer because there's less stuff left around</span>
[04:07:36] <span class="d">&lt;bstansberry&gt; but it's not a big deal by any means</span>
[04:07:41] <span class="d">&lt;dmlloyd&gt; stuartdouglas: this doesn't make any sense, fyi</span>
[04:07:44] <span class="d">&lt;Nihility&gt; yeah its easier from a cleanup and resource management perspective</span>
[04:07:48] <span class="d">&lt;stuartdouglas&gt; I know</span>
[04:07:49] <span class="d">&lt;Nihility&gt; also if there is a problem</span>
[04:07:54] <span class="d">&lt;jpearlin1&gt; right, but I don't think the cleanup will be that big of a deal</span>
[04:07:55] <span class="d">&lt;Nihility&gt; the server can abort</span>
[04:07:56] <span class="d">&lt;Nihility&gt; faster</span>
[04:08:04] <span class="d">&lt;dmlloyd&gt; stuartdouglas: the exact same dep you add is also added in side the resource value method</span>
[04:08:11] <span class="d">&lt;stuartdouglas&gt; I know</span>
[04:08:28] <span class="d">&lt;dmlloyd&gt; these injectors shouldn't even be running until the service is up</span>
[04:08:59] <span class="d">&lt;Nihility&gt; we would need a special sequential nested stream type</span>
[04:09:04] <span class="d">&lt;Nihility&gt; one with a friendlier api</span>
[04:09:05] <span class="d">&lt;Nihility&gt; :)</span>
[04:09:13] <span class="d">&lt;Nihility&gt; but that can be done later</span>
[04:09:17] <span class="d">&lt;jpearlin1&gt; we could probably cheat a little</span>
[04:09:18] <span class="b">*** pferraro has joined #jboss-as7</span>
[04:09:18] <span class="a">*** ChanServ sets mode: +v pferraro</span>
[04:11:38] <span class="d">&lt;Nihility&gt; dmlloyd: see 4.4.1 in the ejb spe</span>
[04:13:22] <span class="d">&lt;Nihility&gt; so at leatst all ejbs need entries in app, global, and module</span>
[04:13:50] <span class="d">&lt;Nihility&gt; mbs require module and app</span>
[04:14:33] <span class="d">&lt;jpearlin1&gt; Nihility, bstansberry:  thanks for your help...I'll get this cleaned up and get you a patch later this week</span>
[04:14:56] <span class="d">&lt;bstansberry&gt; great; thanks for doing this!</span>
[04:14:59] <span class="d">&lt;Nihility&gt; thanks</span>
[04:15:00] <span class="d">&lt;jpearlin1&gt; no problem</span>
[04:15:06] <span class="d">&lt;jpearlin1&gt; glad that I can help</span>
[04:16:24] <span class="a">*** Nihility has quit IRC</span>
[04:18:03] <span class="a">*** jpearlin1 has quit IRC</span>
[04:18:43] <span class="a">*** stansilvert has quit IRC</span>
[04:22:58] <span class="d">&lt;dmlloyd&gt; hm I have an idea to make this problem go away</span>
[04:24:09] <span class="b">*** Nihility has joined #jboss-as7</span>
[04:24:09] <span class="b">*** Nihility has joined #jboss-as7</span>
[04:24:09] <span class="a">*** ChanServ sets mode: +v Nihility</span>
[04:24:49] <span class="d">&lt;dmlloyd&gt; yes! brilliant</span>
[04:25:36] <span class="d">&lt;Nihility&gt; did you add support for circular deps!!!</span>
[04:25:37] <span class="d">&lt;Nihility&gt; :)</span>
[04:25:54] <span class="d">&lt;dmlloyd&gt; no, I'm quite close to a clever solution to my immediate problem though</span>
[04:27:45] <span class="d">&lt;stuartdouglas&gt; dmlloyd: I think it may be a MSC bug</span>
[04:28:23] <span class="d">&lt;stuartdouglas&gt; MSC is attempting to use the value injection before it runs the corresponding dependency type injection</span>
[04:28:33] <span class="d">&lt;stuartdouglas&gt; hmm, that last sentence made no sense</span>
[04:29:04] <span class="d">&lt;stuartdouglas&gt; basically the injection created with addInjectionValue is attempted first</span>
[04:29:18] <span class="d">&lt;stuartdouglas&gt; before the injection created by addDependency()</span>
[04:29:24] <span class="d">&lt;stuartdouglas&gt; so the value is null</span>
[04:29:35] <span class="d">&lt;stuartdouglas&gt; and we get an IllegalStateException</span>
[04:29:55] <span class="d">&lt;dmlloyd&gt; I thought it was something like that....</span>
[04:30:07] <span class="d">&lt;stuartdouglas&gt; do you want me to fix it?</span>
[04:30:09] <span class="d">&lt;dmlloyd&gt; sure</span>
[04:30:20] <span class="d">&lt;dmlloyd&gt; I worked around it by passing an injector in to the resource value thing instead of returning a value</span>
[04:30:29] <span class="d">&lt;dmlloyd&gt; it's actually kinda better because it cuts out a &quot;middleman&quot; in the process</span>
[04:30:51] <span class="d">&lt;dmlloyd&gt; now I've got Caused by: javax.naming.NameAlreadyBoundException: java:app</span>
[04:31:05] <span class="d">&lt;stuartdouglas&gt; yea, that is where I got with my hack</span>
[04:31:35] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/a8a090c" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/a8a090c</a></span>
[04:31:35] <span class="d">&lt;jbossbot&gt; git [jboss-as] a8a090c.. David M. Lloyd FIX-UM INJECTOR</span>
[04:32:32] <span class="d">&lt;dmlloyd&gt; 21:28:39,846 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) Completed deployment of &quot;managedbean-mbean.sar&quot; in 274 ms</span>
[04:32:32] <span class="d">&lt;dmlloyd&gt; 21:28:39,849 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) Completed deployment of &quot;managedbean-example.jar&quot; in 277 ms</span>
[04:32:32] <span class="d">&lt;dmlloyd&gt; 21:28:39,850 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) Completed deployment of &quot;managedbean-example.ear&quot; in 352 ms</span>
[04:32:38] <span class="d">&lt;dmlloyd&gt; I'm glad the timings work</span>
[04:32:40] <span class="d">&lt;dmlloyd&gt; at least :)</span>
[04:33:31] <span class="d">&lt;dmlloyd&gt; weird that it complains about java:app with java:app/managedbean-example/BeanWithSimpleInjected</span>
[04:33:37] <span class="d">&lt;dmlloyd&gt; must be a bug in BinderService...</span>
[04:38:07] <span class="d">&lt;Nihility&gt; david do you do something cool with modules and logging</span>
[04:38:17] <span class="d">&lt;Nihility&gt; and exceptions</span>
[04:38:32] <span class="d">&lt;dmlloyd&gt; everything I do is cool</span>
[04:38:34] <span class="d">&lt;dmlloyd&gt; you know that</span>
[04:38:36] <span class="d">&lt;Nihility&gt; the jar is the right of each line</span>
[04:38:42] <span class="d">&lt;Nihility&gt; i just noticed that</span>
[04:38:48] <span class="d">&lt;dmlloyd&gt; oh yeah, that was in jboss-logmanager</span>
[04:38:49] <span class="d">&lt;dmlloyd&gt; a while back</span>
[04:39:01] <span class="d">&lt;dmlloyd&gt; that's in AS6 too</span>
[04:39:03] <span class="d">&lt;Nihility&gt; thats a totally awesome feature</span>
[04:39:20] <span class="d">&lt;dmlloyd&gt; it uses code sources and a bunch of really nasty hacks to figure out the JAR</span>
[04:39:39] <span class="d">&lt;dmlloyd&gt; I added mainly because log4j had it and people were bitching :)</span>
[04:44:32] <span class="d">&lt;dmlloyd&gt; man the naming store API is a bit broken</span>
[04:44:48] <span class="d">&lt;dmlloyd&gt; not sure why it does everything in terms of contexts</span>
[04:44:58] <span class="d">&lt;stuartdouglas&gt; I try and aviod working with it where possible :-)</span>
[04:45:18] <span class="d">&lt;Nihility&gt; visitor pattern</span>
[04:45:28] <span class="d">&lt;dmlloyd&gt; ideally on the binding side you'd just say bind(name, thingThatIsNotAContext</span>
[04:45:34] <span class="d">&lt;dmlloyd&gt; and that's it</span>
[04:45:48] <span class="d">&lt;dmlloyd&gt; guess I'll fix that because it's actually breaking this thing</span>
[04:46:51] <span class="d">&lt;stuartdouglas&gt; dmlloyd: can you pull <a href="https://github.com/stuartwdouglas/jboss-msc" rel="nofollow" target="_blank">https://github.com/stuartwdouglas/jboss-msc</a></span>
[04:47:07] <span class="d">&lt;stuartdouglas&gt; I just changed the order so dependecy based injections go first</span>
[04:47:43] <span class="d">&lt;dmlloyd&gt; okay</span>
[04:47:45] <span class="d">&lt;Nihility&gt; stuartdouglas: so how much work do you think integrating weld requires</span>
[04:48:35] <span class="d">&lt;stuartdouglas&gt; It is already mostly integrated</span>
[04:48:44] <span class="d">&lt;stuartdouglas&gt; the only two major outstanding things are EJB integration</span>
[04:48:51] <span class="d">&lt;stuartdouglas&gt; and CDI injections into other components</span>
[04:48:58] <span class="d">&lt;stuartdouglas&gt; which may get done today</span>
[04:49:04] <span class="a">*** smarlow has quit IRC</span>
[04:49:38] <span class="d">&lt;stuartdouglas&gt; the TCK currently passes around 80%</span>
[04:50:03] <span class="d">&lt;stuartdouglas&gt; and a good number of those are failing because the TCK uses JSF 1.2 and we have JSF 2</span>
[04:50:15] <span class="d">&lt;dmlloyd&gt; heh</span>
[04:50:58] <span class="d">&lt;stuartdouglas&gt; CDI injection was supposed to be done by now, but then the managed bean demo came along :-)</span>
[04:51:18] <span class="c">* dmlloyd bows</span>
[04:52:03] <span class="d">&lt;stuartdouglas&gt; There are a few other performance things I would like to do, like muti threaded startup</span>
[04:52:45] <span class="d">&lt;stuartdouglas&gt; but a lot of the idea's that were proposed aren't really practical or don't actually buy much</span>
[04:54:43] <span class="d">&lt;stuartdouglas&gt; for instance WELD-793, which basically wants the container to provide all the reflection info to weld</span>
[04:54:44] <span class="d">&lt;jbossbot&gt; jira [WELD-793] Make bootstrap more granular [Open (Unresolved) Feature Request, Blocker, Unassigned] <a href="https://issues.jboss.org/browse/WELD-793" rel="nofollow" target="_blank">https://issues.jboss.org/browse/WELD-793</a></span>
[04:55:20] <span class="d">&lt;stuartdouglas&gt; however the container only builds reflection info for a small number of classes, while weld needs reflection info for all of them</span>
[04:55:36] <span class="d">&lt;stuartdouglas&gt; so it would really do is waste more memory by blowing out our reflection cache</span>
[04:57:59] <span class="a">*** mbg|away is now known as mbg</span>
[04:58:47] <span class="d">&lt;Nihility&gt; yeah i figured weld is going to have to be its own animal</span>
[04:59:27] <span class="d">&lt;Nihility&gt; although perhaps the annotation index would be useful</span>
[04:59:44] <span class="d">&lt;Nihility&gt; if you have no extensions or something</span>
[05:00:22] <span class="d">&lt;stuartdouglas&gt; yea, but then you have two completly different code paths</span>
[05:01:24] <span class="d">&lt;stuartdouglas&gt; At the moment it takes around 1s per 1000 classes</span>
[05:02:17] <span class="d">&lt;stuartdouglas&gt; and if we go to a multi threaded boot I should be able to reduce that by at least 30%</span>
[05:05:47] <span class="d">&lt;stuartdouglas&gt; we will probably need another release of weld soon though, as there are some fairly major bugs in 1.1 final, e.g. deployment time is O(n!) on the number of bean archives</span>
[05:06:58] <span class="a">*** bstansberry has quit IRC</span>
[05:21:34] <span class="c">* dmlloyd having a tough time wedging into InMemoryNamingStore</span>
[05:21:43] <span class="d">&lt;dmlloyd&gt; I'm kinda considering gutting it a bit</span>
[05:21:54] <span class="d">&lt;dmlloyd&gt; since we don't need support for most JNDI things... I don't think...</span>
[05:22:04] <span class="d">&lt;dmlloyd&gt; if we make Contexts read-only</span>
[05:22:29] <span class="d">&lt;stuartdouglas&gt; there are no parts of the TCK that require writable contexts?</span>
[05:22:42] <span class="d">&lt;dmlloyd&gt; I don't know, tbh</span>
[05:23:11] <span class="d">&lt;dmlloyd&gt; but it would definitely fuck up dependencies if they did write into contexts</span>
[05:24:14] <span class="d">&lt;dmlloyd&gt; the hornetq thing is already gonna break some stuff, it's like that on the promise that they're gonna fix it asap</span>
[05:24:37] <span class="d">&lt;dmlloyd&gt; the last thing I need is to bite off another refactor though :(</span>
[05:25:01] <span class="d">&lt;stuartdouglas&gt; did you figure out what was going on with the managed beans demo?</span>
[05:25:25] <span class="d">&lt;dmlloyd&gt; yeah it's trying to create parent contexts which already were created by another service</span>
[05:25:41] <span class="d">&lt;dmlloyd&gt; the problem is that we even have a service for creating contexts at all, imo</span>
[05:26:16] <span class="d">&lt;stuartdouglas&gt; so we should just tell the naming store 'bind here', and it takes care of the rest?</span>
[05:26:35] <span class="d">&lt;dmlloyd&gt; that's what I think</span>
[05:26:44] <span class="d">&lt;dmlloyd&gt; now making InMemoryNamingStore actually do that is another matter</span>
[05:26:52] <span class="d">&lt;stuartdouglas&gt; that sounds a lot better to me</span>
[05:27:18] <span class="d">&lt;dmlloyd&gt; the only tricky part is that we have the three contexts, comp module and app, which have to be referency</span>
[05:27:56] <span class="d">&lt;stuartdouglas&gt; isn't that just a case of binding a Reference to a Context ?</span>
[05:28:34] <span class="d">&lt;dmlloyd&gt; yeah, but it just means that we've got three kinds of things: references, contexts, and jndiinjectables</span>
[05:28:35] <span class="d">&lt;stuartdouglas&gt; would that really have to change much from how we do it now?</span>
[05:28:47] <span class="d">&lt;dmlloyd&gt; not too much no</span>
[05:28:56] <span class="d">&lt;dmlloyd&gt; the problem is that how we do it now is really hard to wedge into</span>
[05:40:26] <span class="d">&lt;dmlloyd&gt; hot damn</span>
[05:40:26] <span class="d">&lt;dmlloyd&gt; it works</span>
[05:40:29] <span class="d">&lt;dmlloyd&gt; IT WORKS</span>
[05:40:36] <span class="d">&lt;dmlloyd&gt;  __________</span>
[05:40:36] <span class="d">&lt;dmlloyd&gt; &lt; IT WORKS &gt;</span>
[05:40:36] <span class="d">&lt;dmlloyd&gt;  ----------</span>
[05:40:36] <span class="d">&lt;dmlloyd&gt;         \   ^__^</span>
[05:40:36] <span class="d">&lt;dmlloyd&gt;          \  (oo)\_______</span>
[05:40:36] <span class="d">&lt;dmlloyd&gt;             (__)\       )\/\</span>
[05:40:38] <span class="d">&lt;dmlloyd&gt;                 ||----w |</span>
[05:40:40] <span class="d">&lt;dmlloyd&gt;                 ||     ||</span>
[05:40:51] <span class="d">&lt;stuartdouglas&gt; woho :-)</span>
[05:40:56] <span class="a">*** irooskov has quit IRC</span>
[05:41:41] <span class="d">&lt;stuartdouglas&gt; your cows legs are wonky</span>
[05:42:20] <span class="d">&lt;dmlloyd&gt; gotta remove this sleep(60000) someone put in here</span>
[05:42:31] <span class="d">&lt;stuartdouglas&gt; hehe</span>
[05:42:38] <span class="d">&lt;dmlloyd&gt; :D</span>
[05:42:44] <span class="d">&lt;stuartdouglas&gt; It this al coing to be rebased into one big lump?</span>
[05:43:02] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/a22f0cb" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/a22f0cb</a></span>
[05:43:03] <span class="d">&lt;jbossbot&gt; git [jboss-as] a22f0cb.. David M. Lloyd Cleanly make some parents in binder service</span>
[05:43:04] <span class="d">&lt;dmlloyd&gt; yeah definitely</span>
[05:43:10] <span class="d">&lt;dmlloyd&gt; gotta edit out the cussing and whatnot :)</span>
[05:43:48] <span class="d">&lt;dmlloyd&gt; looks like unbind isn't working for some reason</span>
[05:43:51] <span class="d">&lt;dmlloyd&gt; pooey</span>
[05:44:06] <span class="d">&lt;dmlloyd&gt; doing a clean rebuild though because I'm all bit-rotten</span>
[05:44:30] <span class="d">&lt;Nihility&gt; speaking of works</span>
[05:44:44] <span class="d">&lt;Nihility&gt; my patched xalan and the new redirection stuff solves stans issue</span>
[05:45:03] <span class="d">&lt;Nihility&gt; although funny thing i noticed is that we already  have a version of xalan in our tree</span>
[05:45:11] <span class="d">&lt;Nihility&gt; and its brew-path01</span>
[05:45:14] <span class="d">&lt;Nihility&gt; patch</span>
[05:45:14] <span class="d">&lt;dmlloyd&gt; heh</span>
[05:45:16] <span class="d">&lt;Nihility&gt; lol</span>
[05:45:19] <span class="d">&lt;dmlloyd&gt; better look into that :)</span>
[05:45:27] <span class="d">&lt;Nihility&gt; yeah wonder what that patch does</span>
[05:45:45] <span class="d">&lt;Nihility&gt; its like a) wtf is using xalan</span>
[05:45:52] <span class="d">&lt;Nihility&gt; b) why is it a brew jar</span>
[05:46:00] <span class="d">&lt;Nihility&gt; c) what is the patch</span>
[05:46:04] <span class="d">&lt;Nihility&gt; d) who am i?</span>
[05:46:14] <span class="d">&lt;dmlloyd&gt; yeah</span>
[05:46:17] <span class="d">&lt;dmlloyd&gt; makes you wonder</span>
[05:47:26] <span class="d">&lt;dmlloyd&gt; ah changing that &quot;bean&quot; field to private broke smoke-tests</span>
[05:47:26] <span class="d">&lt;Nihility&gt; 5b61a544	(Richard Opalka	2011-02-21 09:54:01 +0100	79)        &lt;version.org.apache.xalan&gt;2.7.1.patch01-brew&lt;/version.org.apache.xalan&gt;</span>
[05:47:26] <span class="d">&lt;dmlloyd&gt; :(</span>
[05:47:42] <span class="d">&lt;stuartdouglas&gt; need to use getBean instead</span>
[05:47:48] <span class="d">&lt;stuartdouglas&gt; cause it waits</span>
[05:47:57] <span class="d">&lt;stuartdouglas&gt; but we probably should add a timeout to the wait</span>
[05:47:59] <span class="d">&lt;dmlloyd&gt; org.jboss.as.test.embedded.demos.managedbean.ManagedBeanTestCase no longer compiles</span>
[05:48:19] <span class="d">&lt;dmlloyd&gt; heh</span>
[05:48:20] <span class="d">&lt;dmlloyd&gt; it polls</span>
[05:48:26] <span class="d">&lt;dmlloyd&gt; ugggly</span>
[05:48:38] <span class="d">&lt;stuartdouglas&gt; no need for that now</span>
[05:48:44] <span class="d">&lt;dmlloyd&gt; easy fix at least</span>
[05:48:57] <span class="d">&lt;stuartdouglas&gt; I can build in around 55s now that all the sleeps() are gone from the tests</span>
[05:50:02] <span class="d">&lt;dmlloyd&gt; damn I'm getting the failures again</span>
[05:50:02] <span class="d">&lt;dmlloyd&gt; wtf</span>
[05:50:56] <span class="d">&lt;dmlloyd&gt; it's almost like there's some kind of race condition</span>
[05:50:57] <span class="d">&lt;dmlloyd&gt; hmmm</span>
[05:51:02] <span class="d">&lt;dmlloyd&gt; I bet I know right where it is</span>
[05:55:29] <span class="d">&lt;Nihility&gt; <a href="http://anonsvn.jboss.org/repos/repository.jboss.org/apache-xalan/2.7.1.patch04-brew/src/" rel="nofollow" target="_blank">http://anonsvn.jboss.org/repos/repository.jboss.org/apache-xalan/2.7.1.patch04-brew/src/</a></span>
[05:55:53] <span class="d">&lt;dmlloyd&gt; doesn't seem to fail now</span>
[05:55:55] <span class="d">&lt;Nihility&gt; add some sleeps</span>
[05:55:59] <span class="d">&lt;dmlloyd&gt; but the test isn't finishing either</span>
[05:57:27] <span class="d">&lt;dmlloyd&gt; 22:54:38,132 WARN  [org.jboss.msc.inject] (MSC service thread 1-3) MSC00100:Unexpected failure to uninject public void org.jboss.as.demos.sar.archive.ConfigService.setIntervalSeconds(int): java.lang.IllegalArgumentException</span>
[05:57:30] <span class="d">&lt;dmlloyd&gt; not sure what that's about</span>
[05:58:23] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/9109f77" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/9109f77</a></span>
[05:58:23] <span class="d">&lt;jbossbot&gt; git [jboss-as] 9109f77.. David M. Lloyd Fix race and compile prob; test still does not finish, no idea why</span>
[05:58:27] <span class="d">&lt;dmlloyd&gt; what do you make of that, stuartdouglas</span>
[05:59:10] <span class="c">* stuartdouglas looks</span>
[05:59:48] <span class="d">&lt;dmlloyd&gt; it really looks like the deployment runs correctly</span>
[05:59:54] <span class="d">&lt;dmlloyd&gt; but the bean isn't unblocking for some reason</span>
[06:00:09] <span class="d">&lt;dmlloyd&gt; otoh it is only deploying managedbean-example.jar, not the whole ear</span>
[06:01:08] <span class="d">&lt;stuartdouglas&gt; that would probably do it</span>
[06:03:29] <span class="d">&lt;dmlloyd&gt; I'll try copying the code from demos</span>
[06:03:48] <span class="d">&lt;stuartdouglas&gt; yea, it just builds an arquillian archive</span>
[06:04:20] <span class="d">&lt;stuartdouglas&gt; but you will also need to add the test class itself to the jar</span>
[06:04:40] <span class="d">&lt;dmlloyd&gt; yeah just noticing that</span>
[06:06:10] <span class="d">&lt;dmlloyd&gt; here goes</span>
[06:06:18] <span class="d">&lt;dmlloyd&gt; first ever experience with arq</span>
[06:06:55] <span class="d">&lt;dmlloyd&gt; seemed to deploy, weeew</span>
[06:07:02] <span class="d">&lt;dmlloyd&gt; test still isn't finishing tho</span>
[06:07:34] <span class="d">&lt;stuartdouglas&gt; can you push</span>
[06:08:14] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/20c3a2b" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/20c3a2b</a></span>
[06:08:14] <span class="d">&lt;jbossbot&gt; git [jboss-as] 20c3a2b.. David M. Lloyd ShrinkWrap em</span>
[06:09:46] <span class="d">&lt;stuartdouglas&gt; I wonder if it is not bundling META-INF/services/org.jboss.msc.service.ServiceActivator</span>
[06:10:15] <span class="d">&lt;stuartdouglas&gt; actually no, that should be fine</span>
[06:10:31] <span class="d">&lt;Nihility&gt; dmlloyd: tommorow we should do a modules release :)</span>
[06:10:56] <span class="d">&lt;Nihility&gt; need to get it to beta20</span>
[06:11:52] <span class="d">&lt;stuartdouglas&gt; It is blocking in lookupservice.getBean</span>
[06:11:55] <span class="d">&lt;dmlloyd&gt; <a href="http://fpaste.org/iVZH/" rel="nofollow" target="_blank">http://fpaste.org/iVZH/</a></span>
[06:13:18] <span class="d">&lt;stuartdouglas&gt; the demo blocks as well when run standalone</span>
[06:13:32] <span class="d">&lt;dmlloyd&gt; Service &quot;jboss.deployment.unit.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.component.BeanWithSimpleInjected.START&quot; (class org.jboss.as.ee.component.ComponentStartService) mode ACTIVE state DOWN (parent: jboss.deployment.unit.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.INSTALL) (dependencies: jboss.naming.context.java.app.&quot;managedbean-example.ear&quot;.managedbean-example/BeanWithSimpleInjected, jboss.naming.conte</span>
[06:13:33] <span class="d">&lt;dmlloyd&gt; xt.java.module.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.&quot;env/org.jboss.as.demos.managedbean.archive.BeanWithSimpleInjected/simple&quot;, jboss.naming.context.java.module.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.BeanWithSimpleInjected, jboss.deployment.unit.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.component.BeanWithSimpleInjected.CREATE) (has missing dependency)</span>
[06:15:25] <span class="d">&lt;stuartdouglas&gt; we need a better way of viewing missing dependencies...</span>
[06:16:24] <span class="d">&lt;Nihility&gt; cool the service tracking stuff works though</span>
[06:16:51] <span class="a">*** ALR has quit IRC</span>
[06:18:44] <span class="d">&lt;stuartdouglas&gt; jboss.naming.context.java.module.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.&quot;env/org.jboss.as.demos.managedbean.archive.BeanWithSimpleInjected/simple&quot; is the missing dep</span>
[06:18:51] <span class="d">&lt;stuartdouglas&gt; it has another missing dep though</span>
[06:19:19] <span class="d">&lt;stuartdouglas&gt; jboss.naming.context.java.module.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.module.SimpleManagedBean</span>
[06:19:27] <span class="d">&lt;stuartdouglas&gt; Is the root cause</span>
[06:20:53] <span class="d">&lt;stuartdouglas&gt; I think that extra module at the end may be wrong</span>
[06:21:13] <span class="d">&lt;dmlloyd&gt; yeah</span>
[06:21:15] <span class="d">&lt;dmlloyd&gt; that's the one</span>
[06:21:27] <span class="d">&lt;dmlloyd&gt; just gotta figure out where the hell I did that...</span>
[06:26:31] <span class="d">&lt;dmlloyd&gt;     @Resource(lookup=&quot;java:module/SimpleManagedBean&quot;) is on the original</span>
[06:26:36] <span class="d">&lt;dmlloyd&gt; I must be assembling the name wrong somewhere</span>
[06:27:29] <span class="a">*** mbg is now known as mbg|away</span>
[06:28:04] <span class="d">&lt;dmlloyd&gt; ah found it</span>
[06:28:48] <span class="a">*** mbg|away is now known as mbg</span>
[06:30:20] <span class="d">&lt;dmlloyd&gt; Running org.jboss.as.test.embedded.demos.managedbean.ManagedBeanTestCase</span>
[06:30:20] <span class="d">&lt;dmlloyd&gt; Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.345 sec &lt;&lt;&lt; FAILURE!</span>
[06:30:25] <span class="d">&lt;dmlloyd&gt; I'm so glad to see a failure :)</span>
[06:30:59] <span class="d">&lt;dmlloyd&gt; hm it's that goofy MSC race again...</span>
[06:36:23] <span class="d">&lt;dmlloyd&gt; ah now LookupService is not having the context injected...</span>
[06:46:55] <span class="d">&lt;dmlloyd&gt; got something stale here</span>
[06:47:00] <span class="d">&lt;dmlloyd&gt; time to nuke and rebuild</span>
[06:50:49] <span class="d">&lt;dmlloyd&gt; System using 52.00999999999999 Mb of 151.19 Mb after 0 seconds</span>
[06:50:49] <span class="d">&lt;dmlloyd&gt; lol</span>
[06:50:53] <span class="d">&lt;dmlloyd&gt; just under one byte used there</span>
[06:52:00] <span class="d">&lt;stuartdouglas&gt; ?</span>
[06:52:15] <span class="d">&lt;dmlloyd&gt; it's a diagnostic I noticed</span>
[06:52:33] <span class="d">&lt;dmlloyd&gt; that'd be 52009999.99999999 bytes</span>
[06:52:59] <span class="d">&lt;dmlloyd&gt; not quite sure what it's gonna do with .99999999 of a byte, but oh well</span>
[06:56:07] <span class="d">&lt;dmlloyd&gt; hmm</span>
[06:56:15] <span class="d">&lt;dmlloyd&gt; I don't think the binding is actually making it into JNDI</span>
[06:56:24] <span class="d">&lt;dmlloyd&gt; the service is definitely there</span>
[06:56:50] <span class="d">&lt;stuartdouglas&gt; A problem with the naming store?</span>
[06:56:58] <span class="d">&lt;dmlloyd&gt; could be</span>
[06:57:06] <span class="d">&lt;dmlloyd&gt; I might have to attach a debugger to figure this out</span>
[06:57:10] <span class="d">&lt;dmlloyd&gt; blarg</span>
[06:57:34] <span class="d">&lt;dmlloyd&gt; the services are all there, nothing missing deps</span>
[06:57:40] <span class="d">&lt;dmlloyd&gt; I see the service for the binding</span>
[06:57:47] <span class="d">&lt;stuartdouglas&gt; but the lookup fails?</span>
[06:57:55] <span class="d">&lt;dmlloyd&gt; yeah apparently</span>
[06:58:00] <span class="d">&lt;stuartdouglas&gt; I may have cdi injections</span>
[06:58:00] <span class="d">&lt;dmlloyd&gt; though the lookup is pretty suspect itself</span>
[06:58:12] <span class="d">&lt;stuartdouglas&gt; but I can't test them till we sort this out</span>
[06:58:24] <span class="d">&lt;dmlloyd&gt; had to hack org.jboss.as.demos.managedbean.archive.ServiceActivator because the context service is a NamingStore now</span>
[06:58:30] <span class="d">&lt;dmlloyd&gt; so I made a little bridge thinger</span>
[06:58:43] <span class="d">&lt;dmlloyd&gt; <a href="http://fpaste.org/FmsG/" rel="nofollow" target="_blank">http://fpaste.org/FmsG/</a></span>
[06:58:51] <span class="d">&lt;dmlloyd&gt; I'm not super confident</span>
[06:58:57] <span class="d">&lt;dmlloyd&gt; that it's right, that is</span>
[06:59:12] <span class="d">&lt;dmlloyd&gt; I do see Service &quot;jboss.naming.context.java.module.&quot;managedbean-example.ear&quot;.&quot;managedbean-example.jar&quot;.BeanWithSimpleInjected&quot;</span>
[06:59:25] <span class="d">&lt;stuartdouglas&gt; hmm, can't we just do a normal JNDI lookup now?</span>
[06:59:37] <span class="d">&lt;stuartdouglas&gt; as they are all part of the same app</span>
[06:59:38] <span class="d">&lt;dmlloyd&gt; hm, of the app one you mean?</span>
[06:59:45] <span class="d">&lt;stuartdouglas&gt; yea</span>
[06:59:49] <span class="d">&lt;dmlloyd&gt; in theory but service activators don't have a naming context</span>
[06:59:56] <span class="d">&lt;stuartdouglas&gt; ah</span>
[06:59:58] <span class="d">&lt;dmlloyd&gt; so you can't get the inital context</span>
[07:00:08] <span class="d">&lt;stuartdouglas&gt; but in practice arquillian sets one up</span>
[07:00:09] <span class="d">&lt;dmlloyd&gt; another thing to fix I guess</span>
[07:00:25] <span class="d">&lt;dmlloyd&gt; really?  how does it do that</span>
[07:00:56] <span class="d">&lt;dmlloyd&gt; no naming context selector even exists</span>
[07:01:06] <span class="d">&lt;dmlloyd&gt; so theoretically I guess this shouldn't even work :)</span>
[07:01:09] <span class="d">&lt;stuartdouglas&gt; oh, well then it probably doesn't</span>
[07:01:34] <span class="d">&lt;dmlloyd&gt; I guess it's not doing lookups with the calling context</span>
[07:01:48] <span class="d">&lt;dmlloyd&gt; man, what a pain in the ass this is</span>
[07:02:10] <span class="d">&lt;stuartdouglas&gt; Actually I think arq will have the namespace set up</span>
[07:02:35] <span class="d">&lt;stuartdouglas&gt; <a href="https://github.com/bstansberry/jboss-as/blob/master/ee/src/main/java/org/jboss/as/ee/naming/ModuleContextProcessor.java#L96" rel="nofollow" target="_blank">https://github.com/bstansberry/jboss-as/blob/master/ee/src/main/java/org/jboss/as/ee/naming/ModuleContextProcessor.java#L96</a></span>
[07:02:55] <span class="d">&lt;stuartdouglas&gt; idea's github integration thinks I am brian for some reason</span>
[07:02:59] <span class="d">&lt;dmlloyd&gt; ah, cute</span>
[07:03:09] <span class="d">&lt;dmlloyd&gt; too bad the module context services aren't Context for some reason</span>
[07:03:15] <span class="d">&lt;dmlloyd&gt; er</span>
[07:03:19] <span class="d">&lt;dmlloyd&gt; nice freudian there</span>
[07:03:30] <span class="d">&lt;dmlloyd&gt; read+type = I/O error</span>
[07:03:48] <span class="d">&lt;dmlloyd&gt; too bad the module context services aren't Context anymore*</span>
[07:04:04] <span class="d">&lt;stuartdouglas&gt; that file is out of date</span>
[07:04:17] <span class="d">&lt;stuartdouglas&gt; cause idea thought I was brian</span>
[07:04:26] <span class="d">&lt;dmlloyd&gt; <a href="https://github.com/dmlloyd/jboss-as/blob/master/ee/src/main/java/org/jboss/as/ee/naming/ModuleContextProcessor.java#L91" rel="nofollow" target="_blank">https://github.com/dmlloyd/jboss-as/blob/master/ee/src/main/java/org/jboss/as/ee/naming/ModuleContextProcessor.java#L91</a></span>
[07:04:27] <span class="d">&lt;dmlloyd&gt; :-(</span>
[07:06:05] <span class="d">&lt;stuartdouglas&gt; ah, I was looking in my cdi injectors branch, which is between those two</span>
[07:06:11] <span class="d">&lt;stuartdouglas&gt; as I have not rebased it yet</span>
[07:07:20] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/5deec7f" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/5deec7f</a></span>
[07:07:20] <span class="d">&lt;jbossbot&gt; git [jboss-as] 5deec7f.. David M. Lloyd Fix some lookup stuff</span>
[07:07:24] <span class="d">&lt;dmlloyd&gt; this is my current state</span>
[07:08:27] <span class="d">&lt;maeste&gt; dmlloyd, stuartdouglas : have you an answer about org.jboss.as.server.deployment.Attachments#CLASS_PATH_ENTRIES?</span>
[07:08:50] <span class="d">&lt;stuartdouglas&gt; yes</span>
[07:08:51] <span class="d">&lt;dmlloyd&gt; I don't even rememner the question</span>
[07:08:58] <span class="d">&lt;dmlloyd&gt; been working for 15 hours</span>
[07:09:02] <span class="d">&lt;stuartdouglas&gt; we do add msc dependencies</span>
[07:09:08] <span class="d">&lt;stuartdouglas&gt; only 10 here</span>
[07:09:44] <span class="d">&lt;stuartdouglas&gt; all non-system modules are represented by two MSC sevices, a config service and a load service</span>
[07:09:50] <span class="d">&lt;maeste&gt; dmlloyd: yep, you are right...you asked &lt;dmlloyd&gt; stuartdouglas: when you're back on... when we add class-path entries are we also adding a MSC dependency?</span>
[07:10:12] <span class="d">&lt;dmlloyd&gt; ah for the two phases</span>
[07:10:13] <span class="d">&lt;stuartdouglas&gt; so when you add a class path entry to something</span>
[07:10:14] <span class="d">&lt;dmlloyd&gt; good deal</span>
[07:10:33] <span class="d">&lt;stuartdouglas&gt; it turns it into a module with those two services</span>
[07:11:05] <span class="d">&lt;stuartdouglas&gt; but if you point the class path entry and something in ear/lib this does not happen, as it is already on the CP and it is ignored</span>
[07:11:18] <span class="d">&lt;maeste&gt; stuartdouglas, dmlloyd : cool, so I can do that to add jdbc driver to my classpath for jca</span>
[07:11:57] <span class="d">&lt;stuartdouglas&gt; where is the driver deployed and where is the jar that is referencing it?</span>
[07:12:10] <span class="d">&lt;maeste&gt; stuartdouglas: a bit of context for you: I have a jdbc driver deployed as jar and a rar that want to use it</span>
[07:12:27] <span class="d">&lt;maeste&gt; stuartdouglas: I have a service dependency, but I need to put the drivere in cp too</span>
[07:13:25] <span class="d">&lt;stuartdouglas&gt; if is is deployed you are better off using extension-list or a jboss modules dep</span>
[07:13:28] <span class="d">&lt;maeste&gt; stuartdouglas: in fact I set up that service started in rar is dependending from driver's service</span>
[07:14:10] <span class="d">&lt;maeste&gt; stuartdouglas: why? (asking to have deeper understand)</span>
[07:14:11] <span class="d">&lt;stuartdouglas&gt; the class-path service will actually be different to the drivers normal module service</span>
[07:14:31] <span class="d">&lt;stuartdouglas&gt; as it is outside the deployment it will be treated as an external jar</span>
[07:15:02] <span class="d">&lt;stuartdouglas&gt; at the moment there is no good solution to this, as there is no guarentee which one will be deployed first</span>
[07:15:29] <span class="d">&lt;maeste&gt; stuartdouglas: oki, have you an example to point me too?</span>
[07:15:46] <span class="d">&lt;stuartdouglas&gt; not really :-(</span>
[07:16:00] <span class="d">&lt;stuartdouglas&gt; so you can use extension-list, but extension-list determines the service name to depend on by looking through the available deployed extensions</span>
[07:16:14] <span class="d">&lt;stuartdouglas&gt; so it won't help if the deployment order is wrong</span>
[07:16:21] <span class="d">&lt;maeste&gt; stuartdouglas: yep, but having set a service dependency I don't know who is deployed first, but I know who is started first at least</span>
[07:16:28] <span class="d">&lt;dmlloyd&gt; well if you have a dep on the driver service and on the module via class path it's probably fine</span>
[07:16:30] <span class="d">&lt;maeste&gt; stuartdouglas: does it help?</span>
[07:17:24] <span class="d">&lt;stuartdouglas&gt; the problem is that class path does not work that way yet, it only know about cp entries that are inside the deployment, and external cp entries</span>
[07:17:39] <span class="d">&lt;dmlloyd&gt; oh it doesn't know about sibling deployments?</span>
[07:17:40] <span class="d">&lt;stuartdouglas&gt; it does not (yet) know about cp entries that are outside this deployment and in another deployment</span>
[07:18:08] <span class="d">&lt;stuartdouglas&gt; when I implemented it the module as service stuff was not really in place</span>
[07:18:08] <span class="d">&lt;dmlloyd&gt; hm</span>
[07:18:15] <span class="d">&lt;stuartdouglas&gt; it would actually be pretty easy to do now</span>
[07:18:45] <span class="d">&lt;maeste&gt; so it doesn't (yet) possible to implement what I've discussed with dmlloyd yesterday</span>
[07:19:06] <span class="d">&lt;stuartdouglas&gt; it will be if I make CP understand sibling deployments</span>
[07:19:28] <span class="d">&lt;maeste&gt; exactly it's the sense of &quot;yet&quot; :P</span>
[07:21:40] <span class="d">&lt;maeste&gt; stuartdouglas: have you an estimate about that? Without it the current JCA+jdbc deployement impl does not work witout cp workaround (setting in cp in client for example using META-INF Class-Path entry)</span>
[07:21:50] <span class="d">&lt;stuartdouglas&gt; give me 10 mintues</span>
[07:21:56] <span class="d">&lt;maeste&gt; sure</span>
[07:21:58] <span class="d">&lt;stuartdouglas&gt; and I will let you know</span>
[07:22:30] <span class="d">&lt;maeste&gt; np, it's just 6 O'clock here...I have all day :)</span>
[07:29:43] <span class="d">&lt;dmlloyd&gt; ah I guess I did already fix the selector stuff</span>
[07:29:55] <span class="d">&lt;stuartdouglas&gt; <a href="https://github.com/stuartwdouglas/jboss-as/commit/41a4f8611e18202410c85d89733edcee0b50e7fd" rel="nofollow" target="_blank">https://github.com/stuartwdouglas/jboss-as/commit/41a4f8611e18202410c85d89733edcee0b50e7fd</a></span>
[07:29:56] <span class="d">&lt;jbossbot&gt; git [jboss-as] 41a4f86.. Stuart Douglas Allow CP entries to point to top level deployments</span>
[07:30:00] <span class="d">&lt;stuartdouglas&gt; That may fix it</span>
[07:32:06] <span class="d">&lt;stuartdouglas&gt; dmlloyd: if you get a sec could you push my master to upstream master</span>
[07:33:06] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master 41a4f86.. Stuart Douglas Allow CP entries to point to top level deployments</span>
[07:33:06] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master URL: <a href="http://github.com/jbossas/jboss-as/compare/26d15df...41a4f86" rel="nofollow" target="_blank">http://github.com/jbossas/jboss-as/compare/26d15df...41a4f86</a></span>
[07:33:24] <span class="d">&lt;stuartdouglas&gt; maeste: it should work now</span>
[07:33:39] <span class="d">&lt;maeste&gt; stuartdouglas: coooool! Thanks. So Can I just use CLASS_PATH_ENTRIES?</span>
[07:33:56] <span class="d">&lt;maeste&gt; stuartdouglas: or there are more proper method you suggest</span>
[07:34:02] <span class="d">&lt;stuartdouglas&gt; yea, just put a Class-Path: ../otherjar.jar</span>
[07:34:11] <span class="d">&lt;stuartdouglas&gt; and that should work</span>
[07:35:06] <span class="d">&lt;maeste&gt; stuartdouglas: cool</span>
[07:36:02] <span class="d">&lt;maeste&gt; stuartdouglas: thank you very much</span>
[07:36:09] <span class="d">&lt;stuartdouglas&gt; np</span>
[07:41:34] <span class="d">&lt;dmlloyd&gt; ah weird</span>
[07:41:50] <span class="d">&lt;dmlloyd&gt; some of the names are being bound as java:module/Blah inside the naming store</span>
[07:41:52] <span class="d">&lt;dmlloyd&gt; and some are just Blah</span>
[07:42:02] <span class="d">&lt;dmlloyd&gt; gotta find out what the difference is</span>
[07:51:12] <span class="a">*** miclorb has quit IRC</span>
[07:54:06] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/685c0d9" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/685c0d9</a></span>
[07:54:07] <span class="d">&lt;jbossbot&gt; git [jboss-as] 685c0d9.. David M. Lloyd Clean up more binding crap</span>
[07:54:15] <span class="d">&lt;dmlloyd&gt; now it's an NPE on naming context selector something or other</span>
[07:54:58] <span class="d">&lt;dmlloyd&gt; lack of namespace context has come to bite me</span>
[07:56:28] <span class="d">&lt;dmlloyd&gt; it worked</span>
[07:56:30] <span class="d">&lt;dmlloyd&gt; yay</span>
[07:56:53] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/902bd5f" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/902bd5f</a></span>
[07:56:53] <span class="d">&lt;jbossbot&gt; git [jboss-as] 902bd5f.. David M. Lloyd Yep</span>
[07:56:56] <span class="d">&lt;dmlloyd&gt; stuartdouglas: what do you think</span>
[07:57:27] <span class="d">&lt;dmlloyd&gt; argh</span>
[07:57:30] <span class="d">&lt;dmlloyd&gt; the test still fails :)</span>
[07:57:48] <span class="d">&lt;stuartdouglas&gt; mine just hangs</span>
[07:58:00] <span class="d">&lt;dmlloyd&gt; got that last commit?</span>
[07:58:05] <span class="d">&lt;dmlloyd&gt; you'll probably need a clean rebuild</span>
[07:58:37] <span class="d">&lt;dmlloyd&gt; no indication of any problem in the log</span>
[07:59:08] <span class="d">&lt;dmlloyd&gt; ah some junit class failed to load</span>
[07:59:10] <span class="d">&lt;dmlloyd&gt; lame</span>
[08:01:11] <span class="d">&lt;stuartdouglas&gt; I wonder what CL it is using for the deserialization</span>
[08:02:02] <span class="d">&lt;dmlloyd&gt;      * Returns the first non-null class loader (not counting class loaders of</span>
[08:02:02] <span class="d">&lt;dmlloyd&gt;      * generated reflection implementation classes) up the execution stack, or</span>
[08:02:02] <span class="d">&lt;dmlloyd&gt;      * null if only code from the null class loader is on the stack.  This</span>
[08:02:02] <span class="d">&lt;dmlloyd&gt;      * method is also called via reflection by the following RMI-IIOP class:</span>
[08:02:33] <span class="d">&lt;dmlloyd&gt; so it should be using org.jboss.arquillian.protocol.jmx.Utils.class.getClassLoader()</span>
[08:03:06] <span class="d">&lt;stuartdouglas&gt; which has access to bugger all</span>
[08:03:13] <span class="d">&lt;stuartdouglas&gt; I wonder what that ever worked</span>
[08:03:22] <span class="d">&lt;stuartdouglas&gt; why that ever worked</span>
[08:03:34] <span class="d">&lt;dmlloyd&gt; well it's the app CL, probably</span>
[08:03:39] <span class="d">&lt;dmlloyd&gt; so it's just the big flat everything</span>
[08:03:50] <span class="d">&lt;dmlloyd&gt; maybe</span>
[08:03:55] <span class="d">&lt;dmlloyd&gt; maybe not</span>
[08:03:59] <span class="d">&lt;dmlloyd&gt; I guess it's within a module</span>
[08:04:34] <span class="d">&lt;dmlloyd&gt; dunno</span>
[08:05:06] <span class="a">*** pferraro has quit IRC</span>
[08:05:10] <span class="d"></span>
[08:06:47] <span class="d">&lt;dmlloyd&gt; this is like, the last issue</span>
[08:06:55] <span class="d">&lt;dmlloyd&gt; the ultimate, final, terminal, last issue</span>
[08:08:17] <span class="d">&lt;stuartdouglas&gt; it is using the jmx protocol module</span>
[08:08:25] <span class="d">&lt;stuartdouglas&gt; so if we add a junit dep on that</span>
[08:08:34] <span class="d">&lt;stuartdouglas&gt; we can find the next problem</span>
[08:08:34] <span class="c">* dmlloyd tries it</span>
[08:08:39] <span class="d">&lt;dmlloyd&gt; no next problem!</span>
[08:08:39] <span class="d">&lt;dmlloyd&gt; no!</span>
[08:09:58] <span class="d">&lt;dmlloyd&gt; Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.579 sec &lt;&lt;&lt; FAILURE!</span>
[08:09:59] <span class="d">&lt;dmlloyd&gt; dammit</span>
[08:10:25] <span class="d">&lt;dmlloyd&gt; junit.framework.ComparisonFailure: null expected:&lt;[#InterceptorBean##OtherInterceptorBean##BeanParent##BeanWithSimpleInjected#]Hello&gt; but was:&lt;[]Hello&gt;</span>
[08:10:29] <span class="d">&lt;dmlloyd&gt; that's a little goofy</span>
[08:10:41] <span class="d">&lt;stuartdouglas&gt; so, no interceptors</span>
[08:11:09] <span class="d">&lt;dmlloyd&gt; oh</span>
[08:11:15] <span class="d">&lt;dmlloyd&gt; yeah kinda looks that way :(</span>
[08:11:30] <span class="d">&lt;stuartdouglas&gt; better than more jndi crap :-)</span>
[08:11:38] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/044568e" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/044568e</a></span>
[08:11:38] <span class="d">&lt;jbossbot&gt; git [jboss-as] 044568e.. David M. Lloyd Put the thing on the thing</span>
[08:11:40] <span class="d">&lt;dmlloyd&gt; there's that</span>
[08:11:51] <span class="d">&lt;dmlloyd&gt; so the method succeeded at least</span>
[08:12:20] <span class="d">&lt;stuartdouglas&gt; do the smoke tests fail for you if you try and run just one/</span>
[08:12:21] <span class="d">&lt;stuartdouglas&gt; ?</span>
[08:12:32] <span class="d">&lt;dmlloyd&gt; dunno never tried taht</span>
[08:13:22] <span class="d">&lt;dmlloyd&gt; yeah seems to get all confused</span>
[08:13:24] <span class="d">&lt;dmlloyd&gt; some init problem</span>
[08:14:55] <span class="d">&lt;dmlloyd&gt; well I'm going to have to look at this tomorrow</span>
[08:14:57] <span class="d">&lt;dmlloyd&gt; I'm tired as hell</span>
[08:15:14] <span class="d">&lt;stuartdouglas&gt; I should be able to sort out the interceptors tonight</span>
[08:15:17] <span class="d">&lt;dmlloyd&gt; everything I have is pushed out, if you get inspired</span>
[08:15:19] <span class="d">&lt;dmlloyd&gt; ok cool</span>
[08:15:44] <span class="d">&lt;dmlloyd&gt; just leave me a note with the news if any</span>
[08:15:44] <span class="d">&lt;stuartdouglas&gt; It's only 6pm here, the day is still young :-)</span>
[08:15:50] <span class="d">&lt;dmlloyd&gt; ha</span>
[08:15:55] <span class="d">&lt;dmlloyd&gt; later dude</span>
[08:22:52] <span class="b">*** opalka has joined #jboss-as7</span>
[08:22:52] <span class="b">*** opalka has joined #jboss-as7</span>
[08:22:52] <span class="a">*** ChanServ sets mode: +v opalka</span>
[08:48:14] <span class="b">*** irooskov has joined #jboss-as7</span>
[08:48:49] <span class="a">*** irooskov has left #jboss-as7</span>
[08:59:36] <span class="b">*** pil-afk has joined #jboss-as7</span>
[09:04:02] <span class="a">*** bgeorges has quit IRC</span>
[09:14:46] <span class="b">*** irooskov has joined #jboss-as7</span>
[09:21:59] <span class="d">&lt;stuartdouglas&gt; dmlloyd: It works</span>
[09:23:48] <span class="d">&lt;stuartdouglas&gt; however I had to change the name of the parent managed beans @AroundInvoke method so it was not overrien by the subclass</span>
[09:24:34] <span class="d">&lt;stuartdouglas&gt; I also might have CDI injection working, but I will wait to test it tomorrow before I push</span>
[09:25:17] <span class="d">&lt;stuartdouglas&gt; if you merge my ee branch the tests should pass, although I have hit that msc bug a few times</span>
[09:34:28] <span class="b">*** asoldano has joined #jboss-as7</span>
[09:34:36] <span class="a">*** ChanServ sets mode: +v asoldano</span>
[09:36:38] <span class="b">*** torben has joined #jboss-as7</span>
[09:36:38] <span class="a">*** ChanServ sets mode: +v torben</span>
[09:36:43] <span class="b">*** miclorb has joined #jboss-as7</span>
[09:42:23] <span class="a">*** irooskov has quit IRC</span>
[09:45:48] <span class="a">*** emuckenhuber has quit IRC</span>
[09:48:51] <span class="d">&lt;opalka&gt; stuartdouglas, Does AS7 deployment works for U? I'm getting <a href="http://fpaste.org/GjyN/" rel="nofollow" target="_blank">http://fpaste.org/GjyN/</a> on jboss-as master :(</span>
[09:49:19] <span class="d">&lt;opalka&gt; stuartdouglas, all I know it's related to Kabir refactoring steps</span>
[10:05:00] <span class="b">*** aloubyansky has joined #jboss-as7</span>
[10:05:01] <span class="b">*** alesj has joined #jboss-as7</span>
[10:12:19] <span class="b">*** emmanuel has joined #jboss-as7</span>
[10:12:19] <span class="a">*** ChanServ sets mode: +v emmanuel</span>
[10:12:19] <span class="b">*** emuckenhuber has joined #jboss-as7</span>
[10:12:19] <span class="b">*** emuckenhuber has joined #jboss-as7</span>
[10:12:19] <span class="a">*** ChanServ sets mode: +v emuckenhuber</span>
[10:15:39] <span class="b">*** stalep has joined #jboss-as7</span>
[10:27:59] <span class="b">*** kkhan has joined #jboss-as7</span>
[10:27:59] <span class="a">*** ChanServ sets mode: +v kkhan</span>
[10:43:19] <span class="d">&lt;stuartdouglas&gt; opalka: I am also getting that on master</span>
[10:43:36] <span class="d">&lt;stuartdouglas&gt; I have been working on a different branch today so I did not notice</span>
[10:44:18] <span class="d">&lt;opalka&gt; stuartdouglas, yes, I'm creating custom branch too now to workaround this problem. I thought I'll fix it locally, but changes set is too huge to track down the real issue :(</span>
[10:45:50] <span class="d">&lt;stuartdouglas&gt; opalka: Is it just the demo's that are failing for you?</span>
[10:48:56] <span class="d">&lt;opalka&gt; stuartdouglas, yes</span>
[10:49:17] <span class="d">&lt;stuartdouglas&gt; which is kinda odd cause the arquillian smoke tests pass</span>
[10:49:27] <span class="d">&lt;stuartdouglas&gt; maybe something got updated in one but not the other</span>
[10:51:47] <span class="d">&lt;kkhan&gt; They both use the same deployment mechanism so that is strange</span>
[10:52:55] <span class="d">&lt;kkhan&gt; But I can reproduce the problem as well</span>
[10:53:10] <span class="d">&lt;opalka&gt; kkhan, stuartdouglas I was little debugging this problem (hoped I'll fix it and be proactive)</span>
[10:53:23] <span class="d">&lt;opalka&gt; kkhan, stuartdouglas but the change set is too huge and I'm not familiar with protocol code</span>
[10:53:30] <span class="d">&lt;stuartdouglas&gt; It looks like the deployment mechanism is slightly different</span>
[10:53:43] <span class="d">&lt;stuartdouglas&gt; builder = builder.add(archive.getName(), input).andDeploy();</span>
[10:53:46] <span class="d">&lt;stuartdouglas&gt; vs</span>
[10:54:12] <span class="d">&lt;opalka&gt; stuartdouglas, kkhan The connection is closed with deployment client</span>
[10:54:14] <span class="d">&lt;stuartdouglas&gt; builder = deployment.addDeployment(manager, builder);</span>
[10:55:27] <span class="d">&lt;kkhan&gt; I'll be offline most of the day but plan to take a look, if you guys do anything please leave a message here since I can check those easily from my phone</span>
[10:58:54] <span class="d">&lt;kkhan&gt; Right so we have builder.add(deployment, getRealArchive()).deploy(deployment); in demos</span>
[10:59:06] <span class="d">&lt;kkhan&gt; and builder.add(archive.getName(), input).andDeploy(); in arquillian</span>
[11:00:27] <span class="d">&lt;opalka&gt; kkhan, our org.jboss.as.webservices.deployer.RemoteDeployer also uses deploymentManager.newDeploymentPlan().add(url).andDeploy();</span>
[11:02:58] <span class="b">*** wolfc has joined #jboss-as7</span>
[11:02:59] <span class="a">*** ChanServ sets mode: +v wolfc</span>
[11:07:20] <span class="d">&lt;kkhan&gt; I think the problem is that the input stream being created in add(File) or add(URL) gets closed right away: <a href="http://pastebin.com/k92BxkCY" rel="nofollow" target="_blank">http://pastebin.com/k92BxkCY</a></span>
[11:07:29] <span class="d">&lt;kkhan&gt; so there is nothing to send to the server</span>
[11:08:13] <span class="d">&lt;kkhan&gt; That file was DeploymentPlanBuilderImpl</span>
[11:08:59] <span class="d">&lt;kkhan&gt; And then in arquillian AbstractDeployableContainer we have <a href="http://pastebin.com/1jnXUVWV" rel="nofollow" target="_blank">http://pastebin.com/1jnXUVWV</a> which keeps the stream open</span>
[11:09:21] <span class="d">&lt;kkhan&gt; I should be able to fix this on my way to the airport</span>
[11:28:39] <span class="b">*** AndyTaylor has joined #jboss-as7</span>
[11:28:39] <span class="a">*** ChanServ sets mode: +v AndyTaylor</span>
[11:35:10] <span class="b">*** jhalliday has joined #jboss-as7</span>
[11:35:32] <span class="a">*** miclorb has quit IRC</span>
[11:39:38] <span class="a">*** kkhan has quit IRC</span>
[11:57:58] <span class="a">*** torben has quit IRC</span>
[12:04:19] <span class="b">*** torben has joined #jboss-as7</span>
[12:04:19] <span class="b">*** torben has joined #jboss-as7</span>
[12:04:19] <span class="a">*** ChanServ sets mode: +v torben</span>
[12:04:33] <span class="a">*** emmanuel has quit IRC</span>
[12:24:27] <span class="b">*** darranl has joined #jboss-as7</span>
[12:24:37] <span class="b">*** darranl has joined #jboss-as7</span>
[12:24:37] <span class="a">*** ChanServ sets mode: +v darranl</span>
[12:26:02] <span class="b">*** epbernard has joined #jboss-as7</span>
[12:26:02] <span class="a">*** epbernard is now known as emmanuel</span>
[12:26:02] <span class="a">*** ChanServ sets mode: +v emmanuel</span>
[12:28:27] <span class="a">*** emmanuel has quit IRC</span>
[12:28:30] <span class="b">*** epbernard has joined #jboss-as7</span>
[12:28:30] <span class="a">*** epbernard is now known as emmanuel</span>
[12:28:30] <span class="a">*** ChanServ sets mode: +v emmanuel</span>
[12:35:50] <span class="b">*** jcosta has joined #jboss-as7</span>
[12:35:50] <span class="a">*** ChanServ sets mode: +v jcosta</span>
[13:19:33] <span class="a">*** emmanuel has quit IRC</span>
[13:22:04] <span class="b">*** epbernard has joined #jboss-as7</span>
[13:22:04] <span class="a">*** epbernard is now known as emmanuel</span>
[13:22:04] <span class="a">*** ChanServ sets mode: +v emmanuel</span>
[13:24:41] <span class="a">*** torben has quit IRC</span>
[13:26:39] <span class="a">*** emmanuel has quit IRC</span>
[13:27:36] <span class="b">*** smarlow has joined #jboss-as7</span>
[13:27:36] <span class="a">*** ChanServ sets mode: +v smarlow</span>
[13:30:32] <span class="b">*** kkhan has joined #jboss-as7</span>
[13:30:32] <span class="a">*** ChanServ sets mode: +v kkhan</span>
[13:34:03] <span class="b">*** bgeorges has joined #jboss-as7</span>
[13:34:50] <span class="b">*** bgeorges has joined #jboss-as7</span>
[13:37:20] <span class="d">&lt;kkhan&gt; opalka: My deployment branch contains a fix to make demos work. It is likely to change a fair bit, so up to you is you want it or not...</span>
[13:37:58] <span class="d">&lt;opalka&gt; kkhan, I'll wait until it's applied upstream. I set up local (working) branch in the mean time. Thanks for fixing that!</span>
[13:38:41] <span class="a">*** kkhan has quit IRC</span>
[13:38:41] <span class="d">&lt;opalka&gt; kkhan, Anyway I'll have a look to the fix ;)</span>
[13:44:32] <span class="b">*** stansilvert has joined #jboss-as7</span>
[13:47:10] <span class="b">*** torben has joined #jboss-as7</span>
[13:47:10] <span class="a">*** ChanServ sets mode: +v torben</span>
[14:01:35] <span class="b">*** epbernard has joined #jboss-as7</span>
[14:01:35] <span class="a">*** epbernard is now known as emmanuel</span>
[14:01:35] <span class="a">*** ChanServ sets mode: +v emmanuel</span>
[14:04:53] <span class="a">*** balunasj_away is now known as balunasj_mtg</span>
[14:06:25] <span class="a">*** pil-afk is now known as pilhuhn</span>
[14:06:29] <span class="b">*** pilhuhn has joined #jboss-as7</span>
[14:08:59] <span class="b">*** smcgowan has joined #jboss-as7</span>
[14:08:59] <span class="a">*** ChanServ sets mode: +v smcgowan</span>
[14:09:14] <span class="b">*** mmoyses has joined #jboss-as7</span>
[14:09:14] <span class="a">*** ChanServ sets mode: +v mmoyses</span>
[14:10:24] <span class="b">*** jpederse has joined #jboss-as7</span>
[14:10:29] <span class="b">*** jpederse has joined #jboss-as7</span>
[14:12:09] <span class="a">*** AndyTaylor has quit IRC</span>
[14:31:35] <span class="b">*** davidbos has joined #jboss-as7</span>
[14:39:28] <span class="a">*** smarlow has quit IRC</span>
[14:50:52] <span class="b">*** bstansberry has joined #jboss-as7</span>
[14:50:52] <span class="a">*** ChanServ sets mode: +v bstansberry</span>
[14:57:37] <span class="b">*** rmaucher has joined #jboss-as7</span>
[14:59:14] <span class="b">*** smarlow has joined #jboss-as7</span>
[14:59:14] <span class="a">*** ChanServ sets mode: +v smarlow</span>
[14:59:38] <span class="b">*** AndyTaylor has joined #jboss-as7</span>
[14:59:38] <span class="a">*** ChanServ sets mode: +v AndyTaylor</span>
[15:11:27] <span class="b">*** echelog-2` has joined #jboss-as7</span>
[15:12:18] <span class="d">&lt;dmlloyd&gt; awesome.</span>
[15:12:58] <span class="d">&lt;rmaucher&gt; Add cross context (enabled by default) and a flag to disable it: <a href="https://github.com/rmaucher/jboss-as/commit/839fde8e4857fac09f5c0976715c2489d611aba5" rel="nofollow" target="_blank">https://github.com/rmaucher/jboss-as/commit/839fde8e4857fac09f5c0976715c2489d611aba5</a></span>
[15:12:59] <span class="d"></span>
[15:14:31] <span class="d"></span>
[15:14:31] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master URL: <a href="http://github.com/jbossas/jboss-as/compare/41a4f86...839fde8" rel="nofollow" target="_blank">http://github.com/jbossas/jboss-as/compare/41a4f86...839fde8</a></span>
[15:15:03] <span class="d">&lt;rmaucher&gt; hum, that was fast ;)</span>
[15:15:58] <span class="d">&lt;dmlloyd&gt; :)</span>
[15:16:05] <span class="d">&lt;emuckenhuber&gt; bstansberry: hey, can you look at the commits at: <a href="https://github.com/emuckenhuber/jboss-as/commits/wildcards2" rel="nofollow" target="_blank">https://github.com/emuckenhuber/jboss-as/commits/wildcards2</a></span>
[15:16:58] <span class="d">&lt;bstansberry&gt; sure; will do</span>
[15:17:18] <span class="d">&lt;emuckenhuber&gt; thanks!</span>
[15:17:44] <span class="b">*** pferraro has joined #jboss-as7</span>
[15:17:44] <span class="a">*** ChanServ sets mode: +v pferraro</span>
[15:18:15] <span class="d">&lt;dmlloyd&gt; <a href="https://github.com/dmlloyd/jboss-as/tree/ee-merge" rel="nofollow" target="_blank">https://github.com/dmlloyd/jboss-as/tree/ee-merge</a></span>
[15:18:37] <span class="d">&lt;dmlloyd&gt; <a href="https://github.com/dmlloyd/jboss-as/commit/407c2f14d12" rel="nofollow" target="_blank">https://github.com/dmlloyd/jboss-as/commit/407c2f14d12</a></span>
[15:18:38] <span class="d">&lt;jbossbot&gt; git [jboss-as] 407c2f1.. David M. Lloyd Rework EE Component model for extensibility into EJBs and beyond</span>
[15:19:34] <span class="d">&lt;dmlloyd&gt; gonna merge that if I can get a thumbs-up</span>
[15:19:45] <span class="a">*** stansilvert has quit IRC</span>
[15:20:15] <span class="b">*** pgier has joined #jboss-as7</span>
[15:20:15] <span class="a">*** ChanServ sets mode: +v pgier</span>
[15:27:14] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master 5c1a470.. David M. Lloyd Fix use of newFactory()</span>
[15:27:14] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master URL: <a href="http://github.com/jbossas/jboss-as/compare/839fde8...5c1a470" rel="nofollow" target="_blank">http://github.com/jbossas/jboss-as/compare/839fde8...5c1a470</a></span>
[15:33:38] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master 796149c.. Richard Opalka use dynamic aspects ordering (algorithms is O(1) complexity) and switch to aggregation module instead of hardcoded paths in source code</span>
[15:33:39] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master URL: <a href="http://github.com/jbossas/jboss-as/compare/5c1a470...796149c" rel="nofollow" target="_blank">http://github.com/jbossas/jboss-as/compare/5c1a470...796149c</a></span>
[15:34:06] <span class="d">&lt;dmlloyd&gt; opalka: I rebased that on a couple of trivial commits</span>
[15:34:15] <span class="d">&lt;opalka&gt; dmlloyd, Thanks David</span>
[15:35:47] <span class="d">&lt;davidbos&gt; Hi - Would someone have a moment to pull my rebased version of Thomas' changes? See pull request email with title 'Update OSGi framework to modules Beta14, fix most smoke tests'.</span>
[15:37:05] <span class="d">&lt;dmlloyd&gt; which branch, davidbos?</span>
[15:37:30] <span class="d">&lt;davidbos&gt; dmlloyd: branch jbosgi_to_modules_b14 on <a href="https://github.com/bosschaert/jboss-as/commits/jbosgi_to_modules_b14" rel="nofollow" target="_blank">https://github.com/bosschaert/jboss-as/commits/jbosgi_to_modules_b14</a></span>
[15:38:19] <span class="d">&lt;dmlloyd&gt; ok testing now (I rebased it again on above chages)</span>
[15:38:42] <span class="d">&lt;davidbos&gt; dmlloyd: many thanks !</span>
[15:39:55] <span class="d">&lt;wolfc&gt; I'm close to done with bringing in pool impls. Then I'll dig through the ee branch.</span>
[15:40:14] <span class="d">&lt;dmlloyd&gt; I'm going to merge the ee branch into master in about 25 minutes, wolfc</span>
[15:40:17] <span class="d">&lt;dmlloyd&gt; (finally)</span>
[15:40:38] <span class="d">&lt;dmlloyd&gt; just want to get everyone else's stuff in first</span>
[15:40:49] <span class="d">&lt;wolfc&gt; Yeah, probably best to just push forward. I would say no regression = commit.</span>
[15:41:33] <span class="d">&lt;dmlloyd&gt; unfortunately it seems to expose a bug in MSC, but it's sporadic, so hopefully we can live with it until I get a chance to investigate that</span>
[15:42:01] <span class="a">*** maeste has quit IRC</span>
[15:42:03] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master b6590a2.. David Bosschaert Rebase and squash of Thomas' OSGi changes to move up to Modules Beta14...</span>
[15:42:03] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master URL: <a href="http://github.com/jbossas/jboss-as/compare/796149c...b6590a2" rel="nofollow" target="_blank">http://github.com/jbossas/jboss-as/compare/796149c...b6590a2</a></span>
[15:44:17] <span class="d">&lt;davidbos&gt; dmlloyd: thanks again</span>
[15:44:44] <span class="d">&lt;dmlloyd&gt; no prob.</span>
[15:45:06] <span class="d">&lt;dmlloyd&gt; btw, davidbos, did you see our earlier discussion about OSGi and how it affects EE deployments?</span>
[15:45:38] <span class="d">&lt;davidbos&gt; dmlloyd: no, where was it held?</span>
[15:45:46] <span class="d">&lt;dmlloyd&gt; here I think</span>
[15:46:10] <span class="d">&lt;dmlloyd&gt; basically what happens is, if someone has e.g. a JDBC driver deployment that happens to have OSGi annotations on it, nothing in EE can &quot;see&quot; it</span>
[15:46:26] <span class="d">&lt;dmlloyd&gt; ultimately we'd like to at least try to get OSGi using approximately the same module processing as everything else, so that something can be deployed and be visible to OSGi and also EE</span>
[15:46:39] <span class="d">&lt;davidbos&gt; dmlloyd: yes, that would make sense</span>
[15:46:44] <span class="d">&lt;dmlloyd&gt; I may be oversimplifying the problem statement a little ;)</span>
[15:47:10] <span class="d">&lt;dmlloyd&gt; anyway it's not a show-stopper (at least I don't think it is) but it's something to think about</span>
[15:47:42] <span class="d">&lt;dmlloyd&gt; the tricky question is, is it possible to conform to both the OSGi class loading rules and the EE class loading rules?</span>
[15:47:59] <span class="d">&lt;davidbos&gt; It's a good question.</span>
[15:48:22] <span class="d">&lt;davidbos&gt; But ultimately an OSGi module gets mapped to a jboss-module</span>
[15:48:45] <span class="d">&lt;davidbos&gt; so in *theory* it should be possible to depend on that module from anything that runs in EE</span>
[15:48:53] <span class="d">&lt;davidbos&gt; as long as it can depend on another jboss-module</span>
[15:49:28] <span class="d">&lt;davidbos&gt; dmlloyd: let's have this conversation with Thomas when he's back (next week I think). I know he also has some good ideas about this.</span>
[15:49:42] <span class="d">&lt;dmlloyd&gt; okay.</span>
[15:49:57] <span class="d">&lt;davidbos&gt; but the whole point about OSGi in AS7 is that it can cross borders with EE and integrate with it</span>
[15:50:01] <span class="d">&lt;dmlloyd&gt; yes</span>
[15:50:04] <span class="d">&lt;davidbos&gt; and vice versa</span>
[15:50:09] <span class="d">&lt;davidbos&gt; so this is a good use-case</span>
[15:50:28] <span class="d">&lt;dmlloyd&gt; I think it was the H2 driver which first brought up the problem</span>
[15:51:30] <span class="d">&lt;davidbos&gt; Is there a JIRA for this by any chance?</span>
[15:51:44] <span class="d">&lt;dmlloyd&gt; hmm probably not</span>
[15:54:21] <span class="b">*** mbg has joined #jboss-as7</span>
[15:54:22] <span class="a">*** ChanServ sets mode: +v mbg</span>
[15:55:00] <span class="a">*** AndyTaylor has quit IRC</span>
[16:03:46] <span class="d">&lt;Nihility&gt; The problem is that jars include osgi manifest entries just so they are runnable on an osgi env, so they aren't *true* bundles per se</span>
[16:03:59] <span class="d">&lt;dmlloyd&gt; ok guys, so the EE stuff works most of the time</span>
[16:04:02] <span class="d">&lt;dmlloyd&gt; so I'm gonna push it</span>
[16:04:05] <span class="d">&lt;dmlloyd&gt; 30 seconds to object!</span>
[16:04:16] <span class="d">&lt;Nihility&gt; No objections</span>
[16:04:34] <span class="d">&lt;dmlloyd&gt; time's up!</span>
[16:04:41] <span class="d">&lt;Nihility&gt; and my opinion counts twice!</span>
[16:04:46] <span class="d">&lt;Nihility&gt; Hahahahha</span>
[16:04:47] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master 98592f3.. David M. Lloyd Rework EE Component model for extensibility into EJBs and beyond</span>
[16:04:47] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master URL: <a href="http://github.com/jbossas/jboss-as/compare/b6590a2...98592f3" rel="nofollow" target="_blank">http://github.com/jbossas/jboss-as/compare/b6590a2...98592f3</a></span>
[16:04:51] <span class="d">&lt;dmlloyd&gt; there it is</span>
[16:04:59] <span class="d">&lt;dmlloyd&gt; now everyone can suffer like I have</span>
[16:05:27] <span class="d">&lt;dmlloyd&gt; it's not shown on there but that owes a huge thanks to stuartdouglas and baileyje who worked really hard on getting this done</span>
[16:05:36] <span class="a">*** torben is now known as torben|brb</span>
[16:06:02] <span class="d">&lt;Nihility&gt; I think a good temporary workaround for the h2 issue is to have some kind of way to ignore osgi or strip osgi stuff on a config basis</span>
[16:06:15] <span class="d">&lt;davidbos&gt; Nihility: any jar with a Bundle-SymbolicName manifest header is a valid OSGi bundle</span>
[16:06:29] <span class="d">&lt;Nihility&gt; Right I don't mean it's invalid</span>
[16:06:39] <span class="d">&lt;davidbos&gt; you see quite often that projects put the OSGi headers in to make it work both in plain JRE and in OSGi</span>
[16:07:12] <span class="d">&lt;Nihility&gt; I just mean that they are just supporting osgi, not requiring it</span>
[16:07:20] <span class="d">&lt;davidbos&gt; yes</span>
[16:07:43] <span class="d">&lt;Nihility&gt; Unfortunately it's impossible to know the difference</span>
[16:08:02] <span class="d">&lt;davidbos&gt; I think it's a great use case exposes exactly what we should be able to support with OSGi in AS7</span>
[16:08:37] <span class="d">&lt;Nihility&gt; Yeah in theory we should just support mixing and it should just work</span>
[16:08:49] <span class="d">&lt;davidbos&gt; yep, that is definitely the goal</span>
[16:09:03] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master 9e0af27.. Emanuel Muckenhuber use the actual server name instead of process name</span>
[16:09:04] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master 94dac08.. Emanuel Muckenhuber basic wildcard handling</span>
[16:09:04] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master d1e04d9.. Emanuel Muckenhuber include address in operation result</span>
[16:09:04] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master d90ca72.. Emanuel Muckenhuber basic operations smoke test</span>
[16:09:04] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master URL: <a href="http://github.com/jbossas/jboss-as/compare/98592f3...d90ca72" rel="nofollow" target="_blank">http://github.com/jbossas/jboss-as/compare/98592f3...d90ca72</a></span>
[16:12:02] <span class="d">&lt;wolfc&gt; dmlloyd, so what's needed next?</span>
[16:12:18] <span class="d">&lt;dmlloyd&gt; next, we need to merge EJB :)</span>
[16:12:25] <span class="d">&lt;wolfc&gt; Cool</span>
[16:12:32] <span class="d">&lt;dmlloyd&gt; getting that rebased will be a trick</span>
[16:12:45] <span class="d">&lt;dmlloyd&gt; iirc some of your commits will come right over but some will need to be almost completely changed</span>
[16:12:47] <span class="d">&lt;wolfc&gt; Maybe we should start again from scratch</span>
[16:13:09] <span class="d">&lt;dmlloyd&gt; do not say such depressing things :)</span>
[16:13:16] <span class="d">&lt;wolfc&gt; hehe</span>
[16:14:14] <span class="d">&lt;dmlloyd&gt; first would be <a href="https://github.com/wolfc/jboss-as/commit/e24a3f6964a" rel="nofollow" target="_blank">https://github.com/wolfc/jboss-as/commit/e24a3f6964a</a></span>
[16:14:15] <span class="d">&lt;jbossbot&gt; git [jboss-as] e24a3f6.. jaikiran Introduce a ContextComponentProcessor for setting up Service for java:comp</span>
[16:14:26] <span class="a">*** emuckenhuber is now known as emuckenh_afk</span>
[16:14:41] <span class="d">&lt;dmlloyd&gt; this one could be ported over but I don't think we should bother with the NamespaceSelectorService</span>
[16:14:50] <span class="d">&lt;dmlloyd&gt; the selector could just be built up right on the Component</span>
[16:15:03] <span class="d">&lt;dmlloyd&gt; it's only ever going to be used within a component interceptor anyway</span>
[16:15:30] <span class="d">&lt;wolfc&gt; yup</span>
[16:15:52] <span class="d">&lt;dmlloyd&gt; I actually removed it (mostly) from MBs because they have no use for it</span>
[16:16:17] <span class="d">&lt;wolfc&gt; Keep also <a href="https://github.com/wolfc/jboss-as/commit/296e4aaf652c7e0983d25346f15cdaa3b83c72be" rel="nofollow" target="_blank">https://github.com/wolfc/jboss-as/commit/296e4aaf652c7e0983d25346f15cdaa3b83c72be</a> in mind</span>
[16:16:17] <span class="d">&lt;jbossbot&gt; git [jboss-as] 296e4aa.. Carlo de Wolf Allow injection on the component itself</span>
[16:16:40] <span class="d">&lt;dmlloyd&gt; we shouldn't need that anymore, but we can discuss that when we get to it</span>
[16:18:00] <span class="d">&lt;wolfc&gt; Yeah, I need to read through the code to see where the namespaces are now hidden :-)</span>
[16:19:38] <span class="d">&lt;wolfc&gt; Where do you now setup the env ref group that is associated with a MB?</span>
[16:19:51] <span class="d">&lt;dmlloyd&gt; it's in MSC</span>
[16:19:59] <span class="d">&lt;dmlloyd&gt; the MB doesn't actually do any lookups from it</span>
[16:20:11] <span class="d">&lt;dmlloyd&gt; so no context is needed, theoretically</span>
[16:20:20] <span class="d">&lt;dmlloyd&gt; er</span>
[16:20:24] <span class="d">&lt;dmlloyd&gt; no namespaceselector</span>
[16:22:03] <span class="d">&lt;wolfc&gt; how do you deal with a jar containing only MBs?</span>
[16:22:29] <span class="d">&lt;dmlloyd&gt; they just kinda sit out there</span>
[16:22:48] <span class="d">&lt;dmlloyd&gt; unless you do something like we do in smoke tests where you hack in something to look one up from java:module</span>
[16:22:51] <span class="d">&lt;dmlloyd&gt; or java:app</span>
[16:23:12] <span class="d">&lt;dmlloyd&gt; it uses the caller's namespace selector then</span>
[16:23:38] <span class="d">&lt;dmlloyd&gt; the dep wiring is a little funny but as long as you only use it within the same module or app it's probably ok</span>
[16:23:40] <span class="d">&lt;dmlloyd&gt; most of the time</span>
[16:24:06] <span class="d">&lt;wolfc&gt; Yeah, I'm not going to think about it for the moment :-)</span>
[16:24:16] <span class="d">&lt;dmlloyd&gt; :)</span>
[16:24:33] <span class="d">&lt;dmlloyd&gt; EJB makes much more sense</span>
[16:27:32] <span class="d">&lt;Nihility&gt; you only are supposed to use them in the same app</span>
[16:27:52] <span class="d">&lt;Nihility&gt; at least today that is</span>
[16:27:55] <span class="d">&lt;wolfc&gt; Which still leaves cross module a bit icky</span>
[16:27:58] <span class="d">&lt;dmlloyd&gt; even in the same app it's a *little* sketchy right now</span>
[16:27:59] <span class="d">&lt;dmlloyd&gt; yeah</span>
[16:28:03] <span class="d">&lt;dmlloyd&gt; just don't think about it</span>
[16:28:09] <span class="d">&lt;wolfc&gt; Exactly :-)</span>
[16:28:16] <span class="d">&lt;Nihility&gt; but technically someone can bind a ref to it in the global ns</span>
[16:28:20] <span class="d">&lt;dmlloyd&gt; shhh</span>
[16:28:34] <span class="d">&lt;Nihility&gt; You just do @resource on your mb</span>
[16:28:42] <span class="d">&lt;Nihility&gt; And give it a name in global</span>
[16:28:54] <span class="d">&lt;dmlloyd&gt; name is always relative, thankfully</span>
[16:28:55] <span class="d">&lt;wolfc&gt; I still see a NamespaceSelectorService in ModuleContextProcessor.</span>
[16:29:11] <span class="d">&lt;dmlloyd&gt; yeah the thing still exists, wolfc, it's just not really wired up right now</span>
[16:29:17] <span class="d">&lt;Nihility&gt; Sure th mb name is relative</span>
[16:29:23] <span class="d">&lt;wolfc&gt; I think the question is how do we setup the relationship of Component to the namespaces?</span>
[16:29:30] <span class="d">&lt;Nihility&gt; But the resource name that creates the alias isn't</span>
[16:30:02] <span class="d">&lt;dmlloyd&gt; wolfc, in terms of binding, you don't need to worry about it because it's automatic (just set naming mode to CREATE to make sure you have a comp: namespace)</span>
[16:30:30] <span class="d">&lt;dmlloyd&gt; wolfc: that also covers injection and MSC deps</span>
[16:30:43] <span class="d">&lt;Nihility&gt; on the plus side no one is probably ever going to know you can do that or expect it to work</span>
[16:30:53] <span class="d">&lt;dmlloyd&gt; in terms of getting a selector for your interceptor for lookups, that's something we need to add, but it's pretty small</span>
[16:30:54] <span class="d">&lt;wolfc&gt; Well I'm looking at <a href="https://github.com/wolfc/jboss-as/commit/e24a3f6964a4f01d42676e940c7c09db719f6281#L2R43" rel="nofollow" target="_blank">https://github.com/wolfc/jboss-as/commit/e24a3f6964a4f01d42676e940c7c09db719f6281#L2R43</a></span>
[16:30:55] <span class="d">&lt;jbossbot&gt; git [jboss-as] e24a3f6.. jaikiran Introduce a ContextComponentProcessor for setting up Service for java:comp</span>
[16:31:13] <span class="d">&lt;wolfc&gt; Either a NSS is injected into Component or the three separate namespaces</span>
[16:31:50] <span class="d">&lt;dmlloyd&gt; hmm, yeah, that should be part of the component install processor</span>
[16:32:12] <span class="d">&lt;dmlloyd&gt; because the other two namespaces will already exist</span>
[16:32:20] <span class="d">&lt;dmlloyd&gt; so we just need one comp per, uh, comp</span>
[16:32:26] <span class="d">&lt;dmlloyd&gt; (if the naming mode == CREATE)</span>
[16:32:32] <span class="d">&lt;dmlloyd&gt; (which it won't be in a servlet)</span>
[16:32:37] <span class="d">&lt;dmlloyd&gt; (before you ask that:)</span>
[16:33:36] <span class="a">*** opalka has quit IRC</span>
[16:34:36] <span class="a">*** bgeorges has quit IRC</span>
[16:44:08] <span class="d">&lt;wolfc&gt; Okay, so the actual injection of either NSS of namespaces is now gone from ComponentInstallProcessor</span>
[16:44:38] <span class="d">&lt;dmlloyd&gt; yeah but I'm looking at it again right now</span>
[16:45:05] <span class="d">&lt;dmlloyd&gt; even though some component types don't have them it might be better to just have a general thing for dealing with namespaces...</span>
[16:45:16] <span class="d">&lt;wolfc&gt; while you're there we need to think about injecting other services, like TransactionManager and RarDeploymentRegistry and such</span>
[16:47:06] <span class="d">&lt;dmlloyd&gt; yeah those should definitely be deps, but not reflective</span>
[16:47:33] <span class="d">&lt;dmlloyd&gt; those are generally system wide right?</span>
[16:47:43] <span class="d">&lt;dmlloyd&gt; you're not going to have some EJBs with a txn interceptor and some not?</span>
[16:48:03] <span class="d">&lt;wolfc&gt; true. I don't think we want to allow that.</span>
[16:48:14] <span class="d">&lt;wolfc&gt; <a href="https://github.com/wolfc/jboss-as/commit/296e4aaf652c7e0983d25346f15cdaa3b83c72be#L0R69" rel="nofollow" target="_blank">https://github.com/wolfc/jboss-as/commit/296e4aaf652c7e0983d25346f15cdaa3b83c72be#L0R69</a> is just ugly</span>
[16:48:15] <span class="d">&lt;jbossbot&gt; git [jboss-as] 296e4aa.. Carlo de Wolf Allow injection on the component itself</span>
[16:49:11] <span class="a">*** mmoyses is now known as mmoyses_</span>
[16:49:12] <span class="d">&lt;wolfc&gt; but we can have it cleaner by using a MSC Injector</span>
[16:49:15] <span class="d">&lt;dmlloyd&gt; we probably want to have a single service which assembles all that stuff, with optional dependencies on the other subsystems</span>
[16:49:29] <span class="d">&lt;wolfc&gt; why not the component start?</span>
[16:49:34] <span class="d">&lt;dmlloyd&gt; then every component would simply inject that service's value with all the stuff pre-assembled</span>
[16:49:43] <span class="d">&lt;wolfc&gt; ah</span>
[16:49:59] <span class="d">&lt;wolfc&gt; In that case an EJBContainer service</span>
[16:50:03] <span class="d">&lt;dmlloyd&gt; and all your cross-subsystem logic, or at least a lot of it, is in one place</span>
[16:52:30] <span class="d">&lt;wolfc&gt; Note that EJBContainer is a loaded name, <a href="http://download.oracle.com/javaee/6/api/javax/ejb/embeddable/EJBContainer.html" rel="nofollow" target="_blank">http://download.oracle.com/javaee/6/api/javax/ejb/embeddable/EJBContainer.html</a></span>
[16:53:56] <span class="d">&lt;wolfc&gt; So we can go for EJBService instead, but I do see a conceptual similarity. In theory you could boot up an EJBContainer without JCA and one with for example (not spec).</span>
[16:54:05] <span class="d">&lt;wolfc&gt; s/with/without/</span>
[17:01:08] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/f61db31" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/f61db31</a></span>
[17:01:09] <span class="d">&lt;jbossbot&gt; git [jboss-as] f61db31.. David M. Lloyd Give every component a namespace selector, even if it is not gonna use it</span>
[17:01:15] <span class="d">&lt;dmlloyd&gt; that should take care of that part of it at least</span>
[17:01:33] <span class="d">&lt;dmlloyd&gt; namespace selector is available after start</span>
[17:02:03] <span class="a">*** torben|brb is now known as torben</span>
[17:13:32] <span class="d">&lt;wolfc&gt; dmlloyd, to be on the safe side, maybe return moduleContext if compContext == null</span>
[17:15:27] <span class="d">&lt;dmlloyd&gt; if that's the case then a different naming mode should be used</span>
[17:16:24] <span class="d">&lt;wolfc&gt; then we might be missing some safe guards, but that's a secondary concern</span>
[17:23:21] <span class="d">&lt;dmlloyd&gt; so next is <a href="https://github.com/wolfc/jboss-as/commit/01992a3ce" rel="nofollow" target="_blank">https://github.com/wolfc/jboss-as/commit/01992a3ce</a> I guess</span>
[17:23:21] <span class="d">&lt;jbossbot&gt; git [jboss-as] 01992a3.. Carlo de Wolf Single element domain parser</span>
[17:24:12] <span class="d">&lt;wolfc&gt; The goal here is two-fold, we may want to split it</span>
[17:24:23] <span class="d">&lt;wolfc&gt; 1. get something in domain.xml</span>
[17:24:23] <span class="a">*** mbg has quit IRC</span>
[17:24:36] <span class="d">&lt;wolfc&gt; 2. cache configuration via domain</span>
[17:25:52] <span class="d">&lt;dmlloyd&gt; well, neither of which is as important as getting EJBs deployed</span>
[17:25:55] <span class="d">&lt;dmlloyd&gt; to be frank</span>
[17:26:05] <span class="d">&lt;wolfc&gt; exactly, we already got a subsystem element</span>
[17:26:17] <span class="d">&lt;wolfc&gt; skip this till later</span>
[17:26:20] <span class="d">&lt;dmlloyd&gt; we could have no config at all and we'd satisfy the Beta1 requirement if all the EJB types can be deployed and injection works</span>
[17:26:30] <span class="d">&lt;dmlloyd&gt; ok this is getting easier :)</span>
[17:26:52] <span class="d">&lt;dmlloyd&gt; <a href="https://github.com/wolfc/jboss-as/commit/20e7edf84a8749c9" rel="nofollow" target="_blank">https://github.com/wolfc/jboss-as/commit/20e7edf84a8749c9</a></span>
[17:26:52] <span class="d">&lt;jbossbot&gt; git [jboss-as] 20e7edf.. Carlo de Wolf Fixed extension imports</span>
[17:26:57] <span class="d">&lt;wolfc&gt; next :-)</span>
[17:26:59] <span class="d">&lt;dmlloyd&gt; looks like a simple build fixup</span>
[17:27:09] <span class="d">&lt;Nihility&gt; great work guys!</span>
[17:27:21] <span class="d">&lt;dmlloyd&gt; do you want to start a new branch and start cherry-picking these, wolfc?</span>
[17:27:31] <span class="d">&lt;dmlloyd&gt; or do you want me to?</span>
[17:27:55] <span class="d">&lt;wolfc&gt; whatever gets stuff as fast as possible in master</span>
[17:28:17] <span class="d">&lt;dmlloyd&gt; ok well I can do it, the result might just be a bit rougher :)</span>
[17:28:27] <span class="d">&lt;wolfc&gt; Dinner is up on my end</span>
[17:28:38] <span class="d">&lt;wolfc&gt; The next one is ejb-jar parsing, that one is important.</span>
[17:29:13] <span class="d">&lt;wolfc&gt; It also includes the xerces ban :-)</span>
[17:29:49] <span class="d">&lt;wolfc&gt; I'm first going to get some grub</span>
[17:30:29] <span class="d">&lt;alesj&gt; wolfc: and some bacos ;-)</span>
[17:30:30] <span class="d">&lt;Nihility&gt; wolfc: i have made major progress in xml hell</span>
[17:31:09] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/9d6ab25" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/9d6ab25</a></span>
[17:31:10] <span class="d">&lt;jbossbot&gt; git [jboss-as] 9d6ab25.. David M. Lloyd Fixed extension imports</span>
[17:31:56] <span class="d">&lt;dmlloyd&gt; I'll simply skip the xerces parts on <a href="https://github.com/wolfc/jboss-as/commit/dcbb3c4691" rel="nofollow" target="_blank">https://github.com/wolfc/jboss-as/commit/dcbb3c4691</a> I think</span>
[17:31:57] <span class="d">&lt;jbossbot&gt; git [jboss-as] dcbb3c4.. jaikiran Initial work on ejb-jar.xml parsing deployment unit processor...</span>
[17:32:02] <span class="d">&lt;dmlloyd&gt; and hope for the best after the modules release</span>
[17:32:24] <span class="a">*** smcgowan has quit IRC</span>
[17:32:33] <span class="d">&lt;Nihility&gt; isnt it funny how we call cpus 64 bit</span>
[17:33:07] <span class="d">&lt;Nihility&gt; has there ever been a mainstream cpu that did not have a byte multiplier register size?</span>
[17:33:11] <span class="d">&lt;wolfc&gt; just make sure the smoke-tests pass</span>
[17:33:20] <span class="c">* wolfc is running away for food now</span>
[17:33:47] <span class="d">&lt;Nihility&gt; cough dmlloyd</span>
[17:33:48] <span class="d">&lt;Nihility&gt; :)</span>
[17:34:01] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/115a4d2" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/115a4d2</a></span>
[17:34:01] <span class="d">&lt;jbossbot&gt; git [jboss-as] 115a4d2.. David M. Lloyd Initial work on ejb-jar.xml parsing deployment unit processor - jaikiran, carlo</span>
[17:34:14] <span class="d">&lt;dmlloyd&gt; not that I know of Nihility</span>
[17:34:20] <span class="d">&lt;dmlloyd&gt; not since the 70s anyway</span>
[17:34:21] <span class="d">&lt;Nihility&gt; there is a conflict in that patch</span>
[17:34:33] <span class="d">&lt;dmlloyd&gt; really, thought I found em all</span>
[17:34:34] <span class="d">&lt;dmlloyd&gt; dammit</span>
[17:34:59] <span class="d">&lt;Nihility&gt; thats one thing i noticed about git vs svn</span>
[17:35:07] <span class="d">&lt;Nihility&gt; if you tell it a file is resolved</span>
[17:35:09] <span class="d">&lt;Nihility&gt; it believes you</span>
[17:35:22] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/94eaf25" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/94eaf25</a></span>
[17:35:23] <span class="d">&lt;jbossbot&gt; git [jboss-as] 94eaf25.. David M. Lloyd Initial work on ejb-jar.xml parsing deployment unit processor - jaikiran, carlo</span>
[17:36:09] <span class="d">&lt;dmlloyd&gt; the adding of the jboss-metadata-ejb thing has a few problems</span>
[17:36:11] <span class="d">&lt;dmlloyd&gt; 1) it's a snapshot</span>
[17:36:19] <span class="d">&lt;dmlloyd&gt; 2) the version isn't managed in the parent pom</span>
[17:36:22] <span class="d">&lt;dmlloyd&gt; 3) jbossxb, eesh</span>
[17:36:30] <span class="d">&lt;dmlloyd&gt; so that's a todo item</span>
[17:37:58] <span class="d">&lt;dmlloyd&gt; .. and <a href="https://github.com/wolfc/jboss-as/commit/ae844e775" rel="nofollow" target="_blank">https://github.com/wolfc/jboss-as/commit/ae844e775</a> fixes two of those three problems...</span>
[17:37:59] <span class="d">&lt;jbossbot&gt; git [jboss-as] ae844e7.. Carlo de Wolf Moved jboss-metadata-ejb version to dependency management</span>
[17:39:15] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/9824ba1" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/9824ba1</a></span>
[17:39:16] <span class="d">&lt;jbossbot&gt; git [jboss-as] 9824ba1.. David M. Lloyd Moved jboss-metadata-ejb version to dependency management - jaikiran</span>
[17:39:28] <span class="a">*** asoldano is now known as asoldano_away</span>
[17:39:41] <span class="d">&lt;Nihility&gt; it uses xb?</span>
[17:40:03] <span class="d">&lt;dmlloyd&gt; it's a transitive dep of the metadata lib</span>
[17:40:09] <span class="d">&lt;dmlloyd&gt; not new with this patch</span>
[17:40:24] <span class="d">&lt;Nihility&gt; oh so its not jfcs new metadata lib</span>
[17:40:28] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/6d3fc93" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/6d3fc93</a> came over clean</span>
[17:40:29] <span class="d">&lt;jbossbot&gt; git [jboss-as] 6d3fc93.. Carlo de Wolf Created ejb3 demo</span>
[17:40:51] <span class="b">*** maxandersen has joined #jboss-as7</span>
[17:40:51] <span class="a">*** ChanServ sets mode: +v maxandersen</span>
[17:41:17] <span class="d">&lt;maxandersen&gt; bstansberry: just saw your post ;) can't wait to have a build somehow...</span>
[17:42:09] <span class="d">&lt;bstansberry&gt; <a href="http://community.jboss.org/wiki/HackingonAS7" rel="nofollow" target="_blank">http://community.jboss.org/wiki/HackingonAS7</a> ;)</span>
[17:42:40] <span class="d">&lt;maxandersen&gt; bstansberry: yeah I know but i'm not the one to work on this  right now ;)</span>
[17:43:29] <span class="d">&lt;maxandersen&gt; so any challenges found in it or was it &quot;straightforward&quot; ?</span>
[17:46:16] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/7abf5ba" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/7abf5ba</a></span>
[17:46:17] <span class="d">&lt;jbossbot&gt; git [jboss-as] 7abf5ba.. David M. Lloyd Enabled EjbJarParsingDeploymentUnitProcessor - wolfc</span>
[17:46:57] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/82fc4f0" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/82fc4f0</a></span>
[17:46:58] <span class="d">&lt;jbossbot&gt; git [jboss-as] 82fc4f0.. jaikiran Change the version of xml to 1.1 to prevent the javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,39] Message: Premature end of file.</span>
[17:47:25] <span class="a">*** balunasj_mtg is now known as balunasj_busy</span>
[17:47:41] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/41de561" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/41de561</a></span>
[17:47:42] <span class="d">&lt;jbossbot&gt; git [jboss-as] 41de561.. Carlo de Wolf Cleanup module dependencies</span>
[17:50:31] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/9601989" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/9601989</a></span>
[17:50:31] <span class="d">&lt;jbossbot&gt; git [jboss-as] 9601989.. David M. Lloyd Initial attempt at StatelessEJBComponent for deploying/processing SLSBs - ed. by dmlloyd, remove the EJB-specific processor for future integration with the EE component processor</span>
[17:50:36] <span class="d">&lt;dmlloyd&gt; and here is where stuff starts to break</span>
[17:50:39] <span class="d">&lt;dmlloyd&gt; oops, more conflicts...</span>
[17:50:46] <span class="a">*** mmoyses_ is now known as mmoyses</span>
[17:51:58] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/1c5326a" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/1c5326a</a></span>
[17:51:58] <span class="d">&lt;jbossbot&gt; git [jboss-as] 1c5326a.. David M. Lloyd Initial attempt at StatelessEJBComponent for deploying/processing SLSBs - ed. by dmlloyd, remove the EJB-specific processor for future integration with the EE component processor</span>
[17:52:36] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/c048691" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/c048691</a></span>
[17:52:37] <span class="d">&lt;jbossbot&gt; git [jboss-as] c048691.. Carlo de Wolf Add a dependency on jboss-modules</span>
[17:53:14] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/5a619a9" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/5a619a9</a></span>
[17:53:23] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/5a619a9" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/5a619a9</a></span>
[17:53:23] <span class="d">&lt;jbossbot&gt; git [jboss-as] 5a619a9.. Carlo de Wolf Configured the modules to allow EjbComponentDeploymentUnitProcessor to function</span>
[17:54:17] <span class="a">*** emuckenh_afk is now known as emuckenhuber</span>
[17:55:11] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master 42bc19e.. bstansberry at jboss dot com Don't call the messaging sockets 'netty'</span>
[17:55:11] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master URL: <a href="http://github.com/jbossas/jboss-as/compare/d90ca72...42bc19e" rel="nofollow" target="_blank">http://github.com/jbossas/jboss-as/compare/d90ca72...42bc19e</a></span>
[17:55:31] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/a224911" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/a224911</a></span>
[17:55:31] <span class="d">&lt;jbossbot&gt; git [jboss-as] a224911.. jaikiran Bring in the latest from upstream and fix the compilation issues</span>
[17:55:41] <span class="c">* dmlloyd just figured out how to preserve authors on commits ;)</span>
[17:57:53] <span class="d">&lt;wolfc&gt; note that jboss-ejb3-effigy:0.2.0 is deprecated. an upcoming commit will put in a snapshot on jboss-ejb3</span>
[17:59:35] <span class="a">*** Nihility has quit IRC</span>
[18:01:49] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/3013ebe" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/3013ebe</a></span>
[18:01:50] <span class="d">&lt;jbossbot&gt; git [jboss-as] 3013ebe.. jaikiran Move the EjbComponentDeploymentUnitProcessor to PARSE phase</span>
[18:01:53] <span class="d">&lt;dmlloyd&gt; getting more and more interesting</span>
[18:02:10] <span class="b">*** davidbos1 has joined #jboss-as7</span>
[18:02:11] <span class="d">&lt;wolfc&gt; That bit is negated later on</span>
[18:02:21] <span class="d">&lt;dmlloyd&gt; great :)</span>
[18:02:22] <span class="a">*** davidbos has quit IRC</span>
[18:02:28] <span class="d">&lt;dmlloyd&gt; more conflicts!</span>
[18:03:06] <span class="a">*** davidbos1 has quit IRC</span>
[18:03:07] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/68bba8f" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/68bba8f</a></span>
[18:03:08] <span class="d">&lt;jbossbot&gt; git [jboss-as] 68bba8f.. jaikiran Move away from Managed Bean based EJB components....</span>
[18:04:04] <span class="b">*** ALR has joined #jboss-as7</span>
[18:04:04] <span class="a">*** ChanServ sets mode: +v ALR</span>
[18:04:25] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/a9a9805" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/a9a9805</a></span>
[18:04:26] <span class="d">&lt;jbossbot&gt; git [jboss-as] a9a9805.. jaikiran Add DEPENDENCIES_EJB phase</span>
[18:04:50] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/779ed46" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/779ed46</a></span>
[18:04:50] <span class="d">&lt;jbossbot&gt; git [jboss-as] 779ed46.. jaikiran Setup correct module dependenices</span>
[18:04:52] <span class="a">*** pilhuhn is now known as pil-afk</span>
[18:05:05] <span class="d">&lt;dmlloyd&gt; only about 6 left...</span>
[18:06:42] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/b153752" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/b153752</a></span>
[18:06:42] <span class="d">&lt;jbossbot&gt; git [jboss-as] b153752.. jaikiran Include EjbDependencyDeploymentUnitProcessor in the Ejb3Subsytem</span>
[18:07:38] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/76a4d85" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/76a4d85</a></span>
[18:07:38] <span class="d">&lt;jbossbot&gt; git [jboss-as] 76a4d85.. jaikiran Setup the system interceptor through the component configuration</span>
[18:08:25] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/434d7dc32" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/434d7dc32</a></span>
[18:08:25] <span class="d">&lt;jbossbot&gt; git [jboss-as] 434d7dc.. Carlo de Wolf Setup java:global binding (wip)</span>
[18:08:50] <span class="d">&lt;dmlloyd&gt; 434d7dc is our first ambiguous 7-digit sha1!</span>
[18:08:56] <span class="c">* dmlloyd applause</span>
[18:09:08] <span class="d">&lt;dmlloyd&gt; 434d7dc3 is also ambiguous</span>
[18:09:11] <span class="d">&lt;wolfc&gt; oh oh happy birthday attack</span>
[18:09:13] <span class="d">&lt;wolfc&gt; :-)</span>
[18:09:16] <span class="d">&lt;dmlloyd&gt; :)</span>
[18:10:57] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/207ebc8" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/207ebc8</a></span>
[18:10:58] <span class="d">&lt;jbossbot&gt; git [jboss-as] 207ebc8.. Carlo de Wolf Properly bind local business views (wip)</span>
[18:11:50] <span class="d">&lt;dmlloyd&gt; skipping <a href="http://github.com/wolfc/jboss-as/commit/0bb3c69642183182c73a" rel="nofollow" target="_blank">http://github.com/wolfc/jboss-as/commit/0bb3c69642183182c73a</a></span>
[18:11:53] <span class="d">&lt;jbossbot&gt; git [jboss-as] 0bb3c69.. jaikiran Introduce a ContextComponentProcessor for setting up Service for java:comp</span>
[18:12:30] <span class="d">&lt;wolfc&gt; Yeah, that is a duplicate</span>
[18:12:38] <span class="d">&lt;wolfc&gt; Which was rebased into nothingness</span>
[18:12:40] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/4af5ec3" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/4af5ec3</a></span>
[18:12:41] <span class="d">&lt;jbossbot&gt; git [jboss-as] 4af5ec3.. jaikiran Final few changes to get the ejb3 demo working</span>
[18:13:25] <span class="d">&lt;wolfc&gt; From that point on the ejb3 demo should be working for each commit</span>
[18:13:25] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/9b56602" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/9b56602</a></span>
[18:13:26] <span class="d">&lt;jbossbot&gt; git [jboss-as] 9b56602.. Carlo de Wolf Initial work on interceptors (wip)</span>
[18:13:39] <span class="d">&lt;dmlloyd&gt; yeah, it won't be though because the EJB-specific DUP is nuked</span>
[18:13:44] <span class="d">&lt;dmlloyd&gt; among other things</span>
[18:13:46] <span class="d">&lt;wolfc&gt; ah</span>
[18:13:48] <span class="d">&lt;dmlloyd&gt; like, services with new names</span>
[18:13:51] <span class="d">&lt;dmlloyd&gt; and stuff like that</span>
[18:13:57] <span class="d">&lt;dmlloyd&gt; but, at least some of the work will be preserved :)</span>
[18:13:58] <span class="d">&lt;wolfc&gt; I want to get to a smoke test a.s.a.p.</span>
[18:14:05] <span class="d">&lt;dmlloyd&gt; there will be smoke!</span>
[18:14:09] <span class="d">&lt;wolfc&gt; :-)</span>
[18:14:21] <span class="d">&lt;dmlloyd&gt; and it's like they say: where there's smoke, there's dmlloyd</span>
[18:15:01] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/e69af9f" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/e69af9f</a></span>
[18:15:02] <span class="d">&lt;jbossbot&gt; git [jboss-as] e69af9f.. Carlo de Wolf Initial work on stateful session beans (wip)</span>
[18:15:04] <span class="d">&lt;dmlloyd&gt; and there it is</span>
[18:15:24] <span class="d">&lt;dmlloyd&gt; a paltry hour's worth of work! :)</span>
[18:15:37] <span class="a">*** jcosta has quit IRC</span>
[18:16:28] <span class="d">&lt;wolfc&gt; Cool</span>
[18:17:09] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/tree/ejb3-domain" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/tree/ejb3-domain</a></span>
[18:17:27] <span class="d">&lt;dmlloyd&gt; so next we need to change all the parsing deployers to construct the new component configs</span>
[18:18:45] <span class="d">&lt;wolfc&gt; hold on it doesn't compile</span>
[18:19:06] <span class="d">&lt;dmlloyd&gt; yeah it probably won't</span>
[18:19:08] <span class="d">&lt;dmlloyd&gt; :)</span>
[18:19:27] <span class="d">&lt;wolfc&gt; Ah, I ran the smoke-tests after each commit</span>
[18:19:30] <span class="d">&lt;dmlloyd&gt; the component install API is mostly different</span>
[18:19:39] <span class="d">&lt;wolfc&gt; the base pom is now invalid</span>
[18:19:48] <span class="d">&lt;dmlloyd&gt; we could go back and redo every commit but it wouldn't be worth it</span>
[18:19:55] <span class="d">&lt;dmlloyd&gt; I'll check the base pom</span>
[18:20:25] <span class="d">&lt;wolfc&gt; Well, that was the bit which took me the most time.</span>
[18:20:35] <span class="d">&lt;dmlloyd&gt; looks ok to me</span>
[18:20:52] <span class="d">&lt;wolfc&gt; the closing tag of version.org.jboss.metadata.ejb is ear</span>
[18:20:52] <span class="d">&lt;dmlloyd&gt; <a href="http://fpaste.org/fUhO/" rel="nofollow" target="_blank">http://fpaste.org/fUhO/</a></span>
[18:20:58] <span class="d">&lt;dmlloyd&gt; oh lol</span>
[18:21:56] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/ac3ffef" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/ac3ffef</a></span>
[18:21:57] <span class="d">&lt;jbossbot&gt; git [jboss-as] ac3ffef.. David M. Lloyd Fix merge error on closing tag</span>
[18:23:09] <span class="d">&lt;wolfc&gt; I squashed those into the offensive commit. Was a hell of a job.</span>
[18:23:48] <span class="a">*** aloubyansky has quit IRC</span>
[18:24:45] <span class="b">*** jkoder has joined #jboss-as7</span>
[18:24:56] <span class="d">&lt;jkoder&gt; hi all</span>
[18:25:04] <span class="d">&lt;jkoder&gt; it's regarding my jboss post: Can anybody let me know, what will be the configuration change...more I need to to do, fo rit to work ?</span>
[18:25:31] <span class="d">&lt;jkoder&gt; Jboss community post url: <a href="http://community.jboss.org/message/588187#588187" rel="nofollow" target="_blank">http://community.jboss.org/message/588187#588187</a></span>
[18:26:48] <span class="d">&lt;wolfc&gt; jkoder, you are in the JBoss Application Server 7 development channel. You probably want to try some JBoss Portal channel instead.</span>
[18:28:07] <span class="d">&lt;jkoder&gt; wolfc: I don't find any channel related to jboss portal specifically...can you plz let me know...if specifc channel for portal exists ?</span>
[18:30:29] <span class="d">&lt;dmlloyd&gt; none that I know of</span>
[18:31:03] <span class="a">*** alesj has left #jboss-as7</span>
[18:31:45] <span class="d">&lt;dmlloyd&gt; jkoder: also spamming multiple channels with the same question is extremely bad etiquette</span>
[18:32:24] <span class="d">&lt;dmlloyd&gt; especially when none of the channels has anything to do with what you're asking</span>
[18:32:48] <span class="a">*** jkoder has left #jboss-as7</span>
[18:34:26] <span class="a">*** emuckenhuber has quit IRC</span>
[18:35:07] <span class="a">*** maxandersen has quit IRC</span>
[18:39:49] <span class="b">*** AndyTaylor has joined #jboss-as7</span>
[18:39:49] <span class="a">*** ChanServ sets mode: +v AndyTaylor</span>
[18:50:33] <span class="a">*** rmaucher has quit IRC</span>
[18:51:54] <span class="b">*** rmaucher has joined #jboss-as7</span>
[18:52:50] <span class="a">*** rmaucher has quit IRC</span>
[18:53:00] <span class="b">*** rmaucher has joined #jboss-as7</span>
[19:01:54] <span class="b">*** Nihility has joined #jboss-as7</span>
[19:01:54] <span class="a">*** ChanServ sets mode: +v Nihility</span>
[19:02:02] <span class="d">&lt;Nihility&gt; hopefully thats the last time i have to reboot for the next month</span>
[19:04:45] <span class="a">*** darranl has quit IRC</span>
[19:08:06] <span class="a">*** pferraro has quit IRC</span>
[19:08:06] <span class="a">*** smarlow has quit IRC</span>
[19:08:33] <span class="b">*** pferraro has joined #jboss-as7</span>
[19:08:34] <span class="a">*** ChanServ sets mode: +v pferraro</span>
[19:08:40] <span class="b">*** smarlow has joined #jboss-as7</span>
[19:08:40] <span class="a">*** ChanServ sets mode: +v smarlow</span>
[19:08:49] <span class="a">*** AndyTaylor has quit IRC</span>
[19:09:35] <span class="b">*** AndyTaylor has joined #jboss-as7</span>
[19:09:39] <span class="a">*** AndyTaylor has quit IRC</span>
[19:09:39] <span class="b">*** AndyTaylor has joined #jboss-as7</span>
[19:09:39] <span class="a">*** ChanServ sets mode: +v AndyTaylor</span>
[19:16:29] <span class="a">*** emmanuel has quit IRC</span>
[19:17:08] <span class="b">*** epbernard has joined #jboss-as7</span>
[19:17:08] <span class="a">*** ChanServ sets mode: +v epbernard</span>
[19:18:54] <span class="a">*** epbernard is now known as emmanuel</span>
[19:25:55] <span class="a">*** balunasj_busy has quit IRC</span>
[19:26:49] <span class="a">*** ccrouch has quit IRC</span>
[19:29:43] <span class="a">*** AndyTaylor has quit IRC</span>
[19:38:03] <span class="a">*** asoldano_away is now known as asoldano</span>
[19:38:33] <span class="b">*** kkhan has joined #jboss-as7</span>
[19:38:34] <span class="a">*** ChanServ sets mode: +v kkhan</span>
[19:43:08] <span class="d">&lt;kkhan&gt; bstansberry: A few commits in my <a href="https://github.com/kabir/jboss-as/commits/deployment." rel="nofollow" target="_blank">https://github.com/kabir/jboss-as/commits/deployment.</a> <a href="https://github.com/kabir/jboss-as/commit/b884d6e5b03f0a3f129e33d94371bc02f07e1581" rel="nofollow" target="_blank">https://github.com/kabir/jboss-as/commit/b884d6e5b03f0a3f129e33d94371bc02f07e1581</a> and <a href="https://github.com/kabir/jboss-as/commit/c78c3d5952f2f834c57220b6d6715b0809b41c8d" rel="nofollow" target="_blank">https://github.com/kabir/jboss-as/commit/c78c3d5952f2f834c57220b6d6715b0809b41c8d</a></span>
[19:43:09] <span class="d">&lt;jbossbot&gt; git [jboss-as] b884d6e.. kabir Test the deployment api</span>
[19:43:10] <span class="d">&lt;jbossbot&gt; git [jboss-as] c78c3d5.. kabir Don't close the streams created from the file and URL varieties of DeploymentPlanBuilder.add()...</span>
[19:44:35] <span class="a">*** bstansberry has quit IRC</span>
[19:44:48] <span class="a">*** jhalliday has quit IRC</span>
[19:50:52] <span class="b">*** bstansberry_ has joined #jboss-as7</span>
[19:50:52] <span class="d">&lt;bstansberry_&gt; kkhan: ok, i'll push after lunch</span>
[19:50:52] <span class="a">*** bstansberry_ has quit IRC</span>
[19:50:52] <span class="b">*** bstansberry_ has joined #jboss-as7</span>
[19:50:52] <span class="a">*** ChanServ sets mode: +v bstansberry_</span>
[19:50:52] <span class="d">&lt;bstansberry_&gt; kkhan: does that fix ropalka's problem?</span>
[19:50:53] <span class="a">*** bstansberry_ is now known as bstansberry</span>
[19:51:17] <span class="d">&lt;kkhan&gt; Actually, hold the test commit that does not work following a rebase</span>
[19:51:31] <span class="d">&lt;kkhan&gt; It fixed opalkas problem</span>
[19:51:42] <span class="d">&lt;kkhan&gt; I'll revise a bit later and let you know</span>
[19:51:46] <span class="d">&lt;bstansberry&gt; k</span>
[19:57:21] <span class="a">*** mmoyses has quit IRC</span>
[19:57:30] <span class="a">*** asoldano has quit IRC</span>
[19:57:30] <span class="a">*** pil-afk has quit IRC</span>
[20:04:50] <span class="b">*** pil-afk has joined #jboss-as7</span>
[20:12:38] <span class="a">*** torben has quit IRC</span>
[20:15:10] <span class="b">*** mbg has joined #jboss-as7</span>
[20:15:10] <span class="a">*** ChanServ sets mode: +v mbg</span>
[20:21:41] <span class="b">*** torben has joined #jboss-as7</span>
[20:21:42] <span class="b">*** torben has joined #jboss-as7</span>
[20:21:42] <span class="a">*** ChanServ sets mode: +v torben</span>
[20:31:33] <span class="b">*** opalka has joined #jboss-as7</span>
[20:31:33] <span class="a">*** ChanServ sets mode: +v opalka</span>
[20:49:36] <span class="a">*** pil-afk has quit IRC</span>
[20:59:29] <span class="b">*** alesj has joined #jboss-as7</span>
[21:06:06] <span class="b">*** asaldhan has joined #jboss-as7</span>
[21:06:07] <span class="a">*** ChanServ sets mode: +v asaldhan</span>
[21:16:02] <span class="a">*** torben has quit IRC</span>
[21:19:57] <span class="b">*** torben has joined #jboss-as7</span>
[21:19:57] <span class="b">*** torben has joined #jboss-as7</span>
[21:19:57] <span class="a">*** ChanServ sets mode: +v torben</span>
[21:22:44] <span class="b">*** mmoyses has joined #jboss-as7</span>
[21:22:44] <span class="a">*** ChanServ sets mode: +v mmoyses</span>
[21:23:15] <span class="a">*** emmanuel has quit IRC</span>
[21:26:38] <span class="b">*** pretec has joined #jboss-as7</span>
[21:27:57] <span class="d">&lt;dmlloyd&gt; jpederse, do you guys have support for @Datasource yet?</span>
[21:28:48] <span class="d">&lt;kkhan&gt; bstansberry: My <a href="https://github.com/kabir/jboss-as/commits/deployment" rel="nofollow" target="_blank">https://github.com/kabir/jboss-as/commits/deployment</a> is ready</span>
[21:28:58] <span class="d">&lt;kkhan&gt; I'll be on PTO tomorrow by the way</span>
[21:29:22] <span class="d">&lt;bstansberry&gt; ok, thanks</span>
[21:30:51] <span class="d">&lt;jpederse&gt; dmlloyd: as in ?</span>
[21:31:18] <span class="d">&lt;dmlloyd&gt; jpederse: as in any deployers which detect it and try to deal with it in any way</span>
[21:31:34] <span class="d">&lt;jpederse&gt; dmlloyd: nope</span>
[21:39:02] <span class="b">*** maeste has joined #jboss-as7</span>
[21:39:03] <span class="a">*** ChanServ sets mode: +v maeste</span>
[21:47:24] <span class="a">*** mmoyses has quit IRC</span>
[21:55:57] <span class="b">*** miclorb_ has joined #jboss-as7</span>
[21:56:42] <span class="b">*** emuckenhuber has joined #jboss-as7</span>
[21:56:43] <span class="b">*** emuckenhuber has joined #jboss-as7</span>
[21:56:43] <span class="a">*** ChanServ sets mode: +v emuckenhuber</span>
[21:56:45] <span class="d">&lt;smarlow&gt; dmlloyd:  did EJB3 merge into master also?  or is that a ways away?  I have some standalone testing with my lame SFSB (cough) container but need to hack it up more to continue JPA integration in parallel.</span>
[21:57:00] <span class="d">&lt;dmlloyd&gt; it's not fully merged</span>
[21:57:03] <span class="d">&lt;dmlloyd&gt; but the EE stuff is</span>
[21:58:16] <span class="d">&lt;smarlow&gt; nice!  I might try to hack a way to get a DU from my standalone SFSB container (for standalone testing).  Once the real thing shows up, I'll switch to it.</span>
[21:58:19] <span class="d">&lt;dmlloyd&gt; most of the integration stuff around resource injection and so on can be done without specific EJB support</span>
[21:58:58] <span class="d">&lt;dmlloyd&gt; EJB is just a specific case of what we call a &quot;component&quot; (that's what the EE spec calls it so we're striving for consistency)</span>
[21:59:23] <span class="d">&lt;dmlloyd&gt; a component is something that may have one or more JNDI bindings, and may utilize @Resource and CDI injection</span>
[21:59:36] <span class="d">&lt;dmlloyd&gt; and usually supports interceptors of various stripes</span>
[21:59:59] <span class="d">&lt;dmlloyd&gt; and often has a java:comp JNDI namespace as well</span>
[22:00:24] <span class="d">&lt;dmlloyd&gt; this includes EJBs, MBs, servlets, filters, and other stuff along those lines</span>
[22:01:02] <span class="b">*** irooskov has joined #jboss-as7</span>
[22:03:20] <span class="d">&lt;smarlow&gt; dmlloyd:  does the injector (magic) access to the DU come in through one of Injector implementations?  Or something else?</span>
[22:03:57] <span class="d">&lt;dmlloyd&gt; it depends on where you're using it</span>
[22:08:40] <span class="d">&lt;stuartdouglas&gt; morning all</span>
[22:14:00] <span class="d">&lt;smarlow&gt; stuartdouglas:  hi, thanks for your help yesterday, adding a JPA dependency processor, helped get my test working.  Its a lame little test that just invokes a mock SFSB bean method but its a start.  :)</span>
[22:15:22] <span class="d">&lt;stuartdouglas&gt; no problem :-)</span>
[22:16:53] <span class="d">&lt;smarlow&gt; dmlloyd:  what do I need to do for getting a JPA injector together that could be used with EJB3 components?  I'll need one for WEB components as well.</span>
[22:17:27] <span class="d">&lt;stuartdouglas&gt; dmlloyd: unless there is something else you want me to work on I am going to look at making servlet's etc components</span>
[22:18:58] <span class="d">&lt;dmlloyd&gt; stuartdouglas: go ahead</span>
[22:19:21] <span class="d">&lt;dmlloyd&gt; smarlow: what kind of injector?  annotation-driven?</span>
[22:19:55] <span class="d">&lt;smarlow&gt; dmlloyd:  yes annotation-driven, wolfc mentioned using EnvironmentRefsGroupMetaData before but I'm not sure if that fits in still</span>
[22:20:10] <span class="d">&lt;dmlloyd&gt; no, that will no longer be used</span>
[22:20:49] <span class="d">&lt;dmlloyd&gt; all you really need is a DUP which runs during, say, parse phase, and then detects your annotation type</span>
[22:21:11] <span class="d">&lt;dmlloyd&gt; read the annotation data and use it to create BindingDescriptions for your dependencies that need to be injected</span>
[22:23:39] <span class="b">*** aloubyansky has joined #jboss-as7</span>
[22:25:01] <span class="d">&lt;aloubyansky&gt; bstansberry: ping</span>
[22:25:31] <span class="d">&lt;bstansberry&gt; pong</span>
[22:25:54] <span class="d">&lt;smarlow&gt; dmlloyd:  read the annotation data from any component archives (EJB3/WEB) that might contain them?  I assume that would be done using jandex?</span>
[22:26:21] <span class="d">&lt;dmlloyd&gt; smarlow: yeah.  For an example of how it could work, look at org.jboss.as.ee.component.ResourceInjectionAnnotationParsingProcessor</span>
[22:26:26] <span class="d">&lt;dmlloyd&gt; that's what implements @Resource</span>
[22:27:45] <span class="d">&lt;smarlow&gt; dmlloyd: my next question is how do I get invoked at injection time but maybe that answer is in the above code?</span>
[22:27:48] <span class="c">* smarlow looking</span>
[22:28:00] <span class="d">&lt;dmlloyd&gt; yeah the answer is all there</span>
[22:28:07] <span class="d">&lt;dmlloyd&gt; basically you can inject from JNDI or from MSC services</span>
[22:28:08] <span class="d">&lt;wolfc&gt; if we go for annotation driven, how do we do metadata-complete then? plus everybody who does metadata transformation?</span>
[22:28:42] <span class="d">&lt;dmlloyd&gt; we're not &quot;annotation-driven&quot;, it's just that the annotation processors are separate from the descriptor parsers</span>
[22:29:35] <span class="d">&lt;dmlloyd&gt; because descriptors override annotations the annotation processors will have to defer to the descriptor processors</span>
[22:29:44] <span class="d">&lt;dmlloyd&gt; their structures differ too</span>
[22:29:46] <span class="d">&lt;wolfc&gt; but you don't want to duplicate the logic for setting up for example a PU env ref entry</span>
[22:30:05] <span class="d">&lt;bstansberry&gt; aloubyansky: ???</span>
[22:30:19] <span class="d">&lt;aloubyansky&gt; bstansberry: i am kind of ready with the cli for the next pull... but rebase resulted in lots of conflicts...</span>
[22:30:21] <span class="d">&lt;dmlloyd&gt; well in either case it's just &quot;create a binding source from the PU&quot;, there's not really much duplication</span>
[22:30:41] <span class="d">&lt;aloubyansky&gt; the only thing i did outside cli was JBAS-8919</span>
[22:30:42] <span class="d">&lt;jbossbot&gt; jira [JBAS-8919] add read-children-types operation [Open (Unresolved) Task, Major, Alexey Loubyansky] <a href="https://issues.jboss.org/browse/JBAS-8919" rel="nofollow" target="_blank">https://issues.jboss.org/browse/JBAS-8919</a></span>
[22:31:14] <span class="d">&lt;bstansberry&gt; that will be good to have</span>
[22:31:32] <span class="d">&lt;bstansberry&gt; were conflicts from kkhan's stuff?</span>
[22:31:33] <span class="d">&lt;aloubyansky&gt; yes, i need it</span>
[22:32:36] <span class="d">&lt;bstansberry&gt; ExecutionContext</span>
[22:33:00] <span class="d">&lt;wolfc&gt; I think we're not in sync there yet, but first I need some sleep.</span>
[22:33:22] <span class="d">&lt;aloubyansky&gt; i'm looking...</span>
[22:33:39] <span class="d">&lt;dmlloyd&gt; I have no doubt it will need some changes to be as elegant as it can be</span>
[22:33:45] <span class="d">&lt;dmlloyd&gt; but right now it should work and that counts for a lot :)</span>
[22:35:03] <span class="d">&lt;wolfc&gt; I don't care too much for elegance as long as it works. But to me it looks like we're still talking apples vs bananas when it comes to some bits.</span>
[22:36:04] <span class="d">&lt;aloubyansky&gt; bstansberry: anyway... i'm gonna merge it anyway... but should i still do rebase or just merge?</span>
[22:36:41] <span class="d">&lt;bstansberry&gt; rebase is preferable</span>
[22:37:09] <span class="d">&lt;aloubyansky&gt; ok, i'll do that then</span>
[22:38:10] <span class="a">*** aloubyansky has quit IRC</span>
[22:43:18] <span class="a">*** wolfc has quit IRC</span>
[22:51:58] <span class="b">*** jamezp has joined #jboss-as7</span>
[22:55:30] <span class="b">*** AndyTaylor has joined #jboss-as7</span>
[22:55:31] <span class="a">*** ChanServ sets mode: +v AndyTaylor</span>
[22:56:17] <span class="b">*** maxandersen has joined #jboss-as7</span>
[22:56:17] <span class="a">*** ChanServ sets mode: +v maxandersen</span>
[23:01:31] <span class="a">*** maeste has quit IRC</span>
[23:10:34] <span class="a">*** emuckenhuber has quit IRC</span>
[23:15:32] <span class="b">*** epbernard has joined #jboss-as7</span>
[23:15:32] <span class="a">*** epbernard is now known as emmanuel</span>
[23:15:33] <span class="a">*** ChanServ sets mode: +v emmanuel</span>
[23:18:01] <span class="d">&lt;dmlloyd&gt; <a href="http://weblogs.java.net/blog/kohsuke/archive/2009/03/my_project_of_t.html" rel="nofollow" target="_blank">http://weblogs.java.net/blog/kohsuke/archive/2009/03/my_project_of_t.html</a></span>
[23:18:05] <span class="d">&lt;dmlloyd&gt; clever little program</span>
[23:18:18] <span class="d">&lt;dmlloyd&gt; not sure if it was someone here who linked that to me</span>
[23:19:25] <span class="a">*** AndyTaylor has quit IRC</span>
[23:19:59] <span class="a">*** torben has quit IRC</span>
[23:21:41] <span class="a">*** mbg has quit IRC</span>
[23:22:55] <span class="d">&lt;alesj&gt; dmlloyd: cool stuff</span>
[23:23:10] <span class="d">&lt;alesj&gt; and he has a good point, why isn't this part of JDK ...</span>
[23:23:32] <span class="d">&lt;dmlloyd&gt; such a simple thing to do too</span>
[23:24:17] <span class="d">&lt;alesj&gt; yup</span>
[23:24:23] <span class="d">&lt;alesj&gt; do we use it?</span>
[23:24:29] <span class="d">&lt;dmlloyd&gt; I could picture a whole range of annotations to do stuff like seal packages, add manifest entries etc.</span>
[23:24:45] <span class="d">&lt;dmlloyd&gt; at compile time</span>
[23:27:18] <span class="d">&lt;alesj&gt; i think Arq dev time with this plugin would be reduced to 2 days :-)</span>
[23:27:36] <span class="d">&lt;dmlloyd&gt; ha</span>
[23:47:11] <span class="d">&lt;dmlloyd&gt; <a href="http://github.com/dmlloyd/jboss-as/commit/193ce9bdf6ede84edad493b6847480de020d1341" rel="nofollow" target="_blank">http://github.com/dmlloyd/jboss-as/commit/193ce9bdf6ede84edad493b6847480de020d1341</a></span>
[23:47:11] <span class="d">&lt;jbossbot&gt; git [jboss-as] 193ce9b.. David M. Lloyd Differentiate between bindings made for dependencies and bindings made for exposing views</span>
[23:47:32] <span class="d">&lt;dmlloyd&gt; stuartdouglas: would you mind glancing over that one</span>
[23:47:42] <span class="d">&lt;stuartdouglas&gt; sure</span>
[23:48:27] <span class="d">&lt;stuartdouglas&gt; looks fine to me</span>
[23:48:55] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master 3a7d824.. David M. Lloyd Unused class</span>
[23:48:55] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master 5d32981.. David M. Lloyd Differentiate between bindings made for dependencies and bindings made for exposing views</span>
[23:48:55] <span class="d">&lt;jbossbot&gt; git [jboss-as] push master URL: <a href="http://github.com/jbossas/jboss-as/compare/42bc19e...5d32981" rel="nofollow" target="_blank">http://github.com/jbossas/jboss-as/compare/42bc19e...5d32981</a></span>
[23:49:08] <span class="d">&lt;dmlloyd&gt; had to rebase it</span>
[23:49:21] <span class="a">*** pretec has quit IRC</span>
[23:56:12] <span class="a">*** opalka has quit IRC</span>
[23:59:10] <span class="b">*** asoldano has joined #jboss-as7</span>
[23:59:41] <span class="a">*** kkhan has quit IRC</span>
[23:59:58] <span class="d">&lt;Nihility&gt; <a href="https://github.com/n1hility/jboss-as/commit/f6cbd2a8ad5e62d77f273ce1ca5a3fb3347dc7a8" rel="nofollow" target="_blank">https://github.com/n1hility/jboss-as/commit/f6cbd2a8ad5e62d77f273ce1ca5a3fb3347dc7a8</a></span>
[23:59:58] <span class="d">&lt;jbossbot&gt; git [jboss-as] f6cbd2a.. Jason T. Greene Fix xalan, use the new jaxp module, fix JBAS-8909</span>

<div align='center'><a href='#top'>top</a><a name='bottom'></div></pre>
</div>
</body>
</html>

<!-- serving cached copy, expires in 172463 seconds -->
