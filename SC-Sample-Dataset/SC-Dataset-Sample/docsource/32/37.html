<!DOCTYPE html>
<!--[if lt IE 9 ]>
<html class="ltie9" lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:nitro="http://www.bunchball.com/nitro">
<![endif]-->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:nitro="http://www.bunchball.com/nitro">
<head>
	<script type="text/javascript" src="/javascript/error_logging.js">

	</script>
				<base href="http://www.coursehero.com/">		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		
	
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,300,600,700" rel="stylesheet" type="text/css"/>
			<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width"/>
	

		
	
			<script src="/javascript/jquery-1.7.2.min.js"></script>
			
	
		
	
	<script>
		jQuery(document).ready(function(){
			var ua = navigator.userAgent.toLowerCase();
			var isAndroid = ua.indexOf("android") > -1;
			if(isAndroid) {
				jQuery('#ch-primary-navigation-list-container li').doubleTapToGo();
			}
		})
	</script>

	<!--[if IE 8]>
		<script type="text/javascript" src="/javascript/selectivizr-min.js">
		</script>
	<![endif]-->
		
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
	
	
            <title>Iowa State : CPRE 556 : 2006 03</title>
    

<link rel="stylesheet" href="/min/?f=/css/v2/ch-master-style.css,/css/v2/jquery-styles/jquery.ui.css,/css/v2/study-documents/ch-document-thumbnail.css,/css/v2/study-documents/ch-doc-landing.css,/css/v2/ch-universal-widgets.css" type="text/css" media="screen" charset="utf-8">
<script src="/min/?f=/javascript/tracker_pageview.js,/javascript/error_logging.js,/javascript/header.js,/javascript/ajax_load.js,/javascript/doubletaptogo.min.js" type="text/javascript" charset="utf-8"></script>
</head>


<body class="">
<div>

<script type="text/javascript">
	var __basic = false;
	appId = 126130834105126;
</script>

<script>

  // Load the SDK's source Asynchronously
  // Note that the debug version is being actively developed and might 
  // contain some type checks that are overly strict. 
  // Please report such bugs using the bugs tool.
  (function(d, debug){
	 var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
	 if (d.getElementById(id)) {return;}
	 js = d.createElement('script'); js.id = id; js.async = true;
	 js.src = "//connect.facebook.net/en_US/all" + (debug ? ("/" + "debug") : "") + ".js";
	 ref.parentNode.insertBefore(js, ref);
   }(document, /*debug*/ false));
  
</script>


						<div id="ch-primary-navigation-wrapper" class="ch-wrapper">
	<div class="container">
		<div id="ch-brand-navigation">
			<a href="/?no_redir=1"><img src="/img/CourseHero_Logo_white.png" alt="Course Hero"/></a>
		</div>
		<div id="ch-primary-navigation-container">
			<a href=""  onClick="return false;" class="ch-primary-show-mobile-nav"><i class="icon-th-list"></i></a>
			<ul id="ch-primary-navigation-list-container">
																								<li>
							<a href="/study-materials/" class="ch-product-navigation-single-link">Study Documents</a>
															
								<ul class="ch-primary-sub-navigation">
																													<li><a href="/study-materials/" class="ch-product-sub-navigation-link">Find Documents</a></li>
										
																																																										<li><a href="/textbooks/" class="ch-product-sub-navigation-link">Textbook Help</a></li>
										
																																							<li><a href="/uploads.php" class="ch-product-sub-navigation-link">Upload Documents</a></li>
										
																											</ul>
													</li>
																				<li>
							<a href="/tutors/" class="ch-product-navigation-single-link">Tutors</a>
															
								<ul class="ch-primary-sub-navigation">
																													<li><a href="/qa_ask_question.php" class="ch-product-sub-navigation-link">Ask a Question</a></li>
										
																																																																													<li><a href="/become-a-tutor/" class="ch-product-sub-navigation-link">Become a Tutor</a></li>
										
																																							<li><a href="/qa/about_tutors.php" class="ch-product-sub-navigation-link">About Tutors</a></li>
										
																											</ul>
													</li>
																				<li>
							<a href="/flashcards/" class="ch-product-navigation-single-link">Flashcards</a>
															
								<ul class="ch-primary-sub-navigation">
																																																<li><a href="/flashcards/browse/" class="ch-product-sub-navigation-link">Find Flashcards</a></li>
										
																																							<li><a href="/flashcards/create.php" class="ch-product-sub-navigation-link">Create Flashcards</a></li>
										
																																							<li><a href="/flashcards/" class="ch-product-sub-navigation-link">About Flashcards</a></li>
										
																											</ul>
													</li>
																				<li>
							<a href="/courses/" class="ch-product-navigation-single-link">eCourses</a>
															
								<ul class="ch-primary-sub-navigation">
																													<li><a href="/courses/" class="ch-product-sub-navigation-link">Find eCourses</a></li>
										
																																																										<li><a href="/courses/my_editable_courses.php" class="ch-product-sub-navigation-link">Create/Edit an eCourse</a></li>
										
																																							<li><a href="/courses/about.php" class="ch-product-sub-navigation-link">About eCourses</a></li>
										
																											</ul>
													</li>
																				<li>
							<a href="/contact.php" class="ch-product-navigation-single-link">Support</a>
															
								<ul class="ch-primary-sub-navigation">
																													<li><a href="/contact.php" class="ch-product-sub-navigation-link">Contact Us</a></li>
										
																																							<li><a href="/faq.php" class="ch-product-sub-navigation-link">FAQ</a></li>
										
																											</ul>
													</li>
																		<li class="ch-user-navigation" id="ch-user-signup">
													<a class="ch-nav-sign-up-action" href="/registerForm.php" rel="nofollow">Sign up</a>
											</li>
					<li class="ch-user-navigation">
													<a href="/login.php" rel="nofollow">Log-in</a>
											</li>
							</ul>
		</div>
		<div id="ch-primary-mobile-search-container">
			<a href="/study-materials/"  class="ch-primary-show-mobile-search"><i class="icon-search"></i></a>
		</div>
	</div>
</div>
	<div id="ch-primary-navigation-search-wrapper" class="ch-wrapper">
	<div class="container">
		<div id="ch-primary-navigation-search-container">
			<form id="global-search" action="/search_result.php" method="POST">
				<fieldset>
					<input type="hidden" name='header' value="v2"/>
                    <input type="hidden" name='filters_product' value="documents"/>
					<input type="text" id="stx_global" name="stx" placeholder="Search for educational resources to help you learn"/>
					<a href="#" id="ch-primary-navigation-search-btn">Search</a>
				</fieldset>
			</form>
		</div>
	</div>
</div>
<script>
	jQuery(document).ready(function(){
		jQuery("#stx_global").keypress(function(event) {
			if ( event.which == 13 ) {
				event.preventDefault();
				jQuery('#global-search').submit();
			}
		});
		jQuery("#ch-primary-navigation-search-btn").click(function(){
			jQuery('#global-search').submit();
			return false;
		})
	});
</script>

				

<div class="ch-wrapper" id="ch-content-wrapper">
	<div id="doc-landing-banner" class="ch-banner light-blue-bg">
		<div class="container">
			<div class="page-heading-wrapper">
				<h1 class="intro-page-heading">
					Register now to access <span class="txt-green">7 million</span> high quality study materials
				</h1>
				<a class="whats-coursehero-tooltip">(What's Course Hero?)
					<span>
					Course Hero is the premier provider of high quality online educational resources. With millions of study documents, online tutors, digital flashcards and free courseware, Course Hero is helping students learn more efficiently and effectively. Whether you're interested in exploring new subjects or mastering key topics for your next exam, Course Hero has the tools you need to achieve your goals.
					</span>
				</a>
			</div>
			<div id="doc-landing-about-document-container" temprop="mainContentOfPage" itemscope itemtype="http://schema.org/CreativeWork">
				<div class="ch-doc-image-thumbnail">
					<div class="ch-doc-image-thumbnail-view">
												<img itemprop="image" id="doc-image" src="/thumb/7aa53ea3ca18cd22c673a4c81bfb8f4e0dfa8b40_180.jpg" onerror="image_error_backup(this, '/view_thumbnail.php?filehash=7aa53ea3ca18cd22c673a4c81bfb8f4e0dfa8b40&size=180')" alt="2006-03"/>
											</div>
										<div class="ch-doc-pageno">202 Pages</div>
									</div>
				<div class="ch-doc-summary">
					<h4 itemprop="name">							2006-03
											</h4>
																		<p><strong>Course: </strong>CPRE 556, Spring 2012</p>
												<p><strong>School: </strong>Iowa State</p>
																<p><strong>Word Count: </strong> 47348</p>
										<p><strong>Rating: </strong> <span id="doc-rating" data-score="4"></span></p>
				</div>
				<div id="ch-doc-text-preview">
					<h6>Document Preview</h6>
					<div class="ch-doc-preview-contents">
																				<p>fails runtime20 to compile
C:\svn0\jdo\trunk\runtime20\src\java\org\apache\jdo\impl\pm\PersistenceManagerWrapper.java:43: org.apache.jdo.impl.pm.PersistenceManagerWrapper is not abstract and does not override abstract method ma
keTransientAll(java.util.Collection,boolean) in javax.jdo.PersistenceManager
public class PersistenceManagerWrapper implements PersistenceManager {
^
Typo in &lt;shortDescription&gt; of...</p>
																		</div>
					<div class="coa-wrapper">
						<a href="/registerForm.php?reg_only=1" class="orange-btn l registerForm-link" id="ch-register-link">Register Now</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="container" id="doc-landing-container">
<div class="search-bar light-blue-bg studydocs-body-search-widget">
	<form id="search-form" action="/search_result.php" method="GET">
		<fieldset>
			<input type="hidden" id="je" name="je" value="0">
			<input type="hidden" id="autocomp" name="autocomp" value="0">
			<input type="hidden" id="fromqa" name="fromqa" value="1">
			<input type="text" class="search-bar-input" id="stx" name="stx" placeholder="Search by department, course, subject or keyword. Or ask a question" maxlength="500" />
			<a href="#" class="blue-btn search_bar_widget_submit"><i class="icon-search"></i><span>Search</span></a>
		</fieldset>
	</form>
</div>
<script type="text/javascript">
    jQuery(".search_bar_widget_submit").click(function(e){
        jQuery(this).parent().parent().submit();
        e.preventDefault();
        return false;
    });
</script>
        <div id="most_popular_materials_from_subject" class="ajax_load" data-params="school_type=HIGHER&school_name=Iowa State&dept_acro=CPRE&course_num=556&db_filename=7204789"></div>
        <div id="what_course_hero_offers" class="ajax_load"></div>
        <div id="qa_ask_question_widget" class="ajax_load" data-params="heading_inside=<strong>Cannot find the right document?</strong> Our tutors are available 24/7 to answer your questions."></div>
        <div id="horizontal_register_now" class="ajax_load"></div>
		<div class="doc-landing-doc-excerpt light-grey-bg">
			<h5>Unformatted Document Excerpt</h5>
							<a href="/">Coursehero</a> >> <a href="/sitemap/states/Iowa/">Iowa</a> >>
				<a href="/sitemap/schools/864-Iowa-State/">Iowa State</a> >>
				<a href="/sitemap/schools/864-Iowa-State/departments/2012-CPRE/">CPRE 556</a>
						<p>Course Hero has millions of student submitted documents similar to the one<br/>below including study guides, practice problems, reference materials, practice exams, textbook help and tutor support.</p>
			<p>Course Hero has millions of student submitted documents similar to the one below including study guides, practice problems, reference materials, practice exams, textbook help and tutor support.</p>
			<div title="Sign up now to view the formatted text.">
								<span itemprop="text">
											fails runtime20 to compile
C:\svn0\jdo\trunk\runtime20\src\java\org\apache\jdo\impl\pm\PersistenceManagerWrapper.java:43: org.apache.jdo.impl.pm.PersistenceManagerWrapper is not abstract and does not override abstract method ma
keTransientAll(java.util.Collection,boolean) in javax.jdo.PersistenceManager
public class PersistenceManagerWrapper implements PersistenceManager {
^
Typo in &lt;shortDescription&gt; of project.xml
The project.xml files for all of the projects omit the 'S' from OBJECT(S) in JAVA DATA OBJECTS. This text gets into the manifest.
NPE calling QuartzJobScheduler.fireJob if the job is a CronJob
calling scheduler.fireJob (for example from flow) results in an NPE if the job is a CronJob. This is because the JobExecutionContext is created without a Trigger in the TriggerFiredBundle. The constructor for JobExecutionContext requires that there be a trigger in the firebundle when it calls:
this.jobDataMap.putAll(trigger.getJobDataMap());
on line 139.
Here is some sample flowscript that fires a CronJob.
var scheduler = cocoon.getComponent(Packages.org.apache.cocoon.components.cron.JobScheduler.ROLE);
try {
scheduler.fireJob(&quot;someJob&quot;);
} finally {
cocoon.releaseComponent(scheduler);
}
Here is a patch (license granted to ASF):
Index: C:/opt/eclipse-rc/eclipse/workspace/cocoon-svn/src/blocks/cron/java/org/apache/cocoon/components/cron/QuartzJobScheduler.java
===================================================================
--- C:/opt/eclipse-rc/eclipse/workspace/cocoon-svn/src/blocks/cron/java/org/apache/cocoon/components/cron/QuartzJobScheduler.java (revision 376375)
+++ C:/opt/eclipse-rc/eclipse/workspace/cocoon-svn/src/blocks/cron/java/org/apache/cocoon/components/cron/QuartzJobScheduler.java (working copy)
@@ -704,10 +704,12 @@
final JobDetail detail = createJobDetail(name, jobDataMap);
- TriggerFiredBundle trigger = new TriggerFiredBundle(detail, null, null, false, null, null, null, null);
+ final Trigger trigger = new SimpleTrigger(name, DEFAULT_QUARTZ_JOB_GROUP);
+ TriggerFiredBundle fireBundle = new TriggerFiredBundle(detail, trigger, null, false, null, null, null, null);
+
final Job executor = createJobExecutor();
- final JobExecutionContext context = new JobExecutionContext(this.scheduler, trigger, executor);
+ final JobExecutionContext context = new JobExecutionContext(this.scheduler, fireBundle, executor);
this.executor.execute(new Runnable() {
public void run() {
server segs in processing SOAP message with NULL prefixed namespace
SOAP Message:
POST /axis2/services/doc_lit_w HTTP/1.1
User-Agent:Axis2/C
SOAPAction:http://tempuri.org/IBaseDataTypesDocLitW/RetDecimal
Content-Length:652
Content-Type:text/xml
Host:localhost
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:wsa=&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing&quot;&gt;
&lt;SOAP-ENV:Header&gt;
&lt;wsa:Action&gt;http://tempuri.org/IBaseDataTypesDocLitW/RetDecimal&lt;/wsa:Action&gt;
&lt;wsa:ReplyTo&gt;
&lt;wsa:Address&gt;http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous&lt;/wsa:Address&gt;
&lt;/wsa:ReplyTo&gt;
&lt;wsa:ReferenceProperties&gt;&lt;/wsa:ReferenceProperties&gt;
&lt;wsa:MessageID&gt;747bbee8-a8c5-1da1-2eaa-001125b4c063&lt;/wsa:MessageID&gt;
&lt;/SOAP-ENV:Header&gt;
&lt;SOAP-ENV:Body&gt;
&lt;RetDecimal xmlns=&quot;http://tempuri.org/&quot;&gt;
&lt;inDecimal&gt;0&lt;/inDecimal&gt;
&lt;/RetDecimal&gt;
&lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
Trace:
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread -1208206416 (LWP 12907)]
0x00cd82c3 in axis2_om_element_find_namespace (ele=0x9792410, env=0xb7fc33d8, node=0x979e5c0,
uri=0x978d920 &quot;http://tempuri.org/&quot;, prefix=0x0) at om_element.c:423
423 if (ns &amp;&amp;
(gdb) bt
#0 0x00cd82c3 in axis2_om_element_find_namespace (ele=0x9792410, env=0xb7fc33d8, node=0x979e5c0,
uri=0x978d920 &quot;http://tempuri.org/&quot;, prefix=0x0) at om_element.c:423
#1 0x00cd83c7 in axis2_om_element_find_namespace (ele=0x978d700, env=0xb7fc33d8, node=0x9796d70,
uri=0x978d920 &quot;http://tempuri.org/&quot;, prefix=0x0) at om_element.c:448
#2 0x00cd83c7 in axis2_om_element_find_namespace (ele=0x978d858, env=0xb7fc33d8, node=0x978d4a8,
uri=0x978d920 &quot;http://tempuri.org/&quot;, prefix=0x0) at om_element.c:448
#3 0x00cd8545 in axis2_om_element_declare_namespace (ele=0x978d858, env=0xb7fc33d8, node=0x978d4a8, ns=0x978d910)
at om_element.c:471
#4 0x00cdf2f7 in axis2_om_stax_builder_process_namespaces (om_stax_builder=0x979c398, env=0xb7fc33d8, node=0x978d4a8,
is_soap_element=0) at om_stax_builder.c:397
#5 0x00cdf959 in axis2_om_stax_builder_create_om_element (om_stax_builder=0x979c398, env=0xb7fc33d8)
at om_stax_builder.c:530
#6 0x00ce0d1b in axis2_om_stax_builder_next_with_token (builder=0x979c398, env=0xb7fc33d8) at om_stax_builder.c:949
#7 0x00d4c62c in axis2_soap_builder_next (builder=0x9793f28, env=0xb7fc33d8) at soap_builder.c:336
#8 0x00d493c2 in axis2_soap_body_has_fault (body=0x978d790, env=0xb7fc33d8) at soap_body.c:240
#9 0x007999ca in axis2_http_transport_utils_process_http_post_request (env=0xb7fc33d8, msg_ctx=0x9787a28,
in_stream=0x979f5d8, out_stream=0x97a4008, content_type=0x979e338 &quot;text/xml&quot;, content_length=652,
soap_action_header=0x97951b0 &quot;http://tempuri.org/IBaseDataTypesDocLitW/RetDecimal&quot;,
request_uri=0x979e4b0 &quot;/axis2/services/doc_lit_w&quot;) at ../transport/http/http_transport_utils.c:300
#10 0x007985c1 in axis2_http_worker_process_request (http_worker=0x9796ca0, env=0xb7fc33d8, svr_conn=0x9793fb8,
simple_request=0x979e4e0) at ../transport/http/http_worker.c:286
#11 0x0011581d in worker_func (thd=0x9793a28, data=0x979a678) at http_svr_thread.c:310
#12 0x004e255a in dummy_worker (opaque=0x9793a28) at thread_unix.c:84
#13 0x0011db80 in start_thread () from /lib/libpthread.so.0
#14 0x001f4dee in clone () from /lib/libc.so.6
Geronimo startup fails after adding an HTTPS Connector
Geronimo startup fails after adding an HTTPS Connector through Geronimo Console. Verified this with both Geronimo-Jetty 1.0 and Geronimo-Tomcat 1.0 distributions.
Steps to recreate this problem:
1. Start the Geronimo server.
2. Add an HTTPS Connector using link provided in WebServers portlet in Geronimo Console.
3. Stop the Geronimo server.
4. Start the Geronimo server. At this step, the server startup fails.
The following exception is logged to geronimo.log:
18:08:38,717 ERROR [GBeanInstanceState] Error while starting; GBean is now in the FAILED state: objectName=&quot;geronimo.server:J2EEApplication=null,J2EEModule=geronimo/j2ee-system/1.0/car,J2EEServer=geronimo,j2eeType=AttributeStore,name=AttributeManager&quot;
java.lang.NullPointerException
at org.apache.geronimo.system.configuration.GBeanOverride.&lt;init&gt;(GBeanOverride.java:128)
at org.apache.geronimo.system.configuration.ConfigurationOverride.&lt;init&gt;(ConfigurationOverride.java:51)
at org.apache.geronimo.system.configuration.ServerOverride.&lt;init&gt;(ServerOverride.java:41)
at org.apache.geronimo.system.configuration.LocalAttributeManager.load(LocalAttributeManager.java:323)
at org.apache.geronimo.system.configuration.LocalAttributeManager.doStart(LocalAttributeManager.java:419)
at org.apache.geronimo.gbean.runtime.GBeanInstance.createInstance(GBeanInstance.java:936)
at org.apache.geronimo.gbean.runtime.GBeanInstanceState.attemptFullStart(GBeanInstanceState.java:325)
at org.apache.geronimo.gbean.runtime.GBeanInstanceState.start(GBeanInstanceState.java:110)
at org.apache.geronimo.gbean.runtime.GBeanInstanceState.startRecursive(GBeanInstanceState.java:132)
at org.apache.geronimo.gbean.runtime.GBeanInstance.startRecursive(GBeanInstance.java:537)
at org.apache.geronimo.kernel.basic.BasicKernel.startRecursiveGBean(BasicKernel.java:208)
at org.apache.geronimo.kernel.config.Configuration.startRecursiveGBeans(Configuration.java:315)
at org.apache.geronimo.kernel.config.Configuration$$FastClassByCGLIB$$7f4b4a9b.invoke(&lt;generated&gt;)
at net.sf.cglib.reflect.FastMethod.invoke(FastMethod.java:53)
at org.apache.geronimo.gbean.runtime.FastMethodInvoker.invoke(FastMethodInvoker.java:38)
at org.apache.geronimo.gbean.runtime.GBeanOperation.invoke(GBeanOperation.java:118)
at org.apache.geronimo.gbean.runtime.GBeanInstance.invoke(GBeanInstance.java:835)
at org.apache.geronimo.kernel.basic.BasicKernel.invoke(BasicKernel.java:178)
at org.apache.geronimo.kernel.basic.BasicKernel.invoke(BasicKernel.java:173)
at org.apache.geronimo.system.main.Daemon.doStartup(Daemon.java:286)
at org.apache.geronimo.system.main.Daemon.&lt;init&gt;(Daemon.java:82)
at org.apache.geronimo.system.main.Daemon.main(Daemon.java:404)
J2 on tomcat 5.5.15: 403 returned to client browser when any user that doesn't have admin role attempts to log in
When J2 is deployed on tomcat 5.5.15, whenever any user that does not have the admin role logs in, a 403 is returned for the URI /login/redirector.
This does not occur on earlier releases of tomcat (5.5.9 for example).
The user is in fact authenticated, for if you delete the /login/redirector from the URL in the browser and refresh, then the main page of the portal is shown and the user is authenticated.
Faults are not handled correctly in NonBlocking two channel scenerio
I tried using the nonBlocking two channel in client API to call a service. The listener kept on listening without terminating. I tried this through the tcpmon and I saw a service not found Axis fualt as the reply. 
and it is not handled by the client. 
The reason behind may be that the fault is coming in the same channel where we send the reply. But the listener is up on a seperate channel....
store/OnlineBackupTest1.java consistently hangs - *ALL* platforms
See e.g.:
http://www.multinet.no/~solberg/public/Apache/Derby/testlog/Linux-2.4.21-27.ELsmp_i686-athlon/381407-storemore_diff.txt
http://www.multinet.no/~solberg/public/Apache/TinderBox_Derby/Limited/testSummary-381405.html
http://www.multinet.no/~solberg/public/Apache/Derby/Limited/testSummary-381407.html
Also reported in
http://www.nabble.com/Regression-Test-Failure%21-t1196066.html
http://www.nabble.com/Regression-Test-Failure%21---TinderBox_Derby-381405---Sun-DBTG-t1197881.html
http://www.nabble.com/Regression-Test-Failure%21---Derby-381407---Sun-DBTG-t1198219.html
Missing copyright in some recent submitted javafiles
Sorry I forgot to add the OpenSymphony copyright javadoc in top of the .java files I submitted recently.
Here is a patch to roll on.
Some missing javadoc OpenSymphony copyright for recent submitted files
I created a patch with some new .java files.
I forgot to add the OpenSymphony copyright in the top.
Here is a patch to roll on with the copyrights.
I18nMessage - null parameter values causes NPE
Putting a null in a parameter value causes an NPE when creating the SAX events
java.lang.NullPointerException
at org.apache.cocoon.forms.util.I18nMessage.toSAX(I18nMessage.java:128)
at org.apache.cocoon.forms.validation.ValidationError.generateSaxFragment(ValidationError.java:85)
at org.apache.cocoon.forms.formmodel.Field.generateItemSaxFragment(Field.java:453)
at org.apache.cocoon.forms.formmodel.AbstractWidget.generateSaxFragment(AbstractWidget.java:498)
at org.apache.cocoon.forms.generation.JXMacrosHelper.generateWidget(JXMacrosHelper.java:292)
Note: this NPE then causes the Ajax transformer to go wonky for all users in all sessions. I'm still digging into that one.
I am attaching a patch (license granted to ASF) that allows null parameter values (using String.valueOf(parameters[i]) so that nulls are turned into &quot;null&quot;.
BrowserUpdateTransformer can get into invalid state - must override recycle()
If a form throws an exception during transformation (see https://issues.apache.org/jira/browse/COCOON-1785) then the BrowserUpdateTransformer gets into an invalid state, and futher request by any user or session that happens to use the invalid transformer receive the entire form document inside of the bu:document tag. The client side ajax javascript is then unable to process the resulting update.
The attached patch (license granted to ASF) overrides recycle() and fixes this problem.
i18n/urlLocale.sql test fails on Windows XP
See http://www.multinet.no/~solberg/public/Apache/Derby/testlog/CYGWIN_NT-5.2_i686-unknown/370210-i18nTest_diff.txt
This failure has been around since forever, I went all the way back to revision 295051 in October 2005 and it was there.
I don't see this test on my platform (XP, JDK 1.4, en_US locale), maybe it's a Norwegian thing :)
Regex validation fails in multi-threaded, multi-processor environment
When using validate() method in multi-threaded, multi-cpu environment, there is a pretty high probability of getting false XMLErrors for elements defined with regex patterns in schema.
import EDU.oswego.cs.dl.util.concurrent.CountDown;
import junit.framework.TestCase;
import org.apache.xmlbeans.XmlException;
import org.apache.xmlbeans.XmlOptions;
import org.apache.xmlbeans.XmlError;
import java.util.Collection;
import java.util.ArrayList;
import java.util.Iterator;
public class XmlBeansTest extends TestCase {
public void testMultipleThreads() throws XmlException, InterruptedException {
final int totalThreadCount = 100;
CountDown latch = new CountDown(totalThreadCount);
CountDown start = new CountDown(1);
long now = System.currentTimeMillis();
System.out.println(&quot;Starting&quot;);
for (int i = 0; i &lt; totalThreadCount; i++) {
new ParseAndValidate(latch, start).start();
}
start.release();
latch.acquire();
System.out.println(&quot;Finished: &quot; + (System.currentTimeMillis() - now));
}
public static void main(String[] args) throws Exception, InterruptedException {
XmlBeansTest xmlBeansTest = new XmlBeansTest();
xmlBeansTest.setUp();
xmlBeansTest.testMultipleThreads();
}
private class ParseAndValidate extends Thread {
private CountDown countDownLatch;
private CountDown start;
private final String xmldata = ...;
public ParseAndValidate(CountDown countDownLatch, CountDown start) {
this.countDownLatch = countDownLatch;
this.start = start;
}
public void run() {
try {
start.acquire();
boolean valid = parseAndValidate();
if (!valid) {
System.out.println(&quot;Not Valid!!!&quot;);
}
countDownLatch.release();
} catch (XmlException e) {
e.printStackTrace();
} catch (InterruptedException e) {
e.printStackTrace();
}
}
private boolean parseAndValidate() throws XmlException {
MyXml xml = MyXml.Factory.parse(xmldata);
return validate(xml);
}
private boolean validate(MyXml rdd) {
Collection errors = new ArrayList();
XmlOptions validateOptions = new XmlOptions();
validateOptions.setErrorListener(errors);
boolean valid = rdd.validate(validateOptions);
if (!valid) {
for (Iterator iterator = errors.iterator(); iterator.hasNext();) {
XmlError xmlError = (XmlError) iterator.next();
System.out.println(&quot;XML Error - &quot; + xmlError.getMessage() + &quot; at\n&quot; + xmlError.getCursorLocation().xmlText());
}
}
return valid;
}
}
}
The code above, when executed on a MP machine, has a pretty high probability (5%+ I'd say) of generating at least one failed validation. On machines with hyperthreading, the probability is even higher (10%+). 
I only saw it fail on regex patterns. On SP machines it never fails. The only workaround I've found is encasing a validate method in a globally synchronised block (not really a workaround, I know).
The code also runs very slowly on MP machines with sun jdk, but that's unrelated to the problem I guess.
TCK should allow user to configure their own JNDI provider
Currently, to reconfigure the JNDI provider, the user has to edit both the jndi.properties file and the project.properties. 
We should allow the user to only edit the jndi.properties by changing the project.properties to automatically add all the jar files in lib/ext to the classpath.
CompareToValidator and EqualValidator does not work on generic EditableValueHolders, only UIInput subclasses (ADF Faces)
On 2/28/06, Rogers Reilly &lt;rogers_reilly@s-rod.com&gt; wrote:
&gt; 3) a tangent, but related- if you find yourself trying to get Tomahawk &amp;
&gt; ADF components working together, you may find this example helpful. The
&gt; Tomahawk EqualsValidator won't work if you're comparing the component to
&gt; an ADF component, and here's why:
&gt; UIInput foreignComp = (UIInput) uiComponent.getParent().findComponent(_for);
&gt; in EqualsValidator (line 72) is casting the &quot;compare to&quot; component to
&gt; UIInput, but ADF input components don't extend UInput. You can create a
&gt; custom ADFEqualsValidator by replacing the above with:
&gt; UIXEditableValue foreignComp = (UIXEditableValue)
&gt; uiComponent.getParent().findComponent(_for);
&gt; or, of course, create an overarching EqualsValidator that tries both casts.
dataScroller &quot;divide by zero&quot; error should be changed to a &quot;missing row attribute&quot; error
When using the t:dataScroller inside of a t:dataTable, I get the a &quot;/ by zero&quot; exception. Tracing into it, it looks like it is trying to get the page index from the getRows() of the UIData of the table, which comes back as 0 (but still displays all of the rows without the scroller in it), and then trys to do a % using zero. 
This might be related to MYFACES-820 as we are both using the tiles integration.
Full stack trace:
java.lang.ArithmeticException: / by zero
at org.apache.myfaces.custom.datascroller.HtmlDataScroller.getPageIndex(HtmlDataScroller.java:222)
at org.apache.myfaces.custom.datascroller.HtmlDataScrollerRenderer.setVariables(HtmlDataScrollerRenderer.java:105)
at org.apache.myfaces.custom.datascroller.HtmlDataScrollerRenderer.encodeBegin(HtmlDataScrollerRenderer.java:185)
at javax.faces.component.UIComponentBase.encodeBegin(UIComponentBase.java:307)
at javax.faces.webapp.UIComponentTag.encodeBegin(UIComponentTag.java:337)
at javax.faces.webapp.UIComponentTag.doEndTag(UIComponentTag.java:250)
at org.apache.jsp.organizations_jsp._jspx_meth_t_dataScroller_0(org.apache.jsp.organizations_jsp:689)
at org.apache.jsp.organizations_jsp._jspx_meth_h_form_0(org.apache.jsp.organizations_jsp:222)
at org.apache.jsp.organizations_jsp._jspService(org.apache.jsp.organizations_jsp:130)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:322)
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:291)
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:672)
at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:574)
at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:499)
at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:966)
at org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:604)
at org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:99)
at org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:135)
at org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:760)
at org.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertTag.java:892)
at org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:462)
at org.apache.jsp.decorators.mainLayout_jsp._jspx_meth_tiles_insert_1(org.apache.jsp.decorators.mainLayout_jsp:243)
at org.apache.jsp.decorators.mainLayout_jsp._jspx_meth_f_subview_1(org.apache.jsp.decorators.mainLayout_jsp:206)
at org.apache.jsp.decorators.mainLayout_jsp._jspx_meth_f_view_0(org.apache.jsp.decorators.mainLayout_jsp:134)
at org.apache.jsp.decorators.mainLayout_jsp._jspService(org.apache.jsp.decorators.mainLayout_jsp:95)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:322)
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:291)
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:672)
at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:463)
at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:398)
at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)
at org.apache.myfaces.context.servlet.ServletExternalContextImpl.dispatch(ServletExternalContextImpl.java:415)
at org.apache.myfaces.application.jsp.JspTilesViewHandlerImpl.dispatch(JspTilesViewHandlerImpl.java:233)
at org.apache.myfaces.application.jsp.JspTilesViewHandlerImpl.renderView(JspTilesViewHandlerImpl.java:219)
at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:352)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:107)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.sabioso.guardian.web.filter.MessageFilter.doFilter(MessageFilter.java:48)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:75)
at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:174)
at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:292)
at net.sf.acegisecurity.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:84)
at net.sf.acegisecurity.intercept.web.SecurityEnforcementFilter.doFilter(SecurityEnforcementFilter.java:182)
at net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:303)
at net.sf.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:153)
at net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:303)
at net.sf.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:114)
at net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:303)
at net.sf.acegisecurity.wrapper.ContextHolderAwareRequestFilter.doFilter(ContextHolderAwareRequestFilter.java:50)
at net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:303)
at net.sf.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:226)
at net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:303)
at net.sf.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:173)
at net.sf.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:125)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:122)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)
at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
at java.lang.Thread.run(Thread.java:595)
Table declaration:
&lt;t:dataTable id=&quot;organizationData&quot; var=&quot;organization&quot;
value=&quot;#{organizationList.organizations}&quot; styleClass=&quot;list&quot;
sortColumn=&quot;#{organizationList.sort}&quot;
sortAscending=&quot;#{organizationList.ascending}&quot; preserveDataModel=&quot;true&quot;
preserveSort=&quot;true&quot;&gt;
&lt;h:column&gt;
&lt;f:facet name=&quot;header&quot;&gt;
&lt;t:commandSortHeader columnName=&quot;name&quot; arrow=&quot;true&quot;&gt;
&lt;h:outputText value=&quot;#{text['name']}&quot; /&gt;
&lt;/t:commandSortHeader&gt;
&lt;/f:facet&gt;
&lt;t:commandLink action=&quot;#{organizationBean.view}&quot; immediate=&quot;true&quot;&gt;
&lt;h:outputText id=&quot;name&quot; value=&quot;#{organization.name}&quot; /&gt;
&lt;!-- for convenience: MyFaces extension. sets id of current row in countryForm --&gt;
&lt;!-- you don't have to implement a custom action! --&gt;
&lt;t:updateActionListener property=&quot;#{organizationBean.id}&quot;
value=&quot;#{organization.id}&quot; /&gt;
&lt;/t:commandLink&gt;
&lt;/h:column&gt;
&lt;h:column&gt;
&lt;h:commandLink action=&quot;#{organizationBean.edit}&quot;&gt;
&lt;f:param name=&quot;id&quot; value=&quot;#{organization.id}&quot; /&gt;
&lt;h:outputText id=&quot;edit&quot; value=&quot;#{text['edit']}&quot; /&gt;
&lt;/h:commandLink&gt;
&lt;/h:column&gt;
&lt;/t:dataTable&gt;
&lt;t:dataScroller id=&quot;scroll_1&quot; for=&quot;organizationData&quot; fastStep=&quot;10&quot;
pageCountVar=&quot;pageCount&quot; pageIndexVar=&quot;pageIndex&quot;
styleClass=&quot;scroller&quot; paginator=&quot;true&quot; paginatorMaxPages=&quot;9&quot;
paginatorTableClass=&quot;paginator&quot;
paginatorActiveColumnStyle=&quot;font-weight:bold;&quot;
&gt;
&lt;f:facet name=&quot;first&quot;&gt;
&lt;t:graphicImage url=&quot;images/arrow-first.gif&quot; border=&quot;1&quot; /&gt;
&lt;/f:facet&gt;
&lt;f:facet name=&quot;last&quot;&gt;
&lt;t:graphicImage url=&quot;images/arrow-last.gif&quot; border=&quot;1&quot; /&gt;
&lt;/f:facet&gt;
&lt;f:facet name=&quot;previous&quot;&gt;
&lt;t:graphicImage url=&quot;images/arrow-previous.gif&quot; border=&quot;1&quot; /&gt;
&lt;/f:facet&gt;
&lt;f:facet name=&quot;next&quot;&gt;
&lt;t:graphicImage url=&quot;images/arrow-next.gif&quot; border=&quot;1&quot; /&gt;
&lt;/f:facet&gt;
&lt;f:facet name=&quot;fastforward&quot;&gt;
&lt;t:graphicImage url=&quot;images/arrow-ff.gif&quot; border=&quot;1&quot; /&gt;
&lt;/f:facet&gt;
&lt;f:facet name=&quot;fastrewind&quot;&gt;
&lt;t:graphicImage url=&quot;images/arrow-fr.gif&quot; border=&quot;1&quot; /&gt;
&lt;/f:facet&gt;
&lt;/t:dataScroller&gt;
&lt;t:dataScroller id=&quot;scroll_2&quot; for=&quot;organizationData&quot;
rowsCountVar=&quot;rowsCount&quot; displayedRowsCountVar=&quot;displayedRowsCountVar&quot;
firstRowIndexVar=&quot;firstRowIndex&quot; lastRowIndexVar=&quot;lastRowIndex&quot;
pageCountVar=&quot;pageCount&quot; pageIndexVar=&quot;pageIndex&quot;
&gt;
&lt;h:outputFormat value=&quot;#{text['list_info']}&quot; styleClass=&quot;standard&quot;&gt;
&lt;f:param value=&quot;#{rowsCount}&quot; /&gt;
&lt;f:param value=&quot;#{displayedRowsCountVar}&quot; /&gt;
&lt;f:param value=&quot;#{firstRowIndex}&quot; /&gt;
&lt;f:param value=&quot;#{lastRowIndex}&quot; /&gt;
&lt;f:param value=&quot;#{pageIndex}&quot; /&gt;
&lt;f:param value=&quot;#{pageCount}&quot; /&gt;
&lt;/h:outputFormat&gt;
&lt;/t:dataScroller&gt;
TransientRepository with LocalFileSystem eventually causes Repository data to be stored at path '/'
I'm using a TransitoryRepository for my unit testing, with the repository's file system specified as:
&lt;FileSystem class=&quot;org.apache.jackrabbit.core.fs.local.LocalFileSystem&quot;&gt;
&lt;param name=&quot;path&quot; value=&quot;${rep.home}/repository&quot;/&gt;
&lt;/FileSystem&gt;
I noticed today that when I run my unit tests Jackrabbit is creating four directories at the root of my hard drive: &quot;meta&quot;, &quot;namespaces&quot;, &quot;nodetypes&quot;, and &quot;data&quot;. I tracked the problem the fact that when a LocalFileSystem is closed, it sets the &quot;root&quot; to null - an invalid state. But when using a TransitoryRepository, the invalid state is never discovered because the LocalFileSystem object itself is not released, or re-initialized. It is simply used to create BasedFileSystem objects in RepositoryImpl. Calls to BasedFileSystem defer to the LocalFileSystem object that now has a null root. Inside the LocalFileSystem, all the calls to Java's io.File constructor have a &quot;null&quot; parent parameter, causing File to fall back to its single argument constructor which sees the path &quot;/meta&quot; and happily creates files at the root of the disk.
I'm not sure what the best solution is, but some thoughts I've had are:
- don't set the &quot;root&quot; property to null when closing a LocalFileSystem
- make RepositoryConfig re-init the FileSystem variable when it is accessed.
- don't cache the RepositoryConfig in TransitoryRepository (this might also require a new constructor that takes a class-path resource for the repository configuration file)
Slave does not detect master failover when master is solaris and slave on windows
clients on windows don't failover to slave - see http://forums.activemq.org/posts/list/409.page
Documentation needs to be updated with correct return type for COUNT functions
Derby Reference manual (Section 'Built-in functions', pg80-81) specifies the resulting data type of COUNT and COUNT(*) functions as BIGINT. Whereas, Derby returns INTEGER type for these functions. 
4.0 M4 IndexOutOfBoundException
Exception in thread &quot;tcp://localhost/127.0.0.1:61636&quot; java.lang.IndexOutOfBoundsException
at java.io.DataInputStream.readFully(DataInputStream.java:173)
at org.apache.activemq.openwire.BooleanStream.unmarshal(BooleanStream.java:88)
at org.apache.activemq.openwire.OpenWireFormat.doUnmarshal(OpenWireFormat.java:213)
at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:181)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:135)
at java.lang.Thread.run(Thread.java:595)
add header block in soap header uses a local variable as a hash key
in axis2_soap_header_add_header_block we have:
axis2_char_t key[10];
sprintf(key,&quot;%d&quot;, header_impl-&gt;hbnumber++);
axis2_hash_set(header_impl-&gt;header_blocks,
key , AXIS2_HASH_KEY_STRING, header_block);
The moment axis2_soap_header_add_header_block returns, key will be no more and thus the hash table contains garbage as key.
Taking a node from a node tree and adding that to another tree fails to manage the node links properly
In axis2_om_node_add_child, if the passed child node has a current parent, that parents links are not updated properly.
Invalid Acknowledgement on onMessage inside a transaction
test case for this issue is at ..\usecases\PublishOnQueueConsumedMessageInTransactionTest . 
a &quot;javax.jms.JMSException: Invalid acknowledgment:&quot; occurs when running a session.commit() inside onMessage() in a transaction. This doesnt get replicated replicated when using consumer.receive().
The warning message is not thrown back to the client and only displayed on the broker console. To see the message modify the test case to connect to a remote broker.
http://forums.activemq.org/posts/list/364.page
http://forums.activemq.org/posts/list/320.page
Field errors should be displayed in the order they're in the POJO
It would be nice if the fieldErrors were displayed in the order that they appear after validating the form. The following (at the top of my form) renders a pretty random order (not at all in-line with the field or POJO properties order).
&lt;ww:iterator value=&quot;fieldErrors&quot;&gt;
&lt;ww:iterator value=&quot;value&quot;&gt;
&lt;img src=&quot;&lt;c:url value=&quot;/images/iconWarning.gif&quot;/&gt;&quot;
alt=&quot;&lt;fmt:message key=&quot;icon.warning&quot;/&gt;&quot; class=&quot;icon&quot; /&gt;
&lt;ww:property/&gt;&lt;br /&gt;
&lt;/ww:iterator&gt;
&lt;/ww:iterator&gt; 
OgnlUtil.copy corrupts cglib proxied actions
OgnlUtil.copy copies too much. It should only copy the getters and setters from the classes. It looks like it is doing an exhaustive effort to copy of the cglib properties as well. This winds up corrupting the reference to the action, plus it does more work that it needs to do.
There need to be a way to exclude properties or have a separate chaining interceptor that is cglib friendly.
see the stack trace below.
Invoking a method on com.actions.MoreViewAction caused a ClassCastException because it was morphed to referencing com.actions.DnsViewAction (the first action in the chain).
java.lang.ClassCastException: com.actions.DnsViewAction
example stack trace below
com.actions.MoreViewAction$$FastClassByCGLIB$$9dd5ceae.invoke(&lt;generated&gt;)
net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:149)
org.springframework.aop.framework.Cglib2AopProxy$MethodInvocationImpl.invokeJoinpoint(Cglib2AopProxy.java:913)
org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:120)
org.springframework.aop.interceptor.DebugInterceptor.invoke(DebugInterceptor.java:41)
org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:140)
org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:628)
com.actions.MoreViewAction$$EnhancerByCGLIB$$2ef004b4.someThingElse(&lt;generated&gt;)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
java.lang.reflect.Method.invoke(Method.java:585)
com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:302)
com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:170)
com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)
com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)
com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:115)
com.opensymphony.xwork.ActionChainResult.execute(ActionChainResult.java:115)
com.opensymphony.xwork.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:263)
com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:187)
com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)
com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)
com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:115)
com.opensymphony.webwork.dispatcher.ServletDispatcher.serviceAction(ServletDispatcher.java:229)
com.opensymphony.webwork.dispatcher.ServletDispatcher.service(ServletDispatcher.java:199)
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
com.opensymphony.webwork.lifecycle.RequestLifecycleFilter.doFilter(RequestLifecycleFilter.java:67)
note
typeconversion annotation key defaults to empty string
In TypeConversion.java:
/**
* The optional key name used within TYPE level annotations.
* Defaults to the property name.
*/
String key() default &quot;&quot;;
Then in:
AnnotationXWorkConverter.java:
for (Annotation annotation : annotations) {
if (annotation instanceof TypeConversion) {
TypeConversion tc = (TypeConversion) annotation;
String key = tc.key();
---
the key thus defaults to &quot;&quot;, and not the property name.
This probably does not apply to the conversions property of Conversion annotation, but might want to signal it as an error for the use in that case as well. 
http://forums.opensymphony.com/thread.jspa?threadID=18181&amp;tstart=0
The footer facet for the t:dataTable is not rendered
Hi,
the footer facet of the table is not rendered. I use only t:column tags with commandSortHeaders inside the t:dataTable. 
manu
java.nio.charset.CharsetDecoder constructor doesn't throw IllegalArgumentException when averageCharsPerByte is greater than maxCharsPerByte.
As spec says, constructor throws IllegalArgumentException when parameters are illegal. It should be considered as illegal parameters when averageCharsPerByte is greater than maxCharsPerByte.
Constructors of java.nio.charset.CharsetEncoder do not validate arguments
Constructors of java.nio.charset.CharsetEncoder should throw IllegalArgumentException when averageBytesPerChar exceeds maxBytesPerChar.
1.2.9.0 Documentation typos
'------------------------------------------------------------------------------------------------------------------------------------
http://logging.apache.org/log4net/release/sdk/log4net.Layout.PatternLayout.html 
This page has &quot;It's&quot; instead of &quot;Its&quot; in the following text (this appears several times) 
WARNING Generating caller location information is extremely slow. It's use should be avoided unless execution speed is not an issue. 
------------------------------------------------------------------------------------------------------------------------------------. 
http://logging.apache.org/log4net/release/faq.html#what-is-log4net 
This page has a broken link at the bottom of the page under the &quot;How do I report bugs?&quot; title, where it says &quot;See the support page for details.&quot; 
The &quot;support&quot; link here is broken here (it's set to http://logging.apache.org/support.html instead of http://logging.apache.org/log4net/support.html) 
------------------------------------------------------------------------------------------------------------------------------------
Page http://logging.apache.org/log4net/release/manual/configuration.html
Typo 1:
In the following paragraph, the Last sentence should have &quot;logger&quot; as plural, i.e. &quot;All loggers ultimately...&quot;
Root Logger
Only one root logger element may only be defined and it must be a child of &lt;log4net&gt; element. The root logger is the root of the logger hierarchy. All loggers ultimately inherit from this logger.
Typo 2:
Under the &quot;Loggers&quot; section, the &quot;additivity&quot; attribute is mentioned as a required attribute in the table of attributes, whereas I believe it is optional.
------------------------------------------------------------------------------------------------------------------------------------
InternetAddress.getLocalAddress() does not properly implement the local address resolution path.
The InternetAddress.getLocalAddress() method is not properly implementing the full address resolution path for all paths. In particular, if a session is provided, it does not fall back to using the &quot;user.name&quot; system property as the last default value.
javamail Transport.send() is not issuing connect() on the transport before sending the message.
This was reported on the geronimo user list (problem report attached below). The error is occuring because the Transport.send() code is failing to surround the sendMessage() call with connect() and close() calls on the transport, resulting in the connection failure. Additionally, this code is not properly merging send failures for multiple transports into a single SendFailedException with proper reporting of which addresses the message was not sent to. 
Hi Alex,
I am trying to send mail from a servlet. Here is my geronimo-web.xml:
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns=&quot;http://geronimo.apache.org/xml/ns/j2ee/web-1.1&quot; xmlns:nam=&quot;http://geronimo.apache.org/xml/ns/naming-1.1&quot; xmlns:sec=&quot;http://geronimo.apache.org/xml/ns/security-1.1&quot; xmlns:sys=&quot;http://geronimo.apache.org/xml/ns/deployment-1.1&quot; configId=&quot;MailWebApp/MailWebApp&quot;&gt;
&lt;dependency&gt;
&lt;uri&gt;geronimo/geronimo-mail/1.2-SNAPSHOT&lt;/uri&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
&lt;uri&gt;geronimo/geronimo-javamail-transport/1.2-SNAPSHOT&lt;/uri&gt;
&lt;/dependency&gt;
&lt;context-root&gt;/MailWebApp&lt;/context-root&gt;
&lt;context-priority-classloader&gt;false&lt;/context-priority-classloader&gt;
&lt;resource-ref&gt;
&lt;ref-name&gt;mail/MailSession&lt;/ref-name&gt;
&lt;target-name&gt;
geronimo.server:J2EEApplication=null,J2EEModule=MailWebApp/MailWebApp,J2EEServer=geronimo,j2eeType=JavaMailResource,name=MailSession
&lt;/target-name&gt;
&lt;/resource-ref&gt;
&lt;gbean name=&quot;MailSession&quot; class=&quot;org.apache.geronimo.mail.MailGBean&quot;&gt;
&lt;attribute name=&quot;transportProtocol&quot;&gt;smtp&lt;/attribute&gt;
&lt;attribute name=&quot;host&quot;&gt;9.182.150.56&lt;/attribute&gt;
&lt;attribute name=&quot;useDefault&quot;&gt;false&lt;/attribute&gt;
&lt;attribute name=&quot;properties&quot;&gt;
mail.debug=true
mail.from=c1vamsi1c@gmail.com
mail.smtp.port=25&lt;/attribute&gt; 
&lt;/gbean&gt;
&lt;/web-app&gt;
Here are the imports and the doGet() method in my servlet.
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.Message.RecipientType;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
response.setContentType(&quot;text/plain&quot;);
PrintWriter out = response.getWriter();
try {
InitialContext ic = new InitialContext();
Session mailSession = (Session) ic.lookup(&quot;java:comp/env/mail/MailSession&quot;);
mailSession.setDebug(true);
mailSession.setDebugOut(System.err);
out.println(&quot;session = &quot;+mailSession);
MimeMessage msg = new MimeMessage(mailSession);
msg.setRecipients(RecipientType.TO, new InternetAddress[] {new InternetAddress(&quot;c1vamsi1c@gmail.com&quot;)});
msg.setSubject(&quot;Mail sent by MailerServlet&quot;);
msg.setText(&quot;Hello&quot;);
msg.setFrom(InternetAddress.getLocalAddress(mailSession));
Transport.send(msg);
} catch (Exception e) {
e.printStackTrace(out);
}
} 
When I access the servlet, I am getting the following Exception.
java.lang.IllegalStateException: Not connected
at org.apache.geronimo.javamail.transport.smtp.SMTPTransport.sendMessage(SMTPTransport.java:356)
at javax.mail.Transport.send(Transport.java:80)
at javax.mail.Transport.send
(Transport.java:46)
at mailwebapp.MailerServlet.doGet(MailerServlet.java:64)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:595)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.StandardWrapperValve.invoke
(StandardWrapperValve.java:213)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
at org.apache.geronimo.tomcat.valve.DefaultSubjectValve.invoke(DefaultSubjectValve.java:46)
at org.apache.geronimo.tomcat.GeronimoStandardContext$SystemMethodValve.invoke(GeronimoStandardContext.java:273)
at org.apache.geronimo.tomcat.valve.GeronimoBeforeAfterValve.invoke(GeronimoBeforeAfterValve.java:31)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
at org.apache.catalina.core.StandardEngineValve.invoke
(StandardEngineValve.java:107)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:541)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
at org.apache.coyote.http11.Http11Processor.process
(Http11Processor.java:869)
at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:667)
at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java
:527)
at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
at java.lang.Thread.run
(Unknown Source)
Any guesses on what I am doing differently?
Thanks,
Vamsi
SMTPTransport not throwing correct exception for message send failures.
The SMTPTransport is throwing a simple MessagingException for failures due to the SMTP DATA command. This sort of failure should be throwing a SendFailedException with the address list information indicating that this was a failure to all of the valid addresses (and also listing the invalid addresses). 
This was discovered while fixing 1669.
Chain Result throws Exception when you use a actionName with a method
If you use this example result type
&lt;result type=&quot;chain&quot; name=&quot;input.show&quot;&gt;
&lt;param name=&quot;actionName&quot;&gt;User!list&lt;/param&gt;
&lt;param name=&quot;namespace&quot;&gt;/admin&lt;/param&gt;
&lt;/result&gt;
You get an Exception.
The solution is in com.opensymphony.xwork.DefaultActionProxy.java
protected DefaultActionProxy(String namespace, String actionName, Map extraContext, boolean executeResult, boolean cleanupContext) throws Exception {
this.cleanupContext = cleanupContext;
if (LOG.isDebugEnabled()) {
LOG.debug(&quot;Creating an DefaultActionProxy for namespace &quot; + namespace + &quot; and action name &quot; + actionName);
}
// START PATCH
int posExcl = actionName.indexOf(&quot;!&quot;);
if (posExcl &gt; -1) {
this.method = actionName.substring(posExcl+1);
actionName = actionName.substring(0, posExcl);
}
// END PATCH
this.actionName = actionName;
this.namespace = namespace;
this.executeResult = executeResult;
this.extraContext = extraContext;
Security module native build incorrectly use PATH variable
modules/security/make/build.xml, line 163
&lt;property name=&quot;cPath&quot; value=&quot;${PATH};${env.Path}&quot; /&gt;
Should be probably changed to 
&lt;property name=&quot;cPath&quot; value=&quot;${PATH};${env.PATH}&quot; /&gt;
Since environment variables are case sensitive.
strange exec behaviour with harmony vme/classlib
I'm seeing very odd behaviour from ant exec tasks that set environment variables - such as the one in the security natives. The exec is failing with failed to execute command. Worse still if I create a matching executable in the basedir then that gets executed even if basedir is not in the path. This would be a potential security problem in other situations. I'll attach a test case shortly.
[Patch] Allow ImageReader to process other image formats than JPEG
Changed org.apache.cocoon.reading.ImageReader (from the 2.1.5.1 release) to
accept any input image type supported by the j2se. Of course, due to the lack of
available encoders the output is still jpeg. Instead of the JPEGDecoder used
previously this now uses classes from java.awt and java.swing. In order for this
to work on environments without graphics support, use -Djava.awt.headless=true
snapshot tar.gz has wrong permissions on java executable
I'll attach a patch to fix the snapshot target make/build.xml.
FetchPlan.getGroups is defined to return Collection. It is defined to return Set in the specification.
FetchPlan.getGroups is defined to return Collection. It is defined to return Set in the specification.
TypeHandlers for &quot;System.Nullable(Of&quot; fails with custom types
&lt;typeHandler
type=&quot;System.Nullable`1[[ATG.Money, ATG.Money]]&quot; dbType=&quot;Currency&quot; callback=&quot;ATG.Database.TypeHandlers.NullableMoneyTypeHandlerCallback, ATG.Database&quot;/&gt;
This fails inside the function SplitTypeAndAssemblyNames. The function
simply splits on the ',' to find the dll to load. If I change this
function to check if it is a generic type string it works fine.
if (typeAssemblyIndex &lt; 0 || originalTypeName.Contains(&quot;`1[[&quot;))
Derby javadoc has lots of warnings
The Derby javadoc has many warnings that could be cleaned up. 
A full list of javadoc warnings can be produced by invoking the javadoc target in the top level build file. Rather than posting current warnings here now, probably the best way to address this issue is for the fixer to build the javadoc and get a current list.
If you want to address just the errors in some of the directories, open a subtask and assign it to yourself.
To reproduce 
ant javadoc
produces 
[javadoc] D:\p4\marsden_derby\opensource\java\engine\org\apache\derby\impl\sql\compile\AggregateDefinition.java:54: warning - Tag @see: can't find getTypeFactory in org.apache.derby.iapi.db.Factory
[javadoc] D:\p4\marsden_derby\opensource\java\engine\org\apache\derby\iapi\services\classfile\ClassHolder.java:313: warning - Tag @see: can't find addInteger in org.apache.derby.iapi.services.classfile.ClassHolder
[javadoc] D:\p4\marsden_derby\opensource\java\engine\org\apache\derby\iapi\services\classfile\ClassHolder.java:318: warning - Tag @see: can't find addFloat in org.apache.derby.iapi.services.classfile.ClassHolder
[javadoc] D:\p4\marsden_derby\opensource\java\engine\org\apache\derby\iapi\services\classfile\ClassHolder.java:323: warning - Tag @see: can't find addLong in org.apache.derby.iapi.services.classfile.ClassHolder
[javadoc] D:\p4\marsden_derby\opensource\java\engine\org\apache\derby\iapi\services\classfile\ClassHolder.java:328: warning - Tag @see: can't find addDouble in org.apache.derby.iapi.services.classfile.ClassHolder
.....
RPC call times out while indexing map task is computing splits
We've been using Nutch 0.8 (MapReduce) to perform some internet crawling. Things seemed to be going well until...
060129 222409 Lost tracker 'tracker_56288'
060129 222409 Task 'task_m_10gs5f' has been lost.
060129 222409 Task 'task_m_10qhzr' has been lost.
........
........
060129 222409 Task 'task_r_zggbwu' has been lost.
060129 222409 Task 'task_r_zh8dao' has been lost.
060129 222455 Server handler 8 on 8010 caught: java.net.SocketException: Socket closed
java.net.SocketException: Socket closed
at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:99)
at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)
at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)
at java.io.DataOutputStream.flush(DataOutputStream.java:106)
at org.apache.nutch.ipc.Server$Handler.run(Server.java:216)
060129 222455 Adding task 'task_m_cia5po' to set for tracker 'tracker_56288'
060129 223711 Adding task 'task_m_ffv59i' to set for tracker 'tracker_25647'
I'm hoping that someone could explain why task_m_cia5po got added to tracker_56288 after this tracker was lost.
The Crawl .main process died with the following output:
060129 221129 Indexer: adding segment: /user/crawler/crawl-20060129091444/segments/20060129200246
Exception in thread &quot;main&quot; java.io.IOException: timed out waiting for response
at org.apache.nutch.ipc.Client.call(Client.java:296)
at org.apache.nutch.ipc.RPC$Invoker.invoke(RPC.java:127)
at $Proxy1.submitJob(Unknown Source)
at org.apache.nutch.mapred.JobClient.submitJob(JobClient.java:259)
at org.apache.nutch.mapred.JobClient.runJob(JobClient.java:288)
at org.apache.nutch.indexer.Indexer.index(Indexer.java:263)
at org.apache.nutch.crawl.Crawl.main(Crawl.java:127)
However, it definitely seems as if the JobTracker is still waiting for the job to finish (no failed jobs).
Doug Cutting's response:
The bug here is that the RPC call times out while the map task is computing splits. The fix is that the job tracker should not compute splits until after it has returned from the submitJob RPC. Please submit a bug in Jira to help remind us to fix this.
manifest.mf must include Specification-Version
the manifest.mf generated file does not include Specification-Version
Inheritance3 : should check if the JDO implementation supports &quot;javax.jdo.option.mapping.RelationSubclassTable&quot;
The inheritance3 test should check whether PMF.supportedOptions contains &quot;javax.jdo.option.mapping.RelationSubclassTable&quot; before running the test. JPOX doesn't support this option yet the test still runs (and fails)
DatabaseMetadata method supportsResultSetConcurrency returns wrong result on network client
The DatabaseMetaData method supportsResultSetConcurrency erroneously
returns false on the network client for all arguments combination, cf
the attached repro program. The embedded client returns correct
results, viz the output:
org.apache.derby.jdbc.ClientDriver:
SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_READ_ONLY: false
SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_UPDATABLE: false
SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_READ_ONLY: false
SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_UPDATABLE: false
SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_READ_ONLY: false
SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_UPDATABLE: false
org.apache.derby.jdbc.EmbeddedDriver:
SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_READ_ONLY: true
SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_UPDATABLE: true
SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_READ_ONLY: true
SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_UPDATABLE: false
SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_READ_ONLY: false
SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_UPDATABLE: false
Presumably, this is wrong in released versions as well.
Endpoint becomes invalid if the MDB MessageListener throws a runtime exception.
No parts in WSDL crashing the wsdlws generator
The attached WSDL gives an error
[java] WARNING: Unable to find required classes (javax.activation.DataHandl
er and javax.mail.internet.MimeMultipart). Attachment support is disabled.
[java] java.util.NoSuchElementException
[java] at java.util.HashMap$HashIterator.nextEntry(HashMap.java:785)
[java] at java.util.HashMap$ValueIterator.next(HashMap.java:812)
[java] at org.apache.axis.wsdl.wsdl2ws.WSDL2Ws.addDocumentStyleInputMes
sageToMethodInfo(Unknown Source)
[java] at org.apache.axis.wsdl.wsdl2ws.WSDL2Ws.setMethodInfo(Unknown So
urce)
[java] Code generation failed. Please see errors above.
[java] at org.apache.axis.wsdl.wsdl2ws.WSDL2Ws.getServiceInfo(Unknown S
ource)
[java] at org.apache.axis.wsdl.wsdl2ws.WSDL2Ws.generateWrappers(Unknown
Source)
[java] at org.apache.axis.wsdl.wsdl2ws.WSDL2Ws.main(Unknown Source)
due to the lack of a part in the input message.
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;wsdl:definitions targetNamespace=&quot;urn:somecompany/platform/v1_0&quot; xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:apachesoap=&quot;http://xml.apache.org/xml-soap&quot; xmlns:impl=&quot;urn:somecompany/platform/v1_0&quot; xmlns:intf=&quot;urn:somecompany/platform/v1_0&quot; xmlns:soapenc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:wsdlsoap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;
&lt;wsdl:types&gt;
&lt;schema targetNamespace=&quot;urn:somecompany/platform/v1_0&quot; xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;
&lt;xsd:complexType name=&quot;UserTokenType&quot;&gt; 
&lt;xsd:sequence&gt;
&lt;element name=&quot;Token&quot; type=&quot;xsd:string&quot;/&gt;
&lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;
&lt;element name=&quot;UserTokenReturn&quot; type=&quot;impl:UserTokenType&quot;/&gt;
&lt;/schema&gt;
&lt;/wsdl:types&gt;
&lt;wsdl:message name=&quot;getUserTokenRequest&quot;&gt;
&lt;/wsdl:message&gt;
&lt;wsdl:message name=&quot;getUserTokenResponse&quot;&gt;
&lt;wsdl:part element=&quot;impl:UserTokenReturn&quot; name=&quot;getUserTokenReturn&quot;/&gt;
&lt;/wsdl:message&gt;
&lt;wsdl:portType name=&quot;MyAuthentication&quot;&gt;
&lt;wsdl:operation name=&quot;getUserToken&quot;&gt;
&lt;wsdl:input message=&quot;impl:getUserTokenRequest&quot; name=&quot;getUserTokenRequest&quot;/&gt;
&lt;wsdl:output message=&quot;impl:getUserTokenResponse&quot; name=&quot;getUserTokenResponse&quot;/&gt;
&lt;/wsdl:operation&gt;
&lt;/wsdl:portType&gt;
&lt;wsdl:binding name=&quot;MyAuthenticationSoapBinding&quot; type=&quot;impl:MyAuthentication&quot;&gt;
&lt;wsdlsoap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;
&lt;wsdl:operation name=&quot;getUserToken&quot;&gt;
&lt;wsdlsoap:operation soapAction=&quot;&quot;/&gt;
&lt;wsdl:input name=&quot;getUserTokenRequest&quot;&gt;
&lt;wsdlsoap:body namespace=&quot;urn:somecompany/platform/v1_0&quot; use=&quot;literal&quot;/&gt;
&lt;/wsdl:input&gt;
&lt;wsdl:output name=&quot;getUserTokenResponse&quot;&gt;
&lt;wsdlsoap:body namespace=&quot;urn:somecompany/platform/v1_0&quot; use=&quot;literal&quot;/&gt;
&lt;/wsdl:output&gt;
&lt;/wsdl:operation&gt;
&lt;/wsdl:binding&gt;
&lt;wsdl:service name=&quot;MyAuthenticationService&quot;&gt;
&lt;wsdl:port binding=&quot;impl:MyAuthenticationSoapBinding&quot; name=&quot;MyAuthentication&quot;&gt;
&lt;wsdlsoap:address location=&quot;http://localhost:8888/myapp/services/MyAuthentication?wsdl&quot;/&gt;
&lt;/wsdl:port&gt;
&lt;/wsdl:service&gt;
&lt;/wsdl:definitions&gt;
Seems like in WSDL2Ws.addDocumentStyleInputMessageToMethodInfo a check for
existence (hasNext()) has been missed.
paramlist = op.getInput().getMessage().getParts().values().iterator();
Part part = (Part) paramlist.next(); &lt;-- this can be null
QName minfoqname;
element = symbolTable.getElement(part.getElementName());
Bug in RollingFileAppender.cs causing failure to timely roll files on monthly interval
code in said file looks like this
case RollPoint.TopOfMonth:
current = current.AddMilliseconds(-current.Millisecond);
current = current.AddSeconds(-current.Second);
current = current.AddMinutes(-current.Minute);
current = current.AddHours(-current.Hour);
current = current.AddMonths(1);
break;
i belive it should look something like this
case RollPoint.TopOfMonth:
current = current.AddMilliseconds(-current.Millisecond);
current = current.AddSeconds(-current.Second);
current = current.AddMinutes(-current.Minute);
current = current.AddHours(-current.Hour);
current = current.AddDays(1 - current.Day); // this line seems to be needed
current = current.AddMonths(1);
break;
also in a separate issue, since there is no RollPoint.TopOfYear, this comment in another part of the code seems wrong:
//is the new file name equivalent to the 'current' one
//something has gone wrong if we hit this -- we should only
//roll over if the new file will be different from the old
string dateFormat = m_now.ToString(m_datePattern, System.Globalization.DateTimeFormatInfo.InvariantInfo);
if (m_scheduledFilename.Equals(File + dateFormat)) 
{
ErrorHandler.Error(&quot;Compare &quot; + m_scheduledFilename + &quot; : &quot; + File + dateFormat);
return;
}
if the date pattern specifies only the year (rolling yearly), then i think this &quot;error&quot; will be triggered incorrectly 11 times a year. it's fine not to roll, but reporting an error is inappropriate.
the name of the containershould not be appended to the working dir since it is configured for a given container
generateScopeId not rendering required JavaScript in some cases
I was able to recreate this using this html snippet.
&lt;netui:html generateIdScope=&quot;true&quot;&gt;
&lt;netui:scriptHeader/&gt;
&lt;netui:divPanel tagId=&quot;foo&quot;/&gt;
&lt;/netui:html&gt;
This is the HTML that was generated, note it doesn't have any lookup javascript.
&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;
&gt;
&lt;html lang=&quot;en&quot; netui:idScope=&quot;n0&quot;&gt;
&lt;script language=&quot;JavaScript&quot; type=&quot;text/JavaScript&quot; src=&quot;/expr6Web/resources/beehive/version1/javascript/netui-tree.js&quot;&gt;&lt;/script&gt;
&lt;div id=&quot;n0.foo&quot; netui-div-panel=&quot;true&quot;&gt;&lt;/div&gt;
&lt;script language=&quot;JavaScript&quot; type=&quot;text/JavaScript&quot;&gt;
&lt;!--
// **** Start the NetUI Framework Generated JavaScript ****
// write out the webapp name
netUI.webAppName = &quot;/expr6Web&quot;;
netUI.netUIDivPanel = new NetUIDivPanel();
netUI.netUIDivPanel.init();
--&gt;
&lt;/script&gt;
&lt;/html&gt;
OnlineBackupTest1.java intermittently hangs
OnlineBackupTest1.java intermittently hangs(endless loop - 100% cpu). I have seen this on &quot;all&quot; of the platforms we test on.
Seen in &quot;derbyall&quot; itself and runs of derbyall sub-testsuites storemoe and storeall.
Some cases:
storemore in
http://www.multinet.no/~solberg/public/Apache/Derby/Limited/testSummary-354827.html
http://www.multinet.no/~solberg/public/Apache/Derby/Limited/testSummary-355169.html
(Details, including sysinfo, in http://www.multinet.no/~solberg/public/Apache/Derby/testlog/SunOS-5.10_i86pc-i386/355169.zip )
storeall in
http://www.multinet.no/~solberg/public/Apache/Derby/Limited/testSummary-355569.html
SM-162
Management results messages should conform to the jbi xml syntax
the ExternalRefResolver instances aren't instantiated using the ObjectFactory
StreamWriteFilterTest.testWriteUsingSocketTransport fails on OS X
It fails with a SocketException saying 'Illegal Argument', which is odd, since 0 is a valid argument per the docs. But, a fix is provided below.
SMTPTransport is not performing byte-stuffing and newline canonicalization on message data.
The MIME spec requires that all message line breaks be converted into proper CRLF sequence (linebreak canonicalization) and that any period at the beginning of a line be &quot;byte-stuffed&quot; (two periods written out instead of one). The current SMTPTransport is just takes the message data as is. The byte-stuffing is particularly important, since this prevents periods within the message from being mistaken with the DATA command terminator string. This fault can cause message truncation.
Fresh build fails because of unsatisfied dependency on activecluster in configs/openejb
The exception is thrown while executing the 'new' goal, but I have
narrowed it to m:geronimo:configs call from new.
Executing the goal gives a:
10:42:01,278 ERROR [PackageBuilder]
org.apache.geronimo.common.DeploymentException:
org.apache.geronimo.kernel.repository.MissingDependencyException: uri
activecluster/activecluster/1.2-20051115174934/jar not found in repository
org.apache.geronimo.common.DeploymentException:
org.apache.geronimo.kernel.repository.MissingDependencyException: uri
activecluster/activecluster/1.2-20051115174934/jar not found in repository
at
org.apache.geronimo.deployment.service.ServiceConfigBuilder.getDependencyURI(ServiceConfigBuilder.java:402)
at
org.apache.geronimo.deployment.service.ServiceConfigBuilder.addDependencies(ServiceConfigBuilder.java:276)
at
org.apache.geronimo.deployment.service.ServiceConfigBuilder.addDependencies(ServiceConfigBuilder.java:303)
at
org.apache.geronimo.deployment.service.ServiceConfigBuilder.buildConfiguration(ServiceConfigBuilder.java:204)
at
org.apache.geronimo.deployment.service.ServiceConfigBuilder.buildConfiguration(ServiceConfigBuilder.java:167)
at
org.apache.geronimo.deployment.service.ServiceConfigBuilder$$FastClassByCGLIB$$9f173be6.invoke(&lt;generated&gt;)
at net.sf.cglib.reflect.FastMethod.invoke(FastMethod.java:53)
...
...
...
Caused by:
org.apache.geronimo.kernel.repository.MissingDependencyException: uri
activecluster/activecluster/1.2-20051115174934/jar not found in repository
... 68 more
The maven goals I made:
* m:fresh-checkout
* new
I tried updating and copying the jars into the maven local repository,
as Alan Cabrera pointed out, but I still get the exception. I have tried
to build it from scratch too, but I get the same error.
Typo in j2ee-builder's project.xml
Very minor, but caused me confusion when analysing the build order. j2ee-builder thinks it is Geronimo :: J2EE and not Geronimo :: J2EE :: Builder
ServletToolboxManager fails for .war files
When webapps are deployed as .war files and the ServletToolboxManager is loaded from a shared location (mine is in shared/lib on Tomcat), the getInstance(ServletContext,String) method always returns the same manager. This is because the call to ServletContext.getRealPath(String) method, whose return value is used as the key into the managersMap, returns null when the webapp is deployed as a jar, per the servlet API. So, all ServletContext's end up getting/putting their managers using the null key into the managersMap .
This is easy to fix. You just need another way to scope the toolbox filename based on the input ServletContext that's guaranteed to return something unique.
ambiguity on operator+ (fpos, streamoff) in filebuf::sync()
The program below fails to compile on Solaris:
$ cat t.cpp &amp;&amp; make t
#include &lt;fstream&gt;
struct Traits: std::char_traits&lt;char&gt;
{
typedef long off_type;
};
int main ()
{
std::basic_filebuf&lt;char, Traits&gt; fb;
}
gcc -c -I/build/sebor/dev/stdlib/include/ansi -D_RWSTDDEBUG -pthreads -D_RWSTD_USE_CONFIG -I/build/sebor/gcc-4.0.2-15s/include -I/build/sebor/dev/stdlib/include -I/build/sebor/dev/stdlib/../rwtest -I/build/sebor/dev/stdlib/../rwtest/include -I/build/sebor/dev/stdlib/tests/include -pedantic -nostdinc++ -g -W -Wall -Wextra -Wcast-qual -Winline -Wshadow -Wwrite-strings -Wno-long-long t.cpp
/build/sebor/dev/stdlib/include/fstream.cc: In member function `std::basic_streambuf&lt;_CharT, _Traits&gt;* std::basic_filebuf&lt;_CharT, _Traits&gt;::setbuf(_CharT*, std::streamsize) [with _CharT = char, _Traits = Traits]':
/build/sebor/dev/stdlib/include/fstream:109: instantiated from `std::basic_filebuf&lt;_CharT, _Traits&gt;::basic_filebuf() [with _CharT = char, _Traits = Traits]'
t.cpp:10: instantiated from here
/build/sebor/dev/stdlib/include/fstream.cc:524: warning: comparison between signed and unsigned integer expressions
/build/sebor/dev/stdlib/include/fstream:109: instantiated from `std::basic_filebuf&lt;_CharT, _Traits&gt;::basic_filebuf() [with _CharT = char, _Traits = Traits]'
t.cpp:10: instantiated from here
/build/sebor/dev/stdlib/include/fstream.cc:538: warning: comparison between signed and unsigned integer expressions
/build/sebor/dev/stdlib/include/fstream.cc: In member function `int std::basic_filebuf&lt;_CharT, _Traits&gt;::sync() [with _CharT = char, _Traits = Traits]':
/build/sebor/dev/stdlib/include/fstream.cc:517: instantiated from `std::basic_streambuf&lt;_CharT, _Traits&gt;* std::basic_filebuf&lt;_CharT, _Traits&gt;::setbuf(_CharT*, std::streamsize) [with _CharT = char, _Traits = Traits]'
/build/sebor/dev/stdlib/include/fstream:109: instantiated from `std::basic_filebuf&lt;_CharT, _Traits&gt;::basic_filebuf() [with _CharT = char, _Traits = Traits]'
t.cpp:10: instantiated from here
/build/sebor/dev/stdlib/include/fstream.cc:696: warning: comparison between signed and unsigned integer expressions
/build/sebor/dev/stdlib/include/fstream.cc:517: instantiated from `std::basic_streambuf&lt;_CharT, _Traits&gt;* std::basic_filebuf&lt;_CharT, _Traits&gt;::setbuf(_CharT*, std::streamsize) [with _CharT = char, _Traits = Traits]'
/build/sebor/dev/stdlib/include/fstream:109: instantiated from `std::basic_filebuf&lt;_CharT, _Traits&gt;::basic_filebuf() [with _CharT = char, _Traits = Traits]'
t.cpp:10: instantiated from here
/build/sebor/dev/stdlib/include/fstream.cc:764: error: ambiguous overload for 'operator+' in '((std::basic_filebuf&lt;char, Traits&gt;*)this)-&gt;std::basic_filebuf&lt;char, Traits&gt;::_C_beg_pos + __ext_chars'
/build/sebor/dev/stdlib/include/fstream.cc:764: note: candidates are: operator+(int, long int) &lt;built-in&gt;
/build/sebor/dev/stdlib/include/rw/_traits.h:256: note: std::fpos&lt;_StateT&gt; std::fpos&lt;_StateT&gt;::operator+(int) const [with _StateT = __mbstate_t]
/build/sebor/dev/stdlib/include/fstream.cc: In member function `typename std::basic_filebuf&lt;_CharT, _Traits&gt;::int_type std::basic_filebuf&lt;_CharT, _Traits&gt;::underflow() [with _CharT = char, _Traits = Traits]':
t.cpp:10: instantiated from here
/build/sebor/dev/stdlib/include/fstream.cc:169: warning: comparison between signed and unsigned integer expressions
make: *** [t.o] Error 1
filebuf::sgetn() fails after sputn() in stdio mode
The program below fails at runtime (std::ios::stdio is an extension of this implementation that forces the filebuf to use the stdio facilities for I/O instead of OS native calls).
$ cat t.cpp &amp;&amp; gmake t &amp;&amp; ./t
#include &lt;fstream&gt;
#include &lt;cassert&gt;
int main ()
{
std::filebuf fb;
assert (0 != fb.open (&quot;testfile.text&quot;, std::ios::out));
assert (6 == fb.sputn (&quot;ABCDEF&quot;, 6));
assert (0 != fb.close ());
assert (0 != fb.open (&quot;testfile.text&quot;,
std::ios::in | std::ios::out | std::ios::stdio));
assert (3 == fb.sputn (&quot;abc&quot;, 3));
assert (-1 != fb.pubsync ());
char buf [3] = &quot;&quot;;
assert (3 == fb.sgetn (buf, sizeof buf));
assert (0 == std::filebuf::traits_type::compare (&quot;DEF&quot;, buf, 3));
}
aCC -c -I/build/sebor/dev/stdlib/include/ansi -I/usr/include -D_RWSTDDEBUG -mt -D_RWSTD_USE_CONFIG -I/build/sebor/aCC-3.63-15s/include -I/build/sebor/dev/stdlib/include -I/build/sebor/dev/stdlib/../rwtest -I/build/sebor/dev/stdlib/../rwtest/include -I/build/sebor/dev/stdlib/tests/include -Aa +nostl -g +d +w +W392 +W655 +W684 +W818 +W819 +W849 t.cpp
aCC t.o -o t -L/build/sebor/aCC-3.63-15s/rwtest -lrwtest15s -Aa +nostl -Wl,+s -Wl,+vnocompatwarnings -L/build/sebor/aCC-3.63-15s/lib -mt -L/build/sebor/aCC-3.63-15s/lib -lstd15s -lm
Assertion failed: 0 == std::filebuf::traits_type::compare (&quot;DEF&quot;, buf, 3), file t.cpp, line 20
ABORT instruction (core dumped)
DFS node choice doesn't take available space into account effectively
We used to have node-allocation be sensitive to available disk space. It turned out that
this was a little accident-prone and hard to debug on then-available machines, so I removed it.
DFS is mature enough now that this needs to come back and work properly. A node with less
than X bytes should never accept a new block for allocation.
Server segs if client sends invalid XML in SOAP
SOAP:
POST /axis2/services/echo/echo HTTP/1.1
User-Agent:Axis2/C
SOAPAction:
Content-Length:599
Content-Type:application/soap+xml
Host:localhost
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;soapenv:Envelope xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;&lt;soapenv:Header xmlns:wsa=&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing&quot;&gt;&lt;wsa:ReplyTo&gt;&lt;wsa:Address&gt;http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous&lt;/wsa:Address&gt;&lt;/wsa:ReplyTo&gt;&lt;wsa:ReferenceProperties&gt;&lt;/wsa:ReferenceProperties&gt;&lt;wsa:MessageID&gt;2efefcca-abf6-1da1-25e1-001125b4c063&lt;/wsa:MessageID&gt;&lt;/soapenv:Header&gt;&lt;soapenv:Body&gt;&lt;ns1:echoString xmlns:ns1=&quot;http://localhost:9090/axis2/services/echo&quot;&gt;&lt;s:text&gt;echo5&lt;s:/text&gt;&lt;/ns1:echoString&gt;&lt;/soapenv:Body&gt;&lt;/soapenv:Envelope&gt;
gdb Trace:
[critical] libxml2_reader_wrapper.c(838) Namespace prefix s on text is not defined
-- SEVERITY_ERROR
[critical] libxml2_reader_wrapper.c(838) Failed to parse QName 's:'
-- SEVERITY_ERROR
[critical] libxml2_reader_wrapper.c(838) error parsing attribute name
-- SEVERITY_ERROR
[critical] libxml2_reader_wrapper.c(838) attributes construct error
-- SEVERITY_ERROR
[critical] libxml2_reader_wrapper.c(838) Couldn't find end of Start Tag s:
-- SEVERITY_ERROR
[critical] libxml2_reader_wrapper.c(433) critical error occured in xml reader
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread -1208775760 (LWP 3318)]
0x0065d3c3 in axis2_http_transport_utils_process_http_post_request (env=0xb7f383d8, msg_ctx=0x921db60,
in_stream=0x9283eb8, out_stream=0x921bca8, content_type=0x9283cd0 &quot;application/soap+xml&quot;, content_length=599,
soap_action_header=0x9277160 &quot;&quot;, request_uri=0x921bce8 &quot;http://127.0.0.1:8080/axis2/services/echo/echo&quot;)
at ../transport/http/http_transport_utils.c:210
210 AXIS2_OM_STAX_BUILDER_FREE(om_builder, env);
(gdb) bt
#0 0x0065d3c3 in axis2_http_transport_utils_process_http_post_request (env=0xb7f383d8, msg_ctx=0x921db60,
in_stream=0x9283eb8, out_stream=0x921bca8, content_type=0x9283cd0 &quot;application/soap+xml&quot;, content_length=599,
soap_action_header=0x9277160 &quot;&quot;, request_uri=0x921bce8 &quot;http://127.0.0.1:8080/axis2/services/echo/echo&quot;)
at ../transport/http/http_transport_utils.c:210
#1 0x0065c0b9 in axis2_http_worker_process_request (http_worker=0x9282540, env=0xb7f383d8, svr_conn=0x92771a0,
simple_request=0x9277148) at ../transport/http/http_worker.c:304
#2 0x0012ba30 in worker_func (thd=0x92395f8, data=0x9281528) at http_svr_thread.c:316
#3 0x00fd755a in dummy_worker (opaque=0x92395f8) at thread_unix.c:84
#4 0x00735b80 in start_thread () from /lib/libpthread.so.0
#5 0x00396dee in clone () from /lib/libc.so.6
QuickStart does not work on OS X; throws exception
% java -jar webwork-2.2.1.jar quickstart:showcase
Launching Jetty with the following configuration:
Jars/Directory of jars:
/Users/stefan/Java/webwork-2.2.1/lib
Directories of classes:
/Users/stefan/Java/webwork-2.2.1/webapps/showcase/src/webapp/WEB-INF/classes
Sources:
/Users/stefan/Java/webwork-2.2.1/webapps/showcase/src/java
WebApp directories:
/ -&gt; [/Users/stefan/Java/webwork-2.2.1/webapps/showcase/src/webapp]
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (40:1060) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (41:1088) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (42:1117) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (48:1261) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (49:1299) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (50:1335) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (77:1980) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (78:2016) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (79:2045) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (85:2175) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (86:2200) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (87:2236) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (112:2728) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (113:2755) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (114:2784) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (120:2915) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (121:2944) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (122:2990) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (147:3558) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (148:3589) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (149:3620) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (155:3745) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (156:3776) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/LotsOfOptiontransferselectAction.java (157:3803) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (47:1260) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (48:1337) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (49:1412) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (53:1630) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (54:1661) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (57:1739) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (58:1802) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (59:1859) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (62:1961) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (63:2027) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (65:2099) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/UITagExample.java (66:2139) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/action/EmployeeAction.java (141:5188) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/application/MemoryStorage.java (76:3417) : The field MemoryStorage.log is never read locally
warning:com/opensymphony/webwork/showcase/application/MemoryStorage.java (86:3785) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/application/MemoryStorage.java (96:4014) : Type safety: The method put(Object, Object) belongs to the raw type Map. References to generic type Map&lt;K,V&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/dao/AbstractDao.java (71:3226) : The field AbstractDao.log is never read locally
warning:com/opensymphony/webwork/showcase/dao/EmployeeDao.java (69:3045) : The field EmployeeDao.log is never read locally
warning:com/opensymphony/webwork/showcase/dao/EmployeeDao.java (90:3712) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/dao/SkillDao.java (64:2873) : The field SkillDao.log is never read locally
warning:com/opensymphony/webwork/showcase/exception/CreateException.java (13:274) : The field CreateException.log is never read locally
warning:com/opensymphony/webwork/showcase/exception/DeleteException.java (13:274) : The field DeleteException.log is never read locally
warning:com/opensymphony/webwork/showcase/exception/DuplicateKeyException.java (13:285) : The field DuplicateKeyException.log is never read locally
warning:com/opensymphony/webwork/showcase/exception/StorageException.java (13:269) : The field StorageException.log is never read locally
warning:com/opensymphony/webwork/showcase/exception/UpdateException.java (13:274) : The field UpdateException.log is never read locally
warning:com/opensymphony/webwork/showcase/jasper/JasperAction.java (44:1296) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/jasper/JasperAction.java (45:1320) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/jasper/JasperAction.java (46:1344) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/jasper/JasperAction.java (47:1368) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/jasper/JasperAction.java (48:1392) : Type safety: The method add(Object) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/person/EditPerson.java (39:1002) : Type safety: The method addAll(Collection) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/person/EditPerson.java (55:1475) : Type safety: The method add(Object) belongs to the raw type Set. References to generic type Set&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/person/ListPeople.java (22:488) : Type safety: The method addAll(Collection) belongs to the raw type List. References to generic type List&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/person/PersonManager.java (19:419) : Type safety: The method add(Object) belongs to the raw type Set. References to generic type Set&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/person/PersonManager.java (23:500) : Type safety: The method add(Object) belongs to the raw type Set. References to generic type Set&lt;E&gt; should be parameterized
warning:com/opensymphony/webwork/showcase/validation/FieldValidatorsExampleAction.java (30:895) : The field FieldValidatorsExampleAction.randomNumber is never read locally
(monitor.FilesystemAlterationMonitor 363 ) fam running
(http.HttpServer 729 ) Version Jetty/5.1.4
(util.Credential 60 ) Checking Resource aliases
(xml.XmlParser 90 ) EXCEPTION 
java.lang.ClassCastException: com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl
at javax.xml.parsers.SAXParserFactory.newInstance(SAXParserFactory.java:107)
at org.mortbay.xml.XmlParser.&lt;init&gt;(XmlParser.java:70)
at org.mortbay.jetty.servlet.XMLConfiguration.webXmlParser(XMLConfiguration.java:55)
at org.mortbay.jetty.servlet.XMLConfiguration.&lt;init&gt;(XMLConfiguration.java:50)
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
at org.mortbay.jetty.servlet.WebApplicationContext.loadConfigurations(WebApplicationContext.java:385)
at org.mortbay.jetty.servlet.WebApplicationContext.doStart(WebApplicationContext.java:454)
at org.mortbay.util.Container.start(Container.java:72)
at org.mortbay.http.HttpServer.doStart(HttpServer.java:753)
at org.mortbay.util.Container.start(Container.java:72)
at com.opensymphony.webwork.quickstart.JettyServer.startServer(JettyServer.java:28)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.opensymphony.webwork.quickstart.QuickStart.main(QuickStart.java:135)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.opensymphony.webwork.Main.launch(Main.java:175)
at com.opensymphony.webwork.Main.main(Main.java:130)
(servlet.WebApplicationContext 521 ) Configuration error on /Users/stefan/Java/webwork-2.2.1/webapps/showcase/src/webapp
java.lang.reflect.InvocationTargetException
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
at org.mortbay.jetty.servlet.WebApplicationContext.loadConfigurations(WebApplicationContext.java:385)
at org.mortbay.jetty.servlet.WebApplicationContext.doStart(WebApplicationContext.java:454)
at org.mortbay.util.Container.start(Container.java:72)
at org.mortbay.http.HttpServer.doStart(HttpServer.java:753)
at org.mortbay.util.Container.start(Container.java:72)
at com.opensymphony.webwork.quickstart.JettyServer.startServer(JettyServer.java:28)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.opensymphony.webwork.quickstart.QuickStart.main(QuickStart.java:135)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.opensymphony.webwork.Main.launch(Main.java:175)
at com.opensymphony.webwork.Main.main(Main.java:130)
Caused by: java.lang.Error: java.lang.ClassCastException: com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl
at org.mortbay.xml.XmlParser.&lt;init&gt;(XmlParser.java:91)
at org.mortbay.jetty.servlet.XMLConfiguration.webXmlParser(XMLConfiguration.java:55)
at org.mortbay.jetty.servlet.XMLConfiguration.&lt;init&gt;(XMLConfiguration.java:50)
... 21 more
(http.SocketListener 204 ) Started SocketListener on 0.0.0.0:8080
org.mortbay.util.MultiException[java.lang.reflect.InvocationTargetException]
at org.mortbay.http.HttpServer.doStart(HttpServer.java:731)
at org.mortbay.util.Container.start(Container.java:72)
at com.opensymphony.webwork.quickstart.JettyServer.startServer(JettyServer.java:28)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.opensymphony.webwork.quickstart.QuickStart.main(QuickStart.java:135)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.opensymphony.webwork.Main.launch(Main.java:175)
at com.opensymphony.webwork.Main.main(Main.java:130)
java.lang.reflect.InvocationTargetException
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
at org.mortbay.jetty.servlet.WebApplicationContext.loadConfigurations(WebApplicationContext.java:385)
at org.mortbay.jetty.servlet.WebApplicationContext.doStart(WebApplicationContext.java:454)
at org.mortbay.util.Container.start(Container.java:72)
at org.mortbay.http.HttpServer.doStart(HttpServer.java:753)
at org.mortbay.util.Container.start(Container.java:72)
at com.opensymphony.webwork.quickstart.JettyServer.startServer(JettyServer.java:28)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.opensymphony.webwork.quickstart.QuickStart.main(QuickStart.java:135)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.opensymphony.webwork.Main.launch(Main.java:175)
at com.opensymphony.webwork.Main.main(Main.java:130)
Caused by: java.lang.Error: java.lang.ClassCastException: com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl
at org.mortbay.xml.XmlParser.&lt;init&gt;(XmlParser.java:91)
at org.mortbay.jetty.servlet.XMLConfiguration.webXmlParser(XMLConfiguration.java:55)
at org.mortbay.jetty.servlet.XMLConfiguration.&lt;init&gt;(XMLConfiguration.java:50)
... 21 more
java.lang.reflect.InvocationTargetException
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
at org.mortbay.jetty.servlet.WebApplicationContext.loadConfigurations(WebApplicationContext.java:385)
at org.mortbay.jetty.servlet.WebApplicationContext.doStart(WebApplicationContext.java:454)
at org.mortbay.util.Container.start(Container.java:72)
at org.mortbay.http.HttpServer.doStart(HttpServer.java:753)
at org.mortbay.util.Container.start(Container.java:72)
at com.opensymphony.webwork.quickstart.JettyServer.startServer(JettyServer.java:28)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.opensymphony.webwork.quickstart.QuickStart.main(QuickStart.java:135)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.opensymphony.webwork.Main.launch(Main.java:175)
at com.opensymphony.webwork.Main.main(Main.java:130)
Caused by: java.lang.Error: java.lang.ClassCastException: com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl
at org.mortbay.xml.XmlParser.&lt;init&gt;(XmlParser.java:91)
at org.mortbay.jetty.servlet.XMLConfiguration.webXmlParser(XMLConfiguration.java:55)
at org.mortbay.jetty.servlet.XMLConfiguration.&lt;init&gt;(XMLConfiguration.java:50)
... 21 more
********************************************************
Quick-started at http://localhost:8080/showcase
You may now edit your Java source files and web files.
********************************************************
DoubleSelect's second select does not allow a predefined value to be selected (WW-1071)
DoubleSelect's second select does not allow a predefined value to be selected (WW-1071)
The validation.js is not sent to the client as text/javascript
Here's what I get from Canoo WebTest:
[invoke] 2006-02-24 00:20:53,000 WARN com.gargoylesoftware.htmlunit.html.HtmlPage - Expected cont
ent type of text/javascript or application/x-javascript for remotely loaded javascript element http:
//localhost:8080/appfuse-webwork/webwork/xhtml/validation.js but got []
Also, I found the following bug, but I believe it's HtmlUnit, not WebWork:
http://tinyurl.com/q62eg
@ww.radio render the same &quot;label for&quot; in multiple form
see http://forums.opensymphony.com/thread.jspa?messageID=38633#38633
id for radio should render the form name
[SECURITY] A Security Issue with FileSession in 3.2.7
As announced on the mailing list:
http://www.modpython.org/pipermail/mod_python/2006-February/020284.html
If you are using the recently released mod_python 3.2.7 please beware that a 
security issue was discovered in the FileSession code.
You are vulnerable only if you are using mod_python 3.2.7 AND you are using 
FileSession to keep sessions. FileSession is new in 3.2.7 and is not enabled by 
default, therefore if you are using mod_python Session in its default 
configuration you are not vulnerable.
The extent of this vulnerability is limited. Only a user who already has an 
account (or some ability to write to the filesystem) on the system running 
httpd could exploit it, and to the best of our knowledge such a user could 
potentially cause httpd to execute arbitrary code.
We are working on a security release of the next version of mod_python and 
expect it to be out shortly. Until then, please do not use FileSession.
configure fails when using bash 3.1.x
A bug in bash 3.1 causes configure to fail. This has been reported on recent versions of Gentoo and and discussed on the mod_python mailing list:
http://bugs.gentoo.org/show_bug.cgi?id=118948
http://www.modpython.org/pipermail/mod_python/2006-January/019965.html
http://www.modpython.org/pipermail/mod_python/2006-January/019969.html
According to the gentoo bug report, the problem in configure.in is the double backslash escape sequence in the line:
MP_VERSION=`echo $MP_VERSION | sed s/\\&quot;//g`
Changing this to:
MP_VERSION=`echo $MP_VERSION | sed s/\&quot;//g`
fixes it for bash 3.1.
I wonder why mod_python is using \\&quot; since the gentoo fix seems to work ok with bash 3.0 (and GNU sed) just as well. Is it there to support other shells, other sed versions, older bash versions... ??
I suggest mod_python adopts the gentoo fix, or avoids the problem altogether by using tr. eg.
MP_VERSION=`echo $MP_VERSION | tr -d '&quot;'` 
DBM Session test shouldn't use default database.
The test_Session_Session_conf() of test/test.py doesn't override the default DBM session database name that would be used for prefork/worker MPM variants. This means that if there is already an instance of Apache running as its designated user which has already created the session database and the tests are run as a different user, the test will fail. Further, if mod_python has never previously been used and no session database exists, the test will succeed, but when someone goes to use sessions in the installed mod_python, it will fail in the case where the session database created by the test was as a different user to that which Apache runs as.
The test suite should ensure that it overrides any defaults and stores such databases in test suite document tree. It should possibly also ensure that such transient files are removed so as not to create a problem on subsequent tests.
Test might therefore be changed to:
def test_Session_Session_conf(self):
database = os.path.join(TESTHOME,&quot;mp_sess_test.dbm&quot;)
c = VirtualHost(&quot;*&quot;,
ServerName(&quot;test_Session_Session&quot;),
DocumentRoot(DOCUMENT_ROOT),
Directory(DOCUMENT_ROOT,
PythonOption('session_dbm &quot;%s&quot;' % database),
SetHandler(&quot;mod_python&quot;),
PythonHandler(&quot;tests::Session_Session&quot;),
PythonDebug(&quot;On&quot;)))
return str(c)
Bad links in management Ant Task documentation
eg, http://servicemix.org/InstallComponentTask has a bad link to http://servicemix.codehaus.org/maven/apidocs/org/servicemix/jbi/management/task/InstallComponentTask.html which does not work.
Same problem occurs for all the other Ant task docs.
axis2_om_node_set_last_child does not update the links properly
I think parent of the passed param has to be updated.
axis2_om_node_set_next_sibling does not update the links properly
The axis2_om_node_set_next_sibling method just assing the given parameter node to the next sibling. 
AXIS2_INTF_TO_IMPL(om_node)-&gt;next_sibling = next_sibling;
What about updating the parent for its last child, etc? I think we have to update the other links in the node and the parent as well as the given node.
axis2_om_node_set_previous_sibling does not update links properly
The axis2_om_node_set_previous_sibling method just assing the given parameter node to the previous sibling. 
AXIS2_INTF_TO_IMPL(om_node)-&gt;prev_sibling = prev_sibling;
What about updating the parent for its first child, etc? I think we have to update the other links in the node and the parent as well as the given node.
ResultSet methods should throw exception when the ResultSet is closed
The JDBC 4 spec says:
Once a ResultSet has been closed, any attempt to access any of its
methods with the exception of the isClosed method will result in a
SQLException being thrown.
This is not always the case in Derby, and the behaviour is not the
same on the client driver and the embedded driver.
The following ResultSet methods do not throw an exception when the
result set is closed:
Client driver:
clearWarnings()
close()
getMetaData()
getStatement()
getWarnings()
Embedded driver:
close()
getConcurrency()
getRow()
getStatement()
getType()
rowDeleted()
rowInserted()
rowUpdated()
setFetchDirection()
getFetchDirection()
setFetchSize()
getFetchSize()
TEST org.apache.activemq.transport.TopicClusterTest FAILED
Disabling until fixed.
TEST org.apache.activemq.usecases.MultiBrokersMultiClientsTest FAILED
Disabling until fixed.
The BrokerService is not setting the taskRunnerFactory property of the TransportConnector.
This causes all messages to be dispatched to clients sync (dispatchAsync setting would not be honored.)
Objects in ActiveMQObjectMessage are not always de-serialized and there are side effects when redelivered
When using an embedded broker with ra, and the message is redelivered (for example after a rollback), the same object is given as a result from the ObjectMessage.getObject call.
This can cause undesirable side effects when the object has been modified in the first (rollbacked) transaction.
To test: in Servicemix, run the org.apache.servicemix.jbi.messaging.JcaFlowPersistentTest test case.
Need to remove the workaround in JCAfFlow.onMessage, line 465, to make the test fail.
JMSFlow routes to components before they're started
I'm currently developing against 2.0.2 but my inspection of SVN seems to show this problem is in 3.0 too.
So I have three ServiceMix containers each using JMSFlow. There are two networked ActiveMQ brokers (tcp:server1 tcp:server2) and the containers'
jmsURL pointing to them both via &quot;reliable:(tcp:server1,tcp:server2).
I'm trying to simulate one of the containers leaving the cluster (killing the JVM with Ctrl-C) and then rejoining it to see how the cluster handles clustering and load balancing under this scenario. What I'm seeing is generally good but my MessageExchangeListener implementing-component in the rejoining container is receiving messages before its init() or start() methods are called.
I think I've tracked down the problem and it seems to be one of ordering between the registry, flow and auto-deployer. When the auto-deployer calls JBIContainer.activateComponent(...) for my component this causes
Registry.registerComponent(...) to fire an event which is handled by JMSFlow.onEvent(ComponentEventPacket). onEvent here notifies the cluster of the new component which gives the green light for others in the cluster to deliver messages for the named component to this container.
The problem is when Registry.registerComponent(...) is called the component hasn't yet been started but it is already added to the registry's map and subsequently found when JMSFlow receives a request from elsewhere in the cluster. A cursory glance at the SVN repository indicates to me this is still a problem with 3.0.
Not possible to add one blog to multiple groups
You can do it via SQL, but not via the UI.
The group subscription page should:
* Allow you to pick a subscription from a list of all subscriptions, to add to the group
* Allow you to type-in a subscription by entering the newsfeed URL and:
- if subscription already exists, use it
- if not, parse feed to determine site URL, title and authorname
It would be nice to allow import/export of subscriptions in OPML form too.
#showRecentComments() should sort by reverse chrono
Comment management changes caused breakage in PageModel.
InstallationClassLoader only loads classes from the first shared library for a component
InstallationClassLoader.findClass(String) iterates over shared library classloaders to invoke findClass(String) on them. Unfortunately it breaks out of the loop after the first attempt, regardless of whether the shared library returned the class or not. Effectively this means only the first shared library of a component is ever used as such.
Page view for specific date should show all entries for date
When browsing a roller page and selecting a specific date from the calendar, only the number of entries specified by 
#showWeblogEntries 
are displayed.
sample:
#showWeblogEntries(&quot;_day&quot; 15)
So if you have 16 entries or more for one date entries 16 and above are very hard to find. I was only able to find them by specifying their Ancor.
User is also unable to navigate to entries 16 and above in the big weblog calendar.
The reason I have this many entries per day is that Im using Roller for mobile weblogging with mobile phone cameras.
File upload bug on mozilla, solaris
Per a BSC blogger: the File Upload function requires some double clutch to work on Mozilla. Seems like selecting the file to upload is not sufficient, and unless &lt;Return&gt; is also hit after selection, the Upload button is not active. Pressing other buttons impatiently at this stage crashes the browser. Running Mozilla, on Solaris/Sunray.
&quot;Unexpected Exception&quot; instead of a 404 Bug
Navigation to a wrong url results in a Unexpected Exception error instead of a 404.
NPE in ScopedRequestImpl.registerOuterAttribute() when running without asserts.
The routine ScopedRequestImpl.registerOuterAttribute() should not be called if the ScopedRequest is constructed such that the attributes of the outer request are visible in the scoped request. There is an assert to check this. However, when the code is run without asserts it will throw an NPE. I think it should just log the error and return.
The multiple interpreter concept of mod_python is broken for Python extension modules since Python 2.3
The multiple interpreter concept of mod_python is broken for Python extension modules since Python 2.3 because of the PEP 311 (Simplified Global Interpreter Lock Acquisition for Extensions):
...
Limitations and Exclusions
This proposal identifies a solution for extension authors with
complex multi-threaded requirements, but that only require a
single &quot;PyInterpreterState&quot;. There is no attempt to cater for
extensions that require multiple interpreter states. At the time
of writing, no extension has been identified that requires
multiple PyInterpreterStates, and indeed it is not clear if that
facility works correctly in Python itself.
...
For mod_python this means, that complex Python extensions won't work any more with Python &gt;= 2.3, because they are supposed to work only with the first interpreter state initialized for the current process (a problem we experienced). The first interpreter state is not used by mod_python after the python_init is called. 
One solution, which works fine for me, is to save the first interpreter state into the &quot;interpreters&quot; dictionary in the function python_init (MAIN_INTERPRETER is used as a key):
static int python_init(apr_pool_t *p, apr_pool_t *ptemp,
apr_pool_t *plog, server_rec *s)
{
...
/* initialize global Python interpreter if necessary */
if (! Py_IsInitialized())
{
/* initialze the interpreter */
Py_Initialize();
#ifdef WITH_THREAD
/* create and acquire the interpreter lock */
PyEval_InitThreads();
#endif
/* create the obCallBack dictionary */
interpreters = PyDict_New();
if (! interpreters) {
ap_log_error(APLOG_MARK, APLOG_NOERRNO|APLOG_ERR, 0, s,
&quot;python_init: PyDict_New() failed! No more memory?&quot;);
exit(1);
}
{ 
/*
Workaround PEP 311 - Simplified Global Interpreter Lock Acquisition for Extensions
BEGIN
*/
PyObject *p = 0;
interpreterdata * idata = (interpreterdata *)malloc(sizeof(interpreterdata));
PyThreadState* currentThreadState = PyThreadState_Get();
PyInterpreterState *istate = currentThreadState-&gt;interp;
idata-&gt;istate = istate;
/* obcallback will be created on first use */
idata-&gt;obcallback = NULL;
p = PyCObject_FromVoidPtr((void ) idata, NULL); /*p-&gt;refcout = 1*/
PyDict_SetItemString(interpreters, MAIN_INTERPRETER, p); /*p-&gt;refcout = 2*/
Py_DECREF(p); /*p-&gt;refcout = 1*/
/*
END
Workaround PEP 311 - Simplified Global Interpreter Lock Acquisition for Extensions
*/
}
/* Release the thread state because we will never use
* the main interpreter, only sub interpreters created later. */
PyThreadState_Swap(NULL);
#ifdef WITH_THREAD
/* release the lock; now other threads can run */
PyEval_ReleaseLock();
#endif
}
return OK;
}
Another change I've made in the attached file is to Py_DECREF(p) in get_interpreter, which will remove leaky reference to the PyCObject with the interpreter data. This was not a real problem, but now I see fewer leaks in BoundsChecker :-).
If using filters value of req.phase only valid up till first req.read()/req.write().
The request object provides a member variable called 'phase' described as:
The phase currently being being processed, e.g. &quot;PythonHandler&quot;. (Read-Only)
If no Python based input and output filters are used, the value of req.phase will be constant for the life of a request phase. If however you use an input or output filter, the value of req.phase can change.
Consider that we are in the content handler phase and where there is a Python based output filter, but no Python based input filter. On initially entering the request handler, the value of req.phase will be &quot;PythonHandler&quot;. As soon as req.write() is called however, the value of req.phase changes to &quot;PythonOutputFilter&quot;.
Now, if there is a Python based input filter, but no Python based output filter, the value of req.phase will change to &quot;PythonInputFilter&quot; as soon as req.read() is called.
If there are both Python based input and output filters, the value of req.phase will in turn change to &quot;PythonInputFilter&quot; and &quot;PythonOutputFilter&quot; as req.read() and then req.write() are in turn called.
The reason for all this is that in the get_request_object() function of src/mod_python.c, it contains code:
/* make a note of which phase we are in right now */
Py_XDECREF(request_obj-&gt;phase);
if (phase)
request_obj-&gt;phase = PyString_FromString(phase);
else
request_obj-&gt;phase = PyString_FromString(&quot;&quot;);
That is, whenever called to get the request object, it will update req.phase. This will occur even if the request object had already been created, as will be the case when there is a Python based content handler and either a Python based input or output filter.
Overall this behaviour is a bit strange and unexpected. It would seem to me that it if there is both a handler and a filter, that the value of req.phase would be left as the name of the handler phase. Ie., it would stay for example as &quot;PythonHandler&quot; and not be changed to &quot;PythonInputFilter&quot; or &quot;PythonOutFilter&quot;.
One can't just change the code in get_request_object() not to update it if already set, as it has to be updated when one moves from one phase to another. One has to contend with where this function is called in python_filter() function, namely:
/* create/acquire request object */
request_obj = get_request_object(req, interp_name,
is_input?&quot;PythonInputFilter&quot;:&quot;PythonOutputFilter&quot;);
First step may be simply not to pass in &quot;PythonInputFilter&quot; or &quot;PythonOutputFilter&quot; and instead just call it as:
request_obj = get_request_object(req, interp_name,0);
At the same time change get_request_object() to:
Py_XDECREF(request_obj-&gt;phase);
if (phase)
request_obj-&gt;phase = PyString_FromString(phase);
else if (!request_obj-&gt;phase)
request_obj-&gt;phase = PyString_FromString(&quot;&quot;);
Ie., result will be that if req.phase is set, leave it alone when called by python_filter() with phase set 0. If req.phase isn't already set, set it to the empty string.
The consequences of this are that if there are filters but no Python based handlers, then req.phase will get set to an empty string in that case. Another strange case is that if the only Python based handler was for an early phase than what is consuming or generating the content to be processed, then req.phase will be set to a value corresponding to that earlier phase and not where the current action is. For example, if there was an AccessHandler but then content came from a static file, output filter would see &quot;AccessHandler&quot;.
Thus, whatever is done, there will be some strangeness. Thus, question remains of what should be done, or if it should be left that way and that documentation changed to say that req.phase is only valid up until first call to req.read() or req.write() within a handler.
This is not an ideal situation though as a handler may want to interogate req.phase after req.read() or req.write() has been called for some reason, which would yield incorrect results if a filter is being used. An example of where this occurs is in error reporting in the HandlerDispatch of mod_python.apache itself. When it is generating an error message, the phase shown in the error message will be wrong if there was a filter. It should perhaps at least be changed to save away req.phase at start of dispatch so it knows it is correct later for any error messages.
Any comments?????
req.server.get_config() table object populated wrongly.
Documentation states for req.server.get_config():
req.server.get_config()
Similar to req.get_config(), but returns a config pointed to by
server-&gt;module_config Apache config vector.
where req.get_config() documentation states:
req.get_config()
Returns a reference to the table object containing the mod_python
configuration in effect for this request except for Python*Handler and
PythonOption (The latter can be obtained via req.get_options(). The
table has directives as keys, and their values, if any, as values.
The documentation for req.server.get_config() doesn't actually tell you anything as to what that really means in practice. What would make most sense is that req.server.get_config() returns the mod_python configuration which is applicable to the server as a whole. Ie., outside of any configuration container such as VirtualHost, Directory, Location or Files. Even if one assumes that that is what it is mean't to do, that isn't what it actually does.
Consider .htaccess file containing:
SetHandler mod_python
PythonHandler handler
&lt;Files xxx&gt;
PythonDebug On
&lt;/Files&gt;
Where the handler file contains:
from mod_python import apache
def handler(req):
req.content_type = 'text/plain'
req.write('req.get_config()='+str(req.get_config())+'\n')
req.write('req.server.get_config()='+str(req.server.get_config())+'\n')
return apache.OK
Noting that PythonDebug is off by default and when off it isn't put in the table objects, if a request is made against that directory for any URL except &quot;/xxx&quot;, I would expect that both req.config() and req.server.get_config() would not hold any reference to PythonDebug. Ie., expect to see:
req.get_config()={}
req.server.get_config()={}
This isn't what you get though. Instead you get:
req.get_config()={}
req.server.get_config()={'PythonDebug': '1'}
The req.get_config() is correct, but not req.server.get_config().
If the &quot;/xxx&quot; is accessed, you don't get what you expect either. Whereas would expect:
req.get_config()={'PythonDebug': '1'}
req.server.get_config()={}
get instead:
req.get_config()={'PythonDebug': '1'}
req.server.get_config()={'PythonDebug': '1'}
The problem is that when merely processing the Apache configuration, for the Files directive, it is adding an entry into req.server.get_config() for PythonDebug.
The code causing this is:
static const char *directive_PythonDebug(cmd_parms *cmd, void *mconfig,
int val) {
const char *rc = python_directive_flag(mconfig, &quot;PythonDebug&quot;, val, 0);
if (!rc) {
py_config *conf = ap_get_module_config(cmd-&gt;server-&gt;module_config,
&amp;python_module);
return python_directive_flag(conf, &quot;PythonDebug&quot;, val, 0);
}
return rc;
}
If this code is changed to:
static const char *directive_PythonDebug(cmd_parms *cmd, void *mconfig,
int val) {
const char *rc = python_directive_flag(mconfig, &quot;PythonDebug&quot;, val, 0);
if (!cmd-&gt;path) {
py_config *conf = ap_get_module_config(cmd-&gt;server-&gt;module_config,
&amp;python_module);
return python_directive_flag(conf, &quot;PythonDebug&quot;, val, 0);
}
return rc;
}
it works in the way that would seem to make sense.
The change here is that the configuration is only added to the server level config if &quot;cmd-&gt;path&quot; is NULL. This will only be the case when the directive is used outside of any configuration container.
Note that all the directive functions need to change and not just this one. Ie., search all of mod_python.c and change any instance of &quot;if (!rc)&quot; to &quot;if (!cmd-&gt;path)&quot; for these directive functions.
There is actually another problem with merging of these flags in the config objects, but will log that as separate problem when confirmed, as exists independent of this issue.
Setting PythonDebug to Off, doesn't override On setting in parent scope.
If you put:
PythonDebug On
in your main Apache configuration file, one would assume that you can then in a .htaccess file say:
PythonDebug Off
and that in the .htaccess file would override that in the main Apache configuration for any requests landing in the directory the .htaccess file is for. That is, that PythonDebug would be Off.
You might assume this, but it doesn't work.
Similarly, even within a .htaccess file, if you have:
PythonDebug On
&lt;Files xxx&gt;
PythonDebug Off
&lt;/Files&gt;
one would assume that accessing &quot;/xxx&quot; in that directory would see PythonDebug being Off.
That doesn't work either.
The problem comes about from the fact that each container context has a separate table object. All these table objects are merged together, with values in more specific containers pertaining to a request, overriding those from a parent container. Unfortunately, in mod_python 3.X (wasn't the case in 2.7), the python_directive_flag() function was added and coded to not put an entry in the table object for the Off case.
The current code for the python_directive_flag() function is:
static const char *python_directive_flag(void * mconfig,
char *key, int val, int set)
{
py_config *conf;
conf = (py_config *) mconfig;
if (val) {
apr_table_set(conf-&gt;directives, key, &quot;1&quot;);
}
else {
if (set) {
apr_table_set(conf-&gt;directives, key, &quot;0&quot;);
}
else {
apr_table_unset(conf-&gt;directives, key);
}
}
return NULL;
}
Note that the line section:
if (set) {
apr_table_set(conf-&gt;directives, key, &quot;0&quot;);
}
was only added back in mod_python 3.2.7 specifically to fix problem with PythonAutoReload not working as documented in MODPYTHON-106. Back in mod_python 2.7, setting the value to &quot;0&quot; is what always occured, it didn't use to use unset:
apr_table_unset(conf-&gt;directives, key);
Since the unset instead of adding in &quot;0&quot; was used, there was no table object value for Off and so it can't override On in a parent container and so it still inherits the On value. Thus why it can't be turned Off once On.
Seems the only solution is to go back to using:
static const char *python_directive_flag(void * mconfig,
char *key, int val)
{
py_config *conf;
conf = (py_config *) mconfig;
if (val) {
apr_table_set(conf-&gt;directives, key, &quot;1&quot;);
}
else {
apr_table_set(conf-&gt;directives, key, &quot;0&quot;);
}
return NULL;
}
But to do this, other parts of mod_python.c are going to have to be changed. Specifically MODPYTHON-106 identified:
One can't just always set it to &quot;0&quot;, as other code in mod_python.c uses the fact
that an option exists to mean it is set. Ie., it doesn't check the value, thus setting
it to &quot;0&quot; will cause that code to think the option used in that case (PythonInterpPerDirectory,
PythonInterpPerDirective) is set to on when it isn't, thus causing that to stop working
correctly. 
Thus code associated with PythonInterpPerDirectory and PythonInterpPerDirective is going to have to be changed to check the value in the table object and see if it is &quot;1&quot;. There seems no other choice now.
Note that any user code which also merely checks for the existing of the directive, such as PythonDebug, without testing the value would also need to be changed as it will potentially not work properly.
util.redirect() returns wrong SERVER_RETURN status value
The util.redirect() function ends with:
raise apache.SERVER_RETURN, apache.OK
Although this will work when used in a handler run in the response/content handler phase, it will not always provide the desired result in a phase such as authenhandler where returning apache.OK actually means that the handler sucessfully authenticated the user.
One particular scenario that can result in undesirable behaviour is where a URL matches to a directory and Apache decides to iterate over files listed in DirectoryIndex trying to find an actual file. As it checks for each file, it will trigger any authenhandler. If the authenhandler decides it wants to redirect using util.redirect(), a status of apache.OK is being returned. All this does is make Apache think that authentication was successful and it ignores the fact that a redirection was being requested. The redirection only occurs when it gets to the last file listed in DirectoryIndex and it gives up, or it found one of the files. The desired result should be that it should stop looking through files immediately the redirection occurs.
To solve this problem and because util.redirect() is generating a complete response anyway, it should be returning apache.DONE and not apache.OK. Thus it should be using:
raise apache.SERVER_RETURN, apache.DONE
By making this change, it will be safe to use util.redirect() in phases earlier than the response/content handler phase. This is not just because of the redirection issue described above, but is also because returning apache.OK as it does now doesn't actually stop any later phase from running, so a response/content handler would still run if one exists, with the content being appended to the content already generated by the util.redirect() function. Even if the util.redirect() was used in a response/content handler, without this change any stacked handlers not yet executed for the phase may still be run.
axis2_om_node_detach does nothing to the last child of parent
axis2_om_node_detach should be updating the last child of the parent, as it does with the first child of the parent
AXIS2_LOG_WRITE is being used in soap and om sources. Should be replaced with correct log macro
We should be using the correct log macro in place of AXIS2_LOG_WRITE
WebServiceEntryPointServlet doesn't popluate all the WS entry points into the Axis2 service registry (It only handles the 1st module)
Caused by: java.lang.Exception: org.apache.axis2.AxisFault: AxisService Not found yet
at org.apache.axis2.engine.InstanceDispatcher.fillContextsFromSessionContext(InstanceDispatcher.java:99)
at org.apache.axis2.engine.InstanceDispatcher.invoke(InstanceDispatcher.java:56)
at org.apache.axis2.engine.Phase.invoke(Phase.java:376)
at org.apache.axis2.engine.AxisEngine.invoke(AxisEngine.java:351)
at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:322)
at org.apache.axis2.transport.http.HTTPTransportUtils.processHTTPPostRequest(HTTPTransportUtils.java:274)
at org.apache.tuscany.binding.axis2.handler.WebServiceEntryPointServlet.doPost(WebServiceEntryPointServlet.java:179)
Passing the return of a RETURN NULL ON NULL INPUT function to another function call throws linkage error.
Error in ij (RN_RADIANS is a function declared as returns null on null input)
ij&gt; VALUES CAST( CALL_COS(RN_RADIANS(90.0)) AS DECIMAL(3,2));
ERROR XBCM1: Java linkage error thrown during load of generated class org.apache.derby.exe.ace5214067x0105x5e41x7a46xffff855452e375.
ERROR XJ001: Java exception: '(class: org/apache/derby/exe/ace5214067x0105x5e41x
7a46xffff855452e375, method: e0 signature: ()Ljava/lang/Object;) Expecting to find double on stack: java.lang.VerifyError'.
extract from derby.log
2005-07-28 16:23:43.836 GMT Thread[main,5,main] Wrote class org.apache.derby.exe
.ace5214067x0105x5e41x7a46xffff855452e375 to file C:\_work\svn_pb\trunk\systest\
out\functions\ace5214067x0105x5e41x7a46xffff855452e375.class. Please provide sup
port with the file and the following exception information: java.lang.VerifyErro
r: (class: org/apache/derby/exe/ace5214067x0105x5e41x7a46xffff855452e375, method
: e0 signature: ()Ljava/lang/Object;) Expecting to find double on stack
I will add a test case to lang/functions.sql commented with this bug number. Test cases
that fail will be commented out.
Deadlock in ThreadPoolFilter
The dedlock occurs in case of simultaniously closing sessions. You can find thread dumps below. 
When 2 threads reach synchronized method callDestroyIfNecessary, reference count is 0 already. So first thread tries to interrupt() second worker, but it cannot be interrupted because it is lying on the synch block. 
I'm not familar with this architecture, but from my point of of view ThreadPoolFilter as singleton should not have too many synchronized methods. In this particular case, synchronization of method callDestroyIfNecessary should be narrowed to synchronisztion collection operations only.
filter.destroy() need not of synchronisation, and just it causes the deadlock.
IoThreadPool-3@547 prio=5, in group &quot;main&quot;, status: WAIT
blocks IoThreadPool-1@548
blocks SocketAcceptor-0@4e9
wait():-1, Object.java
join():1103, Thread.java
destroy():209, ThreadPoolFilter.java
callDestroyIfNecessary():171, IoFilterLifeCycleManager.java
deregister():363, AbstractIoFilterChain.java
remove():295, AbstractIoFilterChain.java
clear():304, AbstractIoFilterChain.java
sessionClosed():168, AbstractIoFilterChain.java
callNextSessionClosed():453, AbstractIoFilterChain.java
access$700():52, AbstractIoFilterChain.java
sessionClosed():742, AbstractIoFilterChain.java
sessionClosed():165, ProtocolCodecFilter.java
callNextSessionClosed():453, AbstractIoFilterChain.java
access$700():52, AbstractIoFilterChain.java
sessionClosed():742, AbstractIoFilterChain.java
processEvent():687, ThreadPoolFilter.java
processEvents():421, ThreadPoolFilter.java
run():376, ThreadPoolFilter.java
IoThreadPool-1@548 prio=5, in group &quot;main&quot;, status: MONITOR
waiting for IoThreadPool-3@547
callDestroyIfNecessary():160, IoFilterLifeCycleManager.java
deregister():363, AbstractIoFilterChain.java
remove():295, AbstractIoFilterChain.java
clear():304, AbstractIoFilterChain.java
sessionClosed():168, AbstractIoFilterChain.java
callNextSessionClosed():453, AbstractIoFilterChain.java
access$700():52, AbstractIoFilterChain.java
sessionClosed():742, AbstractIoFilterChain.java
sessionClosed():165, ProtocolCodecFilter.java
callNextSessionClosed():453, AbstractIoFilterChain.java
access$700():52, AbstractIoFilterChain.java
sessionClosed():742, AbstractIoFilterChain.java
processEvent():687, ThreadPoolFilter.java
processEvents():421, ThreadPoolFilter.java
run():376, ThreadPoolFilter.java
loadURI compile error with Maven 1.0.2
As reported on the mailing list by Ashley Martens:
----
C:\apache\jackrabbit-contrib\nt-ns-util&gt;maven
__ __
| \/ |__ _Apache__ ___
| |\/| / _` \ V / -_) ' \ ~ intelligent projects ~
|_| |_\__,_|\_/\___|_||_| v. 1.0.2
Attempting to download jackrabbit-1.0-SNAPSHOT.jar.
Artifact /org.apache.jackrabbit/jars/jackrabbit-1.0-SNAPSHOT.jar doesn't exists in remote repository, but it exists locally
Attempting to download jackrabbit-commons-1.0-SNAPSHOT.jar.
Artifact /org.apache.jackrabbit/jars/jackrabbit-commons-1.0-SNAPSHOT.jar doesn't exists in remote repository, but it exists locally
build:start:
java:prepare-filesystem:
java:compile:
[echo] Compiling to C:\apache\jackrabbit-contrib\nt-ns-util/target/classes
[javac] Compiling 1 source file to C:\apache\jackrabbit-contrib\nt-ns-util\target\classes
C:\apache\jackrabbit-contrib\nt-ns-util\src\main\java\org\apache\jackrabbit\util\nodetype\SchemaConverter.java:71: cannot resolve symbol
symbol : method loadURI (java.lang.String)
location: class org.apache.xerces.impl.xs.XMLSchemaLoader
XSModel xsModel = loader.loadURI(uri);
^
1 error
BUILD FAILED
File...... C:\Documents and Settings\ashleym\.maven\cache\maven-java-plugin-1.5\plugin.jelly
Element... ant:javac
Line...... 63
Column.... 48
Compile failed; see the compiler error output for details.
Total time: 8 seconds
Finished at: Mon Jan 02 10:40:47 EST 2006
----
Peeter Piegaze found out the problem:
----
I was able to build it without a problem using maven-1.1-beta-2 and JDK 1.4.2.
However, it sounds to me like in your case maven has set up its
on-build classpath so that it sees the older xerces-2.4.0.jar before
the new xerxesImpl.-2.6.2.jar. Maven seems to download the old
xerces-2.4.0 into its repository for internal use, while my code uses
the newer xerxesImpl-2.6.2.jar. The old jar overlaps class-wise with
the new one, but the new one implements the additional loadURI method
(among others).
I am not sure exactly why your maven build process is looking in the
wrong jar. But that is what is doing, almost certainly.
----
std::cout stops working if log4cxx is first to output
If log4cxx is the first to write output via the ConsoleAppender, then std::cout (and stdout) doesn't work. If, on the other hand, std::cout is written to before log4cxx kicks in, then they both (std::cout and log4cxx) work. I will attach a small test program that illustrates the problem.
Fix message exchange meps
See http://blogs.sun.com/roller/page/rtenhove?entry=technical_jbi_component_implementation_using
Currently, the ERROR status is used to convery both errors and faults, and a DONE status is mandatory after ERROR
ParentFirstClassLoader returns Null if class is not found
The ParentFirstClassLoader returns a null if the class is not found. This is in violation of the ClassLoader contract - it should throw a ClassNotFoundException. 
One side effect of this is an attempt to deploy an MBean into the JMX environment using MX4J results in a NullPointerException as MX4J attempts to look for the MBean descriptor class. MX4J uses the classloader that loaded the MBean and expects the ClassNotFound exception to be thrown if the class does not exist.
java.nio.charset.Charset.forName(name) return different reference value when requiring the same Charset.
java.nio.charset.Charset.forName(name) returns different reference value when requiring the same Charset.
However, RI always returns the same reference for the same Charset, no matter using &quot;alias&quot; or &quot;canonical&quot; name as parameter. 
RI 5.0 passes the following test case, while Harmony fails.
=============================== Test case ====================
/*
* test forName: invoke forName two times with the same canonical name,
* it should return the same reference.
*/
public void testForName_TwoSameRef1(){
Charset cs1 = Charset.forName(&quot;UTF-8&quot;);
Charset cs2 = Charset.forName(&quot;UTF-8&quot;);
assertSame(cs1,cs2);
}
/*
* test forName: invoke forName two times for the same Charset using canonical name and alias,
* it should return the same reference.
*/
public void testForName_TwoSameRef2(){
Charset cs1 = Charset.forName(&quot;ASCII&quot;);
Charset cs2 = Charset.forName(&quot;US-ASCII&quot;);
assertSame(cs1,cs2);
}
Streamlets cause OutOfMemoryError with non-persistent embedded broker
When streaming large amounts of data (that exceed the VM's permitted maximum), an OutOfMemoryError is thrown.
Turning on persistence (changing BROKER_URL to &quot;vm://localhost?broker.persistent=true&quot;) seems to work, but I'd like to stream without taking the persistence hit.
java.nio.charset.CharsetEncoder.encode method does not handle the unexpected exception
public final CoderResult encode(CharBuffer in, ByteBuffer out, boolean endOfInput)
As spec says, the method throws CoderMalfunctionError if an invocation of the decodeLoop method threw an unexpected exception.
However, Harmony doesn't throws CoderMalfunctionError when decodeLoop method threw an unexpected exception.
The attached test cases pass on RI , but fail on Harmony.
java.text.DateFormat$Field's contructor may replace predefined consts with new value in cache
DataFormat$Field will cache some constants to be searched by method ofCalendarField(int), but the predefined consts should not be replaced.
the testcases is as below:
import java.text.DateFormat;
import java.util.Calendar;
import junit.framework.TestCase;
public class DataFormatFieldTest extends TestCase{
public void test_Constructor2() {
MyField field = new MyField(&quot;day of month&quot;, Calendar.ERA);
DateFormat.Field realField = DateFormat.Field
.ofCalendarField(Calendar.ERA);
assertSame(&quot;Modified calendar field with the same field number&quot;,
DateFormat.Field.ERA, realField);
}
static class MyField extends DateFormat.Field {
protected MyField(String fieldName, int calendarField) {
super(fieldName, calendarField);
}
protected String getName() {
return super.getName();
}
}
}
Run on RI 5.0, test case passes.
Run on Harmony, test case fail with message:
junit.framework.AssertionFailedError: Modified calendar field with the same field number expected same:&lt;java.text.DateFormat$Field(era)&gt; was not:&lt;DataFormatFieldTest$MyField(day of month)&gt;
............
Error in comment generated e-mail
BSC - Comment generated e-mail - The first link errors out &quot;404&quot; on both the publisher's and the commentors e-mail. http://blogs.sfbay.sun.com/roller/page/TestBSC015rol860?entry=test_did_you_know_you#comments - results in error 404.
aliasbean and alias usage in binding
Myfaces fails to restore a view it it uses aliases in bindings.
Our jsf looks like this (for sure, we use include for the dataTable):
&lt;x:aliasBeansScope&gt;
&lt;x:aliasBean alias=&quot;#{coTopicEdit}&quot; value=&quot;#{coAddressEdit}&quot; /&gt;
&lt;h:dataTable var=&quot;topic&quot; value=&quot;#{coTopicEdit.topics}&quot;
binding=&quot;#{coTopicEdit.genericTopicTable}&quot; &gt;
....
&lt;/h:dataTable&gt;
&lt;h:commandLink value=&quot;xx&quot;/&gt;
&lt;/x:aliasBeansScope&gt;
The page renders correctly for the first time, but if you press the commandLink myfaces fails in the restoreView phase.
The reason is simple:
During LifecycleImpl.restoreView myfaces tries to attach each component to the backing bean (in recursivelyHandleComponentReferencesAndSetValid - &quot;binding.setValue&quot;).
Now if it comes to the binding of the dataTable the alias bean havent had the chance to reassign its alias and thus the ValueBinding for &quot;#{coTopicEdit.genericTopicTable}&quot; fails.
To workaround it I create my own ViewHandler (code follows).
I hooked into restoreView - process the view recursivley and call &quot;makeAlias&quot; on each alias bean using reflection (the method is package private).
This IS a hack and (I think) it breaks the scope of the alias , but for now I am happy with it.
Any ideas how to solve it correctly?
And now the code in case someone else needs it too:
public UIViewRoot restoreView(FacesContext facesContext, String viewId)
{
UIViewRoot root = super.restoreView(facesContext, viewId);
if (root != null)
{
processAliases(facesContext, root);
}
return root;
}
protected void processAliases(FacesContext context, UIComponent root)
{
if (root == null)
{
return;
}
for (Iterator it = root.getFacetsAndChildren(); it.hasNext(); )
{
UIComponent component = (UIComponent)it.next();
if (component instanceof AliasBean)
{
AliasBean alias = (AliasBean) component;
try
{
Method makeAliasMethod = alias.getClass().getDeclaredMethod(&quot;makeAlias&quot;, FacesContext.class);
makeAliasMethod.setAccessible(true);
makeAliasMethod.invoke(alias, context);
}
catch (NoSuchMethodException e)
{
log.warn(e.getLocalizedMessage(), e);
}
catch (IllegalAccessException e)
{
log.warn(e.getLocalizedMessage(), e);
}
catch (InvocationTargetException e)
{
log.warn(e.getLocalizedMessage(), e);
}
}
processAliases(context, component);
}
}
CVE-2006-0743 Security vulnerability in LocalSyslogAppender
Reported by Sebastian Krahmer to security@apache.org
Logged as CVE-2006-0743
The LocalSyslogAppender contains a vulnerability which could lead to memory corruption within the runtime process. This is likely to cause the application using the LocalSyslogAppender to terminate unexpectedly. In addition to a deliberate denial of service attack this fault may be caused by logging legitimate data therefore the LocalSyslogAppender must not be used even within secured environments.
Current users of the LocalSyslogAppender (from the log4net 1.2.9 release) should update their logging configuration to remove references to the LocalSyslogAppender. Alternatively users can build a new version of the log4net assembly from the head of the source code repository where this fault has been fixed.
AddFooter and Encoding issues
AddFooter does bad things with encodings.
------------------------------- Here is the mailing list message (replaced sensible data) ----------------------
It seems there is a bug in AddFooter mailet..
if i add the fooder some special chars get broken (Umlaute)
I saved the mail to a repository before use AddFooter and after it. Here
is the email:
before:
Return-Path: null
Received: from dskfjaskdjf.de ([XX.XX.XXX.XX])
by mail.sdks.cx (JAMES SMTP Server 2.3.0a1) with SMTP ID
63
for &lt;nm@sds-de.de&gt;;
Wed, 22 Feb 2006 08:17:17 +0100 (CET)
Received: (qmail 1282 invoked from network); 22 Feb 2006 07:11:21 -0000
Received: from mail.dasjkh.de (213.157.0.167)
by mail.sds-de.de with SMTP; 22 Feb 2006 07:11:21 -0000
Received: (qmail 22763 invoked by uid 1011); 22 Feb 2006 07:11:27 -0000
Received: from dskf@dasjkh.de by mail1 by uid 1003 with
qmail-scanner-1.22
(ExcuBAtor: 1.0.2. Clear:RC:1(213.157.14.195):SA:0(0.0/5.0):.
Processed in 0.097302 secs); 22 Feb 2006 07:11:27 -0000
X-Spam-Status: No, hits=0.0 required=5.0
Received: from unknown (HELO ?192.168.210.195?) (213.157.14.195)
by mail.dasjkh.de with SMTP; 22 Feb 2006 07:11:26 -0000
Subject: =?ISO-8859-1?Q?Erd=F6l?=
From: Norman Maurer &lt;dskf@dasjkh.de&gt;
To: nm@sds-de.de
Content-Type: text/plain; charset=ISO-8859-1
Date: Wed, 22 Feb 2006 08:11:22 +0100
Message-Id: &lt;1140592283.8122.19.camel@localhost&gt;
Mime-Version: 1.0
X-Mailer: Evolution 2.4.1
Content-Transfer-Encoding: 8bit
Erdl
after:
Return-Path: null
Received: from dskfjaskdjf.de ([XX.XX.XXX.XX])
by mail.sdks.cx (JAMES SMTP Server 2.3.0a1) with SMTP ID
63
for &lt;nm@sds-de.de&gt;;
Wed, 22 Feb 2006 08:17:17 +0100 (CET)
Received: (qmail 1282 invoked from network); 22 Feb 2006 07:11:21 -0000
Received: from mail.dasjkh.de (213.157.0.167)
by mail.sds-de.de with SMTP; 22 Feb 2006 07:11:21 -0000
Received: (qmail 22763 invoked by uid 1011); 22 Feb 2006 07:11:27 -0000
Received: from dskf@dasjkh.de by mail1 by uid 1003 with
qmail-scanner-1.22
(ExcuBAtor: 1.0.2. Clear:RC:1(213.157.14.195):SA:0(0.0/5.0):.
Processed in 0.097302 secs); 22 Feb 2006 07:11:27 -0000
X-Spam-Status: No, hits=0.0 required=5.0
Received: from unknown (HELO ?192.168.210.195?) (213.157.14.195)
by mail.dasjkh.de with SMTP; 22 Feb 2006 07:11:26 -0000
Subject: =?ISO-8859-1?Q?Erd=F6l?=
From: Norman Maurer &lt;dskf@dasjkh.de&gt;
To: nm@sds-de.de
Content-Type: text/plain; charset=ISO-8859-15
Date: Wed, 22 Feb 2006 08:11:22 +0100
Message-Id: &lt;9383078.1140592637453.JavaMail.root@Fileserver&gt;
Mime-Version: 1.0
X-Mailer: Evolution 2.4.1
Content-Transfer-Encoding: quoted-printable
Erd=F6l
test
After getting in my inbox (James is a relay and send it to my other mailserver):
Return-Path: &lt;dskf@dasjkh.de&gt;
Delivered-To: nm@sds-de.de
Received: (qmail 5491 invoked by uid 89); 22 Feb 2006 07:17:17 -0000
Received: from localhost (HELO mail.sdks.cx) (127.0.0.1) by
sdks.cx with SMTP; 22 Feb 2006 07:17:17 -0000
Return-Path: null
Received: from dskfjaskdjf.de ([XX.XX.XXX.XX]) by mail.sdks.cx
(JAMES
SMTP Server 2.3.0a1) with SMTP ID 63 for &lt;nm@sds-de.de&gt;; Wed,
22 Feb 2006
08:17:17 +0100 (CET)
Received: (qmail 1282 invoked from network); 22 Feb 2006 07:11:21 -0000
Received: from mail.dasjkh.de (213.157.0.167) by
mail.sds-de.de
with SMTP; 22 Feb 2006 07:11:21 -0000
Received: (qmail 22763 invoked by uid 1011); 22 Feb 2006 07:11:27 -0000
Received: from dskf@dasjkh.de by mail1 by uid 1003 with
qmail-scanner-1.22 (ExcuBAtor: 1.0.2. 
Clear:RC:1(213.157.14.195):SA:0(0.0/5.0):. Processed in
0.097302 secs); 22
Feb 2006 07:11:27 -0000
X-Spam-Status: No, hits=0.0 required=5.0
Received: from unknown (HELO ?192.168.210.195?) (213.157.14.195) by
mail.dasjkh.de with SMTP; 22 Feb 2006 07:11:26 -0000
Subject: =?ISO-8859-1?Q?Erd=F6l?=
From: Norman Maurer &lt;dskf@dasjkh.de&gt;
To: nm@sds-de.de
Content-Type: text/plain; charset=ISO-8859-15
Date: Wed, 22 Feb 2006 08:11:22 +0100
Message-Id: &lt;9383078.1140592637453.JavaMail.root@Fileserver&gt;
Mime-Version: 1.0
X-Mailer: Evolution 2.4.1 
Content-Transfer-Encoding: 8bit
X-Evolution-Source: imap://nm%40sds-de.de@sdks.cx/
Erd=F6l
test
Maybe anyone can have a look.. seems to be a bug..
And why the : Content-Transfer-Encoding: 8bit
is gone after adding the Fooder ?
Should i make a Bugreport ? Can someone confirm this ?
bye
SecurityException thrown when passing a relative path name when backing up database
CALL SYSCS_UTIL.SYSCS_BACKUP_DATABASE('extinout/bkup1');
ERROR 38000: The exception 'java.security.AccessControlException: access denied
(java.util.PropertyPermission user.dir read)' was thrown while evaluating an exp
ression)
Can be seen in the store/encryptionKey.sql test, modify the _app.properties file to enable the security manager.
Due to logging messages using File.getCanonicalPath in RawStore.java, lines 675 and 686.
Possible solutions:
- use a privileged block and required user.dir permission granted to user.dir to backup to a relative directory
- use a privileged block,if a security exception is thrown then just display the relative name, otherwise display the full name. This would allow backups to succeed without requiring granting additional permissions to derby.jar
- just log the relative path
Dead Letter Queue (DLQ) handling does not work for message consumed in a transaction.
XML 1.1 Serialization, char in attribute value not escaped
This issue was found by Henry Zongaro.
If you try the following stylesheet, you'll see that the character x8C, which is not permitted in literal form in XML 1.1, is escaped when it appears in an element's character content, but it's not escaped when it is part of an attribute value. 
&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;1.0&quot;&gt;
&lt;xsl:output method=&quot;xml&quot; version=&quot;1.1&quot;/&gt;
&lt;xsl:template match=&quot;/&quot;&gt;
&lt;out att=&quot;&amp;#x8c;&quot;&gt;&amp;#x8c;&lt;/out&gt;
&lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
When the serialized XML produced by this stylesheet is parsed by Xerces (depending perhaps on the version of Xerces) it goes into an infinite loop when it attempts to parse an attribute that contains an invalid character. 
Double checked locking is broken and should be avoided
incubator/yoko/trunk/ob/src/com/ooc/OB/TypeCodeCache.java
HtmlTableRendererBase.encodeInnerHtml() fails when data model returns -1 for getRowCount()
Per the JSF spec, ResultSetDataModel.getRowCount() returns -1, to avoid the potential of scrolling through a very large result set to find the number of rows. This means that components that might be bound to such a result set (such as the &quot;value&quot; property on an HtmlDataTable component) must take into account that they might get a -1 back when asking for the row count.
The logic in the encodeInnerHtml() method of HtmlTableRendererBase fails to account for this possibility in the calculation of the &quot;last&quot; index to be rendered, and causes zero rows to be printed in a scenario where the table component is bound directly to a ResultSetDataModel, no matter how many rows the result set actually returns. For example:
&lt;h:dataTable ... value=&quot;#{mybean.rsdm}&quot; var=&quot;current&quot; .../&gt;
where the &quot;rsdm&quot; property is a ResultSetDataModel that wraps a ResultSet that returns a non-zero number of rows. This scenario works correctly with the JSF RI implementation.
For example apps that illustrate this, check the SQL Browser example in Shale, or the &quot;UIData&quot; example from the JSF RI's standard demo application.
lang/updatableResultSet.java fails on ibm13 jvm.
'*** Start: updatableResultSet jdk1.3.1 2006-02-13 16:52:29 ***
2896 del
&lt; null
2896a2896
&gt; java.sql.Connection: method setHoldability(I)V not found
2899 del
&lt; null
2899a2899
&gt; java.sql.Connection: method setHoldability(I)V not found
Test Failed.
*** End: updatableResultSet jdk1.3.1 2006-02-13 16:55:01 ***
Invalid bundle dependencies in HellowWorld sub-projects
I was building a recent extract of Tuscany (revision: 381665 from 02/28/2006) and noticed that two modules in the HellowWorld samples had dependencies declared for the JavaScript container, but had no usage of the JavaScript container (As usage moved to a specific helloworldjs module). So the dependencies look invalid. The poms in question where:
java/samples/helloworld/helloworld/pom.xml
java/samples/helloworld/helloworldmc/pom.xml
Both had:
&lt;dependency&gt;
&lt;groupId&gt;org.apache.tuscany&lt;/groupId&gt;
&lt;artifactId&gt;tuscany-container-js&lt;/artifactId&gt;
&lt;version&gt;${pom.version}&lt;/version&gt;
&lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;
In them. Removing them caused no noticable rpoblems in building. So, these dependencies should probably be removed.
Some WSDLs used by the test cases don't conform to the WSDL schema
I noticed those problems with the WTP1.0. It seems that they're WSDL
validation related issues. I observed the following cases.
1) The &quot;name&quot; attribute &quot;wsdl:definition&quot; is illegal (name=&quot;&quot;). (schema for
the attribute: &lt;attribute name=&quot;name&quot; type=&quot;NMTOKEN&quot; use=&quot;optional&quot;/&gt;).
2) the &quot;location&quot; attribute is missing from &quot;soap:address&quot;. (schema for the
attibute: &lt;attribute name=&quot;location&quot; type=&quot;uriReference&quot; use=&quot;required&quot;/&gt;)
Tomcat listener needs to be ported to new RuntimeContext
The Tomcat server and web app listener are not making use of the new core RuntimeContext. The runtime bootstrap code is commented out at the moment.
The two listeners should be adjusted to (1) boot the runtime and the system module component and (2) boot the module component represented by the current web app. Code showing how to do this can be found in the TuscanyRuntime class.
Change the SkeletonTemplate to throw UnsupportedMethodException
Change the SkeletonTemplate to throw UnsupportedMethodException instead of return null
[PATCH] Forms without continuation
I couldn't find any solution for how to use fully CForms without continuation.
Finally I found myself some solution:
http://marc.theaimsgroup.com/?l=xml-cocoon-users&amp;m=109041564820149&amp;w=2
but it requires java actions and have many drawbacks.
For me is obvious that there must be a nice way to use CForms without
continuation (mainly for internet applications).
Till now I couldn't find any good solution.
Java 5.0 methods missing in java.lang.StringBuffer class
The following Java 5.0 methods are missing in java.lang.StringBuffer class:
StringBuffer(CharSequence)
append(CharSequence)
append(CharSequence, int, int)
insert(int, CharSequence)
insert(int, CharSequence, int, int) 
trimToSize() 
appendCodePoint(int)
codePointAt(int)
codePointBefore(int)
codePointCount(int, int)
offsetByCodePoints(int, int)
NodeTypeDef depends on supertype ordering
Currently the NodeTypeDef.setSupertypes() method simply sets the given QName array as the supertype QName array of the defined node type, thus preserving whatever ordering a node type parser or ultimately a node type definition file uses. This causes problems for example in the equals() method that uses the order-sensitive Arrays.equals() method to check for equality of the supertype QName arrays. The current implementation does therefore not consider the node type definitions &quot;A &gt; B, C&quot; and &quot;A &gt; C, B&quot; as equal even though they really should be so considered.
The same problem affects also child node and property definitions. The proper fix for this issue would probably be to use Sets to store and handle this information.
java.mail.Message is not initializing the session information with the Folder constructors.
The Message class does not initialize the session variable when the MimeMessage(Folder, int) constructor is used. This causes a NullPointerException
javax.mail.internet.MimeMessage use of private methods short circuits lazy loading by MimeMessage subclasses.
The MimeMessage class has a private method getHeaderAsAddresses() that calls a package scope method in the InternetHeaders class. Because this private message bypasses the public MimeMessage methods for retrieving headers, it is impossible for MimeMessage subclasses such as POP3Message and NNTPMessage to implement lazy loading of the headers from the server. This can result in null values getting returned from methods such as getFrom(), because the message does not have any headers loaded from the server source.
Durable Subscriptions used with a MDB may miss messages if the consumer is under load
Clob.getCharacterStream documented as not supported when it actually is
In the online documentation for Blob and Clob at http://db.apache.org/derby/docs/10.1/ref/rrefjdbc96386.html#rrefjdbc96386, the Clob.getCharacterStream() method is listed as NOT SUPPORTED[sic], but it is in fact supported, at least in the embedded driver. This misleading documentation led us to use an alternative and noninternationalizable way of reading clobs, so it is not just a cosmetic issue.
Link components should not render during rewind in portlet mode
When running as a portlet, there is no way to generate a link during the processAction() phase, that is the rewind phase.
When a Link component attempts to render its link during rewind, the PortletLinkFactoryImpl crashes because _renderResponse is null.
One solution is to change the renderComponent() method of AbstractLinkComponent:
protected void renderComponent(IMarkupWriter writer, IRequestCycle cycle)
{
+ if (cycle.isRewinding())
+ return;
getRenderer().renderLink(writer, cycle, this);
}
Not quite sure about the side effects...
get http transport working again
e.g. the test cases in activemq-optional for HTTP
dfs client writes all data for a chunk to /tmp
The dfs client writes all the data for the current chunk to a file in /tmp, when the chunk is complete it is shipped out to the Datanodes. This can cause /tmp to fill up fast when a lot of files are being written. A potentially better scheme is to buffer the written data in RAM (application code can set the buffer size) and flush it to the Datanodes when the buffer fills up.
Using ConstantScoreQuery on a RemoteSearchable throws java.io.NotSerializableException
Using a ConstantScoreQuery through a MultiSearcher on a Searchable obtained through RMI (RemoteSearchable) will throw a java.io.NotSerializableException
The problem seems to be the fact that the ConstantScoreQuery.ConstantWeight has a Searcher member variable which is not serializable. Keeping a reference to the Searcher does not seem to be required: the fix seems trivial.
I've created the TestCase to reproduce the issue and the patch to fix it.
Installation Guide not accessible for version 0.94
The &quot;Installation Guide&quot; link (http://ws.apache.org/axis2/installationguide.html) is broken on the Releases Page (http://ws.apache.org/axis2/download.cgi) for release 0.94.
I was trying to find documentation explaining the Axis2 Service Archiver Eclipse Plugin.
Engaging same module more than once has no indication about it
When I tried to engage the same module more than once, the webapp says it was a successul operation. The desired behaviour should be that the web app should tell the user that it has already been engaged or some other meaningful message.
2.1 upgrade script errors on MySQL 5.0
On 3/4/06, Vincent &lt;vincent@XXX.YYY&gt; wrote:
&quot;Figured it out, long story short : don't use quotes when defining a
default value for a Mysql BIT field (in version 5.0.18 anyway).&quot;
Supplied web.xml is not Servlet 2.4 compliant
The supplied web.xml is Servlet 2.4 invalid due to the wrong placement of the &lt;description/&gt; tag inside &lt;init-param/&gt;. It should be the first element. This might confuse people trying to deploy on Geronimo (or other servers).
Blog feed replace by site wide feed
One of our blog's RSS feed was replace in the cache by the site-wide feed. Since the blog was part of a Planet site, that planet site was flooded with entries incorrectly attributed to the blog.
Flushing the blog's page cache (Preferences:Maintenance) fixed this symptom, but I'm not sure what the root cause of the the problem is.
Basic Query Filter no more uses Configuration
Since NUTCH-169, the BasicIndexingFilter has no way to retrieve its configuration parameters (query.url.boost, query.anchor.boost, query.title.boost, query.host.boost, query.phrase.boost) : The setConf(Configuration) method is never called by the QueryFilters class.
More generaly, we should provide a way for QueryFilter to be Configurable. Two solutions:
1. The QueryFilters checks that a QueryFilter implements Configurable and then call the setConf() method.
2. QueryFilter extends Configurable =&gt; all QueryFilter must implement Configurable.
My preference goes to 1, and if there is no objection, I will commit a patch in the next few days.
HTML output serializes ampersand as &quot;&amp;&quot; in HREF attributes
Using the HTML output method, an ampersand is serialized as &quot;&amp;&quot;. It should 
be &quot;&amp;amp;&quot;.
isNotNull node causes typehandler mappings in statement to fail
Here's my insert statement.
&lt;insert id=&quot;createDeployment&quot; parameterClass=&quot;deployment&quot;&gt;
INSERT INTO Deployment (
environmentId, deploymentTypeId, deploymentStatusId, deploymentTime
&lt;isNotNull property=&quot;threadCountOverride&quot;&gt;,threadCountOverride&lt;/isNotNull&gt;
) VALUES (
#environmentId#, #deploymentTypeId#, #deploymentStatusId#, #deploymentTime#
&lt;isNotNull property=&quot;threadCountOverride&quot;&gt;,#threadCountOverride#&lt;/isNotNull&gt;
)
&lt;selectKey resultClass=&quot;int&quot; keyProperty=&quot;deploymentId&quot;&gt;
SELECT @@IDENTITY as value
&lt;/selectKey&gt;
&lt;/insert&gt;
deploymentTypeId and deploymentStatusId are enums in the bean, mapped to values using custom type handlers. Without the isNotNull structure around threadCountOverride (which *is* nullable), the statement works. With the isNotNull, deploymentStatusId and deploymentTypeId are mapped to UnknownTypeHandler, and the insert fails to map the parameters from the bean.
Make the client driver connection URL work when spaces are in the URL.
At present, if I want to connect to a database on a Derby server which has a space in the path, there is no way to do it.
This can be done with the embedded driver, and for consistency it would be good if it worked for the client driver in the same fashion.
Timing bug in TCK test case ThreadSafe
The TCK test ThreadSafe runs multiple threads, where each thread tries to persist the same pc instance using its own PM. The expected behavior is that one thread succeeds persisting the pc instance and stores it at transaction commit. All other threads should result in a JDOException because the pc instance is already bound to a different PM. All threads close the PM at the end. 
Now, it might happen that the succeeding thread closes the PM before a parallel thread tries to persist the pc instance. The behavior of pm.makePersistence for a pc instance bound to a closed pm is not specified, so it does not necessarily result in an exception.
The test case should be changed such that the succeeding thread waits for all the other threads before closing the PM. Please note, the solution must be robust enough to avoid a deadlock situation even if an erroneous JDO implementation would allow multiple threads to succeed persisting the pc instance.
Unusual behaviour in Axis2 web app
When the default webapp is deployed, I tried to see the list of web services that are deployed. And that page shows version service as a good service and list it as a faulty service as well.
TraversableGenerator calls resolveURI() twice but release() only once
The TraversableGenerator first calls resolver.resolveURI() to get a Source and check whether it is a TraversableSource. If this is true, it call resolver.resolveURI() again and assigns the result to a TraversableSource, which is never released.
The included patch modifies the behaviour so the second call the resolver.resolveURI() is replaced with a cast to TraversableSource on the Source that was retrieved earlier.
WS-Addressing namespaces not being set up right in wsa:action header
I cannot use the addressing module, because when I try it, i get an error about the wsa: prefix being unknown.
Message:
POST /services/Portal HTTP/1.1
User-Agent: Axis/2.0
SOAPAction: LookupSystem
Connection: Keep-Alive
Host: 127.0.0.1:8081
Content-Length: 492
Content-Type: application/soap+xml; charset=utf-8
&lt;?xml version='1.0' encoding='utf-8'?&gt;&lt;soapenv:Envelope xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;&lt;soapenv:Header&gt;&lt;wsa:To xmlns:wsa=&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing&quot;&gt;http://127.0.0.1:8081/services/Portal&lt;/wsa:To&gt;&lt;wsa:Action&gt;LookupSystem&lt;/wsa:Action&gt;&lt;/soapenv:Header&gt;&lt;soapenv:Body&gt;&lt;ns:lookupSystemRequest xmlns:ns=&quot;http://www.gridforum.org/cddlm/deployapi/2005/02&quot;&gt;&lt;ns:ResourceId&gt;Unknown&lt;/ns:ResourceId&gt;&lt;/ns:lookupSystemRequest&gt;&lt;/soapenv:Body&gt;&lt;/soapenv:Envelope&gt;
Response:
HTTP/1.1 500 Internal Server Error
Date: Wed, 28 Sep 2005 12:09:39 GMT
Server: Jetty/4.2.24 (Windows XP/5.1 x86 java/1.5.0_05)
Expires: Thu, 01 Jan 1970 00:00:00 GMT
Set-Cookie: JSESSIONID=401jclj9t3g2t;Path=/
Content-Type: application/soap+xml; charset=utf-8
Transfer-Encoding: chunked
4b2
&lt;?xml version='1.0' encoding='utf-8'?&gt;&lt;soapenv:Envelope xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;&lt;soapenv:Header&gt;&lt;/soapenv:Header&gt;&lt;soapenv:Body&gt;&lt;soapenv:Fault&gt;&lt;soapenv:Code&gt;&lt;soapenv:Value&gt;Sender&lt;/soapenv:Value&gt;&lt;/soapenv:Code&gt;&lt;soapenv:Reason&gt;&lt;soapenv:Text&gt;javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,255]
Message: could not determine namespace bound to element prefix wsa; nested exception is: 
org.apache.axis2.om.OMException: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,255]
Message: could not determine namespace bound to element prefix wsa&lt;/soapenv:Text&gt;&lt;/soapenv:Reason&gt;&lt;soapenv:Node&gt;http://myAxisServer/role/default&lt;/soapenv:Node&gt;&lt;soapenv:Role&gt;http://myAxisServer/role/default&lt;/soapenv:Role&gt;&lt;soapenv:Detail&gt;&lt;soapenv:Exception&gt;javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,255]
Message: could not determine namespace bound to element prefix wsa; nested exception is: 
org.apache.axis2.om.OMException: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,255]
Message: could not determine namespace bound to element prefix wsa&lt;/soapenv:Exception&gt;&lt;/soapenv:Detail&gt;&lt;/soapenv:Fault&gt;&lt;/soapenv:Body&gt;&lt;/soapenv:Envelope&gt;
0
Looking at the message, the wsa: prefix is set on the wsa:to header, but not the wsa:action header
xsl:copy adds a newline to processing instructions
&lt;xsl:copy&gt; produces a node AND a linefeed for processing-instruction nodes in 
the &quot;root&quot; of the document.
Example:
The following template faithfully reproduces an XML document:
&lt;xsl:template match=&quot;node() | @*&quot;&gt;
&lt;xsl:copy&gt;
&lt;xsl:apply-templates select=&quot;node() | @*&quot;/&gt;
&lt;/xsl:copy&gt;
&lt;/xsl:template&gt;
...EXCEPT when the document contains processing instruction nodes in the
&quot;root&quot; (ie. before the &quot;document&quot; element). There doesn't seem to be a problem
for nodes that are descendants of the &quot;document&quot; element.
WS-Addressing versions
Which versions of Addressing should we support? Should we pick up code from ws-addressing to support multiple versions? (replace the SAAJ stuff with AXIOM)?
http://cvs.apache.org/viewcvs.cgi/ws-addressing/src/org/apache/axis/message/addressing/
We will need to support 2003/03, 2004/03, and 2004/08 versions of WSA AND soon enought the one from W3C as well. Because various versions of specs like WSN, WSRF and WSDM etc support different versions of addressing.
thanks,
dims
HTTP respnse does not contain Content-Type
We seem to violate the HTTP spec here.
Must have the content type in response based on SOAP version
Improve JMX Exception throwing in BaseStandardMBean
MBeanException is the JMX exception to throw when something goes wrong in method invocation.
Typically, if invoking via reflection, MBeanException wraps the cause of InvocationTargetException.
Attached a simple patch that fixes JMX exception throwing.
Client should validate the content type in response
The client should be checking the content type in the response
Digest Authorization header causes bad request error.
If Apache is used to perform authentication, the Authorization header still gets
passed through to mod_python.publisher. Unfortunately, mod_python.publisher
authentication code in process_auth() will attempt to decode the contents of the
Authorization header even if there are no __auth__ or __access__ hooks defined
for authentication and access control within the published code itself.
The consequence of this is that if Digest authentication is used for AuthType
at level of Apache authentication, the process_auth() code will raise a bad request
error as it assumes Authorization header is always in format for Basic authentication
type and when it can't decode it, it raises an error.
What should happen is that any decoding of Authorization should only be done
if there is a __auth__ or __access__ hook that actually requires it. That way, if some
one uses Digest authentication at Apache configuration file level, provided that no
__auth__ or __access__ hooks are provided, there wouldn't be a problem.
See:
http://www.modpython.org/pipermail/mod_python/2005-April/017911.html
http://www.modpython.org/pipermail/mod_python/2005-April/017912.html
for additional information.
SCA Windows build fails on runtime/test
The generated wrappers/proxies are missing from the source tree
Query Builder and jcr:deref problem. Can't add predicate after jcr:deref
Cannot add a predicate (like [@property = 'value'] after a jcr:deref function.
The query builder throws an &quot;InvalidQueryException: Unsupported location for jcr:deref()&quot;.
So for example, the query :
//element(*,nt:category)[@member]/jcr:deref(@member, '*')[@property='value'] 
is invalid and it should be valid.
Remove explicit cast in AjaxDecodePhaseListener
Currently, AjaxDecodePhaseListener performs an explicit cast in beforePhase():
if (!context.getApplication().getStateManager().isSavingStateInClient(context))
{
((JspStateManagerImpl) context.getApplication().getStateManager()).saveSerializedView(context);
}
I am using a custom state manager, whic is not JspStateManagerImpl, and I get class cast exception.
Please remove the explicit cast.
need 'port' parameter to supplement 'scheme' parameter for correct generation of urls
There are lots of components ( Form, LinkComponent, etc ), which allow you to change the destination scheme, but I don't think that is enough. Issue TAPESTRY-786 tried to bring this to light, but wasn't clear, and marked resolved incorrectly.
The issue is that if I were to change a url from HTTP to HTTPS, then I have to change the SCHEME AND PORT.
HTTP/80 --&gt; HTTPS/443
or more apt during development:
HTTP/8080 --&gt; HTTPS/8443
I can't simply change the scheme:
HTTP/80 --&gt; HTTPS/80
HTTP/8080 --&gt; HTTPS/8080
because I do not ( and I don't think I can even set this up ), a webserver listenting for both HTTP and HTTPS traffic on the same port.
Also there is no way for the system to just KNOW what the destination port will be. We could have some heuristics, like if HTTP/80 --&gt; HTTPS assume 443, or HTTP/8080 --&gt; HTTPS assume 8443, but what of all the other random ports that we setup for testing and various reasons...
** I think we at least need to expose the destination port as a parameter as we now expose the scheme. ** So I will submit my patch that will do this. At the moment it is against tapestry/trunk, but I think this should be back ported to encourage it's earlier release.
( We could even roll in the ability to change the destination HOST, or even the destination CONTEXTROOT, but those would be enhancements rather than required fixes. And we could be opening up a pandoras box. )
Broken links in documentation
http://jakarta.apache.org/tapestry/UsersGuide/page-class.html
Has broken links to documentation about 
tapestry.page.PageClassProviderChain and tapestry.page.ComponentClassProviderChain
TestFSDirectory fails on Windows
&quot;ant test&quot; generates the following error consistently when run on a Windows machine even when run as user with Administrator privileges
[junit] Testcase: testTmpDirIsPlainFile(org.apache.lucene.index.store.TestFSDirectory): Caused an ERROR
[junit] Access is denied
[junit] java.io.IOException: Access is denied
[junit] at java.io.WinNTFileSystem.createFileExclusively(Native Method)
[junit] at java.io.File.createNewFile(File.java:828)
[junit] at org.apache.lucene.index.store.TestFSDirectory.testTmpDirIsPlainFile(TestFSDirectory.java:66)
Tree2 setLeaf(false) error
when trying to add nodes to tree2 
TreeNodeBase tree = new TreeNodeBase(&quot;document&quot;, node.getName(), node.getId().toString(), false);
result node have tree.isLeaf() == true;
the same is when you trying explicitly set Leaf 
tree.setLeaf(false);
result node have tree.isLeaf() == true;
Running make clean/distclean doesn't clean up test directory.
Even after running a distclean, the following files are left in test directory.
? test/testconf.pyc
? test/httpdconf.pyc
? test/Makefile
? test/htdocs/dummymodule.pyc
? test/htdocs/cgitest.pyc
? test/htdocs/tests.pyc
Should be addressed as part of test suite rewrite.
create index can fail under the SecurityManager when trying to access files in the tmp folder of a database
Seen in tests lang/wisconsin.sql and jdbcapi/maxfieldsize.java when running with the network server and the new security policy file that grants permisions on a per-jar basis. Unless permission is given to the network serve code (since it is in the stack) to access temp files in the database the test will fail.
permission java.io.FilePermission &quot;${derby.system.home}${/}wombat${/}tmp${/}-&quot;, &quot;read, write, delete&quot;;
Most likely the temp files are being accessed in without a privileged block.
Easy to reproduce once the new policy file changes are checked in (see http://wiki.apache.org/db-derby/SecurityManagerTesting) by removing the permission in the derby_tests.policy file and running these tests using the jar files.
&lt;!DOCTYPE html .. is output for html output, even when the first element is not &quot;html&quot;
Probably a minor bug, but the code in ToHTMLStream.java has this line:
writer.write(&quot;&lt;!DOCTYPE html&quot;);
in the method startDocumentInternal.
This method can be triggered by the fact that we got a startElement() call.
The DOCTYPE should apply to the first element, which is usually &quot;html&quot;, but 
could be &quot;HTML&quot; &quot;HtMl&quot; &quot;spider&quot; &quot;fly&quot; ... or whatever.
The code should be made a little more robust to get the name of the first element
and the name in the DOCTYPE to be the same.
Query String containing large numbers causes exception
Here is what's happen if I use the uri:
/my.action?1114778947765
It seems that ognl tries to convert it to int, but fails. Surely it's also OGNL's fault, but I think care should be also taken in xwork too.
java.lang.NumberFormatException: For input string: &quot;1114778947765&quot;
java.lang.NumberFormatException.forInputString(Unknown Source)
java.lang.Integer.parseInt(Unknown Source)
java.lang.Integer.valueOf(Unknown Source)
ognl.OgnlParserTokenManager.makeInt(OgnlParserTokenManager.java:60)
ognl.OgnlParserTokenManager.TokenLexicalActions(OgnlParserTokenManager.java:1684)
ognl.OgnlParserTokenManager.getNextToken(OgnlParserTokenManager.java:1519)
ognl.OgnlParser.jj_ntk(OgnlParser.java:3079)
ognl.OgnlParser.unaryExpression(OgnlParser.java:1081)
ognl.OgnlParser.multiplicativeExpression(OgnlParser.java:973)
ognl.OgnlParser.additiveExpression(OgnlParser.java:896)
ognl.OgnlParser.shiftExpression(OgnlParser.java:752)
ognl.OgnlParser.relationalExpression(OgnlParser.java:510)
ognl.OgnlParser.equalityExpression(OgnlParser.java:407)
ognl.OgnlParser.andExpression(OgnlParser.java:354)
ognl.OgnlParser.exclusiveOrExpression(OgnlParser.java:301)
ognl.OgnlParser.inclusiveOrExpression(OgnlParser.java:248)
ognl.OgnlParser.logicalAndExpression(OgnlParser.java:195)
ognl.OgnlParser.logicalOrExpression(OgnlParser.java:142)
ognl.OgnlParser.conditionalTestExpression(OgnlParser.java:103)
ognl.OgnlParser.assignmentExpression(OgnlParser.java:66)
ognl.OgnlParser.expression(OgnlParser.java:25)
ognl.OgnlParser.topLevelExpression(OgnlParser.java:17)
ognl.Ognl.parseExpression(Ognl.java:113)
com.opensymphony.xwork.util.OgnlUtil.compile(OgnlUtil.java:202)
com.opensymphony.xwork.util.OgnlUtil.setValue(OgnlUtil.java:195)
Incorrect handling of localized numbers while converting to primitive int
Having a number stored in a String like &quot;1,000&quot; (one thousand), conversion to int fails and int variable gets its default value (0 if not supplied). Conversion to Integer type works correctly - it represents 1000 afterwards.
Suggested solution:
small change in convertValue method in XWorkBasicConverter class:
} else if (Number.class.isAssignableFrom(toType)) {
to
} else if (Number.class.isAssignableFrom(toType) || toType.isPrimitive()) {
to convert the String using NumberFormat and Locale and to prevent direct delegating primitives to defaultTypeConverter which uses Long.parseLong method, failing for numbers like &quot;1,000&quot;.
javax.security.sasl.Sasl: two constants have wrong value
MAX_BUFFER and POLICY_PASS_CREDENTIALS values are wrong and should be fixed.
eclipse compiler confused by non-ASCII characters in java/text/CollationElementIterator.java source file
I'm trying to have a two stage build ... first with a RI JDK and then with Harmony classlib + VME + Eclipse compiler, but it fails with:
[javac] 239. ERROR in /home/hybld/build_test/classlib/modules/text/src/main/java/java/text/RuleBasedCollator.java
[javac] (at line 79)
[javac] public CollationElementIterator getCollationElementIterator(
[javac] ^^^^^^^^^^^^^^^^^^^^^^^^
[javac] CollationElementIterator cannot be resolved to a type
I believe this has something to do with the non-ASCII characters in:
modules/text/src/main/java/java/text/CollationElementIterator.java
I've no idea what we should replace them with. If someone has an idea, can they submit a patch to replace the characters with a suitable ASCII representation?
XML/HTML serializers should have default m_escapeSetting = true
I started using XSLTC but I have problem with results it produces.
I have
XML: 
&lt;a&gt;&amp;amp;&lt;b/&gt;&amp;amp;&lt;/a&gt;
XSL:
&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;
&lt;xsl:output indent=&quot;no&quot; omit-xml-declaration=&quot;yes&quot; /&gt;
&lt;xsl:template match=&quot;/&quot;&gt;
&lt;result&gt;
&lt;xsl:apply-templates /&gt;
&lt;/result&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match=&quot;b&quot;&gt;
&lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&amp;amp;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
I would expect to have in result (see processing instructions)
[[Text: &amp;], [ProcessingInstruction: &lt;?javax.xml.transform.disable-output-escaping?&gt;], [Text: &amp;], [ProcessingInstruction: &lt;?javax.xml.transform.enable-output-escaping?&gt;], [Text: &amp;]]
not
[[Text: &amp;], [ProcessingInstruction: &lt;?javax.xml.transform.disable-output-escaping?&gt;], [Text: &amp;], [ProcessingInstruction: &lt;?javax.xml.transform.disable-output-escaping?&gt;], [Text: &amp;]]
For example in org.apache.xml.serializer.ToXMLSAXHandler m_escapeSetting is by default false
The start of &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt; will call setEscaping(false) which return false - the old value
At the end of &lt;/xsl:text&gt; will be called setEscaping(false) - where false is the original value returned by previous call.
m_escapeSetting will never be true, but most importantly the resulting DOM makes no sense.
also org.apache.xalan.xsltc.runtime.StringValueHandler.setEscaping(boolean bool) looks fishy, I tnink it should retrurn the old value.
OutOfMemoryError: Java heap space in stress.multi
Diff: 
*** Start: stress jdk1.5.0_03 encryption:multi 2006-02-09 23:37:11 ***
3a4
&gt; Exception in thread &quot;Thread-1&quot; java.lang.OutOfMemoryError: Java heap space
6 del
&lt; TEST CASE SUMMARY: normal termination
7 del
&lt; ...running last checks via final.sql
7 add
&gt; TEST CASE SUMMARY: abnormal termination due to error(s) -- see test log (./stress/stress.log) for details 
Test Failed.
*** End: stress jdk1.5.0_03 encryption:multi 2006-02-09 23:41:28 ***
First seen in
http://www.multinet.no/~solberg/public/Apache/TinderBox_Derby/testlog/SunOS-5.10_i86pc-i386/370061-encryption_diff.txt
Uninstaller izpack is broken on Redhat
The uninstaller comes up but is broken because it uses gcj java instead of the sun installer. This is only on redhat at this point but we need to make it so the installer jvm is used instead to remedy this problem.
[PATCH] RoleFilterTransformer dependent on buggy FilterTransformer
Inheritance from class FilterTransformer removed, required (useless) parameters 
for FilterTransformer are not needed anymore.
[PATCH] Threads waste when reading a not found resource.
When setting up a pipeline with a reader on a not found file, the first time a 404 is reported, but following requests will hang up and the thread will never get released, causing a potential complete lock exausting threads.
In the AbstractCachingProcessingPipeline class, in ProcessReader method, the following happens :
- 774: a pcKey is created for caching content
- 853: the method eventually waits if another thread is generating
- 869: the method acquires a lock, to avoid other threads to generate twice
- 886: if there is no need cache validity pcKey is setted to null
- 918: if an exception occurrs while generating, the following code is in a finally :
if (pcKey != null) {
releaseLock(pcKey);
}
This obviously brings to the following situation :
- A non existing resource is being generated
- A lock is acquired
- The FileSource returns null if the file does not exist.
- So pcKey is setted to null.
- An exception is thrown, since the file is not found.
- The finally block does not release the lock
- Next requests on the same file will hang waiting on the lock, but the other thread will never release it.
This can easily consume all threads, it's quite easy to have this kind of errors on a missing gif, or css, or favicon.ico or something else. 
I modified this class so that it :
- Does not set pckey to null when readerValidity == null
- Checks for pckey != null &amp;&amp; readerValidity != null on line 907 so that content is not cached if readerValidity == null
- Since pckey is != null the lock is released.
I tested it and seems to work correctly, but this is core stuff, please double check it!!
ByteBuffer.putString() can loop endlessly with multi-byte UTF-8 characters
If the ByteBuffer is sized just-right, attempting to put a multi-byte UTF-8 character will cause the code to loop endlessly.
Attached is a test that will illustrate the issue, and a patch that first expands by the avgBytePerChar, then maxBytePerChar, then bails, to avoid a hang.
fix installer shortcuts on unix
need to fix the shortcuts on unix which appear to be broken
Tab panel in Richmond-Theme has Scrollbars
The Tabpanel has a scrollbar in this theme.
See tobago-example-demo -&gt; Tab
Use of &quot;Double-Checked Locking&quot; in ThreadPoolFilter
In ThreadPoolFilter, the Double-Checked Locking pattern is used:
SessionBuffer buf = ( SessionBuffer ) buffers.get( session );
if( buf == null )
{
synchronized( buffers )
{
buf = ( SessionBuffer ) buffers.get( session );
if( buf == null )
{
buf = new SessionBuffer( session );
buffers.put( session, buf );
}
}
}
.. this could lead to problems on multi-CPU systems (http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html)
Failure to shutdown SSL in a test run
I have been unable to reproduce it.. I don't know what test it was from either.. Perhaps it represents a race condition somewhere, dunno.. Just throwing in here so it doesn't get forgotten.
java.lang.IllegalStateException
at org.apache.mina.filter.SSLFilter.getSSLSessionHandler(SSLFilter.java:632)
at org.apache.mina.filter.SSLFilter.isSSLStarted(SSLFilter.java:188)
at org.apache.mina.filter.SSLFilter.filterClose(SSLFilter.java:538)
at org.apache.mina.common.support.AbstractIoFilterChain.callPreviousFilterClose(AbstractIoFilterChain.java:576)
at org.apache.mina.common.support.AbstractIoFilterChain.access$1200(AbstractIoFilterChain.java:52)
at org.apache.mina.common.support.AbstractIoFilterChain$EntryImpl$1.filterClose(AbstractIoFilterChain.java:779)
at org.apache.mina.common.support.AbstractIoFilterChain$2.filterClose(AbstractIoFilterChain.java:218)
at org.apache.mina.common.support.AbstractIoFilterChain.callPreviousFilterClose(AbstractIoFilterChain.java:576)
at org.apache.mina.common.support.AbstractIoFilterChain.filterClose(AbstractIoFilterChain.java:567)
at org.apache.mina.transport.socket.nio.support.SocketSessionImpl.close0(SocketSessionImpl.java:150)
at org.apache.mina.common.support.BaseIoSession.close(BaseIoSession.java:107)
at org.apache.mina.transport.socket.nio.support.SocketAcceptorDelegate.unbind(SocketAcceptorDelegate.java:261)
at org.apache.mina.common.support.DelegatedIoAcceptor.unbind(DelegatedIoAcceptor.java:70)
at org.apache.mina.examples.echoserver.AbstractTest.tearDown(AbstractTest.java:191)
at junit.framework.TestCase.runBare(TestCase.java:130)
at junit.framework.TestResult$1.protect(TestResult.java:106)
at junit.framework.TestResult.runProtected(TestResult.java:124)
at junit.framework.TestResult.run(TestResult.java:109)
at junit.framework.TestCase.run(TestCase.java:118)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at junit.textui.TestRunner.doRun(TestRunner.java:116)
at com.intellij.rt.execution.junit2.IdeaJUnitAgent.doRun(IdeaJUnitAgent.java:58)
at junit.textui.TestRunner.start(TestRunner.java:172)
at com.intellij.rt.execution.junit.TextTestRunner2.startRunnerWithArgs(TextTestRunner2.java:23)
at com.intellij.rt.execution.junit2.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:98)
at com.intellij.rt.execution.junit2.JUnitStarter.main(JUnitStarter.java:32)
Compile fails on gcc4.1
Fails to build with g++ 4.1 due to extra class qualification in include/log4cxx/xml/domconfigurator.h:249 and include/log4cxx/helpers/unicodehelper.h:98
No javascript with MyFaces &amp; Facelets
When MyFaces are used with Facelets 1.0.12 there is no JavaScript generated if no &lt;h:form&gt; is present. Very simple example:
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;
xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;
xmlns:h=&quot;http://java.sun.com/jsf/html&quot;
xmlns:t=&quot;http://myfaces.apache.org/tomahawk&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
&lt;title&gt;Facelets: Number Guess Tutorial&lt;/title&gt;
&lt;head&gt;
&lt;link rel=&quot;STYLESHEET&quot; type=&quot;text/css&quot; href=&quot;/css/style.css&quot;/&gt;
&lt;/head&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h:commandLink value=&quot;Link&quot; action=&quot;do&quot;/&gt;
&lt;/body&gt;
&lt;/html&gt;
[root@boris /mnt/work.1/www]# [root@boris /mnt/work.1/www]# cat test.xhtml
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;
xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;
xmlns:h=&quot;http://java.sun.com/jsf/html&quot;
xmlns:t=&quot;http://myfaces.apache.org/tomahawk&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
&lt;title&gt;Facelets: Number Guess Tutorial&lt;/title&gt;
&lt;head&gt;
&lt;link rel=&quot;STYLESHEET&quot; type=&quot;text/css&quot; href=&quot;/css/style.css&quot;/&gt;
&lt;/head&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h:commandLink value=&quot;Link&quot; action=&quot;do&quot;/&gt;
&lt;/body&gt;
&lt;/html&gt;
When h:commandLink is inside h:form - all is ok. But... why we can't use h:commandLink without form?
StateUtils has a static inializer that calls FacesContext.getCurrentInstance()
In a multi-threaded environment or when using multiple webapps within one container this is subject to fail.
RI docs does not specify values for constant fields in javax.accessibility.AccessibleAction interface
The RI docs do not specify the Constant field values for the three fields defined in the javax.accessibility.AccessibleAction interface
However, the following code displays the values in those fields:
----------------------------------------------------------------------------------------
public class AccessibleActionTest {
public static void main(String[] args) {
System.out.println(AccessibleAction.DECREMENT );
System.out.println(AccessibleAction.INCREMENT );
System.out.println(AccessibleAction.TOGGLE_EXPAND);
}
}
----------------------------------------------------------------------------------------
The output is :
decrement
increment
toggle expand
Should we go ahead and initialize the fields of the AccessibleAction interface with the values obtained from the above output ?
When deploying portlets that use the new webwork Jsr168Dispatcher class the portlet titles are unavailable in liferay 3.6.1
I have raised this issue on the liferay user group as I initially thought it was a configuration setting within liferay, however after 2 days of trying lots of different configuration options I have been unable to get the titles to appear.
If you need any further information don't hesitate to get in touch.
Unable to send SOAP 1.1 messages
JPOX throws NullPointerException during makePersistent of a detached object
After applying the patch in JDO-272, JPOX throws an exception during makePersistent of a detached object.
[java] 1) testAttachClean(org.apache.jdo.tck.api.persistencemanager.detach.DetachAttach)java.lang.NullPointerException
[java] at org.jpox.AbstractPersistenceManager.attachCopy(AbstractPersistenceManager.java:1302)
[java] at org.jpox.AbstractPersistenceManager.internalMakePersistent(AbstractPersistenceManager.java:1075)
[java] at org.jpox.AbstractPersistenceManager.makePersistent(AbstractPersistenceManager.java:1167)
[java] at org.apache.jdo.tck.api.persistencemanager.detach.DetachAttach.testAttachClean(DetachAttach.java:62)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[java] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[java] at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:206)
[java] at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:120)
[java] at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:95)
JPOX metadata query defaults unmodifiable to true; the default should be false
The default for the unmodifiable attribute in queries defined in metadata is false. It was true during early development of the specification.
This causes:
[java] 1) testPositive(org.apache.jdo.tck.query.api.ChangeQuery)javax.jdo.JDOUserException: This query is in an unmodifiable state. It's structure cannot be changed
[java] at org.jpox.store.query.Query.assertIsUnmodifiable(Query.java:703)
[java] at org.jpox.store.query.Query.setResult(Query.java:600)
[java] at org.apache.jdo.tck.query.api.ChangeQuery.testPositive(ChangeQuery.java:64)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[java] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[java] at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:216)
[java] at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:120)
[java] at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:95)
JPOX fails to create detached instances via serialization
After applying the patch in JDO-272, the DetachSerialize test fails:
There was 1 failure:
[java] 1) testDetachSerialize(org.apache.jdo.tck.api.persistencemanager.detach.DetachSerialize)junit.framework.AssertionFailedError: 
[java] Assertion A12.6.8 (DetachSerialize) failed: after deserializing cart,
[java] Cart instance should be detached but is not. The object state is: {}
[java] Assertion A12.6.8 (DetachSerialize) failed: after deserializing cart,
[java] CartEntry instance should be detached but is not. The object state is: {}
[java] Assertion A12.6.8 (DetachSerialize) failed: after deserializing cart,
[java] Product instance should be detached but is not. The object state is: {}
[java] 
[java] at org.apache.jdo.tck.JDO_Test.failOnError(JDO_Test.java:951)
[java] at org.apache.jdo.tck.api.persistencemanager.detach.DetachSerialize.testDetachSerialize(DetachSerialize.java:73)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[java] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[java] at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:206)
[java] at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:120)
[java] at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:95)
JPOX FetchPlan.getDetachmentRoots() returns null instead of empty Class[ ] after getPersistenceManager
&lt;spec&gt;
Detachment root 
classes is an empty Class[] when the PersistenceManager is first acquired from the 
PersistenceManagerFactory. 
&lt;/spec&gt;
XSD and DTD files are missing the attribute field-type for the property element
Jcr-server: Parsing NodeTypeProperty not compliant with definition
Creating a new NodeTypeProperty from an existing DavProperty fails, since assumptions made are not compliant with definition:
a) nodetype name is always enclosed in a 'nodetypename' element
b) nodetype property may be empty, thus contain no 'nodetype' element.
Jcr-Server: ItemDefinitionImpl.toXml throws NPE for the root node.
ItemDefinitionImpl.toXml throws NPE for the root node due to a missing assertion regarding the declaring nodetype.
Jcr-Server: registration of ReportTypes fails
Registration of ReportType(s) using 
ReportType.register(String localName, Namespace namespace, Class reportClass) [ReportType]
fails due to wrong evaluation of interfaces implemented by the given class object.
WSDL2Java generates bad code for oneway operations
If we have a wsdl with an operation like this (Where &quot;tns:SimpleMessage&quot; may be just a &quot;xsd:string&quot;):
&lt;wsdl:portType name=&quot;SimplePortType&quot;&gt;
&lt;wsdl:operation name=&quot;SimpleOperation&quot;&gt;
&lt;wsdl:input message=&quot;tns:SimpleMessage&quot;/&gt;
&lt;/wsdl:operation&gt;
&lt;/wsdl:portType&gt;
WSDL2Java generates a Message Receiver that extends &quot;AbstractInOutSyncMessageReceiver&quot; instead of &quot;AbstractInMessageReceiver&quot;:
public class SimplePortTypeMessageReceiver extends org.apache.axis2.receivers.AbstractInOutSyncMessageReceiver { ... }
Also, in the Stub, operations are registered as &quot;OutInAxisOperation&quot;, instead of &quot;InOnlyAxisOperation&quot;:
_operations = new org.apache.axis2.description.OutInAxisOperation[1];
Any attept to use the stub to comunicate with the service will result in the following exception: 
org.apache.axis2.AxisFault: org.apache.axis2.AxisFault: Raw Xml provider supports only the methods bearing the signature public OMElement &amp;lt;method-name&amp;gt;(OMElement) where the method name can be anything
at org.apache.axis2.receivers.RawXMLINOnlyMessageReceiver.invokeBusinessLogic(RawXMLINOnlyMessageReceiver.java:118)
at org.apache.axis2.receivers.AbstractInMessageReceiver.receive(AbstractInMessageReceiver.java:34)
at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:331)
at org.apache.axis2.transport.http.HTTPTransportUtils.processHTTPPostRequest(HTTPTransportUtils.java:274)
at org.apache.axis2.transport.http.AxisServlet.doPost(AxisServlet.java:150)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:868)
at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:663)
at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
at java.lang.Thread.run(Thread.java:534)
If we add an output message to the operation, then everything works perfectly (but the operation isn't oneway any more):
&lt;wsdl:portType name=&quot;SimplePortType&quot;&gt;
&lt;wsdl:operation name=&quot;SimpleOperation&quot;&gt;
&lt;wsdl:input message=&quot;tns:SimpleMessage&quot;/&gt;
&lt;wsdl:output message=&quot;tns:SimpleMessage&quot;/&gt;
&lt;/wsdl:operation&gt;
&lt;/wsdl:portType&gt;
Trying to manually change Message Receiver generated, so it extends &quot;AbstractInMessageReceiver&quot; results in more exceptions difficult to solve.
java.util.TimeZone's default implementation may cause many classes' serialization non-compatible with RI
Static factory methods, java.util.TimeZone.getInstance(String) and getDefault(), are only ways to get a TimeZone instance, but Harmony and RI uses different classes as default implementation, which cause serialization non-compatible. Further, all classes whose serialization form includes TimeZone won't compatible with RI, too, for example, java.util.Calendar(with subclass), java.text.DateFormat(with subclass), etc.
But the incompatiblity is hard to be imputed to Harmony, because Harmony use API class SimpleTimeZone as default implementation, but RI use a non-API class, whose full name is sun.util.calendar.ZoneInfo.
The reproduce procedure:
1. To serialize TimeZone object to a file in RI, run codes below in RI
public void writeObject(){
TimeZone zone = TimeZone.getTimeZone(&quot;GMT&quot;);
ObjectOutputStream ooutput = null;
try {
ooutput = new ObjectOutputStream(new FileOutputStream(&quot;TimeZone.ser&quot;));
ooutput.writeObject(zone);
} finally {
try {
if (null != ooutput) {
ooutput.close();
}
} catch (Exception e) {
}
}
}
2. Trying to deserialize this object from file, run codes below
public void readObject(){
ObjectInputStream oinput = null;
try {
oinput = new ObjectInputStream(new FileInputStream(&quot;TimeZone.ser&quot;));
TimeZone newObj = (TimeZone)oinput.readObject();
} finally {
try {
if (null != oinput) {
oinput.close();
}
} catch (Exception e) {
}
}
}
Run in RI, passes without any failure
Run in Harmony, exception throwed as below:
java.lang.ClassNotFoundException: sun.util.calendar.ZoneInfo
at java.lang.Class.forName(Class.java:154)
at java.io.ObjectInputStream.resolveClass(ObjectInputStream.java:2226)
... ...
Cannot update site-wide settings against Oracle database
Roller is configured to work against an Oracle 9.2 database. When I try to update the site-wide settings page, I get a NullPointerException 500 error pointing to RollerPropertiesAction.java line 144.
The code does not check for null values before trying to do a string comparison. I propose a correction like this:
if (updProp.getValue() != null) { //THIS IS THE NEW LINE
if(updProp.getValue().equals(&quot;true&quot;) ||
updProp.getValue().equals(&quot;false&quot;)) {
if(incomingProp == null || !incomingProp.equals(&quot;on&quot;))
incomingProp = &quot;false&quot;;
else
incomingProp = &quot;true&quot;;
}
}
multi values of header discarded
orignal by: phoebe
http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1111185&amp;group_id=59548&amp;atid=491356
multi values of header discarded
Each successive setting of a header value deletes the
previous one.
This patch allows multi values to be retained, such as
cookies, using lf cr as a delimiter for each values.
--- /tmp/HttpResponse.java 2005-01-27
19:57:55.000000000 -0500
+++ HttpResponse.java 2005-01-27 20:45:01.000000000 -0500
@@ -324,7 +324,19 @@
}
String value = line.substring(valueStart);
- headers.put(key, value);
+//Spec allows multiple values, such as Set-Cookie -
using lf cr as delimiter
+ if ( headers.containsKey(key)) {
+ try {
+ Object obj= headers.get(key);
+ if ( obj != null) {
+ String oldvalue=
headers.get(key).toString();
+ value = oldvalue +
&quot;\r\n&quot; + value;
+ }
+ } catch (Exception e) {
+ e.printStackTrace();
+ }
+ }
+ headers.put(key, value);
}
private Map parseHeaders(PushbackInputStream in,
StringBuffer line)
@@ -399,5 +411,3 @@
}
Portlet URL support doesn't follow JSR-168 spec
The class com.opensymphony.webwork.components.URL uses the method HttpServletRequest.getQueryString() which is NOT available to portlets according to the JSR-168 specification.
This was discovered while trying to get the WebWork example portlet working in uPortal 2.5.X. uPortal adds parameters to the URL prefixed by uP_ which are treated as framework parameters and not passed on to the targeted portlet via the JSR-168 APIs.
In the URL class the WebWork framework is parsing the parameters off the URL which is retrieved by the HttpServletRequest.getQueryString() method. The results of this method cannot be considered valid for a portlet according to the JSR-168 specification. One possible fix would be to use the PortletActionContext.isPortletRequest() check and only perform URL inspection if not in a portlet.
AddFooter couldn't process mails which MimeType is multipart/related
if mail Mimetype is &quot;multipart/related&quot; , the AddFooter mailet will not add footer into mails.
Harmony text component has some API difference with JSE 5 spec
Three new methods added to java.text.BreakIterator
method java.text.BreakIterator.getInt(byte[], int)
method java.text.BreakIterator.getLong(byte[], int)
method java.text.BreakIterator.getShort(byte[], int)
One method signature difference in java.text.NumberFormat
java/text/NumberFormat format(Object, StringBuffer,FieldPosition) should not be final
java.nio.charset.CharsetDecoder: decode(in,out,endOfInput) method doesn't preserve replace string for successive decode invocation while &quot;out&quot; doesn't have engouh space for replace string.
Consider following senario:
During the invocation of method java.nio.charset.CharsetDecoder.decode(in,out,false), method &quot;decodeLoop&quot; returns malformed CoderResult, and the action is set as &quot;CodingErrorAction.REPLACE&quot;. So replace action should be taken, but &quot;out&quot; doesn't hold enough space for the replace string. Therefore, CoderResult.OVERFLOW should be returned. Harmony does return OVERFLOW currently, but the replace string won't put into new allocated output any more. In other words, the replace string is missing from the view of &quot;stream decoding&quot;. Therefore, replace string should be preserved for successive decode(in,out,endOfInput) invacation.
Both RI5.0 and Harmony fails on the following test case. However, according to the spec, we think it is a defect of RI5.0.
================================== Test Case======================
/*
* Test the method decode(ByteBuffer) .
*/
public void testDecode_ReplaceOverflow() throws Exception {
String replaceString = &quot;a&quot;;
Charset cs = Charset.forName(&quot;UTF-8&quot;);
MockMalformedDecoder decoder = new MockMalformedDecoder(cs);
decoder.onMalformedInput(CodingErrorAction.REPLACE);
decoder.replaceWith(replaceString);
CharBuffer out = CharBuffer.allocate(1);
// MockMalformedDecoder treats the second byte '0x38' as malformed, 
// but &quot;out&quot; doesn't have enough space for replace string.
ByteBuffer in = ByteBuffer.wrap(new byte[]{0x45,0x38,0x45,0x45});
CoderResult result = decoder.decode(in,out,false);
assertTrue(result.isOverflow());
// allocate enough space for &quot;out&quot;
out = CharBuffer.allocate(10);
// replace string should be put into &quot;out&quot; firstly,
// and then decode &quot;in&quot;. 
result =decoder.decode(in,out,true);
out.flip();
assertTrue(result.isUnderflow());
assertEquals(&quot;abb&quot;,out.toString());
}
/*
* Mock decoder. It treats byte whose value is less than &quot;0x40&quot; as malformed.
*/
static class MockMalformedDecoder extends java.nio.charset.CharsetDecoder {
public MockMalformedDecoder(Charset cs) {
super(cs, 1, 10);
}
/*
* It treats byte whose value is less than &quot;0x40&quot; as malformed.
* Otherwise, it's decoded as 'b'.
*/
protected CoderResult decodeLoop(ByteBuffer in, CharBuffer out) {
System.out.println(&quot;Using MockMalformedDecoder&quot;);
while (in.hasRemaining()) {
byte b = in.get();
if(b &lt; 0x40){
return CoderResult.malformedForLength(1);
}
if(!out.hasRemaining()){
return CoderResult.OVERFLOW;
}
out.put((char)'b');
}
return CoderResult.UNDERFLOW;
}
}
the two file system tests TestDFS and TestFileSystem take too long
Running &quot;ant test&quot; takes hours and uses the conf directory, which forces it to run on the real cluster.
I propose that we split rename the test classes from
src/test/org/apache/hadoop/dfs/TestDFS.java to LongTestDFS.java
src/test/org/apache/hadoop/fs/TestFileSystem.java to LongTestFileSystem.java
and then we set up a new ant target &quot;long-test&quot; that runs all tests that match &quot;**/LongTest*.java&quot;.
rpc commands not buffered
Calls using Hadoop's RPC framework get sent across the network byte by byte.
DatabaseToDdl task does not add 'name' attribute to &lt;database&gt; tag in dumped schema XML file.
When dumping the schema file, the generated XML does not contain the 'name' attribute in root &lt;database&gt; tag. When trying to load the schema.xml file into SQLServer 2005 EE, DdlToDatabase complains about the missing attribute. If I manually add a name attribute, then the load works as expected. 
If possible, the dump should write all the required elements that the load requires. This would greatly facilitate automation of database tasks using Ant.
store/OnlineBackupTest3.java intermittently hangs
store/OnlineBackupTest3.java hangs.
More info:
http://article.gmane.org/gmane.comp.apache.db.derby.devel/15336
http://www.multinet.no/~solberg/public/Apache/DerbyJvm1.4/Limited/testSummary-379835.html [Linux-2.6.14-1.1644 FC4]
&gt; ERROR XSRS5: Error copying file (during backup) from /export/home/tmp/os136789/testingDerbyJvm1.4/Linux-2.6.14-1.1644_FC4_i686-i686/derbyall/derbyall/storeall/storemore/OnlineBackupTest3/wombat/jar/APP to extinout/onlinebackuptest/wombat/jar/APP.
The 3.0 Branch won't build due to javassist download problem
The URL for the Javassist download doesn't work and it is required for a build in a clean environment.
Issue created beacuse a build was needed to resolve issues in maintenance mode.
Tutorial2 source won't compile
In the examples is a Tutorial2 directory with source that references net.sf packaging. These should be removed as they have never worked in the distribution as-is. (They'll still be there in the repo if anyone wants to go back to them)
(T3 only) Multithreading problems possibly due to double-checked locking
Flawed synchronization code using &quot;double-checked locking&quot; is used in these methods:
(1) org.apache.tapestry.enhance.DefaultComponentClassEnhancer.getEnhancedClass()
(2) org.apache.tapestry.enhance.javassist.EnhancedClassFactory.getObjectType()
Suggested fix for (1) is:
public Class getEnhancedClass(IComponentSpecification specification,
String className)
{
synchronized (specification)
{
Class result = getCachedClass(specification);
if (result == null)
{
result = getCachedClass(specification);
if (result == null)
{
result = constructComponentClass(specification, className);
storeCachedClass(specification, result);
}
}
}
return result;
}
Original bug report, from Michael Prescott ( mprescott@exchangesolutions.com ) in users list is:
We're coming across an unusual exception that occurs when our
application is under load. Below is an example stack trace, although
the problem can occur while enhancing any of a number of things, so it
doesn't seem specific to one part of our application. The root
exception is always the same, however:
javassist.CannotCompileException: duplicate method: &lt;init&gt;
Since it seemed to be related to concurrency, we were reading through
the Tapestry classes along this stack, and found what looks like a
threading problem in DefaultComponentClassEnhancer.java:
public Class getEnhancedClass(IComponentSpecification specification,
String className)
{
Class result = getCachedClass(specification);
if (result == null)
{
synchronized (this)
{
result = getCachedClass(specification);
if (result == null)
{
result = constructComponentClass(specification,
className);
storeCachedClass(specification, result);
}
}
}
return result;
}
This is double-checked locking, which isn't safe given instruction
reordering and thread-specific copies of variables, and all that
multi-CPU magic. This problem is occurring on an 8-CPU server, which
I'm guessing is enough processors to expose the subtle ways in which
double-checked locking can fail.
Does this ring any bells for anyone? I realize this is a somewhat
nebulous query.
Michael
org.apache.tapestry.ApplicationRuntimeException: A code generation error
occured while enhancing class org.apache.tapestry.link.GenericLink.
at
org.apache.tapestry.enhance.DefaultComponentClassEnhancer.constructCompo
nentClass(DefaultComponentClassEnhancer.java:151)
at
org.apache.tapestry.enhance.DefaultComponentClassEnhancer.getEnhancedCla
ss(DefaultComponentClassEnhancer.java:97)
at
org.apache.tapestry.pageload.PageLoader.instantiateComponent(PageLoader.
java:603)
at
org.apache.tapestry.pageload.PageLoader.createImplicitComponent(PageLoad
er.java:569)
at
org.apache.tapestry.BaseComponentTemplateLoader.createImplicitComponent(
BaseComponentTemplateLoader.java:295)
at
org.apache.tapestry.BaseComponentTemplateLoader.process(BaseComponentTem
plateLoader.java:237)
at
org.apache.tapestry.BaseComponentTemplateLoader.process(BaseComponentTem
plateLoader.java:172)
at
org.apache.tapestry.BaseComponent.readTemplate(BaseComponent.java:100)
at
org.apache.tapestry.BaseComponent.finishLoad(BaseComponent.java:135)
at
org.apache.tapestry.pageload.PageLoader.constructComponent(PageLoader.ja
va:519)
at
org.apache.tapestry.pageload.PageLoader.createImplicitComponent(PageLoad
er.java:576)
at
org.apache.tapestry.BaseComponentTemplateLoader.createImplicitComponent(
BaseComponentTemplateLoader.java:295)
at
org.apache.tapestry.BaseComponentTemplateLoader.process(BaseComponentTem
plateLoader.java:237)
at
org.apache.tapestry.BaseComponentTemplateLoader.process(BaseComponentTem
plateLoader.java:172)
at
org.apache.tapestry.BaseComponent.readTemplate(BaseComponent.java:100)
at
org.apache.tapestry.BaseComponent.finishLoad(BaseComponent.java:135)
at
org.apache.tapestry.pageload.PageLoader.constructComponent(PageLoader.ja
va:519)
at
org.apache.tapestry.pageload.PageLoader.createImplicitComponent(PageLoad
er.java:576)
at
org.apache.tapestry.BaseComponentTemplateLoader.createImplicitComponent(
BaseComponentTemplateLoader.java:295)
at
org.apache.tapestry.BaseComponentTemplateLoader.process(BaseComponentTem
plateLoader.java:237)
at
org.apache.tapestry.BaseComponentTemplateLoader.process(BaseComponentTem
plateLoader.java:172)
at
org.apache.tapestry.BaseComponent.readTemplate(BaseComponent.java:100)
at
org.apache.tapestry.BaseComponent.finishLoad(BaseComponent.java:135)
at
org.apache.tapestry.pageload.PageLoader.constructComponent(PageLoader.ja
va:519)
at
org.apache.tapestry.pageload.PageLoader.createImplicitComponent(PageLoad
er.java:576)
at
org.apache.tapestry.BaseComponentTemplateLoader.createImplicitComponent(
BaseComponentTemplateLoader.java:295)
at
org.apache.tapestry.BaseComponentTemplateLoader.process(BaseComponentTem
plateLoader.java:237)
at
org.apache.tapestry.BaseComponentTemplateLoader.process(BaseComponentTem
plateLoader.java:172)
at
org.apache.tapestry.BaseComponent.readTemplate(BaseComponent.java:100)
at
org.apache.tapestry.BaseComponent.finishLoad(BaseComponent.java:135)
at
org.apache.tapestry.pageload.PageLoader.constructComponent(PageLoader.ja
va:519)
at
org.apache.tapestry.pageload.PageLoader.loadPage(PageLoader.java:764)
at
org.apache.tapestry.pageload.PageSource.getPage(PageSource.java:152)
at
org.apache.tapestry.engine.RequestCycle.getPage(RequestCycle.java:195)
at
org.apache.tapestry.engine.ActionService.service(ActionService.java:125)
at
org.apache.tapestry.engine.AbstractEngine.service(AbstractEngine.java:88
9)
at
org.apache.tapestry.ApplicationServlet.doService(ApplicationServlet.java
:198)
at
net.exchangesolutions.sn.ui.tapestry.SynchronizedServlet.doService(Synch
ronizedServlet.java:37)
at
org.apache.tapestry.ApplicationServlet.doGet(ApplicationServlet.java:159
)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:115)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:92)
at
com.caucho.server.dispatch.ServletFilterChain.doFilter(ServletFilterChai
n.java:99)
at
net.exchangesolutions.sncore.servlet.StateFilter.doFilter(StateFilter.ja
va:56)
at
com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.
java:70)
at
com.caucho.server.webapp.WebAppFilterChain.doFilter(WebAppFilterChain.ja
va:163)
at
com.caucho.server.dispatch.ServletInvocation.service(ServletInvocation.j
ava:208)
at
com.caucho.server.hmux.HmuxRequest.handleRequest(HmuxRequest.java:396)
at
com.caucho.server.port.TcpConnection.run(TcpConnection.java:363)
at com.caucho.util.ThreadPool.runTasks(ThreadPool.java:490)
at com.caucho.util.ThreadPool.run(ThreadPool.java:423)
at java.lang.Thread.run(Thread.java:595)
Caused by: org.apache.tapestry.enhance.CodeGenerationException
at
org.apache.tapestry.enhance.javassist.ClassFabricator.getByteCode(ClassF
abricator.java:291)
at
org.apache.tapestry.enhance.javassist.EnhancedClass.createEnhancedSubcla
ss(EnhancedClass.java:130)
at
org.apache.tapestry.enhance.ComponentClassFactory.createEnhancedSubclass
(ComponentClassFactory.java:336)
at
org.apache.tapestry.enhance.DefaultComponentClassEnhancer.constructCompo
nentClass(DefaultComponentClassEnhancer.java:143)
... 50 more
Caused by: javassist.CannotCompileException: duplicate method: &lt;init&gt;
at
javassist.bytecode.ClassFile.testExistingMethod(ClassFile.java:488)
at javassist.bytecode.ClassFile.addMethod(ClassFile.java:472)
at javassist.CtClassType.addConstructor(CtClassType.java:885)
at javassist.CtNewClass.addConstructor(CtNewClass.java:55)
at
javassist.CtNewClass.inheritAllConstructors(CtNewClass.java:96)
at javassist.CtNewClass.toBytecode(CtNewClass.java:63)
at javassist.CtClass.toBytecode(CtClass.java:1021)
at
org.apache.tapestry.enhance.javassist.ClassFabricator.getByteCode(ClassF
abricator.java:279)
... 53 more
Michael Prescott
direct: 416.646.7062
main: 416.646.7000 
fax: 416.646.7050 
Exchange Solutions Inc.
250 Yonge Street, 18th Floor
Toronto, ON M5B 2L7
www.exchangesolutions.com
Converter property of contrib:FormTable does not work
I've been trying to use the &quot;converter&quot; property on the contrib:FormTable component without success. I dug into the source code and discovered that the &quot;converter&quot; property on the contained &quot;tableRows&quot; components is not marked as &lt;inherited-binding.../&gt;, it's just marked as a &lt;binding.../&gt; which, of course, will prevent the &quot;converter&quot; property of the owning table from being passed in properly. This all happens on line 237 of FormTable.jwc:
&lt;component id=&quot;tableRows&quot; type=&quot;TableFormRows&quot;&gt;
&lt;inherited-binding name=&quot;row&quot; parameter-name=&quot;row&quot;/&gt;
&lt;inherited-binding name=&quot;class&quot; parameter-name=&quot;rowsClass&quot;/&gt;
&lt;!-HERE'S THE PROBLEM!!!--&gt;
&lt;binding name=&quot;convertor&quot; expression=&quot;convertor&quot;/&gt;
&lt;/component&gt;
It seems like that line should read:
&lt;inherited-binding name=&quot;converter&quot; expression=&quot;converter&quot;/&gt;
annotations on event set methods that interact with interceptors can result in compilation errors
An event set within a control interface with annotated methods can result in compilation errors. The errors will only occur when the interface has no methods of its own (annotated or not).
Repro:
Easy, just create a control interface with an event set that has annotated methods that interact with interceptors and compile (if you add any method to the interface you will not see the error). Ex:
@ControlExtension
public interface CallbackOnlyControl extends ExtensibleControl 
@EventSet
public interface CallbackHere extends MessageBufferFailure { 
@MessageBuffer(retryCount=2, retryDelay=&quot;1s&quot;)
void bufferedCallback(); 
} 
}
Error:
[apt] D:\src_15004jr\bea\weblogic92\test\wlwbvt\messageBufferingApp\genera
tedsrc\controls\stateless\CallbackOnlyControlBean.java:104: cannot find symbol
[apt] symbol : variable _CallbackHere_bufferedCallbackEvent
[apt] location: class controls.stateless.CallbackOnlyControlBean.CallbackH
ereNotifier
[apt] preEvent(_CallbackHere_bufferedCallbackEvent, __bc_a
rgArray, _CallbackHere_bufferedCallbackEventInterceptors);
[apt] ^
[apt] D:\src_15004jr\bea\weblogic92\test\wlwbvt\messageBufferingApp\genera
tedsrc\controls\stateless\CallbackOnlyControlBean.java:104: cannot find symbol
[apt] symbol : variable _CallbackHere_bufferedCallbackEventInterceptors
[apt] location: class controls.stateless.CallbackOnlyControlBean.CallbackH
ereNotifier
[apt] preEvent(_CallbackHere_bufferedCallbackEvent, __bc_a
rgArray, _CallbackHere_bufferedCallbackEventInterceptors);
[apt]
^
[apt] D:\src_15004jr\bea\weblogic92\test\wlwbvt\messageBufferingApp\genera
tedsrc\controls\stateless\CallbackOnlyControlBean.java:131: cannot find symbol
[apt] symbol : variable _CallbackHere_bufferedCallbackEvent
[apt] location: class controls.stateless.CallbackOnlyControlBean.CallbackH
ereNotifier
[apt] postEvent(_CallbackHere_bufferedCallbackEvent, __bc_
argArray, null, __bc_thrown, _CallbackHere_bufferedCallbackEventInterceptors, __
bc_pivotedInterceptor);
[apt] ^
[apt] D:\src_15004jr\bea\weblogic92\test\wlwbvt\messageBufferingApp\genera
tedsrc\controls\stateless\CallbackOnlyControlBean.java:131: cannot find symbol
[apt] symbol : variable _CallbackHere_bufferedCallbackEventInterceptors
[apt] location: class controls.stateless.CallbackOnlyControlBean.CallbackH
ereNotifier
[apt] postEvent(_CallbackHere_bufferedCallbackEvent, __bc_
argArray, null, __bc_thrown, _CallbackHere_bufferedCallbackEventInterceptors, __
bc_pivotedInterceptor);
Jcr-Server: ValuesProperty missing property type information
JCR specific dav-property ValuesProperty does not reveal the PropertyType of the value, which is therefore lost during (de)serialization. 
Solution: 
- Pass type of the JCR-value as attribute to the xml-element containing the value.
Jcr-server: DeltaVResource lists MKWORKSPACE in the method constant.
RFC 3253 requires REPORT to be supported by all DeltaV compliant resources.
The method constant therefore should list REPORT only.
CLOB and BLOB descriptions do not specify the default length
BLOB without a length has a default length of 1 mega byte, ie. same as BLOB(1M)
CLOB without a length has a default length of 1 mega characters, ie. same as CLOB(1M)
http://db.apache.org/derby/docs/10.1/ref/rrefblob.html
http://db.apache.org/derby/docs/10.1/ref/rrefclob.html
HTTP Response Code wrong for static convent served up via FilterDispatcher
The FilterDispatcher returns static content from the static as a http response code of 200.
This causes a problem in that the browsers will continually request content that was returned with a 200 response code.
The response code for truely static content should be a 304 which indicates that the content was not modified.
mod_axis2 cannot handle HTTP chunked streams
Axis2 Apache2 integration module cannot handle HTTP chunked streams. The problem is, when the input stream from client is chunked, Apache2 gives the data plus the last chunk (0\r\n) of the chunked stream when ap_get_client_block() is called. LibXML2 parser assumes this last chunk is also a part of the xml stream (even though the correct xml is already read by the library) and gives an invaid xml error.
Translations with symbols ' and \
TextProviderSupport.getText removes symbols ' and \ in translations
there can be only 254 ids created *within the same millisecond
Good catch! I found what the problem is - there can be only 254 ids
created *within the same millisecond*. The test below fails with a
message &quot;Failed on 254&quot;:
public void testIdPool() throws Exception {
Set idSet = new HashSet();
for (int i = 0; i &lt; Integer.MAX_VALUE; i++) {
assertTrue(&quot;Failed on &quot; + i, idSet.add(new ObjectId
(&quot;Artist&quot;)));
}
}
While a slightly modified test succeeds (ok I only waited till 100000
ids and canceled the test)
public void testIdPool() throws Exception {
Set idSet = new HashSet();
for (int i = 0; i &lt; Integer.MAX_VALUE; i++) {
Thread.sleep(1);
assertTrue(&quot;Failed on &quot; + i, idSet.add(new ObjectId
(&quot;Artist&quot;)));
}
}
Proposal: Reorganize o.a.h.luni.platform and o.a.h.luni.platform.struct
1. Rename org.apache.harmony.luni.platform.struct to org.apache.harmony.luni.internal.platform (it means that it's a internal package for luni)
2. Move some interface to org.apache.harmony.luni.platform
ConfigurationManager clearConfigurationProviders &amp; destroyConfiguration should call destroy approriately
ConfigurationManager clearConfigurationProviders &amp; destroyConfiguration should call destroy approriately on Configuration and ConfigurationProvider
2 security tests must correctly restore environment
The following security tests set different system properties during execution:
javax/security/auth/PolicyTest.java
org/apache/harmony/security/x/security/auth/login/DefaultConfigurationTest.java
To avoid conflicts pervious values of system properties must be correctly restored by tests at the end of testing.
Improper override method in java/util/zip/GZIPOutputStream.close()
java/util/zip/DeflaterOutputStream.close() is overriden by java/util/zip/GZIPOutputStream in Harmony while it isn't in spec.
test case HttpTransportBrokerTest seems to hang forever
A corner case bug and missing optimization in ScrollInsensitiveResultSet
a) For a scrollable, insensitive result set (read-only) which is
empty, ResultSet#afterLast should have no effect, but erroneously
sets the internal variable afterLast to true, so that a sunsequent
call to ResultSet#isAfterLast will return 'true' in the embedded
client. It does not happen on the client driver, because it seems
to do some double book-keeping for this case.
b) In ScrollInsensitiveResultSet#getNextRowCore and #getAbsoluteRow,
there are missing checks will cause unnecessary read (attempts)
from underlying result set even if end has been seen already.
Both would be nice to fix in preparation for DERBY-690... 
MultiPartRequestWrapper uses Class.forName resulting in 500 error
The MultiPartRequestWrapper user Class.forName(parser) to load the parser instead of using Thread.currentThread().getCOntextClassLoader().loadClass(). This results in a 500 error (trying to load org.apache.fileupload.FIleUploadException) when using QuickStart.
TransientRepository does not shutdown if first login fails
The TransientRepository.login() method initializes the underlying repository when it is first called (initially or after the repository has previously been shut down) bug doesn't shut down the initialized repository if the login fails. If the application then decides to exit or otherwise not start another session, then the repository remains in an initialized state with no active sessions.
This issue should be fixed by properly handling login failures in the TransientRepository.login() method.
Css view of the structurer is returning a blank page
In a structurer you can define more formats.
However the current css view is broken. 
Requesting http://localhost:8888/index.dispatcher.css will return a blank page for the pelt.fv.
One cannot link to e.g. http://localhost:8888/index.dispatcher.css from the structurer
If you use in your structurer
&lt;!-- You can request url specific css as defined above, but beware that you need to use the *.dispatcher.css extension!!!--&gt;
&lt;css url=&quot;#{$getRequest}.dispatcher.css&quot; media=&quot;screen&quot; theme=&quot;Pelt&quot;/&gt;
It will be always rewritten to 
http://localhost:8888/themes/index.dispatcher.css
Error in a tags theme template causes failback
If an error is thrown loading a template in FreemarkerTemplateEngine.java line 71, the next theme's templete is loaded. This is the desired behaviour when the template doesn't exist, but not when the template exists but there is an error in the template. i.e. The ajax theme's form template failed, so the simple theme's form template was loaded.
Deploy.bat doesn't accept any arguments and hence doesn't work.
There is a bug in the deploy script with the treatment of arguments. Basically, the arguments are stored in a variable called &quot;ARGS&quot; but the script later assumes they are in &quot;CMD_LINE_ARGS&quot;.
new test lang/ShutdownDatabase.java fails with j2ME
The new test lang/ShutdownDatabase.java fails with: 
java.lang.NoClassDefFoundError: java.sql.Driver
The test needs to be rewritten to take advantage of the TestUtil methods for getting a connection from a datasource or using a driver, similar to e.g. lang/closed.java.
The stack trace is like so:
java.lang.NoClassDefFoundError: java.sql.Driver
at java.lang.ClassLoader.defineClassImpl(Native Method)
at java.lang.ClassLoader.defineClass(ClassLoader.java:212)
at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:109)
at java.net.URLClassLoader.findClassImpl(URLClassLoader.java:1026)
at java.net.URLClassLoader$4.run(URLClassLoader.java:557)
at java.security.AccessController.doPrivileged(AccessController.java:167)
at java.net.URLClassLoader.findClass(URLClassLoader.java:555)
at com.ibm.oti.vm.URLSystemClassLoader.findClass(URLSystemClassLoader.java:32)
at java.lang.ClassLoader.loadClass(ClassLoader.java:602)
at com.ibm.oti.vm.URLSystemClassLoader.loadClass(URLSystemClassLoader.java:65)
at java.lang.ClassLoader.loadClass(ClassLoader.java:561)
at java.lang.Class.forNameImpl(Native Method)
at java.lang.Class.forName(Class.java:116)
at org.apache.derby.impl.tools.ij.util.loadDriver(util.java:837)
at org.apache.derby.impl.tools.ij.util.startJBMS(util.java:492)
at org.apache.derby.impl.tools.ij.util.startJBMS(util.java:573)
at org.apache.derby.impl.tools.ij.util.startJBMS(util.java:554)
at org.apache.derbyTesting.functionTests.tests.lang.ShutdownDatabase.openConnectionToNewDatabase(ShutdownDatabase.java:530)
at org.apache.derbyTesting.functionTests.tests.lang.ShutdownDatabase.testOnlyTransactionWasCommited(ShutdownDatabase.java:151)
at org.apache.derbyTesting.functionTests.tests.lang.ShutdownDatabase.testShutDownWithCommitedTransaction(ShutdownDatabase.java:116)
at org.apache.derbyTesting.functionTests.tests.lang.ShutdownDatabase.main(ShutdownDatabase.java:86)
test jdbcapi/checkDataSource30 and savepointJdbc30_XA fail with remote server with security exceptions
The .tmp from the jdbcapi/checkDataSource30.java is:
----------------------
START XA HOLDABILITY TEST
ERROR (no SQLState): java.security.PrivilegedActionException : Error opening socket to server localhost on port 1527 with message : Connection refused
Completed checkDataSource30
----------------------
The .tmp from the jdbcapi/savepointJdbc30_XA.java is:
-------------------------------------
FAIL -- unexpected exception
SQLSTATE(null):java.sql.SQLException: java.security.PrivilegedActionException : Error opening socket to server localhost on port 1527 with message : Connection refused
at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:285)
at org.apache.derby.client.ClientPooledConnection.&lt;init&gt;(ClientPooledConnection.java:104)
at org.apache.derby.client.ClientXAConnection.&lt;init&gt;(ClientXAConnection.java:47)
at org.apache.derby.jdbc.ClientXADataSource.getXAConnection(ClientXADataSource.java:50)
at org.apache.derby.jdbc.ClientXADataSource.getXAConnection(ClientXADataSource.java:43)
at org.apache.derbyTesting.functionTests.tests.jdbcapi.savepointJdbc30_XA.main(savepointJdbc30_XA.java:58)
Caused by: org.apache.derby.client.am.DisconnectException: java.security.PrivilegedActionException : Error opening socket to server localhost on port 1527 with message : Connection refused
at org.apache.derby.client.net.NetAgent.&lt;init&gt;(NetAgent.java:113)
at org.apache.derby.client.net.NetConnection.newAgent_(NetConnection.java:928)
at org.apache.derby.client.am.Connection.initConnection(Connection.java:174)
at org.apache.derby.client.am.Connection.&lt;init&gt;(Connection.java:144)
at org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:207)
at org.apache.derby.client.net.NetXAConnection.&lt;init&gt;(NetXAConnection.java:39)
at org.apache.derby.client.ClientPooledConnection.&lt;init&gt;(ClientPooledConnection.java:94)
... 4 more
-----------------------------
speculative execution is only controllable from the default config
The application's JobConf is not consulted when checking whether speculative execution should be used.
Concrete classes in pc/company must declare public no-args constructors.
The concrete classes in pc/company must declare public no-args constructors in order to comply with the requirements of PersistenceManager.newInstance(PCClass).
JPDA run command not listed in usage help for geronimo.sh and geronimo.bat
If you run geronimo.sh or geronimo.bat without any arguments, usage information is listed showing the &quot;jpda start&quot; command, but not showing the &quot;jpda run&quot; command. The &quot;jpda run&quot; command should also be listed in the usage help as running geronimo in the foreground whilst debugging is probably a common requirement.
&quot;dt_shmem&quot; default in geronimo.bat for JPDA_TRANSPORT environment variable not compatible with Eclipse debugger
Eclipse users cannot connect the Eclipse debugger to the JVM if you start Geronimo using the command &quot;geronimo.bat jpda run&quot; because the JPDA_TRANSPORT environment variable defaults to dt_shmem in the Geronimo.bat file and Eclipse only supports &quot;dt_socket&quot; and has no plans to support &quot;dt_shmem&quot; ( https://bugs.eclipse.org/bugs/show_bug.cgi?id=1666 ).
The default for JPDA_TRANSPORT in heronimo.bat should be changed to &quot;dt_socket&quot; so the default is usable by all debuggers and is consistent with the default in geronimo.sh
The JPDA_OPTS environment variable is not honoured by geronimo.bat and is inconsistent with geronimo.sh
geronimo.bat does not use the JPDA_OPTS environment variable that geronimo.sh uses. geronimo.bat should be fixed so it is consistent with geronimo.sh.
geronimo.sh allows you to set the JPDA_OPTS environment variable that overrides the use of the other JPDA_* environment variables. If JPDA_OPTS is not set the JPDA command line options are contructed from the JPDA_ADDRESS, JPDA_SUSPEND and JPDA_TRANSPORT environment variables.
To assist troubleshooting starting geronimo under the JPDA debugger, the environment variable information printed by the scripts should also output the value of JPDA_OPTS so users can see the JPDA options (e.g. JPDA address, whether suspend is set to yes etc) if the user has passed the jpda argument to the scripts.
Creating a schema with DumpParseTree, DumpBindTree properties set causes NullPointException.
Noticed it in 10.2, but also reproduces with 10.1.
Set the following property and then try creating a schema as follows:
derby.debug.true=DumpBindTree,DumpParseTree,DumpOptimizedTree
C:\p4clients\sat_52\bug&gt;java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij
ij version 10.2
ij&gt; connect 'tdb;user=sam';
ij&gt; create schema mysam1;
ERROR XJ001: Java exception: ': java.lang.NullPointerException'.
I suspect the problem is because DDLStatementNode.java expects an object name that most DDL statements set, but not CreateSchemaNode.java.
public String toString()
{
if (SanityManager.DEBUG)
{
return objectName.toString() + super.toString(); &lt;==============
} 
else
{
return &quot;&quot;;
}
}
CreateSchemaNode.java:
/*
** DDLStatementNode expects tables, null out
** objectName explicitly to clarify that we
** can't hang with schema.object specifiers.
*/
initAndCheck(null); 
Here is exception stack:
java.lang.NullPointerException
at org.apache.derby.impl.sql.compile.DDLStatementNode.toString(DDLStatementNode.java:149)
at org.apache.derby.impl.sql.compile.CreateSchemaNode.toString(CreateSchemaNode.java:94)
at org.apache.derby.impl.sql.compile.QueryTreeNode.treePrint(QueryTreeNode.java:329)
at org.apache.derby.impl.sql.GenericStatement.prepMinion(GenericStatement.java:318)
at org.apache.derby.impl.sql.GenericStatement.prepare(GenericStatement.java:118)
at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(GenericLanguageConnectionContext.java:725)
at org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java:533)
at org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java:480)
at org.apache.derby.impl.tools.ij.ij.executeImmediate(ij.java:313)
at org.apache.derby.impl.tools.ij.utilMain.doCatch(utilMain.java:433)
at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:310)
at org.apache.derby.impl.tools.ij.Main.go(Main.java:203)
at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:169)
at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)
at org.apache.derby.tools.ij.main(ij.java:60)
Cleanup action completed
CompanyFactoryAbstractImpl incorrectly returns null for DentalInsurance
The newDentalInsurance method incorrectly returned null instead of the newly created instance.
Roller 2.1 migration script for 1.3 to 2.0 destroys entry pubtime and updatetime
Problem effects only the Roller 2.1 and Roller 2.0.1 releases
Problem only effects those upgrading to Roller 2.0.1 or Roller 2.1 from 1.3 or earlier
MySQL, PostgreSQL and HSQLDB are effected
Original text of report:
When upgrading site from Roller 1.0 to Roller 2.1 all weblog entries had their pub dates set to the date of the upgrade and now all entry are shown as if they were pubished on this same date.
Database base is MySQL and dbscripts were all run in sequence.
Otherwise site appears to be operational at www.cheblogs.com/ 
div not working without delay &gt; 0 in ajax theme
The div tag from the ajax theme does not seem to work without the delay attribute setting to a value higher than 0. Since my knowledge of dojo is very limited, I don't have a clue why this does/does not happen. Both 2.2.1 and the CVS head from a couple of days ago fail (on top of that, the latest CVS head seems to have broken the ww:head tag (ftl: debug parameter missing)).
ActionMapper no support for multipart request
Font of the &lt;tc:link&gt; is not correct, if disabled=&quot;true&quot; (should be the same font-size, but with color grey)
JSTL support not SiteMesh compatible
In order to be able to use JSTL support from decorators, the WebworkRequestWrapper needs to be applied from the ActionContextCleanup class as well. This will make it possible to use JSTL from SiteMesh decorators.
Remote form resultDiv not executing javascript
Using the remote form submit (theme=ajax), the javascript within the result html does NOT get evaled. For example, if the result html has javascript like &lt;script&gt; doIt()&lt;/script&gt;, then the doIt() method will never get called when the content is displayed.
To fix this issue, the following code will need to be added to the load() method in Bind.js after createComponent(frag) is called...
var script = div.getElementsByTagName('script');
for (var i=0; i&lt;script.length; i++) { eval(script .innerHTML); }
Use case: Failed to render a tabbed panel within a result div. Tabbed panel is not displayed when using bind, but it works if the action is executed directly.
TimeBasedRollingPolicy is declared &quot;abstract&quot;
include/log4cxx/rolling/timebasedrollingpolicy.h uses DECLARE_ABSTRACT_LOG4CXX_OBJECT instead of DECLARE_LOG4CXX_OBJECT. The class can therefore not be dynamically created.
PythonImport should use apache.import_module() and not PyImport_ImportModule().
When the &quot;PythonImport&quot; directive is used, mod_python uses the &quot;PyImport_ImportModule()&quot; function to import the specified module. If that same module is later imported using the &quot;apache.import_module()&quot; function, it will be reloaded a second time even though the Python module file hadn't changed and even if &quot;PythonAutoReload&quot; is set to &quot;Off&quot;.
This reloading can cause problems if the module when loaded using PythonImport had setup resources such as database connections etc. This is because &quot;apache.import_module()&quot; will effectively throw away the existing values
and replace them. This can be an issue if the resources aren't deleted properly and hold open stuff like socket connections with those connections no longer being accessible or useable.
The basic problem here is the mixing of standard Python import mechanism and any system implemented by mod_python. The best solution now and in the future, would be for the &quot;PythonImport&quot; directive to use the &quot;apache.import_module()&quot; function to import any modules. That way it would be ensured they always work together properly and not against each other.
Note that this problem was previously catalogued as ISSUE 17 on my list of mod_python module importing problems. This list of problems can be found at:
http://www.dscpl.com.au/articles/modpython-003.html
Broker will not release a persistant clientId if a network connection is broken then restored at the TCP layer from a remote client
During long-term operation, a remote, publish-only client with a TCP socket connection to the JMS broker will occasionally be disconnected at a low level (i.e. below the application level where JMS runs). When this occurs, the JMS broker throws an exception indicating a broken socket, but does not release the clientID of the client to allow for reconnects. The following stack traces should demonstrate this failure mode:
INFO Service - Async error occurred: java.net.SocketException: Connection reset
java.net.SocketException: Connection reset
at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
at org.apache.activemq.transport.tcp.TcpBufferedOutputStream.flush(TcpBufferedOutputStream.java:108)
at java.io.DataOutputStream.flush(DataOutputStream.java:106)
at org.apache.activemq.transport.tcp.TcpTransport.oneway(TcpTransport.java:118)
at org.apache.activemq.transport.TransportFilter.oneway(TransportFilter.java:90)
at org.apache.activemq.transport.WireFormatNegotiator.oneway(WireFormatNegotiator.java:65)
at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:44)
at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:54)
at org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:212)
at org.apache.activemq.broker.AbstractConnection.dispatchSync(AbstractConnection.java:517)
at org.apache.activemq.broker.AbstractConnection.dispatchAsync(AbstractConnection.java:535)
at org.apache.activemq.broker.region.TopicSubscription.dispatch(TopicSubscription.java:142)
at org.apache.activemq.broker.region.TopicSubscription.add(TopicSubscription.java:54)
at org.apache.activemq.broker.region.policy.SimpleDispatchPolicy.dispatch(SimpleDispatchPolicy.java:50)
at org.apache.activemq.broker.region.Topic.dispatch(Topic.java:365)
at org.apache.activemq.broker.region.Topic.send(Topic.java:247)
at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:195)
at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:312)
at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:192)
at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:107)
at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:97)
at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:119)
at org.apache.activemq.broker.AbstractConnection.processMessage(AbstractConnection.java:336)
at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:508)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
ACTIVEMQ_HOME: /opt/activemq
Loading message broker from: xbean:activemq.xml
INFO BrokerService - ActiveMQ 4.0-M4 JMS Message Broker (localhost) is starting
INFO BrokerService - For help or more information please see: http://www.logicblaze.com
INFO JDBCPersistenceAdapter - Database driver recognized: [apache_derby_embedded_jdbc_driver]
INFO JournalPersistenceAdapter - Journal Recovery Started from: Active Journal: using 5 x 20.0 Megs at: ../activemq-data/journal
INFO JournalPersistenceAdapter - Journal Recovered: 0 message(s) in transactions recovered.
INFO TransportServerThreadSupport - Listening for connections at: tcp://s1:61616
INFO TransportConnector - Accepting connection on: tcp://s1:61616
WARN MulticastDiscoveryAgent - brokerName not set
INFO TransportServerThreadSupport - Listening for connections at: tcp://s1:61617?wireFormat=stomp
INFO TransportConnector - Accepting connection on: tcp://s1:61617?wireFormat=stomp
INFO BrokerService - ActiveMQ JMS Message Broker (localhost) started
INFO NetworkConnector - Establishing network connection between vm://localhost?network=true and null at failover:tcp://s1:61616
INFO VMTransportFactory - binding to broker: localhost
INFO TransportConnector - Accepting connection on: vm://localhost
INFO DemandForwardingBridge - Starting a network connection between vm://localhost#0 and unconnected has been established.
INFO ManagementContext - JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
INFO DemandForwardingBridge - Disconnecting loop back connection.
INFO Service - Sync error occurred: javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
at org.apache.activemq.broker.region.RegionBroker.addConnection(RegionBroker.java:153)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.advisory.AdvisoryBroker.addConnection(AdvisoryBroker.java:66)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:75)
at org.apache.activemq.broker.AbstractConnection.processAddConnection(AbstractConnection.java:478)
at org.apache.activemq.broker.jmx.ManagedTransportConnection.processAddConnection(ManagedTransportConnection.java:82)
at org.apache.activemq.command.ConnectionInfo.visit(ConnectionInfo.java:106)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
INFO Service - Sync error occurred: javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
at org.apache.activemq.broker.region.RegionBroker.addConnection(RegionBroker.java:153)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.advisory.AdvisoryBroker.addConnection(AdvisoryBroker.java:66)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:75)
at org.apache.activemq.broker.AbstractConnection.processAddConnection(AbstractConnection.java:478)
at org.apache.activemq.broker.jmx.ManagedTransportConnection.processAddConnection(ManagedTransportConnection.java:82)
at org.apache.activemq.command.ConnectionInfo.visit(ConnectionInfo.java:106)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
INFO VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO Service - Async error occurred: java.io.EOFException: Cannot write to the stream any more it has already been closed
java.io.EOFException: Cannot write to the stream any more it has already been closed
at org.apache.activemq.transport.tcp.TcpBufferedOutputStream.checkClosed(TcpBufferedOutputStream.java:131)
at org.apache.activemq.transport.tcp.TcpBufferedOutputStream.write(TcpBufferedOutputStream.java:69)
at java.io.DataOutputStream.writeInt(DataOutputStream.java:180)
at org.apache.activemq.openwire.OpenWireFormat.marshal(OpenWireFormat.java:169)
at org.apache.activemq.transport.tcp.TcpTransport.oneway(TcpTransport.java:117)
at org.apache.activemq.transport.TransportFilter.oneway(TransportFilter.java:90)
at org.apache.activemq.transport.WireFormatNegotiator.oneway(WireFormatNegotiator.java:65)
at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:44)
at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:54)
at org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:212)
at org.apache.activemq.broker.AbstractConnection.dispatchSync(AbstractConnection.java:517)
at org.apache.activemq.broker.AbstractConnection.dispatchAsync(AbstractConnection.java:535)
at org.apache.activemq.broker.region.TopicSubscription.dispatch(TopicSubscription.java:142)
at org.apache.activemq.broker.region.TopicSubscription.add(TopicSubscription.java:54)
at org.apache.activemq.broker.region.policy.SimpleDispatchPolicy.dispatch(SimpleDispatchPolicy.java:50)
at org.apache.activemq.broker.region.Topic.dispatch(Topic.java:365)
at org.apache.activemq.broker.region.Topic.send(Topic.java:247)
at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:195)
at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:312)
at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:192)
at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:107)
at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:97)
at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:119)
at org.apache.activemq.broker.AbstractConnection.processMessage(AbstractConnection.java:336)
at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:508)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
Reverting to &quot;anonymous&quot; clients allows the client to create a new connection, but further persistant connections from the initial clientId cannot be made until the broker is restarted.
Please contact via email: johng@amdswireless.com for additional information, if needed.
AMQ-599
Remote TCP Publish-only persistant clients are unable to reconnect when TCP/IP level discconect occurs
During long-term operation, a remote, publish-only client with a TCP socket connection to the JMS broker will occasionally be disconnected at a low level (i.e. below the application level where JMS runs). When this occurs, the JMS broker throws an exception indicating a broken socket, but does not release the clientID of the client to allow for reconnects. The following stack traces should demonstrate this failure mode:
INFO Service - Async error occurred: java.net.SocketException: Connection reset
java.net.SocketException: Connection reset
at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
at org.apache.activemq.transport.tcp.TcpBufferedOutputStream.flush(TcpBufferedOutputStream.java:108)
at java.io.DataOutputStream.flush(DataOutputStream.java:106)
at org.apache.activemq.transport.tcp.TcpTransport.oneway(TcpTransport.java:118)
at org.apache.activemq.transport.TransportFilter.oneway(TransportFilter.java:90)
at org.apache.activemq.transport.WireFormatNegotiator.oneway(WireFormatNegotiator.java:65)
at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:44)
at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:54)
at org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:212)
at org.apache.activemq.broker.AbstractConnection.dispatchSync(AbstractConnection.java:517)
at org.apache.activemq.broker.AbstractConnection.dispatchAsync(AbstractConnection.java:535)
at org.apache.activemq.broker.region.TopicSubscription.dispatch(TopicSubscription.java:142)
at org.apache.activemq.broker.region.TopicSubscription.add(TopicSubscription.java:54)
at org.apache.activemq.broker.region.policy.SimpleDispatchPolicy.dispatch(SimpleDispatchPolicy.java:50)
at org.apache.activemq.broker.region.Topic.dispatch(Topic.java:365)
at org.apache.activemq.broker.region.Topic.send(Topic.java:247)
at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:195)
at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:312)
at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:192)
at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:107)
at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:97)
at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:119)
at org.apache.activemq.broker.AbstractConnection.processMessage(AbstractConnection.java:336)
at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:508)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
ACTIVEMQ_HOME: /opt/activemq
Loading message broker from: xbean:activemq.xml
INFO BrokerService - ActiveMQ 4.0-M4 JMS Message Broker (localhost) is starting
INFO BrokerService - For help or more information please see: http://www.logicblaze.com
INFO JDBCPersistenceAdapter - Database driver recognized: [apache_derby_embedded_jdbc_driver]
INFO JournalPersistenceAdapter - Journal Recovery Started from: Active Journal: using 5 x 20.0 Megs at: ../activemq-data/journal
INFO JournalPersistenceAdapter - Journal Recovered: 0 message(s) in transactions recovered.
INFO TransportServerThreadSupport - Listening for connections at: tcp://s1:61616
INFO TransportConnector - Accepting connection on: tcp://s1:61616
WARN MulticastDiscoveryAgent - brokerName not set
INFO TransportServerThreadSupport - Listening for connections at: tcp://s1:61617?wireFormat=stomp
INFO TransportConnector - Accepting connection on: tcp://s1:61617?wireFormat=stomp
INFO BrokerService - ActiveMQ JMS Message Broker (localhost) started
INFO NetworkConnector - Establishing network connection between vm://localhost?network=true and null at failover:tcp://s1:61616
INFO VMTransportFactory - binding to broker: localhost
INFO TransportConnector - Accepting connection on: vm://localhost
INFO DemandForwardingBridge - Starting a network connection between vm://localhost#0 and unconnected has been established.
INFO ManagementContext - JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
INFO DemandForwardingBridge - Disconnecting loop back connection.
INFO Service - Sync error occurred: javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
at org.apache.activemq.broker.region.RegionBroker.addConnection(RegionBroker.java:153)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.advisory.AdvisoryBroker.addConnection(AdvisoryBroker.java:66)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:75)
at org.apache.activemq.broker.AbstractConnection.processAddConnection(AbstractConnection.java:478)
at org.apache.activemq.broker.jmx.ManagedTransportConnection.processAddConnection(ManagedTransportConnection.java:82)
at org.apache.activemq.command.ConnectionInfo.visit(ConnectionInfo.java:106)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
INFO Service - Sync error occurred: javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
at org.apache.activemq.broker.region.RegionBroker.addConnection(RegionBroker.java:153)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.advisory.AdvisoryBroker.addConnection(AdvisoryBroker.java:66)
at org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:75)
at org.apache.activemq.broker.AbstractConnection.processAddConnection(AbstractConnection.java:478)
at org.apache.activemq.broker.jmx.ManagedTransportConnection.processAddConnection(ManagedTransportConnection.java:82)
at org.apache.activemq.command.ConnectionInfo.visit(ConnectionInfo.java:106)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
INFO VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO Service - Async error occurred: java.io.EOFException: Cannot write to the stream any more it has already been closed
java.io.EOFException: Cannot write to the stream any more it has already been closed
at org.apache.activemq.transport.tcp.TcpBufferedOutputStream.checkClosed(TcpBufferedOutputStream.java:131)
at org.apache.activemq.transport.tcp.TcpBufferedOutputStream.write(TcpBufferedOutputStream.java:69)
at java.io.DataOutputStream.writeInt(DataOutputStream.java:180)
at org.apache.activemq.openwire.OpenWireFormat.marshal(OpenWireFormat.java:169)
at org.apache.activemq.transport.tcp.TcpTransport.oneway(TcpTransport.java:117)
at org.apache.activemq.transport.TransportFilter.oneway(TransportFilter.java:90)
at org.apache.activemq.transport.WireFormatNegotiator.oneway(WireFormatNegotiator.java:65)
at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:44)
at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:54)
at org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:212)
at org.apache.activemq.broker.AbstractConnection.dispatchSync(AbstractConnection.java:517)
at org.apache.activemq.broker.AbstractConnection.dispatchAsync(AbstractConnection.java:535)
at org.apache.activemq.broker.region.TopicSubscription.dispatch(TopicSubscription.java:142)
at org.apache.activemq.broker.region.TopicSubscription.add(TopicSubscription.java:54)
at org.apache.activemq.broker.region.policy.SimpleDispatchPolicy.dispatch(SimpleDispatchPolicy.java:50)
at org.apache.activemq.broker.region.Topic.dispatch(Topic.java:365)
at org.apache.activemq.broker.region.Topic.send(Topic.java:247)
at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:195)
at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:312)
at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:192)
at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:107)
at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:97)
at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:119)
at org.apache.activemq.broker.AbstractConnection.processMessage(AbstractConnection.java:336)
at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:508)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
Reverting to &quot;anonymous&quot; clients allows the client to create a new connection, but further persistant connections from the initial clientId cannot be made until the broker is restarted.
Please contact via email: johng@amdswireless.com for additional information, if needed.
Remote TCP Publish-only persistant clients are unable to reconnect when TCP/IP level discconect occurs
During long-term operation, a remote, publish-only client with a TCP socket connection to the JMS broker will occasionally be disconnected at a low level (i.e. below the application level where JMS runs). When this occurs, the JMS broker throws an exception indicating a broken socket, but does not release the clientID of the client to allow for reconnects. The following stack traces should demonstrate this failure mode:
INFO Service - Async error occurred: java.net.SocketException: Connection reset
java.net.SocketException: Connection reset
at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
at org.apache.activemq.transport.tcp.TcpBufferedOutputStream.flush(TcpBufferedOutputStream.java:108)
at java.io.DataOutputStream.flush(DataOutputStream.java:106)
at org.apache.activemq.transport.tcp.TcpTransport.oneway(TcpTransport.java:118)
at org.apache.activemq.transport.TransportFilter.oneway(TransportFilter.java:90)
at org.apache.activemq.transport.WireFormatNegotiator.oneway(WireFormatNegotiator.java:65)
at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:44)
at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:54)
at org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:212)
at org.apache.activemq.broker.AbstractConnection.dispatchSync(AbstractConnection.java:517)
at org.apache.activemq.broker.AbstractConnection.dispatchAsync(AbstractConnection.java:535)
at org.apache.activemq.broker.region.TopicSubscription.dispatch(TopicSubscription.java:142)
at org.apache.activemq.broker.region.TopicSubscription.add(TopicSubscription.java:54)
at org.apache.activemq.broker.region.policy.SimpleDispatchPolicy.dispatch(SimpleDispatchPolicy.java:50)
at org.apache.activemq.broker.region.Topic.dispatch(Topic.java:365)
at org.apache.activemq.broker.region.Topic.send(Topic.java:247)
at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:195)
at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:312)
at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:192)
at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:107)
at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:97)
at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:119)
at org.apache.activemq.broker.AbstractConnection.processMessage(AbstractConnection.java:336)
at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:508)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
ACTIVEMQ_HOME: /opt/activemq
Loading message broker from: xbean:activemq.xml
INFO BrokerService - ActiveMQ 4.0-M4 JMS Message Broker (localhost) is starting
INFO BrokerService - For help or more information please see: http://www.logicblaze.com
INFO JDBCPersistenceAdapter - Database driver recognized: [apache_derby_embedded_jdbc_driver]
INFO JournalPersistenceAdapter - Journal Recovery Started from: Active Journal: using 5 x 20.0 Megs at: ../activemq-data/journal
INFO JournalPersistenceAdapter - Journal Recovered: 0 message(s) in transactions recovered.
INFO TransportServerThreadSupport - Listening for connections at: tcp://s1:61616
INFO TransportConnector - Accepting connection on: tcp://s1:61616
WARN MulticastDiscoveryAgent - brokerName not set
INFO TransportServerThreadSupport - Listening for connections at: tcp://s1:61617?wireFormat=stomp
INFO TransportConnector - Accepting connection on: tcp://s1:61617?wireFormat=stomp
INFO BrokerService - ActiveMQ JMS Message Broker (localhost) started
INFO NetworkConnector - Establishing network connection between vm://localhost?network=true and null at failover:tcp://s1:61616
INFO VMTransportFactory - binding to broker: localhost
INFO TransportConnector - Accepting connection on: vm://localhost
INFO DemandForwardingBridge - Starting a network connection between vm://localhost#0 and unconnected has been established.
INFO ManagementContext - JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
INFO DemandForwardingBridge - Disconnecting loop back connection.
INFO Service - Sync error occurred: javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
at org.apache.activemq.broker.region.RegionBroker.addConnection(RegionBroker.java:153)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.advisory.AdvisoryBroker.addConnection(AdvisoryBroker.java:66)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:75)
at org.apache.activemq.broker.AbstractConnection.processAddConnection(AbstractConnection.java:478)
at org.apache.activemq.broker.jmx.ManagedTransportConnection.processAddConnection(ManagedTransportConnection.java:82)
at org.apache.activemq.command.ConnectionInfo.visit(ConnectionInfo.java:106)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
INFO Service - Sync error occurred: javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
javax.jms.InvalidClientIDException: Broker: localhost - Client: TESTClient already connected
at org.apache.activemq.broker.region.RegionBroker.addConnection(RegionBroker.java:153)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.advisory.AdvisoryBroker.addConnection(AdvisoryBroker.java:66)
at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:63)
at org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:75)
at org.apache.activemq.broker.AbstractConnection.processAddConnection(AbstractConnection.java:478)
at org.apache.activemq.broker.jmx.ManagedTransportConnection.processAddConnection(ManagedTransportConnection.java:82)
at org.apache.activemq.command.ConnectionInfo.visit(ConnectionInfo.java:106)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
INFO VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO Service - Async error occurred: java.io.EOFException: Cannot write to the stream any more it has already been closed
java.io.EOFException: Cannot write to the stream any more it has already been closed
at org.apache.activemq.transport.tcp.TcpBufferedOutputStream.checkClosed(TcpBufferedOutputStream.java:131)
at org.apache.activemq.transport.tcp.TcpBufferedOutputStream.write(TcpBufferedOutputStream.java:69)
at java.io.DataOutputStream.writeInt(DataOutputStream.java:180)
at org.apache.activemq.openwire.OpenWireFormat.marshal(OpenWireFormat.java:169)
at org.apache.activemq.transport.tcp.TcpTransport.oneway(TcpTransport.java:117)
at org.apache.activemq.transport.TransportFilter.oneway(TransportFilter.java:90)
at org.apache.activemq.transport.WireFormatNegotiator.oneway(WireFormatNegotiator.java:65)
at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:44)
at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:54)
at org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:212)
at org.apache.activemq.broker.AbstractConnection.dispatchSync(AbstractConnection.java:517)
at org.apache.activemq.broker.AbstractConnection.dispatchAsync(AbstractConnection.java:535)
at org.apache.activemq.broker.region.TopicSubscription.dispatch(TopicSubscription.java:142)
at org.apache.activemq.broker.region.TopicSubscription.add(TopicSubscription.java:54)
at org.apache.activemq.broker.region.policy.SimpleDispatchPolicy.dispatch(SimpleDispatchPolicy.java:50)
at org.apache.activemq.broker.region.Topic.dispatch(Topic.java:365)
at org.apache.activemq.broker.region.Topic.send(Topic.java:247)
at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:195)
at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:312)
at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:192)
at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:107)
at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:97)
at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:119)
at org.apache.activemq.broker.AbstractConnection.processMessage(AbstractConnection.java:336)
at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:508)
at org.apache.activemq.broker.AbstractConnection.service(AbstractConnection.java:189)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:60)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:82)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)
at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:105)
at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:77)
at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:136)
at java.lang.Thread.run(Thread.java:595)
Reverting to &quot;anonymous&quot; clients allows the client to create a new connection, but further persistant connections from the initial clientId cannot be made until the broker is restarted.
Please contact via email: johng@amdswireless.com for additional information, if needed.
Keystore files used for unit test in Optional module have expired
Performing full maven build, the following JUnit test for the optional module fails due to expired certificates used in the test -
[junit] [ERROR] TEST org.activemq.transport.ssl.SslTransportChannelTest FAILED
Both of the certs in the modules\optional\src\test\client.keystore and server.keystore files have expired -
Your keystore contains 1 entry
Alias name: mykey
Creation date: Feb 3, 2005
Entry type: keyEntry
Certificate chain length: 1
Certificate[1]:
Owner: CN=localhost, OU=activemq.org, O=activemq.org, L=LA, ST=CA, C=US
Issuer: CN=localhost, OU=activemq.org, O=activemq.org, L=LA, ST=CA, C=US
Serial number: 4202b790
Valid from: 2/3/05 6:45 PM until: 5/4/05 7:45 PM
Certificate fingerprints:
MD5: C1:E4:37:34:0F:A3:C3:C4:6F:AA:F1:AC:59:B1:1D:00
SHA1: 75:FF:D1:D0:AD:89:88:9A:68:57:B4:06:80:A1:79:80:4F:91:74:F5
Testsuite: org.activemq.transport.ssl.SslTransportChannelTest
Tests run: 4, Failures: 4, Errors: 0, Time elapsed: 2.718 sec
------------- Standard Output ---------------
Server has started
addClient() with receiver: TcpTransportChannel: Socket[addr=/127.0.0.1,port=2420,localport=61617]
Sending packets
Reason: javax.net.ssl.SSLHandshakeException: certificate expired
Receiver has started
Reason: javax.net.ssl.SSLHandshakeException: certificate expired
Stopping sender
Receiver will be closed by the server
Stopping server
Server has started
addClient() with receiver: TcpTransportChannel: Socket[addr=/127.0.0.1,port=2421,localport=61617]
Reason: javax.net.ssl.SSLHandshakeException: certificate expired
Reason: javax.net.ssl.SSLHandshakeException: certificate expired
Receiver has started
Stopping sender
Receiver will be closed by the server
Stopping server
Server has started
addClient() with receiver: TcpTransportChannel: Socket[addr=/127.0.0.1,port=2422,localport=61617]
Reason: javax.net.ssl.SSLHandshakeException: certificate expired
Reason: javax.net.ssl.SSLHandshakeException: certificate expired
Receiver has started
Reason: java.net.SocketException: Socket is closed
Stopping sender
Receiver will be closed by the server
Stopping server
Server has started
addClient() with receiver: TcpTransportChannel: Socket[addr=/127.0.0.1,port=2423,localport=61617]
Reason: javax.net.ssl.SSLHandshakeException: certificate expired
Stopping sender
Receiver will be closed by the server
Stopping server
Reason: javax.net.ssl.SSLHandshakeException: certificate expired
Receiver has started
------------- ---------------- ---------------
------------- Standard Error -----------------
Failure starting receiver: 
javax.jms.JMSException: start failed: certificate expired
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:199)
at org.activemq.transport.TransportChannelTestSupport.configureReceiver(TransportChannelTestSupport.java:285)
at org.activemq.transport.TransportChannelTestSupport.addClient(TransportChannelTestSupport.java:331)
at org.activemq.transport.TransportServerChannelSupport.addClient(TransportServerChannelSupport.java:98)
at org.activemq.transport.tcp.TcpTransportServerChannel.run(TcpTransportServerChannel.java:158)
at java.lang.Thread.run(Thread.java:570)
Caused by: javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.FilterInputStream.read(FilterInputStream.java:86)
at org.activemq.io.WireFormatLoader.getWireFormat(WireFormatLoader.java:67)
at org.activemq.transport.tcp.TcpTransportChannel.readWireFormat(TcpTransportChannel.java:208)
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:178)
... 5 more
javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.FilterInputStream.read(FilterInputStream.java:86)
at org.activemq.io.WireFormatLoader.getWireFormat(WireFormatLoader.java:67)
at org.activemq.transport.tcp.TcpTransportChannel.readWireFormat(TcpTransportChannel.java:208)
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:178)
at org.activemq.transport.TransportChannelTestSupport.configureReceiver(TransportChannelTestSupport.java:285)
at org.activemq.transport.TransportChannelTestSupport.addClient(TransportChannelTestSupport.java:331)
at org.activemq.transport.TransportServerChannelSupport.addClient(TransportServerChannelSupport.java:98)
at org.activemq.transport.tcp.TcpTransportServerChannel.run(TcpTransportServerChannel.java:158)
at java.lang.Thread.run(Thread.java:570)
Sender got an exception:
javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired
at org.activemq.util.JMSExceptionHelper.newJMSException(JMSExceptionHelper.java:49)
at org.activemq.transport.tcp.TcpTransportChannel.doClose(TcpTransportChannel.java:513)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:330)
at java.lang.Thread.run(Thread.java:570)
Caused by: javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.DataInputStream.readByte(DataInputStream.java:358)
at org.activemq.io.AbstractWireFormat.readPacket(AbstractWireFormat.java:230)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:313)
... 1 more
javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.DataInputStream.readByte(DataInputStream.java:358)
at org.activemq.io.AbstractWireFormat.readPacket(AbstractWireFormat.java:230)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:313)
at java.lang.Thread.run(Thread.java:570)
Sender got an exception:
javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired
at org.activemq.util.JMSExceptionHelper.newJMSException(JMSExceptionHelper.java:49)
at org.activemq.transport.tcp.TcpTransportChannel.doClose(TcpTransportChannel.java:513)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:330)
at java.lang.Thread.run(Thread.java:570)
Caused by: javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.DataInputStream.readByte(DataInputStream.java:358)
at org.activemq.io.AbstractWireFormat.readPacket(AbstractWireFormat.java:230)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:313)
... 1 more
Failure starting receiver: 
javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.DataInputStream.readByte(DataInputStream.java:358)
at org.activemq.io.AbstractWireFormat.readPacket(AbstractWireFormat.java:230)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:313)
at java.lang.Thread.run(Thread.java:570)
javax.jms.JMSException: start failed: certificate expired
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:199)
at org.activemq.transport.TransportChannelTestSupport.configureReceiver(TransportChannelTestSupport.java:285)
at org.activemq.transport.TransportChannelTestSupport.addClient(TransportChannelTestSupport.java:331)
at org.activemq.transport.TransportServerChannelSupport.addClient(TransportServerChannelSupport.java:98)
at org.activemq.transport.tcp.TcpTransportServerChannel.run(TcpTransportServerChannel.java:158)
at java.lang.Thread.run(Thread.java:570)
Caused by: javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.FilterInputStream.read(FilterInputStream.java:86)
at org.activemq.io.WireFormatLoader.getWireFormat(WireFormatLoader.java:67)
at org.activemq.transport.tcp.TcpTransportChannel.readWireFormat(TcpTransportChannel.java:208)
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:178)
... 5 more
javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.FilterInputStream.read(FilterInputStream.java:86)
at org.activemq.io.WireFormatLoader.getWireFormat(WireFormatLoader.java:67)
at org.activemq.transport.tcp.TcpTransportChannel.readWireFormat(TcpTransportChannel.java:208)
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:178)
at org.activemq.transport.TransportChannelTestSupport.configureReceiver(TransportChannelTestSupport.java:285)
at org.activemq.transport.TransportChannelTestSupport.addClient(TransportChannelTestSupport.java:331)
at org.activemq.transport.TransportServerChannelSupport.addClient(TransportServerChannelSupport.java:98)
at org.activemq.transport.tcp.TcpTransportServerChannel.run(TcpTransportServerChannel.java:158)
at java.lang.Thread.run(Thread.java:570)
Failure starting receiver: 
javax.jms.JMSException: start failed: certificate expired
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:199)
at org.activemq.transport.TransportChannelTestSupport.configureReceiver(TransportChannelTestSupport.java:285)
at org.activemq.transport.TransportChannelTestSupport.addClient(TransportChannelTestSupport.java:331)
at org.activemq.transport.TransportServerChannelSupport.addClient(TransportServerChannelSupport.java:98)
at org.activemq.transport.tcp.TcpTransportServerChannel.run(TcpTransportServerChannel.java:158)
at java.lang.Thread.run(Thread.java:570)
Caused by: javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.FilterInputStream.read(FilterInputStream.java:86)
at org.activemq.io.WireFormatLoader.getWireFormat(WireFormatLoader.java:67)
at org.activemq.transport.tcp.TcpTransportChannel.readWireFormat(TcpTransportChannel.java:208)
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:178)
... 5 more
Sender got an exception:
javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired
at org.activemq.util.JMSExceptionHelper.newJMSException(JMSExceptionHelper.java:49)
at org.activemq.transport.tcp.TcpTransportChannel.doClose(TcpTransportChannel.java:513)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:330)
at java.lang.Thread.run(Thread.java:570)
Caused by: javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.DataInputStream.readByte(DataInputStream.java:358)
at org.activemq.io.AbstractWireFormat.readPacket(AbstractWireFormat.java:230)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:313)
... 1 more
Sender got an exception:
javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.FilterInputStream.read(FilterInputStream.java:86)
at org.activemq.io.WireFormatLoader.getWireFormat(WireFormatLoader.java:67)
at org.activemq.transport.tcp.TcpTransportChannel.readWireFormat(TcpTransportChannel.java:208)
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:178)
at org.activemq.transport.TransportChannelTestSupport.configureReceiver(TransportChannelTestSupport.java:285)
at org.activemq.transport.TransportChannelTestSupport.addClient(TransportChannelTestSupport.java:331)
at org.activemq.transport.TransportServerChannelSupport.addClient(TransportServerChannelSupport.java:98)
at org.activemq.transport.tcp.TcpTransportServerChannel.run(TcpTransportServerChannel.java:158)
at java.lang.Thread.run(Thread.java:570)
javax.jms.JMSException: asyncSend failed: java.net.SocketException: Socket is closed
at org.activemq.util.JMSExceptionHelper.newJMSException(JMSExceptionHelper.java:49)
at org.activemq.transport.tcp.TcpTransportChannel.doAsyncSend(TcpTransportChannel.java:483)
at org.activemq.transport.TransportChannelSupport.asyncSendWithReceipt(TransportChannelSupport.java:160)
at org.activemq.transport.TransportChannelSupport.send(TransportChannelSupport.java:145)
at org.activemq.transport.TransportChannelTestSupport.testRpc(TransportChannelTestSupport.java:106)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)
at java.lang.reflect.Method.invoke(Method.java:391)
at junit.framework.TestCase.runTest(TestCase.java:154)
at junit.framework.TestCase.runBare(TestCase.java:127)
at junit.framework.TestResult$1.protect(TestResult.java:106)
at junit.framework.TestResult.runProtected(TestResult.java:124)
at junit.framework.TestResult.run(TestResult.java:109)
at junit.framework.TestCase.run(TestCase.java:118)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:325)
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:536)
Caused by: java.net.SocketException: Socket is closed
at java.net.Socket.getSoTimeout(Socket.java:964)
at com.ibm.sslite.be.getSoTimeout(Unknown Source)
at com.ibm.sslite.be.a(Unknown Source)
at com.ibm.sslite.be.&lt;init&gt;(Unknown Source)
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.b.a(Unknown Source)
at com.ibm.jsse.b.write(Unknown Source)
at org.activemq.transport.tcp.TcpBufferedOutputStream.flush(TcpBufferedOutputStream.java:109)
at java.io.DataOutputStream.flush(DataOutputStream.java:126)
at org.activemq.transport.tcp.TcpTransportChannel.doAsyncSend(TcpTransportChannel.java:475)
... 18 more
javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.DataInputStream.readByte(DataInputStream.java:358)
at org.activemq.io.AbstractWireFormat.readPacket(AbstractWireFormat.java:230)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:313)
at java.lang.Thread.run(Thread.java:570)
java.net.SocketException: Socket is closed
at java.net.Socket.getSoTimeout(Socket.java:964)
at com.ibm.sslite.be.getSoTimeout(Unknown Source)
at com.ibm.sslite.be.a(Unknown Source)
at com.ibm.sslite.be.&lt;init&gt;(Unknown Source)
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.b.a(Unknown Source)
at com.ibm.jsse.b.write(Unknown Source)
at org.activemq.transport.tcp.TcpBufferedOutputStream.flush(TcpBufferedOutputStream.java:109)
at java.io.DataOutputStream.flush(DataOutputStream.java:126)
at org.activemq.transport.tcp.TcpTransportChannel.doAsyncSend(TcpTransportChannel.java:475)
at org.activemq.transport.TransportChannelSupport.asyncSendWithReceipt(TransportChannelSupport.java:160)
at org.activemq.transport.TransportChannelSupport.send(TransportChannelSupport.java:145)
at org.activemq.transport.TransportChannelTestSupport.testRpc(TransportChannelTestSupport.java:106)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)
at java.lang.reflect.Method.invoke(Method.java:391)
at junit.framework.TestCase.runTest(TestCase.java:154)
at junit.framework.TestCase.runBare(TestCase.java:127)
at junit.framework.TestResult$1.protect(TestResult.java:106)
at junit.framework.TestResult.runProtected(TestResult.java:124)
at junit.framework.TestResult.run(TestResult.java:109)
at junit.framework.TestCase.run(TestCase.java:118)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:325)
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:536)
Sender got an exception:
Failure starting receiver: 
javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired
at org.activemq.util.JMSExceptionHelper.newJMSException(JMSExceptionHelper.java:49)
at org.activemq.transport.tcp.TcpTransportChannel.doClose(TcpTransportChannel.java:513)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:330)
at java.lang.Thread.run(Thread.java:570)
Caused by: javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.DataInputStream.readByte(DataInputStream.java:358)
at org.activemq.io.AbstractWireFormat.readPacket(AbstractWireFormat.java:230)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:313)
... 1 more
javax.jms.JMSException: start failed: certificate expired
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:199)
at org.activemq.transport.TransportChannelTestSupport.configureReceiver(TransportChannelTestSupport.java:285)
at org.activemq.transport.TransportChannelTestSupport.addClient(TransportChannelTestSupport.java:331)
at org.activemq.transport.TransportServerChannelSupport.addClient(TransportServerChannelSupport.java:98)
at org.activemq.transport.tcp.TcpTransportServerChannel.run(TcpTransportServerChannel.java:158)
at java.lang.Thread.run(Thread.java:570)
Caused by: javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.FilterInputStream.read(FilterInputStream.java:86)
at org.activemq.io.WireFormatLoader.getWireFormat(WireFormatLoader.java:67)
at org.activemq.transport.tcp.TcpTransportChannel.readWireFormat(TcpTransportChannel.java:208)
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:178)
... 5 more
javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.DataInputStream.readByte(DataInputStream.java:358)
at org.activemq.io.AbstractWireFormat.readPacket(AbstractWireFormat.java:230)
at org.activemq.transport.tcp.TcpTransportChannel.run(TcpTransportChannel.java:313)
at java.lang.Thread.run(Thread.java:570)
javax.net.ssl.SSLHandshakeException: certificate expired
at com.ibm.jsse.bv.a(Unknown Source)
at com.ibm.jsse.a.a(Unknown Source)
at com.ibm.jsse.a.read(Unknown Source)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:200)
at java.io.BufferedInputStream.read(BufferedInputStream.java:218)
at java.io.FilterInputStream.read(FilterInputStream.java:86)
at org.activemq.io.WireFormatLoader.getWireFormat(WireFormatLoader.java:67)
at org.activemq.transport.tcp.TcpTransportChannel.readWireFormat(TcpTransportChannel.java:208)
at org.activemq.transport.tcp.TcpTransportChannel.start(TcpTransportChannel.java:178)
at org.activemq.transport.TransportChannelTestSupport.configureReceiver(TransportChannelTestSupport.java:285)
at org.activemq.transport.TransportChannelTestSupport.addClient(TransportChannelTestSupport.java:331)
at org.activemq.transport.TransportServerChannelSupport.addClient(TransportServerChannelSupport.java:98)
at org.activemq.transport.tcp.TcpTransportServerChannel.run(TcpTransportServerChannel.java:158)
at java.lang.Thread.run(Thread.java:570)
------------- ---------------- ---------------
Testcase: testSendPacket(org.activemq.transport.ssl.SslTransportChannelTest): FAILED
Exceptions were thrown: [javax.jms.JMSException: start failed: certificate expired, javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired]
junit.framework.AssertionFailedError: Exceptions were thrown: [javax.jms.JMSException: start failed: certificate expired, javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired]
at org.activemq.transport.TransportChannelTestSupport.tearDown(TransportChannelTestSupport.java:254)
Testcase: testAsyncSendWithReceipt(org.activemq.transport.ssl.SslTransportChannelTest): FAILED
Exceptions were thrown: [javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired, javax.jms.JMSException: start failed: certificate expired]
junit.framework.AssertionFailedError: Exceptions were thrown: [javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired, javax.jms.JMSException: start failed: certificate expired]
at org.activemq.transport.TransportChannelTestSupport.tearDown(TransportChannelTestSupport.java:254)
Testcase: testRpc(org.activemq.transport.ssl.SslTransportChannelTest): FAILED
Exceptions were thrown: [javax.jms.JMSException: start failed: certificate expired, javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired, javax.jms.JMSException: asyncSend failed: java.net.SocketException: Socket is closed]
junit.framework.AssertionFailedError: Exceptions were thrown: [javax.jms.JMSException: start failed: certificate expired, javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired, javax.jms.JMSException: asyncSend failed: java.net.SocketException: Socket is closed]
at org.activemq.transport.TransportChannelTestSupport.tearDown(TransportChannelTestSupport.java:254)
Testcase: testForceDisconnect(org.activemq.transport.ssl.SslTransportChannelTest): FAILED
Exceptions were thrown: [javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired, javax.jms.JMSException: start failed: certificate expired]
junit.framework.AssertionFailedError: Exceptions were thrown: [javax.jms.JMSException: Error reading socket: javax.net.ssl.SSLHandshakeException: certificate expired, javax.jms.JMSException: start failed: certificate expired]
at org.activemq.transport.TransportChannelTestSupport.tearDown(TransportChannelTestSupport.java:254)
Derby monitor accesses two system properties without using a privileged block when built sane=true
When built with sane=true and testing with the jars these permissions are required to be granted all the way up the stack, currently this means for the tests granting them to the network server jar.
permission java.util.PropertyPermission &quot;derby.monitor.verbose&quot;, &quot;read&quot;;
permission java.util.PropertyPermission &quot;derby.debug.*&quot;, &quot;read&quot;;
The engine contains code to read system properties using privileged blocks, this should be used by the monitor.
ww:text tag returns an invalid value for an i18n key that starts with the same name as an action variable
Create a simple action TestAction with a field variable foo and a getter/setter for the foo variable. (getFoo(), setFoo()). In an i18n file, create two keys, foo.bar.baz and bar.baz. In your action resule, use the &lt;ww:text&gt; tag to retreive an i18n key 'foo.bar.baz'. The value that gets returned is the value of the key 'bar.baz' not the key 'foo.bar.baz'. 
This happens only when there is a getter method for a field variable with the same name as the start of the i18n key. If you rename the field variable or the start of the i18n key, everything works as expected.
Problems with PythonPath directive.
The &quot;PythonPath&quot; setting can be used to define the value of the Python &quot;sys.path&quot; variable. It is this variable which defines the list of directories that Python will search in when looking for a module to be imported.
Although the actual reassignment of &quot;sys.path&quot; by mod_python does not in itself present a problem due to assignment in Python being thread safe by definition, the context in which the assignment occurs is not thread safe and a race condition exists.
This exists as the top level mod_python dispatcher will consult the existing value of &quot;sys.path&quot; and the last value for the &quot;PythonPath&quot; setting encountered before then making a decision to modify &quot;sys.path&quot;. If multiple requests are being serviced in distinct threads within the context of the same interpreter instance, and each at the same time decide they want to modify the value of &quot;sys.path&quot;, only one might ultimately succeed in setting it to the value it wants and any modification required by the other may be lost.
In the worst case scenario, this can result in the importation of any subsequent modules within that request failing due to a required directory not being present in &quot;sys.path&quot;. It is possible that this situation may resolve itself and go away on a subsequent request, but due to how mod_python caches the last value of &quot;PythonPath&quot; in a global variable this will be dependent on what other requests arrive.
At the least, for mod_python to resolve the problem itself would require a request to arrive in the interim which targeted the URL which was not the last to cache its raw setting for &quot;PythonPath&quot;. This only works though due to a further issue whereby alternate requests against URLs with different &quot;PythonPath&quot; settings will cause &quot;sys.path&quot; to be extended everytime if the &quot;PythonPath&quot; setting references &quot;sys.path&quot;. This results in &quot;sys.path&quot; continually growing over time due to directories being added multiple times.
The problematic code in apache.py is:
if config.has_key(&quot;PythonPath&quot;):
# we want to do as little evaling as possible,
# so we remember the path in un-evaled form and
# compare it
global _path
pathstring = config[&quot;PythonPath&quot;]
if pathstring != _path:
_path = pathstring
newpath = eval(pathstring)
if sys.path != newpath:
sys.path[:] = newpath
To fix the problems, the processing of PythonPath directive should be protected by a thread mutex lock and a dictionary should be used to store all seen values of PythonPath rather than a single variable. If a value for PythonPath has ever been seen, and not just from the last change, then no update would be necessary.
if config.has_key(&quot;PythonPath&quot;):
try:
_path_cache_lock.acquire()
pathstring = config[&quot;PythonPath&quot;]
if not _path_cache.has_key(pathstring):
newpath = eval(pathstring)
_path_cache[pathstring] = None
sys.path[:] = newpath
finally:
_path_cache_lock.release()
There shouldn't really be a need to check whether the new path is different to the current value of sys.path as that scenario shouldn't occur at that point.
The two parts of this problem were previously catalogued as ISSUE 15 and ISSUE 16 in my list of problems with the module importing system. The list can be found at:
http://www.dscpl.com.au/articles/modpython-003.html
PythonImport directives causing duplicate entries in sys.path.
When PythonPath is used at global scope within the Apache configuration and more than one PythonImport directive is used against the same interpreter, duplicated entries can be added to sys.path.
This is because src/mod_python.c is evaluating PythonPath every time that a PythonImport directive is acted upon even if a PythonImport directive for the same interpreter has already been processed.
In other words, if you have:
PythonPath &quot;['/some/path']+sys.path&quot;
PythonImport module1 testing
PythonImport module2 testing
PythonImport module3 testing
then '/some/path' will be added to sys.path within context of interpreter called 'testing' a total of three times.
Consuming multiple messages in a transaction breaks the JournalMessageStore
If more than one message is consumed in a transaction all but one of the messages will be recovered on restart.
DefaultTextProvider does not parse default message with a MessageFormat
ruby stomp client test failures against 4.x
The test suite for Ruby Stomp is not currently working against SVN HEAD of ActiveMQ 4.x
deadlock when using VM transport and Jencks...
Background here: http://forums.logicblaze.com/posts/list/146.page
It seems to be VM protocol specific
ParamTag does not convert to string
The ParamTag does this
Object value = findValue(valueAttr);
instead of this
Object value = findValue(valueAttr, String.class);
which means that it bypasses your custom type converters.
DatePickerTag single click not working
From the forum: http://forums.opensymphony.com/thread.jspa?threadID=22588&amp;tstart=0
Hi
I have comitted DatePickerTagTest that has a test for the singleClick boolean field.
tag.setSingleClick(&quot;true&quot;);
Will result in a Freemarker template engine error.
22:58:44,609 ERROR [freemarker.runtime]
Error on line 21, column 31 in template/simple/datepicker.ftl
Expecting a string, date or number here, Expression parameters.singleclick is instead a freemarker.ext.beans.BooleanModel
The problematic instruction:
----------
==&gt; ${parameters.singleclick} [on line 21, column 29 in template/simple/datepicker.ftl]
in include &quot;/${parameters.templateDir}/simple/datepicker.ftl&quot; [on line 2, column 1 in template/xhtml/datepicker.ftl]
----------
Java backtrace for programmers:
----------
freemarker.core.NonStringException: Error on line 21, column 31 in template/simple/datepicker.ftl
Expecting a string, date or number here, Expression parameters.singleclick is instead a freemarker.ext.beans.BooleanModel
at freemarker.core.Expression.getStringValue(Expression.java:126)
at freemarker.core.Expression.getStringValue(Expression.java:93)
at freemarker.core.DollarVariable.accept(DollarVariable.java:76)
at freemarker.core.Environment.visit(Environment.java:196)
at freemarker.core.MixedContent.accept(MixedContent.java:92)
at freemarker.core.Environment.visit(Environment.java:196)
at freemarker.core.ConditionalBlock.accept(ConditionalBlock.java:79)
at freemarker.core.Environment.visit(Environment.java:196)
at freemarker.core.MixedContent.accept(MixedContent.java:92)
at freemarker.core.Environment.visit(Environment.java:196)
at freemarker.core.ConditionalBlock.accept(ConditionalBlock.java:79)
at freemarker.core.Environment.visit(Environment.java:196)
at freemarker.core.MixedContent.accept(MixedContent.java:92)
at freemarker.core.Environment.visit(Environment.java:196)
at freemarker.core.Environment.include(Environment.java:1375)
at freemarker.core.Include.accept(Include.java:155)
at freemarker.core.Environment.visit(Environment.java:196)
at freemarker.core.MixedContent.accept(MixedContent.java:92)
at freemarker.core.Environment.visit(Environment.java:196)
at freemarker.core.Environment.process(Environment.java:176)
at freemarker.template.Template.process(Template.java:231)
at com.opensymphony.webwork.components.template.FreemarkerTemplateEngine.renderTem plate(FreemarkerTemplateEngine.java:124)
at com.opensymphony.webwork.components.UIBean.mergeTemplate(UIBean.java:630)
at com.opensymphony.webwork.components.UIBean.end(UIBean.java:584)
at com.opensymphony.webwork.views.jsp.ComponentTagSupport.doEndTag(ComponentTagSup port.java:21)
at com.opensymphony.webwork.views.jsp.ui.DatePickerTagTest.testSingleclick(DatePic kerTagTest.java:53)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.ja va:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at junit.framework.TestCase.runTest(TestCase.java:154)
at junit.framework.TestCase.runBare(TestCase.java:127)
at junit.framework.TestResult$1.protect(TestResult.java:106)
at junit.framework.TestResult.runProtected(TestResult.java:124)
at junit.framework.TestResult.run(TestResult.java:109)
at junit.framework.TestCase.run(TestCase.java:118)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at junit.textui.TestRunner.doRun(TestRunner.java:116)
at com.intellij.rt.execution.junit2.IdeaJUnitAgent.doRun(IdeaJUnitAgent.java:58)
at junit.textui.TestRunner.start(TestRunner.java:172)
at com.intellij.rt.execution.junit.TextTestRunner2.startRunnerWithArgs(TextTestRun ner2.java:23)
at com.intellij.rt.execution.junit2.JUnitStarter.prepareStreamsAndStart(JUnitStart er.java:98)
at com.intellij.rt.execution.junit2.JUnitStarter.main(JUnitStarter.java:32)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.ja va:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at com.intellij.rt.execution.application.AppMain.main(AppMain.java:90)
TransactionExt.flush() call doesn't clear 1:1, 1:n link history
TransactionExt.flush() call doesn't clear 1:1, 1:n link history, thus OJB will reuse the outdated link entries on commit or additional flush() calls again. This could cause side-effects - see discussion here
http://www.mail-archive.com/ojb-user%40db.apache.org/msg15043.html
Extra space in Timeout.jwc prevents warning message from displaying
There is an extra space after &quot;message:&quot; on this line in Timeout.jwc:
&lt;parameter name=&quot;warningMessage&quot; default-value=&quot;message: warning&quot;&gt;
The warning dialog comes up at the proper time but only displays [WARNING]. Removing the extra space fixes the problem.
PopupLinkRenderer fails in Form rewind
Tapestry version 4.0 beta13
I have a DirectLink component, with a PopupLinkRenderer, embedded within a 
Form. Upon Form submit, I get an error during Form rewind as follows:
&quot;Component booking/Booking/chooseSenderLink requires rendering support, but no 
PageRenderSupport object has been stored into the request cycle. This object 
is typically provided by a Body component. You should add a Body component to 
your template.&quot;
I have a Body component around the whole page, but it does not seem to render during Form rewind. 
As a result, when the PopupLinkRenderer renders, it complains about not having a 
Body component supplying PageRenderSupport.
It seems that DirectLink and/or PopupLinkRenderer should be checking for Form rewind and not rendering in that case.
The full exception is as follows:
org.apache.tapestry.TapestryUtils.getPageRenderSupport(TapestryUtils.java:108)
org.apache.tapestry.contrib.link.PopupLinkRenderer.constructURL(PopupLinkRenderer.java:68)
org.apache.tapestry.link.DefaultLinkRenderer.renderLink(DefaultLinkRenderer.java:62)
org.apache.tapestry.link.AbstractLinkComponent.renderComponent(AbstractLinkComponent.java:95)
org.apache.tapestry.AbstractComponent.render(AbstractComponent.java:617)
org.apache.tapestry.AbstractComponent.renderBody(AbstractComponent.java:434)
org.apache.tapestry.form.FormSupportImpl.rewind(FormSupportImpl.java:548)
org.apache.tapestry.form.Form.renderComponent(Form.java:226)
$Form_698.renderComponent($Form_698.java)
org.apache.tapestry.AbstractComponent.render(AbstractComponent.java:617)
org.apache.tapestry.form.Form.rewind(Form.java:327)
org.apache.tapestry.engine.RequestCycle.rewindForm(RequestCycle.java:442)
org.apache.tapestry.form.Form.trigger(Form.java:338)
org.apache.tapestry.engine.DirectService.triggerComponent(DirectService.java:146)
org.apache.tapestry.engine.DirectService.service(DirectService.java:132)
$IEngineService_107c5b11bbe.service($IEngineService_107c5b11bbe.java)
org.apache.tapestry.services.impl.EngineServiceOuterProxy.service(EngineServiceOuterProxy.java:65)
org.apache.tapestry.engine.AbstractEngine.service(AbstractEngine.java:248)
org.apache.tapestry.services.impl.InvokeEngineTerminator.service(InvokeEngineTerminator.java:60)
$WebRequestServicer_107c5b11b97.service($WebRequestServicer_107c5b11b97.java)
org.apache.tapestry.services.impl.DisableCachingFilter.service(DisableCachingFilter.java:48)
$WebRequestServicerFilter_107c5b11b99.service($WebRequestServicerFilter_107c5b11b99.java)
$WebRequestServicer_107c5b11b9b.service($WebRequestServicer_107c5b11b9b.java)
$WebRequestServicer_107c5b11b93.service($WebRequestServicer_107c5b11b93.java)
org.apache.tapestry.services.impl.WebRequestServicerPipelineBridge.service(WebRequestServicerPipelineBridge.java:56)
$ServletRequestServicer_107c5b11b77.service($ServletRequestServicer_107c5b11b77.java)
org.apache.tapestry.request.DecodedRequestInjector.service(DecodedRequestInjector.java:55)
$ServletRequestServicerFilter_107c5b11b73.service($ServletRequestServicerFilter_107c5b11b73.java)
$ServletRequestServicer_107c5b11b79.service($ServletRequestServicer_107c5b11b79.java)
org.apache.tapestry.multipart.MultipartDecoderFilter.service(MultipartDecoderFilter.java:52)
$ServletRequestServicerFilter_107c5b11b71.service($ServletRequestServicerFilter_107c5b11b71.java)
$ServletRequestServicer_107c5b11b79.service($ServletRequestServicer_107c5b11b79.java)
org.apache.tapestry.services.impl.SetupRequestEncoding.service(SetupRequestEncoding.java:53)
$ServletRequestServicerFilter_107c5b11b75.service($ServletRequestServicerFilter_107c5b11b75.java)
$ServletRequestServicer_107c5b11b79.service($ServletRequestServicer_107c5b11b79.java)
$ServletRequestServicer_107c5b11b6b.service($ServletRequestServicer_107c5b11b6b.java)
org.apache.tapestry.ApplicationServlet.doService(ApplicationServlet.java:123)
org.apache.tapestry.ApplicationServlet.doPost(ApplicationServlet.java:168)
javax.servlet.http.HttpServlet.service(HttpServlet.java:616)
javax.servlet.http.HttpServlet.service(HttpServlet.java:689)
org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:292)
net.sf.acegisecurity.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:84)
net.sf.acegisecurity.intercept.web.SecurityEnforcementFilter.doFilter(SecurityEnforcementFilter.java:182)
net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:303)
net.sf.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:153)
net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:303)
net.sf.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:305)
net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:303)
net.sf.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:225)
net.sf.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:303)
net.sf.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:173)
net.sf.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:125)
org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:174)
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
org.mortbay.http.HttpContext.handle(HttpContext.java:1565)
org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
org.mortbay.http.HttpContext.handle(HttpContext.java:1517)
org.mortbay.http.HttpServer.service(HttpServer.java:954)
org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:983)
org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
-Scott
TableFormPages component does use pagesClass property
TableFormPages does not support inherited informal parameters that are required to set the stylesheet class. Looking at the TablePages component contains an &quot;informal&quot; enclosing element that allows informal parameters (pagesClass) but the TableFormPages componented contains no such element.
TEST TwoBrokerTopicSendReceiveUsingHttpTest Failed
HTTP transport is not fully implemented yet. Disabling test for now.
TEST TwoBrokerTopicSendReceiveUsingHttpTest Fails
Broker networking using http fails. I think the problem is the bridge is sending the BrokerInfo first before the ConnectionInfo (DemandForwardingBridgeSupport:185) without the clientID from the ConnectionInfo, send fails. Failover transport tries to resend, but continue failing. Tried sending the ConnectionInfo first, before the BrokerInfo, and it seems to work ok, aside from a few lost messages. But I'm not sure if this is the way to go.
FileUploadInterceptor not using internationalized error message
FileUploadInterceptor not using internationalized error message, in acceptFile(...) method when File is null, it should use webwork.messages.error.uploading, as listed in javadoc.
validation.addFieldError(inputName, &quot;Could not upload file&quot;);
should, i guess, instead be,
validation.addFieldError(inputName, 
getTextMessage(&quot;webwork.messages.error.uploading&quot;, 
new Object[] { &quot;Could not upload file with input name [&quot;+inputName+&quot;]&quot; }, 
locale));
SQLException can lose stacktrace in some cases.
cause is being lost in the following constructor in SqlException
public SqlException(LogWriter logwriter,
MessageId msgid, Object[] args, Throwable cause)
{
this(
logwriter,
msgutil_.getCompleteMessage(
msgid.msgid,
args),
ExceptionUtil.getSQLStateFromIdentifier(msgid.msgid),
ExceptionUtil.getSeverityFromIdentifier(msgid.msgid));
}
maybe we should add setThrowable(cause) so we dont lose track of it.
SanityState.java is not being removed
Prior to moving SanitiyState.java over to the shared packages, once SanityState.class was built, SanityState.java was removed, to avoid it accidentally being committed to the repository since it is a generated file. That is no longer happening, and needs to be fixed.
TwoBrokerTopicSendReceiveTest fails on some platform
On our CI test grids it works on iago, aladdin and spinach but fails on Jafar (Windows 2003, Jdk 1.5)
Tried running it on a Windows XP box using Jdk 1.5 and it works.
path name incorrect in simple example doc
The simple example doc (installed for me in file:///C:/db-derby-10.1.2.1-bin/demo/simple/example.html) contains a minor error:
Section : How to run this sample application...
&quot;and change directories to the %DERBY_INSTALL%\demo\programs\simple directory.&quot;
should be
&quot;and change directories to the %DERBY_INSTALL%\demo\simple directory.&quot;
Client side JavaScript validation not working when using xwork-tiger
Problem with SiteMesh tags and ww:action
http://forums.opensymphony.com/thread.jspa?threadID=9236&amp;tstart=0
receive() call should throw exception when transport fails.
Reported at: http://forums.logicblaze.com/posts/list/207.page
* A QueueReceiver, running the synchronous receive() call will block indefinitely 
If you have a QueueReceiver, and it's blocked on the receive() call, it should produce an exception when the ActiveMQ server goes down. Otherwise there is no way for that thread to come back to life. The client does produce an async exception alert... However that is not sufficient. That handles any of your async consumers. This is a sync consumer, it's blocked until it returns, or fails. Your async exception routine should wake up all sync consumers with an exception on their receive() call. The user cannot do this, because even if he could somehow find which Thread is blocked, interrupting the thread is not guaranteed to work. Most JMS providers throw an exception. 3.2.1 threw an exception. Perhaps if I wrote an async exception trigger to close the Sender, it would unblock the other thread.. However the receieve should really throw an exception.
Testcases don't reset contextClassLoader back to defaults...
The Javascript test cases dont' save the original context classloader and then restore it back during tearDown. (in one case, it resets the contextClassLoader to null which is worse) Thus, depending on the order the tests are run, failures may pop up. In my case, I'm seeing:
[surefire] Running org.apache.tuscany.container.js.assembly.tests.JavaScriptAssemblyLoaderTestCase
[surefire] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.1 sec
[surefire]
[surefire] Running org.apache.tuscany.container.js.assembly.impl.JavaScriptImplementationTestCase
[surefire] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.003 sec
[surefire]
[surefire] Running org.apache.tuscany.container.js.integration.JSComponentContextTestCase
[surefire] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0.078 sec
[surefire]
[surefire] testBasicInvocation(org.apache.tuscany.container.js.integration.JSComponentContextTestCase) Time elapsed: 0.074 sec &lt;&lt;&lt; ERROR!
java.lang.ClassNotFoundException: org/apache/tuscany/core/context/impl/AggregateContextImpl
at java.lang.Class.forName0(Native Method)
at java.lang.Class.forName(Class.java:242)
at org.apache.tuscany.core.config.JavaIntrospectionHelper.loadClass(JavaIntrospectionHelper.java:305)
at org.apache.tuscany.container.js.mock.MockAssemblyFactory.createSystemComponent(MockAssemblyFactory.java:71)
at org.apache.tuscany.container.js.integration.JSComponentContextTestCase.testBasicInvocation(JSComponentContextTestCase.java:77)
..............
I have a patch which I'll be attaching to this bug.
Velocity doubleselect tag exmple does not work as expected in showcase application
For some reason the second select is not correctly updated when selecting value in the first one, see
http://localhost:8080/showcase/tags/ui/exampleVelocity!input.action
doubleselect tag causes exception, indicating invalid stack constitution assumption
When rendering
http://localhost:8080/showcase/tags/ui/example!input.action
the following exeption is thrown:
2006-03-16 18:59:50,991 WARN [OgnlValueStack.java:207] : Caught an exception while evaluating expression 'top == 'North' ? {'Oregon', 'Washington'} : {'Texas', 'Florida'}' against value stack
java.lang.IllegalArgumentException: invalid comparison: com.opensymphony.webwork.showcase.UITagExample and java.lang.String
at ognl.OgnlOps.compareWithConversion(OgnlOps.java:93)
at ognl.OgnlOps.isEqual(OgnlOps.java:142)
at ognl.OgnlOps.equal(OgnlOps.java:533)
at ognl.ASTEq.getValueBody(ASTEq.java:51)
at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:170)
at ognl.SimpleNode.getValue(SimpleNode.java:210)
at ognl.ASTTest.getValueBody(ASTTest.java:49)
at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:170)
at ognl.SimpleNode.getValue(SimpleNode.java:210)
at ognl.Ognl.getValue(Ognl.java:333)
at ognl.Ognl.getValue(Ognl.java:310)
at com.opensymphony.xwork.util.OgnlUtil.getValue(OgnlUtil.java:188)
at com.opensymphony.xwork.util.OgnlValueStack.findValue(OgnlValueStack.java:198)
at com.opensymphony.webwork.components.Component.findValue(Component.java:230)
at com.opensymphony.webwork.components.DoubleListUIBean.evaluateExtraParams(DoubleListUIBean.java:108)
at com.opensymphony.webwork.components.DoubleSelect.evaluateExtraParams(DoubleSelect.java:43)
at com.opensymphony.webwork.components.UIBean.evaluateParams(UIBean.java:874)
at com.opensymphony.webwork.components.UIBean.end(UIBean.java:581)
at com.opensymphony.webwork.views.jsp.ComponentTagSupport.doEndTag(ComponentTagSupport.java:21)
at org.apache.jsp.tags.ui.example_jsp._jspx_meth_ww_doubleselect_0(org.apache.jsp.tags.ui.example_jsp:419)
at org.apache.jsp.tags.ui.example_jsp._jspx_meth_ww_form_0(org.apache.jsp.tags.ui.example_jsp:202)
at org.apache.jsp.tags.ui.example_jsp._jspService(org.apache.jsp.tags.ui.example_jsp:111)
...
Default action support is not existent
http://forums.opensymphony.com/thread.jspa?threadID=20360&amp;tstart=0
Default action described by Andres would be really usefull
jdbc4/TestDbMetaData.java fails because of changes in SQLException text
jdbc4/TestDbMetaData.java fails with the following diff:
********* Diff file jdbc4/DerbyNetClient/jdbc4/TestDbMetaData.diff
*** Start: TestDbMetaData jdk1.6.0-beta2 DerbyNetClient jdbc4:jdbc4 2006-03-16 20:13:06 ***
49 del
&lt; SQLSTATE(0A000):java.sql.SQLException: 0A000.S : [0] getClientInfoProperties ()
50 del
&lt; Caused by: org.apache.derby.client.am.SqlException: 0A000.S : [0] getClientInfoProperties ()
50a49,50
&gt; SQLSTATE(0A000):java.sql.SQLException: Feature not implemented: getClientInfoProperties ().
&gt; Caused by: org.apache.derby.client.am.SqlException: Feature not implemented: getClientInfoProperties ().
58 del
&lt; SQLSTATE(0A000):java.sql.SQLException: 0A000.S : [0] getSchemas (String, String)
59 del
&lt; Caused by: org.apache.derby.client.am.SqlException: 0A000.S : [0] getSchemas (String, String)
59a58,59
&gt; SQLSTATE(0A000):java.sql.SQLException: Feature not implemented: getSchemas (String, String).
&gt; Caused by: org.apache.derby.client.am.SqlException: Feature not implemented: getSchemas (String, String).
Test Failed.
*** End: TestDbMetaData jdk1.6.0-beta2 DerbyNetClient jdbc4:jdbc4 2006-03-16 20:13:16 ***
(http://www.multinet.no/~solberg/public/Apache/DerbyJDK16/testlog/JDK16Jvm1.6SunOS-5.10_i86pc-i386/386413-jdbc4_diff.txt)
The failure is caused by changes in MessageUtil which have modified the exception message.
TEST org.apache.activemq.usecases.PublishOnQueueConsumedMessageUsingActivemqXMLTest FAILED
TEST org.apache.activemq.usecases.PublishOnTopicConsumerMessageUsingActivemqXMLTest FAILED
PopupCalendar &amp; &lt;base href=&quot;&quot;&gt; tag
Popup Calender doesn't work if the base href tag is used in the html page. If you click on a date in the popup window the browser redirects the user to the base href tag.
-&gt; &quot;http://www.example.com/faces/#&quot;
To avoid this myfaces has to stop the event like for the close button &quot;closeCalendarLink&quot; with the &quot;Event.stop(event);&quot; script.
I apply a patch tested on IE, Firefox and Opera.
ExtensionsFilter calls addResource.parseResponse() on non-HTML responses
ExtensionsFilter does not check the content type of the response before calling methods on AddResource to parse and add to the output. This causes the HTML parser to fall over when the response is non-HTML.
Some fixes to inputSuggestAjax component
This patch solves the &quot;jumping&quot; effect of tableSuggest in IE and adds some possibilities to styling
Invalid content length header may be sent
From Eric Dofonsou:
Hello, I've been trying without success to use the new
service-http component to connect to external web
service hosted in JBOSS. Below is the content of my
servicemix.xml file :
-----------
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;beans
xmlns:sm=&quot;http://servicemix.apache.org/config/1.0&quot; 
xmlns:http=&quot;http://servicemix.apache.org/http/1.0&quot;
xmlns:demo=&quot;urn:servicemix:soap-binding&quot;&gt;
&lt;classpath&gt;
&lt;location&gt;.&lt;/location&gt;
&lt;/classpath&gt;
&lt;sm:container id=&quot;jbi&quot; useMBeanServer=&quot;true&quot;
createMBeanServer=&quot;true&quot;
dumpStats=&quot;true&quot;
statsInterval=&quot;10&quot;&gt;
&lt;sm:activationSpecs&gt;
&lt;sm:activationSpec&gt;
&lt;sm:component&gt;
&lt;http:component&gt;
&lt;http:endpoints&gt;
&lt;http:endpoint service=&quot;demo:simple-service&quot;
endpoint=&quot;simple-service&quot;
role=&quot;provider&quot;
locationURI=&quot;http://localhost:8080/Global%20Project/services/Echo&quot;
defaultMep=&quot;http://www.w3.org/2004/08/wsdl/in-out&quot;
soapVersion=&quot;1.1&quot;
soap=&quot;true&quot; /&gt;
&lt;/http:endpoints&gt;
&lt;/http:component&gt;
&lt;/sm:component&gt; 
&lt;/sm:activationSpec&gt;
&lt;sm:activationSpec&gt;
&lt;sm:component&gt;
&lt;http:component&gt;
&lt;http:endpoints&gt;
&lt;http:endpoint service=&quot;demo:simple-service&quot;
endpoint=&quot;simple-service&quot;
role=&quot;consumer&quot;
locationURI=&quot;http://localhost:8192/Service/&quot;
defaultMep=&quot;http://www.w3.org/2004/08/wsdl/in-out&quot;
soapVersion=&quot;1.1&quot;
soap=&quot;true&quot; /&gt;
&lt;/http:endpoints&gt;
&lt;/http:component&gt;
&lt;/sm:component&gt; 
&lt;/sm:activationSpec&gt;
&lt;/sm:activationSpecs&gt;
&lt;/sm:container&gt;
&lt;/beans&gt;
--------------
What it essentially does is have a consumer that
creates an endpoint on the bus
(http://http://localhost:8192/Service/) and a provider
that points to the web service
(http://localhost:8080/Global%20Project/services/Echo).
Everytime I trie to send a message I get the following
exception in jboss : 
-----------
10:14:42,611 INFO [ServiceBean] Exposing SOAP v.1.1
service with name Echo
10:14:42,767 ERROR [DefaultEndpoint] Fault occurred!
org.codehaus.xfire.XFireRuntimeException: Error
parsing document.. Nested exception is
com.ctc.wstx.exc.WstxEOFException: Unexpected EOF in
attribute value at [row,col {unknown-source}]: [1,396]
com.ctc.wstx.exc.WstxEOFException: Unexpected EOF in
attribute value at [row,col {unknown-source}]: [1,396]
at
com.ctc.wstx.sr.StreamScanner.throwUnexpectedEOF(StreamScanner.java:500)
at
com.ctc.wstx.sr.StreamScanner.loadMore(StreamScanner.java:893)
at
com.ctc.wstx.sr.StreamScanner.getNextChar(StreamScanner.java:588)
at
com.ctc.wstx.sr.WstxStreamReader.parseNormalizedAttrValue(WstxStreamReader.java:1782)
at
com.ctc.wstx.sr.WstxStreamReader.handleNsAttrs(WstxStreamReader.java:2599)
at
com.ctc.wstx.sr.WstxStreamReader.handleStartElem(WstxStreamReader.java:2507)
at
com.ctc.wstx.sr.WstxStreamReader.nextFromTree(WstxStreamReader.java:2431)
at
com.ctc.wstx.sr.WstxStreamReader.next(WstxStreamReader.java:949)
at
org.codehaus.xfire.util.stax.DepthXMLStreamReader.next(DepthXMLStreamReader.java:258)
......
at
org.codehaus.xfire.soap.handler.SoapBodyHandler.invoke(SoapBodyHandler.java:39)
at
org.codehaus.xfire.handler.HandlerPipeline.invoke(HandlerPipeline.java:97)
at
org.codehaus.xfire.transport.DefaultEndpoint.onReceive(DefaultEndpoint.java:57)
at
org.codehaus.xfire.transport.AbstractChannel.receive(AbstractChannel.java:38)
at
org.codehaus.xfire.transport.http.XFireServletController.invoke(XFireServletController.java:240)
at
org.codehaus.xfire.transport.http.XFireServletController.doService(XFireServletController.java:109)
at
org.codehaus.xfire.transport.http.XFireServlet.doPost(XFireServlet.java:90)
at
javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
at
javax.servlet.http.HttpServlet.service(HttpServlet.java:810)
at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
----------
When I commnicate directly with the web service using
SOAPUI it works fine. So think the problem might be
with the way servicemix uses httpclient to communicate
with the web service in JBOSS. Has anyone tried to
use the new endpoint to communicate with web services
in jboss ?
By the way when I run it in debug and check the
content of the NMR that is received by the provider
just before it is transfered to the web it is valide
and complete. 
Anyway help would be greatly appreciated.
Thx.
durable mode: SQLException during broker shutdown, then IndexOutOfBoundsException in producer/consumer
My use case:
1. Take the ActiveMQ 4.0-SNAPSHOT from yesterday (2006-02-12)
2. Change the conf/activemq.xml and configure an Oracle JDBC data source:
&lt;beans xmlns=&quot;http://activemq.org/config/1.0&quot;&gt;
&lt;broker useJmx=&quot;true&quot;&gt;
&lt;persistenceAdapter&gt;
&lt;journaledJDBC journalLogFiles=&quot;5&quot; dataDirectory=&quot;../activemq-data&quot; dataSource=&quot;#oracle-ds&quot;/&gt;
&lt;/persistenceAdapter&gt;
&lt;transportConnectors&gt;
&lt;transportConnector uri=&quot;tcp://localhost:61616&quot;/&gt;
&lt;/transportConnectors&gt;
&lt;/broker&gt;
&lt;bean id=&quot;oracle-ds&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;
&lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;/&gt;
&lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@acxlin:1521:acx&quot;/&gt;
&lt;property name=&quot;username&quot; value=&quot;hase&quot;/&gt;
&lt;property name=&quot;password&quot; value=&quot;hase&quot;/&gt;
&lt;property name=&quot;poolPreparedStatements&quot; value=&quot;true&quot;/&gt;
&lt;/bean&gt;
&lt;/beans&gt;
3. Start the broker out of the box with bin/activemq
4. Change to the examples dir and change the build.xml and set
&lt;property name=&quot;durable&quot; value=&quot;true&quot; /&gt;
5. Invoke the producer with ant producer and then the consumer with ant consumer
=&gt; Until here everything is fine, 10 messages are produced and consumed
6. No I wanted to test the durable mode and run the producer again with consuming the messages. So 10 mesages are left in the queue.
7. Shutdown the broker with bin/shutdown
=&gt; First problem: java.sql.SQLException: Failed add a message
INFO BrokerService - ActiveMQ JMS Message Broker (localhost) started
INFO ManagementContext - JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
...
INFO BrokerService - ActiveMQ Message Broker (localhost) is shutting down
INFO VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO TransactionContext - commit failed: Failed add a message
java.sql.SQLException: Failed add a message
at org.apache.activemq.store.jdbc.TransactionContext.executeBatch(TransactionContext.java:92)
at org.apache.activemq.store.jdbc.TransactionContext.executeBatch(TransactionContext.java:68)
at org.apache.activemq.store.jdbc.TransactionContext.commit(TransactionContext.java:146)
at org.apache.activemq.store.jdbc.JDBCPersistenceAdapter.commitTransaction(JDBCPersistenceAdapter.java:313)
at org.apache.activemq.store.journal.JournalPersistenceAdapter.commitTransaction(JournalPersistenceAdapter.java:177)
at org.apache.activemq.store.journal.JournalMessageStore$3.execute(JournalMessageStore.java:269)
at org.apache.activemq.util.TransactionTemplate.run(TransactionTemplate.java:43)
at org.apache.activemq.store.journal.JournalMessageStore.checkpoint(JournalMessageStore.java:237)
at org.apache.activemq.store.journal.JournalMessageStore.checkpoint(JournalMessageStore.java:211)
at org.apache.activemq.store.journal.JournalPersistenceAdapter$4.call(JournalPersistenceAdapter.java:338)
at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:166)
at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:643)
at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:668)
at java.lang.Thread.run(Thread.java:595)
ERROR JournalPersistenceAdapter - Failed to checkpoint a message store: edu.emory.mathcs.backport.java.util.concurrent.ExecutionException: java.io.IOException: Not started.
edu.emory.mathcs.backport.java.util.concurrent.ExecutionException: java.io.IOException: Not started.
at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResult(FutureTask.java:289)
at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.get(FutureTask.java:115)
at org.apache.activemq.store.journal.JournalPersistenceAdapter.doCheckpoint(JournalPersistenceAdapter.java:368)
at org.apache.activemq.store.journal.JournalPersistenceAdapter$2.iterate(JournalPersistenceAdapter.java:120)
at org.apache.activemq.thread.SimpleTaskRunner.runTask(SimpleTaskRunner.java:110)
at org.apache.activemq.thread.SimpleTaskRunner.access$100(SimpleTaskRunner.java:25)
at org.apache.activemq.thread.SimpleTaskRunner$1.run(SimpleTaskRunner.java:43)
at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:643)
at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:668)
at java.lang.Thread.run(Thread.java:595)
Caused by: java.io.IOException: Not started.
at org.apache.activemq.store.jdbc.TransactionContext.rollback(TransactionContext.java:163)
at org.apache.activemq.store.jdbc.JDBCPersistenceAdapter.rollbackTransaction(JDBCPersistenceAdapter.java:318)
at org.apache.activemq.store.journal.JournalPersistenceAdapter.rollbackTransaction(JournalPersistenceAdapter.java:181)
at org.apache.activemq.util.TransactionTemplate.run(TransactionTemplate.java:61)
at org.apache.activemq.store.journal.JournalMessageStore.checkpoint(JournalMessageStore.java:237)
at org.apache.activemq.store.journal.JournalMessageStore.checkpoint(JournalMessageStore.java:211)
at org.apache.activemq.store.journal.JournalPersistenceAdapter$4.call(JournalPersistenceAdapter.java:338)
at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:166)
... 3 more
INFO BrokerService - ActiveMQ JMS Message Broker (localhost) stopped: org.apache.activemq.broker.BrokerService$1@1ff92f5
8. Restart the broker
=&gt; Some warnings occur:
INFO BrokerService - ActiveMQ 4.0-SNAPSHOT JMS Message Broker (localhost) is starting
INFO BrokerService - For help or more information please see: http://www.logicblaze.com
INFO JDBCPersistenceAdapter - Database driver recognized: [oracle_jdbc_driver]
INFO JournalPersistenceAdapter - Journal Recovery Started from: Active Journal: using 5 x 20.0 Megs at: ..\activemq-data\journal
WARN JournalMessageStore - Could not replay add for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:1'. Message may have already been added. reason: java.io.IOException: Failed add a message
WARN JournalMessageStore - Could not replay add for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:2'. Message may have already been added. reason: java.io.IOException: Failed add a message
WARN JournalMessageStore - Could not replay add for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:3'. Message may have already been added. reason: java.io.IOException: Failed add a message
WARN JournalMessageStore - Could not replay add for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:4'. Message may have already been added. reason: java.io.IOException: Failed add a message
WARN JournalMessageStore - Could not replay add for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:5'. Message may have already been added. reason: java.io.IOException: Failed add a message
WARN JournalMessageStore - Could not replay add for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:6'. Message may have already been added. reason: java.io.IOException: Failed add a message
WARN JournalMessageStore - Could not replay add for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:7'. Message may have already been added. reason: java.io.IOException: Failed add a message
WARN JournalMessageStore - Could not replay add for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:8'. Message may have already been added. reason: java.io.IOException: Failed add a message
WARN JournalMessageStore - Could not replay add for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:9'. Message may have already been added. reason: java.io.IOException: Failed add a message
WARN JournalMessageStore - Could not replay add for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:10'. Message may have already been added. reason: java.io.IOException: Failed add a message
WARN JournalMessageStore - Could not replay acknowledge for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:1'. Message may have already been acknowledged. reason: java.io.IOException: Failed to remove a message
WARN JournalMessageStore - Could not replay acknowledge for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:2'. Message may have already been acknowledged. reason: java.io.IOException: Failed to remove a message
WARN JournalMessageStore - Could not replay acknowledge for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:3'. Message may have already been acknowledged. reason: java.io.IOException: Failed to remove a message
WARN JournalMessageStore - Could not replay acknowledge for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:4'. Message may have already been acknowledged. reason: java.io.IOException: Failed to remove a message
WARN JournalMessageStore - Could not replay acknowledge for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:5'. Message may have already been acknowledged. reason: java.io.IOException: Failed to remove a message
WARN JournalMessageStore - Could not replay acknowledge for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:6'. Message may have already been acknowledged. reason: java.io.IOException: Failed to remove a message
WARN JournalMessageStore - Could not replay acknowledge for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:7'. Message may have already been acknowledged. reason: java.io.IOException: Failed to remove a message
WARN JournalMessageStore - Could not replay acknowledge for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:8'. Message may have already been acknowledged. reason: java.io.IOException: Failed to remove a message
WARN JournalMessageStore - Could not replay acknowledge for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:9'. Message may have already been acknowledged. reason: java.io.IOException: Failed to remove a message
WARN JournalMessageStore - Could not replay acknowledge for message 'ID:dopc-janknecht-3852-1139814332514-0:0:1:1:10'. Message may have already been acknowledged. reason: java.io.IOException: Failed to remove a message
INFO JournalPersistenceAdapter - Journal Recovered: 30 message(s) in transactions recovered.
INFO TransportServerThreadSupport - Listening for connections at: tcp://dopc-janknecht:61616
INFO TransportConnector - Accepting connection on: tcp://dopc-janknecht:61616
INFO BrokerService - ActiveMQ JMS Message Broker (localhost) started
INFO ManagementContext - JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
9. Finally run the consumer
=&gt; java.lang.IndexOutOfBoundsException
consumer:
[echo] Running consumer against server at $url = tcp://localhost:61616 for subject $subject = TEST.FOO
[java] Connecting to URL: tcp://localhost:61616
[java] Consuming queue: TEST.FOO
[java] Using durable subscription
[java] Exception in thread &quot;tcp://localhost/127.0.0.1:61616&quot; java.lang.IndexOutOfBoundsException
[java] at java.io.DataInputStream.readFully(DataInputStream.java:173)
[java] at org.apache.activemq.openwire.BooleanStream.unmarshal(BooleanStream.java:88)
[java] at org.apache.activemq.openwire.OpenWireFormat.doUnmarshal(OpenWireFormat.java:213)
[java] at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:181)
[java] at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:135)
[java] at java.lang.Thread.run(Thread.java:595)
The consumer hangs here..
With durable=false everything is fine (except that I will loose my messages after a shutdown :-)
Same behavior with the 4.0 M4.
Sometime when repeating this test I don't get these &quot;Could not replay add for message&quot; warnings after 
broker restart but the consumer hangs everytime.
UITree looses config when rerendering view
The local tree attributes are not stored/restored in UITree
Node.setProperty(String, ...) implementation not according to the specification
to illustrate the issue assume the following property definition:
name: someText
type: String
non-mandatory
non-autocreate
the following call would throw a ConstraintViolationException
if the property doesn't exist yet:
node.setProperty(&quot;someText&quot;, 12345);
the rules used to find an applicable definition in this case are too strict.
Running ant new in webapps fails
When trying to create a new project by running ant new in webapps, ant fails looking for webapps/blank/blank.iml (which is missing).
touching webapps/blank/blank.iml works around the issue.
If corrupted map outputs, reducers get stuck fetching forever
In our rack, there is a machine that reliably corrupts map output parts. When reducers try to pickup the map output, Server#Handler checks the checksum, notices corruption, moves the bad map output part aside and throws a ChecksumException. Undeterred, the reducer comes back again minutes later only this time it gets a FileNotFoundException out of Server#Handler (Because the part was moved aside). And so it goes till the cows come home.
Doug applied a patch that in map output file, when it notices a fatal exception, it logs a severe error on the TaskTracker#LOG. Then in TT, if a severe logging has occurred, TT does a soft restart (TT stays up but closes down all services and then goes through init again). This patch was committed (after I suggested it was working), only, later, I noticed the severe log flag is not cleared across TT restart so TT goes into a cycle of continuous restarts. 
A further patch that clears the severe flag was posted to the list. This improves things but has issues too in that on revival, the TT continues to be plagued by reducers looking for parts no longer available for a period of ten minutes or so until the JobTracker gets around to updating them about change in where to go get map outputs. During this period, the TT gets restarted 5-10 times -- but eventually comes back on line (There may have been too much damage done during this period of flux making it so the job will fail).
This issue covers implementing a better solution. 
Suggestions include having the TT stay down a period to avoid the incoming reducers or somehow examining the incoming reducer request, checking its list of tasks to see if it knows anything of the reducers' request and rejecting it with a non-severe error if not a map of the currently running TT. A little birdie (named DC) suggests a better soln. is probably an addition to intertrackerprotocol so either the TT or the reducer updates JT when corrupted map output.
JPOX fails to create new instance of PC class via pm.newInstance(PCClass)
Using the company factory class CompanyFactoryPMClass for the CompletenessTest, JPOX fails to create a new instance of a PC class.
maven -o -Djdo.tck.cfglist=companyPMClass.conf runtck.jdori
IAddress newAddress() {
return (IAddress)pm.newInstance(Address.class); &lt;-- fails here
}
[java] RUN CompletenessTest.test ERROR
[java] Description: Completeness test with standard mapping, basic testdata with all relationships and embedded objects.
[java] Time: 013
[java] There was 1 error:
[java] 1) test(org.apache.jdo.tck.mapping.CompletenessTest)org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'root' defined in class path resource [org/apache/jdo/tck/pc/company/companyAllRelationships.xml]: Can't resolve reference to bean 'company1' while setting property 'constructor argument with index 0[0]'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'company1' defined in class path resource [org/apache/jdo/tck/pc/company/companyAllRelationships.xml]: Can't resolve reference to bean 'addr1' while setting property 'constructor argument with index 3'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addr1' defined in class path resource [org/apache/jdo/tck/pc/company/companyAllRelationships.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.apache.jdo.tck.pc.company.IAddress org.apache.jdo.tck.pc.company.CompanyFactoryAbstractImpl.newAddress(long,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)] threw exception; nested exception is java.lang.NullPointerException: null
[java] org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'company1' defined in class path resource [org/apache/jdo/tck/pc/company/companyAllRelationships.xml]: Can't resolve reference to bean 'addr1' while setting property 'constructor argument with index 3'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addr1' defined in class path resource [org/apache/jdo/tck/pc/company/companyAllRelationships.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.apache.jdo.tck.pc.company.IAddress org.apache.jdo.tck.pc.company.CompanyFactoryAbstractImpl.newAddress(long,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)] threw exception; nested exception is java.lang.NullPointerException: null
[java] org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addr1' defined in class path resource [org/apache/jdo/tck/pc/company/companyAllRelationships.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.apache.jdo.tck.pc.company.IAddress org.apache.jdo.tck.pc.company.CompanyFactoryAbstractImpl.newAddress(long,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)] threw exception; nested exception is java.lang.NullPointerException: null
[java] org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.apache.jdo.tck.pc.company.IAddress org.apache.jdo.tck.pc.company.CompanyFactoryAbstractImpl.newAddress(long,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)] threw exception; nested exception is java.lang.NullPointerException: null
[java] java.lang.NullPointerException
[java] at org.jpox.enhancer.ImplementationGenerator.&lt;init&gt;(ImplementationGenerator.java:74)
[java] at org.jpox.enhancer.ImplementationCreatorImpl.newInstance(ImplementationCreatorImpl.java:46)
[java] at org.jpox.AbstractPersistenceManager.newInstance(AbstractPersistenceManager.java:2253)
[java] at org.apache.jdo.tck.pc.company.CompanyFactoryPMClass.newAddress(CompanyFactoryPMClass.java:38)
[java] at org.apache.jdo.tck.pc.company.CompanyFactoryAbstractImpl.newAddress(CompanyFactoryAbstractImpl.java:46)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[java] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[java] at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:102)
[java] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:573)
[java] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:325)
[java] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:226)
[java] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:147)
[java] at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:176)
[java] at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:105)
[java] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveConstructorArguments(AbstractAutowireCapableBeanFactory.java:705)
[java] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:486)
[java] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:325)
[java] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:226)
[java] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:147)
[java] at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:176)
[java] at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:105)
[java] at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:193)
[java] at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:109)
[java] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveConstructorArguments(AbstractAutowireCapableBeanFactory.java:705)
[java] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:611)
[java] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:329)
[java] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:226)
[java] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:147)
[java] at org.apache.jdo.tck.pc.company.CompanyModelReader.getRootList(CompanyModelReader.java:101)
[java] at org.apache.jdo.tck.mapping.CompletenessTest.localSetUp(CompletenessTest.java:95)
[java] at org.apache.jdo.tck.JDO_Test.setUp(JDO_Test.java:187)
[java] at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:203)
[java] at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:120)
[java] at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:95)
[java] FAILURES!!!
JPOX returns wrong query result for non-extent queries.
Test case DistinctCandidateInstances fails because JPOX returns an empty collection for the query below. The query uses a candidate collection.
14:22:46,781 (main) DEBUG [org.apache.jdo.tck] - Executing JDO query: SELECT FROM org.apache.jdo.tck.pc.company.Person
14:22:46,796 (main) DEBUG [org.apache.jdo.tck] - Query result: []
14:22:46,812 (main) DEBUG [org.apache.jdo.tck] - Wrong query result: 
expected: [FullTimeEmployee(1, emp1Last, emp1First, born 10/Jun/1970, phone {work=123456-1, home=1111}, hired 1/Jan/1999, weeklyhours 40.0, $20000.0), FullTimeEmployee(2, emp2Last, emp2First, born 22/Dec/1975, phone {work=123456-2, home=2222}, hired 1/Jul/2003, weeklyhours 40.0, $10000.0), PartTimeEmployee(3, emp3Last, emp3First, born 5/Sep/1972, phone {work=123456-3, home=3333}, hired 15/Aug/2002, weeklyhours 19.0, $15000.0), PartTimeEmployee(4, emp4Last, emp4First, born 6/Sep/1973, phone {work=124456-3, home=3343}, hired 15/Apr/2001, weeklyhours 0.0, $13000.0), FullTimeEmployee(5, emp5Last, emp5First, born 5/Jul/1962, phone {work=126456-3, home=3363}, hired 15/Aug/1998, weeklyhours 0.0, $45000.0), FullTimeEmployee(1, emp1Last, emp1First, born 10/Jun/1970, phone {work=123456-1, home=1111}, hired 1/Jan/1999, weeklyhours 40.0, $20000.0), FullTimeEmployee(2, emp2Last, emp2First, born 22/Dec/1975, phone {work=123456-2, home=2222}, hired 1/Jul/2003, weeklyhours 40.0, $10000.0), PartTimeEmployee(3, emp3Last, emp3First, born 5/Sep/1972, phone {work=123456-3, home=3333}, hired 15/Aug/2002, weeklyhours 19.0, $15000.0), PartTimeEmployee(4, emp4Last, emp4First, born 6/Sep/1973, phone {work=124456-3, home=3343}, hired 15/Apr/2001, weeklyhours 0.0, $13000.0), FullTimeEmployee(5, emp5Last, emp5First, born 5/Jul/1962, phone {work=126456-3, home=3363}, hired 15/Aug/1998, weeklyhours 0.0, $45000.0)]
got: []
14:22:46,812 (main) INFO [org.apache.jdo.tck] - Exception during setUp or runtest: 
junit.framework.AssertionFailedError: Assertion A14.6.9-2 (DistintCandidateInstances) failed: 
Wrong query result: 
expected: [FullTimeEmployee(1, emp1Last, emp1First, born 10/Jun/1970, phone {work=123456-1, home=1111}, hired 1/Jan/1999, weeklyhours 40.0, $20000.0), FullTimeEmployee(2, emp2Last, emp2First, born 22/Dec/1975, phone {work=123456-2, home=2222}, hired 1/Jul/2003, weeklyhours 40.0, $10000.0), PartTimeEmployee(3, emp3Last, emp3First, born 5/Sep/1972, phone {work=123456-3, home=3333}, hired 15/Aug/2002, weeklyhours 19.0, $15000.0), PartTimeEmployee(4, emp4Last, emp4First, born 6/Sep/1973, phone {work=124456-3, home=3343}, hired 15/Apr/2001, weeklyhours 0.0, $13000.0), FullTimeEmployee(5, emp5Last, emp5First, born 5/Jul/1962, phone {work=126456-3, home=3363}, hired 15/Aug/1998, weeklyhours 0.0, $45000.0), FullTimeEmployee(1, emp1Last, emp1First, born 10/Jun/1970, phone {work=123456-1, home=1111}, hired 1/Jan/1999, weeklyhours 40.0, $20000.0), FullTimeEmployee(2, emp2Last, emp2First, born 22/Dec/1975, phone {work=123456-2, home=2222}, hired 1/Jul/2003, weeklyhours 40.0, $10000.0), PartTimeEmployee(3, emp3Last, emp3First, born 5/Sep/1972, phone {work=123456-3, home=3333}, hired 15/Aug/2002, weeklyhours 19.0, $15000.0), PartTimeEmployee(4, emp4Last, emp4First, born 6/Sep/1973, phone {work=124456-3, home=3343}, hired 15/Apr/2001, weeklyhours 0.0, $13000.0), FullTimeEmployee(5, emp5Last, emp5First, born 5/Jul/1962, phone {work=126456-3, home=3363}, hired 15/Aug/1998, weeklyhours 0.0, $45000.0)]
got: []
at junit.framework.Assert.fail(Assert.java:47)
at org.apache.jdo.tck.JDO_Test.fail(JDO_Test.java:546)
at org.apache.jdo.tck.query.QueryTest.queryFailed(QueryTest.java:500)
at org.apache.jdo.tck.query.QueryTest.checkQueryResultWithoutOrder(QueryTest.java:485)
at org.apache.jdo.tck.query.QueryTest.execute(QueryTest.java:1189)
at org.apache.jdo.tck.query.QueryTest.executeJDOQuery(QueryTest.java:1057)
at org.apache.jdo.tck.query.result.DistinctCandidateInstances.testCollectionQueries(DistinctCandidateInstances.java:129)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at junit.framework.TestCase.runTest(TestCase.java:154)
at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:204)
at junit.framework.TestResult$1.protect(TestResult.java:106)
at junit.framework.TestResult.runProtected(TestResult.java:124)
at junit.framework.TestResult.run(TestResult.java:109)
at junit.framework.TestCase.run(TestCase.java:118)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at junit.textui.TestRunner.doRun(TestRunner.java:116)
at junit.textui.TestRunner.doRun(TestRunner.java:109)
at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:120)
at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:95)
JPOX fails to use FetchPlan to load instances returned from Query
When executing a query with a non-default FetchPlan, fields should be loaded. JPOX does not use the FetchPlan when executing queries.
[java] 1) testQuery(org.apache.jdo.tck.api.persistencemanager.fetchplan.FetchPlanQuery)junit.framework.AssertionFailedError: 
[java] Assertion 12.7.1 (FetchPlanQuery) failed: after query.execute()
[java] Upper Left was null.
[java] The fetch plan includes PCRect.upperLeft and this field should have been loaded.
[java] Assertion 12.7.1 (FetchPlanQuery) failed: after query.execute()
[java] Lower Right was null.
[java] The fetch plan includes PCRect.lowerRight and this field should have been loaded.
[java] 
[java] at org.apache.jdo.tck.JDO_Test.failOnError(JDO_Test.java:1035)
[java] at org.apache.jdo.tck.api.persistencemanager.fetchplan.FetchPlanQuery.testQuery(FetchPlanQuery.java:66)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[java] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[java] at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:232)
[java] at org.apache.jdo.tck.util.BatchTestRunner.doRun(BatchTestRunner.java:105)
[java] at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:143)
[java] at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:118)
schedule component doesn't invoke the action value binding
Hi,
the current version of the sandbox schedule component doesn't invoke the action value binding provided as a tag attribute. For instance, the example with an action value binding doesn't work (ScheduleExampleHandler's public String someAction() is defined in my case):
&lt;s:schedule value=&quot;#{scheduleHandler1.model}&quot; id=&quot;schedule1&quot;
rendered=&quot;true&quot; visibleEndHour=&quot;18&quot; visibleStartHour=&quot;8&quot;
workingEndHour=&quot;17&quot; workingStartHour=&quot;9&quot; readonly=&quot;false&quot;
theme=&quot;evolution&quot; tooltip=&quot;true&quot; action=&quot;#{scheduleHandler1.someAction}&quot; /&gt;
Duplicate Inlink values
Reading the code for LinkDb.reduce(): if we have page duplicates in input segments, or if we have two copies of the same input segment, we will create the same Inlink values (satisfying Inlink.equals()) multiple times. Since Inlinks is a facade for List, and not a Set, we will get duplicate Inlink-s in Inlinks (if you know what I mean ;) .
The problem is easy to test: create a new linkdb based on 2 identical segments. This problem also makes it more difficult to properly implement LinkDB updating mechanism (i.e. incremental invertlinks).
I propose to change Inlinks to use a Set semantics, either explicitly by using a HashSet or implicitly by checking if a value to be added already exists. If there are no objections I'll commit this change shortly.
Compiling SignatureVerifier with JDK1.4 fails
The tck20 class org.apache.jdo.tck.util.signature.SignatureVerifier uses method java.lang.Character.valueOf(char c) which has been added with JDK 1.5. So the class fails to compile using JDK1.4.
JPOX eliminates duplicates in the query result although DISTINCT is not specified.
Test case NPEInResultExpr fails because the result of the query below is expected to contain duplicates. JPOX eliminates the duplicates.
14:22:55,046 (main) DEBUG [org.apache.jdo.tck] - Executing API query: SELECT employee.manager.lastname FROM org.apache.jdo.tck.pc.company.Department WHERE employees.contains(employee) VARIABLES Employee employee 
14:22:55,078 (main) DEBUG [org.apache.jdo.tck] - Query result: [emp2Last, null]
14:22:55,078 (main) DEBUG [org.apache.jdo.tck] - Wrong query result: 
expected: [emp2Last, null, emp2Last, emp2Last, emp2Last]
got: [emp2Last, null]
14:22:55,078 (main) INFO [org.apache.jdo.tck] - Exception during setUp or runtest: 
junit.framework.AssertionFailedError: Assertion A14.6.9-4 (NPEInResultExpr) failed: 
Wrong query result: 
expected: [emp2Last, null, emp2Last, emp2Last, emp2Last]
got: [emp2Last, null]
at junit.framework.Assert.fail(Assert.java:47)
at org.apache.jdo.tck.JDO_Test.fail(JDO_Test.java:546)
at org.apache.jdo.tck.query.QueryTest.queryFailed(QueryTest.java:500)
at org.apache.jdo.tck.query.QueryTest.checkQueryResultWithoutOrder(QueryTest.java:485)
at org.apache.jdo.tck.query.QueryTest.execute(QueryTest.java:1189)
at org.apache.jdo.tck.query.QueryTest.execute(QueryTest.java:1029)
at org.apache.jdo.tck.query.QueryTest.executeAPIQuery(QueryTest.java:966)
at org.apache.jdo.tck.query.QueryTest.executeAPIQuery(QueryTest.java:946)
at org.apache.jdo.tck.query.result.NPEInResultExpr.testPositive(NPEInResultExpr.java:106)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at junit.framework.TestCase.runTest(TestCase.java:154)
at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:204)
at junit.framework.TestResult$1.protect(TestResult.java:106)
at junit.framework.TestResult.runProtected(TestResult.java:124)
at junit.framework.TestResult.run(TestResult.java:109)
at junit.framework.TestCase.run(TestCase.java:118)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at junit.textui.TestRunner.doRun(TestRunner.java:116)
at junit.textui.TestRunner.doRun(TestRunner.java:109)
at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:120)
at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:95)
JPOX fails test VariableInResult.testDistinctNoNavigation with JDODataStoreException from Derby
Test methods testDistinctNoNavigation and testNoNavigation of org.apache.jdo.tck.query.result.VariableInResult fail throwing a JDODataStoreException. The error messages says: &quot;ERROR 42972: An ON clause associated with a JOIN operator is not valid.&quot;.
Here is the stacktace for method testDistinctNoNavigation, the other stacktrace is the same:
1) testDistinctNoNavigation(org.apache.jdo.tck.query.result.VariableInResult)javax.jdo.JDODataStoreException: Error executing JDOQL query &quot;SELECT DISTINCT UNBOUND_P.PROJID FROM applicationidentity0.PERSONS THIS,applicationidentity0.PROJECTS UNBOUND_P WHERE EXISTS (SELECT 1 FROM applicationidentity0.PROJECT_MEMBER THIS_PROJECTS_P LEFT OUTER JOIN applicationidentity0.PROJECTS UNBOUND_P_NAME ON UNBOUND_P.PROJID = UNBOUND_P_NAME.PROJID WHERE THIS_PROJECTS_P.&quot;MEMBER&quot; = THIS.PERSONID AND THIS_PROJECTS_P.&quot;MEMBER&quot; = THIS.PERSONID AND UNBOUND_P.PROJID = THIS_PROJECTS_P.PROJID AND UNBOUND_P_NAME.&quot;NAME&quot; = ? AND (THIS.DISCRIMINATOR = ? OR THIS.DISCRIMINATOR = ? OR THIS.DISCRIMINATOR = ?))&quot; : An ON clause associated with a JOIN operator is not valid.
ERROR 42972: An ON clause associated with a JOIN operator is not valid.
at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)
at org.apache.derby.impl.sql.compile.JoinNode.deferredBindExpressions(Unknown Source)
at org.apache.derby.impl.sql.compile.JoinNode.bindResultColumns(Unknown Source)
at org.apache.derby.impl.sql.compile.FromList.bindResultColumns(Unknown Source)
at org.apache.derby.impl.sql.compile.SelectNode.bindResultColumns(Unknown Source)
at org.apache.derby.impl.sql.compile.SubqueryNode.bindExpression(Unknown Source)
at org.apache.derby.impl.sql.compile.SelectNode.bindExpressions(Unknown Source)
at org.apache.derby.impl.sql.compile.DMLStatementNode.bindExpressions(Unknown Source)
at org.apache.derby.impl.sql.compile.DMLStatementNode.bind(Unknown Source)
at org.apache.derby.impl.sql.compile.ReadCursorNode.bind(Unknown Source)
at org.apache.derby.impl.sql.compile.CursorNode.bind(Unknown Source)
at org.apache.derby.impl.sql.GenericStatement.prepMinion(Unknown Source)
at org.apache.derby.impl.sql.GenericStatement.prepare(Unknown Source)
at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(Unknown Source)
at org.apache.derby.impl.jdbc.EmbedPreparedStatement.&lt;init&gt;(Unknown Source)
at org.apache.derby.impl.jdbc.EmbedPreparedStatement20.&lt;init&gt;(Unknown Source)
at org.apache.derby.impl.jdbc.EmbedPreparedStatement30.&lt;init&gt;(Unknown Source)
at org.apache.derby.jdbc.Driver30.newEmbedPreparedStatement(Unknown Source)
at org.apache.derby.impl.jdbc.EmbedConnection.prepareStatement(Unknown Source)
at org.apache.derby.impl.jdbc.EmbedConnection.prepareStatement(Unknown Source)
at com.mchange.v2.c3p0.impl.NewProxyConnection.prepareStatement(NewProxyConnection.java:241)
at org.jpox.store.rdbms.RDBMSManager.getStatement(RDBMSManager.java:355)
at org.jpox.store.StatementText.prepareStatement(StatementText.java:204)
at org.jpox.store.query.Query.getStatement(Query.java:797)
at org.jpox.store.query.JDOQLQuery.performExecute(JDOQLQuery.java:516)
at org.jpox.store.query.Query.executeWithMap(Query.java:1113)
at org.jpox.store.query.Query.executeWithArray(Query.java:1086)
at org.jpox.store.query.Query.execute(Query.java:1009)
at org.apache.jdo.tck.query.QueryTest.execute(QueryTest.java:1192)
at org.apache.jdo.tck.query.QueryTest.execute(QueryTest.java:1070)
at org.apache.jdo.tck.query.QueryTest.executeAPIQuery(QueryTest.java:1007)
at org.apache.jdo.tck.query.QueryTest.executeAPIQuery(QueryTest.java:987)
at org.apache.jdo.tck.query.result.VariableInResult.testDistinctNoNavigation(VariableInResult.java:138)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:204)
at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:120)
at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:95)
.
at org.jpox.store.query.JDOQLQuery.performExecute(JDOQLQuery.java:570)
at org.jpox.store.query.Query.executeWithMap(Query.java:1113)
at org.jpox.store.query.Query.executeWithArray(Query.java:1086)
at org.jpox.store.query.Query.execute(Query.java:1009)
at org.apache.jdo.tck.query.QueryTest.execute(QueryTest.java:1192)
at org.apache.jdo.tck.query.QueryTest.execute(QueryTest.java:1070)
at org.apache.jdo.tck.query.QueryTest.executeAPIQuery(QueryTest.java:1007)
at org.apache.jdo.tck.query.QueryTest.executeAPIQuery(QueryTest.java:987)
at org.apache.jdo.tck.query.result.VariableInResult.testDistinctNoNavigation(VariableInResult.java:138)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:204)
at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:120)
at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:95)
Unwanted axis2_msg_info_headers creation in axis2_core_utils_create_out_msg_ctx()
We don't need to create one here. We can get the existing msg_info_headers from the message context and use it to do the &quot;set&quot; s.
Client hangs on a &quot;HTTP/1.1 202 Accepted&quot; response from server.
I am not sure why but the stub client just waits without proceeding on recept of &quot;HTTP/1.1 202 Accepted
&quot;
axis2_call_invoke_non_blocking does not connect to server
Seems like we have a block of code commented 
call.c:574
sample clients segfaults when AXIS2C_HOME is not set
I think clients should exit gracefully if this env is not set.
Web client/WebDAV fails to unescape workspace names
It seems that when you try to access to a workspace through the web client/webdav, and the workspace has special characteres like spaces on its name like (&quot;my workspace&quot;), then the web cliente/webdav is not able to load it.
Probablly the only thing to do is to unscape the workspace name.
TaskRunnerFactory from broker is not carried along to Broker-to-Broker connections
When trying to enable dispatchAsync for broker-to-broker connections (which, since I've not found a way to configure demandForwardingBridge in the broker XML, I had to hard code by setting the default value of dispatchAsync in DemandForwardingBridge.java), I found that the TaskRunnerFactory from the broker was not being carried through to the Network connections.
I'm not sure if the way I fixed it is fully acceptable or not, however the attached VMTransportFactory.java seems to fix the issue. I changed doCompositeConnect to call setTaskRunnerFactory on the newly created TransportConnector.
The change is against SNAPSHOT 03/14/2006.
When using the action tag and executeResults in a freemarker template on a jsp page the JSPWriter buffer isn't being flushed
I will work up a test case later but when the action tag is used with executeResult=true in a freemarker template on a jsp page the output stream is not being flushed which leads to the output of the action to be rendered in the wrong location. (Not at the location of the tag but actually above the tag, and is highly dependent on the size of the page and the location of the action tag.) For now the work around is to wrap the ww.action tag call with flushes...
In FTL (with the new tag support) it ends up looking like this...
[#flush][@ww.action name=&quot;${actionName}&quot; namespace=&quot;namespace&quot; executeResult=&quot;true&quot; /][#flush]
not pretty. (Not sure if both flushes are needed.)
Generic Support in xwork-tiger.jar does not work
When I invoke my first WebWork action, I see the following message on my console:
Feb 6, 2006 6:08:51 PM com.opensymphony.xwork.util.ObjectTypeDeterminerFactory&lt;clinit&gt;
INFO: Detected GenericsObjectTypeDeterminer, initializing it...
So it looks like xwork-tiger.jar loads just fine. My action now has:
private List&lt;Double&gt; _revenue;
public List&lt;Double&gt; getRevenue()
{
return _revenue;
}
public void setRevenue( List&lt;Double&gt; revenue )
{
_revenue = revenue;
}
But when the action is invoked, _revenue is now a list of Strings (causing a ClassCastException when I try to get a double out of it). 
If I enter:
Element_revenue = java.lang.Double
into my action-conversion.properties file, then everything works just fine.
NullPointerException in WSIFMarshaller.isSimpleType()
There is a logic flaw in WSIFMarshaller.isSimpleType() that causes a NullPointerException for wsdl messages that use complex types. The current logic assumes the existence of a &quot;type&quot; attribute for the &quot;part&quot; element. (e.g. &lt;wsdl:part name=&quot;key&quot; type=&quot;xsd:string&quot;/&gt;). For messages that use complex types, the &quot;element&quot; attribute is used in place of the &quot;type&quot; attribute. (e.g. &lt;wsdl:part name=&quot;key&quot; element=&quot;tns:lookup&quot; /&gt;). The following code results in a NullPointerException for complex types:
QName typeName = part.getTypeName();
return &quot;http://www.w3.org/2001/XMLSchema&quot;.equals(typeName.getNamespaceURI());
I've attached a patch that checks for typeName == null. The resulting code will return false for any case except where &quot;http://www.w3.org/2001/XMLSchema&quot;.equals(typeName.getNamespaceURI().
Axis2 dotNET interoperability problem with abstract types.
I have been getting the following error message connecting C# clients to an Axis2 service:
There is an error in XML document (1, 877). ---&gt; System.InvalidOperationException: The specified type is abstract: name='DeviceID', namespace='http://www.nrs.eskom.co.za/xmlvend/base/2.0/schema', at &lt;clientID xmlns='http://www.nrs.eskom.co.za/xmlvend/base/2.0/schema'&gt;
Following a discussion on the Axis2 user list (titled &quot;Consuming Axis2 webservice with c# client?&quot;, starting on 17/02/06), it was discovered that this was due to an incorrect namespace in the Axis2 message.
The following is the description of the problem that Simon Fell responded with:
&quot;xml schema type attribute is serialized with wrong namespace (should be http://www.w3.org/2001/XMLSchema-instance, is currently not namespace qualified)&quot;
As a test, I recorded the XML response, and editted it so that:
&lt;clientID xmlns=&quot;http://www.nrs.eskom.co.za/xmlvend/base/2.0/schema&quot; type=&quot;GenericDeviceID&quot; id=&quot;12345&quot; /&gt;
became:
&lt;clientID xmlns=&quot;http://www.nrs.eskom.co.za/xmlvend/base/2.0/schema&quot; xsi:type=&quot;GenericDeviceID&quot; id=&quot;12345&quot; /&gt;
(I did this for every occurence of the 'type' attribute.)
The C# client successfully received the response (but the Axis2 client did not).
For testing, the wsdl and xsd files are available from:
http://nrs.eskom.co.za/xmlvend/docs/Specification/November2005/XMLVend20.asp
If someone could give me a vague idea where to look in the source, I would like to get a quick-fix going to get our system running.
Thanks,
Justin
Setting allowed and blocked parameters for ParameterFilterInterceptor is not working as expected
Parameters allowed and blocked have two setters - with string and collection and one getter returns collection
In this cause default setter for this properties is setter accepted collection.
And when I try to parametrize this interceptor using &lt;param name=&quot;blocked&quot;&gt;p1, p2&lt;/param&gt; setter for collections is invoked with collection of one string &quot;p1, p2&quot;.
My proposition: rename (or remove!) setters and getters for parameters allowed and blocked working with collections.
And change function asCollection(String) to calling TextParseUtil.commaDelimitedStringToSet
already contains type 'string;
Gentlemen,
I have a RuntimeException while trying to view the WSDL of a deployed service on axis2 - version 0.94
[java] org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: java.lang.RuntimeException: Schema for namespace 'http://wpm.accelior.com/v2/core/common/i18N/bo' already contains type 'string
[java] org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: java.lang.RuntimeException: Schema for namespace 'http://wpm.accelior.com/v2/core/common/i18N/bo' already contains type 'string
[java] at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:118)
[java] at org.apache.axis2.wsdl.WSDL2Code.main(WSDL2Code.java:31)
[java] at org.apache.axis2.wsdl.WSDL2Java.main(WSDL2Java.java:21)
[java] Caused by: java.lang.RuntimeException: java.lang.RuntimeException: Schema for namespace 'http://wpm.accelior.com/v2/core/common/i18N/bo' already contains type 'string
[java] at org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:152)
[java] at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:80)
[java] ... 2 more
[java] Caused by: java.lang.RuntimeException: Schema for namespace 'http://wpm.accelior.com/v2/core/common/i18N/bo' already contains type 'string
(...)
When I executed WSDL2Java (using ADB) to generate my sources I had the same exception. Following forum posts on that topic, I've seen that it was a known problem that could be solved by using xmlbeans instead of ADB.
So did I but even if the codegen went fine, the exception is now appearing on the server side when trying to view the wsdl...
An I missing something ?
Thanks in advance,
Axel
org.apache.axis2.tool.ant.AntCodegenTask failing on wsdl:types schema import
trying to generate code from wsdl file used sucessfully in axis 1.2.1 My wsdl:types element contains imports of other schemas, such as:
&lt;wsdl:types&gt;
&lt;xs:schema&gt;
&lt;xs:import namespace=&quot;http://www.mycompany.com/types&quot; schemaLocation=&quot;someTypes.xsd&quot;/&gt;
&lt;xs:import namespace=&quot;http://www.mycompany.com/async/types/intf&quot; schemaLocation=&quot;someInterfaces.xsd&quot;/&gt;
&lt;/xs:schema&gt;
&lt;/wsdl:types&gt;
The error i am getting is that it is saying i do not declare a targetNamespace for those. I have double checked the imported files and they do include a targetNamespace attribute and they work in the wsdl2java in axis 1.2.1 without error. 
here is what i get when i execute Ant with the -v option:
...
-wsdl2java:
Property ${dir.temp} has not been set
[codegen] path is C:\dev\cpe-async\ant\${dir.temp}
[codegen] Retrieving document at 'asyncAbstract.wsdl', relative to 'file:/C:/dev/cpe-async/ant/../src/xml/'.
[codegen] Retrieving schema at 'asyncInterfaces.xsd', relative to 'file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl'.
[codegen] Retrieving schema at 'asyncTypes.xsd', relative to 'file:/C:/dev/cpe-async/src/xml/asyncInterfaces.xsd'.
[codegen] Retrieving schema at 'ssml.xsd', relative to 'file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl'.
[antcall] Exiting C:\dev\cpe-async\ant\build-axis2.xml.
[ant] Exiting C:\dev\cpe-async\ant\build-axis2.xml.
BUILD FAILED
C:\dev\cpe-async\ant\build.xml:54: The following error occurred while executing this line:
C:\dev\cpe-async\ant\build-axis2.xml:145: The following error occurred while executing this line:
C:\dev\cpe-async\ant\build-axis2.xml:40: org.apache.axis2.wsdl.codegen.CodeGenerationException: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:539)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:388)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
at org.apache.tools.ant.Main.runBuild(Main.java:673)
at org.apache.tools.ant.Main.startAnt(Main.java:188)
at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: C:\dev\cpe-async\ant\build-axis2.xml:145: The following error occurred while executing this line:
C:\dev\cpe-async\ant\build-axis2.xml:40: org.apache.axis2.wsdl.codegen.CodeGenerationException: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:539)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:388)
at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
... 10 more
Caused by: C:\dev\cpe-async\ant\build-axis2.xml:40: org.apache.axis2.wsdl.codegen.CodeGenerationException: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.tool.ant.AntCodegenTask.execute(AntCodegenTask.java:180)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
... 17 more
Caused by: org.apache.axis2.wsdl.codegen.CodeGenerationException: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:105)
at org.apache.axis2.tool.ant.AntCodegenTask.execute(AntCodegenTask.java:178)
... 23 more
Caused by: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.wsdl.codegen.extension.WSDLValidatorExtension.engage(WSDLValidatorExtension.java:73)
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:76)
... 24 more
--- Nested Exception ---
C:\dev\cpe-async\ant\build-axis2.xml:145: The following error occurred while executing this line:
C:\dev\cpe-async\ant\build-axis2.xml:40: org.apache.axis2.wsdl.codegen.CodeGenerationException: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:539)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:388)
at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
at org.apache.tools.ant.Main.runBuild(Main.java:673)
at org.apache.tools.ant.Main.startAnt(Main.java:188)
at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: C:\dev\cpe-async\ant\build-axis2.xml:40: org.apache.axis2.wsdl.codegen.CodeGenerationException: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.tool.ant.AntCodegenTask.execute(AntCodegenTask.java:180)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
... 17 more
Caused by: org.apache.axis2.wsdl.codegen.CodeGenerationException: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:105)
at org.apache.axis2.tool.ant.AntCodegenTask.execute(AntCodegenTask.java:178)
... 23 more
Caused by: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.wsdl.codegen.extension.WSDLValidatorExtension.engage(WSDLValidatorExtension.java:73)
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:76)
... 24 more
--- Nested Exception ---
C:\dev\cpe-async\ant\build-axis2.xml:40: org.apache.axis2.wsdl.codegen.CodeGenerationException: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.tool.ant.AntCodegenTask.execute(AntCodegenTask.java:180)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
at org.apache.tools.ant.Main.runBuild(Main.java:673)
at org.apache.tools.ant.Main.startAnt(Main.java:188)
at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: org.apache.axis2.wsdl.codegen.CodeGenerationException: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:105)
at org.apache.axis2.tool.ant.AntCodegenTask.execute(AntCodegenTask.java:178)
... 23 more
Caused by: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.wsdl.codegen.extension.WSDLValidatorExtension.engage(WSDLValidatorExtension.java:73)
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:76)
... 24 more
--- Nested Exception ---
org.apache.axis2.wsdl.codegen.CodeGenerationException: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:105)
at org.apache.axis2.tool.ant.AntCodegenTask.execute(AntCodegenTask.java:178)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
at org.apache.tools.ant.Main.runBuild(Main.java:673)
at org.apache.tools.ant.Main.startAnt(Main.java:188)
at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: org.apache.axis2.wsdl.codegen.CodeGenerationException: Invalid WSDL: The WSDL Types Schema does not define a targetNamespace in file:/C:/dev/cpe-async/src/xml/asyncAbstract.wsdl
at org.apache.axis2.wsdl.codegen.extension.WSDLValidatorExtension.engage(WSDLValidatorExtension.java:73)
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:76)
... 24 more
Total time: 1 second
C:\dev\cpe-async\ant&gt;
getOwnerDocument of SOAPHeader returns null
The library does not set the owner document for all parts of the SOAPEnvelope. In my case I run into the owner document being null for the SOAPHeader part.
WSDL2Code stops with confusing exception message
running wsdl2code -uri enterprise.wsdl
stops with this exception 
RuntimeException: Schema for namespace 'urn:enterprise.soap.sforce.com' already contains type 'string
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:118)
at org.apache.axis2.wsdl.WSDL2Code.main(WSDL2Code.java:31)
Caused by: java.lang.RuntimeException: java.lang.RuntimeException: Schema for namespace 'urn:enterprise.soap.sforce.com'
already contains type 'string
at org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:152)
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:80)
... 1 more
Caused by: java.lang.RuntimeException: Schema for namespace 'urn:enterprise.soap.sforce.com' already contains type 'stri
ng
at org.apache.ws.commons.schema.XmlSchema.addType(XmlSchema.java:237)
at org.apache.ws.commons.schema.SchemaBuilder.handleXmlSchemaElement(SchemaBuilder.java:98)
at org.apache.ws.commons.schema.XmlSchemaCollection.read(XmlSchemaCollection.java:233)
at org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:86)
... 2 more
Nothing in the WSDL defines a type called string
Codegeneration has a problem when de-serializing Arrays
I generated code using ADB for the attached Schame and I got the response as attached file , but databing rsponse gives me only one object eventhogh there are more than one object in the reponse. And othere thing is when the response is OMElemenent array databing can not handle that.
Documentation still contains CVS references
http://jakarta.apache.org/cactus/participating/index.html
contains references to CVS, and a broken CVS URL (pointed out by William Ferguson on the dev list).
Patch to update documentation to refer to SVN will follow.
allow minimum split size configurable
The current default split size is the size of a block (32M) and a SequenceFile sets it to be SequenceFile.SYNC_INTERVAL(2K). We currently have a Map/Reduce application working on crawled docuements. Its input data consists of 356 sequence files, each of which is of a size around 30G. A jobtracker takes forever to launch the job because it needs to generate 356*30G/2K map tasks!
The proposed solution is to let the minimum split size configurable so that the programmer can control the number of tasks to generate.
RadioGroup has to render body on rewind
Usage of RadioGroup causes StaleLinkExceptions because of unrewinded components inside its body.
RadioGroup as a form component wrapping around Radio form components has to render its body on rewind.
Solution:
Add in class org.apache.tapestry.form.RadioGroup th method:
protected boolean getRenderBodyOnRewind()
{
return true;
}
SysInfo does not print the right information when Derby is not loaded through the classpath.
There is a section in the SysInfo tool's output titled &quot;Derby Information&quot;, which prints location and version information for the major Derby jars. Here is an example of that output:
--------- Derby Information --------
JRE - JDBC: J2SE 1.4.2 - JDBC 3.0
[/home/bpendleton/src/derby-subversion/trunk/jars/insane/derby.jar] 10.2.0.0 alpha - (315052M)
[/home/bpendleton/src/derby-subversion/trunk/jars/insane/derbytools.jar] 10.2.0.0 alpha - (315052M)
[/home/bpendleton/src/derby-subversion/trunk/jars/insane/derbynet.jar] 10.2.0.0 alpha - (315052M)
[/home/bpendleton/src/derby-subversion/trunk/jars/insane/derbyclient.jar] 10.2.0.0 alpha - (315052M)
[/home/bpendleton/downloads/derby/db2jcc/lib/db2jcc.jar] 2.4 - (17)
[/home/bpendleton/downloads/derby/db2jcc/lib/db2jcc_license_c.jar] 2.4 - (17)
Unfortunately, this tool can be fooled if you arrange for one of these jar files to be loaded from a magic location like $JAVA_HOME/jre/lib/ext.
For example, I had (accidentally) placed an old version of db2jcc.jar into $JAVA_HOME/jre/lib/ext. When I ran SysInfo, it printed out: 
--------- Derby Information --------
JRE - JDBC: J2SE 1.4.2 - JDBC 3.0
[/home/bpendleton/src/derby-subversion/trunk/jars/insane/derby.jar] 10.2.0.0 alpha - (315052M)
[/home/bpendleton/src/derby-subversion/trunk/jars/insane/derbytools.jar] 10.2.0.0 alpha - (315052M)
[/home/bpendleton/src/derby-subversion/trunk/jars/insane/derbynet.jar] 10.2.0.0 alpha - (315052M)
[/home/bpendleton/src/derby-subversion/trunk/jars/insane/derbyclient.jar] 10.2.0.0 alpha - (315052M)
[/home/bpendleton/downloads/derby/db2jcc/lib/db2jcc.jar] 1.0 - (581)
[/home/bpendleton/downloads/derby/db2jcc/lib/db2jcc_license_c.jar] 1.0 - (581)
However, the &quot;1.0 (581)&quot; information actually came from $JAVA_HOME/jre/lib/ext/db2jcc.jar, NOT from
/home/bpendleton/downloads/derby/db2jcc/lib/db2jcc.jar.
It would be nice if SysInfo could detect the difference between a jar file being loaded via the application class loader using $CLASSPATH, and a jar file being loaded via the system class loader using JDK library extensions.
To reproduce the problem, simply:
1) Place an older version of db2jcc.jar into $JAVA_HOME/jre/lib/ext
2) Place a newer version of db2jcc.jar into your $CLASSPATH
3) Run SysInfo. You will see that it prints the name of the jarfile from $CLASSPATH, but the version info from the JDK copy.
German translations missing in o.a.t.valid.ValidatorStrings.properties
The file ValidatorString_de.properties misses some of the newer messages. A completed version is attached
TabBean doesn't implement Serializable
DFSShell.cat returns NullPointerException if file does not exist
DFSShell.cat crashes with a NullPointerException if file to be displayed does not exist.
The bug is fixed in the attached patch, and the general exception handling in main() is added.
make_obcallback not thread protected
In get_interpreter() function of src/mod_python.c the check of whether or not the callback object has been created is not within the bounds of the acquisition of the interpreters lock. As a result, in a multithreaded MPM, although the creation of the interpreter itself is protected so that only one thread will get to create it, multiple threads may decide the need to call make_obcallback().
In the past this hasn't mattered, but now that apache.init() is doing more complicated things, such as caching parameters as global variables and also doing fiddles with the callback object to allow optional use of new module importer, problems can start to arise.
To fix the issue the release of the interpreters lock needs to be moved to the end of the get_interpreter() function.
Template section in user guide: raw=&quot;yes&quot; should be raw=&quot;true&quot;
In this page:
http://jakarta.apache.org/tapestry/UsersGuide/template.html
The following text:
If this is not desired, add the attribute value raw=&quot;yes&quot; to the &lt;span&gt;. 
should read:
If this is not desired, add the attribute value raw=&quot;true&quot; to the &lt;span&gt;. 
MultiplePropertySelection should use Collection rather than List
The MultiiplePropertySelection component would be far more useful if the
selectedList property was a java.util.Collection rather than a java.util.List. 
I've checked the source code and there's no reason that it needs to be a
java.util.List. In fact, I've converted it to use java.util.Collection (and
changed the property to &quot;value&quot; rather than &quot;selectedList&quot; - personal preference
there) and it all works perfectly.
This is important as the most widely used collection in Hibernate is
java.util.Set. In fact, the Hibernate team has explicitly said that they expect
Sets comprising the majority of Hibernate collections in most apps. If I had to
marshall/unmarshal my Sets into Lists every time I used a group of checkboxes...
yikes!
Missing destinationEndpoint and destinationOperation extensibility elements for wsdl support in servicemix-jms component.
When deploying a new SU in sm-jms using a servicemix.xml file, I can specify the destinationService, the destinationEndPoint and the destinationOperation (see bpel example with pxe).
I have not found the way to define the destinationEndPoint and the destinationOperation with the wsdl method.
axis2_om_node_set_first_child does not update links
It shpould update the parent of the passed node
Quartz component will stop sending messages after a certain amount of time
From Pavan Kumar on servicemix-users:
Hi,
I wrote a very simple piece of esb script containing only two components.
The first is the servicemix quartz component which is configured to
run infinitely(ie with repeatInterval = -1). The second one is a servicemix
groovy component which contains a couple of groovy's &quot;println&quot; statements.
After every two mins the quartz component fires the groovy component (ie the groovy script).
The problem is that , after 24-36 hrs the groovy component is not being invoked.
I found that the problem was not with the quartz component ,as I can see the
log file and debug statements on screen from quartz. I am not able to see the
output of the println statements from groovy after 25hrs to 28hrs approximately.
ServiceMix version used : servicemix-2.1-SNAPSHOT
I also tried it running on both windows and linux systems with different system loads.
The duration of successfully invoking the groovy script was varying from 25 hrs to 36 hrs.
I also didn't find any errors or atleast warnings in the debug mode.
Can someone help me in understanding the problem of why the destination groovy
components is being invoked for only around 24 hrs and failing then after.
JPOX regression: after deserializing a detached instance, the instance is transient
With the JPOX SNAPSHOT from 20-Mar-2006, the DetachSerialize test now fails.
[java] Description: Detachment tests with standard mapping, no testdata.
[java] Time: 010
[java] There was 1 failure:
[java] 1) testDetachSerialize(org.apache.jdo.tck.api.persistencemanager.detach.DetachSerialize)junit.framework.AssertionFailedError: 
[java] Assertion A12.6.8 (DetachSerialize) failed: after deserializing cart,
[java] Cart instance should be detached but is not. The object state is: transient {}
[java] Assertion A12.6.8 (DetachSerialize) failed: after deserializing cart,
[java] CartEntry instance should be detached but is not. The object state is: transient {}
[java] Assertion A12.6.8 (DetachSerialize) failed: after deserializing cart,
[java] Product instance should be detached but is not. The object state is: transient {}
[java] 
[java] at org.apache.jdo.tck.JDO_Test.failOnError(JDO_Test.java:1035)
[java] at org.apache.jdo.tck.api.persistencemanager.detach.DetachSerialize.testDetachSerialize(DetachSerialize.java:73)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[java] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[java] at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:232)
[java] at org.apache.jdo.tck.util.BatchTestRunner.doRun(BatchTestRunner.java:105)
[java] at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:143)
[java] at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:118)
[java] FAILURES!!!
Fix broken calender i18n js scripts
As reported here:
http://forums.opensymphony.com/thread.jspa?threadID=23067&amp;messageID=44651
config-browser - can not list interceptors correctly
I am running the showcase example on Tomcat 5 using jdk1.5
I choose the 'date' action. Then I click Interceptors and get this list:
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
InterceptorMapping com.opensymphony.xwork.config.entities.InterceptorMapping
showcase - some issues
Build from CVS and running the showcase example in Tomcat 5.0 using JDK1.5
There are these issues
#1:
CRUD -&gt; Create/edit employee
a) if you do not set a employee id and create you will get an exception
b) if you set a birth day you will get an exception
#2:
Person Manager
Clicking Jasper Reports gets an exception. Is it because of missing .jar?
There are more to come
VelocityPageFilter needs to know about freemarker configuration
Currently, when using the VelocityPageFilter only, the ftl templates are not rendered --&gt; NPE.
Only, when applying the FreeMarkerPageFilter as well for all ftl files, the templates are rendered properly.
The VelocityPageFilter needs to get the FreeMarker config as well, so that there is no more need to add the FreeMarkerPageFilter for the templates only.
MIME attachments using multipart/form-data are not handled
Output directories are not cleaned up before the reduces run
The output directory for the reduces is not cleaned up and therefore if you can see left overs from previous runs, if they had more reduces. For example, if you run the application once with reduces=10 and then rerun with reduces=8, your output directory will have frag00000 to frag00009 with the first 8 fragments from the second run and the last 2 fragments from the first run.
Getting security exception when derbyclient.jar is before derby.jar because classes in iapi.services.info have been added to derbyclient.jar
This security exception can occur if derbyclient.jar is before derby.jar after revision 370815. 
See:
http://www.nabble.com/regression-%21-all-tests-in-jdbcapi-fails-for-me-t1298249.html#a3462544
From Andrew's email:
On 3/17/06, Andreas Korneliussen &lt;Andreas.Korneliussen@sun.com&gt; wrote:
&gt; &lt;/snip a whole bunch of stuff&gt;
&gt;
&gt; Exception: java.lang.SecurityException: sealing violation: can't seal package org.apache.derby.iapi.services.info:
already loaded
See DERBY-848 and DERBY-1046.
iapi.services.info.ProductVersionHolder and friends were added to
derbyclient.jar by David in DERBY-848, specifically with revision
370815.
There are two clear solutions: unseal iapi.services.info or copy the
info classes to a new shared info package.
Several bugs in the javamail spec
'* base64 encoder skip the lasts bytes (up to 3, modulo 4)
* base64 decoder stream does not copy data
* reading a multipart message creates an additional empty part
web.xml is illegal (doesn't confirm to J2EE spec) in the tomcat testcase
The web.xml cannot pass validation due to the element ordering. 
Here's the patch:
Index: sca/tomcat/src/test/resources/app2/WEB-INF/web.xml
===================================================================
--- sca/tomcat/src/test/resources/app2/WEB-INF/web.xml (revision 384134)
+++ sca/tomcat/src/test/resources/app2/WEB-INF/web.xml (working copy)
@@ -7,6 +7,14 @@
&lt;param-name&gt;org.apache.tuscany.core.webapp.ModuleComponentName&lt;/param-name&gt;
&lt;param-value&gt;testContext&lt;/param-value&gt;
&lt;/context-param&gt;
+ &lt;filter&gt;
+ &lt;filter-name&gt;TuscanyFilter&lt;/filter-name&gt;
+ &lt;filter-class&gt;org.apache.tuscany.core.webapp.TuscanyRequestFilter&lt;/filter-class&gt;
+ &lt;/filter&gt;
+ &lt;filter-mapping&gt;
+ &lt;filter-name&gt;TuscanyFilter&lt;/filter-name&gt;
+ &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;
+ &lt;/filter-mapping&gt;
&lt;listener&gt;
&lt;listener-class&gt;org.apache.tuscany.core.webapp.TuscanyServletListener&lt;/listener-class&gt;
&lt;/listener&gt;
@@ -18,12 +26,4 @@
&lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;
&lt;url-pattern&gt;/servlet&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
- &lt;filter&gt;
- &lt;filter-name&gt;TuscanyFilter&lt;/filter-name&gt;
- &lt;filter-class&gt;org.apache.tuscany.core.webapp.TuscanyRequestFilter&lt;/filter-class&gt;
- &lt;/filter&gt;
- &lt;filter-mapping&gt;
- &lt;filter-name&gt;TuscanyFilter&lt;/filter-name&gt;
- &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;
- &lt;/filter-mapping&gt;
&lt;/web-app&gt;
maxInactivityDuration does not seem to work properly
AMQ 4 03/17/2006 SNAPSHOT
Using maxInactivityDuration causes a connection to automatically break after the inactivity duration, even though nothing is wrong with either side of the connection.
Tracing it through, it looks like the KeepAliveInfo command does not require a response. This means that the KeepAlive sent never results in receive activity. So, if both processes are perfectly fine, just not sending any data, the connection breaks due to InactivityMonitor.readCheck.
I've changed KeepAliveInfo.java to return true for isResponseRequired. This seems to fix the problem, from a client perspective, anyway.
However, if this is used for broker-to-broker connections, and you force a problem with one of the brokers (like doing pstop on Solaris), major problems will happen:
1) The broker that is left alone seems to break the connection. But, it continues to attempt to send messages to the failed broker. It was mentioned in the forum at one point you were going to have the broker unregister subscriptions so it would not attempt to send messages to the failed broker. Doesn't seem like this is in place.
2) If you reawaken the pstopped broker, the two brokers never really recover properly. Connections continue to get broken, over and over again.
SearchIndex class contains garbled String
Somehow during the switch to SL4J also a String literal in the SearchIndex class got garbled.
See:
http://svn.apache.org/viewcvs.cgi/incubator/jackrabbit/trunk/jackrabbit/src/main/java/org/apache/jackrabbit/core/query/lucene/SearchIndex.java?rev=385280&amp;r1=378221&amp;r2=385280
Since this is a low risk change I would like to get this included into the 1.0 branch.
A small typo in the installation guide
In the installation guide on how you might create Roller tables in MySQL it says:
UNIX example:
% cd $ROLLER/WEB-INF/dbscripts/mysql
% mysql -u root -p
password: *****
mysql&gt; create database roller;
mysql&gt; grant all on roller.* to scott@'%' identified by 'tiger';
mysql&gt; grant all on roller.* to scott@localhost identified by 'tiger';
mysql&gt; use roller;
mysql&gt; source createdb.sql
mysql&gt; quit
Windows example:
C&gt; cd %ROLLER%\dbscripts\mysql
C&gt; mysql -u root -p
password: *****
mysql&gt; create database roller;
mysql&gt; grant all on roller.* to scott@'%' identified by 'tiger';
mysql&gt; grant all on roller.* to scott@'localhost' identified by 'tiger';
mysql&gt; use roller;
mysql&gt; source createdb.sql
mysql&gt; quit
The unix version is correct. But the windows version is incorrect. The line C&gt; cd %ROLLER%\dbscripts\mysql should say C&gt; cd %ROLLER%\WEB-INF\dbscripts\mysql because the %ROLLER% only points to where you actually installed Roller. 
I hope I am not totally wrong here :)
Double Conversion Problem
see http://forums.opensymphony.com/thread.jspa?threadID=23221&amp;tstart=0
labelposition for checkbox-tag does nothing
I've tried labelposition=&quot;left&quot;, labelposition=&quot;top&quot; and the depricated labelPosition=&quot;left&quot;, labelPosition=&quot;top&quot; but neither affects my code. Label is always shown to the right fr a chackbox-tag.
acceptableErrorValue should return null
Currently there is no way to know if a user entered the default value for an object (as defined in acceptableErrorValue) or if he didn't supply any value.
If the user doesn't supply a value, the object should be left null and no tinitialized to a default value.
simple_axis_server and AdminClient doesn't have execute permission
After unbundling the binaries, for starting AdminClient or simple_axis_server, first I need to give execute permission . By default simple_axis_server and AdminClient doesn't have execute permission.
Null pointer exception in org.apache.myfaces.shared_tomahawk.renderkit.html.HtmlRendererUtils.selectContentType
I am getting a null pointer excetion in org.apache.myfaces.shared_tomahawk.renderkit.html.HtmlRendererUtils.selectContentType.
The problemis my browser(Mozilla) do not send a accept header, abd the clas tryin to get it.
infinite retries accessing a missing block
A file in the DFS got corrupted - the reason for that is unknown, but might be justified.
when accessing the file, I get an infinite stream of error messages from the client - attached below.
The client aparently increments an error counter, but never checks it.
Correct behaviour is for the client to retry a few times, then abort.
060315 105436 No node available for block blk_2690692619196463439
060315 105436 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105446 No node available for block blk_2690692619196463439
060315 105446 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105456 No node available for block blk_2690692619196463439
060315 105456 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105506 No node available for block blk_2690692619196463439
060315 105506 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105516 No node available for block blk_2690692619196463439
060315 105516 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105526 No node available for block blk_2690692619196463439
060315 105526 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105536 No node available for block blk_2690692619196463439
060315 105536 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105546 No node available for block blk_2690692619196463439
060315 105546 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105556 No node available for block blk_2690692619196463439
060315 105556 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105606 No node available for block blk_2690692619196463439
060315 105606 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105616 No node available for block blk_2690692619196463439
060315 105616 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105626 No node available for block blk_2690692619196463439
060315 105626 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105636 No node available for block blk_2690692619196463439
060315 105636 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105646 No node available for block blk_2690692619196463439
060315 105646 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105657 No node available for block blk_2690692619196463439
060315 105657 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105707 No node available for block blk_2690692619196463439
060315 105707 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105717 No node available for block blk_2690692619196463439
060315 105717 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105727 No node available for block blk_2690692619196463439
060315 105727 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105737 No node available for block blk_2690692619196463439
060315 105737 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105747 No node available for block blk_2690692619196463439
060315 105747 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105757 No node available for block blk_2690692619196463439
060315 105757 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105807 No node available for block blk_2690692619196463439
060315 105807 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105817 No node available for block blk_2690692619196463439
mapred input and output dirs must be absolute
DFS converts relative pathnames to be under /user/$USER. But MapReduce jobs may be submitted by a different user than is running the jobtracker and tasktracker. Thus relative paths must be resolved before a job is submitted, so that only absolute paths are seen on the job tracker and tasktracker. I think the simplest way to fix this is to make JobConf.setInputDir(), setOutputDir(), etc. resolve relative pathnames.
Fix for test failures in container.java
Fixes all the contextClassLoader issues in the unit tests for container.java. Makes sure the the tearDown methods properly reset the contextClassLoader to the original values.
The JobTracker's count of the number of running maps and reduces is wrong
When a heatbeat comes in from a task tracker, the job tracker just adds the number of currently running maps and reduces. The jobs from the previous heartbear are never subtracted. This causes the scheduling to misjudge the &quot;loading&quot; levels of the task trackers.
ClassCastException using panelTabbedPane in nightly build
Hello,
When using 
serverSideTabSwitch=&quot;true&quot;
I get the following ClassCastException:
java.lang.ClassCastException
at org.apache.myfaces.custom.tabbedpane.HtmlPanelTabbedPane.isClientSide(HtmlPanelTabbedPane.java:142)
at org.apache.myfaces.custom.tabbedpane.HtmlTabbedPaneRenderer.encodeEnd(HtmlTabbedPaneRenderer.java:92)
at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:536)
at org.apache.myfaces.shared_impl.renderkit.RendererUtils.renderChild(RendererUtils.java:442)
at org.apache.myfaces.shared_impl.renderkit.RendererUtils.renderChildren(RendererUtils.java:419)
at org.apache.myfaces.shared_impl.renderkit.html.HtmlGroupRendererBase.encodeEnd(HtmlGroupRendererBase.java:75)
at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:536)
at org.apache.myfaces.shared_impl.renderkit.RendererUtils.renderChild(RendererUtils.java:442)
at org.apache.myfaces.shared_impl.renderkit.html.HtmlGridRendererBase.renderChildren(HtmlGridRendererBase.java:216)
...
Looking at the code of HtmlPanelTabbedPane it seems to me that they try to cast a String- into a Boolean-object, which causes the exception:
public boolean isClientSide(){
Boolean serverSideTabSwitch = (Boolean)getAttributes().get(&quot;serverSideTabSwitch&quot;);
return serverSideTabSwitch != null ? !serverSideTabSwitch.booleanValue() : true;
}
Regards,
Roland Schaal
Compilation error in DAS companyweb sample
Package declaration in class, CompanyClient.java doesn't match the actual package structure, which results in compilation error.
Declared package in the class -&gt; org.apache.tuscany.samples.das.companyweb
Actual package structure - &gt; org.apache.tuscany.samples.companyweb
Solution - &gt; Fix the package declaration in this class to org.apache.tuscany.samples.companyweb;
[PATCH] FAQ - Standalone Document from Command Line
[clay@Clays-PB trunk]$ svn diff
Index: site-author/content/xdocs/docs_0_80/faq.xml
===================================================================
--- site-author/content/xdocs/docs_0_80/faq.xml (revision 387265)
+++ site-author/content/xdocs/docs_0_80/faq.xml (working copy)
@@ -111,15 +111,36 @@
you want. Forrest will build that page, then of course
it will keep crawling links from there. It might be
confined to a sub-directory, but depending on links
- could end up generating the whole site.
+ could end up generating the whole site. The main
+ thing is that your page of interest is built first.
&lt;/p&gt;
+ &lt;note&gt;
+ You can make this change &lt;strong&gt;temporarily&lt;/strong&gt;
+ by running Forrest from the Command Line Interface
+ (CLI) as follows:&lt;br /&gt;&lt;br /&gt;
+ &lt;source&gt;
+ forrest -Dproject.start-uri=index.html
+ &lt;/source&gt;
+ &lt;/note&gt;
+ 
&lt;p&gt;
- The main thing is that your page of interest is built first.
You can terminate forrest with 'kill' or Ctrl-C after it
- has built your pages of interest.
+ has built your page(s) of interest.
&lt;/p&gt;
+ &lt;warning&gt;If you use this method, be &lt;strong&gt;very&lt;/strong&gt; careful,
+ as it is a very early stage development. It does not guarantee a
+ completely built site, it only saves the page you are viewing.
+ This is fine if the skin, &lt;code&gt;site.xml&lt;/code&gt; and
+ &lt;code&gt;tabs.xml&lt;/code&gt; remain unchanged (&lt;em&gt;i.e.&lt;/em&gt;, only the
+ body has changed), but if any of those files have changed you
+ will need to do a full forrest site.&lt;br /&gt;&lt;br /&gt;
+
+ This is a really important new feature and we really need help
+ developing it.
+ &lt;/warning&gt;
+
&lt;p&gt;
Cocoon can be instructed via the
&lt;link href=&quot;#cli-xconf&quot;&gt;Cocoon cli.xconf&lt;/link&gt; file to not
X509CertSelector.match throws ArrayIndexOutOfBoundsException when checks keyUsage criterion
According to the spec. of X509Certificate and X509CertSelector classes KeyUsage extension is represented by array of boolean values.
But the spec. doesn't specify any restrictions on the array so instances of X509Certificate and X509CertSelector classes may have arrays of different length to be matched. If a certificate's array is longer then a selector's array then invocation of method X509CertSelector.match(java.security.cert.Certificate) throws ArrayIndexOutOfBoundsException.
TemporaryRowHolderResultSet is breaking the contract of getActivation
TemporaryRowHolderResultSet is breaking the contract of
getActivation() by returning null in insane builds and raising an
exception in sane builds. There is no comment saying why it does not
honour its contract. This might be a bug.
click.xml Page class validation doesn't support pages package attribute
The validation of Page classes in page elements does not support the inherited package attribute of the pages element.
regards Malcolm Edgar
In AIX AxisAdminClient fails to start
When trying to start AxisAdminClient in AIX, following error is thrown
exec(): 0509-036 Cannot load program ./AxisAdminClient because of the following errors:
0509-151 The program does not have an entry point or
the o_snentry field in the auxiliary header is invalid.
0509-194 Examine file headers with the 'dump -ohv' command.
Build problems caused by CBinding generation
We have recently been seeing a number of problems on the mailing list with problems building the CBindings, due to he generation tool attempting to instrument the Apache 1.3 and 2.0 header files.
Apache header files included with source and binary packages
The source and binary packages incorrectly contain the Apache 1.3 and Apache 2.0 header files.
Samples setup is wrong on website
I have been told the directions here don't work any more:
http://incubator.apache.org/tuscany/samples/java/readme.htm
I have not had a chance to try them yet but didn't want to lose the issue
Fostore20 doesn't compile with latest changes to api20
java:compile:
[echo] Compiling to g:\olsen\jdo\apache_clean\jdo\trunk\fostore20/target/cla
sses
[javac] Compiling 100 source files to G:\olsen\jdo\apache_clean\jdo\trunk\fo
store20\target\classes
G:\olsen\jdo\apache_clean\jdo\trunk\fostore20\src\java\org\apache\jdo\impl\fosto
re\FOStorePM.java:35: org.apache.jdo.impl.fostore.FOStorePM is not abstract and
does not override abstract method makeTransientAll(java.util.Collection,boolean)
in javax.jdo.PersistenceManager
public class FOStorePM extends PersistenceManagerImpl
^
Note: G:\olsen\jdo\apache_clean\jdo\trunk\fostore20\src\java\org\apache\jdo\impl
\fostore\FOStoreInput.java uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
1 error
BUILD FAILED
DAS CommandGroup needs to provide a &quot;dispose&quot; API
When the CommandGroup is retrieving connection instances on behalf of a client it must provide a &quot;dispose&quot; API. The DAS will close the reteived connection so it can be returned to the pool. Should probably also clean up on &quot;finalize()&quot;.
DatabaseMetaData.getTablePrivileges fails in soft upgrade mode
The stack trace for failure is:
SQLSTATE(42X05):ERROR 42X05: Table 'SYS.SYSTABLEPERMS' does not exist.
at org.apache.derby.iapi.error.StandardException.newException(StandardException.java:311)
at org.apache.derby.impl.sql.compile.FromBaseTable.bindTableDescriptor(FromBaseTable.java:2382)
at org.apache.derby.impl.sql.compile.FromBaseTable.bindNonVTITables(FromBaseTable.java:2120)
at org.apache.derby.impl.sql.compile.FromList.bindTables(FromList.java:303)
at org.apache.derby.impl.sql.compile.SelectNode.bindNonVTITables(SelectNode.java:472)
at org.apache.derby.impl.sql.compile.DMLStatementNode.bindTables(DMLStatementNode.java:220)
at org.apache.derby.impl.sql.compile.DMLStatementNode.bind(DMLStatementNode.java:158)
at org.apache.derby.impl.sql.compile.CursorNode.bind(CursorNode.java:252)
at org.apache.derby.impl.sql.GenericStatement.prepMinion(GenericStatement.java:344)
at org.apache.derby.impl.sql.GenericStatement.prepare(GenericStatement.java:118)
at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(GenericLanguageConnectionContext.java:725)
at org.apache.derby.impl.jdbc.EmbedPreparedStatement.&lt;init&gt;(EmbedPreparedStatement.java:118)
at org.apache.derby.impl.jdbc.EmbedPreparedStatement20.&lt;init&gt;(EmbedPreparedStatement20.java:82)
at org.apache.derby.impl.jdbc.EmbedPreparedStatement30.&lt;init&gt;(EmbedPreparedStatement30.java:62)
at org.apache.derby.jdbc.Driver30.newEmbedPreparedStatement(Driver30.java:92)
at org.apache.derby.impl.jdbc.EmbedConnection.prepareMetaDataStatement(EmbedConnection.java:1645)
at org.apache.derby.impl.jdbc.EmbedDatabaseMetaData.getPreparedQuery(EmbedDatabaseMetaData.java:3172)
at org.apache.derby.impl.jdbc.EmbedDatabaseMetaData.getTablePrivileges(EmbedDatabaseMetaData.java:1841)
at org.apache.derbyTesting.functionTests.tests.jdbcapi.metadata.getMetaDataRS(metadata.java:116)
at org.apache.derbyTesting.functionTests.tests.jdbcapi.metadata_test.runTest(metadata_test.java:764)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at org.apache.derbyTesting.upgradeTests.UpgradeTester.runMetadataTest(UpgradeTester.java:388)
at org.apache.derbyTesting.upgradeTests.UpgradeTester.runPhase(UpgradeTester.java:218)
at org.apache.derbyTesting.upgradeTests.UpgradeTester.runUpgradeTests(UpgradeTester.java:192)
at org.apache.derbyTesting.upgradeTests.UpgradeTester.main(UpgradeTester.java:521)
I got this exception when I ran the metadata test after soft upgrade from 10.1 to 10.2 codeline. I ran the metadata test by commenting out the call to getColumnPrivileges which has a similar problem reported in DERBY-1120.
netui leaks PageFlowContext object attached to ThreadLocal
In the PageFlowRequestProcessor and PageFlowPageFilter, a NetUI ThreadLocal of type PageFlowContext is attached to the thread, but since it's never unattached, it's leaked into the thread pool. In Tomcat where threads are generally servicing web related requests (NetUI ones where there's only one webapp deployed), this doesn't surface as an issue. 
But, in a broader container, this reference holds onto aServletRequest, ServletResponse, and ServletContext object which can cause problems when a server handles broader requests over a longer period of time.
Seems that there are two options:
1) removing the PageFlowContext from the thread local entirely
2) removing the PageFlowContext from the thread local at the end of the servlet / filter
I'm leaning toward (1) because the thread local is only used inside of the simple tags that were added in October but haven't really shipped yet.
Incompatible/Duplicate excalibur-cli-1.0.jar library in classpath
We have to different excalibur-1.0.jar files in our classpath: phoenix-bin/lib/excalibur-1.0.jar and phoenix-bin/bin/lib/excalibur-1.0.jar
The correct one seems to be the /bin/lib version.
SSL not working in James 2.3.0a1
I'm currently running James 2.2.0 with pop3-tls and smtp-tls.
Everything works great and I'm very happy with it.
I've tried to install the James 2.3.0a1 snapshot. Everything ok until I try to enable
the ssl-configuration.
I enable ssl as described at: http://wiki.apache.org/james/UsingSSL
When I use:
---
&lt;factory name=&quot;ssl&quot;
class=&quot;org.apache.avalon.cornerstone.blocks.sockets.TLSServerSocketFactory&quot;&gt;
&lt;ssl-factory&gt;
&lt;keystore&gt;
&lt;file&gt;conf/keystore&lt;/file&gt;
&lt;password&gt;secret&lt;/password&gt;
&lt;key-password&gt;keysecret&lt;/key-password&gt;
&lt;type&gt;JKS&lt;/type&gt;
&lt;protocol&gt;TLS&lt;/protocol&gt;
&lt;algorithm&gt;SunX509&lt;/algorithm&gt;
&lt;authenticate-client&gt;false&lt;/authenticate-client&gt;
&lt;/keystore&gt;
&lt;/ssl-factory&gt;
&lt;/factory&gt;
---
- I get &quot;element &quot;ssl-factory&quot; was found where no element may occur&quot; In Phoenix log (along with a lot of related errors (see below)).
When I use:
---
&lt;factory name=&quot;ssl&quot;
class=&quot;org.apache.avalon.cornerstone.blocks.sockets.TLSServerSocketFactory&quot;&gt;
&lt;keystore&gt;
&lt;file&gt;conf/keystore&lt;/file&gt;
&lt;password&gt;secret&lt;/password&gt;
&lt;type&gt;JKS&lt;/type&gt;
&lt;protocol&gt;TLS&lt;/protocol&gt;
&lt;algorithm&gt;SunX509&lt;/algorithm&gt;
&lt;authenticate-client&gt;false&lt;/authenticate-client&gt;
&lt;/keystore&gt;
&lt;/factory&gt;
---
(the old model?) I get the same error but with &quot;element &quot;keystore&quot; was found...
Anyone out there with a working ssl-config for 2.3.0a1?
Please find attached phoenix.log and stack trace from cli starup.
AddFooter mailet throw UnsupportedEncodingException
AddFooter throws an UnsupportedEncodingException .. After that the email get passed to the error processor. This should be catched and just not add the fooder.
Crawl crashes with java.io.IOException: already exists: C:\nutch\crawl.intranet\oct18\db\webdb.new\pagesByURL
I started a crawl using the command line using nutch 0.7.1.
nutch-daemon.sh start crawl urls.txt -dir oct18 -threads 4 -depth 20
After crawling for over 15 hours the crawl crached with the following exception:
051019 050543 status: segment 20051019050438, 30 pages, 0 errors, 1589818 bytes, 48020 ms
051019 050543 status: 0.6247397 pages/s, 258.65167 kb/s, 52993.934 bytes/page
051019 050544 Updating C:\nutch\crawl.intranet\oct18\db
051019 050544 Updating for C:\nutch\crawl.intranet\oct18\segments\20051019050438
051019 050544 Processing document 0
051019 050544 Finishing update
051019 050544 Processing pagesByURL: Sorted 47 instructions in 0.02 seconds.
051019 050544 Processing pagesByURL: Sorted 2350.0 instructions/second
Exception in thread &quot;main&quot; java.io.IOException: already exists: C:\nutch\crawl.intranet\oct18\db\webdb.new\pagesByURL
at org.apache.nutch.io.MapFile$Writer.&lt;init&gt;(MapFile.java:86)
at org.apache.nutch.db.WebDBWriter$CloseProcessor.closeDown(WebDBWriter.java:549)
at org.apache.nutch.db.WebDBWriter.close(WebDBWriter.java:1544)
at org.apache.nutch.tools.UpdateDatabaseTool.close(UpdateDatabaseTool.java:321)
at org.apache.nutch.tools.UpdateDatabaseTool.main(UpdateDatabaseTool.java:371)
at org.apache.nutch.tools.CrawlTool.main(CrawlTool.java:141)
This was on the 14th segement from the requested depth of 20. Doing a quick Google on the exception brings up a few previous posts with the same error but no definitive answer, seems to have been occuring since nutch 0.6.
[XLC++ 8.0/Linux] ar error on -X64 flag
The library fails to build in wide (64-bit) mode with IBM XLC++ 8.0 on Linux with the following error:
make: Entering directory `/build/sebor/xlc-8.0-15S/lib'
xlc_r -I/amd/devco/sebor/dev/stdlib/include/ansi -D_RWSTDDEBUG -D_RWSTD_USE_CONFIG -I/build/sebor/xlc-8.0-15S/include -I/amd/devco/sebor/dev/stdlib/include -F/package/1/ppc64/compilers/ibm/va80/vac.cfg -I/amd/devco/sebor/dev/stdlib/include/ansi -D_RWSTDDEBUG -D_RWSTD_USE_CONFIG -q64 -qtemplateregistry=repository.ti -q64 -qmkshrobj assert.o atomic.o bitset.o catalog.o codecvt.o collate.o ctype.o ctype_bits.o exception.o export.o facet.o file.o instance.o ios.o ios_bits.o iostore.o iostream.o iso2022.o limits.o limits_bits.o locale_bits.o locale_body.o locale_classic.o locale_combine.o locale_core.o locale_eq.o locale_global.o locale_name.o memattr.o memory.o messages.o num_get.o num_put.o punct.o random.o setlocale.o string.o strstream.o strtol.o ti_collate.o ti_filebuf.o ti_insert_dbl.o ti_insert_int.o ti_insert_ptr.o ti_ios.o ti_istream.o ti_messages.o ti_money_get.o ti_money_put.o ti_moneypunct.o ti_num_get.o ti_num_put.o ti_numpunct.o ti_ostream.o ti_streambuf.o ti_string.o ti_stringbuf.o ti_time_get.o ti_time_put.o ti_wcollate.o ti_wfilebuf.o ti_winsert_dbl.o ti_winsert_int.o ti_winsert_ptr.o ti_wios.o ti_wistream.o ti_wmessages.o ti_wmoney_get.o ti_wmoney_put.o ti_wmoneypunct.o ti_wnum_get.o ti_wnum_put.o ti_wnumpunct.o ti_wostream.o ti_wstreambuf.o ti_wstring.o ti_wstringbuf.o ti_wtime_get.o ti_wtime_put.o time_get.o time_put.o tmpbuf.o typeinfo.o valarray.o vecbool.o version.o wcodecvt.o wctype.o 
/usr/bin/ld: exception.o(.debug_info+0xcf44): R_PPC64_ADDR64 used with TLS symbol __rw_what_refcnt
/usr/bin/ld: exception.o(.debug_info+0xcf6b): R_PPC64_ADDR64 used with TLS symbol __rw_what_buf
/usr/bin/ld: random.o(.debug_info+0xdd1): R_PPC64_ADDR64 used with TLS symbol __rw_table
/usr/bin/ld: random.o(.debug_info+0xdf2): R_PPC64_ADDR64 used with TLS symbol __rw_inx
/usr/bin/ld: tmpbuf.o(.debug_info+0xf6a): R_PPC64_ADDR64 used with TLS symbol __rw_buffer
/usr/bin/ld: tmpbuf.o(.debug_info+0xf8c): R_PPC64_ADDR64 used with TLS symbol __rw_buffer_busy
ar -rv -X64 libstd15S.a assert.o atomic.o bitset.o catalog.o codecvt.o collate.o ctype.o ctype_bits.o exception.o export.o facet.o file.o instance.o ios.o ios_bits.o iostore.o iostream.o iso2022.o limits.o limits_bits.o locale_bits.o locale_body.o locale_classic.o locale_combine.o locale_core.o locale_eq.o locale_global.o locale_name.o memattr.o memory.o messages.o num_get.o num_put.o punct.o random.o setlocale.o string.o strstream.o strtol.o ti_collate.o ti_filebuf.o ti_insert_dbl.o ti_insert_int.o ti_insert_ptr.o ti_ios.o ti_istream.o ti_messages.o ti_money_get.o ti_money_put.o ti_moneypunct.o ti_num_get.o ti_num_put.o ti_numpunct.o ti_ostream.o ti_streambuf.o ti_string.o ti_stringbuf.o ti_time_get.o ti_time_put.o ti_wcollate.o ti_wfilebuf.o ti_winsert_dbl.o ti_winsert_int.o ti_winsert_ptr.o ti_wios.o ti_wistream.o ti_wmessages.o ti_wmoney_get.o ti_wmoney_put.o ti_wmoneypunct.o ti_wnum_get.o ti_wnum_put.o ti_wnumpunct.o ti_wostream.o ti_wstreambuf.o ti_wstring.o ti_wstringbuf.o ti_wtime_get.o ti_wtime_put.o time_get.o time_put.o tmpbuf.o typeinfo.o valarray.o vecbool.o version.o wcodecvt.o wctype.o 
ar: illegal option -- X
Usage: ar [emulation options] [-]{dmpqrstx}[abcfilNoPsSuvV] [member-name] [count] archive-file file...
ar -M [&lt;mri-script]
commands:
d - delete file(s) from the archive
m[ab] - move file(s) in the archive
p - print file(s) found in the archive
q[f] - quick append file(s) to the archive
r[ab][f][u] - replace existing or insert new file(s) into the archive
t - display contents of archive
x[o] - extract file(s) from the archive
command specific modifiers:
[a] - put file(s) after [member-name]
[b] - put file(s) before [member-name] (same as [i])
[N] - use instance [count] of name
[f] - truncate inserted file names
[P] - use full path names when matching
[o] - preserve original dates
[u] - only replace files that are newer than current archive contents
generic modifiers:
[c] - do not warn if the library had to be created
[s] - create an archive index (cf. ranlib)
[S] - do not build a symbol table
[v] - be verbose
[V] - display the version number
emulation options: 
No emulation specific options
ar: supported targets: elf32-powerpc aixcoff-rs6000 elf32-powerpcle ppcboot elf32-little elf32-big elf64-powerpc elf64-powerpcle aixcoff64-rs6000 elf64-little elf64-big srec symbolsrec tekhex binary ihex
make: *** [/build/sebor/xlc-8.0-15S/lib/libstd15S.a] Error 1
make: Leaving directory `/build/sebor/xlc-8.0-15S/lib'
NPE on getAnnotation() for not present in schema datatype
Run the following code:
String content = &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&quot; +
&quot;&lt;xs:schema xmlns:xs=\&quot;http://www.w3.org/2001/XMLSchema\&quot; targetNamespace='ns'&gt;\n&quot; +
&quot; &lt;xs:element name=\&quot;personnel\&quot;/&gt;\n&quot; +
&quot;&lt;/xs:schema&gt;&quot;;
XsModelCreator creator = new XsModelCreator();
SymbolTable symbolTable = new SymbolTable();
InputSource src = new InputSource(new StringReader(content));
src.setSystemId(&quot;fake&quot;);
// Preparser setup.
XMLGrammarPreparser preparser = new XMLGrammarPreparser(symbolTable);
preparser.registerPreparser(XMLGrammarDescription.XML_SCHEMA, null); // Selects the grammar pool.
XMLGrammarPool grammarPool= new XMLGrammarPoolImpl();
preparser.setGrammarPool(grammarPool);
preparser.preparseGrammar(XMLGrammarDescription.XML_SCHEMA, new XMLInputSource(
src.getPublicId(),
src.getSystemId(),
null,
src.getCharacterStream(),
src.getEncoding()));
XSModel xsModel = creator.newXSModel(grammarPool); 
XSElementDeclaration elemDecl = xsModel.getElementDeclaration(&quot;personnel&quot;, &quot;ns&quot;);
XSComplexTypeDefinition typeDefinition = (XSComplexTypeDefinition) elemDecl.getTypeDefinition();
XSWildcard attributeWildCard = typeDefinition.getAttributeWildcard();
attributeWildCard.getAnnotation();//This should throw the NPE.
As you can see, the personnel element has no associated data typed but it is mapped by default to anyType in the Xerces structure.
This NPE also happens when getAnnotation() is called for nodes of types XSElementDeclaration, XSWildcard, XSModelGroup which do not actually appear in the schema (they can be obtained by exploring the XSComplexTypeDefinition of the anyType).
JPOX fails some lifecycle tests
The integration of fixes for JDO-273 and JDO-258 has added (and fixed) a number of lifecycle test cases that are
failed by JPOX. See attached error messages.
PythonDebug exception error page doesn't escape special HTML characters.
When an exception occurs in a handler and PythonDebug is On, an error page is generated and returned to the client. The traceback and details of the exception will be output within a &lt;pre&gt;&lt;/pre&gt; section, however the content put in the section is included as is and no escaping is performed on special HTML characters. This means that if the details of the exception include any special HTML characters, it can stuff up the formatting of the page and/or information could on face value be lost.
For example the new importer will generate a specific exception where the response from a handler is not of the correct type.
AssertionError: Handler has returned result or raised SERVER_RETURN
exception with argument having non integer type. Type of value returned
was &lt;type 'module'&gt;, whereas expected &lt;type 'int'&gt;.
Because this includes &lt;&gt; characters, it actuall displays in the resultant HTML page as:
AssertionError: Handler has returned result or raised SERVER_RETURN
exception with argument having non integer type. Type of value returned
was , whereas expected .
The error reporter therefore should pass content through cgi.escape().
Running James as an NT service
When trying to launch the service (installed with the supplyed wrapper), the wrapper throws an exception:
STATUS | wrapper | 2006/03/23 12:52:59 | Launching a JVM...
INFO | jvm 1 | 2006/03/23 12:52:59 | java.lang.NoClassDefFoundError: org/tanukisoftware/wrapper/WrapperListener
Incorrect assertion id number in org.apache.jdo.tck.api.persistencemanager.fetchplan.FetchPlanInterface
In org.apache.jdo.tck.api.persistencemanager.fetchplan.FetchPlanInterface
*&lt;B&gt;Assertion IDs:&lt;/B&gt; 12.7.5-1
and
private static final String ASSERTION_FAILED =
&quot;Assertion 12.7.5-1 (FetchPlanTest) failed: &quot;;
should refer to assertion id 12.7.1-1 to be consistent with the spec and spreadsheet, even though the id is in section 12.7.5.
Assertion Description does not match ASSERTION_FAILED String in lifecycle.NontransactionalWriteThrows.java
'*&lt;B&gt;Assertion Description: &lt;/B&gt;
A5.6.2-4 [If a datastore transaction is begun, commit will write 
the changes to the datastore with no checking as to 
the current state of the instances in the datastore. 
That is, the changes made outside the transaction 
together with any changes made inside the transaction 
will overwrite the current state of the datastore.] 
A5.6.2-6 [If a datastore transaction is begun, rollback will not write 
any changes to the datastore.] 
A5.6.2-8 [If an optimistic transaction is begun, commit will write 
the changes to the datastore after checking as to the current state 
of the instances in the datastore. The changes made outside 
the transaction together with any changes made inside the transaction 
will update the current state of the datastore if the version 
checking is successful.] 
A5.6.2-10 [If an optimistic transaction is begun, rollback will not write 
any changes to the datastore. The persistent-nontransactional-dirty 
instances will transition according to the RestoreValues flag. ] 
*/
public class NontransactionalWriteThrows extends NontransactionalWriteTest {
/** */
protected static final String ASSERTION_FAILED = 
&quot;Assertion A5.6.2 (NontransactionalWriteThrows) failed: &quot;;
UIViewRoot.getRenderKitId() does not return null
This started in bugzilla http://issues.apache.org/bugzilla/show_bug.cgi?id=38294 .
MyFaces impl is following the 1.0 behavior, not the 1.1 behavior.
http://java.sun.com/javaee/javaserverfaces/1.1/docs/api/javax/faces/component/UIViewRoot.html#getRenderKitId()
http://java.sun.com/javaee/javaserverfaces/1.0/docs/api/javax/faces/component/UIViewRoot.html#getRenderKitId()
This is a little more complex than just making the method return null. Doing so breaks more than half the tests.
I would appreciate it if anyone knew how to find out if this is affected by TCK.
Deprecated method o.a.c.environment.Environment.getOutputStream() still used internally
class o.a.c.environment.wrapper.EnvironmentWrapper deprecated the parameterless getOutputStream, but still uses it internally, resulting in deprecation log spam.
I made a patch, and then when I checked to see if 2.2-dev is affected I saw that it has been fixed there. Here's the patch for 2.1.9-dev anyway.
ClassCastException when jaasAuthenticationPlugin is used with broker networks
Reported at:
http://www.nabble.com/jaas-t1335403.html#a3568111
Temp Destination definition not sent across network bridge to support request/reply model?
Goal was to test request/response model across a network bridge. The requestor sets up a temporary topic and includes as the reply topic with message sent to the responder. It is expected that the responder will send message on the provide replyTo topic.
Using the multicast://default discovery mechanism and networkConnector transport to interconnect two brokers (different hosts harley to roadrash). Responder client attaches to harley and requestor client attaches to roadrash. 
Requestor client creates temporary topic, sends message.
Responder receives message attempt to reply on the temporary topic, but errors with message indicating cannot publish to deleted topic
The project.xml generated by the jbi:createArchetype goal is invalid
The content of the facet &quot;detailStamp&quot; in t:datatable is not decoded/validated/updated
The content of the facet &quot;detailStamp&quot; inside a t:dataTable is not correctly decoded. In fact, decoding this facet as a normal facet (which is done inside UIData.processColumnFacets) does not accomplish the job correctly.
A detail is associated to every row, so it must be decoded, validated and updated for every single row. The method UIData.processColumnFacets is called only once and (more important) when it's called the rowIndex is -1, so the current value of the &quot;var&quot; attribute can't be evaluated. 
In other words, the decoding, validating and updating of the detail must be extecuted inside the context of the current row. 
The saving/restoring logic is also missing and it must be added in the setRowIndex method.
A patch is supplied which solve the problem. 
The patch also contains an example for the &quot;myfaces-example-simple&quot; web project.
Reverse engineer does not load target FKs on partial import
Using most combonations of JDBC driver and Postgres 7.4.x/8.x, CayenneModeler does not successfully import some FK relationships. This problem appears to happen more frequently when reverse engineering an existing database.
This is probably a bug in the Postgres JDBC driver, but probably can be addressed by a workaround in Cayenne.
ADONetAppender.ActivateOptions() leaks database connection when called multiple times
ADONetAppender.ActivateOptions() calls InitializeDatabaseConnection. This method does not check if the m_dbConnection is already initialised. If it is initialise then it will beleaked.
Update InitializeDatabaseConnection to check and close the connection if not null.
JavaScript components don't work with default properties
JavaScript components don't work with default properties defined in the .componentType side file, properties only work if the SCA component sets a value for the property.
See the commentted out testcase: http://svn.apache.org/repos/asf/incubator/tuscany/java/samples/JavaScript/sample2/src/test/java/sample/Sample2TestCase.java
javax.naming.NameClassPair lacks two Java 5.0 methods
javax.naming.NameClassPair lacks implementation for two Java 5.0 methods:
String getNameInNamespace()
void setNameInNamespace(String)
Also specification for both constructors and the setName(String) method states that name parameter must be non-null. The current implementation lacks checking of this fact.
The attached simple patch provides fixes for both issues.
CoreDll.dll referenced with different capitalisation
The CoreDll.dll is referenced as both CoreDll.dll and coredll.dll. This has no effect on functionality but we should be consistant and use CoreDll.dll.
java.io.ObjectStreamField.getUnshared() should be isUnshared()
According to the spec there should be an isUnshared() method. There is a getUnshared() method which isn't in the spec so I assume this is an error? Will attach a patch.
org.osgi.framework.version property returns 4.0 instead of 1.3
The org.osgi.framework.version property returns 4.0 instead of 1.3 for the version. The spec states it should be 1.3 (see 4.4.3 table 8).
private serialVersionID field should be set in javax.security.auth.kerberos.KerberosKey class
According to J2SE 1.4 specifications javax.security.auth.kerberos.KerberosKey class has
public serialVersionUID field (it implements SecretKey interface that inherited this field from java.security.Key interface where the field is public).
But according J2SE 1.5 specification this field in Key interface is not public, so class KerberosKey should have private serialVersionID field.
The same problem is for javax.cripto.spec.SecretKeySpec class.
java.io.RandomAccessFile should accept all modes that are defined in the specification, including &quot;rws&quot; and &quot;rwd&quot;
java.io.RandomAccessFile should accept all modes that are defined in the specification, including &quot;rws&quot; and &quot;rwd&quot;
Code to reproduce:
import java.io.*; 
public class test29 { 
public static void main(String args[]) { 
try { 
File f = File.createTempFile(&quot;xxx&quot;, &quot;yyy&quot;); 
f.deleteOnExit(); 
new RandomAccessFile(f, &quot;rws&quot;); 
System.out.println(&quot;PASSED 1&quot;); 
} catch(Throwable e) { 
System.out.println(&quot;FAILED 1: &quot; + e); 
} 
try { 
File f = File.createTempFile(&quot;xxx&quot;, &quot;yyy&quot;); 
f.deleteOnExit(); 
new RandomAccessFile(f, &quot;rwd&quot;); 
System.out.println(&quot;PASSED 2&quot;); 
} catch(Throwable e) { 
System.out.println(&quot;FAILED 2: &quot; + e); 
} 
} 
}
Steps to Reproduce: 
1. Build Harmony (check-out on 2006-01-25) j2se subset as described in README.txt. 
2. Compile test29.java using BEA 1.4 javac 
&gt; javac -d . test29.java 
3. Run java using compatible VM (J9) 
&gt; java -showversion test29
Output:
C:\tmp\tmp17&gt;C:\jrockit-j2sdk1.4.2_04\bin\java.exe -showversion test29
java version &quot;1.4.2_04&quot;
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_04-b05)
BEA WebLogic JRockit(TM) 1.4.2_04 JVM (build ari-31788-20040616-1132-win-ia32,
Native Threads, GC strategy: parallel)
PASSED 1
PASSED 2
C:\tmp\tmp17&gt;C:\harmony\trunk\deploy\jre\bin\java -showversion test29
java version 1.4.2 (subset)
(c) Copyright 1991, 2005 The Apache Software Foundation or its licensors, as applicable.
FAILED 1: java.lang.IllegalArgumentException: Mode must be one of &quot;r&quot; or &quot;rw&quot;
FAILED 2: java.lang.IllegalArgumentException: Mode must be one of &quot;r&quot; or &quot;rw&quot;
C:\tmp\tmp17&gt;
junit test:
------------------------ RandomAccessFileTest.java -------------------------------------------------
import java.io.*; 
import junit.framework.*; 
public class RandomAccessFileTest extends TestCase { 
public void testRandomAccessFile_Mode_RWS() { 
try { 
File f = File.createTempFile(&quot;xxx&quot;, &quot;yyy&quot;); 
f.deleteOnExit(); 
new RandomAccessFile(f, &quot;rws&quot;); 
} catch(Exception e) { 
fail(&quot;Unexpected exception: &quot; + e); 
} 
} 
public void testRandomAccessFile_Mode_RWD() { 
try { 
File f = File.createTempFile(&quot;xxx&quot;, &quot;yyy&quot;); 
f.deleteOnExit(); 
new RandomAccessFile(f, &quot;rwd&quot;); 
} catch(Exception e) { 
fail(&quot;Unexpected exception: &quot; + e); 
} 
} 
public static void main(String[] args) { 
junit.textui.TestRunner.run(RandomAccessFileTest.class); 
} 
}
Acked persistent messages redelivered after broker restart.
Originally reported on http://www.nabble.com/Message-Redelivery-after-startup%2C-potential-BUG-with-easy-test-case-t1337282.html#a3574070
I confirmed that this is happening.
netui:attribute not overriding disabled property on textArea and textBox
The netui:attribute setting should override the setting in the netui:textArea tag.
&lt;netui:textArea dataSource=&quot;actionForm.myData&quot; readonly=&quot;false&quot; disabled=&quot;false&quot;&gt;
&lt;% pageContext.setAttribute(&quot;disabled&quot;, new String(&quot;true&quot;));
pageContext.setAttribute(&quot;readonly&quot;, new String(&quot;true&quot;)); %&gt;
&lt;netui:attribute name=&quot;disabled&quot; value=&quot;${pageScope.disabled}&quot;/&gt;
&lt;netui:attribute name=&quot;readonly&quot; value=&quot;${pageScope.readonly}&quot;/&gt;
&lt;/netui:textArea&gt;
When the above is run, note that the output is the following:
&lt;textarea name=&quot;{actionForm.myData}&quot; readonly&gt;&lt;/textarea&gt;
Expected the following:
&lt;textarea name=&quot;{actionForm.myData}&quot; readonly disabled&gt;true&lt;/textarea&gt;
JBoss classloading fails if myfaces jars installed in tomcat
Cannot use Myfaces jars installed in JBOSS_HOME/server/default/deploy/jbossweb-tomcat55.sar/jsf-libs as they do not use the correct WebappClassloader but instead an UCL3 classloader.
This is because myfaces use the following line in StateUtils.getAsObject
ObjectInputStream s = new ObjectInputStream(input);
instead of 
import org.apache.myfaces.shared.util.MyFacesObjectInputStream;
ObjectInputStream s = new MyFacesObjectInputStream(input);
The same applies to JspStateManagerImpl.deserializeView().
ObjectInputStream uses Class.forName instead of Thread.currentThread().getContextClassLoader() as the ClassUtils implementation that MyFacesObjectInputStream uses does.
Exception thrown when *Format methods are given a malformed format string
FormatException thrown when *Format methods are given a malformed format string: log.DebugFormat(&quot;Malformed {{,,,5}format{8}!&quot;);
This statement:
log.DebugFormat(&quot;Malformed {{,,,5}format{8}!&quot;);
throws the following exception:
[FormatException: Input string was not in a correct format.]
System.Text.StringBuilder.FormatError()
System.Text.StringBuilder.AppendFormat(IFormatProvider provider, String format, Object[] args)
System.String.Format(IFormatProvider provider, String format, Object[] args)
log4net.Core.LogImpl.DebugFormat(String format, Object[] args)
which is consistent with the documentation for String.Format:
System.FormatException: The format item in format is invalid. -or- The number indicating an argument to format is less than zero, or greater than or equal to the number of specified objects to format.
Tests in org.apache.jdo.tck.persistencemanager.detach should list assertions tested
Some of the tests in org.apache.jdo.tck.persistencemanager.detach reference assertion 12.6.8. The tests should reference the specific assertion numbers (12.6.8-N) tested. 
Completion of JDO-293 (update assertions spreadsheet) depends on this issue.
Trace documentation should be on the Apache website
Documentation about trace should be included on the Apache Axis C++ web site
AxisConfiguration fails to start in AIX
AxisConfiguration fails to start in AIX with following error
[exec] 0509-151 The program does not have an entry point or
[exec] the o_snentry field in the auxiliary header is invalid.
[exec] 0509-194 Examine file headers with the 'dump -ohv' command.
This is becuase in the buildAxisConfiguration.xml file, the referenced linker is 'AIXLinker'. The linker should be 'AIXExecutableLinker'
java.util.Hashtable, same as HashMap, has similar non-compatible behavior with RI
Same situation with the prior HashMap issue(http://issues.apache.org/jira/browse/HARMONY-206), the Hashtable is non-compatible with RI when key is reused with different hash.
Following test case show the non-compatiblity, it passes on RI but fails on Harmony.
public class HashTableTest extends extends junit.framework.TestCase{
public void test_getLjava_lang_Object() {
ReusableKey k = new ReusableKey();
Hashtable h2 = new Hashtable();
k.setKey(1);
h2.put(k, &quot;value1&quot;);
k.setKey(13);
assertNull(h2.get(k));
k.setKey(12);
assertNull(h2.get(k));
}
static class ReusableKey {
private int key = 0;
public void setKey(int key) {
this.key = key;
}
public int hashCode() {
return key;
}
public boolean equals(Object o) {
if (o == this) {
return true;
}
if (!(o instanceof ReusableKey)) {
return false;
}
return key == ((ReusableKey) o).key;
}
}
}
Generated complex types with multiple array children for RPC/encoded don't compile
The deserialize method on generated rpc/encoded complex types fails to compile if it contains multiple array child elements.
This is due to the re-declaration of the same variable name.
Taking a quick look into WSDL2Ws it would appear the counter isn't being incremented.
java.text.SimpleDateFormat.equals() behavior is not compatible with RI
Use the following test case:
import java.text.SimpleDateFormat;
import java.util.Date;
import junit.framework.TestCase;
public class SimpleDateFormatTest extends TestCase {
public void testFormat() {
SimpleDateFormat df = new SimpleDateFormat();
df.format(new Date());
assertEquals(df, new SimpleDateFormat());
}
}
This test passes on RI, however fails on Harmony.
LinkSubmit can cause browser back button problems
If LinkSubmit is mixed with other submit components in the same form, erroneous submits can occur from pages accessed via the browser back button. This happens because LinkSubmit's hidden variable is never reset.
Suggested fix (line marked +++) in LinkSubmit.java, renderComponent method:
// make sure the submit function is on the page (once)
if (cycle.getAttribute(ATTRIBUTE_FUNCTION_NAME) == null)
{
+++ body.addInitializationScript(&quot;document.&quot; + formName + &quot;._linkSubmit.value = null;&quot;);
body.addBodyScript(
&quot;function submitLink(form, elementId) { form._linkSubmit.value = elementId; if (form.onsubmit == null || form.onsubmit()) form.submit(); }&quot;);
cycle.setAttribute(ATTRIBUTE_FUNCTION_NAME, this);
}
It would be great if the corrected LinkSubmit submission mechanism detail was factored out into a separate class, so that other submit components could be built using it. For example, Glen Stampoultzis's ButtonSubmit component.
Base tag with pages in subfolders
when a page is located in a subfolder, tapestry Shell component renders a &lt;base href=&lt;site/subfolder&gt;&gt; tag.
This realocates all the images on the page, but this should be optional. All my components point to relative resources and with a base href=... none of my images is showing.
What about an optional base property?
using &lt;component id=&quot;x&quot; copy-of=&quot;x&quot;&gt; throws NullPointerException
When the copy-of is the same as the id, tapestry does not detect the problem, but a NullPointerException is thrown on
# org.apache.tapestry.resolver.ComponentSpecificationResolverImpl.resolve(ComponentSpecificationResolverImpl.java:95)
# $ComponentSpecificationResolver_10a31b1a2d5.resolve($ComponentSpecificationResolver_10a31b1a2d5.java)
# $ComponentSpecificationResolver_10a31b1a2d6.resolve($ComponentSpecificationResolver_10a31b1a2d6.java)
# org.apache.tapestry.pageload.PageLoader.constructComponent(PageLoader.java:393)
# org.apache.tapestry.pageload.PageLoader.loadPage(PageLoader.java:613)
# $IPageLoader_10a31b1a2c3.loadPage($IPageLoader_10a31b1a2c3.java)
# $IPageLoader_10a31b1a2c4.loadPage($IPageLoader_10a31b1a2c4.java)
# org.apache.tapestry.pageload.PageSource.getPage(PageSource.java:120)
# $IPageSource_10a31b1a216.getPage($IPageSource_10a31b1a216.java)
# $IPageSource_10a31b1a215.getPage($IPageSource_10a31b1a215.java)
# org.apache.tapestry.engine.RequestCycle.loadPage(RequestCycle.java:268)
# org.apache.tapestry.engine.RequestCycle.getPage(RequestCycle.java:251)
...
maybe a check should be added somewhere, then again, maybe its very rair that someone makes this typo...
controls which implement non-control interfaces may cause compilation errors on overridden methods
If I have the following, a compilation error will result, due to duplicate methods generated in the control bean during APT processing:
**************************************************
public interface ICustomerDao {
int countCustomers();
}
**************************************************
import org.apache.beehive.controls.system.jdbc.JdbcControl;
import org.apache.beehive.controls.api.bean.ControlExtension;
@ControlExtension
@JdbcControl.ConnectionDataSource(jndiName = &quot;later&quot;)
public interface CustomerDao extends ICustomerDao, JdbcControl {
static final long serialVersionUID = 1L;
@JdbcControl.SQL( statement=&quot;SELECT count(*) FROM customer&quot; )
public int countCustomers();
}
Datanode corruption
Our admins accidentally started a second nutch datanode pointing to the same directories as one already running (same machine) which in turn caused the entire contents of the datanode to go disappear.
This happened because the blocking was based on the username (since fixed in our start scripts) and it was started as two different users.
The ndfs.name.dir and ndfs.data.dir directories were both completely devoid of content, where they had about 150GB not all that much earlier.
I think the solution is improved interlocking within the data directory itself (file locked with flock or something similar).
Hotdeployment problems when upgrading a component with SU deployed on it
When the component is upgrade, it is first uninstalled then reinstalled, but
SUs deployed on it are not re-deployed. When a component is uninstalled,
all related SA should be undeployed and put in the pending state
org.apache.jdo.tck.api.persistencemanager.lifecycle.MakePersistent may fail on teardown
When invoked from a configuration that does not use the default schema, MakePersistent fails because it queries for classes to tear down that do not exist in the current schema.
testMakePersistent
&gt; &gt; (org.apache.jdo.tck.api.persistencemanager.lifecycle.MakePersistent)
&gt; &gt; javax.jdo.JDOFatalException:
&gt; &gt; Exception during tearDown
&gt; &gt; at org.apache.jdo.tck.JDO_Test.tearDown(JDO_Test.java:329)
&gt; &gt; at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:251)
&gt; &gt; at org.apache.jdo.tck.util.BatchTestRunner.doRun
&gt; &gt; (BatchTestRunner.java:107)
&gt; &gt; at org.apache.jdo.tck.util.BatchTestRunner.start
&gt; &gt; (BatchTestRunner.java:147)
&gt; &gt; at org.apache.jdo.tck.util.BatchTestRunner.main
&gt; &gt; (BatchTestRunner.java:122)
&gt; &gt; NestedThrowablesStackTrace:
&gt; &gt; javax.jdo.JDODataStoreException: Error executing JDOQL query &quot;SELECT
&gt; &gt; THIS.DEPARTMENT_ID,THIS.DEPTID,THIS.&quot;NAME&quot; FROM
&gt; &gt; datastoreidentity7.DEPARTMENT
&gt; &gt; THIS&quot; : Schema 'DATASTOREIDENTITY7' does not exist
&gt; &gt; ERROR 42Y07: Schema 'DATASTOREIDENTITY7' does not exist
Allow for disabling of cookies in web application
Tomcat's context allows for disabling cookies. Geronimo does not give access to this ability.
Transient failure to install configuration on WinXP/JDK1.5
During the build, the deployment of the client configuration fails when trying to rename the index.properties file. This works on JDK1.4.2_05 and under 1.5 when run from the command line.
[echo] Building client.jar
[java] org.apache.geronimo.deployment.DeploymentException: java.io.IOExcepti
on: Can not delete file C:\apache\geronimo\trunk\modules\assembly\target\geronim
o-1.0-SNAPSHOT\config-store\index.properties
[java] at org.apache.geronimo.deployment.Deployer.deploy(Deployer.java:
213)
[java] at org.apache.geronimo.deployment.Deployer.deploy(Deployer.java:
83)
[java] at com.sun.jmx.mbeanserver.DynamicMetaDataImpl.invoke(DynamicMet
aDataImpl.java:213)
[java] at com.sun.jmx.mbeanserver.MetaDataImpl.invoke(MetaDataImpl.java
:220)
[java] at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(
DefaultMBeanServerInterceptor.java:815)
[java] at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.
java:784)
[java] at org.apache.geronimo.kernel.Kernel.invoke(Kernel.java:232)
[java] at org.apache.geronimo.system.main.CommandLine.&lt;init&gt;(CommandLin
e.java:106)
[java] at org.apache.geronimo.system.main.CommandLine.main(CommandLine.
java:64)
[java] Caused by: java.io.IOException: Can not delete file C:\apache\geronim
o\trunk\modules\assembly\target\geronimo-1.0-SNAPSHOT\config-store\index.propert
ies
[java] at org.apache.geronimo.system.configuration.LocalConfigStore.sav
eIndex(LocalConfigStore.java:129)
[java] at org.apache.geronimo.system.configuration.LocalConfigStore.ins
tall(LocalConfigStore.java:215)
[java] at org.apache.geronimo.deployment.Deployer.deploy(Deployer.java:
191)
[java] ... 8 more
xalan calls atan() EXSLT function when asked for atan2()
From Debian bug number 351603, reported by Eugeniy Meshcheryakov:
xalan calls atan() EXSLT function when asked for atan2(), as in
following demonstration:
$ cat tst.xsl
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;xsl:transform xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
xmlns:math=&quot;http://exslt.org/math&quot;
extension-element-prefixes=&quot;math&quot;
version=&quot;1.0&quot;&gt;
&lt;xsl:template match=&quot;/&quot;&gt;
&lt;xsl:value-of select=&quot;math:atan2(1,1)&quot;/&gt;
&lt;/xsl:template&gt;
&lt;/xsl:transform&gt;
$ cat tst.xml
&lt;a/&gt;
$ xalan -xsl tst.xsl -in tst.xml
XSLT Error: The EXSLT function 'atan' accepts one argument.Source tree node: #document. (file:///home/eugen/tst.xsl, line 8, column 43.)
XSLException Type is: XSLTProcessorException
Message is: The EXSLT function 'atan' accepts one argument. (file:///home/eugen/tst.xsl, line 8, column 43)
$
Testing/Tomcat fails on a clean install
Trying the tomcat tests fails on a clean install with an empty maven repo fails as tomcat can't find the emf classes
WSDL2Java generates uncompilable code.
ran WSDL2Java -s -uri enterprise.wsdl.
a) it generates a single file that is 5Mb in size and 121914 lines long (i acedently hit format in eclipse and had to kill eclipse after 5 minutes of it trying to format the file).
b) it doesn't compile.
Severity Description Resource In Folder Location Creation Time Id
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.AssignmentRuleHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 371 March 25, 2006 12:26:19 AM 95531
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.AssignmentRuleHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 590 March 25, 2006 12:26:19 AM 95536
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.AssignmentRuleHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1088 March 25, 2006 12:26:19 AM 95548
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.MruHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 376 March 25, 2006 12:26:19 AM 95532
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.MruHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 595 March 25, 2006 12:26:19 AM 95537
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.MruHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1093 March 25, 2006 12:26:19 AM 95549
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.QueryOptions, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1026 March 25, 2006 12:26:19 AM 95546
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.QueryOptions, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1153 March 25, 2006 12:26:19 AM 95551
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.QueryOptions, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1213 March 25, 2006 12:26:19 AM 95553
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 309 March 25, 2006 12:26:19 AM 95529
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 366 March 25, 2006 12:26:19 AM 95530
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 429 March 25, 2006 12:26:19 AM 95533
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 482 March 25, 2006 12:26:19 AM 95534
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 585 March 25, 2006 12:26:19 AM 95535
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 648 March 25, 2006 12:26:19 AM 95538
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 701 March 25, 2006 12:26:19 AM 95539
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 754 March 25, 2006 12:26:19 AM 95540
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 807 March 25, 2006 12:26:19 AM 95541
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 860 March 25, 2006 12:26:19 AM 95542
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 913 March 25, 2006 12:26:19 AM 95543
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 966 March 25, 2006 12:26:19 AM 95544
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1021 March 25, 2006 12:26:19 AM 95545
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1083 March 25, 2006 12:26:19 AM 95547
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1148 March 25, 2006 12:26:19 AM 95550
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1208 March 25, 2006 12:26:19 AM 95552
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1266 March 25, 2006 12:26:19 AM 95554
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1319 March 25, 2006 12:26:19 AM 95555
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1372 March 25, 2006 12:26:19 AM 95556
2 The method toOM(SoapStub.ConvertLead) in the type SoapStub is not applicable for the arguments (SoapStub.SessionHeader, boolean) SoapStub.java axis295_test/src/org/apache/axis2 line 1425 March 25, 2006 12:26:19 AM 95557
c) It seems to ignored the namespace in the source schema, so the generated stub is in the org.apache.axis2 package.
d) the constructor is declared as throwing Exception, ouch
e) a lot of the inner classes have 2 classes, e.g. AccountShare &amp; AccountShare67, what are all the 2nd ones for ?
WSDL2Java NullPointException
Same wsdl file works fine with Axis1.2.
/*****************************************************************************
$ WSDL2Java -uri XpressMarket.wsdl
the classpath :/opt/axis2/lib/annogen-0.1.0.jar:/opt/axis2/lib/axis2-adb-0.94.jar:/opt/axis2/lib/axis2-codegen-0.94.jar:/opt/axis2/lib/axis2-core-0.94.jar:/opt/axis2/lib/axis2-doom-0.94.jar:/opt/axis2/lib/axis-wsdl4j-1.2.jar:/opt/axis2/lib/backport-util-concurrent-2.0_01_pd.jar:/opt/axis2/lib/commons-codec-1.3.jar:/opt/axis2/lib/commons-httpclient-3.0.jar:/opt/axis2/lib/commons-logging-1.0.4.jar:/opt/axis2/lib/geronimo-spec-activation-1.0.2-rc4.jar:/opt/axis2/lib/geronimo-spec-javamail-1.3.1-rc5.jar:/opt/axis2/lib/geronimo-spec-jms-1.1-rc4.jar:/opt/axis2/lib/jaxen-1.1-beta-7.jar:/opt/axis2/lib/log4j-1.2.12.jar:/opt/axis2/lib/maven-itest-plugin-1.0.jar:/opt/axis2/lib/servletapi-2.3.jar:/opt/axis2/lib/stax-api-1.0.jar:/opt/axis2/lib/ws-policy-SNAPSHOT.jar:/opt/axis2/lib/wstx-asl-2.8.1.jar:/opt/axis2/lib/xbean-2.1.0.jar:/opt/axis2/lib/xercesImpl-2.7.1.jar:/opt/axis2/lib/xml-apis-1.3.02.jar:/opt/axis2/lib/XmlSchema-SNAPSHOT.jar
Exception in thread &quot;main&quot; org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: org.apache.axis2.schema.SchemaCompilationException: java.lang.NullPointerException
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:118)
at org.apache.axis2.wsdl.WSDL2Code.main(WSDL2Code.java:31)
at org.apache.axis2.wsdl.WSDL2Java.main(WSDL2Java.java:21)
Caused by: java.lang.RuntimeException: org.apache.axis2.schema.SchemaCompilationException: java.lang.NullPointerException
at org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:152)
at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:80)
... 2 more
Caused by: org.apache.axis2.schema.SchemaCompilationException: java.lang.NullPointerException
at org.apache.axis2.schema.writer.JavaBeanWriter.write(JavaBeanWriter.java:167)
at org.apache.axis2.schema.SchemaCompiler.processNamedComplexSchemaType(SchemaCompiler.java:443)
at org.apache.axis2.schema.SchemaCompiler.processSchema(SchemaCompiler.java:350)
at org.apache.axis2.schema.SchemaCompiler.processElement(SchemaCompiler.java:289)
at org.apache.axis2.schema.SchemaCompiler.processElement(SchemaCompiler.java:267)
at org.apache.axis2.schema.SchemaCompiler.compile(SchemaCompiler.java:179)
at org.apache.axis2.schema.SchemaCompiler.compile(SchemaCompiler.java:141)
at org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:104)
... 3 more
Caused by: java.lang.NullPointerException
at org.apache.axis2.schema.writer.JavaBeanWriter.getBeanElement(JavaBeanWriter.java:357)
at org.apache.axis2.schema.writer.JavaBeanWriter.process(JavaBeanWriter.java:270)
at org.apache.axis2.schema.writer.JavaBeanWriter.write(JavaBeanWriter.java:162)
... 10 more
$
*****************************************************************************/
HARMONY-39 java.util.regex.Pattern.split() method discards last trailing empty string
HARMONY-39 Pattern.split() method discards last trailing empty string when given pattern matches last symbol of input character sequence.
The same problem appears if the input string is empty. JavaDoc says that if the expression does not match any part of the input sequence then the resulting array has just one element, namely this string. Thus in the case of empty input string one element array containing empty string should be returned, however HARMONY-39 Pattern.split() returns empty array.
This problem also affects java.lang.String.split() method, because according to JavaDoc it uses Pattern.split() method.
The following test demonstrates the problem:
&quot;,,&quot;.split(&quot;,&quot;, 3).length; //Resulted array will have two elements, while it should have three.
java.nio.charset.Charset.decode(in) doesn't use the same cached decoder.
java.nio.charset.Charset.decode(in) doesn't use the same cached decoder.
As spec says, &quot;An invocation of this method upon a charset cs returns the same result as the expression cs.newDecoder() .onMalformedInput(CodingErrorAction.REPLACE) .onUnmappableCharacter(CodingErrorAction.REPLACE) .decode(bb); except that it is potentially more efficient because it can cache decoders between successive invocations. &quot;
RI always uses the same cached decoder (the same reference) for the same name charset. For details, please refer to the test case below:
======== test case output =====
RI 5.0 passes the test case while Harmony fails.
======== test case===========
/*
* test cached decoder
*/
public void testCachedDecoder() throws Exception{
MockCachedCharset cs1 = new MockCachedCharset(&quot;CachedCharset&quot;,null);
MockCachedCharset cs2 = new MockCachedCharset(&quot;CachedCharset&quot;,null);
ByteBuffer in = ByteBuffer.wrap(new byte[]{0x00});
cs1.decode(in);
in.flip();
cs2.decode(in);
in.flip();
}
/*
* Mock Charset for cached decoder test
*/
static class MockCachedCharset extends Charset{
public MockCachedCharset(String canonicalName, String[] aliases){
super(canonicalName, aliases);
}
public boolean contains(Charset charset) {
return false;
}
public CharsetEncoder newEncoder() {
return null;
}
public CharsetDecoder newDecoder() {
return new MockCachedDecoder(this);
}
}
/*
* Mock decoder. Only one caller is permitted.
*/
static class MockCachedDecoder extends CharsetDecoder {
static MockCachedDecoder caller = null;
public MockCachedDecoder(Charset cs) {
super(cs, 1, 10);
}
/*
* Only one caller is permitted.
* If there's another caller, throw RuntimeException.
*/
protected CoderResult decodeLoop(ByteBuffer in, CharBuffer out) {
if(null == caller){
caller = this;
}else{
if(caller != this){
// Another instance 
throw new RuntimeException();
}
}
return CoderResult.UNDERFLOW;
}
}
java.nio.charset.CharsetEncoder.encode method does not reserve remaining bytes for next invocation.
Method 
public final CoderResult encode(CharBuffer in,
ByteBuffer out,
boolean endOfInput)
Considering that there is a supplemental character which represents by 4 bytes like &quot;\ud800\udc00&quot;, and it was divided into two input buffers. e.g. &quot;\ud800&quot; is at the end of input1 and the &quot;\udc00&quot; is at the begining of input2. when invoking the method encode(input1,out,false), it deals with &quot;\ud800&quot; as a malformed charactor and I think it should be reversed for next invocation like encode(input2,out,true).
And it aslo must be handled correspondingly in method public final ByteBuffer encode(CharBuffer in).
===Test segment to reproduce the bug (fail on RI 5.0 and Harmony. I think it's also a bug for RI 5.0)
CharsetEncoder encoder = Charset.forName(&quot;utf-8&quot;).newEncoder();
CharBuffer in1 = CharBuffer.wrap(&quot;\ud800&quot;);
CharBuffer in2 = CharBuffer.wrap(&quot;\udc00&quot;);
ByteBuffer out = ByteBuffer.allocate(4);
encoder.reset();
CoderResult result = encoder.encode(in1, out, false);
assertEquals(4, out.remaining());
assertTrue(result.isUnderflow());
result = encoder.encode(in2, out, true);
assertEquals(0, out.remaining());
assertTrue(result.isUnderflow());
can't serialize a request that contains a derived type
The WSDL (attached) defines a base type, sObject, and a type that extends it, Account. it also defines an operation called create which take 0..n sObject's.
Trying to call this operation using the WSDL2Code generated code causes an IllegalStateException.
Exception in thread &quot;main&quot; org.apache.axis2.om.OMException: java.lang.IllegalStateException
at org.apache.axis2.om.impl.llom.builder.StAXOMBuilder.next(StAXOMBuilder.java:279)
at org.apache.axis2.om.impl.llom.OMDocumentImpl.getDocumentElement(OMDocumentImpl.java:107)
at org.apache.axis2.om.impl.llom.builder.StAXOMBuilder.getDocumentElement(StAXOMBuilder.java:289)
at codegen.databinding.SoapcreateDatabindingSupporter.toOM(SoapcreateDatabindingSupporter.java:50)
at codegen.SoapStub.create(SoapStub.java:1278)
at client.testEnterpriseClient.main(testEnterpriseClient.java:95)
Caused by: java.lang.IllegalStateException
at org.apache.xmlbeans.impl.store.Jsr173$XMLStreamReaderForString.next(Jsr173.java:1110)
at org.apache.xmlbeans.impl.store.Jsr173$SyncedJsr173.next(Jsr173.java:1138)
at org.apache.axis2.clientapi.StreamWrapper.next(StreamWrapper.java:55)
at org.apache.axis2.om.impl.llom.builder.StAXOMBuilder.next(StAXOMBuilder.java:197)
... 5 more
The code is doing
CreateDocument createDoc = CreateDocument.Factory.newInstance();
Create create = Create.Factory.newInstance();
Account acc = Account.Factory.newInstance();
acc.setName(&quot;Axis 2.0/Enterprise&quot;);
acc.setAccountNumber(&quot;Acc9999&quot;);
create.setSObjectsArray(new SObject [] {acc});
SaveResult sr = stub.create(createDoc, sd, ard).getCreateResponse().getResultArray(0);
SimpleAxisServer fails for large request messages
SimpleAxisServer fails for large request messages.
This becomes particularly apparent when swapping to using Xerces v2.7.0 from v2.2.0 - where the Xerces input buffer is reduced from 480k to 48k.
Axis2 does not deserialise abstract types correctly when receiving WSA messages
When receiving WSA encoded messages containing abstract types, the created objects are for the implementation of the abstract class, instead of the actual type sent over the wire.
In the following example, DeviceID is an abstract type, and EANDeviceID is an implementation of that type. The following information is obtained from the deserialised DeviceID object (which is sent as an EANDeviceID object):
WSA:
getClass().getName(): za.co.eskom.nrs.www.xmlvend.base._2_0.schema.impl.DeviceIDImpl
schemaType(): DeviceID@http://www.nrs.eskom.co.za/xmlvend/base/2.0/schema
toString(): &lt;xml-fragment type=&quot;sch:GenericDeviceID&quot; id=&quot;255255010&quot; xmlns:sch=&quot;http://www.nrs.eskom.co.za/xmlvend/base/2.0/schema&quot;/&gt;
XSI:
getClass().getName(): za.co.eskom.nrs.www.xmlvend.base._2_0.schema.impl.GenericDeviceIDImpl
schemaType(): T=GenericDeviceID@http://www.nrs.eskom.co.za/xmlvend/base/2.0/schema
toString(): &lt;xml-fragment xsi:type=&quot;sch:GenericDeviceID&quot; id=&quot;255255010&quot; xmlns:sch=&quot;http://www.nrs.eskom.co.za/xmlvend/base/2.0/schema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;/&gt;
As you can see, in both cases, the correct information is contained in the xmlbean, but for the WSA message it is deserialised incorrectly.
-justin
Template with built-in template rules for namespaces gives and assert
Stylesheet:
&lt;xsl:template match=&quot;/&quot;&gt;
&lt;out&gt;
&lt;xsl:apply-templates select=&quot;//namespace::*&quot;/&gt;
&lt;/out&gt;
&lt;/xsl:template&gt;
and an input document:
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;doc xmlns=&quot;default.uri&quot;&gt;
&lt;!--Comment 1--&gt;
&lt;item xmlns:one=&quot;http://one.org&quot; xmlns:two=&quot;http://two.org&quot;&gt;
&lt;inner&gt;Some text &lt;!--Comment 3--&gt;
&lt;sub-inner xmlns:one=&quot;http://example.org&quot;/&gt;
&lt;/inner&gt;
&lt;/item&gt;
&lt;item/&gt;
&lt;item&gt;&lt;/item&gt;
&lt;/doc&gt;
Gives : 
Assertion failed: DOMServices::isNamespaceDeclaration(static_cast&lt;const XalanAtt
r&amp;&gt;(theNode)) == false, file \src\xalanc\Xslt\Stylesheet.cpp, line 1093
derbynet/prepStmt.java fails with JCC2.6
derbynet/prepStmt.java fails on Windows and Linux with Sun JDK 1.5 and JCC 2.6. 
*** Start: prepStmt jdk1.5.0_02 DerbyNet derbynetmats:derbynetmats 2006-03-22 19:46:37 ***
82 del
&lt; prepStmt Test Ends
82 add
&gt; com.ibm.db2.jcc.a.DisconnectException: More than 0x7FF chained requests not allowed. This error may be due to a batch that is greater than 32k.
Test Failed.
*** End: prepStmt jdk1.5.0_02 DerbyNet derbynetmats:derbynetmats 2006-03-22 19:46:59 ***
The test passed for me with Sun JDK1.5, JCC 2.4 on Windows XP. The tinderbox runs do not show this failure. It looks like this failure is occuring only with JCC2.6.
mod_axis2 crashes in Win32
Axis2 Apache2 integration module crashes in Windows version of Apache2 while serving a web service request. It is observed that this crash occurs while creating a xml_parser for IO (libxml2) using the callback method. xml_parser for file works fine.
Source does not compile properly on HP-UX with newer versions of the HP compiler
Newer versions of the HP aCC compiler will not compile XalanDeque.hpp or XalanDOMString.cpp. I'm not sure if these are compiler bugs, or a legitimate problems with the source code, but this patch fixes the problems.
The fix for XalanDeque is also consistent with how we use MemoryManagedConstructionTraits with XalanVector, etc., so it's a reasonable patch. I'm also going to attach a patch for XalanDOMString.cpp which fixes the problem, and cleans up some other stuff.
jdbcapi/xaSimplePositive.sql fails
&quot;Signature&quot;:
********* Diff file xa/xa/xaSimplePositive.diff
*** Start: xaSimplePositive jdk1.5.0_04 xa:xa 2006-02-14 03:03:46 ***
97 del
&lt; Transaction 1 : (1,FILTERED,FILTERED)
98 del
&lt; Transaction 2 : (2,FILTERED,FILTERED)
98a97,98
&gt; Transaction 1 : (2,FILTERED,FILTERED)
&gt; Transaction 2 : (1,FILTERED,FILTERED)
Test Failed.
*** End: xaSimplePositive jdk1.5.0_04 xa:xa 2006-02-14 03:03:50 ***
http://www.multinet.no/~solberg/public/Apache/TinderBox_Derby/Limited/testSummary-377554.html
Redudant native codes should be removed from LUNI component
We have refactored Sockets and file IO implementation based on platform package , so the original native codes of sockets and file I/O streams is redundant and should be removed.
Javadoc warnings should be fixed
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\api\persistencemanagerfactory\GetPMFByFile.java:77: warning - Tag @see: reference not found: AbstractGetPMF#getPMF(String)
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\api\persistencemanagerfactory\GetPMFByFileAndClassLoader.java:82: warning - Tag @see: reference not found: AbstractGetPMF#getPMF(String)
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\api\persistencemanagerfactory\GetPMFByJNDILocation.java:81: warning - Tag @see: reference not found: AbstractGetPMF#getPMF(String)
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\api\persistencemanagerfactory\GetPMFByJNDILocationAndClassLoader.java:81: warning - Tag @see: reference not found: AbstractGetPMF#getPMF(String)
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\api\persistencemanagerfactory\GetPMFByResource.java:75: warning - Tag @see: reference not found: AbstractGetPMF#getPMF(String)
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\api\persistencemanagerfactory\GetPMFByResourceAndClassLoader.java:75: warning - Tag @see: reference not found: AbstractGetPMF#getPMF(String)
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\api\persistencemanagerfactory\GetPMFByStream.java:79: warning - Tag @see: reference not found: AbstractGetPMF#getPMF(String)
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\api\persistencemanagerfactory\GetPMFByStreamAndClassLoader.java:79: warning - Tag @see: reference not found: AbstractGetPMF#getPMF(String)
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\pc\company\Insurance.java:74: warning - @param argument &quot;insid&quot; is not a parameter name.
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\pc\lifecycle\StateTransitionObj.java:88: warning - @param argument &quot;companyid&quot; is not a parameter name.
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\QueryElementHolder.java:192: warning - Missing closing '}' character for inline tag: &quot;{@link javax.jdo.Query#setFilter(java.lang.String) etc.&quot;
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\QueryTest.java:1267: warning - Missing closing '}' character for inline tag: &quot;{@link Query#deletePersistentAll(java.util.Map), or
[javadoc] {@link Query#deletePersistentAll(java.lang.Object[])
[javadoc] depending on the type of argument &lt;code&gt;parameters&lt;/code&gt;.
[javadoc] If the number of deleted objects does not 
[javadoc] match &lt;code&gt;expectedNrOfDeletedObjects&lt;/code&gt;,
[javadoc] then the test case fails prompting argument &lt;code&gt;assertion&lt;/code&gt;.&quot;
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\QueryTest.java:1293: warning - Missing closing '}' character for inline tag: &quot;{@link Query#deletePersistentAll(java.util.Map), or
[javadoc] {@link Query#deletePersistentAll(java.lang.Object[])
[javadoc] depending on the type of argument &lt;code&gt;parameters&lt;/code&gt;.
[javadoc] If the number of deleted objects does not 
[javadoc] match &lt;code&gt;expectedNrOfDeletedObjects&lt;/code&gt;,
[javadoc] then the test case fails prompting argument &lt;code&gt;assertion&lt;/code&gt;.&quot;
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\QueryTest.java:700: warning - Missing closing '}' character for inline tag: &quot;{@link QueryTest#equalsCollection(Collection, Collection).
[javadoc] This method does not allow &lt;code&gt;o1&lt;/code&gt; and &lt;code&gt;o2&lt;/code&gt;
[javadoc] to be &lt;code&gt;null&lt;/code&gt; both.&quot;
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\QueryTest.java:1092: warning - Missing closing '}' character for inline tag: &quot;{@link QueryTest#execute(String, Query, String, boolean, Object[], Object, boolean).
[javadoc] Logs argument &lt;code&gt;singleStringQuery&lt;/code&gt; 
[javadoc] if debug logging is enabled.&quot;
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\jdoql\operators\Equality.java:1284: warning - Tag @see: reference not found: JDO_Test#localSetUp()
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\jdoql\operators\GreaterThan.java:1193: warning - Tag @see: reference not found: JDO_Test#localSetUp()
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\jdoql\operators\GreaterThanOrEqual.java:1198: warning - Tag @see: reference not found: JDO_Test#localSetUp()
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\jdoql\operators\LessThan.java:1198: warning - Tag @see: reference not found: JDO_Test#localSetUp()
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\jdoql\operators\LessThanOrEqual.java:1204: warning - Tag @see: reference not found: JDO_Test#localSetUp()
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\jdoql\operators\NotEquals.java:1279: warning - Tag @see: reference not found: JDO_Test#localSetUp()
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\result\classes\FullName.java:108: warning - @param argument &quot;firstName&quot; is not a parameter name.
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\query\result\classes\FullName.java:122: warning - @param argument &quot;lastName&quot; is not a parameter name.
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\util\ConversionHelper.java:120: warning - @param argument &quot;array&quot; is not a parameter name.
[javadoc] C:\svn0\jdo\trunk\tck20\src\java\org\apache\jdo\tck\util\SystemCfgSummary.java:43: warning - Parameter &quot;args&quot; is documented more than once.
[javadoc] Generating C:\svn0\jdo\trunk\tck20\target\docs\apidocs\serialized-form.html...
[javadoc] Copying file C:\Documents and Settings\michelle\.maven\cache\maven-javadoc-plugin-1.7\plugin-resources\stylesheet.css to file C:\svn0\jdo\trunk\tck20\target\docs\apidocs\stylesheet.css...
[javadoc] Building index for all the packages and classes...
[javadoc] Building index for all classes...
[javadoc] Generating C:\svn0\jdo\trunk\tck20\target\docs\apidocs\help-doc.html...
[javadoc] 25 warnings
JCR-RMI depends on commons-logging
The commons-logging dependency in JCR-RMI should be removed.
jackrabbit-server.war is missing the slf4j-log4j12 library
Reported by Martin Perez:
But I found a bug on the .war file. It is missing the slf4j-log4j12-1.0.jar. It's in someway tricky to detect it because if you do not include it a ClassNotFoundException will be thrown but poiting to the JCR class with the log statement. Anyways, if you include the .jar file on the WEB-INF/lib directory, then the exception goes to exception's hell.
DataMapper Developer Guilde document bug
Writing column attribute like column=&quot;{itemId=ORD_ID, custId=ORD_CST_ID}&quot; causes System.IndexOutOfRangeException.
Correct syntax is column=&quot;itemId=ORD_ID, custId=ORD_CST_ID&quot;. No parentheses need! 
This is a documentation bug in DetaMapper Developer Guilde Version 1.3 (section 3.5.13). Might not a bug, but leads misunderstaning
Please correct the sniplet of Example 3.44. and the description that follows.
I spent a few hours to solve this.
Improper setting of the tracker variable forces valid values to be missed
Seems that the template has wrong logic that interprets the setting trackers value in a wrong way
Error in message.getLineCount (Error using NotifyPostmaster with James 2.3)
Reported by Bodo:
--------------------------------
I have problems using the notify postmaster mailet. I'm trying james 2.3. While using the notification-mailet with normal (text/plain) mails everything is fine. But processing mails with attachments an error occurs as follows and the notification isn't delivered:
29/03/06 10:51:37 DEBUG spoolmanager.error: Servicing Mail1143622295421-0 by NotifyPostmaster Mailet
29/03/06 10:51:37 ERROR spoolmanager: Exception in processor &lt;error&gt;
java.lang.NullPointerException: charsetName
at java.io.InputStreamReader.&lt;init&gt;(Unknown Source)
at org.apache.james.core.MimeMessageWrapper.getLineCount(MimeMessageWrapper.java:297)
at org.apache.james.core.MimeMessageCopyOnWriteProxy.getLineCount(MimeMessageCopyOnWriteProxy.java:252)
at org.apache.james.transport.mailets.AbstractNotify.getMessage(AbstractNotify.java:166)
at org.apache.james.transport.mailets.AbstractRedirect.buildAlteredMessage(AbstractRedirect.java:1213)
at org.apache.james.transport.mailets.AbstractRedirect.service(AbstractRedirect.java:1008)
at org.apache.james.transport.LinearProcessor.service(LinearProcessor.java:414)
at org.apache.james.transport.JamesSpoolManager.process(JamesSpoolManager.java:397)
at org.apache.james.transport.JamesSpoolManager.run(JamesSpoolManager.java:306)
at java.lang.Thread.run(Unknown Source)
---------------------
It's a trunk version and it happens to every mail with attachment. In 2.3.0.a1 everything is okay - but I can't use this version because of an error in fetchmail ...
---------------------
Picklist does not support non-string values
The method selectItemsForSelectedList() in HtmlPicklistRenderer currently compares the value of the SelectItem with the value from the lookup set, which will always be a string.
Converting the SelectItem value to a string before the comparison solves the problem. The method becomes:
private List selectItemsForSelectedList(FacesContext facesContext,
UIComponent uiComponent, List selectItemList, Converter converter,
Set lookupSet)
{
List selectItemForSelectedValues = new ArrayList(lookupSet.size());
for (Iterator i = selectItemList.iterator(); i.hasNext();)
{
//set.add( RendererUtils.getConvertedStringValue(facesContext, uiComponent, converter, i.next()) );
SelectItem selectItem = (SelectItem) i.next();
// Convert the item value to a string
String itemStrValue = RendererUtils.getConvertedStringValue(facesContext, uiComponent,
converter, selectItem);
for (Iterator i2 = lookupSet.iterator(); i2.hasNext();)
{
Object value = i2.next();
// Compare the lookup value with the string
if (value.equals(itemStrValue))
{
selectItemForSelectedValues.add(selectItem);
}
}
}
return selectItemForSelectedValues;
}
'jdbc40/StatementTest.junit' fails under DerbyNetClient
One of the tests in jdbc40/StatementTest.junit fails with the following message:
&quot;Attempt to shutdown framework: DerbyNetClient
0 add
&gt; ....F.
&gt; There was 1 failure:
&gt; 1) testIsClosedWhenClosingConnectionInInvalidState(org.apache.derbyTesting.functionTests.tests.jdbc4.StatementTest)junit.framework.ComparisonFailure: Unexpected exception thrown: Cannot close a connection while a global transaction is still active. expected:&lt;java.sql.Connection.close() requested while a transaction is in progress on the connection.The transaction remains active, and the connection cannot be closed...&gt; but was:&lt;Cannot close a connection while a global transaction is still active...&gt;
&gt; FAILURES!!!
&gt; Tests run: 5, Failures: 1, Errors: 0
Test Failed.
*** End: StatementTest jdk1.6.0-beta2 DerbyNetClient 2006-03-24 12:53:22 ***&quot;
The reason is that the exception message text has been changed. This comparison is only done when running DerbyNetClient, because SQLState was not implemented there.
The checkin that caused the error:
&quot;Author: davidvc
Date: Thu Mar 23 16:55:44 2006
New Revision: 388309
URL: http://svn.apache.org/viewcvs?rev=388309&amp;view=rev
Log:
DERBY-839 (Partial). Internationalize Connection.java. Also upgraded
the &quot;i18n lint&quot; test to be a little more intelligent, and to not exit
on the first failure.
Passes derbynetclientmats. All changes are client-specific so derbyall
was not run.&quot;
A
FactoryFinder does not find the factory correctly. Please see the description.
The class org.apache.axis2.om.FactoryFinder has
private static Object findFactory(ClassLoader loader,
String factoryClass,
String systemPropertyName);
Implementation with following lines:
//first look for a java system property
if (systemPropertyName != null &amp;&amp;
System.getProperty(systemPropertyName) != null) {
factoryClassName = systemPropertyName; // Needs to be fixed
}
The line mentioned above needs to be fixed as:
if (systemPropertyName != null &amp;&amp;
System.getProperty(systemPropertyName) != null) {
factoryClassName = System.getProperty(systemPropertyName);
}
client should report file name in which IO exception occurs
A file in the DFS got corrupted somehow.
The client gets an exception accessing a block in the file:
060315 105907 Could not obtain block from any node: java.io.IOException: No live nodes contain current block
060315 105917 No node available for block blk_2690692619196463439
It could (and should) report the file in which the error occurred, together with the block information.
SOAPFaultSubCode is lost on serialization
When creating a fault with a value and subcode the element added last is lost when the fault is serialized.
SOAPFactory sf = OMAbstractFactory.getSOAP12Factory();
SOAPEnvelope env = sf.createSOAPEnvelope(); 
SOAPBody body = sf.createSOAPBody(env); 
SOAPFault fault = sf.createSOAPFault(body); 
SOAPFaultCode faultCode = sf.createSOAPFaultCode(fault); 
SOAPFaultValue faultValue = sf.createSOAPFaultValue(faultCode);
SOAPFaultSubCode subCode = sf.createSOAPFaultSubCode(faultCode;
fault.serialize(System.out);
Will print:
&lt;soapenv:Fault xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;
&lt;soapenv:Code&gt;
&lt;soapenv:Value /&gt;
&lt;/soapenv:Code&gt;
&lt;/soapenv:Fault&gt;
If the subsocde is created before the value:
SOAPFactory sf = OMAbstractFactory.getSOAP12Factory();
SOAPEnvelope env = sf.createSOAPEnvelope(); 
SOAPBody body = sf.createSOAPBody(env); 
SOAPFault fault = sf.createSOAPFault(body); 
SOAPFaultCode faultCode = sf.createSOAPFaultCode(fault); 
SOAPFaultSubCode subCode = sf.createSOAPFaultSubCode(faultCode);
SOAPFaultValue faultValue = sf.createSOAPFaultValue(faultCode);
fault.serialize(System.out);
Will print:
&lt;soapenv:Fault xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;
&lt;soapenv:Code&gt;
&lt;soapenv:Subcode /&gt;
&lt;/soapenv:Code&gt;
&lt;/soapenv:Fault&gt;
fault.getCode().getSubCode() and fault.getCode().getValue() both return the expected values no matter the order they are created in.
Calling setText on an OMElement whose only child is an OMTextImpl concatenates rather than replaces
The first time you call setText() on an OMElement that has no children, the data structure setup is slightly incorrect. The previousSibling field of the OMTextImpl points back to itself (i.e. the same OMTextImpl instance).
Then, when calling setText() again, the logic that removes all other text children doesn't account for this, and the end result is that the old OMTextImpl still exists in the linked list of children. So on the wire, both text elements appear, the second one appended to the first one.
Round3 Doclitparam interop test (with codegen and Databinding) failed
Out of four operations:
echoString - failed
echoStringArray - failed
echoStruct -failed
echoVoid - successful
only echoVoid was successful.
WSDL :- http://www.whitemesa.net/wsdl/r3/interoptestdoclitparameters.wsdl
message sent :-
POST /interop/r3/doclitparam HTTP/1.1
User-Agent: Axis/2.0
SOAPAction: http://soapinterop.org/
Connection: Keep-Alive
Host: www.whitemesa.net
Content-Length: 689
Content-Type: text/xml;charset=UTF-8
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
&lt;soapenv:Header&gt;
&lt;wsa:To xmlns:wsa=&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing&quot;&gt;http://localhost:8000/interop/r3/doclitparam&lt;/wsa:To&gt;
&lt;wsa:ReplyTo xmlns:wsa=&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing&quot;&gt;
&lt;wsa:Address&gt;http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous&lt;/wsa:Address&gt;
&lt;/wsa:ReplyTo&gt;
&lt;wsa:MessageID xmlns:wsa=&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing&quot;&gt;1127380013628&lt;/wsa:MessageID&gt;
&lt;/soapenv:Header&gt;
&lt;soapenv:Body&gt;
&lt;echoString xmlns=&quot;http://soapinterop.org/xsd&quot;&gt;
&lt;param0&gt;Gayan Asanka&lt;/param0&gt;
&lt;/echoString&gt;
&lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;
(I tried without addrssing too)
Message recieved :- 
HTTP/1.1 500 Internal Server Error
Date: Thu, 22 Sep 2005 09:21:38 GMT
Server: WhiteMesa SOAP Server/3.2
Content-Type: text/xml; charset=&quot;utf-8&quot;
Content-Length: 348
Connection: close
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
&lt;SOAP-ENV:Body&gt;
&lt;SOAP-ENV:Fault&gt;
&lt;faultcode xmlns:ns=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;ns:Client&lt;/faultcode&gt;
&lt;faultstring&gt;Message processing failed.&lt;/faultstring&gt;
&lt;detail /&gt;
&lt;/SOAP-ENV:Fault&gt;
&lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
This is a successful request i built some other means where i got a correct response:-
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
&lt;SOAP-ENV:Body&gt;
&lt;m:echoString xmlns:m=&quot;http://soapinterop.org/xsd&quot;&gt;
&lt;param0&gt;String&lt;/param0&gt;
&lt;/m:echoString&gt;
&lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
response:-
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
&lt;SOAP-ENV:Body&gt;
&lt;iop:echoStringResponse xmlns:iop=&quot;http://soapinterop.org/xsd&quot;&gt;
&lt;return&gt;String&lt;/return&gt;
&lt;/iop:echoStringResponse&gt;
&lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
Gayan Asanka
Mail transport having problems with the Geronimo mail and activation jars set.
When trying to run the mail transport test cases with the Geronimo jars all of them fail giving an error method not implemented. Will make a list of methods that are used by the mail transport code and that have not been implemented in the Geronimo jars and attach to the issues later.
MTOM Interop Test Scenarios
Need to write Axis2 server and Axis2 client for testing the MTOM CR Test Scenarios:
http://lists.w3.org/Archives/Public/xml-dist-app/2004Aug/0013.html
Sample traces (somewhat out-dated, but can be useful):
http://www.w3.org/2000/xp/Group/4/08/implementation.html
Once we write these test cases, we should be able to create a war and deploy it on a tomcat server. (then we can ask the WSE team to test against it)
thanks,
dims
Reused Keys and Values fail with a Combiner
If the map function reuses the key or value by destructively modifying it after the output.collect(key,value) call and your application uses a combiner, the data is corrupted by having lots of instances with the last key or value.
new key and value instances are allocated before each map
Each time map is called with a new key and value rather than reusing the old ones.
Namenode errors &quot;Failed to complete filename.crc because dir.getFile()==null and null&quot;
We're getting lot of these errors and here is what I see in namenode log: 
060327 002016 Removing lease [Lease. Holder: DFSClient_1897466025, heldlocks: 0, pendingcreates: 0], leases remaining: 1
060327 002523 Block report from member2.local:50010: 91895 blocks.
060327 003238 Block report from member1.local:50010: 91895 blocks.
060327 005830 Failed to complete /feedback/.feedback_10.1.10.102-33877.log.crc because dir.getFile()==null and null
060327 005830 Server handler 1 on 50000 call error: java.io.IOException: Could not complete write to file /feedback/.feedback_10.1.10.102-33877.log.crc by DFSClient_1897466025
java.io.IOException: Could not complete write to file /feedback/.feedback_10.1.10.102-33877.log.crc by DFSClient_1897466025
at org.apache.hadoop.dfs.NameNode.complete(NameNode.java:205)
at sun.reflect.GeneratedMethodAccessor38.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:237)
at org.apache.hadoop.ipc.Server$Handler.run(Server.java:216)
I can't be 100% sure, but it looks like these errors happen with checksum files for very small data files. 
Inconsistent locking of the JobTracker.taskTrackers field
The JobTracker is using an inconsistant lock for protecting taskTrackers, which is the list of current task trackers. Some of the routines lock the JobTracker and others lock the taskTrackers field.
Two identical consecutive loops in FSNamesystem.chooseTarget()
I think this was meant to be the way I corrected.
Otherwise there is no difference in two loops except for double
bracketing in the if statement.
org.apache.myfaces.el.getType(Object base, int index) return null if base instanceof Object[]
if (base instanceof Object[] &amp;&amp; ((Object[])base)[index] != null) {
Object[] array = (Object[]) base;
return array[index].getClass().getComponentType(); == return null
.....
getComponentType() returns the Class representing the component type of an array. If this class does not represent an array class this method returns null.
Setting WebDAV property without value causes NPE in DAVResourceImpl
A WebDAV PROPPATCH of a property without a value &lt;prf:SomeProperty/&gt; causes a NPE in DAVResourceImpl when the value is retrieved and the toString() method called on it. Here is a patch that works around the problem.
Index: C:/jprojects/eclipse/jackrabbit/jcr-server/server/src/java/org/apache/jackrabbit/webdav/simple/DavResourceImpl.java
===================================================================
--- C:/jprojects/eclipse/jackrabbit/jcr-server/server/src/java/org/apache/jackrabbit/webdav/simple/DavResourceImpl.java (revision 388517)
+++ C:/jprojects/eclipse/jackrabbit/jcr-server/server/src/java/org/apache/jackrabbit/webdav/simple/DavResourceImpl.java (working copy)
@@ -930,7 +930,10 @@
*/
private void setJcrProperty(DavProperty property) throws RepositoryException {
// retrieve value
- String value = property.getValue().toString();
+ String value = &quot;&quot;;
+ if (property.getValue() != null) {
+ value = property.getValue().toString();
+ }
// set value; since multivalued-properties are not listed in the set
// of available properties, this extra validation-check is omitted.
node.setProperty(getJcrName(property.getName()), value);
Some other minor Java 5 updates in java.io package
1. FilterInputStream.in should be volatile according to java 5.0 spec.
2. ObjectStreamConstants.TC_MAX should change to 126, and two new constants TC_ENUM and SC_ENUM should be added to the class.
3. ObjectStreamField lacks the method isUnShared
4. PushbackInputStream should override super class's mark() and reset() method with differrent behavior, according to Java 5 spec
NetUI page flow compiler's WebappPathType.checkRelativePath() needs to handle paths to JPF that begin with &quot;./&quot;
Add an action such as the following to a page flow controller:
@Jpf.Action(forwards = {
@Jpf.Forward(name = &quot;success&quot;,
path = &quot;./subdir/Controller.jpf&quot;)
})
protected Forward AddAction() { ... }
As the jpf compiler does its thing, it translates external pageflow paths into type names and then requests those types. Here it is incorrectly translating &quot;./subdir/Controller.jpf&quot; to a type name &quot;..subdir.Controller&quot;
which may cause an APT implementation to barf when we try to get a TypeDeclaration from this name. With the Sun APT, we get a null type without an error, but then this causes us to write a warning that we cannot find the page flow for the given path.
The problem is in org.apache.beehive.netui.compiler.grammar.WebappPathType.checkRelativePath(). It does some stuff to look for &quot;../&quot; at the beginning of a path but does not handle &quot;./&quot;.
I'll add a zip file for the repro. The fix is coming shortly.
NetUI page flow compiler's WebappPathType.checkRelativePath() needs to handle paths to JPF that begin with &quot;./&quot;
Add an action such as the following to a page flow controller:
@Jpf.Action(forwards = {
@Jpf.Forward(name = &quot;success&quot;,
path = &quot;./subdir/Controller.jpf&quot;)
})
protected Forward AddAction() { ... }
As the jpf compiler does its thing, it translates external pageflow paths into type names and then requests those types. Here it is incorrectly translating &quot;./subdir/Controller.jpf&quot; to a type name &quot;..subdir.Controller&quot;
which may cause an APT implementation to barf when we try to get a TypeDeclaration from this name. With the Sun APT, we get a null type without an error, but then this causes us to write a warning that we cannot find the page flow for the given path.
The problem is in org.apache.beehive.netui.compiler.grammar.WebappPathType.checkRelativePath(). It does some stuff to look for &quot;../&quot; at the beginning of a path but does not handle &quot;./&quot;.
I'll add a zip file for the repro. The fix is coming shortly.
												</span>
							</div>
			<div>
							</div>
			<div>
									<p><strong>Find millions of documents on Course Hero - Study Guides, Lecture Notes, Reference Materials, Practice Exams and more. Course Hero has millions of course specific materials providing students with the best way to expand their education.</strong></p>
					<p>Below is a small sample set of documents:</p>
					<div><strong><a href="/file/7204790/2006-07/">2006-07</a></strong></div><div>Iowa State - CPRE - 556</div><div>Duplicate entries on the corba typeMapping.There are duplicate entries in the corba type mapping.Corba Binding too strict with address formatsThe binding has too strict an assumption with the way addresses are specified in a WSDL file. The binding assu</div><div><strong><a href="/file/7204791/2007-01/">2007-01</a></strong></div><div>Iowa State - CPRE - 556</div><div>RMI support not marshalling IDLEntity CORBA objects correctly.The RMI support is marshalling all IDLEntity interface objects by value. The support needs to check to see if the object instance is a CORBA object and delay the decision to marshal as an CORB</div><div><strong><a href="/file/7204792/2007-04/">2007-04</a></strong></div><div>Iowa State - CPRE - 556</div><div>IDLToWSDL incorrectly maps all typedefs to restrictions.Consider IDL like :typedef string PropertyName;typedef string PropertyValue;struct Property cfw_PropertyName name;PropertyValue value;;typedef sequence &amp;lt;Property&amp;gt; PropertyList;typedef Proper</div><div><strong><a href="/file/7204793/2007-05/">2007-05</a></strong></div><div>Iowa State - CPRE - 556</div><div>NullPointerException in CorbaDestinationI got NullPointerException in line 256 of CorbaDestinationif (location.startsWith(&amp;quot;http:/localhost/&amp;quot;) cfw_ / line 256location = location.substring(&amp;quot;http:/localhost/&amp;quot;.length();should check if location is null fi</div><div><strong><a href="/file/7204794/2007-06/">2007-06</a></strong></div><div>Iowa State - CPRE - 556</div><div>IDLToWSDL does not generate correct WSDL for certain combinations of forward declarationIDL which declares a forward declaration for an interface or struct, then provides the full declaration for the forward declared interface/struct, followed by the use</div><div><strong><a href="/file/7204795/2008-04/">2008-04</a></strong></div><div>Iowa State - CPRE - 556</div><div>Increase the number of open files for unit tests under HudsonLucene.zones.apache.org and I assume hudson.zones limit the number of file handles to 256. TestMiniMRDFSSort runs better with more file handles. (I set it to 10000 in my testing, but a smaller </div><div><strong><a href="/file/7204796/2008-05/">2008-05</a></strong></div><div>Iowa State - CPRE - 556</div><div>Master doesn&#039;t see regionserver edits because of clock skewThe streamy folks had a cluster where regionserver was 2 minutes in advance of the master. On split, regionserver would update .META. with split info but scanners opened on the master wouldn&#039;t se</div><div><strong><a href="/file/7204797/2008-06/">2008-06</a></strong></div><div>Iowa State - CPRE - 556</div><div>HLog#cacheFlushLock not cleared; hangs a regionI have a region that is stuck in a close that was ordained by a split. Here is what I have from the log pertaining to the stuck region:cfw_code4 6416 2008-05-29 22:29:03,433 INFO org.apache.hadoop.hbase.HR</div><div><strong><a href="/file/7204798/2008-07/">2008-07</a></strong></div><div>Iowa State - CPRE - 556</div><div>codegen plugin fails due to missing jarWhen clicking &amp;quot;Finish&amp;quot; in the last step to generate Java code from WSDL, the following exception occurs. I believe this is a bug introduced by the commithttp:/mail-archives.apache.org/mod_mbox/ws-axis-cvs/200802.m</div><div><strong><a href="/file/7204799/2008-08/">2008-08</a></strong></div><div>Iowa State - CPRE - 556</div><div>dfs exception and regionserver stuck during heavy write loadIt&#039;s a 3 node setup, each runs datanode and regionserver. One runs as hbase master and hadoop namenode.After some heavy write load via java client, the client is stuck. Stack trace on the regio</div><div><strong><a href="/file/7204800/2008-09/">2008-09</a></strong></div><div>Iowa State - CPRE - 556</div><div>make feature project build successfully according to recent refactor of SMX3 containermake servicemix-utils build successfullyshould add missing stax impl dependency to fix test failuresTests in error:testStaxSourceOnStream(org.apache.servicemix.jbi.j</div><div><strong><a href="/file/7204801/2008-10/">2008-10</a></strong></div><div>Iowa State - CPRE - 556</div><div>WEB: All handlers assigned to any bean should be cleared after a web request has completedCurrently the handler is thread local and softreferenced. Anyway, this could happen :* A get arrives, trying to modify a bean* The modification fails, but the exc</div><div><strong><a href="/file/7204802/2008-11/">2008-11</a></strong></div><div>Iowa State - CPRE - 556</div><div>BeanEditForm guide example about creating the FieldTranslator is inaccurate and out of dateA quote from http:/tapestry.formos.com/nightly/tapestry5/guide/beaneditform.html on 8-Sep-2008:public FieldTranslator getCurrencyTranslator()cfw_Translator tran</div><div><strong><a href="/file/7204803/2008-12/">2008-12</a></strong></div><div>Iowa State - CPRE - 556</div><div>XMLMenuModel:Illegal attribute in menu.xsd.According to xml schema structures recommendation(http:/www.w3.org/TR/xmlschema-1/),section 3.2.6the name of an attribute should not match &#039;xmlns&#039;.Changes required in Distribution build files1. Change version</div><div><strong><a href="/file/7204804/2009-01/">2009-01</a></strong></div><div>Iowa State - CPRE - 556</div><div>QueryParsing.toString() should check ConstantScoreRangeQuery before RangeQueryThiscfw_code:title=QueryParsing.toString()if (query instanceof TermQuery) cfw_: else if (query instanceof RangeQuery) cfw_: else if (query instanceof ConstantScoreRangeQu</div><div><strong><a href="/file/7204805/2009-02/">2009-02</a></strong></div><div>Iowa State - CPRE - 556</div><div>binary type isn&#039;t documented nor demonstrated in the tutorialThe thrift IDL has a type called &amp;quot;binary&amp;quot; for blobs but it&#039;s not listed in the tutorial nor in the documentation.AutoLinkResolver does not work with &amp;lt;a href=&amp;quot;#internal&amp;quot;&amp;gt;Internal link&amp;lt;/a&amp;gt;I thi</div><div><strong><a href="/file/7204806/2009-03/">2009-03</a></strong></div><div>Iowa State - CPRE - 556</div><div>Memory not released in SoftRefFilesCacheImplementation of method putFile(final FileObject file) does not remove references from refReverseMap when adding a new file.#current implementationcfw_noformatsynchronized (files)cfw_files.put(file.getName(),</div><div><strong><a href="/file/7204807/2009-05/">2009-05</a></strong></div><div>Iowa State - CPRE - 556</div><div>Support &amp;quot;templateExpression&amp;quot; and &amp;quot;templateType&amp;quot; in tiles-templateCurrently, attributes &amp;quot;templateType&amp;quot; and &amp;quot;templateExpression&amp;quot; are not supported in tiles-template and depending modules.These attributes should be supported.Deprecate &amp;quot;initContainer&amp;quot; tag</div><div><strong><a href="/file/7204808/2009-09/">2009-09</a></strong></div><div>Iowa State - CPRE - 556</div><div>feature name for cxf-wsdl-first-osgi-package example should be examples-cxf-wsdl-first-osgi-packagebut not example-cxf-wsdl-first-osgi-package, to keep the same naming rule as other examplesSimpleServer: docs need updating for Tomcat 6The current instr</div><div><strong><a href="/file/7204809/2010-05/">2010-05</a></strong></div><div>Iowa State - CPRE - 556</div><div>fileinstall does not recognize jars if it does not have Bundle-SymbolicName and Bundle-VersionFileInstall does not recognize jar files that have only Bundle-SymbolicName. I see the following code in BundleTransformer.java: if (m.getMainAttributes().getV</div><div><strong><a href="/file/7204810/2010-11/">2010-11</a></strong></div><div>Iowa State - CPRE - 556</div><div>Avoid dropping messages off the client request pathCXF CamelTransport and &amp;quot;Can&#039;t find input stream in message&amp;quot;When using a JaxWS proxy with camel transport, to a route with only one processor, CXF fail with the message &amp;quot;Can&#039;t find input stream in messag</div><div><strong><a href="/file/7204811/PADP6910-Feb-1-Notes-for-Iris/">PADP6910 - Feb 1 Notes (for Iris)</a></strong></div><div>UGA - PADP - 6910</div><div>Tuesday, February 1, 2011:Class Structure today:- Review- Segue- 4 Presentations (of each chapter)- Discussion/Class ExerciseReview: Classical Approach- the documentary: The Storm lets connect to the Classical approach-Breakdown in Bureaucracy We</div><div><strong><a href="/file/7204812/GEOG1111-Lecture-Notes/">GEOG1111 Lecture Notes</a></strong></div><div>UGA - GEOG - 1111</div><div>GEOG 1111 (T/R 11:00-12:15), Matthew Miller Class Notes1Thursday, January 7, 2010:Introduction:- 7th edition of the Christopherson (black, &amp;lt; yr old; 2009): dont have to have the 7thedition; CD NOT Required; if get an older edition, will have the info</div><div><strong><a href="/file/7204813/GEOG1111-Post-Exam-2/">GEOG1111 Post-Exam 2</a></strong></div><div>UGA - GEOG - 1111</div><div>GEOG1111: POST-2nd EXAMMatthew MillerCHAPTER 10: GLOBAL CLIMATE SYSTEMS:Thursday, March 4, 2010:Climate:- Climates are the patterns of weather that a place experiences over time (years)-&amp;gt; Climates deal with long-term trends- Climates are very diver</div><div><strong><a href="/file/7204814/GEOL1111-Lecture-Notes/">GEOL1111 Lecture Notes</a></strong></div><div>UGA - GEOG - 1111</div><div>GEOG 1111 (T/R 11:00-12:15), Matthew Miller Class Notes1Thursday, January 7, 2009:Introduction:- 7th edition of the Christopherson (black, &amp;lt; yr old; 2009): dont have to have the 7thedition; CD NOT Required; if get an older edition, will have the info</div><div><strong><a href="/file/7204815/INTL3200-lecture-notes-post-midterm/">INTL3200 - lecture notes post midterm</a></strong></div><div>UGA - INTL - 3200</div><div>Monday, Oct 12, 2009- TicknerRoadmap:- Feminism as a Discipline- Tickners meta-disciplinary analysis- Petersons functional ApproachFeminism has been around even longer than liberalism -&amp;gt; straw man argumentDifferent types of feminism:In early days,</div><div><strong><a href="/file/7204816/INTL4220-Spring-2011-Tessman/">INTL4220 (Spring 2011 - Tessman)</a></strong></div><div>UGA - INTL - 4220</div><div>Brock TessmanINTL 4220: International Conflict Spring 2011Thursday, January 13, 2011:- Tessman teaches classes in international conflict, grand strategy, security studies- Old school thinker all sorts of international conflict (terrorism, civil war (b</div><div><strong><a href="/file/7204817/INTL4440-Notes-for-Madison-110210/">INTL4440 Notes for Madison (11:02:10)</a></strong></div><div>UGA - INTL - 4440</div><div>Dr. Johnson Strat IntelNotes for MadisonTuesday, November 2, 2010:Study Abroad, Stellenbosch, South Africa:- 4 week trip- Sociology/INTL study abroad program in South Africa (see where NelsonMandela sat in jail, )- Classes: Politics of development </div><div><strong><a href="/file/7204818/INTL4460-NOTES-POST-Midterm/">INTL4460 NOTES - POST-Midterm</a></strong></div><div>UGA - INTL - 4460</div><div>INTL4460 - POST-MIDTERM NOTESNikonovSpring 2010Thursday, Feb 4, 2010:Cooperative Threat Reduction: G8 Global Partnership- the nature of nonproliferation has changed over the course of its history- shift from USSR vs Russia to question of where could</div><div><strong><a href="/file/7204819/INTL4460-NOTES/">INTL4460 NOTES</a></strong></div><div>UGA - INTL - 4460</div><div>INTL4460Arms Control and DisarmamentNikonov (T/R 12:30-1:45)1Thursday, Jan 7, 2010Dmitriy Nokonov,- no doubt will talk about arms control and disarmament -&amp;gt; also added a section onnonproliferation- *This course is about WMD - the danger it causes</div><div><strong><a href="/file/7204820/PADP-711-Book-Notes-for-Final-Exam/">PADP 711- Book Notes for Final Exam</a></strong></div><div>UGA - PADP - 7110</div><div>PADP 7110Final Exam Book NotesCHAPTER 6: SAMPLINGCHAPTER 9: SURVEY RESEARCH-3 general features of survey research:o 1) A large number of respondents are chosen through probability samplingprocedures to represent the population of inters.o 2) Syste</div><div><strong><a href="/file/7204821/PADP7110-Bozeman-Fall-2011/">PADP7110 (Bozeman) - Fall 2011</a></strong></div><div>UGA - PADP - 7110</div><div>1PADP7110: Research MethodsMonday, August 15, 2011:Fall 2011HebdonNOTE: Dr. Bozeman will call on you even when you dont raise your hand. This class is muchmore interactive than most classes (even though is a large class).-Most people in this class</div><div><strong><a href="/file/7204822/PADP-7210-POST-MIDTERM-NOTES-Dr-Prittie-Sp2012/">PADP 7210 - POST-MIDTERM NOTES (Dr. Prittie - Sp2012)</a></strong></div><div>UGA - PADP - 7210</div><div>PADP7210: Post-Midterm NotesSpring 2012Dr. PrittieThursday, September 27, 2012 (right after midterm):- Angel Food Ministries Caseo What was going right? Crazy good at delivering groceries not bad food like what wegenerally think go with a food bank</div><div><strong><a href="/file/7204823/PADP7210-Intro-to-Nonprofits-Fall-2012-Class-Notes/">PADP7210 (Intro to Nonprofits Fall 2012) Class Notes</a></strong></div><div>UGA - PADP - 7210</div><div>PADP7210: Intro to NonprofitsFall 2012Dr. PrittieThursday, August 16, 2012:- Joan Prittie: 2nd year teaching this class, 5th in MPA; law and nonprofit backgroundso On a practical note, the time that she devotes to this class is class time but ifever</div><div><strong><a href="/file/7204824/PADP7210-Class-Notes-09-13-2012/">PADP7210 Class Notes (09-13-2012)</a></strong></div><div>UGA - PADP - 7210</div><div>PADP7210: Intro to NonprofitsFall 2012Dr. PrittieThursday, September 13, 2012:PPT: Non Profit Policies: Important policies to build and maintain public trust starting to look more closely at our boards difference between management andgovernance wh</div><div><strong><a href="/file/7204825/PADP7900-Guo-Sp2012-Class-Notes/">PADP7900 (Guo) - Sp2012 Class Notes</a></strong></div><div>UGA - PADP - 7900</div><div>PADP 7900: Managing VolunteersThursday, January 12, 2012:GuoSpring 2012-self intro o born and raised in Hunan province small town of ~1M small town has a lotof history was the capitol city of the first dynasty in China born in very interesting tim</div><div><strong><a href="/file/7204826/PADP6930-Post-Midterm-Notes/">PADP6930 - Post-Midterm Notes</a></strong></div><div>UGA - PADP - 6930</div><div>PADP6930: Post-Midterm NotesDr. CarrollFall 20121Monday, October 15, 2012 (political discussion on tax revenue right after midterm):1) Who should be responsible for more/less of the tax burden? Why?GOP:- hard to get a figure on who is responsible f</div><div><strong><a href="/file/7204827/PADP6930-Carroll-Fall-2012-Class-Notes/">PADP6930 (Carroll-Fall 2012) Class Notes</a></strong></div><div>UGA - PADP - 6930</div><div>1PADP6930 Public &amp;amp; Financial Admin. Dr. CarrollFall 2012Monday, August 13, 2012:Dr. Carroll had been at UGA since 2006, was part of the faculty at UK-Knoxville for 2 yearsbefore that; from Milwaukee, WI and got her bachelors (poly sci and philosophy)</div><div><strong><a href="/file/7204828/PADP6930-Carroll-Oct-23-Notes/">PADP6930 (Carroll) - Oct 23 Notes</a></strong></div><div>UGA - PADP - 6930</div><div>1PADP6930: Post-Midterm NotesDr. CarrollFall 2012Monday, October 22, 2012:PPT: Tax Systems and Policies (Mikesell, Chapter 7) tonight is just a broad overview of this stuff, to try to cut through the political jargonConstitutional Framework &amp;amp; Nexus</div><div><strong><a href="/file/7204829/PADP6950-Class-Notes-1st-day-of-class/">PADP6950 Class Notes (1st day of class)</a></strong></div><div>UGA - PADP - 6950</div><div>Dr. FertigPADP6950: Foundations of Policy AnalysisSpring 2011Monday, January 24, 2011:- like snacks going to have them every day- please call Angie or Dr. Angie- philosophy: you are responsible for what Angie says in class &amp;amp; what is on thelecture n</div><div><strong><a href="/file/7204830/PHIL2030H-Kant-Reading-Question/">PHIL2030H - Kant Reading Question</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H11 October 2010Reading Question: KantQuestion 1. What is the Good Will? Why does Kant think it is so important? What is therelationship between the Good Will and our moral Duty? What do you think of his</div><div><strong><a href="/file/7204831/PHIL2030H-Reading-Question-1-Plato-and-Hume/">PHIL2030H - Reading Question 1 (Plato and Hume)</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H23 August 2010Reading Question: Plato and HumeQuestion: 1. What two roles does Hume claim reason plays in our deliberations? Whycant reason alone guide our actions? Explain whether or not you think Hume </div><div><strong><a href="/file/7204832/PHIL2030H-Reading-Question-2-Ayer-and-Searle/">PHIL2030H - Reading Question 2 (Ayer and Searle)</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H31 August 2010Reading Question: Ayer and SearleQuestion: 1. Ayer claims that propositions containing moral, or normative terms, aremeaningless. How does he argue for this claim? Also, if moral judgments </div><div><strong><a href="/file/7204833/PHIL2030H-Reading-Question-3-Searle-Flew-Foot-and-Korsgaard/">PHIL2030H - Reading Question 3 (Searle, Flew, Foot, and Korsgaard)</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H7 September 2010Reading Question 3: Searle, Flew, Foot, and KorsgaardQuestion: 2. How does Foot address the problems raised by non-naturalists such asAyer? How does her argument proceed? Do you think her</div><div><strong><a href="/file/7204834/PHIL2030H-Reading-Question-4-Korgaard-and-Rawles/">PHIL2030H - Reading Question 4 (Korgaard and Rawles)</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H14 September 2010Reading Question 4: Korsgaard and RawlsQuestion: 4. What would Rawls account of justice require, practically speaking, if wewere to adopt it? In answering, you should briefly explain his</div><div><strong><a href="/file/7204835/PHIL2030H-Reading-Question-7/">PHIL2030H - Reading Question 7</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL 2030H20 October 2010Reading Question 7Question: 1. Feldman argues that we can tweak our maxims so that theyconform to the categorical imperative. Explain the case he appeals to in hisargument. Do you think </div><div><strong><a href="/file/7204836/PHIL2030H-Reading-Question-8-Mill-and-Williams/">PHIL2030H - Reading Question 8 (Mill and Williams)</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H2 November 2010Reading Question 8: Utilitarianism3. What is one of Williams concerns with utilitarianism? Explain hisanalysis.In examining utilitarianism, Williams is concerned with the inability of the</div><div><strong><a href="/file/7204837/PHIL2030H-Reading-Questions-9/">PHIL2030H - Reading Questions 9</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonPHIL2030HDr. Matthew Schneider8 November 2010Reading Question 11. What is the difference between act and rule utilitarianism? How mightattention to this distinction help solve some of the puzzle casesdiscussed in the text and in cla</div><div><strong><a href="/file/7204838/PHIL2030H-Reading-Question-5/">PHIL2030H Reading Question 5</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL 2030H Reading Question 520 September 2010Reading Question: Rawls, Narveson, and SterbaQuestion 2. What is Liberty? How do libertarians such as Narveson utilize the concept inan argument for their political v</div><div><strong><a href="/file/7204839/stat1/">stat1</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204840/stat2/">stat2</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204841/stat3/">stat3</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204842/stat4/">stat4</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204843/stat5/">stat5</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204844/stat6/">stat6</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204845/stat7/">stat7</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204846/stat8/">stat8</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204847/stat9/">stat9</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204848/stat10/">stat10</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204849/Outline-for-amfamsocamppol-thoughts/">Outline for amfamsoc&amp;pol thoughts</a></strong></div><div>Old Dominion - SOC - 420</div><div>April Goode10/6/2011OutlineThesis Statement: People of color have experienced a number of hardships from the beginningsof slavery to present day by the white community. Because of the intended mental and physicalbreakdown, or assimilation, they not o</div><div><strong><a href="/file/7204850/AA-socamppol-thought-preference-group-impact-question/">AA soc&amp;pol thought preference group impact question</a></strong></div><div>Old Dominion - SOC - 420</div><div>April Goode6/26/2012Essay QuestionDescribe and explain how race, gender, class, and/or sexual preference groups impacts theiropportunities in America.RaceIn America there is still evidence of racism, meaning race does matter. Racism is thebelief in</div>											</div>
		</div>
		<div id="related_flashcard_sets" class="ajax_load" data-params="filehash=7aa53ea3ca18cd22c673a4c81bfb8f4e0dfa8b40"></div>
	</div>
</div>
<script src="/javascript/modal.js"></script>
<script src="/javascript/common/select2.js"></script>
<script src="/javascript/expert-ready.js" type="text/javascript" charset="utf-8">
</script>
<script src="/javascript/expert-home.js" type="text/javascript" charset="utf-8">
</script>
<script>
jQuery(document).ready(function(){
	jQuery('#doc-rating').raty({
		readOnly: true,
		score: function() {
			return jQuery(this).attr('data-score');
		}
	});
})
</script>
<!--[if (gte IE 6)&(lte IE 8)]>
<script>
jQuery(document).ready(function(){
	jQuery(".ch-doc-large-thumbnail-container").live( 'mouseover', function() {
		jQuery(this).find(".ch-doc-large-thumbnail-details").show();
	}).live('mouseout', function() {
		jQuery(this).find(".ch-doc-large-thumbnail-details").hide();
	});
})
</script>
<![endif]-->
<!--
<PageMap>
  <DataObject type="docinfo">
		<Attribute name="schoolid">864</Attribute>
	<Attribute name="deptid">2012</Attribute>
	<Attribute name="coursenum">556</Attribute>
					<Attribute name="docd">20121012</Attribute>
				<Attribute name="dt">0</Attribute>
		<Attribute name="y">212</Attribute>
	<Attribute name="uk">2</Attribute>
	<Attribute name="ku">1</Attribute>
	<Attribute name="ukrev">2</Attribute>
	<Attribute name="kurev">1</Attribute>
	<Attribute name="ukone">1</Attribute>
	<Attribute name="ytestnew">2</Attribute>
	<Attribute name="ytestold">1</Attribute>
	<Attribute name="qst">answered</Attribute>
	<Attribute name="isd">1</Attribute>
  </DataObject>
	<DataObject type="document">
		<Attribute name="title">2006-03</Attribute>
		<Attribute name="filehash">7aa53ea3ca18cd22c673a4c81bfb8f4e0dfa8b40</Attribute>
		<Attribute name="db_filename">7204789</Attribute>
		<Attribute name="page_count">202</Attribute>
		<Attribute name="school_type">HIGHER</Attribute>
		<Attribute name="doc_source">user</Attribute>
		<Attribute name="doc_type">txt</Attribute>
		<Attribute name="school_name">Iowa State</Attribute>
		<Attribute name="school_id">864</Attribute>
		<Attribute name="dept_acro">CPRE</Attribute>
		<Attribute name="dept_id">2012</Attribute>
		<Attribute name="course_name">Scalabla Sofwatre Engineering</Attribute>
		<Attribute name="course_num">556</Attribute>
		<Attribute name="course_id">1526018</Attribute>
		<Attribute name="prof_name">Sibran</Attribute>
		<Attribute name="year">2012</Attribute>
		<Attribute name="term">3</Attribute>
		<Attribute name="date">2012-10-12 10:36:30</Attribute>
		<Attribute name="gs_date">20121012</Attribute>
		<Attribute name="canid"></Attribute>
	</DataObject>
	<DataObject type="stats">
		<Attribute name="created">2012-10-12 10:36:30</Attribute>
		<Attribute name="modified">2012-10-12 10:36:30</Attribute>
		<Attribute name="gs_date">20121012</Attribute>
		<Attribute name="priority">100</Attribute>
		<Attribute name="course_tagged">1</Attribute>
		<Attribute name="course_tagged_big">999999999</Attribute>
	</DataObject>
	<DataObject type="course_tag">
		<Attribute name="school_name">Iowa State</Attribute>
		<Attribute name="school_id">864</Attribute>
		<Attribute name="dept_acro">CPRE</Attribute>
		<Attribute name="dept_id">2012</Attribute>
		<Attribute name="course_name">Scalabla Sofwatre Engineering</Attribute>
		<Attribute name="course_num">556</Attribute>
		<Attribute name="course_id">1526018</Attribute>
	</DataObject>
</PageMap>
-->

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>


<script type="text/javascript">
    var recording_scrolling_text_version = false;
    jQuery(document).ready(function(){
        var pageTracker = _gat._getTracker("UA-1389869-2");
        if (jQuery(".ch-document-excerpt").length > 0) {
            jQuery(".ch-document-excerpt").scroll( function(){
                if (!recording_scrolling_text_version) {
                    pageTracker._trackEvent('Scrolling', 'ScrolledTextVersion', 'UserIsScroller', 1);
                    //_gaq.push(['_trackEvent', 'Scrolling', 'ScrolledTextVersion', 'UserIsScroller', 1]);
                    recording_scrolling_text_version = true;
                }
            });
        }
    });


</script>

<script type="text/javascript">

try {
    if (utmx('combination') != undefined) {
        var l = document.location, s = l.search;
        s = s + (s.length ? '&' : '?') + 'combination=' + utmx('combination');
        var pageTracker = _gat._getTracker("UA-1389869-2");
        
        pageTracker._setCustomVar(1, "usertype", "", 1);
                
        pageTracker._trackPageview(l.pathname + s);
    }
    else {
        var pageTracker = _gat._getTracker("UA-1389869-2");
        pageTracker._initData();
        
        pageTracker._setCustomVar(1, "usertype", "", 1);
                
        pageTracker._trackPageview();
    }
}catch(err){
        var pageTracker = _gat._getTracker("UA-1389869-2");
        pageTracker._initData();
        
        pageTracker._setCustomVar(1, "usertype", "", 1);
                
        pageTracker._trackPageview();
}
 
</script>
<script type="text/javascript">

adroll_adv_id = "RMA4JRK3LBCRFDGPVVO45A";
adroll_pix_id = "4D6DGYEGP5GENH5XDDV55J";
(function () {
var oldonload = window.onload;
window.onload = function(){
  __adroll_loaded=true;
  var scr = document.createElement("script");
  var host = (("https:" == document.location.protocol) ?
"https://s.adroll.com" : "http://a.adroll.com");
  scr.setAttribute('async', 'true');
  scr.type = "text/javascript";
  scr.src = host + "/j/roundtrip.js";
  document.documentElement.firstChild.appendChild(scr);
  if(oldonload){oldonload()}};
}());

</script>






<div id="ch-footer-wrapper" class="ch-wrapper">
	<div class="ch-container">
									<div class="ch-certificates">
					
<a href="https://seal.verisign.com/splash?form_file=fdf/splash.fdf&dn=www.coursehero.com" target="_blank" rel="nofollow" class="security-seals-verisign"></a>
<a class="security-seals-bbb"></a>
<a href="http://privacy-policy.truste.com/click-with-confidence/wps/en/www.coursehero.com" target="_blank"  rel="nofollow" class="security-seals-truste"></a>

				</div>
									<script type="text/javascript">
				var __fList_network = true;
				var __fList_textbook = false;
				var __fList_concepts = true;
				var __fList_homework = true;
				var __fList_skills = true;
			</script>
			
											  					<div class="ajax_load" id="ajax_footer_sitemap"></div>
				  										<div class="ch-footerlinks" id="ft-links-id">
				<ul>
					<li><a href="/sitemap/">Sitemap</a></li>
					<li><a href="/tutors/problems/">Tutors</a></li>
					<li><a href="/keywords/">Educational Concepts</a></li>
					<li><a href="/textbooks/">Textbooks</a></li>
					<li><a href="http://blog.coursehero.com">Blog</a></li>
					<li><a href="/study-skills/">Study Skills</a></li>
                    <li><a href="/subjects/">Subjects</a></li>
				</ul>
			</div>
				</div>
</div>


<script src="/javascript/common/select2.js"></script>
<script src="/min/?f=/javascript/jquery-ui-1.8.19.custom.min.js,/javascript/google_autocomplete.js,/javascript/jquery.raty.min.js,/javascript/jstz-1.0.4.min.js,/javascript/jquery.scrollspy.js,/javascript/jquery.ui.widget.js" type="text/javascript" charset="utf-8"></script>
<script src="/min/?f=/javascript/jquery.iframe-transport.js,/javascript/jquery.fileupload.js,/javascript/footer.js,/javascript/jquery.jcarousel.min.js,/javascript/jquery.boxy.js,/javascript/classes/VTab.js" type="text/javascript" charset="utf-8"></script>
<script src="/min/?f=/javascript/classes/main.js,/javascript/classes/benefits.js" type="text/javascript" charset="utf-8"></script>

</body>
</html>
