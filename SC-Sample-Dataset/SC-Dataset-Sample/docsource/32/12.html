<!DOCTYPE html>
<!--[if lt IE 9 ]>
<html class="ltie9" lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:nitro="http://www.bunchball.com/nitro">
<![endif]-->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:nitro="http://www.bunchball.com/nitro">
<head>
	<script type="text/javascript" src="/javascript/error_logging.js">

	</script>
				<base href="http://www.coursehero.com/">		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		
	
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,300,600,700" rel="stylesheet" type="text/css"/>
			<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width"/>
	

		
	
			<script src="/javascript/jquery-1.7.2.min.js"></script>
			
	
		
	
	<script>
		jQuery(document).ready(function(){
			var ua = navigator.userAgent.toLowerCase();
			var isAndroid = ua.indexOf("android") > -1;
			if(isAndroid) {
				jQuery('#ch-primary-navigation-list-container li').doubleTapToGo();
			}
		})
	</script>

	<!--[if IE 8]>
		<script type="text/javascript" src="/javascript/selectivizr-min.js">
		</script>
	<![endif]-->
		
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
	
	
            <title>Iowa State : CPRE 556 : 2005 09</title>
    

<link rel="stylesheet" href="/min/?f=/css/v2/ch-master-style.css,/css/v2/jquery-styles/jquery.ui.css,/css/v2/study-documents/ch-document-thumbnail.css,/css/v2/study-documents/ch-doc-landing.css,/css/v2/ch-universal-widgets.css" type="text/css" media="screen" charset="utf-8">
<script src="/min/?f=/javascript/tracker_pageview.js,/javascript/error_logging.js,/javascript/header.js,/javascript/ajax_load.js,/javascript/doubletaptogo.min.js" type="text/javascript" charset="utf-8"></script>
</head>


<body class="">
<div>

<script type="text/javascript">
	var __basic = false;
	appId = 126130834105126;
</script>

<script>

  // Load the SDK's source Asynchronously
  // Note that the debug version is being actively developed and might 
  // contain some type checks that are overly strict. 
  // Please report such bugs using the bugs tool.
  (function(d, debug){
	 var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
	 if (d.getElementById(id)) {return;}
	 js = d.createElement('script'); js.id = id; js.async = true;
	 js.src = "//connect.facebook.net/en_US/all" + (debug ? ("/" + "debug") : "") + ".js";
	 ref.parentNode.insertBefore(js, ref);
   }(document, /*debug*/ false));
  
</script>


						<div id="ch-primary-navigation-wrapper" class="ch-wrapper">
	<div class="container">
		<div id="ch-brand-navigation">
			<a href="/?no_redir=1"><img src="/img/CourseHero_Logo_white.png" alt="Course Hero"/></a>
		</div>
		<div id="ch-primary-navigation-container">
			<a href=""  onClick="return false;" class="ch-primary-show-mobile-nav"><i class="icon-th-list"></i></a>
			<ul id="ch-primary-navigation-list-container">
																								<li>
							<a href="/study-materials/" class="ch-product-navigation-single-link">Study Documents</a>
															
								<ul class="ch-primary-sub-navigation">
																													<li><a href="/study-materials/" class="ch-product-sub-navigation-link">Find Documents</a></li>
										
																																																										<li><a href="/textbooks/" class="ch-product-sub-navigation-link">Textbook Help</a></li>
										
																																							<li><a href="/uploads.php" class="ch-product-sub-navigation-link">Upload Documents</a></li>
										
																											</ul>
													</li>
																				<li>
							<a href="/tutors/" class="ch-product-navigation-single-link">Tutors</a>
															
								<ul class="ch-primary-sub-navigation">
																													<li><a href="/qa_ask_question.php" class="ch-product-sub-navigation-link">Ask a Question</a></li>
										
																																																																													<li><a href="/become-a-tutor/" class="ch-product-sub-navigation-link">Become a Tutor</a></li>
										
																																							<li><a href="/qa/about_tutors.php" class="ch-product-sub-navigation-link">About Tutors</a></li>
										
																											</ul>
													</li>
																				<li>
							<a href="/flashcards/" class="ch-product-navigation-single-link">Flashcards</a>
															
								<ul class="ch-primary-sub-navigation">
																																																<li><a href="/flashcards/browse/" class="ch-product-sub-navigation-link">Find Flashcards</a></li>
										
																																							<li><a href="/flashcards/create.php" class="ch-product-sub-navigation-link">Create Flashcards</a></li>
										
																																							<li><a href="/flashcards/" class="ch-product-sub-navigation-link">About Flashcards</a></li>
										
																											</ul>
													</li>
																				<li>
							<a href="/courses/" class="ch-product-navigation-single-link">eCourses</a>
															
								<ul class="ch-primary-sub-navigation">
																													<li><a href="/courses/" class="ch-product-sub-navigation-link">Find eCourses</a></li>
										
																																																										<li><a href="/courses/my_editable_courses.php" class="ch-product-sub-navigation-link">Create/Edit an eCourse</a></li>
										
																																							<li><a href="/courses/about.php" class="ch-product-sub-navigation-link">About eCourses</a></li>
										
																											</ul>
													</li>
																				<li>
							<a href="/contact.php" class="ch-product-navigation-single-link">Support</a>
															
								<ul class="ch-primary-sub-navigation">
																													<li><a href="/contact.php" class="ch-product-sub-navigation-link">Contact Us</a></li>
										
																																							<li><a href="/faq.php" class="ch-product-sub-navigation-link">FAQ</a></li>
										
																											</ul>
													</li>
																		<li class="ch-user-navigation" id="ch-user-signup">
													<a class="ch-nav-sign-up-action" href="/registerForm.php" rel="nofollow">Sign up</a>
											</li>
					<li class="ch-user-navigation">
													<a href="/login.php" rel="nofollow">Log-in</a>
											</li>
							</ul>
		</div>
		<div id="ch-primary-mobile-search-container">
			<a href="/study-materials/"  class="ch-primary-show-mobile-search"><i class="icon-search"></i></a>
		</div>
	</div>
</div>
	<div id="ch-primary-navigation-search-wrapper" class="ch-wrapper">
	<div class="container">
		<div id="ch-primary-navigation-search-container">
			<form id="global-search" action="/search_result.php" method="POST">
				<fieldset>
					<input type="hidden" name='header' value="v2"/>
                    <input type="hidden" name='filters_product' value="documents"/>
					<input type="text" id="stx_global" name="stx" placeholder="Search for educational resources to help you learn"/>
					<a href="#" id="ch-primary-navigation-search-btn">Search</a>
				</fieldset>
			</form>
		</div>
	</div>
</div>
<script>
	jQuery(document).ready(function(){
		jQuery("#stx_global").keypress(function(event) {
			if ( event.which == 13 ) {
				event.preventDefault();
				jQuery('#global-search').submit();
			}
		});
		jQuery("#ch-primary-navigation-search-btn").click(function(){
			jQuery('#global-search').submit();
			return false;
		})
	});
</script>

				

<div class="ch-wrapper" id="ch-content-wrapper">
	<div id="doc-landing-banner" class="ch-banner light-blue-bg">
		<div class="container">
			<div class="page-heading-wrapper">
				<h1 class="intro-page-heading">
					Register now to access <span class="txt-green">7 million</span> high quality study materials
				</h1>
				<a class="whats-coursehero-tooltip">(What's Course Hero?)
					<span>
					Course Hero is the premier provider of high quality online educational resources. With millions of study documents, online tutors, digital flashcards and free courseware, Course Hero is helping students learn more efficiently and effectively. Whether you're interested in exploring new subjects or mastering key topics for your next exam, Course Hero has the tools you need to achieve your goals.
					</span>
				</a>
			</div>
			<div id="doc-landing-about-document-container" temprop="mainContentOfPage" itemscope itemtype="http://schema.org/CreativeWork">
				<div class="ch-doc-image-thumbnail">
					<div class="ch-doc-image-thumbnail-view">
												<img itemprop="image" id="doc-image" src="/thumb/3e874d2f790c7514aedca6267b81fd2ce1216bb0_180.jpg" onerror="image_error_backup(this, '/view_thumbnail.php?filehash=3e874d2f790c7514aedca6267b81fd2ce1216bb0&size=180')" alt="2005-09"/>
											</div>
										<div class="ch-doc-pageno">148 Pages</div>
									</div>
				<div class="ch-doc-summary">
					<h4 itemprop="name">							2005-09
											</h4>
																		<p><strong>Course: </strong>CPRE 556, Spring 2012</p>
												<p><strong>School: </strong>Iowa State</p>
																<p><strong>Word Count: </strong> 33407</p>
										<p><strong>Rating: </strong> <span id="doc-rating" data-score="4"></span></p>
				</div>
				<div id="ch-doc-text-preview">
					<h6>Document Preview</h6>
					<div class="ch-doc-preview-contents">
																				<p>provide Cannot an initial value for an action that accepts an interface as its form bean
We have an action method that accepts an *interface* as its form bean argument, and we're trying to send a concrete implementation of the interface to a page that will post to the action.
Repro:
- Hit the attached page flow (/miniTests/initFormBeanInterface/Controller.jpf).
EXPECTED: See index.jsp with the text box...</p>
																		</div>
					<div class="coa-wrapper">
						<a href="/registerForm.php?reg_only=1" class="orange-btn l registerForm-link" id="ch-register-link">Register Now</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="container" id="doc-landing-container">
<div class="search-bar light-blue-bg studydocs-body-search-widget">
	<form id="search-form" action="/search_result.php" method="GET">
		<fieldset>
			<input type="hidden" id="je" name="je" value="0">
			<input type="hidden" id="autocomp" name="autocomp" value="0">
			<input type="hidden" id="fromqa" name="fromqa" value="1">
			<input type="text" class="search-bar-input" id="stx" name="stx" placeholder="Search by department, course, subject or keyword. Or ask a question" maxlength="500" />
			<a href="#" class="blue-btn search_bar_widget_submit"><i class="icon-search"></i><span>Search</span></a>
		</fieldset>
	</form>
</div>
<script type="text/javascript">
    jQuery(".search_bar_widget_submit").click(function(e){
        jQuery(this).parent().parent().submit();
        e.preventDefault();
        return false;
    });
</script>
        <div id="most_popular_materials_from_subject" class="ajax_load" data-params="school_type=HIGHER&school_name=Iowa State&dept_acro=CPRE&course_num=556&db_filename=7204783"></div>
        <div id="what_course_hero_offers" class="ajax_load"></div>
        <div id="qa_ask_question_widget" class="ajax_load" data-params="heading_inside=<strong>Cannot find the right document?</strong> Our tutors are available 24/7 to answer your questions."></div>
        <div id="horizontal_register_now" class="ajax_load"></div>
		<div class="doc-landing-doc-excerpt light-grey-bg">
			<h5>Unformatted Document Excerpt</h5>
							<a href="/">Coursehero</a> >> <a href="/sitemap/states/Iowa/">Iowa</a> >>
				<a href="/sitemap/schools/864-Iowa-State/">Iowa State</a> >>
				<a href="/sitemap/schools/864-Iowa-State/departments/2012-CPRE/">CPRE 556</a>
						<p>Course Hero has millions of student submitted documents similar to the one<br/>below including study guides, practice problems, reference materials, practice exams, textbook help and tutor support.</p>
			<p>Course Hero has millions of student submitted documents similar to the one below including study guides, practice problems, reference materials, practice exams, textbook help and tutor support.</p>
			<div title="Sign up now to view the formatted text.">
								<span itemprop="text">
											provide Cannot an initial value for an action that accepts an interface as its form bean
We have an action method that accepts an *interface* as its form bean argument, and we're trying to send a concrete implementation of the interface to a page that will post to the action.
Repro:
- Hit the attached page flow (/miniTests/initFormBeanInterface/Controller.jpf).
EXPECTED: See index.jsp with the text box initialized to the string, &quot;got it&quot;
ACTUAL: A tag error that says:
Caught exception when evaluating expression &quot;{actionForm.foo}&quot; with available binding contexts [actionForm, pageFlow, globalApp, request, session, application, pageContext, bundle, container, url, pageInput]. Root cause: java.lang.RuntimeException: Can not evaluate the identifier &quot;foo&quot; on a null value object.
EventReporter Struts11 BVT failed
This is recently checked with rev233281. It also fails in the distribution test. The diff file will be attached shortly.
UIComponent.processSaveState implementation not correct
I think the test for child.isTransient in line 449 of UIComponentBase has to be removed as the javadoc says
* Call the processSaveState() method of all facets and children of this UIComponent in the order determined by a call to getFacetsAndChildren().
There is no &quot;unless the facet of child is transient&quot; so processSaveState has to be called for all facets/children whether they are transient or not
Openejb proxy generation code assumes openejb classes can be loaded by interface's classloader
Openejb proxy generation code assumes that the openejb classes can be loaded by the interface's classloader. This is false for MEJB if you put the jsr-77 classes in a parent of o/a/g/Server.
The code is:
public CglibEJBProxyFactory(Class superClass, Class clientInterface) {
this(superClass, clientInterface, clientInterface.getClassLoader());
}
One workaround would be to see if either the superClass or interface classloader could load both classes and use that one.
The stack trace is:
15:29:28,344 ERROR [GBeanInstanceState] Error while starting; GBean is now in the FAILED state: objectName=&quot;geronimo.server:J2EEApplication=null,EJBModule=org/apache/geronimo/Server,J2EEServer=geronimo,j2eeType=StatelessSessionBean,name=ejb/mgmt/MEJB&quot;
net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null
at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:236)
at net.sf.cglib.proxy.Enhancer.createHelper(Enhancer.java:377)
at net.sf.cglib.proxy.Enhancer.createClass(Enhancer.java:317)
at org.openejb.proxy.CglibEJBProxyFactory.&lt;init&gt;(CglibEJBProxyFactory.java:88)
at org.openejb.proxy.CglibEJBProxyFactory.&lt;init&gt;(CglibEJBProxyFactory.java:72)
at org.openejb.proxy.CglibEJBProxyFactory.&lt;init&gt;(CglibEJBProxyFactory.java:68)
at org.openejb.proxy.EJBProxyFactory.getFactory(EJBProxyFactory.java:303)
at org.openejb.proxy.EJBProxyFactory.&lt;init&gt;(EJBProxyFactory.java:129)
at org.openejb.proxy.EJBProxyFactory.&lt;init&gt;(EJBProxyFactory.java:97)
at org.openejb.proxy.EJBProxyFactory.&lt;init&gt;(EJBProxyFactory.java:92)
at org.openejb.mejb.MEJB.&lt;init&gt;(MEJB.java:123)
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
at java.lang.reflect.Constructor.newInstance(Constructor.java:274)
at org.apache.geronimo.gbean.runtime.GBeanInstance.createInstance(GBeanInstance.java:875)
at org.apache.geronimo.gbean.runtime.GBeanInstanceState.attemptFullStart(GBeanInstanceState.java:325)
at org.apache.geronimo.gbean.runtime.GBeanInstanceState.start(GBeanInstanceState.java:110)
at org.apache.geronimo.gbean.runtime.GBeanInstanceState.startRecursive(GBeanInstanceState.java:132)
at org.apache.geronimo.gbean.runtime.GBeanInstance.startRecursive(GBeanInstance.java:516)
at org.apache.geronimo.kernel.basic.BasicKernel.startRecursiveGBean(BasicKernel.java:210)
at org.apache.geronimo.gbean.runtime.GBeanInstanceState.startRecursive(GBeanInstanceState.java:140)
at org.apache.geronimo.gbean.runtime.GBeanInstance.startRecursive(GBeanInstance.java:516)
at org.apache.geronimo.kernel.basic.BasicKernel.startRecursiveGBean(BasicKernel.java:210)
at org.apache.geronimo.system.main.Daemon.doStartup(Daemon.java:246)
at org.apache.geronimo.system.main.Daemon.&lt;init&gt;(Daemon.java:79)
at org.apache.geronimo.system.main.Daemon.main(Daemon.java:309)
Caused by: java.lang.reflect.InvocationTargetException
at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:384)
at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:218)
... 26 more
Caused by: java.lang.NoClassDefFoundError: org/openejb/proxy/SessionEJBObject
at java.lang.ClassLoader.defineClass0(Native Method)
at java.lang.ClassLoader.defineClass(ClassLoader.java:539)
... 31 more
Spring framework site address is wrong
The site address for Spring framework given here at http://ibatis.apache.org/team.html is wrong. It should be http://www.springframework.org/
&lt;x:jsValueChangeListener /&gt; does not work within portlet
If you use &lt;x:jsValueChangeListener /&gt; within a page of a portlet, there are exceptions thrown and the portlet is not renderd.
If I remove the listener everything is renderd properly.
If you enhance the sample_jsf_myfaces_portlet.war by a simple code like following, you can reproduce it (It should update the input field on changing the combobox):
&lt;h:selectOneMenu id=&quot;type&quot; value=&quot;#{view.type}&quot; immediate=&quot;true&quot;&gt;
&lt;f:selectItem itemValue=&quot;A&quot; itemLabel=&quot;A&quot; /&gt;
&lt;f:selectItem itemValue=&quot;B&quot; itemLabel=&quot;B&quot; /&gt;
&lt;x:jsValueChangeListener for=&quot;typeValue&quot; property=&quot;value&quot; expressionValue=&quot;($destElem.value=$srcElem.value)&quot; /&gt;
&lt;/h:selectOneMenu&gt;
&lt;h:inputText id=&quot;typeValue&quot; value=&quot;#{view.type}&quot; /&gt;
An exception when clicking on the Engine tab in the Inspector
Clicking on the Engine tab in the Inspector causes the following error:
ognl.NoSuchPropertyException
org.apache.tapestry.engine.BaseEngine.contextPath
I have fixed and checked in a number of other Inspector problems caused by the new version, but I am not sure everything has been covered. Perhaps we need to do some exhaustive QA before release.
Stack Trace:
* ognl.ObjectPropertyAccessor.getProperty(ObjectPropertyAccessor.java:123)
* ognl.OgnlRuntime.getProperty(OgnlRuntime.java:1616)
* ognl.ASTProperty.getValueBody(ASTProperty.java:96)
* ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:170)
* ognl.SimpleNode.getValue(SimpleNode.java:210)
* ognl.ASTChain.getValueBody(ASTChain.java:109)
* ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:170)
* ognl.SimpleNode.getValue(SimpleNode.java:210)
* ognl.Ognl.getValue(Ognl.java:333)
* ognl.Ognl.getValue(Ognl.java:310)
* org.apache.tapestry.services.impl.ExpressionEvaluatorImpl.readCompiled(ExpressionEvaluatorImpl.java:84)
* $ExpressionEvaluator_104f3a8c94b.readCompiled($ExpressionEvaluator_104f3a8c94b.java)
* org.apache.tapestry.binding.ExpressionBinding.resolveExpression(ExpressionBinding.java:110)
* org.apache.tapestry.binding.ExpressionBinding.getObject(ExpressionBinding.java:103)
* org.apache.tapestry.binding.AbstractBinding.getObject(AbstractBinding.java:87)
* $Insert_105.getValue($Insert_105.java)
* org.apache.tapestry.components.Insert.renderComponent(Insert.java:42)
...
Reconfigure plugin .classpath to follow Maven convention
Each plugin .classpath file should be reconfigured to follow Maven conventions with output in target/classes. This will keep and use the same output folder when building with Maven or within Eclipse IDE.
.classpath change for org.eclipse.geronimo.core didn't make it in patch
change from 936 for org.eclipse.geronimo.core didn't make it into the fix.
Codegen'ed Axis2 stubs doesn't handlle SoapFaults properly
When the service reports a SOAP fault the stub throuws the following :org.apache.axis2.om.OMException: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[15,151]
This is the complete stack trace that I got with my stub generated for security interops:
org.apache.axis2.om.OMException: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[15,151]
Message: already reached end document
at org.apache.axis2.om.impl.llom.builder.StAXOMBuilder.next(StAXOMBuilder.java:203)
at org.apache.axis2.om.impl.llom.OMElementImpl.buildNext(OMElementImpl.java:452)
at org.apache.axis2.om.impl.llom.OMElementImpl.getFirstChild(OMElementImpl.java:462)
at org.apache.axis2.om.impl.llom.OMElementImpl.getFirstElement(OMElementImpl.java:697)
at org.apache.axis2.soap.impl.llom.SOAPBodyImpl.hasFault(SOAPBodyImpl.java:73)
at org.apache.axis2.clientapi.InOutMEPClient.invokeBlocking(InOutMEPClient.java:179)
at org.apache.axis2.oasis.ping.PingPortStub.Ping(PingPortStub.java:75)
at org.apache.axis2.security.InteropClient.makeCall(InteropClient.java:50)
at org.apache.axis2.security.InteropClient.main(InteropClient.java:30)
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[15,151]
Message: already reached end document
at com.bea.xml.stream.MXParser.parseEpilog(MXParser.java:1839)
at com.bea.xml.stream.MXParser.nextImpl(MXParser.java:1723)
at com.bea.xml.stream.MXParser.next(MXParser.java:1180)
at org.apache.axis2.om.impl.llom.builder.StAXOMBuilder.next(StAXOMBuilder.java:163)
... 8 more
mod_python.publisher index.py exposes underscore prefixed variables
If index.py is used with mod_python.publisher, all underscore prefixed
variables are actually visible and not hidden as they should. This could
result in exposure of login/passwd information stored in __auth__ as a
dictionary, plus any other private data in underscore prefixed variables.
See following exchange from mailing list. This may require a security
fix release.
You have found a bug in mod_python.publisher. It shouldn't be visible,
but the code which handles defaulting to &quot;index.py&quot; doesn't reapply the
rule which stops access to &quot;_&quot; variables.
Ie., early in code in publisher.py, it has a check:
# if any part of the path begins with &quot;_&quot;, abort
if func_path[0] == '_' or func_path.count(&quot;._&quot;):
raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND
After that point though it has:
try:
module = apache.import_module(module_name, 
autoreload=autoreload,
log=log,
path=[path])
except ImportError:
et, ev, etb = sys.exc_info()
# try again, using default module, perhaps this is a 
# /directory/function (as opposed to /directory/module/function)
func_path = module_name
module_name = &quot;index&quot;
try:
module = apache.import_module(module_name, 
autoreload=autoreload,
log=log,
path=[path])
except ImportError:
# raise the original exception
raise et, ev, etb
Note how it resets the value of func_path. After that the code goes on
to reolve the object, but the new func_path has skipped the check.
I believe the fix would be for the &quot;_&quot; check to be after the import and
not before.
The only workaround you would have in the short term is not to use
an &quot;index.py&quot; file and always name it something different.
This is actually a security hole because any __auth__ stuff would
be visible and thus people could work out login/passwd. This may
require another security fix release of mod_python. :-(
Graham
Jan Huelsbergen wrote ..
&gt; Hi,
&gt; 
&gt; The mod_python.publisher documentation states at
&gt; http://modpython.org/live/current/doc-html/hand-pub-alg-trav.html that
&gt; if
&gt; &quot;Any of the traversed object's names begin with an underscore (&quot;_&quot;).&quot; 
&gt; they are not accsessable through the web, yet, when I put a 
&gt; _foo = 'bar'
&gt; in my index.py, http://my.site/_foo returns 'bar'. 
&gt; 
&gt; Am I missinterpreting the documentation? 
&gt; How to protect a variable from outside access?
&gt; 
&gt; TIA
HtmlSelectOneRadio does not correctly validate the required case
If an HtmlSelectOneRadio does not initially have a value, none of its options are initially rendered as selected. If none are selected and a form submit occurs IE 6 (possibly others browsers?) does not submit any name/value pair for that input. In the renderer, this is just ignored, and no error is thrown. It would probably be best to put logic in the renderer to account for this case.
I can do this, but I wanted opinions on the issue before I wrote the fix.
Version.merge() corrupts repository
Version.merge() corrupts repository. somehow the 'protected' flags of the nt:version nodetype is not properly checked.
this happens due to a wrong test case that calls merge on a Version instead of a normal Node.
Implement UISelectOne.validate(FacesContext)
From the javadoc: In addition to the standard validation behavior inherited from UIInput, ensure that any specified value is equal to one of the available options. If it is not, enqueue an error message and set the valid property to false.
as the comment in the method body states:
//TODO: see javadoc: iterate through UISelectItem and UISelectItems and check
//current value against these items
mapping.xml not included in jar
implement enabledClass/disabledClass support in h:select* tags and renderers
Attributes enabledClass/disabledClass where introduced with JSF 1.1 for all HtmlSelect* components. The components itself already have both the enabledClass and disabledClass field. But support in the corresponding tabs and renderers is still missing.
Exception in Table.getPrimaryKeyColumns(), .getNonUniqueIndices(), .getUniqueIndices() because PredicatedList used where CollectionUtils.select() was intended.
java.lang.IllegalArgumentException: Cannot add Object 'org.apache.ddlutils.model.Column@17f1ba3[name=column2;type=null]' - Predicate rejected it
at org.apache.commons.collections.collection.PredicatedCollection.validate(PredicatedCollection.java:100)
at org.apache.commons.collections.collection.PredicatedCollection.&lt;init&gt;(PredicatedCollection.java:85)
at org.apache.commons.collections.list.PredicatedList.&lt;init&gt;(PredicatedList.java:79)
at org.apache.commons.collections.list.PredicatedList.decorate(PredicatedList.java:63)
at org.apache.ddlutils.model.Table.getPrimaryKeyColumns(Table.java:571)
UISelectMany does not completely implement validate method
In addition to the standard validation behavior inherited from UIInput, ensure that any specified value is equal to one of the available options. If it is not, enqueue an error message and set the valid property to false.
Source code contains documentation marking this as &quot;todo.&quot;
No Exception thrown when it was not possible to instantiate the registered converter for the target type
The spec (javadocs) states that the method Application.createConverter(class) must throw a FacesException if the Converter cannot be created.
(applicationCreateConverterByClassFETest)
Expected Application.getDefaultLocale() to return null if the default locale has not been explicitly set by a call to Application.setDefaultLocale(Locale)
As stated in the spec (javadocs) Application.getDefaultLocale() must return null if it has not been set explicitly.
HtmlSelectManyMenu: validate throws ClassCastException
java.lang.ClassCastException: java.lang.String
at javax.faces.component.UISelectMany.validateValue(UISelectMany.java:250)
at javax.faces.component.UIInput.validate(UIInput.java:269)
at javax.faces.component.UISelectMany.validate(UISelectMany.java:283)
submittedValue = &quot;&quot;;
convertedValue returned by custom renderer = &quot;&quot;
=&gt; attemt to cast String to Object[]
UIForm.saveState must not alter the state of the component
From UIForm.saveState javadoc:
&quot;This method must not alter the state of the implementing object.&quot;
MyFaces implementation resets isSubmitted to false and therefore violates the spec
The Antlr grammar for Subtree Specification (RFC 3672) does not handle Separators correctly
The Antlr grammar for Subtree Specification (RFC 3672) handles SP token as ' ' (single space) and MSP as (' ')+. The SEP token is handled as ',' everywhere. However, &quot;RFC 3642&quot; defines them as follows:
&quot;
3. Separators
Certain separators are commonly used in constructing equivalent ABNF
for SET and SEQUENCE types.
sp = *%x20 ; zero, one or more space characters
msp = 1*%x20 ; one or more space characters
sep = [ &quot;,&quot; ]
The &lt;sep&gt; rule is used in the ABNF description of the encoding for
ASN.1 SET or SEQUENCE types where all the components are either
OPTIONAL or DEFAULT. It encodes to an empty string if and only if
the immediately preceding character in the encoding is &quot;{&quot;, i.e., it
is only empty for the first optional component actually present in
the SET or SEQUENCE value being encoded.
&quot;
So,
SP token should be handled as Zero Or More Spaces Characters which is (' ')*,
MSP token should be handled as OneOr More Spaces Characters which is (' ')+,
and
SEP should be handled in a way that it should match empty string when it comes just after a &quot;{&quot; token. (This one is an interesting problem.)
I'm working on this issue now and will submit a patch soon. Comments are welcome.
The grammar file considered is:
http://svn.apache.org/viewcvs.cgi/directory/shared/ldap/trunk/common/src/antlr/subtree-specification.g?rev=265643&amp;view=markup
URL encoding in pluto 1.0.1-RC4 issue when using apache with jk2
While testing 1.0.1RC4, I did notice something was changed in the way
actionURL and renderURL was generated compared to 1.0.1RC2. It
appears like the portlet tags are now encoding the URLs to escape
characters such as slashes and so forth.
For example, an action URL that used to look like the following:
/vps/portal/vps-cms/_ac_vps-cms_row_col1_loginPortlet/AC/_pid/vps-cms_row_col1_loginPortlet
now looks like this:
/vps/portal/vps-cms%2F_ac_vps-cms_row_col1_loginPortlet%2FAC%2F_pid%2Fvps-cms_row_col1_loginPortlet
While this URL seems to work fine if you directly access tomcat, if
you try to acces to this URL through apache via jk2 bridge, apache
fails to parse the URL correctly and you get 404 error that looks like
this:
The requested URL
/vps/portal/vps-cms/_ac_vps-cms_row_col1_loginPortlet/AC/_pid/vps-cms_row_col1_loginPortlet
was not found on this server.
Although I think our configuration for apache and tomcat are pretty
much like the vanilla installation, I'd be happy to send you those
configuration files if you think it will help you with addressing the
issue.
The testing was done on
Fedora Core 2
Sun Java 1.4.2_05
Apache 2.0.5
mod_jk2 2.0.4
Tomcat 5.5.9
While I understand Pluto Driver is not meant to be used for production
quality, I would think this is something you guys might look into
investigating for further consideration.
Many thanks
Yujin
portlet.tld taglib is using jsp version 1.1. JSR168 spec requires JSP version 1.2
portlet.tld contains the following:
&lt;jspversion&gt;1.1&lt;/jspversion&gt;
it should be 
&lt;jspversion&gt;1.2&lt;/jspversion&gt;
Provide redirect for /console-standard to /console
Don't want people surfing /console-standard as a normal user can't achieve anything there.
Invalid sigantures in JavaMail API jar (trunk)
Recent changes to the JavaMail API classes affect the package signatures:
javax.mail.internet.MimeMultipart has an additional public inner class MimeBodyPartInputStream
javax.mail.internet.ParameterList has an additional public method split(java.lang.String,char)
Typo in DataContext javadoc
Javadoc for DataContext, replace &quot;HttpSesession&quot; by &quot;HttpSession&quot;.
SSL keystore attributes should be manageable
Keystore password etc. are not manageable so don't get initialized properly
Exception with sample application
When I try to display the 'Sample 2' page I get the following Exception:
java.util.NoSuchElementException
at java.util.AbstractList$Itr.next(AbstractList.java:427)
at org.apache.myfaces.util.SelectItemsIterator.next(SelectItemsIterator.java:82)
at org.apache.myfaces.renderkit.RendererUtils.internalGetSelectItemList(RendererUtils.java:487)
at org.apache.myfaces.renderkit.RendererUtils.getSelectItemList(RendererUtils.java:470)
at org.apache.myfaces.renderkit.html.HtmlRendererUtils.internalRenderSelect(HtmlRendererUtils.java:273)
at org.apache.myfaces.renderkit.html.HtmlRendererUtils.renderListbox(HtmlRendererUtils.java:246)
at org.apache.myfaces.renderkit.html.HtmlListboxRendererBase.encodeEnd(HtmlListboxRendererBase.java:56)
at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:331)
at org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:450)
at org.apache.myfaces.renderkit.RendererUtils.renderChildren(RendererUtils.java:427)
at org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:448)
at org.apache.myfaces.renderkit.RendererUtils.renderChildren(RendererUtils.java:427)
at org.apache.myfaces.renderkit.html.HtmlGroupRendererBase.encodeEnd(HtmlGroupRendererBase.java:62)
at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:331)
at javax.faces.webapp.UIComponentTag.encodeEnd(UIComponentTag.java:349)
at javax.faces.webapp.UIComponentTag.doEndTag(UIComponentTag.java:253)
at org.apache.myfaces.taglib.UIComponentBodyTagBase.doEndTag(UIComponentBodyTagBase.java:55)
at org.apache.jsp.sample2_jsp._jspx_meth_h_panelGroup_0(sample2_jsp.java:254)
at org.apache.jsp.sample2_jsp._jspx_meth_f_view_0(sample2_jsp.java:183)
at org.apache.jsp.sample2_jsp._jspService(sample2_jsp.java:130)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:810)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:810)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:696)
at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:474)
at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:409)
at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
at org.apache.myfaces.context.servlet.ServletExternalContextImpl.dispatch(ServletExternalContextImpl.java:415)
at org.apache.myfaces.application.jsp.JspViewHandlerImpl.renderView(JspViewHandlerImpl.java:234)
at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:300)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:95)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:122)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:75)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)
at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)
at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)
at org.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)
at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)
at org.jboss.web.tomcat.security.CustomPrincipalValve.invoke(CustomPrincipalValve.java:66)
at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)
at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:162)
at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)
at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)
at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:118)
at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)
at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)
at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)
at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)
at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:705)
at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)
at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
at java.lang.Thread.run(Thread.java:595)
findUISelectManyConverter should look for converter when valueType is List
Currently the RendererUtils.findUISelectManyConverter() method assumes that, when the valueType is a List, the List must contain Strings, and therefore no Converter is needed. If the valueType is an array, then this method attempts to see if there is a Converter for the arrayComponentType (the type of objects that the array holds). A comment says that the API Doc of UISelectMany assumes that the List holds Strings, but we have an opportunity here to improve on that.
The patch I'm submitting allows the binding of a UISelectMany component to a List of objects other than Strings. The behavior ends up being the same as if we were binding to an array of some component whose type is not a String (finding a Converter in this case is already handled by the RendererUtils.findUISelectManyConverter() method.
The code that I propose adding is listed here and a patch file will be attached:
if (List.class.isAssignableFrom(valueType))
{
//According to API Doc of UISelectMany the assumed entry type for a List is String
//--&gt; no converter needed
// However, if the List contains something other than Strings, we can attempt
// to find a suitable converter. In JDK 1.4, we can try to find out what the List
// contains by looking at the SelectItem value of the first item. With generics in
// JDK 1.5, it would be much easier to determine the type.
List selectItems = RendererUtils.internalGetSelectItemList(component);
if (selectItems != null &amp;&amp; selectItems.size() &gt; 0) {
SelectItem selectItem = (SelectItem) selectItems.get(0);
Class listComponentType = selectItem.getValue().getClass();
if (!(String.class.equals(listComponentType))) {
try
{
return facesContext.getApplication().createConverter(listComponentType);
}
catch (FacesException e)
{
log.error(&quot;No Converter for type &quot; + listComponentType.getName() + &quot; found&quot;, e);
return null;
}
}
}
}
Generate Cocoon snapshots from SVN instead of CVS
The taritup script needs to be modified, I'm going to submit a patch here in a few minutes as I don't have sufficient karma to edit it.
No exception thrown when attemtping to add a null PhaseListener to the current Lifecycle
According to the spec, a NPE should be thrown when adding a null PhaseListener to the current Lifecycle...
No exception thrown when attemtping to provide a null argument to remove a PhaseListener
According to the spec (javadoc) when invoking Lifecycle.removePhaseListener a NPE should be thrown if the PhaseListener is null.
(lifecycleRemovePhaseListenerNPETest)
No exception thrown when first argument to RenderKit.addRenderer() was null.
According to the spec (javadoc), a NPE should be thrown if the parameters family or rendertype for the method RenderKit.addRenderer are null. At least, now this not happens for the family parameter.
(renderKitAddRendererNPETest)
No exception passing a null family argument to RenderKit.getRenderer().
According to the spec (javadocs) a NPE must be thrown if the parameters family or rendererType are null for the method RenderKit.getRenderer().
(renderKitGetRendererNPETest)
NumberConverter expects a type 'percentage', which is wrong. The correct type is 'percent'
According to the spec (javadocs), the valid type values are: 'currency', 'number', or 'percent', but not 'percentage'
Wrong exception type thrown in the method ValueBinding.setValue() when the value references a non-existent property.
A javax.faces.el.EvaluationException is thrown with ValueBinding referenced a non-existent property, but it should be an instance of PropertyNotFoundException, according to the javadocs.
(valBindingSetValuePNFETest)
CommonsHTTPSender - Hardcoded Host Configuration Port
CommonsHTTPSender.java hardcodes the port to 80 for all protocols if no port is specified exclusively in the URL. Here is the code snippet that does that:
protected HostConfiguration getHostConfiguration(HttpClient client, 
MessageContext context,
URL targetURL) {
TransportClientProperties tcp = 
TransportClientPropertiesFactory.create(targetURL.getProtocol()); // http or https
int port = targetURL.getPort();
boolean hostInNonProxyList =
isHostInNonProxyList(targetURL.getHost(), tcp.getNonProxyHosts());
HostConfiguration config = new HostConfiguration();
if (port == -1) {
port = 80; // even for https
}
No Exception thrown when passing an invalid content type to the RenderKit.createResponseWriter() method.
According to the spec (javadocs), an java.lang.IllegalArgumentException must be thrown if no matching content type can be found in contentTypeList, or no matching character encoding can be found for the argument characterEncoding, for the method RenderKit.createResponseWriter().
(renderKitCreateResponseWriterInvalidContentTypeTest)
No Exception thrown when an invalid index was provided to PropertyResolver.getType(Object, int)
Acording to the spec (javadocs), an EvaluationException must be thrown if an exception is thrown while testing the property (the thrown exception must be included as the cause property of this exception)
FactoryFinder.getFactory(null) expects a NullPointerException and not a llegalStateException
Acording to the spec (javadocs), when a null is passed to FactoryFinder.getFactory a NPE is expected and not an IllegalStateException (which is expected if factoryName does not identify a standard JavaServer Faces factory name).
FactoryFinder.getFactory(&lt;INVALID_FACTORY&gt;) did raise an Exception (IllegalStateException), but not of the expected type (IllegalArgumentException).
Acording to the spec (javadocs), when passing an invalid factory to FactoyFinder.getFactory a IllegalArgumentException must be thrown and not an IllegalStateException.
ClassCastException handling the recipients after a DSNBounce
DSNBounce add recipients as String to the message.
It should add MailAddress objects or following processing will throw ClassCastException.
No Exception thrown when passing an invalid encoding to the RenderKit.createResponseWriter() method.
According to the spec (javadocs), a java.lang.IllegalArgumentException must be thrown if no matching character encoding can be found for the argument characterEncoding.
No exception thrown when thrid argument to RenderKit.addRenderer() was null.
A NullPointerException must be thrown if the renderer argument is null when passed to RenderKit.addRenderer().
CacheModel does not support caching null results
Currently IBatis caching does not support caching null results. Any null object placed into the CacheModel will always result in what is interpertated as a cache miss when it is looked up again. When a null object put into the cache (by calling CacheModel.putObject()) it is actually entered into the cache as a CacheModel.NULL_OBJECT (which is fine). However, when the same object is retrieved (by calling CacheModel.getObject()) the CacheModel.NULL_OBJECT is translated into an actual Java null value. A null value being returned by CacheModel.getObject() is considered a cache miss in the calling code (CachingStatement.executeQueryForList() and CachingStatement.executeQueryForObject())... this is causing a hard hit to database unnecessarily.
We are running into this problem while trying to cache a simple holiday table in one of our applications. The query takes a date a parameter and returns a row if the holiday exists or null if it does not. Since the vast majority of days are not holidays and therefore return null, 95% of these statements are actually hitting the database and basically making the cache for this query ineffective.
The change to fix this appears to be very simple...
Change line 289 from:
return value == NULL_OBJECT ? null : value;
To simply:
return value;
The code that calls CacheModel.getObject() in CachingStatement already checks to NULL_OBJECT return values and handles them appropriately so it looks like this scenario has already been thought through but possibly the above suggested change was missed.
Attached is a test case that shows the defect and should pass once the above change is made.
Form component can render id tag twice
&lt;form jwcid=&quot;submitter@Form&quot; id=&quot;submitterId&quot; listener=&quot;ognl:listeners.submit&quot;&gt;
renders as:
&lt;form id=&quot;submitter&quot; id=&quot;submitterId&quot;&gt;
cause:
FormSupportImpl.render()
adds the formal id tag without checking to see if the bindings contains an informal reference to the id tag
Thanks,
Justin
Login validation gives wrong error (Invalid password) when a password is expired
The LoginValidationValveImpl is missing handling of expired passwords.
I'll add a new error code ERROR_CREDENTIAL_EXPIRED to LoginConstants in the ietspeed-api, implement handling for it in LoginValidationValveImpl and
add the corresponding error message to the Security Portlet Application LoginResources.properties.
Note: I will provide the en and nl versions, other translation will have to be provided by others.
Deployer strips elements from web.xml
The deployer will remove any mime-mapping elements from the input web.xml when preprocessing the portlet.xml file.
---
In addition, the deployer strips many other elements, such as the load-on-startup, and role-names.
Design flaw in JBoss/JAAS security provisioning
There is a design flaw in the JBoss security provisioning. The login module JBossLoginModule can only be found if authentication is requested by the Jetspeed portal web application, as it is in the web application's classpath only. If you want to authenticate the access to an EJB from a stand-alone client or to a web service (usually supplied by a different web application), the JBossLoginModule cannot be found by the JBoss application server.
This is a pity, because it restricts the usability of the (otherwise nice) user/group/role management facility that comes with Jetspeed. The problem will become even more apparent when you try to use Jetspeed2 security provisioning in other application servers such as WebLogic. There, security providers must be packaged and deployed independently of any application as special MBeans that &quot;extend the server&quot;.
The solution to this problem is in supplying a JBoss JAAS login module that is fully functional without (i.e. independant of) the Jetspeed2 portal. This may in general be done by adding all required files to the JBoss installation in server/*/lib or by deploying an appropriate service archive (SAR). I prefer the second approach as it does not clutter up your installation. Note that although the libraries to not end up as files in your JBoss installation, they will still be added to the application server's classpath if you deploy the SAR directly (by putting it in the JBoss deploy/ directory). This may introduce some problems because the SAR contains quite some &quot;common&quot; libraries that should usually not be provided by the AS. The SAR should therefore better be bundled in the EAR that wants to use Jetspeed security management (and that may, but need not contain a Jetspeed portal).
Attached to this issue you find the files required to produce such a SAR as subtree to jakarta-jetspeed-2.0-M3/. It is not fully integrated in the build as I wanted to keep it an add-on until I know if this approach is accepted by the Jetspeed2 team. Run maven in secsvcs/jboss (secsvcs/weblogic is still to come ;-)), this produces the service archive.
The main component of the service archive is jetspeed-security-*.jar. It is repacked, i.e. security.xml is removed and security-repository.xml is moved to the SAR's META-INF/, see JS2-281. All libraries that jetspeed-security-*.jar depends on are added. A spring configuration is created in META-INF/jboss-secsvc/. And we have to use our own repository_database.xml because a SAR has no ENC and thus we cannot map java:comp/env/jdbc/jetspeed to the global JNDI entry, rather we have to use the global JNDI entry of the data source directly.
As I do not have a complete knowledge of Jetspeed2's modules (it's getting better), I have found the components needed by jetspeed-security.*.jar by trial and error. Most things seem quite logical, only the jetspeed-cm component should IMHO not contain the factorybeans.
In its current state, the security service module just get things running. I'm prepared to add some features such as making some properties configurable in the jboss-service.xml (i.e. the MBean configuration) if this solution is accepted in general by the Jetspeed2 team. 
Test Failure in activeio.ExceptionListenerTest
Failure in test when building:
Testsuite: org.codehaus.activemq.transport.activeio.ExceptionListenerTest
Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 4.679 sec
------------- Standard Output ---------------
Created connection: org.codehaus.activemq.ActiveMQConnection@781f6226
Failed to close connection: javax.jms.JMSException: asyncSend failed: java.net.SocketException: Socket closed
------------- ---------------- ---------------
------------- Standard Error -----------------
javax.jms.JMSException: asyncSend failed: java.net.SocketException: Socket closed
at org.codehaus.activemq.util.JMSExceptionHelper.newJMSException(JMSExceptionHelper.java:49)
at org.codehaus.activemq.transport.activeio.ActiveIOTransportChannel.doAsyncSend(ActiveIOTransportChannel.java:124)
at org.codehaus.activemq.transport.TransportChannelSupport.asyncSendWithReceipt(TransportChannelSupport.java:158)
at org.codehaus.activemq.transport.TransportChannelSupport.send(TransportChannelSupport.java:143)
at org.codehaus.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:916)
at org.codehaus.activemq.ActiveMQConnection.sendConnectionInfoToBroker(ActiveMQConnection.java:1132)
at org.codehaus.activemq.ActiveMQConnection.close(ActiveMQConnection.java:553)
at org.codehaus.activemq.transport.activeio.ExceptionListenerTest.tearDown(ExceptionListenerTest.java:81)
at junit.framework.TestCase.runBare(TestCase.java:130)
at junit.framework.TestResult$1.protect(TestResult.java:106)
at junit.framework.TestResult.runProtected(TestResult.java:124)
at junit.framework.TestResult.run(TestResult.java:109)
at junit.framework.TestCase.run(TestCase.java:118)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:325)
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:536)
Caused by: java.net.SocketException: Socket closed
at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:99)
at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
at org.activeio.packet.ByteArrayPacket.writeTo(ByteArrayPacket.java:100)
at org.activeio.net.SocketSynchChannel.write(SocketSynchChannel.java:134)
at org.activeio.adapter.SynchToAsynchChannelAdapter.write(SynchToAsynchChannelAdapter.java:183)
at org.codehaus.activemq.transport.activeio.ActiveIOTransportChannel.doAsyncSend(ActiveIOTransportChannel.java:114)
... 15 more
------------- ---------------- ---------------
Testcase: testFailingConnection(org.codehaus.activemq.transport.activeio.ExceptionListenerTest): FAILED
Should have been notified of an exception
junit.framework.AssertionFailedError: Should have been notified of an exception
at org.codehaus.activemq.transport.activeio.ExceptionListenerTest.testFailingConnection(ExceptionListenerTest.java:45)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
xml comments are no longer generated or are stripped
The xml comments that are either in source documents or added via stylesheets are now being stripped.
(The generated mirrors.html for our site-author is missing the special html comments that are parsed by mirrors.cgi script.)
Most of the XSD data type tests are failing when using xerces-c_2_6.dll
Most of the XSD data type tests are failing when using xerces-c_2_6.dll
It just gives ?Unknown exception has occurred?.
I?m testing against C++ services. I?m getting following respond.
Request?????????????..
&lt;?xml version='1.0' encoding='utf-8' ?&gt;
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
&lt;SOAP-ENV:Body&gt;
&lt;ns1:AsNonNillableElementRequest xmlns:ns1=&quot;http://xsd_byte.test.apache.org&quot;&gt;
&lt;nonNillableElement&gt;127&lt;/nonNillableElement&gt;
&lt;/ns1:AsNonNillableElementRequest&gt;
&lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
Respond??????????????..
&lt;?xml version='1.0' encoding='utf-8' ?&gt;
&lt;SOAP-ENV:Envelope&gt;
&lt;SOAP-ENV:Body&gt;
&lt;SOAP-ENV:Fault&gt;
&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;
&lt;faultstring&gt;Unknown exception&lt;/faultstring&gt;
&lt;faultactor&gt;server name:listen port&lt;/faultactor&gt;
&lt;detail&gt;&lt;appSpecific&gt;Unknown Exception has occured&lt;/appSpecific&gt;
&lt;/detail&gt;
&lt;/SOAP-ENV:Fault&gt;
&lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
Following tests are failing due to this problem.
XSD_base64Binary,XSD_boolean,XSD_byte,XSD_date,XSD_dateTime,XSD_decimal,XSD_double,
XSD_duration,XSD_float,XSD_gDay,XSD_gMonth,XSD_gMonthDay,
XSD_gYear,XSD_gYearMonth,XSD_hexBinary,XSD_int,XSD_integer,XSD_language,XSD_long
But some of these tests are passing some times and fail most of the time. 
IdleSession reported only once per IO
IdleSession reported only once per IO 
For example, if I do something like this
// session is a ProtocolSession from an IoProtocolConnector
session.getConfig().setIdleTime(IdleStatus.BOTH_IDLE,30 ); 
and a connection is idle for 301 seconds (both read and write), I expect roughly 10 IdleStatus.BOTH_IDLE events. In 0.7.3 it will only be fired once and only once until IO occurs. It looks like it is due to the way idle sessions are detected in the following:
SocketIoProcessor.java:
private void notifyIdleSession0( SocketSession session, long currentTime,
long idleTime, IdleStatus status,
long lastIoTime )
{
if( idleTime &gt; 0 &amp;&amp; !session.isIdle( status ) &amp;&amp; lastIoTime != 0
&amp;&amp; ( currentTime - lastIoTime ) &gt;= idleTime )
{
session.setIdle( status, true );
session.getManagerFilterChain().sessionIdle( session, status );
}
}
Please correct me if I am wrong but it looks as though the statement in the if clause, !session.isIdle( status ), is used to detect if the idle event has been fired. This prevents multiple session idle events from being fired due to selector timeouts in Worker.run().
The problem is that using this method there is no way to know that the last idle event was fired greater than idle timeout seconds ago and another event needs to be fired.
My suggestion is to add lastIdleEventForBoth/Read/Write and replace !session.isIdle( status) with (currentTime ? lastIdleEvent) &gt;= idleTime.
record skip in selectItems
selectItem renders just one of every two items in the collection. It seems to me that next() method called twice in somewhere
The class &quot;org.apache.axis2.tool.ant.AntCodegenTask&quot; do not exist
The class &quot;org.apache.axis2.tool.ant.AntCodegenTask&quot; for generating classes from wsdl2Java is no where to be found in the distributions (.90 / .91 / M2) 
Thanks!
Tiles does not work with javax.faces.STATE_SAVING_METHOD=server.
Problem: When I set the javax.faces.STATE_SAVING_METHOD in the web.xml to server and try out the tiles-example, I get a java.lang.IllegalStateException: Cannot create a session after the response has been commited.
Analysis: The problem happens only while calling a tiles page directly. So, calling response.sendRedirect(&quot;page1.jsf&quot;); or entering the url (/myfaces-tiles-example/page1.jsp) results in the error. 
If you create a jsf page without tiles support, you are able to jump to a tiles page by navigation-rule. Proof:
try to call /myfaces-tiles-example/non-tile.jsf directly in your browser and press the back button.
Workaround: use javax.faces.STATE_SAVING_METHOD=client (generates much bandwidth) or create an index.jsp with a commandLink to your tiles page.
Errors in TLDs
Errors in TLDs... Resin compains like:
log4j:WARN Please initialize the log4j system properly.
[19:06:20.731] com.caucho.xml.XmlParseException: jar:file:/C:/Development/Projec
ts/Ubs/WEB-INF/lib/myfaces-all.jar!/META-INF/myfaces_html.tld:2585: The followin
g text is not allowed in this context.
[19:06:20.731]
[19:06:20.731] ant
[19:06:20.731]
[19:06:20.731]
[19:06:20.731]
[19:06:20.731] &lt;attribute&gt; or
[19:06:20.731] &lt;example&gt; are expected,
[19:06:20.731] or &lt;/tag&gt; may close.
Create maven.xml for org.apache.geronimo.runtime.v1 plugin
Continuing effort to mavenize the eclipse plugin, a maven.xml is needed for the org.apache.geronimo.runtime.v1 plugin to provide a goal to copy artifacts from repo to the projects target.
separate security gbeans into a separate plan
If you need to use a nonstandard (non-geronimo) security policy implementation, currently you have to change the j2ee-server-plan to include the policy class or the SecurityService gbean will fail on startup. You can work around this by including another SecurityService gbean in a plan that does include the policy class, but it seems a cleaner solution is to put the security gbeans in a separate plan that can be replaced when you need a different policy. Since security will often need to be customized anyway, this should make it easier to see what you are likely to need to customize.
errors in openejb-jar schema
I think there are errors in the openejb-jar schema:
&lt;xs:element name=&quot;ejb-ql-compiler-factory&quot; minOccurs=&quot;0&quot;/&gt;
&lt;xs:element name=&quot;db-syntax-factory&quot; minOccurs=&quot;0&quot;/&gt;
&lt;xs:element name=&quot;enforce-foreign-key-constraints&quot; minOccurs=&quot;0&quot;/&gt;
This means that each of those elements has &quot;any&quot; content. I don't think that is what is intended. I think the first two are supposed to be strings and the third is supposed to be empty.
I'm going to change this to
&lt;xs:element name=&quot;ejb-ql-compiler-factory&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;
&lt;xs:element name=&quot;db-syntax-factory&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;
&lt;xs:element name=&quot;enforce-foreign-key-constraints&quot; type=&quot;openejb:emptyType&quot; minOccurs=&quot;0&quot;/&gt;
where
&lt;xs:complexType name=&quot;emptyType&quot;/&gt;
If this is not the intent of these elements please speak up.
shouldGeneratePrimaryKeys(List) changed to shouldGeneratePrimaryKeys(Column[]) in SqlBuilder, but not in its subclasses.
This means that this method is not called in the subclasses when appropriate.
NPE in UIData.restoreDescendantComponentStates()
I have a form which contains some inputText fields (one of which is required), and a dataTable which contains an inputText field and a selectOneMenu field, plus and inner dataTable containing inputText fields.
When a value is entered in the required inputText field, the form submits successfully. However, when the required field is left blank the following exception is thrown when processing the selectOneMenu field in the outer dataTable:
java.lang.NullPointerException
at javax.faces.component.UIData.restoreDescendantComponentStates(UIData.java:221)
at javax.faces.component.UIData.restoreDescendantComponentStates(UIData.java:233)
at javax.faces.component.UIData.restoreDescendantComponentStates(UIData.java:233)
at javax.faces.component.UIData.restoreDescendantComponentStates(UIData.java:233)
at javax.faces.component.UIData.setRowIndex(UIData.java:191)
at org.apache.myfaces.renderkit.html.HtmlTableRendererBase.encodeInnerHtml(HtmlTableRendererBase.java:135)
at org.apache.myfaces.renderkit.html.HtmlTableRendererBase.encodeChildren(HtmlTableRendererBase.java:94)
at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:319)
at org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:444)
at org.apache.myfaces.renderkit.RendererUtils.renderChildren(RendererUtils.java:427)
at org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:448)
at org.apache.myfaces.renderkit.RendererUtils.renderChildren(RendererUtils.java:427)
at org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:448)
at org.apache.myfaces.renderkit.RendererUtils.renderChildren(RendererUtils.java:427)
at org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:448)
at org.apache.myfaces.renderkit.RendererUtils.renderChildren(RendererUtils.java:427)
at org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:448)
at org.apache.myfaces.renderkit.RendererUtils.renderChildren(RendererUtils.java:427)
at org.apache.myfaces.renderkit.html.HtmlGroupRendererBase.encodeEnd(HtmlGroupRendererBase.java:62)
at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:331)
at javax.faces.webapp.UIComponentTag.encodeEnd(UIComponentTag.java:349)
at javax.faces.webapp.UIComponentTag.doEndTag(UIComponentTag.java:253)
at org.apache.myfaces.taglib.UIComponentBodyTagBase.doEndTag(UIComponentBodyTagBase.java:55)
at org.apache.jsp.cppolls_jsp._jspx_meth_h_panelGroup_0(cppolls_jsp.java:297)
at org.apache.jsp.cppolls_jsp._jspx_meth_f_subview_0(cppolls_jsp.java:255)
at org.apache.jsp.cppolls_jsp._jspx_meth_f_view_0(cppolls_jsp.java:134)
...
The following change to UIData seems to fix the problem:
...
if (descendantStateIterator != null
&amp;&amp; descendantStateIterator.hasNext())
{
System.out.println(&quot;has dsi&quot;);
Object[] object = (Object[]) descendantStateIterator.next();
childState = object[0];
descendantState = object[1];
if (component instanceof EditableValueHolder &amp;&amp; childState != null)
{
((EditableValueHolderState) childState)
.restoreState((EditableValueHolder) component);
}
}
...
However, should this patch be necessary, or is there a problem elsewhere?
James does not resolve CNAME DNS registrations
James does not resolve CNAME DNS entries as required by RFC-2821 sections 3.6 and 5
ListEdit components should not attempt to take focus
Tapestry.register_form('testForm');
Tapestry.set_focus('testElementsListEdit');
In fact ,the &quot;testElementsListEdit&quot; is a ListEdit component,it should not be 
focused.
thanks
action parameter not being set properly for SOAP 1.2
for soap 1.2 the SOAPAction value needs to be set as a parameter of the content type header and not as the SOAPAction http header.
Setting ANONYMOUS value in ReplyTo
If addressing is enabled and of replyTo has not been set, replyTo value should be set to ANONYMOUS.
Myfaces does not handle correctly the from-view-id's with wildcards
From the spec (section 7.4.2, p5-10/11), when talking about the NavigationHandler:
&lt;&lt; Rule instances are
considered in the following order:
- An exact match of the view identifier against a &lt;from-view-id&gt; pattern that
does not end with an asterisk (&quot;*&quot;) character.
- For &lt;from-view-id&gt; patterns that end with an asterisk, an exact match on
characters preceding the asterisk against the prefix of the view id. If the
patterns for multiple navigation rules match, pick the longest matching prefix
first.
- If there is a &lt;navigation-rule&gt; with a &lt;from-view-id&gt; pattern of only an
asterisk, it matches any view identifier.&gt;&gt;
In myfaces something happens with the from-view-id's with asterisk. Lets illustrate a case:
1. &lt;from-view-id&gt;test3&lt;/from-view-id&gt;
2. &lt;from-view-id&gt;test*&lt;/from-view-id&gt;
3. &lt;from-view-id&gt;*&lt;/from-view-id&gt;
I think that hibernate does not understand correctly the &lt;from-view-id&gt;'s with asterisk. For instance, if I am in the a view with id 'tes' (sic), the from-view-id used is the #2 when it should be the number #3.
x:datatable doesn't support Set
x:datatable doesn't support the java.util.Set interface. This is caused by the overriden createDataModel method in HtmlDatatableHack doesn't handle generic java collection interface ( It does in UIData ).
renaming a node with Session.move() or Workspace.move() is not visible from other concurrent sessions
this is a CachingHierarchyManager issue.
to reproduce:
Node n1 = session1.getRootNode().getNode(&quot;foo&quot;);
String path = n1.getPath(); // returns &quot;/foo&quot;
Node n2 = session2.getRootNode().getNode(&quot;foo&quot;);
path = n2.getPath(); // returns &quot;/foo&quot;
session1.move(&quot;/foo&quot;, &quot;/bar&quot;);
session1.save();
path = n1.getPath(); // returns &quot;/bar&quot;
path = n2.getPath(); // should return &quot;/bar&quot; but still returns &quot;/foo&quot;
moving locked node removes locked state
when moving a locked node it looses it locked state.
Build uploads vlibbeans-xxx.jar to java repository (and thence to the maven repository)
A side effect of the build is that the vlibbean-xxx.jar is placed in ${root}/target, and gets picked up and upload to the Apache java-repository.
StateManager.saveSerializedView must throw an IllegalStateException when View contains duplicate IDs
Acording to the javadocs, the method StateManager.saveSerializedView must throw an IllegalStateException if more than one component or facet within the same NamingContainer in this view has the same non-null component id.
Tree2 examples can result in &quot;Invalid bitmask error&quot;
If you click on the folder (as opposed to the +/- nav icon) of a node that has server side toggle, you will get an Invalid Bitmask exception. This is because the folders have commandLinks associated with them and they are toggling the state of the node regardless of whether the node is a leaf or not. Even though the TreeBacker adds the empty nodes as branches, the isLeaf method of TreeNodeBase is returning true b/c the child count is zero. (That's a new twist to prevent the +/- icons from showing up on empty nodes.)
Solution is to remove the commandLinks from the folder nodes and only allow expansion of the folders by the nav icons. Its possible to use &lt;h:commandLink&gt; in your folder facets by writing an actionListener that would check the leaf status before toggling the expanded state but that is an exercise left to the user.
I will also add a simple example that does allow &lt;h:commandLink&gt; (and disabled navigation icons). This example will conditionally render the command link based on the leaf status.
Intermixing FieldLabels and form components can force a StaleLinkException
The FieldLabel component prerenders its associated field to allow validation decoration to work properly. However, it only prerenders the field during the render cycle and not during the rewind cycle. If there are any form components after the FieldLabel but before the FieldLabel's field, the render sequence will differ upon rewind and throw a StaleLinkException. The fix should be that FieldLabel always calls to form.prerenderField, ensuring a consistent render sequence.
JspStateManagerImpl.checkForDuplicateIds breaks dataScroller component
A javax.faces.FacesException is thrown if duplicate Ids are detected by the JspStateManagerImpl.checkForDuplicateIds().
However, this breaks the dataScroller component when a paginator with graphic images is used. (such as in the Data Scroller example (in simple.war)
cannot login when using non javascript support browser
cannot login to J2 when using non javascript support browser. Usually, a browser in a mobile phone does not support JavaScript. So, mobile phone user cannot login to J2. The cause is that LoginServlet uses JavaScript.
NoSuchElementException in SelectItemsIterator
I have recently started to get the following exception thrown:
java.util.NoSuchElementException
at org.apache.myfaces.util.SelectItemsIterator.next(SelectItemsIterator.java:67)
at org.apache.myfaces.util.SelectItemsIterator.next(SelectItemsIterator.java:155)
at org.apache.myfaces.renderkit.RendererUtils.internalGetSelectItemList(RendererUtils.java:487)
at org.apache.myfaces.renderkit.RendererUtils.getSelectItemList(RendererUtils.java:461)
at org.apache.myfaces.renderkit.html.HtmlRendererUtils.internalRenderSelect(HtmlRendererUtils.java:277)
at org.apache.myfaces.renderkit.html.HtmlRendererUtils.renderListbox(HtmlRendererUtils.java:240)
at org.apache.myfaces.renderkit.html.HtmlListboxRendererBase.encodeEnd(HtmlListboxRendererBase.java:73)
...
where the SelectItem list which causes the problem has no elements. However RendererUtil.internalGetSelectItemList does a hasNext() check, so this must be returning true for next() to be called.
orm-persistence package doesn't compile against cvs head.
Corrected QName import (which I guess was moved). 
This patch has no meaning besides making the src/java compile and to update the dependencies in the project.xml.
Non-refreshed Named Queries in Modeler throw exception
Jeff de Vries was reporting problems on the Cayenne User list regarding having a named query defined in Cayenne Modeler, but getting an exception (Caching of unnamed queries is not supported.) when he used a Shared/DataContext cache and didn't refresh result. An example of the calling code is:
dataContext.performQuery(&quot;MyQuery&quot;, false);
Researching the issue I discovered:
DataContext.performQuery(String, boolean) -&gt;
DataContext.performQuery(String, Map, boolean) -&gt;
(actual named query) SelectQuery.createQuery((Map) -&gt;
SelectQuery.queryWithParameters(Map) -&gt;
SelectQuery.queryWithParameters(Map, boolean)
This final method creates a new SelectQuery (local variable &quot;query&quot;) and and copies data from the original query into the new one, but omitted copying the query name, hence the exception listed above.
There is a comment at the bottom of this method which states:
// TODO: implement algorithm for building the name based on the original name and
// the hashcode of the map of parameters. This way query clone can take advantage
// of caching.
Should discuss on Cayenne Developer if it is OK to copy the name or if we should MD5/etc the name.
/dev/mrg
PS. This effects 1.1 and 1.2.
ClassCastException occurs in HtmlTableRenderer (for &lt;t:datatable&gt;) if rowId does not evaluate to a String
If the rowId property of a &lt;t:datatable&gt; tag does not evaluate to a String, an ugly ClassCastException is thrown by renderRowStart() method of the HtmlTableRendererClass.
This is caused by :
String rowId = (String) uiData.getAttributes().get(JSFAttr.ROW_ID);
Instead of a cast to String, the toString() method should have been used....
(Then we could put a variable of type Int of Long in the rowId (which sounds natural)...)
Admin guide has wrong value for constant TRACE_RESULT_SET_CALLS
The admin guide at http://db.apache.org/derby/docs/10.1/adminguide/cadminappsclienttracing.html lists the various tracing constants for the Network Client.
It lists the value of the TRACE_RESULT_SET_CALLS constant as 0x3; the correct value is 0x4.
MyFacesGenericPortlet assumes a content-type
MyFacesGenericPortlet.java/nonFacesRequest() forces the content-type to be &quot;text/html&quot; even if the response type is already set.
It should not set it if it already has a non-null value. If it is null, it should use the value from request.getResponseContentType() (unless that value is &quot;*&quot; in which case text/html would be fine)
This probably applies to the facesRender() method too.
Report location of errors initializing managed beans
If there is an error initializing a managed bean (say, an invalid property name in a &lt;set&gt; element), there should be a location associated with the thrown exception, but there isn't.
org.apache.hivemind.ApplicationRuntimeException
Class org.apache.tapestry.valid.StringValidator does not contain a property named 'minLength'.
component: org.apache.tapestry.valid.StringValidator@886ad0
Stack Trace:
* org.apache.hivemind.util.ClassAdaptor.getPropertyAdaptor(ClassAdaptor.java:136)
* org.apache.hivemind.util.ClassAdaptor.getPropertyType(ClassAdaptor.java:104)
* org.apache.hivemind.util.PropertyUtils.getPropertyType(PropertyUtils.java:139)
* org.apache.tapestry.bean.BindingBeanInitializer.setBeanProperty(BindingBeanInitializer.java:80)
* org.apache.tapestry.bean.BeanProvider.instantiateBean(BeanProvider.java:221)
* org.apache.tapestry.bean.BeanProvider.getBean(BeanProvider.java:146)
* org.apache.tapestry.binding.BeanBinding.getObject(BeanBinding.java:53)
* org.apache.tapestry.binding.AbstractBinding.getObject(AbstractBinding.java:87)
* $ValidField_43.getValidator($ValidField_43.java)
* org.apache.tapestry.valid.ValidField.renderComponent(ValidField.java:70)
BindingBeanInitializer.setBeanProperty should catch exceptions and rethrow them with a location attached.
@ControlExtension: conflicting samples on incubator.apache.org
This is related to BEEHIVE-118, and Ken's plan on &quot;Inheritance semantic analysis&quot; and/or &quot;Robust semantic analysis&quot;.
http://incubator.apache.org/beehive/controls/controlsProgramming.html#11.1+Defining+an+Extended+Interface+for+a+Control+Type
One sample:
package org.apache.beehive.controls.examples;
import org.apache.beehive.controls.api.bean.ControlExtension;
@ControlInterface
@Destination(type=JmsMessageControl.QUEUE, name=&quot;queue.orders&quot;)
public interface OrderQueue extends JmsMessageControl
{
...
}
While the following one:
package org.apache.beehive.controls.examples;
import org.apache.beehive.controls.api.bean.ControlExtension;
@ControlExtension
@Destination(type=JmsMessageControl.QUEUE, name=&quot;queue.orders&quot;)
public interface OrderQueue extends JmsMessageControl
{
public class Order implements java.io.Serializable
{
public Order(int buyer, String list) { buyerID = buyer; itemList list; }
int buyerID;
String [ ] itemList; 
}
@Message (OBJECT)
public void submitOrder(
@Body Order order, 
@Property ( name=&quot;DeliverBy&quot;) String deliverBy
);
}
The confusion: user could use either @ControlInterface or @ControlExtension to declare an extended control interface.
If user could use either @ControlExtension or @ControlInterface, more doc on when to use which one would be necessary.
jcr-rmi maven &quot;site&quot; target fails
the target &quot;site&quot; in jcr rmi fails because org.apache.jackrabbit.rmi.remote.SerialValue.java is empty
Some suggestions to the Pluto testsuite, and a bug report.
I checked the source of testsuite: It uses the command pattern to execute tests. Here are some suggestions, as well as a bug report:
Suggestions:
1. To move some testsuite-framework-related classes from package org.apache.pluto.testsuite.test to package org.apache.pluto.testsuite, to make the testsuite framework completely independent of the concrete test package. These class includes: 
- TestResult
- TestResults
- PortletTest
- ActionTest
- NoOpTest
2. Make the TestConfigFactory singleton, and provide a static getFactory() method. Rename its method createTests() to createTestConfigs(), because in fact this method parses the config file and returns a list of TestConfig instances, but not tests.
3. Add a &quot;PLT&quot; attribute to the TestConfig class to indicate which part of the portlet spec is tested by which test class. So that we may know how the spec is covered by the testsuite.
A bug report: this bug is in fact caused by the portlet session binding issue: When executing the &quot;Simple Action Parameter Test&quot;, the test results are displayed in a wrong way. The reason is:
The simple action parameter test is an ActionTest, so it is executed in TestPortlet.processAction(), and results are saved in the portlet session. But because of the binding issue, TestPortlet.render() failed to retrieve the results from portlet session. So when dispatching to the /jsp/test_results.jsp, there are nothing in the session. The file /jsp/test_results.inc uses JSTL to retrieve the results. EL Expressions like:
&lt;c:when test=&quot;${results.failed}&quot;&gt;
will always pass as if ${results.failed} returns false, if JSTL can't find attribute value for the &quot;results&quot; key. So, even the JSP failed to get the results from session, we still got a PASSED page.
I am also thinking about adding more tests to the testsuite subproject.
ZHENG Zhong
In version 1.1-ALPHA, RenderResponseImpl.getNamespace() should be updated
To reply to the &quot;Port all recent 1.0.x fixes / What else?&quot; question in the 1.1-ALPHA's TODO ;-)
fix for PLUTO-85 (getNamespace() returned invalid Javascript name) has not been ported to 1.1-ALPHA yet.
Regards.
ZHENG Zhong
SqlMap validation
When you build iBatis with NAnt and enable SqlMap validation iBatis throws an exception. It attempts to load SqlMapConfig.xsd and SqlMap.xsd from the assembly resource stream, and the current NAnt build script does not include those files as resources. The patch below fixes this. Furthermore, it alters the XML namespace of the NAnt build file [see http://nant.sourceforge.net/faq.html#enable-intellisense]
===================================================================
--- IBatisNet.DataMapper.build (revision 190584)
+++ IBatisNet.DataMapper.build (working copy)
@@ -1,5 +1,5 @@
&lt;?xml version=&quot;1.0&quot;?&gt;
-&lt;project name=&quot;IBatisNet.DataMapper&quot; default=&quot;build&quot;&gt;
+&lt;project name=&quot;IBatisNet.DataMapper&quot; default=&quot;build&quot; xmlns=&quot;http://nant.sf.net/schemas/nant.xsd&quot;&gt;
&lt;!--
Required properties:
* build.dir - (path) root level to build to, assemblies will go in ${build.dir}/bin
@@ -19,6 +19,10 @@
&lt;resources basedir=&quot;Resources&quot;&gt;
&lt;include name=&quot;**/*&quot; /&gt;
&lt;/resources&gt;
+ &lt;resources basedir=&quot;.&quot; prefix=&quot;IBatisNet.DataMapper.&quot;&gt;
+ &lt;include name=&quot;SqlMapConfig.xsd&quot; /&gt;
+ &lt;include name=&quot;SqlMap.xsd&quot; /&gt;
+ &lt;/resources&gt;
&lt;references basedir=&quot;${build.dir}/bin&quot;&gt;
&lt;include name=&quot;*.dll&quot;/&gt;
&lt;exclude name=&quot;${nant.project.name}.dll&quot;/&gt;
&lt;/textarea&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td colspan=2 bgcolor=ffffff&gt;&amp;nbsp;
&lt;style&gt;
&lt;!--
.fieldLabelArea
{
width: 30%;
}
--&gt;
&lt;/style&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td colspan=2 bgcolor=f0f0f0&gt;
&lt;b&gt;Comment&lt;/b&gt;: (an optional comment describing this update)
&lt;/td&gt;&lt;/tr&gt;
&lt;tr 
&gt;
&lt;td class=&quot;fieldLabelArea&quot;&gt;
Update comment:
&lt;/td&gt;
&lt;td bgcolor=&quot;ffffff&quot; nowrap class=&quot;fieldValueArea&quot;&gt;
&lt;textarea name=&quot;comment&quot;
cols=&quot;70&quot;
rows=&quot;4&quot;
wrap=&quot;virtual&quot;
style=&quot;width:90%&quot;
accesskey=&quot;m&quot;
&gt;
Turn Search indexing back on
If Roller is not shut down properly, the next time it comes up the Roller search subsystem will delete the entire search index and will attempt to re-index the entire database. For a site the size of JRoller, this can take a long time and puts some load on the system.
During the JRoller stability crisis, we turned off the re-indexing.
We need to come up with a better way to handle this and get search back up and running.
Patch for #8 didn't include assembly project
Forgot to run svn add before creating patch for jira #8. Thus the assembly project didn't get included.
Bug with &quot;ForBean&quot; when upgrade from beta5 to beta6
When upgrading project from beta5 to beta6,&quot;NullPointerException&quot; throwed 
saying line 263 error:
line 263: int valueCount = stringReps.length;
JspStateManagerImpl.writeState throws IllegalStateException if called in server state saving mode
JspStateManagerImpl.writeState throws IllegalStateException if called in server state saving mode. The javadoc says: &quot;If the init parameter indicates that server side state saving should be used, this method must save the state in such a manner that it may be retrieved using only the viewId.&quot;
FAQ Code example contains bug
The FAQ item here: http://jakarta.apache.org/tapestry/faq.html#faq-N40012F contains the following code:
while (in.read(data) &gt; -1)
{
out.write(data);
}
Which should more appropriately be something like:
int bytesRead = 0; 
while ((bytesRead = in.read(data)) &gt; -1)
{
out.write(data, 0 , bytesRead);
}
Spurious ERROR message (probably should be WARN or INFO) when template does not refer to components in page spec
Spurious ERROR message (probably should be WARN or INFO) when template does not refer to components in page spec.
Our logs are littered with this kid of message: 
2005-08-19 09:53:30,676 ERROR [tapestry.page.ComponentTemplateLoader] - &lt;Template for component Domain.EVENT.edit does not reference embedded components: createdDate, modifiedBy, ...&gt; 
The reason is obvious: our template is generic and uses @Delegate to render all the components. So it isn't really an error because the fields do get displayed.
Even if they didn't would it really be an ERROR.
property getter is not called when initializing map property of a managed bean
From the spec document page 5-12
&quot;For &lt;map-entries&gt;: 
1. Call the property getter, if it exists. 
2. If the getter returns null or doesn't exist, create a java.util.HashMap, otherwise use the returned java.util.Map. 
3. Add all entries defined by nested &lt;map-entry&gt; elements in the order they are listed, converting key values defined by nested &lt;key&gt; elements to the type defined by &lt;key-class&gt; and entry values defined by nested &lt;value&gt; elements to the type defined by &lt;value-class&gt;. If a value is given as a value binding expression, evaluate the reference and store the result, converting to &lt;valueclass&gt; if necessary. If &lt;key-class&gt; and/or &lt;value-class&gt; are not defined, use java.lang.String. Add null for each &lt;null-value&gt; element.
4. If a new java.util.Map was created in step 2), set the property by calling the setter method, or log an error if there is no setter method.&quot;
MyFaces is skipping step 1 and creates a new HashMap instance in any case.
managed bean: &lt;list-entries&gt;handling does not follow the spec
From the spec document page 5-13:
&quot;For &lt;list-entries&gt;: 
1. Call the property getter, if it exists. 
2. If the getter returns null or doesn't exist, create a java.util.ArrayList, otherwise use the returned Object (an array or a java.util.List). 
3. If a List was returned or created in step 2), add all elements defined by nested &lt;value&gt; elements in the order they are listed, converting values defined by nested &lt;value&gt; elements to the type defined by &lt;value-class&gt;. If a value is given as a value binding expression, evaluate the reference and store the result, converting to &lt;value-class&gt; if necessary. If a &lt;value-class&gt; is not defined, use the value as-is (i.e., as a java.lang.String). Add null for each &lt;nullvalue&gt; element. 
4. If an array was returned in step 2), create a java.util.ArrayList and copy all elements from the returned array to the new List, wrapping elements of a primitive type. Add all elements defined by nested &lt;value&gt; elements as described in step 3). 
5. If a new java.util.List was created in step 2) and the property is of type List, set the property by calling the setter method, or log an error if there is no setter method. 
6. If a new java.util.List was created in step 2) and the property is a java array, convert the List into an array of the property type, and set it by calling the setter method, or log an error if there is no setter method. 
7. If a new java.util.List was created in step 4), convert the List to an array of the proper type for the property and set the property by calling the setter method, or log an error if there is no setter method.&quot;
MyFaces skips Step 1 and creates a new ArrayList instance in any case.
missing &quot;onCreate()&quot; and &quot;onDestroy()&quot; methods in pageflow_tutorial Controller.java
in step 2, section &quot;Examine the Controller.java and index.jsp Files&quot;, the Controller.java from netui-blank is missing:
/**
* Callback that is invoked when this controller instance is created.
*/
protected void onCreate()
{
}
/**
* Callback that is invoked when this controller instance is destroyed.
*/
protected void onDestroy(HttpSession session)
{
}
NETUI Samples: Validation sample failed to display error message when inputs are invalid
Start the tomcat 5, build and deploy tthe netui samples into tomcat 5. Go to http://localhost:8080/netui-samples/, then click Validation link.
Don't input any input value In the form, click &quot;submit&quot; or &quot;submit extra&quot; button, the page will always navigate to success.jsp which shows
&quot;Validation successful&quot;. But the tomcat console display validation failure exception and stack trace. Similarly, if you put values that intentionaly
break the validation rules, it still navigate to success.jsp. I looked at the source code, it supposes to navigate to the current page with
error message defined in the validation.message file.
Colons in an OGNL expression may force it to be intepreted as a literal string, not an expression
For a binding like this:
&lt;component id=&quot;foo&quot; type=&quot;Insert&quot;&gt;
&lt;binding name=&quot;value&quot; value=&quot;ognl:getCapitalized('a:b')&quot;/&gt;
&lt;/component&gt;
works and will output &quot;A:B&quot;. But if the ognl prefix is not specified (it is the default):
&lt;component id=&quot;foo&quot; type=&quot;Insert&quot;&gt;
&lt;binding name=&quot;value&quot; value=&quot;getCapitalized('a:b')&quot;/&gt;
&lt;/component&gt;
Then it will output &quot;getCapitalized('a:b')&quot;. That is, it is treating it as a literal, not an ognl.
This is because the BindingSource is misled by the colon in 'a:b' to believe that
the binding prefix &quot;getCapitalized('a&quot;. So the prefix is unknown. Then it is treating
unknown prefix as literal:
public class BindingSourceImpl implements BindingSource
{
public IBinding createBinding(IComponent component, String bindingDescription,
String reference, String defaultPrefix, Location location)
{
String prefix = defaultPrefix;
String path = reference;
int colonx = reference.indexOf(':');
if (colonx &gt; 1) //Step1: blindingly looking for a colon
{
prefix = reference.substring(0, colonx);
if (_factoryMap.containsKey(prefix))
path = reference.substring(colonx + 1);
}
BindingFactory factory = (BindingFactory) _factoryMap.get(prefix); //Step2: unknown prefix
if (factory == null)
factory = _literalBindingFactory; //Step3: treat unknown prefix as literal
return factory.createBinding(component, bindingDescription, path, location);
}
}
I'd suggest that the prefix should be checked to see if it contains alphabet chars only. If yes, go
ahead with the existing logic. If not, it should be treated as no prefix is provided (so the default 
prefix should be used). For an unknown prefix, the existing logic can still be applied (or should
throw an exception?).
ejb-links including a # to stateful session beans won't get resolved
An ejb-link including a # to specify the target module won't get resolved to a stateful session bean, since the # code insists on an exact match. After the search for a stateless bean fails by throwing an exception, we give up.
Need docs on &lt;netui:tree&gt; and related tags
The javadoc in the JAVA source needs to be updated, and there should be a conceptual doc.
Page Flow annotation processors generate files in an IDE-unfriendly way
When the Page Flow annotation processors create files (when running under Sun's apt), they do not use the Filer interface to create the files. This works fine on the command line, but it won't work in an IDE, which needs to know when/where files are created.
Unfortunately, Filer offers only two choices of places to create files: the source directory and the build directory. This means that to fix this bug, our generated files need to move out of WEB-INF, into WEB-INF/classes, i.e., they will not only be generated into a different place, but they will be read through a different mechanism in the runtime.
I'm marking this as Critical, since not fixing this will mean that the current Beehive version can't be tooled correctly in an IDE.
Need docs on &lt;netui-data:xxx&gt; tags
Literal bindings in template override bindings in specification for the same informal parameter
If there is a (literal) binding in the template (for WYSIWYG purpose) for an informal parameter, then even if another (ognl) binding is specified in the specification for the same parameter, the literal binding will win. For example:
Test.html:
&lt;span jwcid=&quot;sample&quot; style=&quot;color: red&quot;&gt;foo&lt;/span&gt; &lt;!-- this binding will win --&gt;
Test.page:
&lt;page-specification class=&quot;Test&quot;&gt;
&lt;component id=&quot;sample&quot; type=&quot;Any&quot;&gt;
&lt;binding name=&quot;style&quot; value=&quot;ognl:color&quot;/&gt; &lt;!-- this binding will be overridden --&gt;
&lt;/component&gt;
&lt;/page-specification&gt;
Test.java
class Test {
public String getColor() { //this method is never called.
...
}
}
The bug is in the validate() method in ComponentTemplateLoaderLogic. This method only checks for: 1) formal parameter; 2) reserved parameter; 3) allow-informal-parameter is no. It doesn't check if a binding has been provided for an informal parameter in the specification.
public class ComponentTemplateLoaderLogic 
{
private boolean validate(IComponent component, IComponentSpecification spec, String name,
IBinding binding)
{
boolean literal = binding instanceof LiteralBinding;
boolean isFormal = (spec.getParameter(name) != null);
if (isFormal)
{
if (component.getBinding(name) != null)
{
if (literal)
return false;
throw new ApplicationRuntimeException(ImplMessages.dupeTemplateBinding(
name,
component,
_loadComponent), component, binding.getLocation(), null);
}
return true;
}
if (!spec.getAllowInformalParameters())
{
if (literal)
return false;
throw new ApplicationRuntimeException(ImplMessages.templateBindingForInformalParameter(
_loadComponent,
name,
component), component, binding.getLocation(), null);
}
if (spec.isReservedParameterName(name))
{
if (literal)
return false;
throw new ApplicationRuntimeException(ImplMessages.templateBindingForReservedParameter(
_loadComponent,
name,
component), component, binding.getLocation(), null);
}
return true;
}
}
forrest seedTestBusiness; forrest site fails resume dtd validation
Files
main/template-sites/business/src/documentation/content/xdocs/team/resume/blogsJane.xml
main/template-sites/business/src/documentation/content/xdocs/team/resume/blogsJoe.xml
fail xml validation
@level is &quot;advanced&quot; should be &quot;Advanced&quot;
@level is &quot;advanced, &amp;gt; 5 years&quot; should be &quot;Advanced&quot;
etc
Will add patches.
Please check, sorry for raising if dtd is under change.
JspViewHandlerImpl.getServletMapping
Use the servletPath and pathInfo of the current request to detect the corresponding faces servlet mapping instead of looking for the first mapping of a faces servlet.
GenericSecurityRealm and ServerRealmConfigurationEntry can have loginService reference null when run on client
GenericSecurityRealm and ServerRealmConfigurationEntry now have a reference to loginService. This will be null if they are on a client, so we should not try to extract the objectName from the reference if it is null. On a client the loginService would not be used since the client will connect to a remote login service.
makelist.roy.pl should warn about new TLPs
For dumb people like me, we should check for the existence of the per-TLP archive directory and bail if its not there, with the message that someone should go look at
http://www.apache.org/dev/project-creation.html
and make sure qmail has been configured for the new TLP. If so, you can then create the directory and chmod it.
No error condition was raised when managed bean contained a reference to another bean with a potentially shorter scope than what the bean was configured for.
Acording to the spec (section 5.3.1.3, p5-11): 
&quot;It is an error for a managed bean created through this facility to have a property
that points at an object stored in a scope with a (potentially) shorter life span.
Specifically, this means, for an object created with the specified &lt;managed-beanscope&gt;,
then &lt;value&gt; evaluations can only point at created objects with the
specified managed bean scope:
- none -- none
- application -- none, application
- session -- none, application, session
- request -- none, application, session, request&quot;
I guess the ManagedBeanFactory should throw a FacesException in that case.
(managedBeanScopedReferencesTest)
It is an error to configure cyclic references between managed beans.
Acording to the spec (section 5.3.1.3, p5-12), &quot;It is an error to configure cyclic references between managed beans&quot;.
In the current implementation, a StackOverflowException is thrown in the org.apache.myfaces.config.ManagedBeanBuilder.buildManagedBean(ManagedBeanBuilder.java:44) if there is a cyclic reference. We should catch it and throw a FacesException instead...
(managedBeanCyclicReferenceTest)
redundant ServletDispatcher error handling complicates filters
The servlet spec assumes that servlet's primary method to signal exceptional situation is to throw ServletException. 
SendError usage is different. It is used to signal a non-OK response, but not necessarily caused by exceptional situation. It is rather assumed that the code that executes send error executes properly.
I think that internal exception should be signaled as it is assumed in the spec - i.e. by wrapping them into a ServletException, not by assuming any exact &quot;visible handling&quot;.
Moreover - there is a bad pattern. Error logging should be the first line after catch. Specifically you can't put it after calls that could probably throw an error. response.sendError may potentially throw IllegalStateException, and in fact - it throws it when an error occurs in included (dispatched) request. In such case it is never logged.
I suggest a simpler, more native and bugfree solution.
Index: dispatcher/ServletDispatcher.java
===================================================================
RCS file: /cvs/webwork/src/java/com/opensymphony/webwork/dispatcher/ServletDispatcher.java,v
retrieving revision 1.2
diff -u -r1.2 ServletDispatcher.java
--- dispatcher/ServletDispatcher.java 1 Aug 2003 20:44:32 -0000 1.2
+++ dispatcher/ServletDispatcher.java 4 Sep 2003 23:03:02 -0000
@@ -21,7 +21,6 @@
import java.io.File;
import java.io.IOException;
-import java.io.PrintWriter;
import java.util.HashMap;
@@ -164,30 +163,8 @@
request.setAttribute(&quot;webwork.valueStack&quot;, proxy.getValueStack());
proxy.execute();
} catch (Exception e) {
- try {
- // send a http 500 INTERNAL SERVER ERROR to use the servlet defined error handler
- // make the exception availible to the web.xml defined error page
- request.setAttribute(&quot;javax.servlet.error.exception&quot;, e);
-
- // for compatibility 
- request.setAttribute(&quot;javax.servlet.jsp.jspException&quot;, e);
-
- // send the error response
- response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR, e.getMessage());
-
- /*
- response.setContentType(&quot;text/html&quot;);
- response.setLocale(Configuration.getLocale());
-
- PrintWriter writer = response.getWriter();
- writer.write(&quot;Error executing action: &quot; + e.getMessage());
- writer.println(&quot;&lt;pre&gt;\n&quot;);
- e.printStackTrace(response.getWriter());
- writer.print(&quot;&lt;/pre&gt;\n&quot;);
- */
- log.error(&quot;Could not execute action&quot;, e);
- } catch (IOException e1) {
- }
+ log.error(&quot;Could not execute action&quot;, e);
+ throw new ServletException(&quot;Could not execute action becouse exception occured&quot;, e);
}
}
client side css-link's get resolved on the server, so they break.
css-links in an ejb ref on an app client get resolved to gbeans on the server. This normally means they will break.
The content of README file is obsolete
Plugin artifact jars missing files
The POM's need to be fixed to ...
(1) change plugin versions from 1.0 to 1.0.0
(2) resource elements need to be included within &lt;resources&gt;
(3) serverdef and icons folder need to be included in artifact.
response contentType can change after getWriter()
As far as I can tell (unfortunately, I don't know how to do better testing of this), after calling
response.getWriter();
I could still change the content type with
response.setContentType(&quot;foo/bar&quot;);
According to the spec (p. 51, line 20) this should be ignored.
I printed the hash code of the writer to make sure the compiler wasn't optimizing the getWriter away into a no op.
Duplicate root entry gets added everytime restarting the server
Duplicate root entry gets added everytime restarting the server.
Steps to reproduce:
1. Start the server:
java -jar main/target/apacheds-main-0.9.3-SNAPSHOT.jar main/server.xml
2. Use a command line ldapsearch, execute the following:
ldapsearch -h localhost -p 10389 -b &quot;dc=apache,dc=org&quot;
It returns an entry: dc=apache,dc=org.
3. Restart the server.
4. Execute the same search operation.
This time it returns 2 entries, both are: dc=apache,dc=org.
The more you restart the server, the more duplicate entries you will get. Note: if you use an LDAP browser you probably won't see this problem.
Controls deserialization broken because it's looking for the wrong delimiter
Controls deserialization has a rather nasty bug where we're looking for the wrong delimiter. To wit, in AnnotatedElementMap.readObject():
---
int argsIndex = _elemDesc.indexOf('/');
if (argsIndex &lt; 0) // element is a Field
---
should actually be:
---
int argsIndex = _elemDesc.indexOf('(');
if (argsIndex &lt; 0) // element is a Field
---
This basically means that controls serialization is broken in a fair number of cases (mostly extensible controls).
Anonymous user may gain access as admin user
Anonymous user may gain access as admin user by specifying java.naming.ldap.version=3 in the JNDI client.
To show the problem, add a print statement in the AuthenticationService.java at line 369:
// perform the authentication
LdapPrincipal authorizationId = authenticator.authenticate( ctx );
System.out.println(&quot;Authorization ID: &quot;+authorizationId);
Start the server, then run the following program:
import junit.framework.TestCase;
import javax.naming.Context;
import javax.naming.NamingEnumeration;
import javax.naming.directory.*;
import java.util.Hashtable;
public class Test extends TestCase {
public void testAnonymousBindWithLDAPVersion3() throws Exception {
String suffix = &quot;dc=apache,dc=org&quot;;
Hashtable env = new Hashtable();
env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);
env.put(Context.PROVIDER_URL, &quot;ldap://localhost:10389/&quot;);
// env.put(&quot;java.naming.ldap.version&quot;, &quot;3&quot;);
DirContext ctx = new InitialDirContext(env);
SearchControls sc = new SearchControls();
sc.setSearchScope(SearchControls.SUBTREE_SCOPE);
NamingEnumeration ne = ctx.search(suffix, &quot;(objectClass=*)&quot;, sc);
System.out.println(&quot;Search results:&quot;);
int counter = 0;
while (ne.hasMore()) {
SearchResult sr = (SearchResult)ne.next();
String rdn = sr.getName();
System.out.println(&quot; - &quot;+(&quot;&quot;.equals(rdn) ? suffix : rdn+&quot;,&quot;+suffix));
counter++;
}
System.out.println(&quot;Found &quot;+counter+&quot; entries.&quot;);
ctx.close();
}
}
Without specifying java.naming.ldap.version=3, the user will remain anonymous (empty Authentication ID). However, with java.naming.ldap.version=3, the anonymous user gets authenticated as the admin user without even specifying any password.
Add operation with capital letters in the suffix failed.
Set up a partition with dc=Apache,dc=Org as the suffix. Run the server then add the following entry:
dn: ou=users,dc=Apache,dc=Org
objectClass: organizationalUnit
ou: users
The operation will fail with a return code of 32 (no such object).
When an add operation is issued, the server calls the DefaultContextPartitionNexus.hasEntry() which in turn calls DefaultContextPartitionNexus.getBackend(). The current getBackend() implementation requires that the DN parameter has to be normalized. However, the DN parameter coming from hasEntry() is not normalized, causing it to fail finding the appropriate backend. So, either the getBackend() has to be modified to normalize the parameter, or all callers have to be checked to make sure they normalize the parameter first.
Using component types with slashes in the HTML template fails.
Whenever a component is referenced with a slash in the HTML template such as:
&lt;div jwcid=&quot;@templates/MyTemplate&quot;&gt;
it generates an exception:
org.apache.tapestry.parse.TemplateParseException
Tag &lt;div&gt; on line 4 contains an invalid jwcid '@template/MyTemplate'.
Note that it works when I reference the same component using an annotation as in:
@Component(id = &quot;template&quot;, type = &quot;templates/MyTemplate&quot;) public 
abstract MyTemplate getTemplateComponent();
Resource prefixes not honored inside &lt;page&gt;'s specification-path attribute
stacktrace
* org.apache.tapestry.util.xml.DocumentParseException.&lt;init&gt;(DocumentParseException.java:45)
* org.apache.tapestry.parse.SpecificationParser.parseDocument(SpecificationParser.java:1676)
* org.apache.tapestry.parse.SpecificationParser.parsePageSpecification(SpecificationParser.java:1736
Looking at the code (and running it through the debugger), I found out that the url was null even though the resouce is not.
URL resourceURL = resource.getResourceURL();
if (resourceURL == null)
throw new DocumentParseException(ParseMessages.missingResource(resource), resource,null);
I'm using Tap 4.0, my application file contains the following :
&lt;page name=&quot;Home&quot; specification-path=&quot;/test/web/pages/Home.page&quot;/&gt;
and the Home.page looks like
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;page-specification class=&quot;org.apache.tapestry.html.BasePage&quot;/&gt;
the problem is .
according to the DTD the specification-path attribute in the page element is the &quot;resource classpath&quot;. So this should be something like /my/package/name, alas the ContextResource class of Hivemind obtains the URL of the Resource via the ServletContext, which is NOT by classpath but by path in the servletcontext so like /WEB-INF/classes/my/package/name. Prefixing it with classpath or context don't seem to work.
&lt;!-- =======================================================
Element: page
Contained by: application, library-specification
Defines a single page within the application. Each application will contain
at least one of these, to define the Home page.
Attributes:
name: A unique name for the application.
specification-path: The resource classpath of the component specification for the page.
--&gt;
Gzip compression can cause blank pages in browsers
Click gzip compression of HTML can result in blank pages being displayed in some browser.
This issue became apparent when the click-examples application was deployed with the global header set:
&lt;header name=&quot;Content-Encoding&quot; value=&quot;gzip&quot;/&gt;
This was first observed by Jake Robwood, and subsequently observed by some others. This was problem was not reproducable by all users. No particular browser or OS was identified as being solely associated with this issue.
The Click compression functionality does not set the response header &quot;Content-Length&quot; which could be the cause of this issue. Click's compression is performed by the ClickServlet.renderTemplate() method:
protected void renderTemplate(Page page) throws Exception {
..
final HttpServletResponse response = page.getContext().getResponse();
response.setContentType(page.getContentType());
OutputStream output = response.getOutputStream();
// If Page has a &quot;Content-Encoding&quot; &quot;gzip&quot; header then we can look to
// compressing the output stream
if (hasContentEncodingGzipHeader(page)) {
// If client accepts gzip encoding compress output stream
String acceptEncoding = request.getHeader(&quot;Accept-Encoding&quot;);
if (acceptEncoding != null) {
if (acceptEncoding.toLowerCase().indexOf(&quot;gzip&quot;) &gt; -1) {
output = new GZIPOutputStream(output, 4 * 1024);
response.setHeader(&quot;Content-Encoding&quot;, &quot;gzip&quot;);
}
}
}
..
}
AXIS C++ allows to set positive values to XSD_negativeInteger type
Axis C++ allows to set positive values for XSD_negativeInteger dataype. As per the XML schema specification, the value space of negativeInteger is the infinite set {...,-2,-1} and it's maxInclusive is -1. This means, only negagtive integer values should be allowed and no positive values. But, I see that positive values can also be set for this datatype. As per my observation,
1. negativeInteger and nonPositiveInteger types accept positive values ( e.g. +1 is accepted and same value is displayed after serialze/deserialized)
2. positiveInteger and nonNegativeInteger types accept negative values ( e.g. -1 is accepted and 18446744073709551615 value is displayed after 
serialze/deserialized)
I think this is not the correct behaviour. Though these XML datatypes are mapped to different datatypes of client programming languages (C/C++ in our case), this should not be allowed while serializing/deserializing in the client product and some exception should be reported indicating the error. I see the whole purpose of a datatype is lost when a +ve value is set for a negativeInteger type and vice versa.
Testcases written for these types ( XSD_negativeIntegerClient.cpp, XSD_nonPositiveIntegerClient.cpp, XSD_positiveIntegerClient.cpp and XSD_nonNegativeIntegerClient.cpp) show this problem. 
Regards
Manohar.
NullPointerException in LuceneQueryBuilder
after setting up the following query:
//mycoreclass[@ID= 'ArchNachl_class_003']//label[@* = 'A']
I get a NullPointerException:
java.lang.NullPointerException
at org.apache.jackrabbit.core.query.lucene.LuceneQueryBuilder.visit(LuceneQueryBuilder.java:553)
at org.apache.jackrabbit.core.query.RelationQueryNode.accept(RelationQueryNode.java:157)
at org.apache.jackrabbit.core.query.NAryQueryNode.acceptOperands(NAryQueryNode.java:131)
at org.apache.jackrabbit.core.query.lucene.LuceneQueryBuilder.visit(LuceneQueryBuilder.java:421)
at org.apache.jackrabbit.core.query.LocationStepQueryNode.accept(LocationStepQueryNode.java:156)
at org.apache.jackrabbit.core.query.lucene.LuceneQueryBuilder.visit(LuceneQueryBuilder.java:400)
at org.apache.jackrabbit.core.query.PathQueryNode.accept(PathQueryNode.java:47)
at org.apache.jackrabbit.core.query.lucene.LuceneQueryBuilder.visit(LuceneQueryBuilder.java:200)
at org.apache.jackrabbit.core.query.QueryRootNode.accept(QueryRootNode.java:112)
at org.apache.jackrabbit.core.query.lucene.LuceneQueryBuilder.createLuceneQuery(LuceneQueryBuilder.java:190)
at org.apache.jackrabbit.core.query.lucene.LuceneQueryBuilder.createQuery(LuceneQueryBuilder.java:172)
at org.apache.jackrabbit.core.query.lucene.QueryImpl.execute(QueryImpl.java:152)
at org.apache.jackrabbit.core.query.QueryImpl.execute(QueryImpl.java:132)
I don't really know if it's a valid query. I should search for every label that has a property value (what ever name the property may have) that is somewhere under a specific &quot;mycoreclass&quot; node. Either way Jackrabbit should of cause not exit with a NullPointerExeption here.
I'm using the very current svn snapshot of jackrabbit. For the records line 550-557 of LuceneQueryBuilder.java look like this now:
String field = &quot;&quot;;
try {
field = node.getProperty().toJCRName(nsMappings);
} catch (NoPrefixDeclaredException e) {
// should never happen
exceptions.add(e);
}
The server response message length is 4 bytes bigger than the specified content length with C++ server side on Windows platform
The server response message length is 4 bytes bigger than the specified content length with C++ server side on Windows platform.
For more information, please refer http://marc.theaimsgroup.com/?l=axis-c-dev&amp;m=112565016923551&amp;w=2
Adding an already existing attribute value with a modify operation does not cause an error.
If you try to add an attribute value which is already present within the entry, no error occurs.
After the execution of the modify operation, the value appears twice in the entry instead.
As a consequence, it is possible for instance to create an entry like this:
---
dn: cn=Stefan Zoerner,ou=users,ou=system
sn: Zoerner
objectClass: top
objectClass: top
objectClass: person
cn: Stefan Zoerner
---
Expected behavior is error code 20, which indicates that the attribute value specified in a modify or add operation already exists as a value for that attribute.
I will add a test case as usual which demonstrates the bug with a person entry.
UISelectMany crashes on submit
When submitting a page with a UISelectMany, I get the following stack trace.
This bug appeared last week.
java.util.ArrayList
javax.servlet.ServletException: java.util.ArrayList
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:109)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:122)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.seanergie.filter.persistence.SessionsManagerFilter.doFilter(SessionsManagerFilter.java:44)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.seanergie.filter.authentication.LoginInterceptorFilter.doFilter(LoginInterceptorFilter.java:36)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:407)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:526)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)
at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
at java.lang.Thread.run(Thread.java:595)
Caused by:
java.lang.ClassCastException: java.util.ArrayList
at javax.faces.component.UISelectMany$1.getConvertedValue(UISelectMany.java:267)
at javax.faces.component._SelectItemsUtil.matchValue(_SelectItemsUtil.java:52)
at javax.faces.component.UISelectMany.validateValue(UISelectMany.java:305)
at javax.faces.component.UIInput.validate(UIInput.java:269)
at javax.faces.component.UISelectMany.validate(UISelectMany.java:328)
at javax.faces.component.UIInput.processValidators(UIInput.java:144)
at javax.faces.component.UIForm.processValidators(UIForm.java:68)
at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:417)
at javax.faces.component.UIViewRoot.processValidators(UIViewRoot.java:142)
at org.apache.myfaces.lifecycle.LifecycleImpl.processValidations(LifecycleImpl.java:208)
at org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:76)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:94)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:122)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.seanergie.filter.persistence.SessionsManagerFilter.doFilter(SessionsManagerFilter.java:44)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.seanergie.filter.authentication.LoginInterceptorFilter.doFilter(LoginInterceptorFilter.java:36)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:407)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:526)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)
at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
at java.lang.Thread.run(Thread.java:595)
build fixes to work with maven 1.1 beta 2
Attached is a patch to some build files that are not quite valid and that the new Maven beta is stricter on.
releases are expected to be official soon, and can be tested from here:
http://people.apache.org/~brett/release/
Compare operation does not adhere to some matching rules
The compare operation provides wrong results for some matching rules. I made tests with four rules, two of them worked, two of them not. 
caseIgnoreMatch failed (compare(&quot;Amos&quot;, &quot;AMOS&quot;) =&gt; false)
telephoneNumberMatch failed
octetStringMatch worked
distinguishedNameMatch worked
A corresponding test case with all four cases is included to this issue. 
I changed the CompareHandler in org.apache.ldap.server.protocol to use the comparator from the AttributeTypeRegistry instead of Attribute.contains(...). This removed the problem, but I am unsure, whether this implementation is desired by design. Especially in case of multivalued attributes, the implementation is not optimal (e.g. many member values in a groupOfUniqueNames), because it seems to be necessary to loop over the attr values by the handler.
NullPointerException in WebXml.getFacesServletMappings
Oliver, I assigned this to you because I have this bug only since your last changes.
Here is that bug report with the Stack Trace.
You will see the NPE at WebXml.java:90
Error Report
HTTP Status : 500
Date : 2005-09-12 11:18:50
User IP Address : 10.0.0.101
URL : http://10.0.0.10/windsOfCabarete/forum/edit-jsf.jsf
Request Parameters
None.
Headers
host: 10.0.0.10
user-agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.10) Gecko/20050720 Fedora/1.0.6-1.1.fc4 Firefox/1.0.6
accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
accept-language: fr-fr,en-us;q=0.7,en;q=0.3
accept-encoding: gzip,deflate
accept-charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7
keep-alive: 300
connection: keep-alive
referer: http://10.0.0.10/windsOfCabarete/
cookie: JSESSIONID=10F2F1BA6862585895A9F10E99B920B3
Attributes
Request attributes
javax.servlet.forward.request_uri: /windsOfCabarete/forum/edit-jsf.jsf
javax.servlet.forward.context_path: /windsOfCabarete
javax.servlet.forward.servlet_path: /forum/edit-jsf.jsf
javax.servlet.forward.path_info: /errorHandler.jsp
javax.servlet.error.servlet_name: Faces Servlet
com.seanergie.web.util.SecureRedirect: Disabled
javax.servlet.error.message: 
javax.servlet.error.exception: javax.servlet.ServletException
javax.servlet.error.request_uri: /windsOfCabarete/forum/edit-jsf.jsf
org.apache.myfaces.component.html.util.ExtensionFilter.doFilterCalled: true
javax.servlet.error.status_code: 500
class org.apache.myfaces.renderkit.html.util.JavascriptUtils.OLD_VIEW_ID: /forum/edit-jsf.jsp
Session attributes
currentAdNumber: 0
Exception
null
javax.servlet.ServletException
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:113)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:122)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.seanergie.filter.persistence.SessionsManagerFilter.doFilter(SessionsManagerFilter.java:44)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.seanergie.filter.authentication.LoginInterceptorFilter.doFilter(LoginInterceptorFilter.java:36)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:407)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:526)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)
at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
at java.lang.Thread.run(Thread.java:595)
Caused by:
java.lang.NullPointerException
at org.apache.myfaces.webapp.webxml.WebXml.getFacesServletMappings(WebXml.java:90)
at org.apache.myfaces.application.jsp.JspViewHandlerImpl.getServletMapping(JspViewHandlerImpl.java:347)
at org.apache.myfaces.application.jsp.JspViewHandlerImpl.renderView(JspViewHandlerImpl.java:199)
at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:300)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:95)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:122)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.seanergie.filter.persistence.SessionsManagerFilter.doFilter(SessionsManagerFilter.java:44)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.seanergie.filter.authentication.LoginInterceptorFilter.doFilter(LoginInterceptorFilter.java:36)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:407)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:526)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)
at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
at java.lang.Thread.run(Thread.java:595)
EventDirContext does not deregister listeners
EventDirContext never deregisters listeners, either by explicit call to:
ctx.removeNamingListener( listener );
or by closing the context:
ctx.close();
Javadocs state:
&quot;A registered listener becomes deregistered when:
It is removed using removeNamingListener().
An exception is thrown while collecting information about the events. That is, when the listener receives a NamingExceptionEvent.
Context.close() is invoked on the EventContext instance with which it has registered.&quot;
geronimo transaction module should not depend on tranql
As a legacy from its import from openejb, TransactionContext uses tranql's InTxCache. This should be generalized into an interface in geronimo that Openejb uses an adapter to the tranql class for. This will eliminate the dependency on tranql. This should be of interest to the Jencks project as well.
Hooking up Databinding with MTOM
Can we please work on hooking up MTOM and Databinding stuff together? at a minimum we need a flag that allows all base64Binary elements to be sent using MTOM on the wire. Please see attached WSDL (specifically GetFileResponse).
thanks,
dims
case sensitivity in matching objectClass in search filter
ObjectClass matching in search filters is case sensitive. Is this deliberate (need to check in rfc 2254)?
OpenLDAP, on the other hand, does a case insensitive match. 
A case sensitive match is not particularly helpful in this circumstance.
[nickf@little-creatures ~]$ ldapsearch -D 'uid=admin,ou=system' -h localhost -p 10389 -x -w secret -b 'ou=users,ou=system' '(&amp;(&amp;(cn=*)(member=cn=groupA,ou=groups,ou=system))(objectClass=inetorgperson))'
...
# search result
search: 2
result: 0 Success
matchedDN: ou=users,ou=system
[nickf@little-creatures ~]$ ldapsearch -D 'uid=admin,ou=system' -h localhost -p 10389 -x -w secret -b 'ou=users,ou=system' '(&amp;(&amp;(cn=*)(member=cn=groupA,ou=groups,ou=system))(objectClass=inetOrgPerson))'
...
# search result
search: 2
result: 0 Success
matchedDN: ou=users,ou=system
# numResponses: 9
# numEntries: 8
SequenceTablePrimaryKeyGenerator transaction handling is broken (Tranql)
Tranql's SequenceTablePrimaryKeyGenerator thinks it is doing its work in a new transaction, but it is not. It breaks the current transaction, and fails if you are using an xa datasource.
The current openejb setup code does not allow for passing a separate ds in for the pk generator than for cmp. Therefore it appears that essentially doing a &quot;requires new&quot; call is best. However, the transaction module classes are not available in tranql since transaction depends on tranql (using a cache class). I think moving the SequenceTable pk generator to openejb is the most practical short term solution but I will look for others.
Fractional part is cut off in MathTool.toDouble()
When using MathTool.toDouble(), the fractional part is cut off. This is caused
by the last line in the toDouble method:
return new Double(n.intValue());
I assume this is a copy/paste error from toInteger and should be changed to:
return new Double(n.doubleValue());
Create a conditional dependency in POM to be able to build on different platforms
Eclipse contains platform specific libraries for each supported platform. So downloading a win32 image won't give you the linux libraries and vise versa. So for the POM, dependencies on these need to be handled so that it doesn't have to include each library needed for everyplatform. This should be resolvable using conditional dependencies. So if I build on linux the swt native library dependency will point to the linux lib, and not the win32 lib.
tm can't commit a tx with only read only resources numbering at least 2
If you have a transaction with at least two resource managers/branches, but all of them return read-only on prepare, we don't write a prepare record but do try to write a commit done record. This doesn't work.
The implementation of LdapName#getSuffix(int) does not match that of Java 1.5's LDAP.
The attached patch fixes the LdapName#getSuffix(int) method to match the one on Java 1.5. The current getSuffix returns a prefix of sorts, but not exactly that of getPrefix. This patch also contains fixes for all (hopefully) places where getSuffix(int) was called. It also corrects the JUnit test. I have also attached a JUnit test that must be compiled and run under Java 1.5 to make sure the naming classes behave the same as Java 1.5's version.
This patch does NOT change the ContextPartion's concet of suffix even though it is really a prefix. So it is called a suffix still, but it is really the prefix.
Remove e.printStackTrace();
I found some e.printStackTrace() calls in the source code. We'll have to replace them by throwing some type-safe runtime exceptions to make it easy to track any problems.
Debug linkrewriting to enable commons-jxpath-1.2.jar again
Links using either ext:ref or site:ref are not resolved correctly in the 'forrest seed' example site. 
E.g. on the frontpage (localhost:8888/index.html) the link to &quot;Apache Forrest&quot; points to &quot;ext:forrest&quot; and *not* to forrest.a.o as indicated in site.xml:
&lt;external-refs&gt;
&lt;forrest href=&quot;http://forrest.apache.org/&quot;&gt;
&lt;/external-refs&gt;
The internal links seem to work but this is only because they do *not* use the site:reference format (which they should anyway in the example site!?). Inserting a link like this
This is a site:link &lt;a href=&quot;site:linking&quot;&gt;linking&lt;/a&gt;.
gives a link to &quot;site:linking&quot; in HTML output.
see also:
http://mail-archives.apache.org/eyebrowse/ReadMsg?listName=user@forrest.apache.org&amp;msgNo=1454
pelt view, instruction_arrow.png missing
Enabling pelt view on new seeded site.
forrest site
...
X [0] skin/images/instruction_arrow.png BROKEN: /usr/java/forrest/build/plugins/org.apache.forrest.plugin.output.viewHelper.xhtml/.../images/instruction_arrow.png (No such file or directory)
...
My local fix:
cd $FORREST_HOME/whiteboard/plugins/org.apache.forrest.plugin.output.viewHelper.xhtml/resources/skin/images
cp $FORREST_HOME/main/webapp/skins/pelt/images/instruction_arrow.png .
cd ../css/pelt
and patch pelt.screen.css:
--- pelt.screen.css.orig 2005-09-14 14:35:20.000000000 +0100
+++ pelt.screen.css 2005-09-14 14:35:34.000000000 +0100
@@ -609,7 +609,7 @@
p.instruction {
display: list-item;
- list-style-image: url('../images/instruction_arrow.png');
+ list-style-image: url('images/instruction_arrow.png');
list-style-position: outside;
margin-left: 2em;
}
actionURL, renderURL and resourceURL attributes in ELLinkTag incorrectly parsed
The EL attribute parsing in the ELLinkTag incorrectly uses the getter methods to retrieve the specified values, and as result these attribute values always end up being &quot;false&quot;.
run-as for servlets in jetty is not implemented
run-as for servlets in jetty is not implemented, oops
After GBean changes some JSR77 objects don't have a statisticsProvider attribute
Ones that I think may be affected are:
javamailresource
jcamanagedconnectionfactory
jcaresource
jtaresource
resourceadapter
jcaconnectionfactory
statefulsessionbean
statelesssessionbean
JBI component Bootrap class issue
When the serviceMIX JBI container starts a component bootstraper class the init method call creates an error when trying to access any methods called via the InstallationContext.getContext() method (ComponentContext obj returned) since the ComponentContext object ref is null into the InstallContext class.
The following servicemix startup log and attached source code file demonstrates the issue :
ServiceMix ESB: 1.0.1
Loading ServiceMix from servicemix.xml on the CLASSPATH
[INFO] XmlBeanDefinitionReader - -Loading XML bean definitions from class path resource [servicemix.xml]
[INFO] ClassPathXmlApplicationContext - -Bean factory for application context [org.springframework.context.support.ClassPathXmlApplicationContext;hashCode=1102920]: org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [transactionManager,jmsFactory,jbi]; root of BeanFactory hierarchy
[INFO] ClassPathXmlApplicationContext - -3 beans defined in application context [org.springframework.context.support.ClassPathXmlApplicationContext;hashCode=1102920]
[INFO] CollectionFactory - -JDK 1.4+ collections available
[INFO] CollectionFactory - -Commons Collections 3.x available
[INFO] ClassPathXmlApplicationContext - -Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@1ded0fd]
[INFO] ClassPathXmlApplicationContext - -Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@7a84e4]
[INFO] DefaultListableBeanFactory - -Pre-instantiating singletons in factory [org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [transactionManager,jmsFactory,jbi]; root of BeanFactory hierarchy]
[INFO] DefaultListableBeanFactory - -Creating shared instance of singleton bean 'transactionManager'
[INFO] DefaultListableBeanFactory - -Creating shared instance of singleton bean 'jmsFactory'
[INFO] DefaultListableBeanFactory - -Creating shared instance of singleton bean 'jbi'
[INFO] SpringInitialContextFactory - -Loading JNDI context from: class path resource [jndi.xml]
[INFO] XmlBeanDefinitionReader - -Loading XML bean definitions from class path resource [jndi.xml]
[INFO] XmlBeanFactory - -Creating shared instance of singleton bean 'jndi'
[INFO] JBIContainer - -ServiceMix JBI Container (http://servicemix.org/) name: defaultJBI running version: null
[INFO] AutoDeploymentService - -Directory: install: Archive changed: processing jbi-installer-sbbi-jafs-0.9.9.jar ...
[INFO] InstallationService - -Unpacked archive C:\servicemix-1.0.1\bin\..\install\jbi-installer-sbbi-jafs-0.9.9.jar to C:\servicemix-1.0.1\bin\..\wdir\defaultJBI\tmp\jbi-installer-sbbi-jafs-0.9.9.0.tmp
[INFO] XmlBeanDefinitionReader - -Loading XML bean definitions from URL [file:/C:/servicemix-1.0.1/bin/../wdir/defaultJBI/tmp/jbi-installer-sbbi-jafs-0.9.9.0.tmp/META-INF/jbi.xml]
[INFO] FileSystemXmlApplicationContext - -Bean factory for application context [org.springframework.context.support.FileSystemXmlApplicationContext;hashCode=3154093]: org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [installationDescriptorExtension,jbi]; root of BeanFactory hierarchy
[INFO] FileSystemXmlApplicationContext - -2 beans defined in application context [org.springframework.context.support.FileSystemXmlApplicationContext;hashCode=3154093]
[INFO] FileSystemXmlApplicationContext - -Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@12452e8]
[INFO] FileSystemXmlApplicationContext - -Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@1bf3d87]
[INFO] DefaultListableBeanFactory - -Pre-instantiating singletons in factory [org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [installationDescriptorExtension,jbi]; root of BeanFactory hierarchy]
[INFO] DefaultListableBeanFactory - -Creating shared instance of singleton bean 'installationDescriptorExtension'
[INFO] DefaultListableBeanFactory - -Creating shared instance of singleton bean 'jbi'
[INFO] InstallationService - -moved C:\servicemix-1.0.1\bin\..\wdir\defaultJBI\tmp\jbi-installer-sbbi-jafs-0.9.9.0.tmp to C:\servicemix-1.0.1\bin\..\wdir\defaultJBI\components\Jafs\installation
BOOTSTRAP INIT ROOT=C:\servicemix-1.0.1\bin\..\wdir\defaultJBI\components\Jafs\installation
[ERROR] InstallationService - -Deployment of Component failed &lt;java.lang.NullPointerException&gt;java.lang.NullPointerException
at org.servicemix.jbi.framework.ComponentContextImpl.getWorkspaceRoot(ComponentContextImpl.java:225)
at net.sbbi.jafs.services.jbi.JBIBootstraper.init(JBIBootstraper.java:23)
at org.servicemix.jbi.framework.InstallerMBeanImpl.&lt;init&gt;(InstallerMBeanImpl.java:80)
at org.servicemix.jbi.framework.InstallationService.initializeInstaller(InstallationService.java:575)
at org.servicemix.jbi.framework.InstallationService.doInstallComponent(InstallationService.java:533)
at org.servicemix.jbi.framework.InstallationService.doInstallArchive(InstallationService.java:487)
at org.servicemix.jbi.framework.InstallationService.install(InstallationService.java:265)
at org.servicemix.jbi.framework.InstallationService.process(InstallationService.java:236)
at org.servicemix.jbi.framework.AutoDeploymentService$1.run(AutoDeploymentService.java:164)
at org.apache.geronimo.connector.work.WorkerContext.run(WorkerContext.java:291)
at EDU.oswego.cs.dl.util.concurrent.PooledExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Thread.java:595)
[WARN] EnvironmentContext - -Failed to remove directory structure for Component: Jafs
[WARN] AutoDeploymentService - -Directory: install: Automatic install of ..\install\jbi-installer-sbbi-jafs-0.9.9.jar failed &lt;javax.jbi.management.DeploymentException: java.lang.NullPointerException&gt;javax.jbi.management.DeploymentException: java.lang.NullPointerException
at org.servicemix.jbi.framework.InstallationService.initializeInstaller(InstallationService.java:588)
at org.servicemix.jbi.framework.InstallationService.doInstallComponent(InstallationService.java:533)
at org.servicemix.jbi.framework.InstallationService.doInstallArchive(InstallationService.java:487)
at org.servicemix.jbi.framework.InstallationService.install(InstallationService.java:265)
at org.servicemix.jbi.framework.InstallationService.process(InstallationService.java:236)
at org.servicemix.jbi.framework.AutoDeploymentService$1.run(AutoDeploymentService.java:164)
at org.apache.geronimo.connector.work.WorkerContext.run(WorkerContext.java:291)
at EDU.oswego.cs.dl.util.concurrent.PooledExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Thread.java:595)
Caused by: java.lang.NullPointerException
at org.servicemix.jbi.framework.ComponentContextImpl.getWorkspaceRoot(ComponentContextImpl.java:225)
at net.sbbi.jafs.services.jbi.JBIBootstraper.init(JBIBootstraper.java:23)
at org.servicemix.jbi.framework.InstallerMBeanImpl.&lt;init&gt;(InstallerMBeanImpl.java:80)
at org.servicemix.jbi.framework.InstallationService.initializeInstaller(InstallationService.java:575)
... 8 more
[INFO] AutoDeploymentService - -Directory: install: Finished installation of archive: jbi-installer-sbbi-jafs-0.9.9.jar
[INFO] AutoDeploymentService - -Directory: deploy: Archive changed: processing jbi-assembly-sbbi-jafs-0.9.9.jar ...
[INFO] DeploymentService - -Auto deploying: C:\servicemix-1.0.1\bin\..\deploy\jbi-assembly-sbbi-jafs-0.9.9.jar
[INFO] DeploymentService - -Unpacked archive C:\servicemix-1.0.1\bin\..\deploy\jbi-assembly-sbbi-jafs-0.9.9.jar to C:\servicemix-1.0.1\bin\..\wdir\defaultJBI\tmp\jbi-assembly-sbbi-jafs-0.9.9.0.tmp
[INFO] XmlBeanDefinitionReader - -Loading XML bean definitions from URL [file:/C:/servicemix-1.0.1/bin/../wdir/defaultJBI/tmp/jbi-assembly-sbbi-jafs-0.9.9.0.tmp/META-INF/jbi.xml]
[INFO] FileSystemXmlApplicationContext - -Bean factory for application context [org.springframework.context.support.FileSystemXmlApplicationContext;hashCode=9838079]: org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [jbi]; root of BeanFactory hierarchy
[INFO] FileSystemXmlApplicationContext - -1 beans defined in application context [org.springframework.context.support.FileSystemXmlApplicationContext;hashCode=9838079]
[INFO] FileSystemXmlApplicationContext - -Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@18b81e3]
[INFO] FileSystemXmlApplicationContext - -Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@1fc6e42]
[INFO] DefaultListableBeanFactory - -Pre-instantiating singletons in factory [org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [jbi]; root of BeanFactory hierarchy]
[INFO] DefaultListableBeanFactory - -Creating shared instance of singleton bean 'jbi'
[INFO] DeploymentService - -JAFSProcessSA Moving C:\servicemix-1.0.1\bin\..\wdir\defaultJBI\tmp\jbi-assembly-sbbi-jafs-0.9.9.0.tmp to C:\servicemix-1.0.1\bin\..\wdir\defaultJBI\service-assemblies\JAFSProcessSA
[INFO] DeploymentService - -deployServiceUnit: unpack archive C:\servicemix-1.0.1\bin\..\wdir\defaultJBI\service-assemblies\JAFSProcessSA\jafs-su.zip to C:\servicemix-1.0.1\bin\..\wdir\defaultJBI\components\Jafs\serviceunit\JAFSProcess
[WARN] AutoDeploymentService - -Directory: deploy: Automatic install of ..\deploy\jbi-assembly-sbbi-jafs-0.9.9.jar failed &lt;javax.jbi.management.DeploymentException: Component Jafs doesn't exist&gt;javax.jbi.management.DeploymentException: Component Jafs doesn't exist
at org.servicemix.jbi.framework.DeploymentService.deployServiceUnit(DeploymentService.java:506)
at org.servicemix.jbi.framework.DeploymentService.deploy(DeploymentService.java:162)
at org.servicemix.jbi.framework.DeploymentService.process(DeploymentService.java:106)
at org.servicemix.jbi.framework.AutoDeploymentService$1.run(AutoDeploymentService.java:164)
at org.apache.geronimo.connector.work.WorkerContext.run(WorkerContext.java:291)
at EDU.oswego.cs.dl.util.concurrent.PooledExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Thread.java:595)
[INFO] AutoDeploymentService - -Directory: deploy: Finished installation of archive: jbi-assembly-sbbi-jafs-0.9.9.jar
This is definitly an annoying issue since the InstallationContext.getContext() method give access to major object such as the JMX MBean server.
Regards
WSDL2Ws generates bad code with multiple xsd:any's in a complex type
I had a wsdl that has a complex type that contained a sequence of xsd:any, xsd:int and another xsd:any. The class that WSDL2Ws generated contained two AnyType's both with a field name of any and no int. Firstly the int was missing. Secondly the generated class would not compile since the two fields had the same name.
Update Change Password protocol to use kerberos-common hashed adapter for cipher text processing
Encapsulated cipher processing is now available in kerberos-common. The Change Password protocol should be updated to take advantage of the improved exception handling and overall code reduction.
Console throws OutOfBoundsexception when app erroneously has a &lt;global-jndi&gt;&lt;/global-jndi&gt; tag
In a deployment plan the datasource has a &lt;global-jndi&gt;&lt;/global-jndi&gt; specificed and it is being interpreted incorrectly. The jndi-name of &quot;&quot; is being set which is not expected in the rest of the infrastructure. Rather than taking an exception the user should be warned and the tag should be ignored. 
I have updated ConnectorModuleBuilder.java with the code to do this. The message issued is:
01:47:26,150 WARN [ConnectorModuleBuilder] Connector includes a definition for a &lt;global-jndi&gt; but specifies no value. The attribute is ignored. Update the attribute with the desired value or remove the tag to avoid this message.
Server thread locks when fails to load the service shared library
When HandlerLoader can't load a library, it raises an exception and several locks are left in held state.
Following request hangups forever.
x:inputCalendar: onload overriding does not work in Firefox and popup calendar window does not open
The onload overriding does not work in Firefox. You can test it by simple adding of &quot;&lt;body onload=&quot;alert('test')&quot;&quot;&gt;.
If the onload is set in the html document the x:inputCalendar popup window does not open and the variable &quot;jscalendarBPageLoaded&quot; still remains with the default value &quot;false&quot;. The popup calendar window is then never shown.
selectOneRadio does not render the inital selected radio button if using an other than String for the SelectItems value.
The value of the SelectItem is converted to String before it checked for equality against the current value which is still a complex value if it was returned by UISelectOne.getValue().
I will commit a fix for this.
Boolean Converter does not save and restore state
The BooleanConverter does not currently save and restore state which means that it will only work the very first time it is instantiated. It needs to implement the StateHolder interface. I will attach a patch which resolves this problem.
Case sensitive double checkin in SVN
Somebody must have pushed a case senstive double checkin into the svn server, a checkout on a windows box 
of the current directory causes all svn clients under windows to choke with following error:
A C:/development/workspace/current/examples/sandbox/inc/head.inc
A C:/development/workspace/current/examples/sandbox/inputSuggest.jsp
Problem running log
svn: In directory 'C:\development\workspace\current\examples\sandbox'
Das System kann die angegebene Datei nicht finden.
svn: Can't copy 'C:\development\workspace\current\examples\sandbox\.svn\tmp\text-base\autoupdatedatatable.jsp.svn-base' to 'C:\development\workspace\current\examples\sandbox\autoupdatedatatable.jsp.tmp': Das System kann die angegebene Datei nicht finden. 
which means it cannot find the specified file, a short bugreport on the subclipse mailinglist revealed following answer by the local guru there, after he meditated on the problem:
This has nothing to do with Subclipse, the command line also fails to 
check that out. The problem is that you have two files in the repository 
with the same name but different case. Your filesystem does not support 
that.
Someone needs to delete one of the two files.
You can also check this search to see how other have handled it:
&lt;http://www.google.com/custom?domains=svn.haxx.se&amp;q=svn%3A+Can%27t+copy&amp;sa=Search&amp;sitesearch=svn.haxx.se&amp;client=pub-9313125053076989&amp;forid=1&amp;channel=8989477434&amp;ie=ISO-8859-1&amp;oe=ISO-8859-1&amp;cof=GALT%3A%230066CC%3BGL%3A1%3BDIV%3A%23999999%3BVLC%3A336633%3BAH%3Acenter%3BBGC%3AFFFFFF%3BLBGC%3AFF9900%3BALC%3A0066CC%3BLC%3A0066CC%3BT%3A000000%3BGFNT%3A666666%3BGIMP%3A666666%3BFORID%3A1%3B&amp;hl=en&gt;
Network Server Protocol error when select fails and &quot;order by&quot; is specified
Reporting for Army, filed on derby-dev list.
If, when using the Network Server, one tries to execute a select 
statement that fails because of an SQL exception (ex. divide-by-zero), 
and if an &quot;order by&quot; clause is specified as part of the select, the 
server will throw a distributed protocol exception, instead of the 
appropriate error.
Repro (using the &quot;ij&quot; utility)
ij&gt; connect 'jdbc:derby:net://localhost:1527/myDB:user=u;password=p;';
ij&gt; create table t1 (i int, j int);
0 rows inserted/updated/deleted
ij&gt; insert into t1 values (2,0);
1 row inserted/updated/deleted
-- Without an &quot;order by&quot; it's fine...
-- (22012 ==&gt; &quot;Attempt to divide by zero.&quot;, which is fine)
ij&gt; select {fn mod(i,j)} from t1;
1
-----------
ERROR 22012: DB2 SQL error: SQLCODE: -1, SQLSTATE: 22012, SQLERRMC: 22012
-- With an order by, it dies...
ij&gt; select {fn mod(i,j)} from t1 order by 1;
ERROR 58009: Execution failed due to a distribution protocol error that 
caused deallocation of the conversation. A DRDA Data Stream Syntax Error 
was detected. Reason: 0x13
NOTES:
The problem is in the DRDAConnThread.java file, &quot;processCommands(...)&quot; 
method, in the &quot;case CodePoint.OPNQRY&quot; block of code. In the case of an 
SQL exception, there's a call to &quot;writer.clearBuffer()&quot; that is used to 
ensure that _only_ an OPNQFLRM is sent back to the client, not the 
OPNQRYRM and/or QRYDSC that may have been written to buffer before the 
OPNQFLRM. That call to &quot;clearBuffer&quot; has to be replaced with something 
smarter, so that instead of doing a full clear (which causes the problem 
shown above), it only backs out the buffer writes that it has made since 
beginning the &quot;case CodePoint.OPNQRY&quot; block...
cp850, cp860 serialization fails
Xalan fails serialization for some encodings. Tested with cp850 and cp860. Testcases are included
Controls Programming leaves off @ControlImplementation
In Section 5 of Controls Programming (trunk/docs/forrest/release/src/documentation/context/xdocs/controls/programming.xml), it doesn't mention the ControlImplementation annotation. The Control Implementation Class example doesn't use the annotation. The text should be updated to speak of the annotation and the example should use it.
--- current text
The only basic rule for a Control Implementation Class is that it must always implement the associated Control Public Interface.
--- change that to something like this
The basic rules for a Control Implementation Class are that it must be annotated with ControlImplementation and it must implement the associated Control Public Interface.
---
Don't forget to update the example. The example source as it is will compile, but if a person were walking through the document and attempted instantiation of their new control (Section 6) it would fail at runtime with 'ControlImplementation is missing from control implementation class'.
If built with java 1.5, ddlutils won't work on java 1.4 or lower
build.xml should specify &quot;source&quot; and &quot;target&quot; attributes to the javac task.
[Cygwin] memattr.cpp fails to compile due to missing _SC_PAGE_SIZE
From http://mail-archives.apache.org/mod_mbox/incubator-stdcxx-dev/200509.mbox/%3c200509111213.j8BCDGMG006690@ms-smtp-03.rdc-nyc.rr.com%3e:
-------- Original Message --------
Subject: Cygwin build
Date: Sun, 11 Sep 2005 08:13:38 -0400
From: Lance Diduck &lt;lancediduck@nyc.rr.com&gt;
Reply-To: stdcxx-dev@incubator.apache.org
To: &lt;stdcxx-dev@incubator.apache.org&gt;
Notes on Cygwin build __CYGWIN__ using gcc 3.4.4 BUILDTYPE=11s default modes 
1. &lt;unistd.h&gt; defines _SC_PAGESIZE and not _SC_PAGE_SIZE, I put a define in
memattr.cpp to get to compile, but I'm sure that's probably not the best place
[...]
[Cygwin] wcodecvt.cpp:840: warning: comparison is always true due to limited range of data type
From http://mail-archives.apache.org/mod_mbox/incubator-stdcxx-dev/200509.mbox/%3c200509111213.j8BCDGMG006690@ms-smtp-03.rdc-nyc.rr.com%3e:
-------- Original Message --------
Subject: Cygwin build
Date: Sun, 11 Sep 2005 08:13:38 -0400
From: Lance Diduck &lt;lancediduck@nyc.rr.com&gt;
Reply-To: stdcxx-dev@incubator.apache.org
To: &lt;stdcxx-dev@incubator.apache.org&gt;
Notes on Cygwin build __CYGWIN__ using gcc 3.4.4 BUILDTYPE=11s default
modes 
[...]
/cygdrive/c/stdcxx7/stdcxx-2005-07-19/src/wcodecvt.cpp: In function
`std::codecvt_base::result __rw::__rw_libstd_do_out(const wchar_t*,
const wchar_t*, const wchar_t*&amp;, char*, char*, char*&amp;, int, const
__rw::__rw_codecvt_t*)':
/cygdrive/c/stdcxx7/stdcxx-2005-07-19/src/wcodecvt.cpp:840: warning:
comparison is always true due to limited range of data type
hrefs in dav responses should be url-escaped
the url in an href element of a dav response should be url-escaped. currently at least one webdav client (os x's webdavfs) chokes on unescaped urls (such as /home/bcm/file with spaces in its name.txt).
Tiles example does not work
The Tiles example does not work (as per Wendy's email a while back.) I'm prepared to do the 1.1.0 tag and build but since we know we need this example I'll wait until we resolve this.
delete/delete[] mismatch in XercesHandler.cpp
The function:
void XercesHandler::characters(const XMLCh* const chars, const unsigned int length)
has some memory management problems. The most obvious problem is that the memory allocated with new[] is deleted with delete (change the two delete statements to delete[] statements). But another problem is that the memory deleted sometimes was allocated by new[] and sometimes via Xerces' XMLString::transcode(). Currently XMLString::transcode() allocates memory using new[], but this may not always remain true. Calls to XMLString::transcode() should be matched by calls to XMLString::release().
The quick fix is to change delete to delete[]. But in the long run it is better not to use pointers at all and just deal with std::strings (this is internal code). I think this will lead to fewer bugs and memory leaks and will not noticeably affect performance.
So the quick fix looks like this:
char* cp_CurrentNameOrValue = XMLString::transcode(chars);
char* cp_FullNameOrValue = new char[strlen(cp_PreviousNameOrValue) + strlen(cp_CurrentNameOrValue) + 1];
strcpy(cp_FullNameOrValue, cp_PreviousNameOrValue);
strcat(cp_FullNameOrValue, cp_CurrentNameOrValue);
m_pNextElement-&gt;m_pchNameOrValue = (const char*)cp_FullNameOrValue;
delete[] (const_cast &lt;char*&gt; (cp_PreviousNameOrValue));
delete[] cp_CurrentNameOrValue;
I also changed one strcat to strcpy to make the code more readable (and one line shorter). Another comment is that const casts can be dangerous and lead to confusing code.
build fails
A freshly checked out build failes with an xml error, here is the error:
[xslt] Processing C:\development\workspacemyeclipse\current\build\dist\temp\myfaces_all.tld.4 to C:\development\workspacemyeclipse\current\build\dist\temp\myfaces_all.tld
[xslt] Loading stylesheet C:\development\workspacemyeclipse\current\sandbox\tld\misc\resolve_entities.xsl
[xslt] C:/development/workspacemyeclipse/current/build/dist/temp/myfaces_all.tld.4:951: Fatal Error! Referenz auf nicht definierte Entitt &quot;&amp;spec_img_attributes;&quot;
[xslt] Failed to process C:\development\workspacemyeclipse\current\build\dist\temp\myfaces_all.tld.4
BUILD FAILED
C:\development\workspacemyeclipse\current\build\build.xml:703: The following error occurred while executing this line:
C:\development\workspacemyeclipse\current\build\build.xml:819: Fatal error during transformation
the line causing the bug in the ant file is
&lt;ant target=&quot;merge-sandbox&quot;/&gt;
Environment eclipse... ant build maybe this is just an xml parser problem, but you guys should look into it
WebResponse does not expose a way to set headers
I'm trying to puzzle over this one...
The HttpServletResponse object has been made completely inaccessible through any non-depricated part of the Tapestry API. Instead we have the WebResponse object. The WebResponse has a convenience method for setting date headers on it, but absolutely no way to set headers that are NOT dates. Why would we be given access to set headers that should be formatted as dates, but not any others?
I've been searching on the forums and mailing list and I've seen several requests for this sort of functionality. So far, it seems the only supported way of doing this in Tapestry 4 is to create a new hivemind service so that it can access the tapestry.globals.HttpServletResponse hivemind service. Now, suddenly, we're being dropped into a much lower-level API and one I'm completely unfamiliar with, Hivemind, just so that I can stream a file to the user, which requires me to be able to set arbitrary headers. It seems that if this is a conscious decision, that would mean that the scope of what Tapestry allows the developer to do, without having to resort to a lower-level API (which is beyond the scope of Hibernate itself) no longer includes being able to stream files. I've also read that one of Howard's stated goals in using IoC is to expose the developer to fewer and fewer API's. Now, I'm finding that I'm being forced to be exposed to ANOTHER API, just to do something that I was able to take for granted in Tapestry 3.0. It's possible that a dedicated, built-in Tapestry service that represents a higher-level interface for being able to send files to a user might be more appropriate to the long-term goals of the project, so long as it hides the details of Hivemind. I am classifying this as a Major priority bug, since it represents a regression of functionality in the scope of the Tapestry projcet, without a simple workaround. In the meantime, I'll have to use the deprecated RequestContext to get a handle to the raw HttpServletResponse object.
Crash and memory leak in python_merge_config due to use of apr_table_overlap
Couse:
Usage of apr_table_overlap() function in the python_merge_config() and the way of handling the pools for resource allocation there. In general using this function in python_merge_config() mismatches the pool designated for global configuration items and the one that has to be used for request local data. By using a global pool for local data two request may collide when accessing this one which leads to the crash.
The solution which works fine for us is to implement and use a custom_table_overlap function, which does apr_table_overlay and then apr_table_compress (similar aproach as in mod_perl):
/*
code begin
*/
/**
** modpython_table_overlap
**
* Replaces the apr_table_overlap() function using a specific pool
* for the resulting table.
*/
static apr_table_t *modpython_table_overlap(apr_pool_t *p,
apr_table_t *current_table,
apr_table_t *new_table)
{
apr_table_t *merge = apr_table_overlay(p, current_table, new_table);
apr_table_compress(merge, APR_OVERLAP_TABLES_SET);
return merge;
}
/**
** python_merge_dir_config
**
*/
static void *python_merge_config(apr_pool_t *p, void *current_conf,
void *new_conf)
{
py_config *merged_conf =
(py_config *) apr_pcalloc(p, sizeof(py_config));
py_config *cc = (py_config *) current_conf;
py_config *nc = (py_config *) new_conf;
apr_hash_index_t *hi;
char *key;
apr_ssize_t klen;
hl_entry *hle;
/* we basically allow the local configuration to override global,
* by first copying current values and then new values on top
*/
/** create **/
merged_conf-&gt;hlists = apr_hash_make(p);
merged_conf-&gt;in_filters = apr_hash_make(p);
merged_conf-&gt;out_filters = apr_hash_make(p);
/** merge directives and options **/
merged_conf-&gt;directives = modpython_table_overlap(p, cc-&gt;directives,
nc-&gt;directives);
merged_conf-&gt;options = modpython_table_overlap(p, cc-&gt;options,
nc-&gt;options);
/** copy current **/
merged_conf-&gt;authoritative = cc-&gt;authoritative;
merged_conf-&gt;config_dir = apr_pstrdup(p, cc-&gt;config_dir);
for (hi = apr_hash_first(p, cc-&gt;hlists); hi; hi=apr_hash_next(hi)) {
apr_hash_this(hi, (const void **)&amp;key, &amp;klen, (void **)&amp;hle);
apr_hash_set(merged_conf-&gt;hlists, key, klen, (void *)hle);
}
for (hi = apr_hash_first(p, cc-&gt;in_filters); hi; hi=apr_hash_next(hi)) {
apr_hash_this(hi, (const void **)&amp;key, &amp;klen, (void **)&amp;hle);
apr_hash_set(merged_conf-&gt;in_filters, key, klen, (void *)hle);
}
for (hi = apr_hash_first(p, cc-&gt;out_filters); hi; hi=apr_hash_next(hi)) {
apr_hash_this(hi, (const void **)&amp;key, &amp;klen, (void **)&amp;hle);
apr_hash_set(merged_conf-&gt;out_filters, key, klen, (void *)hle);
}
/** copy new **/
if (nc-&gt;authoritative != merged_conf-&gt;authoritative)
merged_conf-&gt;authoritative = nc-&gt;authoritative;
if (nc-&gt;config_dir)
merged_conf-&gt;config_dir = apr_pstrdup(p, nc-&gt;config_dir);
for (hi = apr_hash_first(p, nc-&gt;hlists); hi; hi=apr_hash_next(hi)) {
apr_hash_this(hi, (const void**)&amp;key, &amp;klen, (void **)&amp;hle);
apr_hash_set(merged_conf-&gt;hlists, key, klen, (void *)hle);
}
for (hi = apr_hash_first(p, nc-&gt;in_filters); hi; hi=apr_hash_next(hi)) {
apr_hash_this(hi, (const void**)&amp;key, &amp;klen, (void **)&amp;hle);
apr_hash_set(merged_conf-&gt;in_filters, key, klen, (void *)hle);
}
for (hi = apr_hash_first(p, nc-&gt;out_filters); hi; hi=apr_hash_next(hi)) {
apr_hash_this(hi, (const void**)&amp;key, &amp;klen, (void **)&amp;hle);
apr_hash_set(merged_conf-&gt;out_filters, key, klen, (void *)hle);
}
return (void *) merged_conf;
}
/*
code end
*/
PythonOption directive causes memory leak
This was previously reported on the mod_python mailing list. See http://www.modpython.org/pipermail/mod_python/2004-April/015395.html
A memory leak results when there is a PythonOption directive in the apache config file. Leak occurs when PythonOption is in either &lt;VirtualHost&gt; or &lt;Directory&gt; section.
For each request, approx 25 bytes of memory is leaked per PythonOption directive.
Methodolgy (using top to gauge memory usage, 100,000 requests per test case):
def handler(req):
req.content_type = 'text/plain'
req.write('PythonOption test\n')
return apache.OK
1. No PythonOption directives:
1.4 % MEM
2. 50 PythonOption directives:
11.3% MEM 
3. 100 PythonOption directives:
25.4 % MEM
I know 50 or 100 PythonOptions is not likely in a production system, but it clearly demonstrate the leak.
No longer have a clear compiler error message for the wrong usage of redirect=true
When set redirect=true not together with either path or navigateTo, it used to generate the following compiler error message,
Controller.java:39: Attribute &quot;redirect&quot; may only be present when attribute &quot;path&quot; or &quot;navigateTo&quot; is present. protected Forward page1() ^1 error
It now generates a information.java.util.MissingResourceException instead, here is the detail,
Problem encountered during annotation processing; see stacktrace below for more information.java.util.MissingResourceException: Can't find resource for bundle java.util.PropertyResourceBundle, key error.attr-dependency-not-found-3 at java.util.ResourceBundle.getObject(ResourceBundle.java:326) at java.util.ResourceBundle.getString(ResourceBundle.java:286) at org.apache.beehive.netui.compiler.processor.BaseAnnotationProcessor.getResourceString(BaseAnnotationProcessor.java:159) at org.apache.beehive.netui.compiler.Diagnostics.addErrorArrayArgs(Diagnostics.java:88) at org.apache.beehive.netui.compiler.AnnotationGrammar.endCheck(AnnotationGrammar.java:408) at org.apache.beehive.netui.compiler.AnnotationGrammar.check(AnnotationGrammar.java:155) at org.apache.beehive.netui.compiler.AnnotationGrammar.check(AnnotationGrammar.java:138) at org.apache.beehive.netui.compiler.AnnotationGrammar.check(AnnotationGrammar.java:82) at org.apache.beehive.netui.compiler.FlowControllerChecker.checkMethod(FlowControllerChecker.java:550) at org.apache.beehive.netui.compiler.FlowControllerChecker.onCheckInternal(FlowControllerChecker.java:157) at org.apache.beehive.netui.compiler.FlowControllerChecker.onCheck(FlowControllerChecker.java:103) at org.apache.beehive.netui.compiler.BaseChecker.check(BaseChecker.java:44) at org.apache.beehive.netui.compiler.processor.BaseAnnotationProcessor.check(BaseAnnotationProcessor.java:66) at org.apache.beehive.netui.compiler.processor.TwoPhaseAnnotationProcessor.check(TwoPhaseAnnotationProcessor.java:125) at org.apache.beehive.netui.compiler.processor.TwoPhaseAnnotationProcessor.process(TwoPhaseAnnotationProcessor.java:86) at org.apache.beehive.netui.compiler.processor.BaseAnnotationProcessor.process(BaseAnnotationProcessor.java:106) at org.apache.beehive.netui.compiler.apt.BaseAnnotationProcessorFactory$DelegatingAnnotationProcessor.process(BaseAnnotationProcessorFactory.java:64) at com.sun.mirror.apt.AnnotationProcessors$CompositeAnnotationProcessor.process(AnnotationProcessors.java:60) at com.sun.tools.apt.comp.Apt.main(Apt.java:454) at com.sun.tools.apt.main.JavaCompiler.compile(JavaCompiler.java:458) at com.sun.tools.apt.main.Main.compile(Main.java:1075) at com.sun.tools.apt.main.Main.compile(Main.java:938) at com.sun.tools.apt.Main.processing(Main.java:95) at com.sun.tools.apt.Main.process(Main.java:43) at com.sun.tools.apt.Main.main(Main.java:34)
Just like the clear message that we used to have that tells you what exactly wrong. :)
Will attach the pageflow for repro shortly.
new LDAP ACIItem Parser Implementation
The complete ACIItem parser implementation is provided with this issue.
The patch attached includes
- a complete Antlr grammar with model integration for LDAP ACIItem ( updates my old implementation )
- a wrapper around the generated parser ( updates my old implementation adding normalizing capability )
- slightly updated but still very weak testing
'-Aweb.source.roots option to Page Flow annotation processors is unnecessary
Currently, the Page Flow annotation processors discern the apt sourcepath by reading the value of -Aweb.source.roots. They can just as well read the value of -sourcepath directly.
Pruning during expression transforms is done incorrectly when expression contains nulls.
Originally this was discovered for prefteches (it is still unproven that the fix we have addresses preftech problem):
http://objectstyle.org/cayenne/lists/cayenne-user/2005/08/0039.html
Using a regular prefetch on qualifiers that compare to nulls, incorrectly prunes null comparison from the prefetch query.
E.g.:
Expression exp = Expression.fromString(&quot;estimatedPrice = null&quot;);
SelectQuery q = new SelectQuery(Painting.class, exp);
q.addPrefetch(&quot;toArtist&quot;);
generates the following SQL:
SELECT t0.ESTIMATED_PRICE, t0.PAINTING_TITLE, t0.ARTIST_ID, t0.GALLERY_ID, t0.PAINTING_ID FROM PAINTING t0 WHERE t0.ESTIMATED_PRICE IS NULL
SELECT t0.ARTIST_NAME, t0.DATE_OF_BIRTH, t0.ARTIST_ID FROM ARTIST t0
Need to exclude System Classpath on Modeler startup
CayenneModeler Info
Version: 1.1RC1
Build Date: October 3 2004
Exception: 
=================================
org.objectstyle.cayenne.pref.PreferenceException: Error setting property: dividerLocation
at org.objectstyle.cayenne.modeler.pref.ComponentGeometry.updateIntProperty(ComponentGeometry.java:151)
at org.objectstyle.cayenne.modeler.pref.ComponentGeometry.bindIntProperty(ComponentGeometry.java:134)
at org.objectstyle.cayenne.modeler.editor.EditorView.initController(EditorView.java:192)
at org.objectstyle.cayenne.modeler.editor.EditorView.&lt;init&gt;(EditorView.java:119)
at org.objectstyle.cayenne.modeler.CayenneModelerController.projectOpenedAction(CayenneModelerController.java:207)
at org.objectstyle.cayenne.modeler.action.NewProjectAction.performAction(NewProjectAction.java:109)
at org.objectstyle.cayenne.modeler.util.CayenneAction.actionPerformed(CayenneAction.java:188)
at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1786)
at javax.swing.AbstractButton$ForwardActionEvents.actionPerformed(AbstractButton.java:1839)
at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:420)
at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:258)
at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:245)
at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:231)
at java.awt.Component.processMouseEvent(Component.java:5100)
at java.awt.Component.processEvent(Component.java:4897)
at java.awt.Container.processEvent(Container.java:1569)
at java.awt.Component.dispatchEventImpl(Component.java:3615)
at java.awt.Container.dispatchEventImpl(Container.java:1627)
at java.awt.Component.dispatchEvent(Component.java:3477)
at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:3483)
at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3198)
at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3128)
at java.awt.Container.dispatchEventImpl(Container.java:1613)
at java.awt.Window.dispatchEventImpl(Window.java:1606)
at java.awt.Component.dispatchEvent(Component.java:3477)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:456)
at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:201)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:145)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:137)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:100)
Caused by: java.lang.NoSuchMethodException: Unknown property 'dividerLocation'
at org.apache.commons.beanutils.PropertyUtils.setSimpleProperty(PropertyUtils.java:1777)
at org.apache.commons.beanutils.PropertyUtils.setNestedProperty(PropertyUtils.java:1684)
at org.apache.commons.beanutils.PropertyUtils.setProperty(PropertyUtils.java:1713)
at org.objectstyle.cayenne.modeler.pref.ComponentGeometry.updateIntProperty(ComponentGeometry.java:148)
... 30 more
Caused by:
java.lang.NoSuchMethodException: Unknown property 'dividerLocation'
at org.apache.commons.beanutils.PropertyUtils.setSimpleProperty(PropertyUtils.java:1777)
at org.apache.commons.beanutils.PropertyUtils.setNestedProperty(PropertyUtils.java:1684)
at org.apache.commons.beanutils.PropertyUtils.setProperty(PropertyUtils.java:1713)
at org.objectstyle.cayenne.modeler.pref.ComponentGeometry.updateIntProperty(ComponentGeometry.java:148)
at org.objectstyle.cayenne.modeler.pref.ComponentGeometry.bindIntProperty(ComponentGeometry.java:134)
at org.objectstyle.cayenne.modeler.editor.EditorView.initController(EditorView.java:192)
at org.objectstyle.cayenne.modeler.editor.EditorView.&lt;init&gt;(EditorView.java:119)
at org.objectstyle.cayenne.modeler.CayenneModelerController.projectOpenedAction(CayenneModelerController.java:207)
at org.objectstyle.cayenne.modeler.action.NewProjectAction.performAction(NewProjectAction.java:109)
at org.objectstyle.cayenne.modeler.util.CayenneAction.actionPerformed(CayenneAction.java:188)
at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1786)
at javax.swing.AbstractButton$ForwardActionEvents.actionPerformed(AbstractButton.java:1839)
at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:420)
at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:258)
at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:245)
at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:231)
at java.awt.Component.processMouseEvent(Component.java:5100)
at java.awt.Component.processEvent(Component.java:4897)
at java.awt.Container.processEvent(Container.java:1569)
at java.awt.Component.dispatchEventImpl(Component.java:3615)
at java.awt.Container.dispatchEventImpl(Container.java:1627)
at java.awt.Component.dispatchEvent(Component.java:3477)
at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:3483)
at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3198)
at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3128)
at java.awt.Container.dispatchEventImpl(Container.java:1613)
at java.awt.Window.dispatchEventImpl(Window.java:1606)
at java.awt.Component.dispatchEvent(Component.java:3477)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:456)
at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:201)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:145)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:137)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:100)
ClientDriver ignores Properties object in connect(String url, Properties connectionProperties) method
In contrast to EmbeddedDriver, a connection attribute create=true is not recognized when presented as a property in a Properties object.
As a workaround I append the attributes from the Properties object to the url string before invoking the connect() method: then a new database is created and a connection is established.
Next code fragment illustrates the bug and the workaround:
private static final ClientDriver clientDriver = new ClientDriver();
private Connection getClientConnection(String database,
Properties connectionProperties) throws SQLException {
try {
System.out.println(&quot;Try to connect with properties&quot;);
String connectionURL = &quot;jdbc:derby://127.0.0.1:1527/&quot; + database;
System.out.println(&quot;connectionURL: &quot; + connectionURL);
Connection rv = clientDriver.connect(connectionURL,
connectionProperties);
System.out.println(&quot;Connection: &quot; + rv);
return rv;
} catch (SQLException e) {
System.out.println(&quot;Try to connect with URL attributes&quot;);
StringBuffer sb = new StringBuffer();
for (Enumeration enu = connectionProperties.propertyNames(); enu
.hasMoreElements();) {
String key = (String) enu.nextElement();
sb.append(';');
sb.append(key);
sb.append('=');
sb.append(connectionProperties.getProperty(key, &quot;&quot;));
}
String connectionURL = &quot;jdbc:derby://127.0.0.1:1527/&quot; + database
+ sb.toString();
System.out.println(&quot;connectionURL: &quot; + connectionURL);
Connection rv = clientDriver.connect(connectionURL,
connectionProperties);
System.out.println(&quot;Connection: &quot; + rv);
System.out
.println(&quot;!!!!!!!!!!! seems a bug: Properties argument in ClientDriver.connect(String, Properties) has not been used&quot;);
return rv;
}
}
Client DataSource should not require user property to be set
ClientDataSource should not require user to be set. It should default to user APP as described in:
http://incubator.apache.org/derby/docs/adminguide/cadminappsclient.html
This all seems to work ok for for DriverManager connections but fails for ClientDataSource 
run the attached repro 
$ java DataSourceNoUser
embedded no userid/password
client userid/password set
client no password
client no userid/no password
org.apache.derby.client.am.SqlException: null userid not supported
at org.apache.derby.client.net.NetConnection.checkUser(NetConnection.java:998)
at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:380)
at org.apache.derby.client.net.NetConnection.initialize(NetConnection.java:233)
at org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:201)
at org.apache.derby.jdbc.ClientDataSource.getConnection(ClientDataSource.java:156)
at org.apache.derby.jdbc.ClientDataSource.getConnection(ClientDataSource.java:135)
at DataSourceNoUser.main(DataSourceNoUser.java:42)
ClientDataSource should not require serverName/portNumber to be set
the ClientDataSource property serverName should default to &quot;localhost&quot; but is currently required.
http://incubator.apache.org/derby/docs/adminguide/cadminappsclient.html
See repro for DERBY-409
and comment out the lines
ds.setServerName(&quot;localhost&quot;);
ds.setPortNumber(1527);
Injections that cause bad casts need better reporting
When injection code performs a cast and a ClassCastException occurs, it's very difficult to determine what actually failed.
The exception report provides no details (not an accurate location, and no additional information).
Unable to instantiate component report/ReportInfo: $BaseComponent_2
component: $ReportInfo_26@1f11507[report/ReportInfo]
location: context:/WEB-INF/report/ReportInfo.page, line 6, column 23
1 &lt;?xml version=&quot;1.0&quot;?&gt;
2 &lt;!DOCTYPE page-specification PUBLIC
3 &quot;-//Apache Software Foundation//Tapestry Specification 4.0//EN&quot;
4 &quot;http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd&quot;&gt;
5 
6 &lt;page-specification&gt;
7 
8 
9 &lt;component id=&quot;tallYes&quot; type=&quot;Checkbox&quot;&gt;
10 &lt;binding name=&quot;value&quot; value=&quot;tallYes&quot;/&gt;
11 &lt;/component&gt;
java.lang.ClassCastException
$BaseComponent_2
Stack Trace:
* $ReportInfo_26.finishLoad($ReportInfo_26.java)
* org.apache.tapestry.pageload.PageLoader.constructComponent(PageLoader.java:470)
* org.apache.tapestry.pageload.PageLoader.loadPage(PageLoader.java:639)
* $IPageLoader_1064cccc780.loadPage($IPageLoader_1064cccc780.java)
* $IPageLoader_1064cccc781.loadPage($IPageLoader_1064cccc781.java)
* org.apache.tapestry.pageload.PageSource.getPage(PageSource.java:118)
* $IPageSource_1064cccc6eb.getPage($IPageSource_1064cccc6eb.java)
* org.apache.tapestry.engine.RequestCycle.loadPage(RequestCycle.java:265)
* org.apache.tapestry.engine.RequestCycle.getPage(RequestCycle.java:248)
The exception is occuring inside the finishLoad() method of the enhanced class.
Default images in JSCookMenu can't be found.
Due to the changes in MyFaces 1.09 that allow JavaScript resources to be loaded from the MyFaces JAR, the relative path names for JSCookMenu issues aren't resolving correctly. A workaround is to copy the themes to your web application and override the JavaScript files automatically referenced by the component's renderer:
&lt;f:view&gt;
&lt;x:stylesheet path=&quot;/themes/ThemeOffice/theme.css&quot;/&gt; 
&lt;script src=&quot;/webmodule/themes/ThemeOffice/theme.js&quot; type=&quot;text/javascript&quot;/&gt;
&lt;x:jscookMenu layout=&quot;hbr&quot; theme=&quot;ThemeOffice&quot;&gt;
&lt;x:jscookMenu layout=&quot;hbr&quot; theme=&quot;ThemeIE&quot;&gt;
&lt;x:navigationMenuItems value=&quot;#{testBean.sample2}&quot;/&gt;
&lt;x:navigationMenuItem itemLabel=&quot;Tab 4&quot; action=&quot;Tab4&quot;/&gt;
&lt;/x:jscookMenu&gt;
&lt;/f:view&gt;
Here are the details about the problem:
Reply-To: &quot;MyFaces Discussion&quot; &lt;myfaces-user@incubator.apache.org&gt; 
Delivered-To: mailing list myfaces-user@incubator.apache.org 
Subject: RE: Jscookmenu - ThemeOffice - Images not displaying? 
Date: Thu, 31 Mar 2005 14:07:56 -0500 
Thread-Topic: Jscookmenu - ThemeOffice - Images not displaying? 
From: &quot;Neal Haggard&quot; &lt;Neal.Haggard@sas.com&gt; 
To: &quot;MyFaces Discussion&quot; &lt;myfaces-user@incubator.apache.org&gt; 
Yes, I'm using 1.0.9, the latest from CVS. It looks like 1.0.9 started using the AddResource interface to have the javascripts &amp; styles automatically added. If you look at the links they generate, they go to:
/faces/myFacesExtensionResource/navmenu.NavigationMenuItem/1112283493000/jscookmenu/JSCookMenu.js
Or a similar link, which I assume gets handled by the faces extension resource filter. However, the images (based on looking in /src/components/org/apache/myfaces/custom/navmenu/resources/jscookmenu/ThemeOffice/theme.js) are being looked for in a context-relative location:
var cmThemeOfficeBase = 'jscookmenu/ThemeOffice/'; 
...
itemRight: '&lt;img alt=&quot;&quot; src=&quot;' + cmThemeOfficeBase + 'blank.gif&quot;&gt;',
...
I don't see how these can be resolved without having jscookmenu/ThemeOffice/*.gif in a relative location. 
Note that I'm even getting this with the 1.0.9 RC2 examples war file. Image not found place-holders in the nav menu.
-----Original Message-----
From: Aaron Bartell [mailto:aaronbartell@gmail.com] 
Sent: Thursday, March 31, 2005 1:46 PM
To: MyFaces Discussion
Subject: Re: Jscookmenu - ThemeOffice - Images not displaying?
What version of MyFaces are you using? I had the same problem when I went to MyFaces 1.0.9. When I went back to 1.0.7 and everything was back to normal. 
Take a look at the &lt;head&gt;...&lt;/head&gt; section of the page produced by MyFaces that has a jsCookMenu on it - do you see a bunch of extra style sheets and javascript links that you didn't specify in your JSP? (that is what I saw in my pages after upgrading to 1.0.9)
HTH
Aaron Bartell
Neal Haggard wrote:
&gt;I realized when I saw the subject come up that I really have two questions. The question I asked in my last note being a bit more pressing. The other question is I'm seeing the styles &amp; the javascript is rendering for the jscookMenu, however the internal images that the javascript loads on the right hand side of the sub-child elements are not rendering. I get the image not found placeholder (the infamous red 'X'). Is there something else I need to add to my Extensions Filter configuration to let that work?
NPE in PropertyResolverImpl.getType if the array is initilized without values
In the current version I get a NullPointerException in line 311
when I have a String[] which is initilized, but has no values
like: String[] base = new String[5];
current:
if (base.getClass().isArray())
{
if (base instanceof Object[]) {
Object[] array = (Object[]) base;
return array[index].getClass().getComponentType();
} else {
return base.getClass().getComponentType();
}
}
my proposal:
if (base.getClass().isArray())
{
if (base instanceof Object[] &amp;&amp; ((Object[])base)[index] != null) {
Object[] array = (Object[]) base;
return array[index].getClass().getComponentType();
} else {
return base.getClass().getComponentType();
}
}
myfaces uses incompatibile javascript
In MSIE 6 when using standard compilance mode (eg. using XHTML doctype) the document.body.scrollTop and other properties does'n work.
See http://www.quirksmode.org/viewport/compatibility.html for correct compatibile code.
Affected files: JavascriptUtils.java, JSPopup.js and maybe others
Need better line-precise reporting for listener method
When there's a name mismatch between whats in the template/spec and the name of an actual Java method, the error gets associated with the &lt;page-specification&gt;, rather than the &lt;binding&gt; for the listener:
org.apache.hivemind.ApplicationRuntimeException
Object $Home_6@1603522[Home] does not implement a listener method named 'doRegister'.
component: $Home_6@1603522[Home]
location: context:/WEB-INF/Home.page, line 6, column 21
1 &lt;?xml version=&quot;1.0&quot;?&gt;
2 &lt;!DOCTYPE page-specification PUBLIC
3 &quot;-//Apache Software Foundation//Tapestry Specification 4.0//EN&quot;
4 &quot;http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd&quot;&gt;
5 
6 &lt;page-specification&gt;
7 
8 &lt;component id=&quot;register&quot; type=&quot;DirectLink&quot;&gt;
9 &lt;binding name=&quot;listener&quot; value=&quot;doRegister&quot;/&gt;
10 &lt;/component&gt;
11 &lt;/page-specification&gt;
Stack Trace:
* org.apache.tapestry.listener.ListenerMapImpl.createListener(ListenerMapImpl.java:75)
* org.apache.tapestry.listener.ListenerMapImpl.getListener(ListenerMapImpl.java:63)
* org.apache.tapestry.binding.ListenerMethodBinding.getObject(ListenerMethodBinding.java:51)
* org.apache.tapestry.binding.AbstractBinding.getObject(AbstractBinding.java:87)
* $DirectLink_7.getListener($DirectLink_7.java)
* org.apache.tapestry.link.DirectLink.trigger(DirectLink.java:100)
* org.apache.tapestry.engine.DirectService.service(DirectService.java:132)
* $IEngineService_1047bff3e6d.service($IEngineService_1047bff3e6d.java)
This needs to identify line 9 as the error, not line 6.
&lt;t:inputCalendar&gt; causing error: right1.gif and left1.gif not found
Whenever our page displays a (client-side) &lt;t:inputCalendar&gt; component, our console logs the following two messages:
[9/12/05 14:32:35:432 CDT] 6472ae35 WebGroup E SRVE0026E: [Servlet Error]-[Error - Tag Insert : Can&amp;#39;t get definition &amp;#39;left1.gif&amp;#39;. Check if this name exist in definitions factory.]: javax.faces.FacesException: Error - Tag Insert : Can't get definition 'left1.gif'. Check if this name exist in definitions factory.
at org.apache.myfaces.context.servlet.ServletExternalContextImpl.dispatch(ServletExternalContextImpl.java:421)
at org.apache.myfaces.application.jsp.JspViewHandlerImpl.renderView(JspViewHandlerImpl.java:228)
at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:299)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:95)
at com.ibm.ws.webcontainer.servlet.StrictServletInstance.doService(StrictServletInstance.java:110)
at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet._service(StrictLifecycleServlet.java:174)
at com.ibm.ws.webcontainer.servlet.IdleServletState.service(StrictLifecycleServlet.java:313)
at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet.service(StrictLifecycleServlet.java:116)
at com.ibm.ws.webcontainer.servlet.ServletInstance.service(ServletInstance.java:283)
at com.ibm.ws.webcontainer.servlet.ValidServletReferenceState.dispatch(ValidServletReferenceState.java:42)
at com.ibm.ws.webcontainer.servlet.ServletInstanceReference.dispatch(ServletInstanceReference.java:40)
at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:76)
at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:112)
at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:132)
at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:71)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.handleWebAppDispatch(WebAppRequestDispatcher.java:1010)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch(WebAppRequestDispatcher.java:592)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:204)
at com.ibm.ws.webcontainer.srt.WebAppInvoker.doForward(WebAppInvoker.java:125)
at com.ibm.ws.webcontainer.srt.WebAppInvoker.handleInvocationHook(WebAppInvoker.java:286)
at com.ibm.ws.webcontainer.cache.invocation.CachedInvocation.handleInvocation(CachedInvocation.java:71)
at com.ibm.ws.webcontainer.srp.ServletRequestProcessor.dispatchByURI(ServletRequestProcessor.java:182)
at com.ibm.ws.webcontainer.oselistener.OSEListenerDispatcher.service(OSEListener.java:334)
at com.ibm.ws.webcontainer.http.HttpConnection.handleRequest(HttpConnection.java:56)
at com.ibm.ws.http.HttpConnection.readAndHandleRequest(HttpConnection.java:615)
at com.ibm.ws.http.HttpConnection.run(HttpConnection.java:449)
at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:912)
Caused by: javax.servlet.ServletException: Error - Tag Insert : Can't get definition 'left1.gif'. Check if this name exist in definitions factory.
at com.ibm.ws.webcontainer.jsp.servlet.JspServlet$JspServletWrapper.service(JspServlet.java:416)
at com.ibm.ws.webcontainer.jsp.servlet.JspServlet.serviceJspFile(JspServlet.java:683)
at com.ibm.ws.webcontainer.jsp.servlet.JspServlet.service(JspServlet.java:781)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
at com.ibm.ws.webcontainer.servlet.StrictServletInstance.doService(StrictServletInstance.java:110)
at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet._service(StrictLifecycleServlet.java:174)
at com.ibm.ws.webcontainer.servlet.IdleServletState.service(StrictLifecycleServlet.java:313)
at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet.service(StrictLifecycleServlet.java:116)
at com.ibm.ws.webcontainer.servlet.ServletInstance.service(ServletInstance.java:283)
at com.ibm.ws.webcontainer.servlet.ValidServletReferenceState.dispatch(ValidServletReferenceState.java:42)
at com.ibm.ws.webcontainer.servlet.ServletInstanceReference.dispatch(ServletInstanceReference.java:40)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.handleWebAppDispatch(WebAppRequestDispatcher.java:1014)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch(WebAppRequestDispatcher.java:592)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:204)
at org.apache.myfaces.context.servlet.ServletExternalContextImpl.dispatch(ServletExternalContextImpl.java:415)
[9/12/05 14:32:35:463 CDT] 3bd4ae34 WebGroup E SRVE0026E: [Servlet Error]-[Error - Tag Insert : Can&amp;#39;t get definition &amp;#39;right1.gif&amp;#39;. Check if this name exist in definitions factory.]: javax.faces.FacesException: Error - Tag Insert : Can't get definition 'right1.gif'. Check if this name exist in definitions factory.
at org.apache.myfaces.context.servlet.ServletExternalContextImpl.dispatch(ServletExternalContextImpl.java:421)
at org.apache.myfaces.application.jsp.JspViewHandlerImpl.renderView(JspViewHandlerImpl.java:228)
at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:299)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:95)
at com.ibm.ws.webcontainer.servlet.StrictServletInstance.doService(StrictServletInstance.java:110)
at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet._service(StrictLifecycleServlet.java:174)
at com.ibm.ws.webcontainer.servlet.ServicingServletState.service(StrictLifecycleServlet.java:333)
at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet.service(StrictLifecycleServlet.java:116)
at com.ibm.ws.webcontainer.servlet.ServletInstance.service(ServletInstance.java:283)
at com.ibm.ws.webcontainer.servlet.ValidServletReferenceState.dispatch(ValidServletReferenceState.java:42)
at com.ibm.ws.webcontainer.servlet.ServletInstanceReference.dispatch(ServletInstanceReference.java:40)
at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:76)
at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:112)
at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:132)
at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:71)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.handleWebAppDispatch(WebAppRequestDispatcher.java:1010)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch(WebAppRequestDispatcher.java:592)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:204)
at com.ibm.ws.webcontainer.srt.WebAppInvoker.doForward(WebAppInvoker.java:125)
at com.ibm.ws.webcontainer.srt.WebAppInvoker.handleInvocationHook(WebAppInvoker.java:286)
at com.ibm.ws.webcontainer.srp.ServletRequestProcessor.dispatchByURI(ServletRequestProcessor.java:182)
at com.ibm.ws.webcontainer.cache.invocation.CachedInvocation.handleInvocation(CachedInvocation.java:71)
at com.ibm.ws.webcontainer.oselistener.OSEListenerDispatcher.service(OSEListener.java:334)
at com.ibm.ws.webcontainer.http.HttpConnection.handleRequest(HttpConnection.java:56)
at com.ibm.ws.http.HttpConnection.readAndHandleRequest(HttpConnection.java:615)
at com.ibm.ws.http.HttpConnection.run(HttpConnection.java:439)
at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:912)
Caused by: javax.servlet.ServletException: Error - Tag Insert : Can't get definition 'right1.gif'. Check if this name exist in definitions factory.
at com.ibm.ws.webcontainer.jsp.servlet.JspServlet$JspServletWrapper.service(JspServlet.java:416)
at com.ibm.ws.webcontainer.jsp.servlet.JspServlet.serviceJspFile(JspServlet.java:683)
at com.ibm.ws.webcontainer.jsp.servlet.JspServlet.service(JspServlet.java:781)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
at com.ibm.ws.webcontainer.servlet.StrictServletInstance.doService(StrictServletInstance.java:110)
at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet._service(StrictLifecycleServlet.java:174)
at com.ibm.ws.webcontainer.servlet.ServicingServletState.service(StrictLifecycleServlet.java:333)
at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet.service(StrictLifecycleServlet.java:116)
at com.ibm.ws.webcontainer.servlet.ServletInstance.service(ServletInstance.java:283)
at com.ibm.ws.webcontainer.servlet.ValidServletReferenceState.dispatch(ValidServletReferenceState.java:42)
at com.ibm.ws.webcontainer.servlet.ServletInstanceReference.dispatch(ServletInstanceReference.java:40)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.handleWebAppDispatch(WebAppRequestDispatcher.java:1014)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch(WebAppRequestDispatcher.java:592)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:204)
at org.apache.myfaces.context.servlet.ServletExternalContextImpl.dispatch(ServletExternalContextImpl.java:415)
The component appears to behave correctly after this (although the &lt; and &gt; characters for month navigation don't display until my cursor hovers over them).
inputCalendar - popup - styles and other properties - problem
Hi
In popup inputCalendar, I was able to change the popupDateFormat but other properties like &quot;...class&quot;, &quot;popupTodayString&quot;, ... does not get set by the passed values. I can only see the default styles and text in the pop-up. But these properties can be changed in the in-line(normal) calendar.
I browsed through the mailing list for users and developers, but could not find anyone reporting this.
Has anyone faced this problem???
I want to confirm if there is a solution for this, before submitting it as a BUG. 
Thanks
Balaji
x:inputCalendar and conversion/validation errors
I'm using the MyFaces tag named x:inputCalendar in order to let the
user select a date from a popup calendar or enter it directly. If the
user enters a valid date, everything goes perfect.
The problem comes when the user enters something wrong, for example
letters. The component tries to convert this value to a valid date
(following the pattern, if there is one), and then throws a
ConvertException exception, so the Apply Request Values phase returns
false, and LifeCycle jumps to the render phase.
When rendering, the component is asked to encode itself, so the
following code is executed:
public void encodeEnd(FacesContext facesContext, UIComponent
component) throws IOException
{
RendererUtils.checkParamValidity(facesContext, component,
HtmlInputCalendar.class);
HtmlInputCalendar inputCalendar = (HtmlInputCalendar) component;
Locale currentLocale = facesContext.getViewRoot().getLocale();
Date value = RendererUtils.getDateValue(inputCalendar);
....
}
As you can see, the last visible line of this code is:
Date value = RendererUtils.getDateValue(inputCalendar);
so it forces the actual value of the inputCalendar to be a date. And
as obviously we come from a conversion error and that means the value
is not a valid date, the RendererUtils.getDateValue(inputCalendar)
throws:
throw new IllegalArgumentException(
&quot;Expected submitted value of type Date for
component : &quot;+
getPathToComponent(component));
so this exception results in a ServletException that brings up the
undesirable &quot;full of Java trace annoying text&quot; page to the user.
I was wondering why the encondeEnd of this component forces the value
to be obtained to be a date, when anything can be entered in a input
text box.
I've been looking at the common h:inputText tag and its component
always uses the RenderUtils.getStringValue method from its encodeEnd
method, so if a conversion/validation error has been detected, it is
presented to the user using the friendly mechanism of a FacesMessage
and the well-known messages tags.
So I think this could be a bug as no validation can be done at all!
&lt;t:inputDate&gt; (client-rendered) does not allow selection of year
&lt;t:inputDate&gt; (client-rendered) gives the appearance of allowing one to select the year, but, when one does this, nothing happens; the year does not get selected. This is a major problem for our application at the moment.
Exception from within WebAccessLogViewer portlet in doView
The following exception is produced when we attempt to access the content of the log from the console:
org.apache.geronimo.kernel.GBeanNotFoundException: geronimo.server:J2EEApplication=null,J2EEModule=org/apache/geronimo/Server,J2EEServer=geronimo,j2eeType=GBean,name=JettyRequestLog not found
at org.apache.geronimo.kernel.basic.BasicRegistry.getGBeanInstance(BasicRegistry.java:110)
at org.apache.geronimo.kernel.basic.BasicKernel.getAttribute(BasicKernel.java:165)
at org.apache.geronimo.console.util.KernelHelper.get(KernelHelper.java:46)
at org.apache.geronimo.console.logmanager.WebAccessLogHelper.getFiles(WebAccessLogHelper.java:145)
at org.apache.geronimo.console.logmanager.WebAccessLogHelper.refresh(WebAccessLogHelper.java:171)
at org.apache.geronimo.console.logmanager.WebAccessLogHelper.loadLogs(WebAccessLogHelper.java:55)
at org.apache.geronimo.console.logmanager.WebAccessLogHelper.filterLogsByDate(WebAccessLogHelper.java:97)
at org.apache.geronimo.console.logmanager.WebAccessLogHelper.getLogsByDate(WebAccessLogHelper.java:63)
at org.apache.geronimo.console.logmanager.WebAccessLogViewerPortlet.doView(WebAccessLogViewerPortlet.java:76)
at javax.portlet.GenericPortlet.doDispatch(GenericPortlet.java:247)
at javax.portlet.GenericPortlet.render(GenericPortlet.java:175)
at org.apache.pluto.core.PortletServlet.dispatch(PortletServlet.java:218)
at org.apache.pluto.core.PortletServlet.doGet(PortletServlet.java:158)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:595)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.apache.pluto.core.PortletServlet.service(PortletServlet.java:153)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:427)
at org.apache.geronimo.jetty.JettyServletHolder.handle(JettyServletHolder.java:92)
at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:832)
etc....
Log Level set on Console is overridden by serverlog properties setting even if the properties setting hasn't changed.
Each update action from the LogManagerPortlet invokes the appropriate 3 methods on the SystemLog without checking for actual changes in the submitted values. For the refresh interval this isn't a problem because Log4JService checks itself to ensure the period has changed before updating the value. For the logging level this also isn't a problem because there is no ill effect to updating the level with the exact same level. However, when setting the ConfigFileName the Log4JService doesn't check the value and assumes that there really is a new file and therefore sets the lastChanged value to -1 to ensure that the file values will take effect on the next timer refresh. The result is that any change (including only a change to the logging level) from the console also guarantees that the file settings will be refreshed. 
I propose the following:
1) Change the LogManagerPortlet to ensure that the name or level has changed before updating the SystemLog (Log4JService) ... I'd also ensure that we check for changes in the refresh period as well just for good measure. This way we won't was time setting things that haven't changed.
2) Change the Log4JService to always check for an actual change to the level and/or the configPathName before taking any real action (just as it does for refresh interval today). This will clean things up so that another object invoking this service unnecessarily doesn't create a similar problem.
Avoid NPEs &amp; move check for server type down to BasePortlet for all portlets to use.
This is a patch to move the check for server type down to BasePortlet so that all console portlets can take advantage of it. It also updates all console portlets to extend from BasePortlet. Finally, there are some coding changes in the check for the server type itself to avoid NPE when &quot;should not occur&quot; things occur.
Whitespace is not maintained properly when CDATA tags are used
The ParseDynamicTags method in DomSqlMapBuilder.cs calls Trim() when building the sql statement. The following statement:
&lt;statement id=&quot;GetMany&quot;&gt;&lt;![CDATA[SELECT * FROM User ]]&gt;&lt;/statement&gt;
&lt;statement id=&quot;GetOne&quot; extends=&quot;GetMany&quot;&gt; WHERE Id=3&lt;/statement&lt;/statement&gt;
is incorrectly constructed as:
SELECT * FROM UserWHERE Id=3
when it should be:
SELECT * FROM User WHERE Id=3
The same error occurs when two or more CDATA nodes and/or a Text node is used inside the same statement. This statement:
&lt;statement id=&quot;GetMany&quot;&gt;
&lt;![CDATA[SELECT * ]]&gt;
&lt;![CDATA[FROM ]]&gt;
User
&lt;/statement&gt;
is incorrectly rendered as:
SELECT *FROMUser
This is the offending code:
string data = child.InnerText.Replace('\n', ' ').Replace('\r', ' ').Replace('\t', ' ').Trim(); //??
One solution is to trim the beginning of the first node and trim the end of the last node:
string data = child.InnerText.Replace('\n', ' ').Replace('\r', ' ').Replace('\t', ' ');
if (i == 0)
{
// trim whitespace from the beginning of the string
data = Regex.Replace(data, @&quot;^\s*(.*)$&quot;, &quot;$1&quot;);
}
else if (i == children.Count - 1)
{
// trim whitespace from the end of the string
data = Regex.Replace(data, @&quot;^(.*?)\s*$&quot;, &quot;$1&quot;);
}
Yes, I know there is a TrimStart and TrimEnd method but I think there are more whitespace characters than just &quot; &quot;, &quot;\n&quot;, &quot;\t&quot;, &quot;\r&quot;...especially if the xml file is encoded with a funky content-type. There may be a more effecient regular expression to remove whitespace.
Another solution is to remove the call to Trim after Replace.
I think that if the user is using a CDATA node, they probably don't want their sql messed with. Perhaps if we encounter a CDATA node we shouldn't try to make it all fit on one line:
trimCdataNodes=&quot;false&quot; ???
Thank you to Chad Humphries for encountering this bug.
SqlMapper.GetCacheDataStatistics throws NPE when trying to generate statistics for MappedStatement
David Marzo reported this issue to the ibatis-cs list:
http://www.mail-archive.com/user-cs%40ibatis.apache.org/msg00294.html
Create Table should use quotes to handle columns named with db-specific reserved words
For example in Derby
create table test (system_user integer);
fails, but
create table test (&quot;system_user&quot; integer);
succeeds.
Reserved words vary by database - &quot;plan&quot; is a reserved word in MS SQL Server but not Derby, and &quot;function&quot; is a reserved word in Derby but not Sybase. Quoting all column names would handle all the cases.
derby create table syntax
Create table syntax for AUTOINCREMENT column and DEFAULT value should be:
CREATE TABLE TEST (
SEQ_NO INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1),
STATUS CHAR(1) NOT NULL DEFAULT 'Y',
PRIMARY KEY (SEQ_NO)
);
patch - fixed ClassCastException issuing from ValueNormalizingVisitor.java in core
This is a five minute task.
&gt; Nick Faiz wrote:
&gt; 
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I found a ClassCastException being issued on 
&gt;&gt; ValueNormalizingVisitor.java in core.
&gt;&gt;
&gt;&gt; It looks like an easy fix; wrap the cast in a type check.
&gt;&gt;
&gt;&gt; if (node instanceof BranchNode)
&gt;&gt; {
&gt;&gt; BranchNode bnode = ( BranchNode ) node;
&gt;&gt; final int size = bnode.getChildren().size();
&gt;&gt; for ( int ii = 0; ii &lt; size ; ii++ )
&gt;&gt; {
&gt;&gt; visit( ( ExprNode ) bnode.getChildren().get( ii ) );
&gt;&gt; }
&gt;&gt; }
&gt;&gt;
&gt;&gt; I think this is okay because it was trying to cast a PresenceNode 
&gt;&gt; (LeafNode) into a branch node. This looks like normal tree traversal, 
&gt;&gt; so I assume it's okay to not visit any further nodes if the node is a 
&gt;&gt; LeafNode.
&gt;&gt;
&gt;&gt; Cheers,
&gt;&gt; Nick
&gt;&gt;
UIManager property loading fails
The newly introduced servlet-based loading of the skin properties does not work with an initialized DefaultServerData object.
The method getScript() is not appropriate for this. A fix will be attached
HtmlLabelRenderer has different behaviour as RI
The HtmlLabelRenderer exits if the &quot;for&quot; attribute is null - the one of the RI doesnt. I think it would be sufficient to just log a warning in that case
Edit links not appearing on blog pages, despite logged-in state
Edit links not appearing on blog pages, despite logged-in state. The Navbar also seems unaware of logged in state, it always says &quot;Login&quot; and never &quot;Logout.&quot;
Non-ASCII platfroms (like ZOS) can't cast from UTF16 to UTF8 the ASCII-based strings
EBCDIC based platform can't convert the string :
const char XalanXMLSerializerBase::UTF8::s_defaultVersionString[] =
{
char(XalanUnicode::charDigit_1),
char(XalanUnicode::charFullStop),
char(XalanUnicode::charDigit_0),
char(0)
}; to the EBCDIC string &quot;1.0&quot;
ClassNotFoundException - org.apache.ldap.server.auth.OldAuthenticationService
A ClassNotFoundException is being encountered on start up in main:
Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Error registering bean with name '' defined in file [/home/nickf/src/apache/directory/directory/apacheds/trunk/main/server.xml]: Bean class [org.apache.ldap.server.authn.OldAuthenticationService] not found; nested exception is java.lang.ClassNotFoundException: org.apache.ldap.server.authn.OldAuthenticationService
java.lang.ClassNotFoundException: org.apache.ldap.server.authn.OldAuthenticationService
I was hoping that it might be as simple as swapping in the AuthenticationService object in the same package, in the server.xml file. It doesn't appear to be.
PageFlowConfig from beehive-netui-config, max-nesting-stack-depth is set incorrectly
maxNestingStackDepth is set the the maxForwardsPerRequest value when set in beehive-netui-config.xml
if(maxForwardsPerRequest != null)
_maxForwardsPerRequest = maxForwardsPerRequest.intValue();
if(maxNestingStackDepth != null)
_maxForwardsPerRequest = maxNestingStackDepth.intValue();
Will attach the one line patch to change the last line above to _maxNestingStackDepth
Add validation to the beehive-url-template-config.xml file processing
The DefaultURLTemplatesFactory class that parses the beehive-url-template-config.xml file should probably also validate the XML file against the schema, url-template-config.xsd. If we do decide to include this change, it should go in for V1, otherwise there's a compat issue where we might break apps if we turn it on later.
Page Flow Tutorial: Step 8: Adding Actions to a Shared Flow causes error
The last step in the netui tutorial (Step 8: Adding Actions to a Shared Flow) will not complete.
Build and deployment of the last step complete successfully , but when you call the URL 
http://localhost:8080/pageflow_tutorial/Controller.jpf
Tomcat gives you the following error:
org.apache.jasper.JasperException
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:372)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
org.apache.beehive.netui.pageflow.PageFlowPageFilter.runPage(PageFlowPageFilter.java:303)
org.apache.beehive.netui.pageflow.PageFlowPageFilter.doFilter(PageFlowPageFilter.java:218)
org.apache.beehive.netui.pageflow.internal.DefaultForwardRedirectHandler.forward(DefaultForwardRedirectHandler.java:127)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.doForward(PageFlowRequestProcessor.java:1825)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.processForwardConfig(PageFlowRequestProcessor.java:1699)
org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.processInternal(PageFlowRequestProcessor.java:601)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.process(PageFlowRequestProcessor.java:887)
org.apache.beehive.netui.pageflow.AutoRegisterActionServlet.process(AutoRegisterActionServlet.java:611)
org.apache.beehive.netui.pageflow.PageFlowActionServlet.process(PageFlowActionServlet.java:157)
org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
javax.servlet.http.HttpServlet.service(HttpServlet.java:689)
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
org.apache.beehive.netui.pageflow.internal.DefaultForwardRedirectHandler.forward(DefaultForwardRedirectHandler.java:127)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.doForward(PageFlowRequestProcessor.java:1825)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.processPageFlowRequest(PageFlowRequestProcessor.java:785)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.processInternal(PageFlowRequestProcessor.java:520)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.process(PageFlowRequestProcessor.java:887)
org.apache.beehive.netui.pageflow.AutoRegisterActionServlet.process(AutoRegisterActionServlet.java:611)
org.apache.beehive.netui.pageflow.PageFlowActionServlet.process(PageFlowActionServlet.java:157)
org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
javax.servlet.http.HttpServlet.service(HttpServlet.java:689)
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
root cause
java.lang.NullPointerException
org.apache.struts.config.impl.ModuleConfigImpl.findActionConfig(ModuleConfigImpl.java:323)
org.apache.beehive.netui.tags.internal.PageFlowTagUtils.getActionMapping(PageFlowTagUtils.java:224)
org.apache.beehive.netui.tags.internal.PageFlowTagUtils.isAction(PageFlowTagUtils.java:130)
org.apache.beehive.netui.tags.html.AnchorBase.createAnchorBeginTag(AnchorBase.java:360)
org.apache.beehive.netui.tags.html.Anchor.doEndTag(Anchor.java:337)
org.apache.jsp.index_jsp._jspx_meth_netui_anchor_1(index_jsp.java:245)
org.apache.jsp.index_jsp._jspx_meth_netui_body_0(index_jsp.java:166)
org.apache.jsp.index_jsp._jspx_meth_netui_html_0(index_jsp.java:110)
org.apache.jsp.index_jsp._jspService(index_jsp.java:69)
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
org.apache.beehive.netui.pageflow.PageFlowPageFilter.runPage(PageFlowPageFilter.java:303)
org.apache.beehive.netui.pageflow.PageFlowPageFilter.doFilter(PageFlowPageFilter.java:218)
org.apache.beehive.netui.pageflow.internal.DefaultForwardRedirectHandler.forward(DefaultForwardRedirectHandler.java:127)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.doForward(PageFlowRequestProcessor.java:1825)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.processForwardConfig(PageFlowRequestProcessor.java:1699)
org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.processInternal(PageFlowRequestProcessor.java:601)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.process(PageFlowRequestProcessor.java:887)
org.apache.beehive.netui.pageflow.AutoRegisterActionServlet.process(AutoRegisterActionServlet.java:611)
org.apache.beehive.netui.pageflow.PageFlowActionServlet.process(PageFlowActionServlet.java:157)
org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
javax.servlet.http.HttpServlet.service(HttpServlet.java:689)
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
org.apache.beehive.netui.pageflow.internal.DefaultForwardRedirectHandler.forward(DefaultForwardRedirectHandler.java:127)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.doForward(PageFlowRequestProcessor.java:1825)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.processPageFlowRequest(PageFlowRequestProcessor.java:785)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.processInternal(PageFlowRequestProcessor.java:520)
org.apache.beehive.netui.pageflow.PageFlowRequestProcessor.process(PageFlowRequestProcessor.java:887)
org.apache.beehive.netui.pageflow.AutoRegisterActionServlet.process(AutoRegisterActionServlet.java:611)
org.apache.beehive.netui.pageflow.PageFlowActionServlet.process(PageFlowActionServlet.java:157)
org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
javax.servlet.http.HttpServlet.service(HttpServlet.java:689)
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
remove XMLBeans and JSR 173 from the Beehive distribution
Given the recent discussion on XMLBeans about the inclusion of the JSR 173 API JAR in their distribution, we need to follow their lead and include the correct 173 license file in our distribution before shipping Beehive 1.0.
Error for /blojsom/: java.lang.StackOverflowError
It's a build from the fresh checkout. Before upgrading Jetty to 5.1-SNAPSHOT blojsom (http://blojsom.sf.net) worked well. Now, once blojsom 2.19 has been deployed using the deployer tool, Jetty prints out the following at the first page of blojsom:
...
10:51:22,250 WARN [ServletHandler] Error for /blojsom/
java.lang.StackOverflowError
at java.lang.StringBuffer.append(Unknown Source)
at org.apache.log4j.helpers.AbsoluteTimeDateFormat.format(AbsoluteTimeDateFormat.java:113)
at java.text.DateFormat.format(Unknown Source)
at org.apache.log4j.helpers.PatternParser$DatePatternConverter.convert(PatternParser.java:436)
at org.apache.log4j.helpers.PatternConverter.format(PatternConverter.java:56)
at org.apache.log4j.PatternLayout.format(PatternLayout.java:495)
at org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:292)
at org.apache.log4j.RollingFileAppender.subAppend(RollingFileAppender.java:225)
at org.apache.log4j.WriterAppender.append(WriterAppender.java:150)
at org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:221)
at org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:57)
at org.apache.log4j.Category.callAppenders(Category.java:187)
at org.apache.log4j.Category.forcedLog(Category.java:372)
at org.apache.log4j.Category.log(Category.java:864)
at org.apache.geronimo.system.logging.log4j.CachingLog4jLog.debug(CachingLog4jLog.java:69)
at org.apache.geronimo.kernel.log.GeronimoLog.debug(GeronimoLog.java:66)
at org.mortbay.jetty.servlet.Default.getResource(Default.java:189)
at org.mortbay.jetty.servlet.Default.service(Default.java:209)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:156)
at org.mortbay.jetty.servlet.Default.handleGet(Default.java:312)
at org.mortbay.jetty.servlet.Default.service(Default.java:232)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:413)
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:529)
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:259)
at org.mortbay.jetty.servlet.
bogus test for &lt;ma.h&gt;
The configuration script checks for the header &lt;ma.h&gt; instead of &lt;math.h&gt;.
...
checking for &lt;locale.h&gt; ok (&quot;/usr/include/locale.h&quot;)
checking for &lt;ma.h&gt; no (_RWSTD_NO_MA_H)
checking for &lt;csetjmp&gt; ok
...
Here's the relevant portion of config.log:
CC -E -D_RWSTDDEBUG -D_RWSTD_USE_CONFIG -library=%none -g /tmp/ma-6277.cpp &gt;/tmp/ma-6277.i
&quot;/tmp/ma-6277.cpp&quot;, line 1: Error: Could not open include file &lt;ma.h&gt;.
1 Error(s) detected.
FileUploadInterceptor Error When not set parameter,and should save message in properties
when define interceptor-ref, i muse specify 
&lt;param name=&quot;allowedTypes&quot;&gt;image/gif&lt;/param&gt;
&lt;param name=&quot;disallowedTypes&quot;&gt;text/plain&lt;/param&gt;
if not specify , or 
&lt;param name=&quot;allowedTypes&quot;&gt;&lt;/param&gt;
&lt;param name=&quot;disallowedTypes&quot;&gt;&lt;/param&gt;
will occur error in function &quot;containsItem&quot;,because itemCollection is null.
and the some hint message should support i18n, put them into webwork-messages properties file?
XalanEXSLTDateTime.cpp has too many platform-specifc ifdefs
The code in XalanEXSLTDateTime.cpp for dealing with certain time functions now has too many platform-specific ifdefs. I've created a new macro so the code can be configured through the compiler-specific configuration files.
NETUI Samples: in popup window sample, the &quot;samples home&quot; link inside the popup window for color selection load the home page in popup
In the &quot;Popup Window&quot; sample, when you choose the color inside the popup browser window, there are 2 links for going back to
samples home page. When you click them, you will load the samples home page inside the popup window instead of base browser.
Either those 2 links should be removed, or close the popup and automatically navigate the base browser back to samples home page..
mime subversion sync and build is from 09/12/2005.
beehive-netui-config reference documentation updates
There are a few items in the beehive-netui-config reference documentation that could be updated along with a few minor typos.
I will attach a patch for the following items:
Default-shared-flow-refs appears twice in the General Structure
Missing the templated-url-formatter-class element under the url-config parent element, added this element and its references from parent and other necessary places
Capitalization error in doctype - THe changed to The
Occurence differences in html-amp-entity and url-encode-urls from just 1 to 0-1 as they are optional
Change an anchor value from displaying config&lt; to config&gt;
Patch Instructions:
To be applied from /beehive/trunk/docs
NETUI Sample: The &quot;Samples Home&quot; link inside Tree tag sample page load the sample home page into the sub frame
Inside the tree tag sample page, if you click the &quot;Samples Home&quot; link at the bottom will load the initial sample home page into the current
sub frame. The top &quot;Samples Home&quot; link works well.
group of doc issues in Controls Programming document
There are a few errors in trunk/docs/forrest/release/src/documentation/context/xdocs/controls/programming.xml
If this issue is assigned to me, please don't fix the document yet - I haven't finished going through it. I decided to create this bug so I could add issues from the document as they came up. I had created BEEHIVE-917 with a specific scope, but I see now that there are a few unrelated issues in the document so I'm creating this new bug to track everything I find (that is outside the scope of BEEHIVE-917).
string::insert() curruption inserting self
The program below aborts. According to 21.3.5.4, p16 of C++ '03, the effects of the insert member function template are &quot;Equivalent to insert(p - begin(), basic_string(first, last)).&quot; See also http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-defects.html#7.
$ cat t.cpp &amp;&amp; nice gmake SRCS=t.cpp &amp;&amp; ./t
#include &lt;cassert&gt;
#include &lt;string&gt;
int main ()
{
std::string s (&quot;ab&quot;);
s.insert (s.begin () + 1, s.data (), s.data () + s.length ());
assert (&quot;aabb&quot; == s);
}
aCC -c -D_RWSTDDEBUG -D_RWSTD_USE_CONFIG -I/build/sebor/dev/stdlib/../../aCC-6.0-11s/include -I/build/sebor/dev/stdlib/include -I/build/sebor/dev/stdlib/../rwtest -I/build/sebor/dev/stdlib/../rwtest/include -I/build/sebor/dev/stdlib/tests/include -AA -g +d +w +W392 +W655 +W684 +W818 +W819 +W849 +W2193 +W2236 +W2261 +W2340 +W2401 +W2487 t.cpp 
aCC t.o -o t -L/build/sebor/dev/stdlib/../../aCC-6.0-11s/rwtest -lrwtest -AA +nostl -Wl,+s -L/build/sebor/dev/stdlib/../../aCC-6.0-11s/lib -L/build/sebor/dev/stdlib/../../aCC-6.0-11s/lib -lstd -lm 
Assertion failed: &quot;aabb&quot; == s, file t.cpp, line 10
ABORT instruction (core dumped)
ParentFirst and SelfFirst jbi class loaders behave the same way
Behandlung von &lt;map-entries&gt;- und &lt;list-entries&gt;-Elementen entspricht nicht den Vorgaben von JSR-127
Zur Initialisierung einer Map- bzw. List-Property wird scheinbar immer eine HashMap bzw. ArrayList verwendet.
Die in JSR-127 gemachten Vorgaben werden nicht umgesetzt.
Kopiert aus JSR-127 Version 1.1:
&quot;The initialization bean properties from &lt;map-entries&gt; and &lt;list-entries&gt;
elements must adhere to the following algorithm, though any confirming
implementation may be used.
For &lt;map-entries&gt;:
1. Call the property getter, if it exists.
2. If the getter returns null or doesn't exist, create a java.util.HashMap,
otherwise use the returned java.util.Map.
3. Add all entries defined by nested &lt;map-entry&gt; elements in the order they are
listed, converting key values defined by nested &lt;key&gt; elements to the type
defined by &lt;key-class&gt; and entry values defined by nested &lt;value&gt; elements
to the type defined by &lt;value-class&gt;. If a value is given as a value binding
expression, evaluate the reference and store the result, converting to &lt;valueclass&gt;
if necessary. If &lt;key-class&gt; and/or &lt;value-class&gt; are not defined,
use java.lang.String. Add null for each &lt;null-value&gt; element.
Chapter 5 Value Binding and Method Binding Expression Evaluation 5-13
4. If a new java.util.Map was created in step 2), set the property by calling the
setter method, or log an error if there is no setter method.
For &lt;list-entries&gt;:
1. Call the property getter, if it exists.
2. If the getter returns null or doesn't exist, create a java.util.ArrayList,
otherwise use the returned Object (an array or a java.util.List).
3. If a List was returned or created in step 2), add all elements defined by nested
&lt;value&gt; elements in the order they are listed, converting values defined by
nested &lt;value&gt; elements to the type defined by &lt;value-class&gt;. If a value is
given as a value binding expression, evaluate the reference and store the result,
converting to &lt;value-class&gt; if necessary. If a &lt;value-class&gt; is not defined,
use the value as-is (i.e., as a java.lang.String). Add null for each &lt;nullvalue&gt;
element.
4. If an array was returned in step 2), create a java.util.ArrayList and copy all
elements from the returned array to the new List, wrapping elements of a
primitive type. Add all elements defined by nested &lt;value&gt; elements as
described in step 3).
5. If a new java.util.List was created in step 2) and the property is of type
List, set the property by calling the setter method, or log an error if there is no
setter method.
6. If a new java.util.List was created in step 2) and the property is a java array,
convert the List into an array of the property type, and set it by calling the setter
method, or log an error if there is no setter method.
7. If a new java.util.List was created in step 4), convert the List to an array
of the proper type for the property and set the property by calling the setter
method, or log an error if there is no setter method.&quot;
&lt;h:inputTextarea&gt; renders &lt;!-- and --&gt; inside the text
On the September 19 build, all my &lt;h:inputTextarea&gt; components are now being rendered with text &quot;&lt;!-- --&gt;&quot; inside them.
inputCalendar popup calendar displays incorrectly if year field is left blank
If the year field is left blank the popup calandar will display horizontally. The year field will show NaN.
Add new theme text box is too wide
The &quot;Add New Template&quot; input box on the &quot;Templates&quot; screen is too wide - it stretches off the screen and beyond it's background.
CMP FBPK Yields an individual SELECT per column
I'm testing the DayTrader Application and it appears that FBPK finds are executing a single SELECT per field in the CMP field. Here are the SELECTs making up a single OrderEJB.findByPrimaryKey(). This should be broken down into a single SELECT for the entity.
SELECT Q.symbol FROM QuoteEJB Q WHERE Q.symbol = s:153
SELECT Q.symbol FROM QuoteEJB Q WHERE Q.symbol = s:153
SELECT Q.companyName FROM QuoteEJB Q WHERE Q.symbol = s:153
SELECT Q.volume FROM QuoteEJB Q WHERE Q.symbol = s:153
SELECT Q.price FROM QuoteEJB Q WHERE Q.symbol = s:153
SELECT Q.open1 FROM QuoteEJB Q WHERE Q.symbol = s:153
SELECT Q.low FROM QuoteEJB Q WHERE Q.symbol = s:153
SELECT Q.high FROM QuoteEJB Q WHERE Q.symbol = s:153
SELECT Q.change1 FROM QuoteEJB Q WHERE Q.symbol = s:153
Registration page should not default to Albanian
Deleting a template with no content fails
I created a new template, and then tried to delete it. This resulted in the following stacktrace:
javax.servlet.ServletException
org.roller.presentation.website.actions.WeblogTemplateFormAction.editPages(WeblogTemplateFormAction.java:179)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
java.lang.reflect.Method.invoke(Method.java:585)
org.apache.struts.actions.DispatchAction.dispatchMethod(DispatchAction.java:276)
org.apache.struts.actions.DispatchAction.execute(DispatchAction.java:196)
org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:421)
org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:226)
org.apache.struts.action.ActionServlet.process(ActionServlet.java:1164)
org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:415)
javax.servlet.http.HttpServlet.service(HttpServlet.java:709)
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
org.roller.presentation.filters.PersistenceSessionFilter.doFilter(PersistenceSessionFilter.java:53)
org.roller.presentation.filters.CharEncodingFilter.doFilter(CharEncodingFilter.java:94)
org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1056)
org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:261)
org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:388)
org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:316)
org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:231)
org.apache.struts.action.ActionServlet.process(ActionServlet.java:1164)
org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:415)
javax.servlet.http.HttpServlet.service(HttpServlet.java:709)
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
org.roller.presentation.filters.BreadCrumbFilter.doFilter(BreadCrumbFilter.java:77)
org.roller.presentation.filters.RequestFilter.doFilter(RequestFilter.java:134)
org.roller.presentation.filters.PersistenceSessionFilter.doFilter(PersistenceSessionFilter.java:53)
org.roller.presentation.filters.CharEncodingFilter.doFilter(CharEncodingFilter.java:94)
org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:323)
root cause
java.lang.NullPointerException
org.roller.presentation.RollerSession.hasPermissions(RollerSession.java:228)
org.roller.presentation.RollerSession.isUserAuthorizedToAdmin(RollerSession.java:220)
org.roller.presentation.website.actions.WeblogTemplateFormAction.editPages(WeblogTemplateFormAction.java:167)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
java.lang.reflect.Method.invoke(Method.java:585)
Draft entries available in blog via permalink
Draft entries don't show on your blog or your newsfeed, but they are available to those who know the URL. That's wrong, draft entries should only be available to those logged in with rights in the corresponding weblog.
uploading large streams through rmi
when I try to upload a file of 35 Meg, I get an out of memory error.
This is caused because the whole file is read into memory instead of buffering
EJB Control assembler excepts when processing an xml file without an doc type declaration
The EJB control assembler throws a null pointer exception when processing a ejb-jar.xml or web.xml file without a doc type declaration.
Missing directories in currently released tarball
When comparing the released tarball with the corresponding tag in CVS, the following directories are totally missing in the former:
scripts/
xdocs/
examples/
Anyway, the _are_ mentioned in the published README.txt file.
Foreach and For cache the 'source' parameter even when they should not
The Foreach and For components cache the 'source' parameter and do not re-evaluate it. As a result problems will appear if you have a loop within a loop or a recursive loop construct using Block.
If did not input anything, the new blog entry will also be saved.
If did not input anything, the new blog entry will also be saved. There is no title or content in this new entry, i think this shoud be a bug.
TwixDecoder cannot correctly handle controls
There are two problems :
1) Controls state automaton is incorrect. It has te be fixed
2) More critical : a problem arise when having a controls after a empty list of attributes. The recursive computation of the expected length is totally buggy and need some deep though. It has been patched several times without having clearly studied the impacts of those patches, and need some clear refactoring.
NPE in UIData.restoreDescendantComponentStates()
Error like MYFACES-520
I have JSP like:
&lt;f:view&gt;
...
&lt;h:form id=&quot;form-edit&quot;&gt;
...
&lt;h:dataTable id=&quot;grid&quot;
value=&quot;#{nagrevBean.nagrevDTOs}&quot; var=&quot;nagrevDTO&quot;
&gt;
&lt;h:column id=&quot;flagSaveColumn&quot; rendered=&quot;#{!authenticationBean.guestAuthorized}&quot;&gt;
&lt;f:facet name=&quot;header&quot;&gt;
&lt;h:outputText id=&quot;flagSaveColumnHeader&quot; value=&quot;+&quot; /&gt;
&lt;/f:facet&gt;
&lt;h:selectBooleanCheckbox id=&quot;flagSaveInput&quot; value=&quot;#{nagrevDTO.flagSave}&quot; rendered=&quot;#{nagrevDTO.canSave}&quot; /&gt;
&lt;/h:column&gt;
....
&lt;/h:dataTable&gt;
&lt;/h:form&gt;
&lt;/f:view&gt;
When a value is entered in the required inputText field, the form submits successfully. But in RENDER_RESPONSE phase i have error
java.lang.NullPointerException
at javax.faces.component.UIData.restoreDescendantComponentStates(UIData.java:223)
at javax.faces.component.UIData.restoreDescendantComponentStates(UIData.java:235)
at javax.faces.component.UIData.setRowIndex(UIData.java:186)
at org.apache.myfaces.renderkit.html.HtmlTableRendererBase.encodeInnerHtml(HtmlTableRendererBase.java:135)
at org.apache.myfaces.renderkit.html.HtmlTableRendererBase.encodeChildren(HtmlTableRendererBase.java:94)
at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:319)
at javax.faces.webapp.UIComponentTag.encodeChildren(UIComponentTag.java:343)
at javax.faces.webapp.UIComponentTag.doEndTag(UIComponentTag.java:251)
at org.apache.myfaces.taglib.UIComponentBodyTagBase.doEndTag(UIComponentBodyTagBase.java:55)
at org.apache.jsp.nagrev_jsp._jspx_meth_h_dataTable_0(org.apache.jsp.nagrev_jsp:1672)
at org.apache.jsp.nagrev_jsp._jspService(org.apache.jsp.nagrev_jsp:286)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:810)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:322)
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314)
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:810)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:672)
at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:463)
at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:398)
at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)
at org.apache.myfaces.context.servlet.ServletExternalContextImpl.dispatch(ServletExternalContextImpl.java:415)
at org.apache.myfaces.application.jsp.JspViewHandlerImpl.renderView(JspViewHandlerImpl.java:234)
at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:300)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:95)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at com.azovstal.asctp.web.HibernateFilter.doFilter(HibernateFilter.java:35)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:122)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:81)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
at org.jboss.web.tomcat.security.CustomPrincipalValve.invoke(CustomPrincipalValve.java:39)
at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:153)
at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:59)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)
at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
at org.apache.tomcat.util.net.MasterSlaveWorkerThread.run(MasterSlaveWorkerThread.java:112)
at java.lang.Thread.run(Thread.java:595)
...
javax.faces.FacesException: org.apache.jasper.JasperException
at org.apache.myfaces.context.servlet.ServletExternalContextImpl.dispatch(ServletExternalContextImpl.java:425)
at org.apache.myfaces.application.jsp.JspViewHandlerImpl.renderView(JspViewHandlerImpl.java:234)
at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:300)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:95)
...
Function 
private void restoreDescendantComponentStates(Iterator childIterator,
Object state, boolean restoreChildFacets)
calling with state == null
The following change to UIData seems to fix the problem: 
... 
if (descendantStateIterator != null 
&amp;&amp; descendantStateIterator.hasNext()) 
{ 
System.out.println(&quot;has dsi&quot;); 
Object[] object = (Object[]) descendantStateIterator.next(); 
childState = object[0]; 
descendantState = object[1]; 
if (component instanceof EditableValueHolder) 
{ 
((EditableValueHolderState) childState) 
.restoreState((EditableValueHolder) component); 
} 
} 
InspectorButton component renders poorly
The InspectorButton is supposed to keep itself locked to the bottom right corner of the page; this has never worked so well and seems to be getting worse (with Firefox, for example). Perhaps we should give up on the dynamic positioning, or just do a simple CSS &quot;float: right&quot;?
BufferUnderflowException while calling ProtocolViolationException.getMessage()
This issues has been posted to MINA forum by Thomas:
http://gleamynode.net/dev/forum/read.php?1,146
Posted by: Thomas (aurorum10-0.aurorum.se)
Date: September 21, 2005 11:00PM
Hi. I'm running a server with mina 0.7.4 on linux and somtimes I get a BufferUnderflowException in my server. It dosn't seem to affect the server however.
java.nio.BufferUnderflowException
at java.nio.Buffer.nextGetIndex(Buffer.java:398)
at java.nio.DirectByteBuffer.get(DirectByteBuffer.java:205)
at org.apache.mina.common.ByteBuffer$DefaultByteBuffer.get(ByteBuffer.java:720)
at org.apache.mina.common.ByteBufferHexDumper.getHexdump(ByteBufferHexDumper.java:78)
at org.apache.mina.common.ByteBuffer$DefaultByteBuffer.getHexDump(ByteBuffer.java:1029)
at org.apache.mina.protocol.ProtocolViolationException.getMessage(ProtocolViolationException.java:84)
at com.agency9.network.masterserver.A9MasterProtocolHandler.exceptionCaught(A9MasterProtocolHandler.java:41)
at org.apache.mina.protocol.AbstractProtocolFilterChain$2.exceptionCaught(AbstractProtocolFilterChain.java:142)
at org.apache.mina.protocol.AbstractProtocolFilterChain.callNextExceptionCaught(AbstractProtocolFilterChain.java:405)
at org.apache.mina.protocol.AbstractProtocolFilterChain.access$900(AbstractProtocolFilterChain.java:50)
at org.apache.mina.protocol.AbstractProtocolFilterChain$Entry$1.exceptionCaught(AbstractProtocolFilterChain.java:518)
at org.apache.mina.protocol.AbstractProtocolFilterChain$1.exceptionCaught(AbstractProtocolFilterChain.java:93)
at org.apache.mina.protocol.AbstractProtocolFilterChain.callNextExceptionCaught(AbstractProtocolFilterChain.java:405)
at org.apache.mina.protocol.AbstractProtocolFilterChain.exceptionCaught(AbstractProtocolFilterChain.java:396)
at org.apache.mina.protocol.ProtocolSessionManagerFilterChain$1.exceptionCaught(ProtocolSessionManagerFilterChain.java:71)
at org.apache.mina.protocol.AbstractProtocolFilterChain.callNextExceptionCaught(AbstractProtocolFilterChain.java:405)
at org.apache.mina.protocol.AbstractProtocolFilterChain.access$900(AbstractProtocolFilterChain.java:50)
at org.apache.mina.protocol.AbstractProtocolFilterChain$Entry$1.exceptionCaught(AbstractProtocolFilterChain.java:518)
at org.apache.mina.protocol.filter.ProtocolThreadPoolFilter.processEvent(ProtocolThreadPoolFilter.java:116)
at org.apache.mina.util.BaseThreadPool$Worker.processEvents(BaseThreadPool.java:393)
at org.apache.mina.util.BaseThreadPool$Worker.run(BaseThreadPool.java:333)
Add support for Java's remapResults=&quot;true&quot;
'// DynamicTest.cs
[Test] 
public void TestDynamicSqlOnColumnSelection() 
{
Account paramAccount = new Account();
Account resultAccount = new Account();
IList list = null;
paramAccount.LastName = &quot;Dalton&quot;;
list = sqlMap.QueryForList(&quot;DynamicSqlOnColumnSelection&quot;, paramAccount);
resultAccount = (Account)list[0];
Console.WriteLine(&quot;FirstName: [{0}]&quot;, resultAccount.FirstName);
AssertAccount1((Account) list[0]);
Assert.AreEqual(5, list.Count);
paramAccount.LastName = &quot;Bayon&quot;;
list = sqlMap.QueryForList(&quot;DynamicSqlOnColumnSelection&quot;, paramAccount);
resultAccount = (Account)list[0]; 
// should be null
Console.WriteLine(&quot;FirstName: [{0}]&quot;, resultAccount.FirstName);
AssertAccount1(resultAccount);
Assert.AreEqual(5, list.Count);
}
&lt;!-- populate certain fields based on the parameterObject --&gt;
&lt;statement
id=&quot;DynamicSqlOnColumnSelection&quot; 
parameterClass=&quot;Account&quot; 
resultClass=&quot;Account&quot;&gt;
SELECT
Account_ID as Id,
&lt;isEqual property=&quot;LastName&quot; compareValue=&quot;Dalton&quot; &gt;
Account_FirstName as FirstName,
&lt;/isEqual&gt;
&lt;isEqual property=&quot;LastName&quot; compareValue=&quot;Dalton&quot; &gt;
Account_LastName as LastName,
&lt;/isEqual&gt;
Account_Email as EmailAddress
FROM
Accounts
&lt;/statement&gt;
When a response is already committed PageFlowUtils.strutsLookup() does not return the expected ActionResult.
When a response is already committed PageFlowUtils.strutsLookup() does not return the expected ActionResult. PageFlowUtils.strutsLookup() runs an entire request-processing cycle which eventually calls PageFlowRequestProcessor.doForward(). The tiles support in PageFlowRequestProcessor.doForward() will do a direct include, doInclude(), if response.isCommitted(), rather than processing the forward.
Would be nice to have a way to detect that a call to the PageFlowRequestProcessor.doForward() happened during a PageFlowUtils.strutsLookup() call and avoid the direct include when the response is committed.
To reproduce, create a simple Page Flow Controller. In a corresponding JSP, call response.flushBuffer() to force the response to be committed, create a ScopedRequest and ScopedResponse, then call PageFlowUtils.strutsLookup() and print out the URI of the returned ActionResult.
I'll create a patch and test for this bug.
ValidField component creates javascript referencing handle_invalid_field() method that no longer exists
Here is the html output from the &lt;body&gt;. I have a @FormBorder component
which includes a form that encloses the actual form inputs. The handle_invalid_field() function does not get created.
&lt;script type=&quot;text/javascript&quot;
src=&quot;/app?digest=b4909c59529064c46eb8843b65911500&amp;amp;path=%2Forg%
2Fapache%2Ftapestry%2Fform%2FForm.js&amp;amp;service=asset&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;&lt;!--
function validate_name(event)
{
var field = document.Form.name;
if (field.value.length == 0)
{
handle_invalid_field(event, field, &quot;You must enter a value for Name.&quot;);
return;
}
}
// --&gt;&lt;/script&gt;
&lt;div class=&quot;page&quot;&gt;
&lt;div class=&quot;maindiv&quot;&gt;
&lt;div class=&quot;topnav&quot;&gt;
&lt;div class=&quot;globalnav&quot;&gt;&lt;span class=&quot;links&quot;&gt;&lt;a href=&quot;#&quot;&gt;Contact Us&lt;/a| &lt;a href=&quot;#&quot;&gt;Sitemap&lt;/a| &lt;a href=&quot;#&quot;&gt;Search&lt;/a| &lt;a href=&quot;#&quot;&gt;Join Us&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;logo&quot;&gt;&lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/logo_ulifeline.gif&quot; width=&quot;219&quot; height=&quot;52&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div class=&quot;mitmed&quot;&gt;&lt;img src=&quot;images/logo_mitmed.gif&quot; width=&quot;139&quot; height=&quot;21&quot; alt=&quot;&quot; /&gt;&lt;/div&gt;
&lt;img src=&quot;images/topwave.png&quot; width=&quot;798&quot; height=&quot;60&quot; alt=&quot;&quot; class=&quot;bottomwave&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;c-content&quot;&gt;
&lt;div class=&quot;leftcol&quot;&gt;
&lt;p class=&quot;navbutton&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;button&quot;&gt;Log Out&lt;/a&gt;&lt;/p&gt;
&lt;!-- &lt;div class=&quot;stylebuttonout&quot;&gt;&lt;div class=&quot;stylebuttonin&quot;&gt;&lt;a href=&quot;#&quot;&gt;Log Out&lt;/a&gt;&lt;/div&gt;&lt;/div--&gt;
&lt;div class=&quot;leftnav&quot;&gt;
&lt;table class=&quot;navigation&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;/app?component=%24AdminBorder.%24DirectLink&amp;amp;page=admin%2FAddSpecialty&amp;amp;service=direct&quot;&gt;Ulifeline Administrator Home&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;/app?component=%24AdminBorder.%24DirectLink_0&amp;amp;page=admin%2FAddSpecialty&amp;amp;service=direct&quot; id=&quot;nav_specialties&quot;&gt;Specialties&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;contentarea&quot;&gt;
&lt;h1 id=&quot;pagetitle&quot;&gt;Add Specialty&lt;/h1&gt;
&lt;form method=&quot;post&quot; action=&quot;/app&quot; name=&quot;Form&quot; id=&quot;Form&quot;&gt;
&lt;div&gt;&lt;input type=&quot;hidden&quot; name=&quot;formids&quot; value=&quot;Hidden,Hidden_0,name,Checkbox,Submit&quot;/&gt;
&lt;input type=&quot;hidden&quot; name=&quot;component&quot; value=&quot;formBorder.$Form&quot;/&gt;
&lt;input type=&quot;hidden&quot; name=&quot;page&quot; value=&quot;admin/AddSpecialty&quot;/&gt;
&lt;input type=&quot;hidden&quot; name=&quot;service&quot; value=&quot;direct&quot;/&gt;
&lt;input type=&quot;hidden&quot; name=&quot;submitmode&quot; value=&quot;&quot;/&gt;
&lt;input type=&quot;hidden&quot; name=&quot;Hidden&quot; value=&quot;0&quot;/&gt;
&lt;input type=&quot;hidden&quot; name=&quot;Hidden_0&quot; value=&quot;0&quot;/&gt;
&lt;/div&gt;
&lt;table class=&quot;form&quot;&gt;
&lt;tr&gt;
&lt;th&gt;&lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;&lt;/th&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Active&lt;/th&gt;
&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;Checkbox&quot; id=&quot;Checkbox&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;div class=&quot;formsubmit&quot;&gt;
&lt;input type=&quot;submit&quot; name=&quot;Submit&quot; value=&quot;Add Specialty&quot; id=&quot;Submit&quot; class=&quot;button&quot;/&gt;
&lt;/div&gt;
&lt;/form&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;hr /&gt;
&lt;div class=&quot;footer&quot;&gt;
&lt;span class=&quot;left&quot;&gt;
&lt;span class=&quot;right&quot;&gt;
&amp;copy;ULifeline&lt;br /&gt;
&lt;a href=&quot;#&quot;&gt;Terms of Use&lt;/a| &lt;a href=&quot;#&quot;&gt;Privacy Statement&lt;/a&gt;
&lt;/span&gt;
University Specific Contact Info goes here. Lorem ipsum dolor sit amet:&lt;br /&gt;
Phone: 555-555-1234 Online: &lt;a href=&quot;#&quot;&gt;www.somwebaddress.edu&lt;/a&gt;
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot;&gt;&lt;!--
Tapestry.register_form('Form');
Tapestry.onsubmit('Form', validate_name);
Tapestry.set_focus('name');
// --&gt;&lt;/script&gt;&lt;/body&gt;
LinkSubmit does not render its body when rewinding
As I see, the LinkSubmit component does not render its body when rewinding so wrapped components do not get rewound. This may cause StaleLinkException if form-related components are wrapped by it (like If, Else, etc).
BR,
Norbi
RedirectException being caught from listener methods as an application exception rather than causing the redirect
up to beta-6 my RedirectException's correctly cause redirects from pageValidate and listener methods. Starting with recent source from SVN the listener methods throwing a RedirectException fail and the RedirectException is displayed in the exception page summary. The redirect location is valid. If you copy it from the exception display into the browser's location the page will load just fine. 
Below is some of the information provided when I click on my 'Logout' link. It calls 'doLogout' listener method which throws a RedirectException to the home page.
Exception invoking listener method doLogout of component member/view: org.apache.tapestry.RedirectException
redirectLocation: /home?page=home&amp;service=page
# com.elidoran.tapestry.pages.member.MemberPage.doLogout(MemberPage.java:87)
# sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
# sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
# sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
# java.lang.reflect.Method.invoke(Method.java:324)
# org.apache.tapestry.listener.ListenerMethodInvokerImpl.invokeTargetMethod(ListenerMethodInvokerImpl.java:230)
# org.apache.tapestry.listener.ListenerMethodInvokerImpl.invokeListenerMethod(ListenerMethodInvokerImpl.java:155)
# org.apache.tapestry.listener.ListenerMethodInvokerImpl.searchAndInvoke(ListenerMethodInvokerImpl.java:124)
# org.apache.tapestry.listener.ListenerMethodInvokerImpl.invokeListenerMethod(ListenerMethodInvokerImpl.java:69)
# org.apache.tapestry.listener.SyntheticListener.actionTriggered(SyntheticListener.java:51)
# org.apache.tapestry.binding.ListenerMethodBinding.actionTriggered(ListenerMethodBinding.java:76)
# org.apache.tapestry.listener.ListenerInvokerTerminator.invokeListener(ListenerInvokerTerminator.java:51)
# $ListenerInvoker_1065a8b4da8.invokeListener($ListenerInvoker_1065a8b4da8.java)
# $ListenerInvoker_1065a8b4da7.invokeListener($ListenerInvoker_1065a8b4da7.java)
# org.apache.tapestry.link.DirectLink.trigger(DirectLink.java:105)
# org.apache.tapestry.engine.DirectService.triggerComponent(DirectService.java:144)
# org.apache.tapestry.engine.DirectService.service(DirectService.java:130)
# $IEngineService_1065a8b4e00.service($IEngineService_1065a8b4e00.java)
# org.apache.tapestry.services.impl.EngineServiceInnerProxy.service(EngineServiceInnerProxy.java:74)
# org.apache.tapestry.services.impl.EngineServiceOuterProxy.service(EngineServiceOuterProxy.java:65)
# org.apache.tapestry.engine.AbstractEngine.service(AbstractEngine.java:248)
Popup window does not close if &lt;netui:retrievePopupOutput&gt; references a nonexistant element
In the attached repro case, the &lt;netui:retrievePopupOutput&gt; tag on index.jsp references an element called &quot;DOESNOTEXIST&quot;, but there is no tag with tagId=&quot;DOESNOTEXIST&quot;.
- Deploy the attached page flows (ui/popup/...) into a webapp.
- Hit /ui/popup/Controller.jpf in a browser.
- Click the Go to the Color Picker button to go through the popup color chooser.
EXPECTED: When you finish, the popup window should close.
ACTUAL: The popup window goes blank, and doesn't close.
The path used when writing the locale cookie means that the locale can get &quot;lost&quot; when navigating around the application
I always get swedish error messages when I input incorrect values into a field. This occures with the Benchmark examples aswell as my own code.
invalid bindings in FormTable.jwc
FormTable.jwc contains invalid bindings like:
&lt;binding name=&quot;element&quot;&gt;div&lt;/binding&gt;
&lt;binding name=&quot;element&quot;&gt;table&lt;/binding&gt;
These should be prefixed with literal:
This error is the result of the removed default-prefix feature from tapestry. (Although I'm happy that it was removed :)
BR,
Norbi
Dual contribution code in Geronimo has pedigree questions.
There are a number of Geronimo classes that have also been contributed into the JBoss code base. These dual-contribution classes raise some pedigree and licensing conflict questions and should be replaced with cleanroom versions. Attached are cleanroom versions of the problem classes.
In addition to these replacement classes, the files in the packages org.apache.geronimo.system.url.file and org.apache.geronimo.system.url.resource also have a similar problem. However, these classes are not actually being used by Geronimo, and should just be removed rather than deleted. Removal of these requires a patch to GeronimoURLFactory, which is also attached. NOTE: The class GeronimoURLFactory has some JVM portability issues, and it's not clear that this URL factory is really required any more. If possible, it might be best to remove that class also.
ServerDirContext.search() with filter arguments always gets index out of bounds (in two places).
When searching the ServerDirContext with filter arguments it throws index out of bounds exceptions in two places.
The first place is where it attempts to substitute the value into the buffer it uses the index of the } char as the index into the arguments.
The second one, after you fix the first, is when the search for { reaches the end of the string.
The attached patch fixes both and includes a JUnit test.
Struts validator support for the msg and args' bundle attribute is not working
Struts does not correctly get validator msg and args from alternate resource bundles. Struts ignores a bundle attribute defined in the validation XML msg or args element tags used in the commons-validator framework.
There's already a bug in struts on this. Here's a summary,
Bug 21760 already includes a patch to go into Struts to resolve this issue. The patch is dependent on some changes in Commons Validator that are part of Validator 1.1.4. Struts is waiting for a &quot;GA&quot; quality release of Validator 1.1.4, then will move the Struts dependency to 1.1.4 and apply the fix.
and the details...
http://issues.apache.org/bugzilla/show_bug.cgi?id=21760
Unfortunately this implies that the NetUI annotations for validator msg and args alternate resource bundles will not work until the fix in struts is integrated into NetUI. User will need to keep msg and args in the default resource bundle.
Incorrect JavaDoc comment on org.apache.beehive.controls.spi.svc.Interceptor
The actual mechanism for an Interceptor to pivot an execution flow is by throwing a InterceptorPivotException. However, the header comment reads:
* A return value of &quot;true&quot; from each Interceptor method indicates to the runtime
* that it should continue execution through the normal flow of control (ie, subsequent
* interceptors and operation/event execution). &quot;false&quot; indicates that the interceptor
* has fully processed the operation and the runtime should &quot;pivot&quot; out.
The above comment should be corrected so a user is not mislead.
Thanks
velocity-1.4.jar is not needed on the classpath in the presence of velocity-1.4-dep.jar
Interesting thing that someone pointed out to me was that the velocity-1.4.jar is a subset of the classes in velocity-1.4-dep.jar, which includes both Velocity and all of its dependencies. We should remove the need for the velocity-1.4.jar as it's just another JAR to have to put in the distribution, move around, etc.
Confluence Config - allow registered users to write.
Please configure Confluence the right way.
Especially: allow registered users to post in the Click Space.
At the moment this is NOT POSSIBLE.
I suppose only the owner or users in group 'admin' (or something similar) may post.
What's the sense of WIKI (collaboration platform) if users can't write?
Thanks in advance,
Ahmed.
P.S. Many of these small admin isssues were described in my reply to 'Development Plan' mail - see newsgroup.
DateTimeConverter.getTimeZone should return the default time of the GMT zone by default
DateTimeConverter.getTimeZone should return the default time of the GMT zone by default, and not null.
HTMLRadioRenderer not showing selected item
This bug is similar to MYFACES-144 (http://issues.apache.org/jira/browse/MYFACES-144)
To reproduce the bug a complex object (other than string) must be used as the value for SelectItem. The object is converted by using a Converter to a string value.
The method HtmlRendererBase.renderGroupOrItemRadio(...) tests the complex object with the converted value which is only working if a string is used as a value for the selectitem.
panelNavigation renders double &quot;border&quot; attribute
When panelNavigator is declared without style &amp; styleClass attributes , and &quot;border&quot; attribute is declared - 
panelNavigator renders table with double &quot;border&quot; attribute, e.g. for border=&quot;1&quot; it renders: &lt;table border=&quot;1&quot; border=&quot;0&quot;&gt;
In my opinion HtmlNavigationRenderer should also check if border attribute exists (HtmlNavigationRenderer .java line 94)
regards
Tomasz
Bug in org.apache.myfaces.custom.date.HtmlInputDate (misinterprets 12:xx )
In method parse() the date is parsed as follows: 
SimpleDateFormat fullFormat = new SimpleDateFormat( &quot;dd MM yyyy HH mm ss&quot; ); 
if (timeZone != null) 
fullFormat.setTimeZone(timeZone); 
return fullFormat.parse(day+&quot; &quot;+month+&quot; &quot;+year+&quot; &quot;+hours+&quot; &quot;+minutes+&quot; &quot;+seconds); 
This is normally no problem, but when the variable &quot;hours&quot; is &quot;12&quot;, SimpleDateFormat &quot;misinterprets&quot; this value and thinks it's 12 AM, but the user normally intendet 12 PM (using a 24h clock). This can be solved by using the following routine instead: 
Calendar tempCalendar=Calendar.getInstance(); 
if (timeZone != null) 
tempCalendar.setTimeZone(timeZone); 
tempCalendar.set(Calendar.DAY_OF_MONTH,Integer.parseInt(day)); 
tempCalendar.set(Calendar.MONTH,Integer.parseInt(month)-1); 
tempCalendar.set(Calendar.YEAR,Integer.parseInt(year)); 
tempCalendar.set(Calendar.HOUR_OF_DAY,Integer.parseInt(hours)); 
tempCalendar.set(Calendar.MINUTE,Integer.parseInt(minutes)); 
return tempCalendar.getTime(); 
}
controls annotation processor generates bad code when control is in the default package
When a control implementation bean is in the default package, the code generator produces a package name as:
package ;
and should just be blank.
Repro to be attached shortly.
SnowballFilter loses token position offset
SnowballFilter doesn't set the token position increment (and thus it defaults to 1).
This also affetcs SnowballAnalyzer since it uses SnowballFilter.
Multiple popup scripts generated when multiple popup config exist in one page
When a page has multple popup config like the following,
&lt;br/&gt;
&lt;netui:anchor action=&quot;goNested&quot; popup=&quot;true&quot;&gt;
&lt;netui:configurePopup width=&quot;500&quot; height=&quot;500&quot; directories=&quot;true&quot;/&gt;
&lt;/netui:anchor&gt;
&lt;br/&gt;
&lt;netui:anchor action=&quot;goNested&quot; popup=&quot;true&quot;&gt;
&lt;netui:configurePopup width=&quot;500&quot; height=&quot;500&quot;
toolbar=&quot;false&quot; location=&quot;false&quot; 
directories=&quot;true&quot; status=&quot;false&quot;
menubar=&quot;false&quot; resizable=&quot;false&quot; 
scrollbars=&quot;false&quot; replace=&quot;false&quot;/&gt;
&lt;/netui:anchor&gt;
&lt;br/&gt;
multiple popup window open scripts generated multiple times in the page, see below.
window_Netui_Popup = null;
function Netui_Popup(url, name, features, replace)
{
if (window_Netui_Popup != null &amp;&amp; ! window_Netui_Popup.closed)
{
window_Netui_Popup.focus();
return;
}
window_Netui_Popup=open(url, name, features, replace);
if (window_Netui_Popup.opener == null) window_Netui_Popup.opener=self;
}
window_Netui_Popup = null;
function Netui_Popup(url, name, features, replace)
{
if (window_Netui_Popup != null &amp;&amp; ! window_Netui_Popup.closed)
{
window_Netui_Popup.focus();
return;
}
window_Netui_Popup=open(url, name, features, replace);
if (window_Netui_Popup.opener == null) window_Netui_Popup.opener=self;
}
Expect to see only one block of this script generated.
Repro: Unzip the repro pageflow and put the pageflow into the netui-blanc template wewbapp. Compile and deploy to tomcat. Browse to the pageflow by http://localhost:8080/webapp/directories/Controller.jpf. Once the page is loaded, do a view source and check the JS script that are generated for that page.
Injecting meta data generates incorrect code for boolean properties
@InjectMeta(&quot;non-user-accessible&quot;)
public abstract boolean getNonUserAccessible();
Is converted into:
public boolean getNonUserAccessible()
{
java.lang.String meta = _$componentPropertySource.getComponentProperty(this, &quot;non-user-accessible&quot;);
return java.lang.Boolean.valueOf(meta);
}
Boolean.valueOf() returns a java.lang.Boolean, not a boolean.
We should be using parseBoolean() for boolean (primitive) types.
netui compiler does not encode strings in validation config files
I am getting a runtime exception that looks like a malformed validation config file is being generated. Here is the snippet of the generated config file that looks problematic.
&lt;form-validation&gt;
&lt;formset&gt;
&lt;form name=&quot;listGroupForm&quot;&gt;
&lt;field depends=&quot;mask,required&quot; property=&quot;groupName&quot;&gt;
&lt;arg0 key=&quot;groupNameRequired.displayName&quot; resource=&quot;true&quot;/&gt;
&lt;var&gt;
&lt;var-name&gt;mask&lt;/var-name&gt;
&lt;var-value&gt;^[^' &quot;=,\\&lt;&gt;#|&amp;~?(){}%*]*$&lt;/var-value&gt;
&lt;/var&gt;
....
A snippet from the matching controller for this is:
@Jpf.ValidatableBean
....
validateMask = @Jpf.ValidateMask(regex=&quot;^[^' \&quot;=,\\\\&lt;&gt;#|&amp;~?(){}%*]*$&quot;)
And the stack trace(s) I am seeing are:
[exec] [ERROR] Digester - Parse Fatal Error at line 11 column 33: The content of elements must consist of well-formed character data or markup. &lt;org.xml.sax.SAXParseException: The content of elements must consist of well-formed character data or markup.&gt;org.xml.sax.SAXParseException: The content of elements must consist of well-formed character data or markup.
[exec] at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:236)
[exec] at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:215)
[exec] at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:386)
[exec] at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:316)
[exec] at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1438)
[exec] at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1723)
[exec] at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:368)
[exec] at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:834)
[exec] at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)
[exec] at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:148)
[exec] at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1242)
[exec] at org.apache.commons.digester.Digester.parse(Digester.java:1591)
[exec] at org.apache.commons.validator.ValidatorResources.&lt;init&gt;(ValidatorResources.java:159)
[exec] at org.apache.struts.validator.ValidatorPlugIn.initResources(ValidatorPlugIn.java:237)
[exec] at org.apache.struts.validator.ValidatorPlugIn.init(ValidatorPlugIn.java:162)
[exec] at org.apache.struts.action.ActionServlet.initModulePlugIns(ActionServlet.java:869)
[exec] at org.apache.beehive.netui.pageflow.AutoRegisterActionServlet.registerModule(AutoRegisterActionServlet.java:553)
[exec] at org.apache.beehive.netui.pageflow.AutoRegisterActionServlet.ensureModuleRegistered(AutoRegisterActionServlet.java:770)
[exec] at org.apache.beehive.netui.pageflow.FlowControllerFactory.ensureModule(FlowControllerFactory.java:736)
[exec] at org.apache.beehive.netui.pageflow.FlowControllerFactory.createPageFlow(FlowControllerFactory.java:209)
[exec] at org.apache.beehive.netui.pageflow.FlowControllerFactory.createPageFlow(FlowControllerFactory.java:183)
[exec] [ERROR] ValidatorPlugIn - Skipping all validation &lt;org.xml.sax.SAXParseException: The content of elements must consist of well-formed character data or markup.&gt;org.xml.sax.SAXParseException: The content of elements must consist of well-formed character data or markup.
[exec] at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1269)
[exec] at org.apache.commons.digester.Digester.parse(Digester.java:1591)
[exec] at org.apache.commons.validator.ValidatorResources.&lt;init&gt;(ValidatorResources.java:159)
[exec] at org.apache.struts.validator.ValidatorPlugIn.initResources(ValidatorPlugIn.java:237)
[exec] at org.apache.struts.validator.ValidatorPlugIn.init(ValidatorPlugIn.java:162)
[exec] at org.apache.struts.action.ActionServlet.initModulePlugIns(ActionServlet.java:869)
[exec] at org.apache.beehive.netui.pageflow.AutoRegisterActionServlet.registerModule(AutoRegisterActionServlet.java:553)
[exec] at org.apache.beehive.netui.pageflow.AutoRegisterActionServlet.ensureModuleRegistered(AutoRegisterActionServlet.java:770)
[exec] at org.apache.beehive.netui.pageflow.FlowControllerFactory.ensureModule(FlowControllerFactory.java:736)
[exec] at org.apache.beehive.netui.pageflow.FlowControllerFactory.createPageFlow(FlowControllerFactory.java:209)
[exec] at org.apache.beehive.netui.pageflow.FlowControllerFactory.createPageFlow(FlowControllerFactory.java:183)
In some circumstances, using the classpath: or context: prefixes on paths fails to work
When one wants to reference &quot;classpath:&quot; asset, BUT inside specification that is specified as &quot;context:&quot; base resource, ClasspathResourceFactory assumes that passed baseResource is of same &quot;classpath&quot; prefix.
Thsi is frequent case when foo.application is located under /WEB-INF (&quot;context:&quot; base resource), and page's specification path is specified with &quot;classpath:&quot; inside &lt;page&gt; element.
Here is snippet from ClasspathResourceFactory :
public IAsset createAsset(Resource baseResource, String path, Locale locale, Location location)
{
Resource asset = baseResource.getRelativeResource(path);
Resource localized = asset.getLocalization(locale);
.......
return new PrivateAsset((ClasspathResource) localized, _assetService, location);
}
E-Mail address for weblog is not persisted when weblog created
You're prompted for an e-mail address when creating a new weblog. However, when you go to Preferences &gt; Settings, the e-mail address is still dummy@example.com. If you add an e-mail address and click Enter (or the submit button), the page is refreshed, but it's blank.
There are too many leaks and possibilities for leaks in Param class and ParamValue class
There are too many leaks in the class Param and the associated class ParamValue.
As these are not documented (specially the couplings/dependancies) it is time consuming to fix them.
Cleaning up members of ParamValue class is done by Param class - this is *VERY* bad - as it is difficult to track what has been release and what not.
As a solution, need to make the class ParamValue a class of its own with destructor, constructor, copy constructor and assignment operator.
Param class should need only worry about its own members.
These leaks become apparent when there are exceptions with complex detail objects - I used tests/client/fault_mapping to track those.
Next / Prev links on weblog pages broken
Before we introduced &quot;true permalinks&quot; they linked to the previous/next page of entries. They should work as they did before.
When building with -Dskip.sandbox=true the faces-config.xml is not included in the META-INF folder of the myfaces-all.jar
ant -Dskip.sandbox=true is supposed to build myfaces without the sandbox components, but if you use pass that variable to ant, the file faces-config.xml which contains the tomahawk components is not included in the myfaces-all.jar.
Fixed misnamed myfaces.jar reference and added link to Extensions Filter setup on Tomahawk overview page
Extended operation causes client to hang
If a client calls an arbitrary extended operation, the server (namely the ExtendedHandler) throws a NotImplementedException. After this, the call of the client blocks, and the client hangs. 
I suggest to change the handler to simply send an error code 2 (LDAP_PROTOCOL_ERROR) with message &quot;Unrecognized extended operation&quot; back to the client. This is the expected behavior if an extended operation is not supported by the server.
Attached you find a test case, which demands an always unknown extended operation (OID=1.1) and checks the result. Error code 2 leads to a CommunicationException in JNDI. I have tested this with several LDAP server implementations, behavior was always as expected. 
I have also attached a patch, which changes the ExtendedHandler to behave like described above. Not a big thing, but it leads to compliant behavior for extended ops, even if we do not have any in place yet.
tree2: tree component can cause duplicate id problems
The tree2 renderer can cause duplicate id problems. The result is similar/ identical to MYFACES-35.
It seems that calling context.getViewRoot().createUniqueId() in the renderer messes up the component tree.
Component tags in the jsp page within the tree or after it call internally UIComponentTag.findComponent().
In this method the component of the parent tag is resolved ... somehow code is influenced by the call of context.getViewRoot().createUniqueId() in the treerenderer. While testing I found out that in case of the duplicate id problem, the resolved parent component for the tag is the same component (but not the same instance!) that is created with the processed component tag.
I created a patch, that makes the call to context.getViewRoot().createUniqueId() in the HTMLTreeRenderer obsolete, but it might be a general issue that calling context.getViewRoot().createUniqueId() within the lifecycle may corrupt the component tree.
form bean-specifc message bundle does not work when two actions use the same form bean
This bug was sent to me by Nathan Olson.
Repro:
- Create a form bean class that has its own messages, using a @Jpf.FormBean annotation with its 'messageBundle' attribute set to a valid message bundle.
- In the form bean class, create a validation rule that refers to one of the message keys.
- Create a page flow with two different actions which use the form bean class you made. Make sure each of the actions has a validationErrorForward.
- Create a JSP or JSPs that submit to each of the two actions. Each JSP should have a &lt;netui:errors/&gt; tag in it, to display the validation messages.
- Submit forms to each of the two actions, and make sure to use input that will fail validation.
EXPECTED: each of the actions produces a validation error message.
ACTUAL: one of the actions produces a tag error that says something like &quot;Could not find a message for message key &quot;XXXXX&quot; in the default message bundle for the current page flow.&quot;
cannot be found in the default message bundle
Axis and commons-discovery need to be initialized with known classloaders
Commons discovery keeps various classloaders in static variables where they cannot ever be changed. Therefore they need to be initialized with known classloaders: the one we can control is the TCCL. A long term solution would involve IOC architecture for axis, but this is not likely to happen soon.
Enable AXIOM to work even when activation/javamail jars are absent.
Does xml/core work even when activation/javamail jars are absent? I'd think we need to do this by 1.0.
thanks,
dims
The @ComponentClass annotation is not inherited by sub-classes
It simple needs the @Inherited annotation.
Add @Meta annotation, for defining meta data
Currently, we have @InjectMeta, which is useful for reading meta data, and (often) converting it to an appropriate type.
However, the meta data itself must still be defined inside an XML file (with the page or component spec overriding the containing application or library spec).
This means that meta data can't be inherited (except by placing a default value in the library spec) and XML is still needed for this one thing, even though everything else can be defined using pure code and annotations.
Using Tomcat Security Policy breaks RdbmsPolicy
I set my Tomcat Security policy to:
grant {
permission java.security.AllPermission;
}; 
Start Tomcat 5.0.31 as:
catalina run -security
And it gets a stack overflow from recursive loop in policy setup:
at java.security.AccessController.checkPermission(AccessController.java:
401)
at java.lang.SecurityManager.checkPermission(SecurityManager.java:524)
at javax.security.auth.Subject.getSubject(Subject.java:251)
at org.apache.jetspeed.security.impl.RdbmsPolicy.getPermissions(RdbmsPol
icy.java:90)
at java.security.Policy.getPermissions(Policy.java:343)
at java.security.Policy.implies(Policy.java:397)
at java.security.ProtectionDomain.implies(ProtectionDomain.java:189)
at java.security.AccessControlContext.checkPermission(AccessControlConte
As an interim fix, if you don't need the Rdbms Policy,
In the jetspeed-spring.xml, comment out:
&lt;!-- Security: RDBMS Policy implementation for JAAS --&gt;
&lt;!--
&lt;bean id=&quot;org.apache.jetspeed.security.impl.RdbmsPolicy&quot; 
class=&quot;org.apache.jetspeed.security.impl.RdbmsPolicy&quot;
&gt; 
&lt;constructor-arg &gt;&lt;ref bean=&quot;org.apache.jetspeed.security.PermissionManager&quot;/&gt;&lt;/constructor-arg&gt; 
&lt;/bean&gt;
--&gt;
&lt;!-- Security: Authorization Provider --&gt;
&lt;!--
&lt;bean id=&quot;org.apache.jetspeed.security.AuthorizationProvider&quot; 
class=&quot;org.apache.jetspeed.security.impl.AuthorizationProviderImpl&quot;
&gt; 
&lt;constructor-arg &gt;&lt;ref bean=&quot;org.apache.jetspeed.security.impl.RdbmsPolicy&quot;/&gt;&lt;/constructor-arg&gt; 
&lt;/bean&gt;
--&gt;
Geronimo ships patent-protected bouncycastle IDEA implementation.
Current Geronimo is shipping the full bouncycastle jar file, which includes an implementation of the IDEA encryption algorithm. Additionally, the openejb code explicitly includes the IDEA algorithm in its supported cryptography suite.
The IDEA algorithm is a bit problematic, since the royalty agreement is for non-commercial use only...royalties are expected for commercial use. It's not clear what the definition of commercial use would actually be, but any user building a commercial website with Geronimo might be at risk for a patent claim just from the presence of the code. Additionally, since there is no way to explicitly enable or discable the IDEA suite, a user might be using the code for commercial purposes without even knowing it. 
The presence of this code is also a problem for any companies wishing to embed Geronimo in a commercial offering. Having this code in the Geronomo base would probably kick in the commercial uses clause and make those companies subject to royalties.
The IDEA code code in bouncycastle is not easily removed because the encryption engines are not dyamically loaded. It would be a simple matter to replace the IDEA engine class with a simple one that merely threw an exception (see attached class). The openejb code probably needs to remove the IDEA algorithms from the supported list as well.
Uberspect - info is created wrong / premature blocking of invalid methods
Reported and patch submitted by Llwellyn Falco &amp; Dan Powell. Email below:
Sorry,
apparently i am being a bit confusing.
the patch was rather large (six lines of code) so i can understand why i 
should have explained it more clearly,
The patch is against 3 issues, 1 of them i submitted when the old 
bugzilla, the other 2 don't exist. but there is a unit test per each issue 
submitted with the patch.
don't quite understand why i would create an issue merely to close it. i 
mean if i needed to show my boss i was working the busy work would make 
sense, but as we are all doing this
in our free time.... if you feel you need notes that better explain the 
patch than the unit tests, by all means fell free, but i personally can't 
think what i would write that is more precise than actual code.
issue 1 (this is Velocity-381)
[ see Velocity-381 ]
issue 2 (no jira issue)
the info is created wrong.
code change
----
- method = rsvc.getUberspect().getMethod(o, methodName, 
params, new Info(&quot;&quot;,1,1));
+ method = rsvc.getUberspect().getMethod(o, methodName, 
params, new Info(context.getCurrentTemplateName(), getLine(), getColumn()));
-----
the test checks against an uberspect that throws exceptions with it can't 
find stuff.
(this is also useful for development, but i am trying to start with small 
changes as to keep things simple, so kept it to testing)
---
public Info getInfoFor(String velocity) throws Exception {
try {
parseString(velocity, this);
fail(&quot;Uberspect Should have thrown an exception&quot;);
throw new Error(&quot;Shouldn't be able to reach this point&quot;);
} catch (VelocityParsingError t) {
return t.getInfo();
}
}
public void testInfoForField() throws Exception {
Info i = getInfoFor(&quot;$main.unknownField&quot;);
assertInfoEqual(i, &quot;$main.unknownField&quot;, 1, 7);
}
public void testInfoForMethod() throws Exception {
Info i = getInfoFor(&quot;$main.unknownMethod()&quot;);
assertInfoEqual(i, &quot;$main.unknownMethod()&quot;, 1, 7);
}
private void assertInfoEqual(Info i, String name, int line, int column) 
{
assertEquals(&quot;Template Name&quot;, name, i.getTemplateName());
assertEquals(&quot;Template Line&quot;, line, i.getLine());
assertEquals(&quot;Template Column&quot;, column, i.getColumn());
}
---
The third test also deals with the uberspect. design indicates that the 
uberspect should be asked to find the method, and therefore if you wanted a 
to write an uberspect to check when you are calling methods on null's you 
could write one. but the parser blocked it.
the test is
---
public void testNullPointer() {
assertErrorThrown(&quot;$main.getNull().callMethod()&quot;);
}
private void assertErrorThrown(String string) {
try {
String result = parseString(string, this);
Assert.fail(&quot;parsing '&quot; + string + &quot;' did not fail but returned '&quot; + 
result + &quot;'&quot;);
} catch (Throwable t) {
return;
}
}
---- 
the code change is the removal of premature exit
- if (result == null)
- {
- return null;
- }
Search results page not updated for 2.0 UI
And search appears to be broken as well.
Root of WebApp Displays WEB-INF and META-INF Directories
I deployed a simple webapp containing nothing more than a web.xml. There is no welcome.jsp configured or provided.
The deploy was OK, but when I browse to http://localhost:8080/testbed I see a directory listing, with the directories WEB-INF and META-INF listed. This, itself, should not happen.
When clicking on WEB-INF, I generate a StackOverflow. I would expect a nice &quot;Forbidden&quot; message, or even a 404 (or whatever the Servlet spec says).
Wrong link to JDO project from Incubator page
The link to the JDO project from the Incubator's JDO page is broken/points to a different project:
How to reproduce:
1. Go to:
http://incubator.apache.org/projects/jdo.html
2. In the section &quot;Project info&quot; there is a link the a web page for the JDO project. The text for this is is &quot;http://incubator.apache.org/jdo/&quot;. When selecting this
link you end up on the Harmony project:
http://incubator.apache.org/harmony/
Solution: make this link point to http://incubator.apache.org/jdo/
tree2 node toggle is alway immediate if server side toggle is used.
if using an input component in a node facet, the processDecode, processValidation, processUpdate methods of nested UIInput component gets called even if the parent node wasnt expanded.
[Cygwin] gas reports junk in atomic.s
commenting out the lines works 
gs -Wno-long-long -Wcast-align /cygdrive/c/temp/stdcxx2/src/atomic-cxx.S
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s: Assembler messages:
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:33: Warning: .type pseudo-op used outside of .def/.endef ignored.
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:33: Error: junk at end of line, first unrecognized character is `_'
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:49: Warning: .type pseudo-op used outside of .def/.endef ignored.
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:49: Error: junk at end of line, first unrecognized character is `_'
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:65: Warning: .type pseudo-op used outside of .def/.endef ignored.
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:65: Error: junk at end of line, first unrecognized character is `_'
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:81: Warning: .type pseudo-op used outside of .def/.endef ignored.
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:81: Error: junk at end of line, first unrecognized character is `_'
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:104: Warning: .type pseudo-op used outside of .def/.endef ignored.
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:104: Error: junk at end of line, first unrecognized character is `_'
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:127: Warning: .type pseudo-op used outside of .def/.endef ignored.
/cygdrive/c/temp/stdcxx2/src/i86/atomic.s:127: Error: junk at end of line, first unrecognized character is `_'
make[2]: *** [atomic-cxx.o] Error 1
Updates to DayTrader to build a deployable ear
Updated the build envirnment to produce a deployable ear for day trader.
PM &amp; PMF missing property detachAllOnCommit
The api20 interfaces PersistenceManager and PersistenceManagerFactory are missing the spec-defined boolean property detachAllOnCommit.
JDOConnection.close() method missing from source, present in spec
The method &quot;void close();&quot; is missing from JDOConnection. It is specified in section 12.16, &quot;Access to internal datastore connection&quot;.
selectOneMenu calls converter getAsString() with String value instead of object
We use a SelectOneMenu to set a City object on a Person. City's are records in our DB with a Long primary key we use as value in the select. A Converter converts the PK to objects with getAsObject (getAsString simply return the PK from the object). We have seen indeed that the getAsObject is called on submit, then followed by a getAsString during the render phase BUT WITH the Long PK as THE VALUE. The component is asking to convert the String value into the String value!
What is particularly weird is that, in the previous request/response phase, the select renders ok, which also requires a getAsString of course.
To be sure, we switched back to the nightly we were using before (20050821), and the select worked ok again. So, as far as we are concerned, this is a serious bug, at least in SelectOneMenu!. We also tried to workaround the issue, checking in the converter if the &quot;value&quot; argument for getAsString is a String, and then just returning it, but that didn't work either.
&quot;Error during model data update&quot; using selectManyCheckbox
I have a selectManyCheckBox backed by an Integer array property. When the form is submitted, I get an exception thrown when updating the model:
Caused by: javax.servlet.jsp.el.ELException: Attempt to coerce a value of type &quot;[Ljava.lang.Object;&quot; to type &quot;[Ljava.lang.Integer;&quot;
It seems that the property is trying to be set with an Object array, rather than Integer array.
I have tracked the problem down to _SharedRendererUtils:
...
{
//Object array
int len = submittedValue.length;
Object[] convertedValues = new Object[len];
for (int i = 0; i &lt; len; i++)
{
convertedValues[i]
= converter.getAsObject(facesContext, component, submittedValue[i]);
}
return convertedValues;
}
..
Given that we know what type the array should be, a suggested patch for the code is:
int len = submittedValue.length;
ArrayList convertedValues = new ArrayList(len);
for (int i = 0; i &lt; len; i++)
{
convertedValues.add(i, converter.getAsObject(facesContext, component, submittedValue[i]));
}
return convertedValues.toArray((Object[]) Array.newInstance(arrayComponentType, len));
Peter
tomahawke SelectOneRadio in datatable no longer working
The tomahawke selectOneRadio (t:selectOneRadio previously x:selectOneRadio) in a datatable no longer works correctly. On selection of an item and submission of the form a ('Validation Error', &quot;{0}&quot;: Value is not a valid option') message is added to the messages.
This worked correctly in myfaces 1.0.9 but not in the last nightly build.
Below is a subset of my jsp that outputs the column:
&lt;h:column&gt;
&lt;f:facet name=&quot;header&quot;&gt;
&lt;h:outputText value=&quot;#{bundle.label_select}&quot;/&gt;
&lt;/f:facet&gt;
&lt;t:selectOneRadio id=&quot;selectRadio&quot; forceId=&quot;true&quot; forceIdIndex=&quot;false&quot; required=&quot;true&quot; value=&quot;#{ClientSearchBean.selectedExtClientId}&quot;&gt;
&lt;f:selectItem itemValue=&quot;#{client.extClientId}&quot; itemLabel=&quot;&quot;/&gt;
&lt;/t:selectOneRadio&gt;
&lt;/h:column&gt;
The 'value; points to a string value in the backing bean and the itemValue points to the same string value in the Client domain object, of which the table is driven from.
CMR One-Many Primitive in Trade is not working correctly.
I have been testing Trade with Geronimo and had a problem with CMRs not appearing to work correctly. I have forwarded the required into to Gianny to re-create the problem. I got Trade Deployed on another non-WebSphere AppServer today and confirmed that it is work there as well.
The steps to get Trade working are:
Create the Derby Database:
connect 'jdbc:derby://localhost:1527/tradedb;create=true';
run 'Table.ddl';
commit;
deploy the year dayTrader.ear with plan dayTeader-plan.xml
Go to configure and populate the database
Then Select Primitives and run the PingServlet2CMROne2Many
JSCookMenu not displaying icons
JSCookMenu is displaying html src instead of an icon.
Problem src example (Does not display icon)
&lt;script type=&quot;text/javascript&quot;&gt;var event__id7_menu = 
[[null, 'Options', null, 'linkDummyForm', null,['&amp;lt;img src=&amp;quot;/opengym/images/Help.png&amp;quot;/&amp;gt;', 'Help', 'event__id7_menu:go_sample1', 'linkDummyForm', null]]];&lt;/script&gt;&lt;div id=&quot;event__id7_menu&quot;&gt;&lt;/div&gt; 
&lt;script type=&quot;text/javascript&quot;&gt;&lt;!-- 
cmDraw ('event__id7_menu', event__id7_menu, 'hbr', cmThemeOffice, 'ThemeOffice'); 
//--&gt;&lt;/script&gt; 
If src is manually changed to the following then the icon is displayed correctly
&lt;script type=&quot;text/javascript&quot;&gt;var event__id7_menu = 
[[null, 'Options', null, 'linkDummyForm', null,['&lt;img src=&quot;/opengym/images/Help.png&quot;&gt;', 'Help', 'event__id7_menu:go_sample1', 
'linkDummyForm', null]]];&lt;/script&gt;&lt;div id=&quot;event__id7_menu&quot;&gt;&lt;/div&gt; 
&lt;script type=&quot;text/javascript&quot;&gt;&lt;!-- 
cmDraw ('event__id7_menu', event__id7_menu, 'hbr', cmThemeOffice, 'ThemeOffice'); 
//--&gt;&lt;/script&gt; 
Typos and grammar errors in the user guide
There are several typos and grammatical errors in the user guide. I guess this could be the parent issue for all such problems.
getPMF by JNDI fails on JPOX
After binding a JPOX PMF and retrieving it from JNDI, the PMF properties are null.
[java] 1) testValidGetPMF(org.apache.jdo.tck.api.persistencemanagerfactory.GetPMFByJNDILocation)junit.framework.AssertionFailedError: 
[java] Key javax.jdo.option.Mapping was null.
[java] Key javax.jdo.option.ConnectionURL was null.
[java] Key javax.jdo.option.ConnectionDriverName was null.
[java] at org.apache.jdo.tck.api.persistencemanagerfactory.AbstractGetPMF.verifyProperties(AbstractGetPMF.java:189)
[java] at org.apache.jdo.tck.api.persistencemanagerfactory.AbstractGetPMF.checkGetPMFWithValidProperties(AbstractGetPMF.java:140)
[java] at org.apache.jdo.tck.api.persistencemanagerfactory.GetPMFByJNDILocation.testValidGetPMF(GetPMFByJNDILocation.java:75)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[java] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[java] at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:197)
[java] at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:128)
[java] at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:106)
[java] 2) testValidGetPMF(org.apache.jdo.tck.api.persistencemanagerfactory.GetPMFByJNDILocationAndClassLoader)junit.framework.AssertionFailedError: 
[java] Key javax.jdo.option.Mapping was null.
[java] Key javax.jdo.option.ConnectionURL was null.
[java] Key javax.jdo.option.ConnectionDriverName was null.
[java] at org.apache.jdo.tck.api.persistencemanagerfactory.AbstractGetPMF.verifyProperties(AbstractGetPMF.java:189)
[java] at org.apache.jdo.tck.api.persistencemanagerfactory.AbstractGetPMF.checkGetPMFWithValidProperties(AbstractGetPMF.java:140)
[java] at org.apache.jdo.tck.api.persistencemanagerfactory.GetPMFByJNDILocationAndClassLoader.testValidGetPMF(GetPMFByJNDILocationAndClassLoader.java:75)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[java] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[java] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[java] at org.apache.jdo.tck.JDO_Test.runBare(JDO_Test.java:197)
[java] at org.apache.jdo.tck.util.BatchTestRunner.start(BatchTestRunner.java:128)
[java] at org.apache.jdo.tck.util.BatchTestRunner.main(BatchTestRunner.java:106)
[gcc 3.2] std::bitset::to_string() fails to build
The header &lt;bitset&gt; causes a compilation error with gcc 3.2 on Linux:
gcc -c -I/build/sebor/dev/stdlib/include/ansi -D_RWSTDDEBUG -pthread -D_RWSTD_USE_CONFIG -I/build/sebor/gcc-3.2-15s/include -I/build/sebor/dev/stdlib/include -pedantic -nostdinc++ -g -Wall -W -Wcast-qual -Winline -Wshadow -Wwrite-strings -Wno-long-long -Wcast-align /build/sebor/dev/stdlib/src/ctype.cpp 
In file included from /build/sebor/dev/stdlib/src/bitset.cpp:36:
/build/sebor/dev/stdlib/include/bitset:616: prototype for `
std::basic_string&lt;_CharT, _Traits, _Allocator&gt; 
std::bitset&lt;_Size&gt;::to_string(_CharT, _CharT) const' does not match any in 
class `std::bitset&lt;_Size&gt;'
/build/sebor/dev/stdlib/include/bitset:457: candidate is: std::string 
std::bitset&lt;_Size&gt;::to_string(char = '0', char = '1') const
/build/sebor/dev/stdlib/include/bitset:616: template definition of non-template 
`std::basic_string&lt;_CharT, _Traits, _Allocator&gt; 
std::bitset&lt;_Size&gt;::to_string(_CharT, _CharT) const'
Remove SNAPSHOT dependency on Pluto
Replace the dependency on a SNAPSHOT version of Pluto with a release version.
Currently using a SNAPSHOT version as that supports upload of its artifacts to a maven repo.
JSCookMenu separator bug - phantom item
These tag lines
&lt;t:jscookMenu layout=&quot;hbr&quot; theme=&quot;ThemeOffice&quot;&gt;
&lt;t:navigationMenuItem itemLabel=&quot;Menu1&quot; itemValue=&quot;Menu1&quot; value=&quot;Menu1&quot;&gt;
&lt;t:navigationMenuItem itemLabel=&quot;Menu1-1&quot; itemValue=&quot;Menu1-1&quot; value=&quot;Menu1-1&quot;&gt; &lt;/t:navigationMenuItem&gt;
&lt;t:navigationMenuItem split=&quot;true&quot;&gt; &lt;/t:navigationMenuItem&gt;
&lt;t:navigationMenuItem itemLabel=&quot;Menu1-2&quot; itemValue=&quot;Menu1-2&quot; value=&quot;Menu1-2&quot;&gt; &lt;/t:navigationMenuItem&gt;
&lt;/t:navigationMenuItem&gt;
&lt;/t:jscookMenu&gt;
produces this output
var id2_menu =
[
[null, 'Menu1', null, 'linkDummyForm', null,
[null, 'Menu1-1', null, 'linkDummyForm', null],
_cmSplit,
[null, '0', null, 'linkDummyForm', null],
[null, 'Menu1-2', null, 'linkDummyForm', null]
]
];
So the split item was rendered twice: the separator item, and a &quot;phantom&quot; item.
ProperrtyListSerialization string quoting - fix once and for all
Another quoting bug in plist serializer. Now it was reported that it doesn't quote &lt; or &gt; chars... Mike Schrag came up with these quoting rules that presumably match official definition from Apple:
&quot;Do not quote strings that only contain chars matching the following conditions:
ch &gt;= 'a' &amp;&amp; ch &lt;= 'z'
ch &gt;= 'A' &amp;&amp; ch &lt;= 'Z'
ch &gt;= '0' &amp;&amp; ch &lt;= '9'
ch == '_'
ch == '$'
ch == ':'
ch == '.'
ch == '/'
Sometimes messages are delayed or stalled in the spool
There is a racing problem with notification.
I'm able to always reproduce the problem in my developing environment.
On other machines I had to add a Thread.sleep(1000) after the notify() of the MailRepository.store() to put evidence on this bug.
PS: I already committed a patch for this issue. Just added this for future reference and to be able to have persistent comments.
NPE thrown when compiling schemas with noPva not set
This was reported by Frank Weiler on the user list. When compiling a set of schemas, an NPE is thrown if scomp is run with defaults. The compilation goes through if the -noPva option is used.
Attached below is the stack trace:
Exception in thread &quot;main&quot; java.lang.NullPointerException
at org.apache.xmlbeans.impl.schema.StscChecker.mapAndSum(StscChecker.java:624)
at org.apache.xmlbeans.impl.schema.StscChecker.isParticleValidRestriction(StscChecker.java:510)
at org.apache.xmlbeans.impl.schema.StscChecker.checkRestriction(StscChecker.java:379)
at org.apache.xmlbeans.impl.schema.StscChecker.checkAll(StscChecker.java:64)
at org.apache.xmlbeans.impl.schema.SchemaTypeSystemCompiler.compileImpl(SchemaTypeSystemCompiler.java:310)
at org.apache.xmlbeans.impl.schema.SchemaTypeSystemCompiler.compile(SchemaTypeSystemCompiler.java:181)
at org.apache.xmlbeans.impl.tool.SchemaCompiler.loadTypeSystem(SchemaCompiler.java:948)
at org.apache.xmlbeans.impl.tool.SchemaCompiler.compile(SchemaCompiler.java:1068)
at org.apache.xmlbeans.impl.tool.SchemaCompiler.main(SchemaCompiler.java:368)
org.apache.jetspeed.om.page.psml.ContentFragmentImpl$ContentFragmentList - NotSerializable
Tony,
I'm not entirely sure why the Spring Portlet MVC stuff would cause this, but the exception you are getting is saying that WebLogic is trying to serialize/deserialize the org.apache.jetspeed.om.page.psml.ContentFragmentImpl.ContentFragmentList class, which does not appear to implement the Serializable interface. You should report this problem to the Jetspeed team and they can probably fix this pretty easily. Let me know how it works out.
John
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
Hi John,
I have a question and can you help me? I am trying to deploy the spring
MVC portlet sample to J2 under weblogic 8.1 and got the following
exception. Do you know why? BTW, the sample worked very good under
Tomcat with Jetspeed2.
Thanks in advance
Tony
&lt;Jul 15, 2005 4:53:50 PM EDT&gt; &lt;Error&gt; &lt;HTTP Session&gt; &lt;BEA-100028&gt; &lt;Could
not des
erialize session data.
java.io.NotSerializableException:
org.apache.jetspeed.om.page.psml.ContentFragmentImpl$ContentFragmentList
at
java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1054)
at
java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1332)
at
java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1304)
at
java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1247)
at
java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1052)
at
java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:278)
at java.util.HashMap.writeObject(HashMap.java:978)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at
java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:809)
at
java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1296)
at
java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1247)
at
java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1052)
at
java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1332)
at
java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1304)
at
java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1247)
at
java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1052)
at
java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:278)
at
weblogic.servlet.internal.AttributeWrapper.convertObjectToBytes(AttributeWrapper.java:171)
at
weblogic.servlet.internal.AttributeWrapper.getObject(AttributeWrapper.java:146)
at
weblogic.servlet.internal.AttributeWrapper.getObject(AttributeWrapper.java:98)
at
weblogic.servlet.internal.RequestAttributes.getAttribute(ServletRequestImpl.java:2925)
at
weblogic.servlet.internal.ServletRequestImpl.getAttribute(ServletRequestImpl.java:926)
at
javax.servlet.ServletRequestWrapper.getAttribute(ServletRequestWrapper.java:127)
at
org.apache.jetspeed.engine.servlet.ServletRequestImpl.getAttribute(ServletRequestImpl.java:195)
at
org.apache.pluto.core.impl.PortletRequestImpl.getAttribute(PortletRequestImpl.java:278)
at
org.springframework.web.portlet.DispatcherPortlet.setupService(DispatcherPortlet.java:609)
at
org.springframework.web.portlet.DispatcherPortlet.doRenderService(DispatcherPortlet.java:665)
at
org.springframework.web.portlet.FrameworkPortlet.serviceWrapper(FrameworkPortlet.java:407)
at
org.springframework.web.portlet.FrameworkPortlet.doDispatch(FrameworkPortlet.java:381)
at javax.portlet.GenericPortlet.render(GenericPortlet.java:175)
at
org.apache.jetspeed.factory.JetspeedPortletInstance.render(JetspeedPortletInstance.java:96)
at
org.apache.jetspeed.container.JetspeedContainerServlet.doGet(JetspeedContainerServlet.java:224)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
at
weblogic.servlet.internal.ServletStubImpl$ServletInvocationAction.run(ServletStubImpl.java:1006)
at
weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:419)
at
weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:315)
at
weblogic.servlet.internal.RequestDispatcherImpl.include(RequestDispatcherImpl.java:638)
at
weblogic.servlet.internal.RequestDispatcherImpl.include(RequestDispatcherImpl.java:423)
at
org.apache.jetspeed.container.invoker.ServletPortletInvoker.invoke(ServletPortletInvoker.java:212)
at
org.apache.jetspeed.container.invoker.ServletPortletInvoker.render(ServletPortletInvoker.java:125)
at sun.reflect.GeneratedMethodAccessor131.invoke(Unknown Source)
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at
org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:284)
at
org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:163)
at $Proxy17.render(Unknown Source)
at
org.apache.pluto.PortletContainerImpl.renderPortlet(PortletContainerImpl.java:105)
at
org.apache.jetspeed.container.JetspeedPortletContainerWrapper.renderPortlet(JetspeedPortletContainerWrapper.java:88)
at
org.apache.jetspeed.aggregator.impl.RenderingJob.execute(RenderingJob.java:108)
at
org.apache.jetspeed.aggregator.impl.PortletRendererImpl.renderNow(PortletRendererImpl.java:101)
at
org.apache.jetspeed.aggregator.impl.PageAggregatorImpl.aggregateAndRender(PageAggregatorImpl.java:261)
at
org.apache.jetspeed.aggregator.impl.PageAggregatorImpl.aggregateAndRender(PageAggregatorImpl.java:244)
at
org.apache.jetspeed.aggregator.impl.PageAggregatorImpl.build(PageAggregatorImpl.java:148)
at
org.apache.jetspeed.aggregator.AggregatorValve.invoke(AggregatorValve.java:48)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invokeNext(JetspeedPipeline.java:203)
at
org.apache.jetspeed.pipeline.valve.impl.ActionValveImpl.invoke(ActionValveImpl.java:117)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invokeNext(JetspeedPipeline.java:203)
at
org.apache.jetspeed.container.ContainerValve.invoke(ContainerValve.java:76)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invokeNext(JetspeedPipeline.java:203)
at
org.apache.jetspeed.profiler.impl.ProfilerValveImpl.invoke(ProfilerValveImpl.java:134)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invokeNext(JetspeedPipeline.java:203)
at
org.apache.jetspeed.security.impl.LoginValidationValveImpl.invoke(LoginValidationValveImpl.java:109)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invokeNext(JetspeedPipeline.java:203)
at
org.apache.jetspeed.security.impl.PasswordCredentialValveImpl.invoke(PasswordCredentialValveImpl.java:131)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invokeNext(JetspeedPipeline.java:203)
at
org.apache.jetspeed.security.impl.AbstractSecurityValve$1.run(AbstractSecurityValve.java:117)
at java.security.AccessController.doPrivileged(Native Method)
at javax.security.auth.Subject.doAsPrivileged(Subject.java:437)
at
org.apache.jetspeed.security.impl.AbstractSecurityValve.invoke(AbstractSecurityValve.java:111)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invokeNext(JetspeedPipeline.java:203)
at
org.apache.jetspeed.container.url.impl.PortalURLValveImpl.invoke(PortalURLValveImpl.java:55)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invokeNext(JetspeedPipeline.java:203)
at
org.apache.jetspeed.capabilities.impl.CapabilityValveImpl.invoke(CapabilityValveImpl.java:127)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invokeNext(JetspeedPipeline.java:203)
at
org.apache.jetspeed.localization.impl.LocalizationValveImpl.invoke(LocalizationValveImpl.java:124)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invokeNext(JetspeedPipeline.java:203)
at
org.apache.jetspeed.pipeline.JetspeedPipeline.invoke(JetspeedPipeline.java:185)
at
org.apache.jetspeed.engine.AbstractEngine.service(AbstractEngine.java:264)
at
org.apache.jetspeed.engine.JetspeedServlet.doGet(JetspeedServlet.java:225)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
at
weblogic.servlet.internal.ServletStubImpl$ServletInvocationAction.run(ServletStubImpl.java:1006)
at
weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:419)
at
weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:315)
at
weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:6722)
at
weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
at
weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
at
weblogic.servlet.internal.WebAppServletContext.invokeServlet(WebAppServletContext.java:3764)
at
weblogic.servlet.internal.ServletRequestImpl.execute(ServletRequestImpl.java:2644)
at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:219)
at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:178)
[MIPSpro 7.41] ICE compiling time_put.cpp
The compiler dies while compiling time_put.cpp:
$ nice gmake BUILDTYPE=11s BUILDDIR=/build/sebor/mipspro-7.41-11s/ CONFIG=mipspro.config
creating BUILDDIR=/build/sebor/mipspro-7.41-11s/
generating /build/sebor/mipspro-7.41-11s//makefile.in...
gmake[1]: Entering directory `/build/sebor/mipspro-7.41-11s'
gmake[2]: Entering directory `/build/sebor/mipspro-7.41-11s/include'
gmake config
gmake[3]: Entering directory `/build/sebor/mipspro-7.41-11s/include'
...
configuring for CC-7.41 on IRIX64-6.5-IP27
checking if compiler is sane ok
checking if linker is sane ok
checking if run environment is sane ok
checking system architecture ILP32 big endian
...
CC -c -I/build/sebor/dev/stdlib/include/ansi -D_RWSTDDEBUG -D_RWSTD_USE_CONFIG -I/build/sebor/mipspro-7.41-11s//include -I/build/sebor/dev/stdlib/include -g -ansiW -woff1429,1460,1521,3150,3333 /build/sebor/dev/stdlib/src/time_put.cpp 
Signal: Segmentation fault in Scope Setup phase.
Error: Signal Segmentation fault in phase Scope Setup -- processing aborted
CC ERROR: /usr/lib32/cmplrs/fecc died due to signal 4
CC ERROR: core dumped
gmake[2]: *** [time_put.o] Error 32
gmake[2]: Leaving directory `/build/sebor/mipspro-7.41-11s/lib'
gmake[1]: *** [libstd] Error 2
gmake[1]: Leaving directory `/build/sebor/mipspro-7.41-11s'
gmake: *** [libstd] Error 2
[Compaq C++ -O2] build failure due to _RWSTD_*_HAS_DENORM not defined
cxx -c -D_RWSTD_SHARED_LIB -pthread -D_RWSTD_USE_CONFIG -I/build/sebor/cxx-7.1-12d/include -I/build/sebor/dev/stdlib/include -D_RWSTD_NO_EXPORT -x cxx -nocxxstd -std strict_ansi_errors -O2 -ptr repository.ti -w1 -msg_disable 450 /build/sebor/dev/stdlib/src/collate.cpp 
cxx: Error: /build/sebor/dev/stdlib/include/limits, line 368: identifier
&quot;_RWSTD_FLT_HAS_DENORM&quot; is undefined
_RWSTD_STATIC (float, float_denorm_style, has_denorm,
----^
cxx: Error: /build/sebor/dev/stdlib/include/limits, line 415: identifier
&quot;_RWSTD_DBL_HAS_DENORM&quot; is undefined
_RWSTD_STATIC (double, float_denorm_style, has_denorm,
----^
cxx: Error: /build/sebor/dev/stdlib/include/limits, line 464: identifier
&quot;_RWSTD_LDBL_HAS_DENORM&quot; is undefined
_RWSTD_STATIC (long double, float_denorm_style, has_denorm,
----^
cxx: Info: 3 errors detected in the compilation of &quot;/build/sebor/dev/stdlib/src/collate.cpp&quot;.
Problem starting apache with server frame work( By running service.xml)
I'm facing some problem to start apache server manually. When I run the service.xml then it'll start the apache but after stop that I'm not able to start it in manually. It simply crash without any warning. I'm facing this problem after we change the removing the deploy part from the service generation. Which was right way to go.
*When I use apache -X in error log of apache shows
[Tue Sep 20 14:27:10 2005] [notice] Child 6080: Child process is running
*apache -k restart in error log of apache shows
[Tue Sep 20 15:00:06 2005] [notice] Parent: Created child process 5744
[Tue Sep 20 15:00:07 2005] [notice] Child 5744: Child process is running
[Tue Sep 20 15:00:12 2005] [crit] master_main: create child process failed. Exiting.
[Tue Sep 20 15:00:12 2005] [notice] Parent: Forcing termination of child process 2606360
* apache -k shutdown in error log of apache not showing anything but give a message &quot;The Apache2 service is not started.&quot;
Also if I restart also problem is remaining. Only way to start apache is run the service.xml 
Provide jetty and tomcat plan schemas so the namespace can determine the builder
Along with the existing geronimo-web.xsd with the multi-server config subelement, which works well only if there is exactly one web server running, write specific jetty and tomcat schemas so the namespace of the plan determines which builder is used.
WSDL2Ws does not create server side correctly for wsdls containing attachment types
When WSDL2Ws is used to create client side, attachment types like Image, PlainText, Source, octet-stream, and DataHandler are correctly mapped to ISoapAttachment. But when server side is created these attachment types are not mapping to 'ISoapAttachment'.
When WSDL2Ws tool is run against Attachment1.wsdl(available in the wsdl directory), in the client side it creates the following function prototype.
xsd__int put(ISoapAttachment *Value0, ISoapAttachment *Value1, ISoapAttachment *Value2, ISoapAttachment *Value3, ISoapAttachment *Value4, ISoapAttachment *Value5, ISoapAttachment *Value6);
ie all the attachment types are mapped to ISoapAttachment type.
But when server side is created, function prototype looks like
xsd__int put(Image Value0,PlainText Value1,Source Value2,octet-stream Value3,DataHandler Value4,DataHandler Value5,DataHandler Value6);
ie WSDL2Ws uses the same type present in the WSDL as the data type.
CommandLink tag override onsubmit function of Form
I have java script onsubmit in &lt;h:form&gt;, when I use commandLink tag, even onsubmit return false, the form still submitted. I checked javasctipt, If I am right, the bug should be here,
JSF generate Javascript for each commandLink like,
clear_unitItemViewList();
document.forms['unitItemViewList'].elements['autoScroll'].value=getScrolling();
document.forms['unitItemViewList'].elements['unitItemViewList:_link_hidden_'].value='unitItemViewList:_id49_0:_id72';
if(document.forms['unitItemViewList'].onsubmit){document.forms['unitItemViewList'].onsubmit();}
document.forms['unitItemViewList'].submit();
return false;
----------------------
so problem it will be caused by 
if(document.forms['unitItemViewList'].onsubmit){document.forms['unitItemViewList'].onsubmit();}
document.forms['unitItemViewList'].submit(); //the form submitted!!!!!!
it should be 
if(document.forms['unitItemViewList'].onsubmit)
{
if( document.forms['unitItemViewList'].onsubmit() )
{
document.forms['unitItemViewList'].submit();
}
}
else
{
document.forms['unitItemViewList'].submit();
}
Need serialVersionUID for o.a.g.kernel.config.ConfigurationModuleType
From dev list post...
So if you are not aware, I'm pulling in and packaging several jars from the lib and lib/endorsed directory into one of the eclipse plug-in, so the classes can be used and referenced by the rest of the eclipse plugins. This is because eclipse can not reference classes or jars at runtime that are not packaged within a plug-in and marked as visible in either the plugin.xml or manifest.
A big problem resides as now the same jars I'm packaging must be the same exact jars that reside in the target server I'm deploying. This causes a dependency on a particular server image. If a user modifies classes I reference and rebuilds their server, the plug-in is broken as during deployment I'll receive error messages like the following...
Caused by: java.io.InvalidClassException: org.apache.geronimo.kernel.config.ConfigurationModuleType; local class incompatible: stream classdesc serialVersionUID = 6296527685792707191, local class serialVersionUID = -4121586344416418391
So looking at that particular class, it looks like the serialVersionUID is generated by Java compiler. This is bad as now jars/classes risk compatibility between every build. We need a solution for this. The only other option I'm aware of is for these serializable classes to hard code and explicity assign a value. Of course we must then assue that we manually maintain backward compatibility to support the N-2 model for these classes. This problem will eventually have to be solved anyway when there is multiple server support and across different versions.
I think this is a must fix for 1.0 as without doing so we risk product migration, mixed version interoperability, tooling, possibly user applications, etc...
t:selectOneRadio validation messages in dataTable
If the tomahawk selectOneRadio is used in a datatable (forceId = true, forceIdIndex = false) and required is true and no items are selected, then a validation error message will be added for every radio button in the data table. This message should only occour once for the set.
forceId = true and forceIdIndex = false identifies that all radio buttons with the same id are within the same group, and should be validated accordingly.
ClientDataSource setConnectionAttributes(&quot;create=true&quot;) fails with &quot;An attempt was made to access a database, mydbcreate=true, which was not found.&quot;
ClientDataSource setConnectionAttributes(&quot;create=true&quot;) fails with &quot;An attempt was made to access a database, mydbcreate=true, which was not found.&quot; The method does not seem to insert a semicolon before the attributes.
run attached repro to produce the error below
$java ConnectionAttributes
embedded setConnectionAttributes
client setConnectionAttributes
org.apache.derby.client.am.DisconnectException: The application server rejected establishment of the connection. An attempt was made to access a database, mydbcreate=true, which was not found.
at org.apache.derby.client.net.NetConnectionReply.parseRDBNFNRM(NetConnectionReply.java)
at org.apache.derby.client.net.NetConnectionReply.parseAccessRdbError(NetConnectionReply.java)
at org.apache.derby.client.net.NetConnectionReply.parseACCRDBreply(NetConnectionReply.java)
at org.apache.derby.client.net.NetConnectionReply.readAccessDatabase(NetConnectionReply.java)
at org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessRdb(NetConnection.java)
at org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessRdb(NetConnection.java)
at org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(NetConnection.java)
at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java)
at org.apache.derby.client.net.NetConnection.initialize(NetConnection.java)
at org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java)
at org.apache.derby.jdbc.ClientDataSource.getConnection(ClientDataSource.java)
at org.apache.derby.jdbc.ClientDataSource.getConnection(ClientDataSource.java)
at ConnectionAttributes.main(ConnectionAttributes.java:28)
$
Intermittent failures when executing UPDATE trigger statements
If I define an UPDATE trigger and then I repeatedly perform a table update that fires the trigger over many rows, I occasionally see intermittent failures of two kinds: 1) a null pointer exception, and/or 2) a syntax error.
The NPE stack trace is this:
java.lang.NullPointerException
at org.apache.derby.impl.sql.GenericPreparedStatement.makeValid(GenericPreparedStatement.java:808)
at org.apache.derby.impl.sql.GenericPreparedStatement.rePrepare(GenericPreparedStatement.java:229)
at org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:342)
at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(GenericTriggerExecutor.java:166)
at org.apache.derby.impl.sql.execute.RowTriggerExecutor.fireTrigger(RowTriggerExecutor.java:108)
at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(TriggerEventActivator.java:296)
at org.apache.derby.impl.sql.execute.UpdateResultSet.fireAfterTriggers(UpdateResultSet.java:824)
at org.apache.derby.impl.sql.execute.UpdateResultSet.open(UpdateResultSet.java:292)
at org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:366)
at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(EmbedStatement.java:1100)
at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(EmbedPreparedStatement.java:1271)
at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(EmbedPreparedStatement.java:259)
The syntax error stack trace is this:
ERROR 42X01: Syntax error: org.apache.derby.iapi.db.Factory::getTriggerExecutionContext.
at org.apache.derby.iapi.error.StandardException.newException(StandardException.java:311)
at org.apache.derby.impl.sql.compile.MethodCallNode.resolveMethodCall(MethodCallNode.java:666)
at org.apache.derby.impl.sql.compile.StaticMethodCallNode.bindExpression(StaticMethodCallNode.java:455)
at org.apache.derby.impl.sql.compile.NonStaticMethodCallNode.bindExpression(NonStaticMethodCallNode.java:170)
at org.apache.derby.impl.sql.compile.NonStaticMethodCallNode.bindExpression(NonStaticMethodCallNode.java:170)
at org.apache.derby.impl.sql.compile.JavaToSQLValueNode.bindExpression(JavaToSQLValueNode.java:250)
at org.apache.derby.impl.sql.compile.CastNode.bindExpression(CastNode.java:224)
at
[snip]
org.apache.derby.impl.sql.compile.DMLStatementNode.bindExpressions(DMLStatementNode.java:247)
at org.apache.derby.impl.sql.compile.UpdateNode.bind(UpdateNode.java:507)
at org.apache.derby.impl.sql.GenericStatement.prepMinion(GenericStatement.java:332)
at org.apache.derby.impl.sql.GenericStatement.prepare(GenericStatement.java:107)
at org.apache.derby.impl.sql.GenericPreparedStatement.makeValid(GenericPreparedStatement.java:811)
at org.apache.derby.impl.sql.GenericPreparedStatement.rePrepare(GenericPreparedStatement.java:229)
at org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:342)
at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(GenericTriggerExecutor.java:166)
at org.apache.derby.impl.sql.execute.RowTriggerExecutor.fireTrigger(RowTriggerExecutor.java:108)
at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(TriggerEventActivator.java:296)
at org.apache.derby.impl.sql.execute.UpdateResultSet.fireAfterTriggers(UpdateResultSet.java:824)
at org.apache.derby.impl.sql.execute.UpdateResultSet.open(UpdateResultSet.java:292)
at org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:366)
at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(EmbedStatement.java:1100)
at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(EmbedPreparedStatement.java:1271)
at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(EmbedPreparedStatement.java:259)
In both cases, it looks like the error happens when Derby decides (internally) to recompile the trigger-action statement in the middle of trigger processing--depending on the state of the underlying Statement object that performs the trigger action, the result will be an NPE or a syntax error.
I'm working on writing up a simplified reproduction and will post soon...
With Network Client starting an XA transaction resets the isolation level set with setTransactionIsolation
When using v10.1.1.0 of the Apache Derby Network Client JDBC Driver and configuring
the TRANSACTION_READ_UNCOMMITTED isolation level, it is unable to read changes from another transaction which haven't been committed yet if the setTransactionIsolation call comes before the xa transation is started.
$ java TestDerbyNSXA
Connection number: 2.
Database product: Apache Derby
Database version: 10.2.0.0 alpha
Driver name: Apache Derby Network Client JDBC Driver
Driver version: 10.2.0.0 alpha
Thread 1: transaction started (with read committed isolation)
Thread 1: row updated first time.
Connection number: 3.
Thread 2: transaction started (with read uncommitted isolation)
Query complete on thread 2. About to do ResultSet.next()...
Thread 1: row updated second time.
ResultSet.next() took 19067 milliseconds.
Test fails. ResultSet next under read uncommitted isolation appears to have been blocked and unable to perform a dirty read.
Thread 1: transaction committed.
Thread 2: transaction committed.
$
getBoolean() throws data conversion exception for DECIMAL type in J2ME/CDC/Foundation
The call to the ResultSet method getBoolean() for a DECIMAL value throws data conversion exception with J2ME/CDC/Foundation. The class BigIntegerDecimal, which is used for DECIMAL support in J2ME/CDC/Foundation, does not override the getBoolean() method from the class DataType. The getBoolean() method in DataType simply throws a data conversion exception.
Import/export fails for DECIMAL type in J2ME/Foundation
Derby import/export tool has to be modified to work in J2ME/Foundation.
I tried running the testcase importExport.java and it fails with following exception:
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Test importExport starting
testing non-existing data file
Data file not found: extinout/Z.dat
testing null data file
Data file cannot be null. 
testing empty table
testing empty table with Delimited format
testing empty table import Field/Char Delimiters
PASS: setup complete
testing import/export with default options
FAIL: exception thrown:
ERROR 38000: The exception 'SQL Exception: An attempt was made to get a data value of type 'java.lang.Object' from a data value of type 'DECIMAL'.' was thrown while evaluating an expression.
ERROR 22005: An attempt was made to get a data value of type 'java.lang.Object' from a data value of type 'DECIMAL'.
Test importExport finished
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
The exception is thrown because Derby system procedure for export calls getObject() on a DECIMAL type. This is not supported in J2ME/Foundation. Derby Embedded JSR 169 Functional Spec asks to use alternate JDBC getXXX and setXXX methods (like getString and setString) for DECIMAL type. I think the Derby import/export utility can be modified to call getString and setString for DECIMAL type when using J2ME/Foundation.
Exception when using LOCALIZEDDISPLAY with JSR169
As I did not get any response to my mail, I am opening a JIRA issue for this.
When I run the test i18n/I18NImportExport.java with JSR169 using IBM's J2ME/CDC/Foundation Profile, I get the following exception:
&quot;JAVA ERROR: java.lang.NoSuchMethodError: java/sql/ResultSet.getBigDecimal(II)Ljava/math/BigDecimal;&quot;
In the test, LOCALIZEDDISPLAY is on and the table has a DECIMAL column. This causes the exception. On looking at the code, following is done to format DECIMAL types in LocalizedResource:
if (type == Types.NUMERIC || type == Types.DECIMAL) { 
return getNumberAsString(rs.getBigDecimal(columnNumber, rsm.getScale(columnNumber)));
}
where getNumberAsString method does the following:
public String getNumberAsString(Object o){
if (enableLocalized){
return formatNumber.format(o, new StringBuffer(), new FieldPosition(0)).toString();
}
else {
return o.toString();
}
}
As a solution, I am planning to do the following:
1. Check for BigDecimal class in the JVM by doing a Class.forName
2. Call getNumberAsString for NUMERIC and DECIMAL types only if BigDecimal class is available. Otherwise, return rs.getString.
This solution would mean that NUMERIC and DECIMAL types will not be localized in these JVM environments. Please let me know if any comments on this.
Thanks,
Deepa
SecurityException or LinkageException thrown during loading a class from a database jar incorrectly shuts the engine down.
In addiing test cases to lang/dcl.test for signed jar files stored in the database I found that if a jar is installed with a tampered class the resulting SecurityException shuts Derby down. Most likely the same would be true for an invalid class hacked into the jar.
DatabaseMetaData.getColumns() fails on iSeries JDK 1.4 with verfier error on generated class.
Analysis shows that 
----------------------------------------------------------------------
The problem is occurring starting at offset 2007 in method e23. There is an invokeinterface to method setWidth(int, int, boolean) of class VariableSizeDataValue. This invoke returns a value of class DataValueDescriptor. That value is in turn stored in field e142 at offset 2015 in method e23. The problem is that field e142 is a NumberDataValue, and DataValueDescriptor is not a valid subclass of NumberDataValue. Thus the store is not allowed.
----------------------------------------------------------------------
Looking at the generated setWidth() calls I see one in BinaryOperatorNode where the return (DataValueDescriptor) is not cast to the type of the field it is stored in. 
Data type mismatch error for boolean to DECIMAL conversion in J2ME
The test jdbcapi/resultset.java gives the following error when run in J2ME/CDC/FP :
Testing nullif(?,DECIMAL(10,5)) with setBoolean
ERROR XCL12: An attempt was made to put a data value of type 'boolean' into a data value of type 'DECIMAL'.
I found that setValue(boolean) is not implemented in BigIntegerDecimal, which is the class used for DECIMAL in J2ME. This is implemented in SQLDecimal and a similar implementation can be provided in BigIntegerDecimal.
On looking at the setValue methods in these classes, I also found that setValue(Object) is implemented in SQLDecimal but not in BigIntegerDecimal.
embedded driver jdbcCompliant() method should return true
The embedded driver returns false for the java.sql.Driver.jdbcCompliant() method. It should return true.
EnhanceUtils needs null checks in the primitive unwrapper methods
The EnhanceUtils class contains a number of &quot;primitive unwrapper&quot; methods that are called from generated methods in enhanced classes. These methods take the form of:
public static &lt;primitive-type&gt; toType(IBinding binding)
{
Type wrapped = (Type) binding.getObject(Type.class);
return wrapped.primitiveValue();
}
The problem is that binding.getObject() can sometimes return null, causing the wrapped.primitiveValue() to throw an NPE.
This scenario happens when a container declares a property using the &lt;property name=&quot;myname&quot; /&gt; syntax, and does not declare any abstract accessor methods for it. If this property is then bound to a component parameter, and that parameter has an abstract accessor method that returns a primitive type, the above scenario can occur. 
The reason is that to support a property declared as above, Tapestry creates a java.lang.Object field in the container class. This field gets the default Object value of null if no additional initialization is done to it. When this property is bound to a component parameter as described above, Tapestry generates calls to the appropriate primitive unwrapper method in the generated accessor.
The fix is to null check the return from binding.getObject in the methods above, and to return the default value of the primitive type - 0, or false for boolean.
Note that this was not an issue in Tapestry 3. The reason is that all &lt;property-specifications&gt; needed to have a type attribute, and the generated field was of that type. So if you were declaring a property that would be bound to a parameter that expected a primitive type, there was never a possibility of a null value.
So again, the proposed fix for all the primitive unwrapper methods:
public static &lt;primitive-type&gt; toType(IBinding binding)
{
Type wrapped = (Type) binding.getObject(Type.class);
if (wrapped == null) return &lt;default-primitive-value&gt;;
return wrapped.primitiveValue();
}
Derby UI plug-in version 1.0.0 incompatible with Eclipse 3.1 M6 or higher
Per this email thread:
http://mail-archives.apache.org/mod_mbox/db-derby-user/200506.mbox/%3c20050606165347.40256.qmail@web81302.mail.yahoo.com%3e
The Derby UI plugin throws an exception when trying to start the Derby network server with Eclipse 3.1M6 or higher.
The fix for this is simple, and involves only changing a class name in 4 files per the email above. Eclipse 3.1 is now GA so this fix should be made to the UI plug-in which will allow it to work with the current release of Eclipse. 
Also, by adding this fix the plug-ins will no longer work with 3.0.x through 3.1M5 builds of Eclipse.
With Network Client, user and password attriubtes specified in the url should not be sent to hte server with the RDBNAM or print with getURL
Currently all attributes specified in the url with client get sent to the server as part of the database name (RDBNAM). They also print with DatabaseMetaData.getURL(). 
Since DRDA provides a separate mechanism for sending user and password these attributes should not be exposed in this way. 
derby.jar has directory (package) entries in it which are not required
The derby.jar is correctly created by the top-level buil.xml with the attribute filesonly=true.
However the subsequent update of the jar file to add the locale files, partially extracted here, does not include the filesonly attribute, so the directory entries are added in.
around line 757 
&lt;jar destfile=&quot;${derby.jar.dir}/derby.jar&quot;
update=&quot;true&quot;
compress=&quot;true&quot;&gt;
Adding filesonly=&quot;true&quot; to this target solved the problem.
Similar changes are probably needed for the other derby jar files and should be addressed with this bug
Tapestry Inspector can throw an exception on the properties page, if a property is an array containing nulls
It ends up blindly passing nulls to RenderStrategy service, which doesn't accept nulls (not very cleanly, either)
# $RenderStrategy_1069ce352ad._getStrategy($RenderStrategy_1069ce352ad.java)
# $RenderStrategy_1069ce352ad.renderObject($RenderStrategy_1069ce352ad.java)
# $RenderStrategy_1069ce352a7.renderObject($RenderStrategy_1069ce352a7.java)
# org.apache.tapestry.describe.ObjectArrayRenderStrategy.renderObject(ObjectArrayRenderStrategy.java:47)
# $RenderStrategy_1069ce352ac.renderObject($RenderStrategy_1069ce352ac.java)
# $RenderStrategy_1069ce352ab.renderObject($RenderStrategy_1069ce352ab.java)
# $RenderStrategy_1069ce352ad.renderObject($RenderStrategy_1069ce352ad.java)
# $RenderStrategy_1069ce352a7.renderObject($RenderStrategy_1069ce352a7.java)
DWRValidator not populating entire context
Short description:
The dwrvalidator is not populating the entire ctx on calls down the call stack. This can be a problem in the Interceptors for example.
Longer description taken from my email with a sample fix.
I just had some problems with some of my WW Interceptors when being called from a DWR validator form tag (via an onblur). The problem was that the
ServletActionContext.getRequest() would return null and i was null pointing all over the place. This problem should be fairly straight forward to reproduce. Just have some Interceptor try and get somethign off the ServletActinContext when being called in a DWR Validation stack.
I did some investigating and if I understand everything right, I think the problem can be traced back to this class DWRValidator. I noticed that it just puts a few objects into the ctx object that gets passed down:
ctx.put(ActionContext.PARAMETERS, params);
ctx.put(WebWorkStatics.SERVLET_CONTEXT, sc.getServletContext());
try {
ValidatorActionProxy proxy = new ValidatorActionProxy(namespace, action, ctx);
...
I found that in the DispatcherUtils class there appears to be a happy little method to create a much nicer ctx. So I basically copied some code from DispatcherUtils ... serviceAction methods lines142-159 and put them into the DWRValidator. This is how my class looks now...:
class DWRValidator {
...
public ValidationAwareSupport doPost(String namespace, String action, Map params) throws Exception {
ServletConfig sc = ExecutionContext.get().getServletConfig();
Map requestMap = new RequestMap(ExecutionContext.get().getHttpServletRequest());
Map requestParams = new HashMap(ExecutionContext.get().getHttpServletRequest().getParameterMap());
if (params != null) {
params.putAll(requestParams);
} else {
params = requestParams;
}
// session map wrapping the http session
Map session = new SessionMap(ExecutionContext.get().getHttpServletRequest());
// application map wrapping the ServletContext
Map application = new ApplicationMap(ExecutionContext.get().getServletContext());
DispatcherUtils du = DispatcherUtils.getInstance();
HashMap ctx = du.createContextMap(requestMap,
params,
session,
application,
ExecutionContext.get().getHttpServletRequest(),
ExecutionContext.get().getHttpServletResponse(),
ExecutionContext.get().getServletContext());
ctx.put(ActionContext.PARAMETERS, params);
ctx.put(WebWorkStatics.SERVLET_CONTEXT, sc.getServletContext());
try {
ValidatorActionProxy proxy = new ValidatorActionProxy(namespace, action, ctx);
proxy.execute();
Object a = proxy.getAction();
}
The onsubmit attribute in the form tag is missing
The form tag should alow all the html attributes, like &quot;onsubmit&quot;.
See this thread:
http://forums.opensymphony.com/post!reply.jspa?messageID=14836
itest failure on OpenEJB... no class def... XMLBeansUtil
Test failure in ddlExporter task fails due to class not found exception for XMLBeansUtil. Looks like adding the following classpath entry fixes the problem.
&lt;pathelement location=&quot;${maven.repo.local}/geronimo/jars/geronimo-service-builder-${geronimo_version}.jar&quot;/&gt;
Too sophisticated exception handling in servlet dispatcher
The servlet spec assumes that servlet's primary method to signal exceptional situation is to throw ServletException. 
SendError usage is different. It is used to signal a non-OK response, but not necessarily caused by exceptional situation. It is rather assumed that the code that executes send error executes properly.
I think that internal exception should be signaled as it is assumed in the spec - i.e. by wrapping them into a ServletException, not by assuming any exact &quot;visible handling&quot;.
Moreover - there is a bad pattern. Error logging should be the first line after catch. Specifically you can't put it after calls that could probably throw an error. response.sendError may potentially throw IllegalStateException, and in fact - it throws it when an error occurs in included (dispatched) request. In such case it is never logged.
I suggest a simpler, more native and bugfree solution.
Index: dispatcher/ServletDispatcher.java
===================================================================
RCS file: /cvs/webwork/src/java/com/opensymphony/webwork/dispatcher/ServletDispatcher.java,v
retrieving revision 1.2
diff -u -r1.2 ServletDispatcher.java
--- dispatcher/ServletDispatcher.java 1 Aug 2003 20:44:32 -0000 1.2
+++ dispatcher/ServletDispatcher.java 4 Sep 2003 23:03:02 -0000
@@ -21,7 +21,6 @@
import java.io.File;
import java.io.IOException;
-import java.io.PrintWriter;
import java.util.HashMap;
@@ -164,30 +163,8 @@
request.setAttribute(&quot;webwork.valueStack&quot;, proxy.getValueStack());
proxy.execute();
} catch (Exception e) {
- try {
- // send a http 500 INTERNAL SERVER ERROR to use the servlet defined error handler
- // make the exception availible to the web.xml defined error page
- request.setAttribute(&quot;javax.servlet.error.exception&quot;, e);
-
- // for compatibility 
- request.setAttribute(&quot;javax.servlet.jsp.jspException&quot;, e);
-
- // send the error response
- response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR, e.getMessage());
-
- /*
- response.setContentType(&quot;text/html&quot;);
- response.setLocale(Configuration.getLocale());
-
- PrintWriter writer = response.getWriter();
- writer.write(&quot;Error executing action: &quot; + e.getMessage());
- writer.println(&quot;&lt;pre&gt;\n&quot;);
- e.printStackTrace(response.getWriter());
- writer.print(&quot;&lt;/pre&gt;\n&quot;);
- */
- log.error(&quot;Could not execute action&quot;, e);
- } catch (IOException e1) {
- }
+ log.error(&quot;Could not execute action&quot;, e);
+ throw new ServletException(&quot;Could not execute action becouse exception occured&quot;, e);
}
}
VelocityResult does not always call OutputStreamWriter flush() method
VelocityResult does not call writer.flush() when JspFactory is not used resulting empty content for the response.
com.opensymphony.webwork.dispatcher.VelocityResult line 94 - 96
Freemarker CallbackWriter does not properly write out content if usesBody() is true
The callback writer doesn't properly take into account the fact that the write(char cbuf[], int off, int len) will be called with the tag's output. A simple fix is attached.
Need an injection type comparable to the state: binding prefix
Using the @InjectState annotation ,it is possible to get at ASOs, but there's no way to see if an ASO exists. This means that the application will force the creation of ASOs and the creation of HttpSession.
What's needed is an injection type of &quot;state-flag&quot; (and a corresponding @InjectStateFlag annotation) that injects a boolean property that indicates whether the given state already exists or not without forcing it into existence.
[jcr-rmi] workspace.copy doesn't work
swapped parameters in org/apache/jackrabbit/rmi/client/ClientWorkspace/ClientWorkspace. 
LdapName comparison is bugged for Compound Names
The following test works well :
Name name1 = new LdapName( &quot;cn=HomeDir+cn=Workdir&quot; );
Name name2 = new LdapName( &quot;cn=Work+cn=HomeDir&quot; );
if ( name1.compareTo( name2 ) ) == 0 )
{
// This should not occurs
}
some message bundles not appearing in generated struts-config files
After the change to remove xml beans from the distribution, certain message bundle attributes declared in the controllers are not showing up in the generated struts-config files and are not being displayed as expected.
Controller snippet:
@Jpf.Controller(
messageBundles = {
@Jpf.MessageBundle(bundleName = &quot;myBundle&quot;,bundlePath = &quot;properties.NewMessages&quot;)
})
public class MessageResourceController extends parent.messageResource.MessageResourceController
{}
Prior to the xml bean change the following section was generated in the struts config:
&lt;message-resources key=&quot;_defaultMsgs&quot; parameter=&quot;org.apache.beehive.netui.pageflow.validation.defaultMessages&quot; null=&quot;true&quot;/&gt;
&lt;message-resources key=&quot;myBundle&quot; parameter=&quot;properties.Messages&quot; null=&quot;true&quot;/&gt;
&lt;message-resources key=&quot;myBundle&quot; parameter=&quot;properties.NewMessages&quot; null=&quot;true&quot;/&gt;
After the removal of xml beans the following section is generated in the struts config:
&lt;message-resources key=&quot;_defaultMsgs&quot; null=&quot;true&quot; parameter=&quot;org.apache.beehive.netui.pageflow.validation.defaultMessages&quot;/&gt;
&lt;message-resources key=&quot;myBundle&quot; null=&quot;true&quot; parameter=&quot;properties.Messages&quot;/&gt;
Notice that the NewMessages messageBundle declared in the controller snippet is no longer generated. This changes the output messages that should be overridden to the ones in the defaultMsgs bundle and causes some tag errors because it cannot find the message requested in the message bundles listed in the config.
Add basic password policy check
The Change Password protocol does not currently apply any password policy checks. Besides being a desirable feature, this is also recommended by RFC 3244.
Some implementation details:
o Violations of the password policy should result in the return of a KRB5_KPASSWD_SOFTERROR. This is not clear from the RFC, but is my best guess from the available error codes.
o The result string should contain feedback about the policy failure, encoded in UTF-8. Clients are supposed to display this string to the user.
o My first cut of this will support the well-established policy checks of length, character mix, and username tokens.
Use of ejb-link prevents use of corba transport
Due to the order of evaluation, if an ejb-ref includes an ejb-link, the proprietary openejb/activeio protocol will be used even if the necessary information for corba transport included in the geronimo plan.
Sql Server drop statements fail without delimited identifiers
The drop statements that are generated for sql server are prefixed by:
IF EXISTS (SELECT 1 FROM sysobjects WHERE type = 'U' AND name = 'tablename')
Without a delimeter being specified the statement changes to:
IF EXISTS (SELECT 1 FROM sysobjects WHERE type = 'U' AND name = tablename)
...which fails (note the lack of quotes around tablename).
DB2 type mapping for BOOLEAN should be SMALLINT?
The mapping in Db2Platform for &quot;BOOLEAN&quot; is currently &quot;CHAR FOR BIT DATA&quot;. According to these docs:
http://publib.boulder.ibm.com/infocenter/db2help/topic/com.ibm.db2.udb.doc/ad/rjvjdata.htm#jvregou
it looks like it should be 'SMALLINT' ?
												</span>
							</div>
			<div>
							</div>
			<div>
									<p><strong>Find millions of documents on Course Hero - Study Guides, Lecture Notes, Reference Materials, Practice Exams and more. Course Hero has millions of course specific materials providing students with the best way to expand their education.</strong></p>
					<p>Below is a small sample set of documents:</p>
					<div><strong><a href="/file/7204784/2005-10/">2005-10</a></strong></div><div>Iowa State - CPRE - 556</div><div>StringIndexOutOfBoundsException when inheriting a Forward or SimpleAction with path=&amp;quot;Repro:- Create a page flow controller class with the following simple action annotation:@Jpf.SimpleAction(name=&amp;quot;foo&amp;quot;, path=&amp;quot;)- Create another page flow controller cla</div><div><strong><a href="/file/7204785/2005-11/">2005-11</a></strong></div><div>Iowa State - CPRE - 556</div><div>Wrong error message for DetachAllOnCommit flag set to true.Wrong error message for DetachAllOnCommit flag set to true. The error message is for &amp;quot;commit&amp;quot; whereas the message should be for &amp;quot;DetachAllOnCommit&amp;quot;.Weblog settings page throws exception on save </div><div><strong><a href="/file/7204786/2005-12/">2005-12</a></strong></div><div>Iowa State - CPRE - 556</div><div>deploy:waitForStarted brokenDoing a &amp;quot;maven -o m:rebuild-all&amp;quot; seems to reliably fail on the itest module with the error:&amp;lt;deploy:waitForStarted&amp;gt; Configuration is not yet startedCould it be that the task needs to be updated to refer to a new configId inst</div><div><strong><a href="/file/7204787/2006-01/">2006-01</a></strong></div><div>Iowa State - CPRE - 556</div><div>java.net.URI(String s) for invalid escaped characters throw IllegalArgumentExceptionWhen I use URI(String) constructor with invalid escaped characters I get IllegalArgumentException instead of URISyntaxException. Small testcase for reproducing this issu</div><div><strong><a href="/file/7204788/2006-02/">2006-02</a></strong></div><div>Iowa State - CPRE - 556</div><div>FlowControllerFactory Java Doc needs to remove the comment about the need to initialize Controls Container Context by the callerWith the changes from https:/issues.apache.org/jira/browse/BEEHIVE-1003, the following comment in the FlowControllerFactory Ja</div><div><strong><a href="/file/7204789/2006-03/">2006-03</a></strong></div><div>Iowa State - CPRE - 556</div><div>runtime20 fails to compileC:\svn0\jdo\trunk\runtime20\src\java\org\apache\jdo\impl\pm\PersistenceManagerWrapper.java:43: org.apache.jdo.impl.pm.PersistenceManagerWrapper is not abstract and does not override abstract method makeTransientAll(java.util.Co</div><div><strong><a href="/file/7204790/2006-07/">2006-07</a></strong></div><div>Iowa State - CPRE - 556</div><div>Duplicate entries on the corba typeMapping.There are duplicate entries in the corba type mapping.Corba Binding too strict with address formatsThe binding has too strict an assumption with the way addresses are specified in a WSDL file. The binding assu</div><div><strong><a href="/file/7204791/2007-01/">2007-01</a></strong></div><div>Iowa State - CPRE - 556</div><div>RMI support not marshalling IDLEntity CORBA objects correctly.The RMI support is marshalling all IDLEntity interface objects by value. The support needs to check to see if the object instance is a CORBA object and delay the decision to marshal as an CORB</div><div><strong><a href="/file/7204792/2007-04/">2007-04</a></strong></div><div>Iowa State - CPRE - 556</div><div>IDLToWSDL incorrectly maps all typedefs to restrictions.Consider IDL like :typedef string PropertyName;typedef string PropertyValue;struct Property cfw_PropertyName name;PropertyValue value;;typedef sequence &amp;lt;Property&amp;gt; PropertyList;typedef Proper</div><div><strong><a href="/file/7204793/2007-05/">2007-05</a></strong></div><div>Iowa State - CPRE - 556</div><div>NullPointerException in CorbaDestinationI got NullPointerException in line 256 of CorbaDestinationif (location.startsWith(&amp;quot;http:/localhost/&amp;quot;) cfw_ / line 256location = location.substring(&amp;quot;http:/localhost/&amp;quot;.length();should check if location is null fi</div><div><strong><a href="/file/7204794/2007-06/">2007-06</a></strong></div><div>Iowa State - CPRE - 556</div><div>IDLToWSDL does not generate correct WSDL for certain combinations of forward declarationIDL which declares a forward declaration for an interface or struct, then provides the full declaration for the forward declared interface/struct, followed by the use</div><div><strong><a href="/file/7204795/2008-04/">2008-04</a></strong></div><div>Iowa State - CPRE - 556</div><div>Increase the number of open files for unit tests under HudsonLucene.zones.apache.org and I assume hudson.zones limit the number of file handles to 256. TestMiniMRDFSSort runs better with more file handles. (I set it to 10000 in my testing, but a smaller </div><div><strong><a href="/file/7204796/2008-05/">2008-05</a></strong></div><div>Iowa State - CPRE - 556</div><div>Master doesn&#039;t see regionserver edits because of clock skewThe streamy folks had a cluster where regionserver was 2 minutes in advance of the master. On split, regionserver would update .META. with split info but scanners opened on the master wouldn&#039;t se</div><div><strong><a href="/file/7204797/2008-06/">2008-06</a></strong></div><div>Iowa State - CPRE - 556</div><div>HLog#cacheFlushLock not cleared; hangs a regionI have a region that is stuck in a close that was ordained by a split. Here is what I have from the log pertaining to the stuck region:cfw_code4 6416 2008-05-29 22:29:03,433 INFO org.apache.hadoop.hbase.HR</div><div><strong><a href="/file/7204798/2008-07/">2008-07</a></strong></div><div>Iowa State - CPRE - 556</div><div>codegen plugin fails due to missing jarWhen clicking &amp;quot;Finish&amp;quot; in the last step to generate Java code from WSDL, the following exception occurs. I believe this is a bug introduced by the commithttp:/mail-archives.apache.org/mod_mbox/ws-axis-cvs/200802.m</div><div><strong><a href="/file/7204799/2008-08/">2008-08</a></strong></div><div>Iowa State - CPRE - 556</div><div>dfs exception and regionserver stuck during heavy write loadIt&#039;s a 3 node setup, each runs datanode and regionserver. One runs as hbase master and hadoop namenode.After some heavy write load via java client, the client is stuck. Stack trace on the regio</div><div><strong><a href="/file/7204800/2008-09/">2008-09</a></strong></div><div>Iowa State - CPRE - 556</div><div>make feature project build successfully according to recent refactor of SMX3 containermake servicemix-utils build successfullyshould add missing stax impl dependency to fix test failuresTests in error:testStaxSourceOnStream(org.apache.servicemix.jbi.j</div><div><strong><a href="/file/7204801/2008-10/">2008-10</a></strong></div><div>Iowa State - CPRE - 556</div><div>WEB: All handlers assigned to any bean should be cleared after a web request has completedCurrently the handler is thread local and softreferenced. Anyway, this could happen :* A get arrives, trying to modify a bean* The modification fails, but the exc</div><div><strong><a href="/file/7204802/2008-11/">2008-11</a></strong></div><div>Iowa State - CPRE - 556</div><div>BeanEditForm guide example about creating the FieldTranslator is inaccurate and out of dateA quote from http:/tapestry.formos.com/nightly/tapestry5/guide/beaneditform.html on 8-Sep-2008:public FieldTranslator getCurrencyTranslator()cfw_Translator tran</div><div><strong><a href="/file/7204803/2008-12/">2008-12</a></strong></div><div>Iowa State - CPRE - 556</div><div>XMLMenuModel:Illegal attribute in menu.xsd.According to xml schema structures recommendation(http:/www.w3.org/TR/xmlschema-1/),section 3.2.6the name of an attribute should not match &#039;xmlns&#039;.Changes required in Distribution build files1. Change version</div><div><strong><a href="/file/7204804/2009-01/">2009-01</a></strong></div><div>Iowa State - CPRE - 556</div><div>QueryParsing.toString() should check ConstantScoreRangeQuery before RangeQueryThiscfw_code:title=QueryParsing.toString()if (query instanceof TermQuery) cfw_: else if (query instanceof RangeQuery) cfw_: else if (query instanceof ConstantScoreRangeQu</div><div><strong><a href="/file/7204805/2009-02/">2009-02</a></strong></div><div>Iowa State - CPRE - 556</div><div>binary type isn&#039;t documented nor demonstrated in the tutorialThe thrift IDL has a type called &amp;quot;binary&amp;quot; for blobs but it&#039;s not listed in the tutorial nor in the documentation.AutoLinkResolver does not work with &amp;lt;a href=&amp;quot;#internal&amp;quot;&amp;gt;Internal link&amp;lt;/a&amp;gt;I thi</div><div><strong><a href="/file/7204806/2009-03/">2009-03</a></strong></div><div>Iowa State - CPRE - 556</div><div>Memory not released in SoftRefFilesCacheImplementation of method putFile(final FileObject file) does not remove references from refReverseMap when adding a new file.#current implementationcfw_noformatsynchronized (files)cfw_files.put(file.getName(),</div><div><strong><a href="/file/7204807/2009-05/">2009-05</a></strong></div><div>Iowa State - CPRE - 556</div><div>Support &amp;quot;templateExpression&amp;quot; and &amp;quot;templateType&amp;quot; in tiles-templateCurrently, attributes &amp;quot;templateType&amp;quot; and &amp;quot;templateExpression&amp;quot; are not supported in tiles-template and depending modules.These attributes should be supported.Deprecate &amp;quot;initContainer&amp;quot; tag</div><div><strong><a href="/file/7204808/2009-09/">2009-09</a></strong></div><div>Iowa State - CPRE - 556</div><div>feature name for cxf-wsdl-first-osgi-package example should be examples-cxf-wsdl-first-osgi-packagebut not example-cxf-wsdl-first-osgi-package, to keep the same naming rule as other examplesSimpleServer: docs need updating for Tomcat 6The current instr</div><div><strong><a href="/file/7204809/2010-05/">2010-05</a></strong></div><div>Iowa State - CPRE - 556</div><div>fileinstall does not recognize jars if it does not have Bundle-SymbolicName and Bundle-VersionFileInstall does not recognize jar files that have only Bundle-SymbolicName. I see the following code in BundleTransformer.java: if (m.getMainAttributes().getV</div><div><strong><a href="/file/7204810/2010-11/">2010-11</a></strong></div><div>Iowa State - CPRE - 556</div><div>Avoid dropping messages off the client request pathCXF CamelTransport and &amp;quot;Can&#039;t find input stream in message&amp;quot;When using a JaxWS proxy with camel transport, to a route with only one processor, CXF fail with the message &amp;quot;Can&#039;t find input stream in messag</div><div><strong><a href="/file/7204811/PADP6910-Feb-1-Notes-for-Iris/">PADP6910 - Feb 1 Notes (for Iris)</a></strong></div><div>UGA - PADP - 6910</div><div>Tuesday, February 1, 2011:Class Structure today:- Review- Segue- 4 Presentations (of each chapter)- Discussion/Class ExerciseReview: Classical Approach- the documentary: The Storm lets connect to the Classical approach-Breakdown in Bureaucracy We</div><div><strong><a href="/file/7204812/GEOG1111-Lecture-Notes/">GEOG1111 Lecture Notes</a></strong></div><div>UGA - GEOG - 1111</div><div>GEOG 1111 (T/R 11:00-12:15), Matthew Miller Class Notes1Thursday, January 7, 2010:Introduction:- 7th edition of the Christopherson (black, &amp;lt; yr old; 2009): dont have to have the 7thedition; CD NOT Required; if get an older edition, will have the info</div><div><strong><a href="/file/7204813/GEOG1111-Post-Exam-2/">GEOG1111 Post-Exam 2</a></strong></div><div>UGA - GEOG - 1111</div><div>GEOG1111: POST-2nd EXAMMatthew MillerCHAPTER 10: GLOBAL CLIMATE SYSTEMS:Thursday, March 4, 2010:Climate:- Climates are the patterns of weather that a place experiences over time (years)-&amp;gt; Climates deal with long-term trends- Climates are very diver</div><div><strong><a href="/file/7204814/GEOL1111-Lecture-Notes/">GEOL1111 Lecture Notes</a></strong></div><div>UGA - GEOG - 1111</div><div>GEOG 1111 (T/R 11:00-12:15), Matthew Miller Class Notes1Thursday, January 7, 2009:Introduction:- 7th edition of the Christopherson (black, &amp;lt; yr old; 2009): dont have to have the 7thedition; CD NOT Required; if get an older edition, will have the info</div><div><strong><a href="/file/7204815/INTL3200-lecture-notes-post-midterm/">INTL3200 - lecture notes post midterm</a></strong></div><div>UGA - INTL - 3200</div><div>Monday, Oct 12, 2009- TicknerRoadmap:- Feminism as a Discipline- Tickners meta-disciplinary analysis- Petersons functional ApproachFeminism has been around even longer than liberalism -&amp;gt; straw man argumentDifferent types of feminism:In early days,</div><div><strong><a href="/file/7204816/INTL4220-Spring-2011-Tessman/">INTL4220 (Spring 2011 - Tessman)</a></strong></div><div>UGA - INTL - 4220</div><div>Brock TessmanINTL 4220: International Conflict Spring 2011Thursday, January 13, 2011:- Tessman teaches classes in international conflict, grand strategy, security studies- Old school thinker all sorts of international conflict (terrorism, civil war (b</div><div><strong><a href="/file/7204817/INTL4440-Notes-for-Madison-110210/">INTL4440 Notes for Madison (11:02:10)</a></strong></div><div>UGA - INTL - 4440</div><div>Dr. Johnson Strat IntelNotes for MadisonTuesday, November 2, 2010:Study Abroad, Stellenbosch, South Africa:- 4 week trip- Sociology/INTL study abroad program in South Africa (see where NelsonMandela sat in jail, )- Classes: Politics of development </div><div><strong><a href="/file/7204818/INTL4460-NOTES-POST-Midterm/">INTL4460 NOTES - POST-Midterm</a></strong></div><div>UGA - INTL - 4460</div><div>INTL4460 - POST-MIDTERM NOTESNikonovSpring 2010Thursday, Feb 4, 2010:Cooperative Threat Reduction: G8 Global Partnership- the nature of nonproliferation has changed over the course of its history- shift from USSR vs Russia to question of where could</div><div><strong><a href="/file/7204819/INTL4460-NOTES/">INTL4460 NOTES</a></strong></div><div>UGA - INTL - 4460</div><div>INTL4460Arms Control and DisarmamentNikonov (T/R 12:30-1:45)1Thursday, Jan 7, 2010Dmitriy Nokonov,- no doubt will talk about arms control and disarmament -&amp;gt; also added a section onnonproliferation- *This course is about WMD - the danger it causes</div><div><strong><a href="/file/7204820/PADP-711-Book-Notes-for-Final-Exam/">PADP 711- Book Notes for Final Exam</a></strong></div><div>UGA - PADP - 7110</div><div>PADP 7110Final Exam Book NotesCHAPTER 6: SAMPLINGCHAPTER 9: SURVEY RESEARCH-3 general features of survey research:o 1) A large number of respondents are chosen through probability samplingprocedures to represent the population of inters.o 2) Syste</div><div><strong><a href="/file/7204821/PADP7110-Bozeman-Fall-2011/">PADP7110 (Bozeman) - Fall 2011</a></strong></div><div>UGA - PADP - 7110</div><div>1PADP7110: Research MethodsMonday, August 15, 2011:Fall 2011HebdonNOTE: Dr. Bozeman will call on you even when you dont raise your hand. This class is muchmore interactive than most classes (even though is a large class).-Most people in this class</div><div><strong><a href="/file/7204822/PADP-7210-POST-MIDTERM-NOTES-Dr-Prittie-Sp2012/">PADP 7210 - POST-MIDTERM NOTES (Dr. Prittie - Sp2012)</a></strong></div><div>UGA - PADP - 7210</div><div>PADP7210: Post-Midterm NotesSpring 2012Dr. PrittieThursday, September 27, 2012 (right after midterm):- Angel Food Ministries Caseo What was going right? Crazy good at delivering groceries not bad food like what wegenerally think go with a food bank</div><div><strong><a href="/file/7204823/PADP7210-Intro-to-Nonprofits-Fall-2012-Class-Notes/">PADP7210 (Intro to Nonprofits Fall 2012) Class Notes</a></strong></div><div>UGA - PADP - 7210</div><div>PADP7210: Intro to NonprofitsFall 2012Dr. PrittieThursday, August 16, 2012:- Joan Prittie: 2nd year teaching this class, 5th in MPA; law and nonprofit backgroundso On a practical note, the time that she devotes to this class is class time but ifever</div><div><strong><a href="/file/7204824/PADP7210-Class-Notes-09-13-2012/">PADP7210 Class Notes (09-13-2012)</a></strong></div><div>UGA - PADP - 7210</div><div>PADP7210: Intro to NonprofitsFall 2012Dr. PrittieThursday, September 13, 2012:PPT: Non Profit Policies: Important policies to build and maintain public trust starting to look more closely at our boards difference between management andgovernance wh</div><div><strong><a href="/file/7204825/PADP7900-Guo-Sp2012-Class-Notes/">PADP7900 (Guo) - Sp2012 Class Notes</a></strong></div><div>UGA - PADP - 7900</div><div>PADP 7900: Managing VolunteersThursday, January 12, 2012:GuoSpring 2012-self intro o born and raised in Hunan province small town of ~1M small town has a lotof history was the capitol city of the first dynasty in China born in very interesting tim</div><div><strong><a href="/file/7204826/PADP6930-Post-Midterm-Notes/">PADP6930 - Post-Midterm Notes</a></strong></div><div>UGA - PADP - 6930</div><div>PADP6930: Post-Midterm NotesDr. CarrollFall 20121Monday, October 15, 2012 (political discussion on tax revenue right after midterm):1) Who should be responsible for more/less of the tax burden? Why?GOP:- hard to get a figure on who is responsible f</div><div><strong><a href="/file/7204827/PADP6930-Carroll-Fall-2012-Class-Notes/">PADP6930 (Carroll-Fall 2012) Class Notes</a></strong></div><div>UGA - PADP - 6930</div><div>1PADP6930 Public &amp;amp; Financial Admin. Dr. CarrollFall 2012Monday, August 13, 2012:Dr. Carroll had been at UGA since 2006, was part of the faculty at UK-Knoxville for 2 yearsbefore that; from Milwaukee, WI and got her bachelors (poly sci and philosophy)</div><div><strong><a href="/file/7204828/PADP6930-Carroll-Oct-23-Notes/">PADP6930 (Carroll) - Oct 23 Notes</a></strong></div><div>UGA - PADP - 6930</div><div>1PADP6930: Post-Midterm NotesDr. CarrollFall 2012Monday, October 22, 2012:PPT: Tax Systems and Policies (Mikesell, Chapter 7) tonight is just a broad overview of this stuff, to try to cut through the political jargonConstitutional Framework &amp;amp; Nexus</div><div><strong><a href="/file/7204829/PADP6950-Class-Notes-1st-day-of-class/">PADP6950 Class Notes (1st day of class)</a></strong></div><div>UGA - PADP - 6950</div><div>Dr. FertigPADP6950: Foundations of Policy AnalysisSpring 2011Monday, January 24, 2011:- like snacks going to have them every day- please call Angie or Dr. Angie- philosophy: you are responsible for what Angie says in class &amp;amp; what is on thelecture n</div><div><strong><a href="/file/7204830/PHIL2030H-Kant-Reading-Question/">PHIL2030H - Kant Reading Question</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H11 October 2010Reading Question: KantQuestion 1. What is the Good Will? Why does Kant think it is so important? What is therelationship between the Good Will and our moral Duty? What do you think of his</div><div><strong><a href="/file/7204831/PHIL2030H-Reading-Question-1-Plato-and-Hume/">PHIL2030H - Reading Question 1 (Plato and Hume)</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H23 August 2010Reading Question: Plato and HumeQuestion: 1. What two roles does Hume claim reason plays in our deliberations? Whycant reason alone guide our actions? Explain whether or not you think Hume </div><div><strong><a href="/file/7204832/PHIL2030H-Reading-Question-2-Ayer-and-Searle/">PHIL2030H - Reading Question 2 (Ayer and Searle)</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H31 August 2010Reading Question: Ayer and SearleQuestion: 1. Ayer claims that propositions containing moral, or normative terms, aremeaningless. How does he argue for this claim? Also, if moral judgments </div><div><strong><a href="/file/7204833/PHIL2030H-Reading-Question-3-Searle-Flew-Foot-and-Korsgaard/">PHIL2030H - Reading Question 3 (Searle, Flew, Foot, and Korsgaard)</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H7 September 2010Reading Question 3: Searle, Flew, Foot, and KorsgaardQuestion: 2. How does Foot address the problems raised by non-naturalists such asAyer? How does her argument proceed? Do you think her</div><div><strong><a href="/file/7204834/PHIL2030H-Reading-Question-4-Korgaard-and-Rawles/">PHIL2030H - Reading Question 4 (Korgaard and Rawles)</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H14 September 2010Reading Question 4: Korsgaard and RawlsQuestion: 4. What would Rawls account of justice require, practically speaking, if wewere to adopt it? In answering, you should briefly explain his</div><div><strong><a href="/file/7204835/PHIL2030H-Reading-Question-7/">PHIL2030H - Reading Question 7</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL 2030H20 October 2010Reading Question 7Question: 1. Feldman argues that we can tweak our maxims so that theyconform to the categorical imperative. Explain the case he appeals to in hisargument. Do you think </div><div><strong><a href="/file/7204836/PHIL2030H-Reading-Question-8-Mill-and-Williams/">PHIL2030H - Reading Question 8 (Mill and Williams)</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL2030H2 November 2010Reading Question 8: Utilitarianism3. What is one of Williams concerns with utilitarianism? Explain hisanalysis.In examining utilitarianism, Williams is concerned with the inability of the</div><div><strong><a href="/file/7204837/PHIL2030H-Reading-Questions-9/">PHIL2030H - Reading Questions 9</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonPHIL2030HDr. Matthew Schneider8 November 2010Reading Question 11. What is the difference between act and rule utilitarianism? How mightattention to this distinction help solve some of the puzzle casesdiscussed in the text and in cla</div><div><strong><a href="/file/7204838/PHIL2030H-Reading-Question-5/">PHIL2030H Reading Question 5</a></strong></div><div>UGA - PHIL - 2030H</div><div>Alexandra HebdonDr. Matthew SchneiderPHIL 2030H Reading Question 520 September 2010Reading Question: Rawls, Narveson, and SterbaQuestion 2. What is Liberty? How do libertarians such as Narveson utilize the concept inan argument for their political v</div><div><strong><a href="/file/7204839/stat1/">stat1</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204840/stat2/">stat2</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204841/stat3/">stat3</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204842/stat4/">stat4</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204843/stat5/">stat5</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div><div><strong><a href="/file/7204844/stat6/">stat6</a></strong></div><div>Texas Tech - MATH - 2300</div><div></div>											</div>
		</div>
		<div id="related_flashcard_sets" class="ajax_load" data-params="filehash=3e874d2f790c7514aedca6267b81fd2ce1216bb0"></div>
	</div>
</div>
<script src="/javascript/modal.js"></script>
<script src="/javascript/common/select2.js"></script>
<script src="/javascript/expert-ready.js" type="text/javascript" charset="utf-8">
</script>
<script src="/javascript/expert-home.js" type="text/javascript" charset="utf-8">
</script>
<script>
jQuery(document).ready(function(){
	jQuery('#doc-rating').raty({
		readOnly: true,
		score: function() {
			return jQuery(this).attr('data-score');
		}
	});
})
</script>
<!--[if (gte IE 6)&(lte IE 8)]>
<script>
jQuery(document).ready(function(){
	jQuery(".ch-doc-large-thumbnail-container").live( 'mouseover', function() {
		jQuery(this).find(".ch-doc-large-thumbnail-details").show();
	}).live('mouseout', function() {
		jQuery(this).find(".ch-doc-large-thumbnail-details").hide();
	});
})
</script>
<![endif]-->
<!--
<PageMap>
  <DataObject type="docinfo">
		<Attribute name="schoolid">864</Attribute>
	<Attribute name="deptid">2012</Attribute>
	<Attribute name="coursenum">556</Attribute>
					<Attribute name="docd">20121012</Attribute>
				<Attribute name="dt">0</Attribute>
		<Attribute name="y">212</Attribute>
	<Attribute name="uk">2</Attribute>
	<Attribute name="ku">1</Attribute>
	<Attribute name="ukrev">2</Attribute>
	<Attribute name="kurev">1</Attribute>
	<Attribute name="ukone">1</Attribute>
	<Attribute name="ytestnew">2</Attribute>
	<Attribute name="ytestold">1</Attribute>
	<Attribute name="qst">answered</Attribute>
	<Attribute name="isd">1</Attribute>
  </DataObject>
	<DataObject type="document">
		<Attribute name="title">2005-09</Attribute>
		<Attribute name="filehash">3e874d2f790c7514aedca6267b81fd2ce1216bb0</Attribute>
		<Attribute name="db_filename">7204783</Attribute>
		<Attribute name="page_count">148</Attribute>
		<Attribute name="school_type">HIGHER</Attribute>
		<Attribute name="doc_source">user</Attribute>
		<Attribute name="doc_type">txt</Attribute>
		<Attribute name="school_name">Iowa State</Attribute>
		<Attribute name="school_id">864</Attribute>
		<Attribute name="dept_acro">CPRE</Attribute>
		<Attribute name="dept_id">2012</Attribute>
		<Attribute name="course_name">Scalabla Sofwatre Engineering</Attribute>
		<Attribute name="course_num">556</Attribute>
		<Attribute name="course_id">1526018</Attribute>
		<Attribute name="prof_name">Sibran</Attribute>
		<Attribute name="year">2012</Attribute>
		<Attribute name="term">3</Attribute>
		<Attribute name="date">2012-10-12 10:36:25</Attribute>
		<Attribute name="gs_date">20121012</Attribute>
		<Attribute name="canid"></Attribute>
	</DataObject>
	<DataObject type="stats">
		<Attribute name="created">2012-10-12 10:36:25</Attribute>
		<Attribute name="modified">2012-10-12 10:36:25</Attribute>
		<Attribute name="gs_date">20121012</Attribute>
		<Attribute name="priority">100</Attribute>
		<Attribute name="course_tagged">1</Attribute>
		<Attribute name="course_tagged_big">999999999</Attribute>
	</DataObject>
	<DataObject type="course_tag">
		<Attribute name="school_name">Iowa State</Attribute>
		<Attribute name="school_id">864</Attribute>
		<Attribute name="dept_acro">CPRE</Attribute>
		<Attribute name="dept_id">2012</Attribute>
		<Attribute name="course_name">Scalabla Sofwatre Engineering</Attribute>
		<Attribute name="course_num">556</Attribute>
		<Attribute name="course_id">1526018</Attribute>
	</DataObject>
</PageMap>
-->

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>


<script type="text/javascript">
    var recording_scrolling_text_version = false;
    jQuery(document).ready(function(){
        var pageTracker = _gat._getTracker("UA-1389869-2");
        if (jQuery(".ch-document-excerpt").length > 0) {
            jQuery(".ch-document-excerpt").scroll( function(){
                if (!recording_scrolling_text_version) {
                    pageTracker._trackEvent('Scrolling', 'ScrolledTextVersion', 'UserIsScroller', 1);
                    //_gaq.push(['_trackEvent', 'Scrolling', 'ScrolledTextVersion', 'UserIsScroller', 1]);
                    recording_scrolling_text_version = true;
                }
            });
        }
    });


</script>

<script type="text/javascript">

try {
    if (utmx('combination') != undefined) {
        var l = document.location, s = l.search;
        s = s + (s.length ? '&' : '?') + 'combination=' + utmx('combination');
        var pageTracker = _gat._getTracker("UA-1389869-2");
        
        pageTracker._setCustomVar(1, "usertype", "", 1);
                
        pageTracker._trackPageview(l.pathname + s);
    }
    else {
        var pageTracker = _gat._getTracker("UA-1389869-2");
        pageTracker._initData();
        
        pageTracker._setCustomVar(1, "usertype", "", 1);
                
        pageTracker._trackPageview();
    }
}catch(err){
        var pageTracker = _gat._getTracker("UA-1389869-2");
        pageTracker._initData();
        
        pageTracker._setCustomVar(1, "usertype", "", 1);
                
        pageTracker._trackPageview();
}
 
</script>
<script type="text/javascript">

adroll_adv_id = "RMA4JRK3LBCRFDGPVVO45A";
adroll_pix_id = "4D6DGYEGP5GENH5XDDV55J";
(function () {
var oldonload = window.onload;
window.onload = function(){
  __adroll_loaded=true;
  var scr = document.createElement("script");
  var host = (("https:" == document.location.protocol) ?
"https://s.adroll.com" : "http://a.adroll.com");
  scr.setAttribute('async', 'true');
  scr.type = "text/javascript";
  scr.src = host + "/j/roundtrip.js";
  document.documentElement.firstChild.appendChild(scr);
  if(oldonload){oldonload()}};
}());

</script>






<div id="ch-footer-wrapper" class="ch-wrapper">
	<div class="ch-container">
									<div class="ch-certificates">
					
<a href="https://seal.verisign.com/splash?form_file=fdf/splash.fdf&dn=www.coursehero.com" target="_blank" rel="nofollow" class="security-seals-verisign"></a>
<a class="security-seals-bbb"></a>
<a href="http://privacy-policy.truste.com/click-with-confidence/wps/en/www.coursehero.com" target="_blank"  rel="nofollow" class="security-seals-truste"></a>

				</div>
									<script type="text/javascript">
				var __fList_network = true;
				var __fList_textbook = false;
				var __fList_concepts = true;
				var __fList_homework = true;
				var __fList_skills = true;
			</script>
			
											  					<div class="ajax_load" id="ajax_footer_sitemap"></div>
				  										<div class="ch-footerlinks" id="ft-links-id">
				<ul>
					<li><a href="/sitemap/">Sitemap</a></li>
					<li><a href="/tutors/problems/">Tutors</a></li>
					<li><a href="/keywords/">Educational Concepts</a></li>
					<li><a href="/textbooks/">Textbooks</a></li>
					<li><a href="http://blog.coursehero.com">Blog</a></li>
					<li><a href="/study-skills/">Study Skills</a></li>
                    <li><a href="/subjects/">Subjects</a></li>
				</ul>
			</div>
				</div>
</div>


<script src="/javascript/common/select2.js"></script>
<script src="/min/?f=/javascript/jquery-ui-1.8.19.custom.min.js,/javascript/google_autocomplete.js,/javascript/jquery.raty.min.js,/javascript/jstz-1.0.4.min.js,/javascript/jquery.scrollspy.js,/javascript/jquery.ui.widget.js" type="text/javascript" charset="utf-8"></script>
<script src="/min/?f=/javascript/jquery.iframe-transport.js,/javascript/jquery.fileupload.js,/javascript/footer.js,/javascript/jquery.jcarousel.min.js,/javascript/jquery.boxy.js,/javascript/classes/VTab.js" type="text/javascript" charset="utf-8"></script>
<script src="/min/?f=/javascript/classes/main.js,/javascript/classes/benefits.js" type="text/javascript" charset="utf-8"></script>

</body>
</html>
