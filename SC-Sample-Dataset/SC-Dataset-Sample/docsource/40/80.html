<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="Expires" content="-1"/>
<style type="text/css">@import url( /gforum/templates/default/styles/style.css?1386397604252 );</style>
<style type="text/css">@import url(/gforum/templates/default/styles/en_US.css?1386397604252);</style>

<link href="http://www.geonames.org/geonames.ico" rel="shortcut icon">
<link rel="StyleSheet" href="http://www.geonames.org/geonames.css" type="text/css"></head>


<title>java.net.ProtocolException: Server redirected too many  times (20)</title>
</head>
<body class="en_US">

<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com

Modifications by JForum Team
-->



<table id=topmenutable><tr>
<td class="topmenu">&nbsp;<a href="http://www.geonames.org/" title="GeoName Home">&nbsp;GeoNames Home</a>&nbsp;|&nbsp;<a href="http://www.geonames.org/postal-codes/" title="Postal Codes">Postal Codes</a>&nbsp;|&nbsp;<a href="http://www.geonames.org/export/" title="Database Dump and Webservice API">Download / Webservice</a>&nbsp;|&nbsp;<a href="http://www.geonames.org/about.html" title="About GeoNames">About</a>&nbsp;</td>

</td></tr>
</table>

<br>



<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>
					<td width="100%" align="center" valign="middle">
						<span class="maintitle">GeoNames Forum</span>
						<table cellspacing="0" cellpadding="2" border="0">
							<tr>
								<td valign="top" nowrap="nowrap" align="center">&nbsp;
									<img src="/gforum/templates/default/images/icon_mini_search.gif" alt="[Search]"/>
									<span class="mainmenu"><a id="search" class="mainmenu" href="/gforum/search/filters.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB"><b>Search</b></a> &nbsp;
									
									<img src="/gforum/templates/default/images/icon_mini_recentTopics.gif" alt="[Recent Topics]" />
									<a id="latest" class="mainmenu" href="/gforum/recentTopics/list.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB">Recent Topics</a> &nbsp;
									<span class="mainmenu"> <img src="/gforum/templates/default/images/icon_mini_groups.gif" alt="[Groups]" />&nbsp;<a id="backtosite" class="mainmenu" href="http://www.geonames.org">Back to home page</a>&nbsp;

	
										<br/>
										<a id="register" class="mainmenu" href="/gforum/user/insert.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB"><img src="/gforum/templates/default/images/icon_mini_register.gif" border="0" alt="[Register]" /> Register</a>&nbsp;/&nbsp;</span>
										<a id="login" class="mainmenu" href="/gforum/user/login.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB"><img src="/gforum/templates/default/images/icon_mini_login.gif" border="0" alt="[Login]" /> Login</a>&nbsp; </span>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>

	<tr>
		<td>

<script type="text/javascript" src="/gforum/templates/default/js/post_show.js?1386397604252"></script>
<script type="text/javascript" src="/gforum/templates/default/js/post.js?1386397604252"></script>
<script type="text/javascript">
<!--
	function karmaVote(s, postId) {
		if (s.selectedIndex == 0) {
			return;
		}

		if (confirm("Confirm your vote?")) {
			document.location = "/gforum/karma/insert/0/" + postId + "/" + s.value + ".page";
		}
		else {
			s.selectedIndex = 0;
		}
	}

	function karmaPointsCombo(postId)
	{
		document.write('<select name="karma" onchange="karmaVote(this,' + postId + ')">');
		document.write('	<option value="">Rate</option>');
		document.write('	<option value="1">1</option>');
		document.write('	<option value="2">2</option>');
		document.write('	<option value="3">3</option>');
		document.write('	<option value="4">4</option>');
		document.write('	<option value="5">5</option>');
		document.write('</select>');
	}
function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn = new Image();
starOn.src = "/gforum/templates/default/images/star_on.gif";

var starOff = new Image();
starOff.src = "/gforum/templates/default/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/gforum/bookmarks/insert/' + relationType + '/' + relationId + '.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB', 'bookmark_add', 'width="700", height="200", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}

-->
</script>

<table cellspacing="0" cellpadding="10" width="100%" align="center" border="0">
	<tr>
		<td class="bodyline">
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					<td valign="middle" align="left" colspan="2">
						<span class="maintitle"><a href="/gforum/posts/list/1057.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB" name="top" class="maintitle" id="top">java.net.ProtocolException: Server redirected too many  times (20)</a></span>
						&nbsp;<a href="/gforum/rss/topicPosts/1057.page"><img src="/gforum/templates/default/images/xml_button.gif" border="0" alt="XML" /></a>
					</td>
				</tr>
			</table>
			
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					<td width="8%" align="left" valign="bottom" nowrap="nowrap">
								<a href="/gforum/posts/reply/0/1057.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB" rel="nofollow" class="icon_reply nav"><img src="/gforum/images/transp.gif" alt="" /></a>
					</td>

					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						<a class="nav" href="/gforum/forums/list.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB">Forum Index </a> 
            			-&gt; <a class="nav" href="/gforum/forums/show/4.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB">General </a></span>
					</td>
					

					<td valign="middle" align="right"></td>
				</tr>
			</table>

			<table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0">
				
				<tr>
					<th class="thleft" nowrap="nowrap" width="150" height="26">Author</th>
					<th class="thright" nowrap="nowrap" width="100%">Message</th>
				</tr>

				<!-- POST LISTING --> 
	
					<tr>
						<td colspan="2">
<div class="postinfo">
	<div class="date">
				<a href="/gforum/posts/list/1057.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB#4651">
		<img src="/gforum/templates/default/images/icon_minipost_new.gif" alt="[Post New]" /></a>11/09/2008 19:56:19
	</div>
	<div class="subject">&nbsp;&nbsp; &nbsp;<b>Subject:</b> <a name="4651">java.net.ProtocolException: Server redirected too many  times (20)</a></div>
	<div class="action">
			<script type="text/javascript">writeStars(0, 4651);</script>

			<a href="/gforum/posts/quote/0/4651.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB" rel="nofollow" class="icon_quote"><img src="/gforum/images/transp.gif" alt="" /></a>



		<a class="nav" href="#top"><img src="/gforum/templates/default/images/icon_up.gif" alt="[Up]" /></a>
	</div>
</div>						</td>
					</tr>

					<tr>
						<!-- Username -->


						<td class="row1" valign="top" align="left" rowspan="2">
<span class="genmed"><b>Bobby Yang</b></span>
<br />
	<script type="text/javascript">writeStars(0, "11584651");</script>
	<br/>

<span class="gensmall">
	
	<br />

<br /> 

	Joined: 10/09/2008 20:02:26<br />
	Messages: 4
<br />



		<span class="offline">Offline </span>
</span>
<br />						</td>
		
						<!-- Message -->
						<td class="row1" valign="top">
							<span class="postbody">Hi,
<br/> 
<br/> I am using the java client to resolve timezones and I keep getting a java.net.ProtocolException: Server redirected too many  times (20).
<br/> 
<br/> Here is a snippet of the stacktrace:
<br/> 
<br/> Sep 11, 2008 10:49:41 AM org.geonames.WebService connect
<br/> WARNING: problems connecting to geonames server <a href="http://ws.geonames.org" target="_blank" rel="nofollow">http://ws.geonames.org</a>
<br/> java.net.ProtocolException: Server redirected too many  times (20)
<br/> 	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1182)
<br/> 	at org.geonames.WebService.connect(Unknown Source)
<br/> 	at org.geonames.WebService.timezone(Unknown Source)
<br/> 
<br/> I copied some source from WebService.connect into a test case I wrote and was able to pinpoint to line 148 of WebService.java:
<br/> 
<br/> conn.setRequestProperty("User-Agent", USER_AGENT);
<br/> 
<br/> When I exclude that line from the source I copied into my test case, the problem goes away.  I am not sure why setting a request property on the connection would cause such an exception.  Is anyone else having the same problem?  Can someone tell me if that is a bug on my end and what I need to do to get around it?  Ideally I would not have to keep my own renegade copy of WebService.java in my src.</span>

							<!-- Attachments -->
						</td>
					</tr>

		
					<tr> 
						<td class="row1" valign="bottom" nowrap="nowrap" height="28" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/gforum/user/profile/1158.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB" class="icon_profile"><img src="/gforum/images/transp.gif" alt="" /></a>
		<a href="/gforum/pm/sendTo/1158.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB" class="icon_pm"><img src="/gforum/images/transp.gif" alt="" /></a>

		
		
		
		
	</td>

</tr>
</table>						</td>
					</tr>
		
					<tr>
						<td class="spacerow" colspan="2" height="1"><img src="/gforum/templates/default/images/spacer.gif" alt="" width="1" height="1" /></td>
					</tr>
				<!-- END OF POST LISTING -->
			
				<tr align="center">
					<td class="catbottom" colspan="2" height="28">
						<table cellspacing="0" cellpadding="0" border="0">
							<tr>
								<td align="center"><span class="gensmall">&nbsp;</span></td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		
			<table cellspacing="2" cellpadding="2" width="100%" align="center" border="0">
				<tr>
					<td width="8%" align="left" valign="bottom" nowrap="nowrap">
							<a href="/gforum/posts/reply/0/1057.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB" rel="nofollow" class="icon_reply nav"><img src="/gforum/images/transp.gif" alt="" /></a>
					</td>
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						<a class="nav" href="/gforum/forums/list.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB">Forum Index </a> 
            			-&gt; <a class="nav" href="/gforum/forums/show/4.page;jsessionid=E75C7739BA5184C801CDDFF05C9D67BB">General </a>
						</span>
					</td>

					<td valign="middle" align="right"></td>
				</tr>
				
				<tr>
					<td colspan="3"><img src="/gforum/templates/default/images/spacer.gif" alt="" width="1" height="1" /></td>
				</tr>


				
			</table>

			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>
					<td align="left">
					</td>
					<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<span class="gensmall">Go to:&nbsp;</span>
					<select onchange="if(this.options[this.selectedIndex].value != -1){ document.location = '/gforum/forums/show/'+ this.options[this.selectedIndex].value +'.page'; }" name="select">
						<option value="-1" selected="selected">Select a forum</option>				
						
							<option value="-1">&nbsp;</option>
							<option value="-1">Forum in English</option>
							<option value="-1">-------------</option>
							
								<option value="4">General</option>
								<option value="9">Administrative Divisions</option>
								<option value="6">FAQ - frequently asked questions</option>
								<option value="7">Postal Codes</option>
								<option value="8">Discussion of GeoNames Toponyms</option>
							<option value="-1">&nbsp;</option>
							<option value="-1">Forum in other language</option>
							<option value="-1">-------------</option>
							
								<option value="3">Forum in Deutsch</option>
					</select>
					&nbsp;
					<input class="liteoption" type="button" value="Go" onclick="if(document.f.select.options[document.f.select.selectedIndex].value != -1){ document.location = '/gforum/forums/show/'+ document.f.select.options[document.f.select.selectedIndex].value +'.page'; }" />
				</form>
			</td>
		</tr>
	</table>
</td>
				</tr>
			</table>
		</td>
	</tr>
</table>
<a name="quick"></a>

</td>
</tr>
	<tr>
		<td align="center">
			
		</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by <a class="copyright" href="http://www.jforum.net/" target="_blank">JForum 2.1.5 </a>&copy; <a class="copyright" href="http://www.jforum.net/team.jsp" target="_blank">JForum Team</a></span>
		</td>
	</tr>
</table>


<br><br><br>

<div id="pageFooter">
info@geonames.org  <img src="http://www.geonames.org/img/smallant.gif" alt="ant" align="middle" hspace="40" border="0">
<p>
<a href="http://www.geonames.org/">GeoNames Home</a>
<span class=separator>&#149;</span>
<a href="http://www.geonames.org/postal-codes/">Postal Codes</a>
<span class=separator>&#149;</span>
<a href="http://www.geonames.org/export/">Download / Webservice</a>
<span class=separator>&#149;</span>

<a href="http://forum.geonames.org">Forum</a>
<span class=separator>&#149;</span>
<a href="http://www.geonames.org/about.html">About</a>
</div>


<iframe src="/gforum/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>
