<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
            <link rel="canonical" href="http://java.dzone.com/articles/javanetprotocolexception">
    
    <!-- Start of DART Code -->
    <script type='text/javascript'>
	// This is a bad little hack for things that execute reliance on Drupals JS before its been fully loaded
	var Drupal = Drupal || { 'settings': {}, 'behaviors': {}, 'themes': {}, 'locale': {} };
	Drupal.behaviors = Drupal.behaviors || {};
        (function() {
            var useSSL = 'https:' == document.location.protocol;
            var src = (useSSL ? 'https:' : 'http:') +
                '//www.googletagservices.com/tag/js/gpt.js';
            document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
        })();
        </script>

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.perfectaudience.com/serve/514a05817a82440002000406.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

    <script type='text/javascript'>
        googletag.defineSlot('/2916070/zones_bottomblurb_650x122', [650, 122], 'div-gpt-ad-1350569504085-0').addService(googletag.pubads());
        googletag.defineSlot('/2916070/zones_masthead_728x90_default', [728, 90], 'div-gpt-ad-1350569504085-1').addService(googletag.pubads());
        googletag.defineSlot('/2916070/zones_sidebar_336x280_default', [300, 250], 'div-gpt-ad-1350569504085-2').addService(googletag.pubads());
        googletag.defineSlot('/2916070/zones_superboard_980x200', [980, 280], 'div-gpt-ad-1350569504085-3').addService(googletag.pubads());
        googletag.defineSlot('/2916070/zones_textad_239x90', [239, 90], 'div-gpt-ad-1350569504085-40').addService(googletag.pubads());
        googletag.defineSlot('/2916070/zones_textad_239x90', [239, 90], 'div-gpt-ad-1350569504085-41').addService(googletag.pubads());
        googletag.defineSlot('/2916070/zones_textad_239x90', [239, 90], 'div-gpt-ad-1350569504085-42').addService(googletag.pubads());
        googletag.defineSlot('/2916070/zones_textad_800x20', [800, 20], 'div-gpt-ad-1350569504085-5').addService(googletag.pubads());
        googletag.defineSlot('/2916070/zones_topblurb_650x61', [650, 61], 'div-gpt-ad-1350569504085-6').addService(googletag.pubads());
        googletag.pubads().enableSyncRendering();
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
        googletag.pubads().setTargeting("tag", "38541-devops");
    </script>
    <!-- End of DART Code -->


    <!-- Start of Woopra Code -->
    <script type="text/javascript">
        function woopraReady(tracker) {
            tracker.setDomain('dzone.com');
            tracker.setIdleTimeout(300000);

            
            tracker.trackPageview({
                url: window.location.pathname + window.location.search,
                title: document.title,
                                    author: 'markhneedham',
                                zone:'Javalobby',
                microzone:'1'
            });

            return false;
        }
        (function() {
            var wsc = document.createElement('script');
            wsc.src = document.location.protocol+'//static.woopra.com/js/woopra.js';
            wsc.type = 'text/javascript';
            wsc.async = true;
            var ssc = document.getElementsByTagName('script')[0];
            ssc.parentNode.insertBefore(wsc, ssc);
        })();
    </script>
    <!-- End of Woopra Code -->

    <!-- Use this code block to activate a prestitial if there's one to load -->
    <!-- BEGIN ADVERTPRO ADVANCED CODE BLOCK -->

    <SCRIPT language="JavaScript" type="text/javascript">
        <!--
        document.write('<SCR'+'IPT src="http://avpa.dzone.com/servlet/view/dynamic/javascript/zone?zid=159&pid=0&random='+Math.floor(89999999*Math.random()+10000000)+'&millis='+new Date().getTime()+'" language="JavaScript" type="text/javascript"></SCR'+'IPT>');
        //-->
    </SCRIPT>

    <!-- END ADVERTPRO ADVANCED CODE BLOCK -->

            <title>java.net.ProtocolException: Server Redirected Too Many Times | Javalobby</title>
    
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="alternate" type="application/rss+xml" title="Comments for &quot;java.net.ProtocolException: Server Redirected Too Many Times&quot;" href="/crss/node/149893" />

<link rel="shortcut icon" href="/misc/favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="//cdn.optimizely.com/js/16518638.js"></script>
            <link rel="alternate" type="application/rss+xml" title="Javalobby RSS" href="http://feeds.dzone.com/javalobby/frontpage" />
                <link type="text/css" rel="stylesheet" media="all" href="http://cdn.dzone.com/sites/all/files/css/css_f0e92dd4f4c2caa739ba8a7407040b0c.css" />
<link type="text/css" rel="stylesheet" media="print" href="http://cdn.dzone.com/sites/all/files/css/css_65d637aa7eddfbf57e33f4da826e30ad.css" />
                <META NAME="Description" CONTENT="
A couple of weeks ago I was trying to write a test around some OAuth code that we have on an internal application and I was using Jersey Client to send the...">
            
        <meta name="google-site-verification" content="Sz_0y6oSgz3X38lir7pEv1Iio3tqLItTgPdyYPuQPsk" />
    
    <!-- RSS link -->
    
        <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-410289-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>                        <script type="text/javascript">
                _gaq.push(['_trackEvent', 'acoin\'s Pageviews', 'Reprint', 'java.net.ProtocolException: Server Redirected Too Many Times']);
                <!--                pageTracker._trackEvent('--><!--\'s Pageviews', '--><!--', "--><!--");-->
            </script>
                        

</head>
<body class="sidebar-right">

<div id="page_wrapper">


<div class="global_menu">
    <div class = "menu_wrapper">
        <div id = 'menu_login'>
                        <a href = "/user">LOG IN</a> or <a href = "/user/register?clean=true">JOIN</a>
                    </div>
                <ul class="nice-menu nice-menu-down" id="nice-menu-1"><li id="menu-211" class="menu-path-www.dzone.com"><a href="http://www.dzone.com" title="">Home</a></li>
<li id="menu-167" class="menu-path-refcardz.dzone.com-"><a href="http://refcardz.dzone.com/">Refcardz</a></li>
<li id="menu-4979" class="menuparent menu-path-www.dzone.com-mz"><a href="http://www.dzone.com/mz" title="">Microzones</a><ul><li id="menu-5713" class="menu-path-dzone.com-mz-agile"><a href="http://dzone.com/mz/agile" title="">Agile Zone</a></li>
<li id="menu-5029" class="menu-path-domain-cloud.dzone.com"><a href="/domain/cloud.dzone.com" title="Go to cloud.dzone.com">Cloud Zone</a></li>
<li id="menu-5613" class="menu-path-dzone.com-mz-big-data"><a href="http://dzone.com/mz/big-data" title="">Big Data/BI Zone</a></li>
<li id="menu-5081" class="menu-path-dzone.com-mz-devops"><a href="http://dzone.com/mz/devops" title="">DevOps Zone</a></li>
<li id="menu-5451" class="menu-path-dzone.com-mz-enterprise-integration"><a href="http://dzone.com/mz/enterprise-integration" title="">Enterprise Integration</a></li>
<li id="menu-5187" class="menu-path-dzone.com-mz-html5"><a href="http://dzone.com/mz/html5" title="">HTML5 Zone</a></li>
<li id="menu-4987" class="menu-path-dzone.com-mz-mobile"><a href="http://dzone.com/mz/mobile" title="">Mobile Zone</a></li>
<li id="menu-5293" class="menu-path-dzone.com-mz-dotnet"><a href="http://dzone.com/mz/dotnet" title="">.NET Zone</a></li>
<li id="menu-5221" class="menu-path-dzone.com-mz-nosql"><a href="http://dzone.com/mz/nosql" title="">NoSQL Zone</a></li>
<li id="menu-5607" class="menu-path-dzone.com-mz-performance"><a href="http://dzone.com/mz/performance" title="">Performance Zone</a></li>
<li id="menu-5721" class="menu-path-dzone.com-mz-social-business"><a href="http://dzone.com/mz/social-business" title="">Social Business</a></li>
<li id="menu-5723" class="menu-path-dzone.com-mz-tech-marketing"><a href="http://dzone.com/mz/tech-marketing" title="">Tech Marketing</a></li>
<li id="menu-5725" class="menu-path-www.dzone.com-mz-sdn"><a href="http://www.dzone.com/mz/sdn" title="">SDN Focus</a></li>
</ul>
</li>
<li id="menu-125" class="menuparent menu-path-domain"><a href="/domain">Zones</a><ul><li id="menu-426" class="menu-path-domain-java.dzone.com"><a href="/domain/java.dzone.com" title="Go to java.dzone.com">Javalobby</a></li>
<li id="menu-454" class="menu-path-domain-css.dzone.com"><a href="/domain/css.dzone.com" title="Go to css.dzone.com">Web Builder Zone</a></li>
<li id="menu-4991" class="menuparent menu-path-front"><a href="/" title="">IDEs and Tools</a><ul><li id="menu-413" class="menu-path-domain-eclipse.dzone.com"><a href="/domain/eclipse.dzone.com" title="Go to eclipse.dzone.com">Eclipse Zone</a></li>
<li id="menu-317" class="menu-path-domain-jetbrains.dzone.com"><a href="/domain/jetbrains.dzone.com" title="Go to jetbrains.dzone.com">JetBrains Zone</a></li>
<li id="menu-431" class="menu-path-domain-netbeans.dzone.com"><a href="/domain/netbeans.dzone.com" title="Go to netbeans.dzone.com">NetBeans Zone</a></li>
</ul>
</li>
<li id="menu-4999" class="menuparent menu-path-front"><a href="/" title="">Languages</a><ul><li id="menu-5295" class="menu-path-php.dzone.com"><a href="http://php.dzone.com" title="Go to php.dzone.com">PHP Zone</a></li>
<li id="menu-5001" class="menu-path-groovy.dzone.com"><a href="http://groovy.dzone.com" title="">Groovy Zone</a></li>
<li id="menu-5003" class="menu-path-python.dzone.com"><a href="http://python.dzone.com" title="">Python Zone</a></li>
<li id="menu-5457" class="menu-path-ruby.dzone.com"><a href="http://ruby.dzone.com" title="">Ruby Zone</a></li>
</ul>
</li>
<li id="menu-189" class="menu-path-domain-architects.dzone.com"><a href="/domain/architects.dzone.com" title="Go to architects.dzone.com">Architects Zone</a></li>
<li id="menu-400" class="menu-path-domain-books.dzone.com"><a href="/domain/books.dzone.com" title="Go to books.dzone.com">Book Zone</a></li>
<li id="menu-287" class="menu-path-domain-server.dzone.com"><a href="/domain/server.dzone.com">Server Zone</a></li>
</ul>
</li>
<li id="menu-367" class="menu-path-library.dzone.com"><a href="http://library.dzone.com">Library</a></li>
<li id="menu-1349" class="menu-path-dzone.com-snippets-"><a href="http://dzone.com/snippets/" title="">Snippets</a></li>
<li id="menu-5617" class="menu-path-www.dzone.com-tutorials-"><a href="http://www.dzone.com/tutorials/" title="">Tutorials</a></li>
</ul>
        <div id="search_bar">
            <form action="/search/google"  accept-charset="UTF-8" method="get" id="google-cse-searchbox-form">
<div><input type="hidden" name="cx" id="edit-cx" value="010821965829155306098:ogyaz_5nsc8"  />
<input type="hidden" name="cof" id="edit-cof" value="FORID:11"  />
<div class="form-item" id="edit-query-wrapper">
 <input type="text" maxlength="128" name="query" id="edit-query" size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-sa" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-e95c51b054b73776b91d42203daa69b4" value="form-e95c51b054b73776b91d42203daa69b4"  />
<input type="hidden" name="form_id" id="edit-google-cse-searchbox-form" value="google_cse_searchbox_form"  />

</div></form>
        </div>
    </div>
</div>

    


<div class = "siteHeader">
</div>


<div id="header-region" class="clear-block">
</div>

<div id="wrapper" class="fewerAds">
<div id="container" class="clear-block">
<div id="header">
    <div id="masthead">

        <div id="site_id">
                        <a href="http://www.dzone.com/mz/devops" title="DZone: Your Personal Tech Universe"><img class="dz_logo"
                                                                                                   src="/sites/all/themes/dzone2012/images/mh_dzone_logo.png"
                                                                                                   alt="DZone: Your Personal Tech Universe" title="DZone: Your Personal Tech Universe" /></a>
                            <!--                    <div class="site_name" style="margin-top:16px;"><a  href="--><!--" title="--><!--">--><!--</a></div>-->
                <!--                    <a href="--><!--" title="--><!--"><img class="site_logo" src="http://cdn.dzone.com/--><!--"-->
                <!--                         alt="--><!--" title="--><!--" /></a>-->
                            <!--                <span class="site_slogan">--><!--</span>-->
                    </div>

        
                <div class="mh_leader">
            <div class="leaderboard">
                <!-- BEGIN DART CODE BLOCK -->
                        <!-- zones_textad_239x90 -->
                    <!--<div id='div-gpt-ad-1350569504085-4' class="top-textad">
                        <script type='text/javascript'>
                            googletag.display('div-gpt-ad-1350569504085-40');
                        </script>
                    </div>
                    <div id='div-gpt-ad-1333726564216-41' class="top-textad">
                        <script type='text/javascript'>
                            googletag.display('div-gpt-ad-1350569504085-41');
                        </script>
                    </div>
                    <div id='div-gpt-ad-1333726564216-42' class="top-textad">
                        <script type='text/javascript'>
                            googletag.display('div-gpt-ad-1350569504085-42');
                        </script>
                    </div>-->
                <div id='div-gpt-ad-1350569504085-1'>
                    <script type='text/javascript'>
                        googletag.display('div-gpt-ad-1350569504085-1');
                    </script>
                </div>
                <!-- END DART CODE BLOCK -->
            </div>
        </div>
        
    </div>
</div>


<div id="siteBar">
            <div class="site_name"><a  href="http://www.dzone.com/mz/devops"  title="DevOps Zone">DevOps Zone</a></div>
    <div class = "textads">
        <!-- zones_textad_800x20 -->
        <div id='div-gpt-ad-1350569504085-5' style='width:800px; height:20px;'>
            <script type='text/javascript'>
                googletag.display('div-gpt-ad-1350569504085-5');
            </script>
        </div>
    </div>
    </div>

<!--    <div class="topics-trending fancyfont">-->
<!--    --><!--    </div>-->

    
<div id="superboard">
    <span class="superboard_sponsor_info">DevOps Zone is brought to you in partnership with:</span>    <!-- zones_superboard_980x200 -->
    <div id='div-gpt-ad-1350569504085-3' style='width:980px;'>
        <script type='text/javascript'>
            googletag.display('div-gpt-ad-1350569504085-3');
        </script>
    </div>
    <!-- End DART Code-->
</div>
    


<!-- end of header -->
<div id="center" class=""><div id="squeeze">
    <div id="article">         <!-- Snippets Message Header -->
                <div style="clear:both;"></div>
                                                                        
            <!--Author Block-->
                            <div class="meta">

                    
                                        <div class="submitted">
                        <div id="author">
                            <a href="/users/markhneedham"><img src="/sites/all/files/avatars/picture-387289.jpg" style="width:43px; float:left; margin-right: 10px;"></a>
                                                        <a href = "http://www.dzone.com/page/mvbs" onClick= "_gaq.push(['_trackEvent', 'MVB Badge', 'markhneedham']);"><img src = "/sites/all/themes/dzone2012/images/mvb_badge.png" style="vertical-align:bottom;"></a>
                                                        <a href="/users/markhneedham"><b id="authorname">Mark Needham</b> </a>
                            <ul class="authorMetaData">
                                                                <li><span>Bio</span></li>
                                                                                                <li><a href="http://www.markhneedham.com/blog">Website</a></li>
                                                                                                <li><a href="https://twitter.com/markhneedham" class="author-twitter-button">@markhneedham</a></li>
                                                                                                                                                                <li class="author-linkedin">
                                    <a href = "http://www.linkedin.com/in/markhneedham" onClick= "_gaq.push(['_trackEvent', 'Social Button Click', 'Author LinkedIn', 'markhneedham']);"><img src = "/sites/all/themes/dzone2012/images/linkedin_icon.png" width="20"></a>
                                </li>
                                                                                                <li class="author-github">
                                    <a href = "http://www.github.com/mneedham" onClick= "_gaq.push(['_trackEvent', 'Social Button Click', 'Author GitHub', 'markhneedham']);"><img src = "/sites/all/themes/dzone2012/images/github_icon.png" width="20"></a>
                                </li>
                                                            </ul>

                        </div>

                    </div><div style="clear:both;"></div>
                    
                                        <div  id="author_block" style=" padding: 5px; padding-right: 10px; margin-top: 7px; margin-bottom:10px;">
                        <!--                                 -->                        <p style="padding-left: 80px; padding-top: 0; margin-top: 0;">
                            Mark Needham is a software developer and consultant at ThoughtWorks. I have a keen interest in developer testing and object oriented design of systems. Mark is a DZone MVB and is not an employee of DZone and has posted 463 posts at DZone. You can read more from them at <a href="http://www.markhneedham.com/blog">their website.</a><a href='/users/markhneedham'> View Full User Profile</a></p></div>
                                    </div>
                            <!--End Author Block-->

                        <div id="articleHead">
                <!-- Print Breadcrumb for Tutorials -->
                                <h1>java.net.ProtocolException: Server Redirected Too Many Times</h1>            </div>
                            <div class="under_the_title">
                    <div id="date">08.21.2013                    </div>
                    <span style="margin:0 8px;color:#ddd;">|</span>
                    <span style="padding: 5px; vertical-align: middle; font-size:14px;">
                        3822 views                    </span>
                    <span style="margin:0 8px;color:#ddd;">|</span>

                    <!-- AddThis Button BEGIN -->
<!--                    <a href="/forward?path=node/--><!--" style="vertical-align: middle;"><img style="margin: 8px 5px 0 5px; vertical-align: top;" width="20" height="20" src="http://cdn.dzone.com/links/themes/reader/images/actions/email-32x32.png" border="0"> Email</a>-->
                    <div class="addthis_toolbox addthis_default_style " style="display:inline-block; vertical-align:middle;margin-top:8px;">
                        <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
                        <a class="addthis_button_tweet"></a>
                        <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
                        <script src="//platform.linkedin.com/in.js" type="text/javascript"></script>
                        <script type="IN/Share" data-counter="right"></script>
                    </div>
                    <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=xa-4f34528f655fc4f0"></script>
                </div>

                <!-- AddThis Button END -->
                                                    <div id="articleText" class="articleReset">
                        
            <ul id="sharebar" style="background:#FFFFFF;border-color:#CCCCCC;margin-top:0px;width: 78px; float: left; margin-right:10px;"><li><script type="text/javascript">var dzone_url = 'http://java.dzone.com/articles/javanetprotocolexception';</script>
<script type="text/javascript">var dzone_title = 'java.net.ProtocolException: Server Redirected Too Many Times';</script>
<script language="javascript" src="http://widgets.dzone.com/links/widgets/zoneit.js"></script></li><li><a href="http://twitter.com/share" class="twitter-share-button" data-count="vertical" data-url="http://java.dzone.com/articles/javanetprotocolexception" data-text="java.net.ProtocolException: Server Redirected Too Many Times" data-via="dzone">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></li><li><!-- Place this tag where you want the +1 button to render -->
<g:plusone size="tall" href="http://java.dzone.com/articles/javanetprotocolexception"></g:plusone>

<!-- Place this render call where appropriate -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script></li><li><iframe src="http://www.facebook.com/plugins/like.php?href=http://java.dzone.com/articles/javanetprotocolexception&amp;send=false&amp;layout=box_count&amp;width=100&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=60"scrolling="no" frameborder="0" style="border:none; width:58px; height:62px;" allowTransparency="true"></iframe></li><li><script src="http://platform.linkedin.com/in.js" type="text/javascript"></script>
<script type="IN/Share" data-counter="top"></script></li><li><script src="http://www.stumbleupon.com/hostedbadge.php?s=5"></script></li><li><a href="http://www.reddit.com/r/programming/submit" onclick="window.location = 'http://www.reddit.com/r/programming/submit?url=' + encodeURIComponent(window.location); return false"> <img src="http://www.reddit.com/static/spreddit7.gif" alt="submit to reddit" border="0" / width="64"> </a></li></ul>

<div id="node-149893" class="node node-page node-article" >



            <div class="microzoneShortDescription">
            <!-- zones_topblurb_650x61 -->
            <div id='div-gpt-ad-1350569504085-6' style='width:650px;'>
                <script type='text/javascript'>
                    googletag.display('div-gpt-ad-1350569504085-6');
                </script>
            </div>
        </div>
    
  <div class="content" style="margin-bottom: 5px;">      		<div class="related_library_content" style="float: right;"><h3>Related MicroZone Resources</h3><h4 style="background: url(/sites/all/modules/dzone/dzone_library/icons/page_external.png) no-repeat 0 0;" class=""><a href="http://txt.couchware.com/medias/jump?hid=3025&cid=497&mid=1133">1K FREE Pre-Built Configs</a></h4><h4 style="background: url(/sites/all/modules/dzone/dzone_library/icons/page_external.png) no-repeat 0 0;" class=""><a href="http://txt.couchware.com/medias/jump?hid=2257&cid=399&mid=589">How Mashable Delivers a Quality UX</a></h4><h4 style="background: url(/sites/all/modules/dzone/dzone_library/icons/page_external.png) no-repeat 0 0;" class=""><a href="http://txt.couchware.com/medias/jump?hid=3141&cid=497&mid=1249">Free Ebook: Continuous Delivery â€” What It Is and How to Get Started</a></h4><h4 style="background: url(/sites/all/modules/dzone/dzone_library/icons/page_external.png) no-repeat 0 0;" class=""><a href="http://txt.couchware.com/medias/jump?hid=2259&cid=399&mid=591">So You Think You Know Which Browser is The Fastest?</a></h4><h4 style="background: url(/sites/all/modules/dzone/dzone_library/icons/page_external.png) no-repeat 0 0;" class=""><a href="http://library.dzone.com/assets/request/whitepaper/55909">"AppOps": Power to the Devs!</a></h4>    <p style="font-size: 10px; color: #999; margin-bottom: 0; padding-bottom: 0;">Like this piece?  Share it with your friends:</p>
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style">
    <a class="addthis_button_facebook"></a>
    <a class="addthis_button_twitter"></a>
    <a class="addthis_button_linkedin"></a>
    <a class="addthis_button_google"></a>
    <a class="addthis_button_stumbleupon"></a>
    <a class="addthis_button_email"></a>
    <span class="addthis_separator">|</span>
    <a href="http://addthis.com/bookmark.php?v=250&amp;username=dzone1" class="addthis_button_expanded">More</a>
    </div>
    <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=dzone1"></script>
    <!-- AddThis Button END --></div>		<span class='print-link'></span><p>A couple of weeks ago I was trying to write a test around some OAuth code that we have on an internal application and I was using <a href="https://jersey.java.net/documentation/latest/user-guide.html#client">Jersey Client</a> to send the various requests.</p>

<p>I initially started with the following code:</p><pre class="sql">Client = Client.create();
ClientResponse response = client.resource( "http://localhost:59680" ).get( ClientResponse.class );</pre><p>But when I ran the test I was getting the following exception:</p><pre class="shell">com.sun.jersey.api.client.ClientHandlerException: java.net.ProtocolException: Server redirected too many  times (20)
	at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:151)
	at com.sun.jersey.api.client.Client.handle(Client.java:648)
	at com.sun.jersey.api.client.WebResource.handle(WebResource.java:680)
	at com.sun.jersey.api.client.WebResource.get(WebResource.java:191)
	at com.neotechnology.testlab.manager.webapp.AuthenticationIntegrationTest.shouldRedirectToGitHubForAuthentication(AuthenticationIntegrationTest.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at com.neotechnology.kirkaldy.testing.Resources$1.evaluate(Resources.java:84)
	at com.neotechnology.kirkaldy.testing.FailureOutput$2.evaluate(FailureOutput.java:37)
	at org.junit.rules.RunRules.evaluate(RunRules.java:18)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:157)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)
Caused by: java.net.ProtocolException: Server redirected too many  times (20)
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1446)
	at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:379)
	at com.sun.jersey.client.urlconnection.URLConnectionClientHandler._invoke(URLConnectionClientHandler.java:249)
	at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:149)
	... 28 more</pre><p>If we check the traffic going across port 59680 we can see whatâ€™s going wrong:</p><pre class="java">$ sudo ngrep -d lo0 port 59680
interface: lo0 (127.0.0.0/255.0.0.0)
filter: (ip) and ( port 59680 )
#####
T 127.0.0.1:59704 -&gt; 127.0.0.1:59680 [AP]
  GET / HTTP/1.1..User-Agent: Java/1.6.0_45..Host: localhost:59680..Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2..Connection: keep-alive....
##
T 127.0.0.1:59680 -&gt; 127.0.0.1:59704 [AP]
  HTTP/1.1 302 Found..Set-Cookie: JSESSIONID=mdyw3a4fmqc1b6p53birm4dd;Path=/..Expires: Thu, 01 Jan 1970 00:00:00 GMT..Location: http://localhost:59679/authorize?client_id=basic-client&amp;state=the-state&amp;scope=user%2Crepo..Content-Length
  : 0..Server: Jetty(8.1.8.v20121106)....
###########
T 127.0.0.1:59707 -&gt; 127.0.0.1:59680 [AP]
  GET /auth/callback?code=timey-wimey&amp;state=the-state HTTP/1.1..User-Agent: Java/1.6.0_45..Host: localhost:59680..Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2..Connection: keep-alive....
##
T 127.0.0.1:59680 -&gt; 127.0.0.1:59707 [AP]
  HTTP/1.1 302 Found..Cache-Control: no-cache..Set-Cookie: JSESSIONID=8gggez0ns9ftiex4314mbgz9;Path=/..Expires: Thu, 01 Jan 1970 00:00:00 GMT..Location: http://localhost:59680/..Content-Length: 0..Server: Jetty(8.1.8.v20121106)....
###########
T 127.0.0.1:59713 -&gt; 127.0.0.1:59680 [AP]
  GET / HTTP/1.1..User-Agent: Java/1.6.0_45..Host: localhost:59680..Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2..Connection: keep-alive....
##</pre><p>The response we receive includes a direction to the client to store a cookie but we can see on the next request that the cookie hasnâ€™t been included.</p>

<p>I came across <a href="http://stackoverflow.com/questions/6713893/jersey-client-adding-cookies-to-request">this post, which had a few suggestions on how to get around the problem</a>, but the only approach that worked for me was to use <i>jersey-apache-client</i> for which I added the following dependency:</p><pre class="xml">&lt;dependency&gt;
  &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;
  &lt;artifactId&gt;jersey-apache-client&lt;/artifactId&gt;
  &lt;version&gt;1.13&lt;/version&gt;
  &lt;type&gt;jar&lt;/type&gt;
&lt;/dependency&gt;</pre><p>I then change my client code to read like this:</p><pre class="shell">ApacheHttpClientConfig config = new DefaultApacheHttpClientConfig();
config.getProperties().put(ApacheHttpClientConfig.PROPERTY_HANDLE_COOKIES, true);
ApacheHttpClient client = ApacheHttpClient.create( config );
client.setFollowRedirects(true);
client.getClientHandler().getHttpClient().getParams().setBooleanParameter( HttpClientParams.ALLOW_CIRCULAR_REDIRECTS, true );
ClientResponse response = client.resource( "http://localhost:59680" ).get( ClientResponse.class );</pre><p>If we run that and watch the output using ngrep we can see that it now handles cookies correctly:</p><pre class="sql">$ sudo ngrep -d lo0 port 59680
Password:
interface: lo0 (127.0.0.0/255.0.0.0)
filter: (ip) and ( port 59680 )
	#####
T 127.0.0.1:60372 -&gt; 127.0.0.1:59680 [AP]
  GET / HTTP/1.1..User-Agent: Jakarta Commons-HttpClient/3.1..Host: localhost:59680....
##
T 127.0.0.1:59680 -&gt; 127.0.0.1:60372 [AP]
  HTTP/1.1 302 Found..Set-Cookie: JSESSIONID=vn8zzf9ep3x4mtw66ydm0n6a;Path=/..Expires: Thu, 01 Jan 1970 00:00:00 GMT..Location: <a href="http://localhost:60322/authorize?client_id=basic-client&amp;state=the-state&amp;scope=user%2Crepo..Content-Length">http://localhost:60322/authorize?client_id=basic-client&amp;state=the-state&amp;scope=user%2Crepo..Content-Length</a>
  : 0..Server: Jetty(8.1.8.v20121106)....
##
T 127.0.0.1:60372 -&gt; 127.0.0.1:59680 [AP]
  GET /auth/callback?code=timey-wimey&amp;state=the-state HTTP/1.1..User-Agent: Jakarta Commons-HttpClient/3.1..Host: localhost:59680..Cookie: $Version=0; JSESSIONID=vn8zzf9ep3x4mtw66ydm0n6a; $Path=/....
##
T 127.0.0.1:59680 -&gt; 127.0.0.1:60372 [AP]
  HTTP/1.1 302 Found..Cache-Control: no-cache..Location: <a href="http://localhost:59680/..Content-Length:">http://localhost:59680/..Content-Length:</a> 0..Server: Jetty(8.1.8.v20121106)....
##
T 127.0.0.1:60372 -&gt; 127.0.0.1:59680 [AP]
  GET / HTTP/1.1..User-Agent: Jakarta Commons-HttpClient/3.1..Host: localhost:59680..Cookie: $Version=0; JSESSIONID=vn8zzf9ep3x4mtw66ydm0n6a; $Path=/....
##
T 127.0.0.1:59680 -&gt; 127.0.0.1:60372 [AP]
  HTTP/1.1 200 OK..Vary: Accept-Encoding..Accept-Ranges: bytes..Content-Type: text/html..Content-Length: 2439..Last-Modified: Tue, 23 Jul 2013 10:48:15 GMT..Server: Jetty(8.1.8.v20121106)....&lt;!DOCTYPE html&gt;.&lt;html&gt;.&lt;head&gt;.  &lt;title&gt;Tes
  t Lab&lt;/title&gt;.  &lt;meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=0"/&gt;.  &lt;link rel="stylesheet" type="text/css" href="css/bootstrap.css"&gt;.  &lt;link rel="stylesheet" type="text/css" hr
  ef="css/bootstrap-responsive.css"&gt;.  &lt;link rel="stylesheet" type="text/css" href="css/test-lab.css"&gt;.  &lt;link rel="icon" type="image/png" href="images/testlab-16.png"&gt;.  &lt;script src="js/require.js"&gt;&lt;/script&gt;.  &lt;script src="js/d3.v3.
  js" charset="UTF-8"&gt;&lt;/script&gt;.  &lt;script src="js/jquery-1.8.3.min.js"&gt;&lt;/script&gt;.  &lt;script src="js/bootstrap.js"&gt;&lt;/script&gt;.  &lt;script src="js/test-lab.js"&gt;&lt;/script&gt;.  &lt;script type="text/javascript" src="js/google-analytics.js"&gt;&lt;/scrip
  t&gt;.&lt;/head&gt;.&lt;body&gt;..&lt;a href="navbar.html" class="inline-replacement"&gt;&lt;/a&gt;..&lt;div class="container"&gt;..  &lt;h1 class="title"&gt;Neo Technology Test Lab&lt;/h1&gt;..  &lt;div class="dev-mode"&gt;Viewing dev-mode&lt;/div&gt;..  &lt;h2&gt;Benchmark Series Results&lt;/h2
  &gt;..  &lt;table id="benchmarkseries_list" class="table"&gt;.    &lt;thead&gt;&lt;/thead&gt;.    &lt;tbody&gt;&lt;/tbody&gt;.  &lt;/table&gt;..  &lt;a href="new-benchmark-series.html" class="btn load-modal"&gt;&lt;i class="icon-plus"&gt;&lt;/i&gt; Create Benchmark Series...&lt;/a&gt;..  &lt;h2&gt;T
  ests&lt;/h2&gt;..  &lt;table id="test_list" class="table"&gt;.    &lt;thead&gt;&lt;/thead&gt;.    &lt;tbody&gt;&lt;/tbody&gt;.  &lt;/table&gt;..  &lt;a href="run-test.html" class="btn load-modal"&gt;&lt;i class="icon-plus"&gt;&lt;/i&gt; Run Test...&lt;/a&gt;.  &lt;a href="run-benchmark.html" class="
  btn load-modal"&gt;&lt;i class="icon-plus"&gt;&lt;/i&gt; Run Benchmark...&lt;/a&gt;..  &lt;h2&gt;Clusters&lt;/h2&gt;..  &lt;table id="cluster_list" class="table"&gt;&lt;/table&gt;..  &lt;a href="new-database-cluster.html" class="btn load-modal"&gt;&lt;i class="icon-plus"&gt;&lt;/i&gt; New Data
  base Cluster...&lt;/a&gt;.  &lt;a href="new-load-generation-cluster.html" class="btn load-modal"&gt;&lt;i class="icon-plus"&gt;&lt;/i&gt; New Load Generation Cluster...&lt;/a&gt;..  &lt;h2&gt;Datasets&lt;/h2&gt;..  &lt;table id="dataset_list" class="table"&gt;.    &lt;thead&gt;&lt;/thead
  &gt;.    &lt;tbody&gt;&lt;/tbody&gt;.  &lt;/table&gt;..  &lt;a href="new-dataset.html" class="btn load-modal"&gt;&lt;i class="icon-plus"&gt;&lt;/i&gt; Create New Dataset...&lt;/a&gt;..  &lt;a href="confirm.html" class="inline-replacement"&gt;&lt;/a&gt;..&lt;/div&gt;..&lt;script type="text/javascr
  ipt"&gt;.  (function ().  {.    window.setInterval( function ().    {.      d3.json( "/public/authenticated", function ( status ).      {.        if ( !status.authenticated ).        {.          window.location.reload();.        }.
     } );.    }, 5000 );.    kirkaldy.initializeUI();.  })();.&lt;/script&gt;..&lt;/body&gt;.&lt;/html&gt;.</pre><p></p>	
	<div style="clear: both;"></div>

    </div>

<span class='acknowledgement'>Published at DZone with permission of <a href = '/users/markhneedham'>Mark Needham</a>, author and DZone MVB. (<a href=http://www.markhneedham.com/blog/2013/08/17/jersey-client-java-net-protocolexception-server-redirected-too-many-timessetting-cookies-on-request/ target='_blank'>source</a>)</span></span><br><p style="font-size: 11px; padding-left: 0px; color: #666;" class="disclaimer"><em>(Note: Opinions expressed in this article and its replies are the opinions of their respective authors and not those of DZone, Inc.)</em></p><div id="terms" class="tags-on-articles fancyfont">Tags: <ul class="links inline"><li class="taxonomy_term_4360 first"><a href="/category/dzone-taxonomy/java" rel="tag" title="">Java</a></li>
<li class="taxonomy_term_58297 last"><a href="/category/content-form/tips-and-tricks" rel="tag" title="">Tips and Tricks</a></li>
</ul></div>
            <!-- zones_bottomblurb_650x122 -->
            <div id='div-gpt-ad-1350569504085-0' style='width:650px;'>
            <script type='text/javascript'>
            googletag.display('div-gpt-ad-1350569504085-0');
            </script>
            </div></div></div>
    </div>
</div></div>
<!-- end of squeeze, center (main content) -->
        <div id="sidebar-right" class="sidebar">
        
        <style>


        </style>

    <div id="social-box">
        <div class="social-box-header">
            Connect with DZone
        </div>

        <div class="content-buttons-wrapper">
            <div class='content-buttons'>
                <div class="article-button">
                    <a href="/node/add"><i class="icon-file"></i>  Publish an Article</a>
                </div>

                <div class="tip-button">
                    <a href="mailto:newsdesk@dzone.com" ><i class="icon-envelope"></i> Share a Tip</a>
                </div>
            </div>
        </div>

        <div class="social-box-wrapper">
            <ul>
                <g:plus href="https://plus.google.com/+dzone" height="69" width="282"></g:plus>
                <li class="facebookbtn"><div class="fb-like" data-href="http://www.facebook.com/pages/DZone/259639764711" data-send="false" data-layout="button_count" data-width="285" data-show-faces="false" data-font="lucida grande"></div></li>
                <li class="twitterbtn"><a href="https://twitter.com/DZone" class="twitter-follow-button" data-show-count="true" data-show-screen-name="false">Follow @DZone</a></li>
                <li class="rssbtn">
                                            <a href="http://dzone.com/mz/devops/rss" onClick= "_gaq.push(['_trackEvent','Social Button Click', 'DZone RSS']);"><i class="icon-rss"></i></a>
                                    </li>
            </ul>

            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
            <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
        </div>
    </div>

    <div style="clear:both"></div>

    <ul class="dzone-social-buttons" style="display:none;">
            <li><a href="mailto:newsdesk@dzone.com" class="got_a_tip" onClick= "_gaq.push(['_trackEvent','Social Button Click', 'Tip Button']);">Got a story? Tell us!</a></li>
            <li>
                                 <a href="http://dzone.com/mz/devops/rss" class="dzone-social-rss" onClick= "_gaq.push(['_trackEvent','Social Button Click', 'DZone RSS']);"></a>
                            </li>
            <li><a href="https://plus.google.com/+dzone/posts" class="dzone-social-google"  onClick= "_gaq.push(['_trackEvent','Social Button Click', 'DZone Google+']);""></a></li>
            <li><a href="http://www.facebook.com/pages/DZone/259639764711" class="dzone-social-facebook"  onClick= "_gaq.push(['_trackEvent','Social Button Click', 'DZone Facebook']);""></a></li>
            <li><a href="https://twitter.com/#!/Dzone" class="dzone-social-twitter" onClick= "_gaq.push(['_trackEvent','Social Button Click', 'DZone Twitter']);""></a></li>
            <li><a href="http://www.linkedin.com/groups/DZone-696877" class="dzone-social-linkedin" onClick= "_gaq.push(['_trackEvent','Social Button Click', 'DZone LinkedIn']);""></a></li>
            <!--                  <li><a href="#" class="careers-button" onClick= "pageTracker._trackEvent('Social Button Click', 'Careers Button');">Careers</a></li>-->

        </ul>


        <!--        Popular Snippets Sidebar Box-->
        

        <div class="related_library_content2"><h3>Related MicroZone Resources</h3><h4 style="background: url(/sites/all/modules/dzone/dzone_library/icons/page_external.png) no-repeat 0 0;" class=""><a href="http://txt.couchware.com/medias/jump?hid=2259&cid=399&mid=591">So You Think You Know Which Browser is The Fastest?</a></h4><h4 style="background: url(/sites/all/modules/dzone/dzone_library/icons/page_external.png) no-repeat 0 0;" class=""><a href="http://txt.couchware.com/medias/jump?hid=3015&cid=497&mid=1123">A Practical Intro To Puppet and DevOps</a></h4><h4 style="background: url(/sites/all/modules/dzone/dzone_library/icons/page_external.png) no-repeat 0 0;" class=""><a href="http://txt.couchware.com/medias/jump?hid=3023&cid=497&mid=1131">Wield Puppet Like a Pro!</a></h4><h4 style="background: url(/sites/all/modules/dzone/dzone_library/icons/page_external.png) no-repeat 0 0;" class=""><a href="http://library.dzone.com/assets/request/whitepaper/55907">Pros and Cons of Cloud Performance Monitoring</a></h4><h4 style="background: url(/sites/all/modules/dzone/dzone_library/icons/page_external.png) no-repeat 0 0;" class=""><a href="http://txt.couchware.com/medias/jump?hid=3025&cid=497&mid=1133">1K FREE Pre-Built Configs</a></h4></div>
                    <div id="mh_rectangle">

                <!-- zones_sidebar_336x280_default -->
                <div id='div-gpt-ad-1350569504085-2' style='width:300px; height:250px;'>
                    <script type='text/javascript'>
                        googletag.display('div-gpt-ad-1350569504085-2');
                    </script>
                </div>
                <!-- End DART Ad -->

            </div>
            

        
        
                        <div id="block-block-5" class="block block-block">

  <div class="content">
    <div id="sidebar_features"><h2 class="header">Spotlight Features</h2>				
			      	  	<div >
	  		<a href="/click/157929/1" class="sidebar_image_link"><img src='/sites/all/files/preview-images/November/Screen%20Shot%202013-11-26%20at%202.01.56%20PM.png'></a>
	  		<h2><a href="/click/157929/1">Implementing the â€œCardâ€? UI Pattern in PhoneGap/HTML5 Applications</a></h2>
	  	</div>
                    	  	<div >
	  		<a href="/click/154287/1" class="sidebar_image_link"><img src='/sites/all/files/preview-images/October/CSS3Logo_406A9E5E.jpg'></a>
	  		<h2><a href="/click/154287/1">Refcard Expansion Pack: CSS3 Basics</a></h2>
	  	</div>
                    	  	<div >
	  		<a href="/click/155277/1" class="sidebar_image_link"><img src='/sites/all/files/preview-images/October/Screen%20Shot%202013-10-21%20at%203.31.38%20PM.png'></a>
	  		<h2><a href="/click/155277/1">New Checklist: Test-Driven Development (TDD)</a></h2>
	  	</div>
                    	  	<div >
	  		<a href="/click/154891/1" class="sidebar_image_link"><img src='/sites/all/files/preview-images/October/writersblock.jpg'></a>
	  		<h2><a href="/click/154891/1">The Blogging Programmer's Styleguide: Does Anyone Hyphenate "Open Source" or "Command Line" Anymore?</a></h2>
	  	</div>
              </div>  </div>
</div>
<div id="block-block-3" class="block block-block">

  <div class="content">
    <div id="popularlinks"><ul class="popularlist"><h2>Popular at DZone</h2><li><a href="http://www.dzone.com/links/the_future_of_gwt_2013_report.html"><span class ="popularlist-number popularlist-1">1:</span>The Future of GWT 2013 Report</a></li>
                <li><a href="http://www.dzone.com/links/migrating_a_java_application_from_heroku_to_opens.html"><span class ="popularlist-number popularlist-2">2:</span>Migrating a Java Application from Heroku to OpenShift</a></li>
                <li><a href="http://www.dzone.com/links/hibernate_facts_always_check_criteria_sql_queries.html"><span class ="popularlist-number popularlist-3">3:</span>Hibernate Facts: Always Check Criteria SQL Queries</a></li>
                <li><a href="http://www.dzone.com/links/java_in_real_examples_how_to_use_the_preparedstat.html"><span class ="popularlist-number popularlist-4">4:</span>Java in real examples, How to use the PreparedStatement class</a></li>
                <li><a href="http://www.dzone.com/links/5_facts_about_the_java_string.html"><span class ="popularlist-number popularlist-5">5:</span>5 Facts about the Java String</a></li>
                <li><a href="http://www.dzone.com/links/jboss_bpm_suite_examining_the_migrated_customer_e.html"><span class ="popularlist-number popularlist-6">6:</span>JBoss BPM Suite - examining the migrated Customer Evaluation demo</a></li>
                <li><a href="http://www.dzone.com/links/poorly_chosen_gc_flags_for_your_javajvm_applicati.html"><span class ="popularlist-number popularlist-7">7:</span>Poorly chosen GC flags for your Java/JVM application and what to do about them!</a></li>
                <a class="moredz" href="http://www.dzone.com">See more popular at DZone</a><br><a class="rss" href="http://feeds.dzone.com/dzone/frontpage">Subscribe to the RSS feed</a></ul></div>  </div>
</div>
            </div>
    <!-- end of right sidebar -->
            
<!-- Cache the footer block -->
<div id="footer"><span class="footer-header">Around the DZone Network</span><div class="large-topics-articles"><div class='featured-articles'><a href='http://architects.dzone.com' class='featured-domains' onClick= "_gaq.push(['_trackEvent','Zone Footer', 'Thumbnail Zone Link Header Click','Architects Zone']);">ARCHITECTS </span><a href ='http://architects.dzone.com/articles/big-data-beyond-mapreduce' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Thumbnail Click', '131457-Big Data Beyond MapReduce: Google's Big Data Papers']);"><div class='featured-image' style ='background-image:url(/sites/all/files/preview-images/February/photo_1.jpg);'></div><br>Big Data Beyond MapReduce: Google's Big Data Paper...</a></div><div class='featured-articles'><a href='http://java.dzone.com' class='featured-domains' onClick= "_gaq.push(['_trackEvent','Zone Footer', 'Thumbnail Zone Link Header Click','Javalobby']);">JAVALOBBY</span><a href ='http://java.dzone.com/articles/principles-java-application' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Thumbnail Click', '130051-The Principles of Java Application Performance Tuning']);"><div class='featured-image' style ='background-image:url(/sites/all/files/preview-images/February/java-logo-large.png);'></div><br>The Principles of Java Application Performance Tun...</a></div><div class='featured-articles'><a href='http://architects.dzone.com' class='featured-domains' onClick= "_gaq.push(['_trackEvent','Zone Footer', 'Thumbnail Zone Link Header Click','Architects Zone']);">ARCHITECTS </span><a href ='http://architects.dzone.com/articles/5-things-java-developer-should' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Thumbnail Click', '131541-5 Things a Java Developer Should Consider This Year']);"><div class='featured-image' style ='background-image:url(/sites/all/files/preview-images/February/Screen%20Shot%202013-02-18%20at%2011.41.12%20AM_4.png);'></div><br>5 Things a Java Developer Should Consider This Yea...</a></div><div class='featured-articles'><a href='http://java.dzone.com' class='featured-domains' onClick= "_gaq.push(['_trackEvent','Zone Footer', 'Thumbnail Zone Link Header Click','Javalobby']);">JAVALOBBY</span><a href ='http://java.dzone.com/articles/there-are-only-2-roles-code' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Thumbnail Click', '134077-There Are Only 2 Roles of Code']);"><div class='featured-image' style ='background-image:url(/sites/all/files/preview-images/March/Code_0.png);'></div><br>There Are Only 2 Roles of Code</a></div><div class='featured-articles'><a href='http://java.dzone.com' class='featured-domains' onClick= "_gaq.push(['_trackEvent','Zone Footer', 'Thumbnail Zone Link Header Click','Javalobby']);">JAVALOBBY</span><a href ='http://java.dzone.com/articles/singleton-design-pattern-â€“' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Thumbnail Click', '130325-Singleton Design Pattern â€“ An Introspection w/ Best Practices']);"><div class='featured-image' style ='background-image:url(/sites/all/files/preview-images/February/Design_Pattern_small_02.jpg);'></div><br>Singleton Design Pattern â€“ An Introspection w/ B...</a></div><div class='featured-articles last-item'><a href='http://server.dzone.com' class='featured-domains' onClick= "_gaq.push(['_trackEvent','Zone Footer', 'Thumbnail Zone Link Header Click','Server Zone']);">SERVER </span><a href ='http://server.dzone.com/articles/best-best-practices-ever' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Thumbnail Click', '130499-Best Best Practices Ever']);"><div class='featured-image' style ='background-image:url(/sites/all/files/preview-images/February/source%20code_3_2.jpg);'></div><br>Best Best Practices Ever</a></div></div><div class="hail_mary"><span class="block-title">You Might Also Like</span><ul class="footer-links"><li class='footer-links-item'><a href='http://server.dzone.com/articles/how-google-does-code-review' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158541-How Google Does Code Review']);">How Google Does Code Review</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/productive-programming-groovy' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '157597-Productive Programming in Groovy']);">Productive Programming in Groovy</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/githubâ€™s-10000-most-popular' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '157993-GitHubâ€™s 10,000 Most Popular Java Projects: Here are the Top Libraries They Use']);">GitHubâ€™s 10,000 Most Popular Java Projects: Here are the Top Libraries They Use</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/why-i-stopped-using-spring' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158629-Why I Stopped Using Spring']);">Why I Stopped Using Spring</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/eventually-consistent-data' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158463-On Eventually Consistent Data']);">On Eventually Consistent Data</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/when-source-code-comments' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158401-When Source Code Comments Indicate Trouble ']);">When Source Code Comments Indicate Trouble </a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/why-mongodb-haters-are-wrong' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158527-Why the MongoDB Haters are Wrong']);">Why the MongoDB Haters are Wrong</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/dev-week-german-viscuso' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158323-Dev of the Week: German Viscuso']);">Dev of the Week: German Viscuso</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/adding-java-8-lambda-goodness' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '157511-Adding Java 8 Lambda Goodness to JDBC']);">Adding Java 8 Lambda Goodness to JDBC</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/mongodb-facts-over-80000' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158327-MongoDB Facts: Over 80,000 Inserts/Second on Commodity Hardware']);">MongoDB Facts: Over 80,000 Inserts/Second on Commodity Hardware</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/what-programming-language' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158393-What Programming Language Should I Learn?']);">What Programming Language Should I Learn?</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/smartest-person-room-complex' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158821-The Smartest-Person-in-the-Room Complex']);">The Smartest-Person-in-the-Room Complex</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/dev-week-nikita-salnikov' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158797-Dev of the Week: Nikita Salnikov-Tarnovski']);">Dev of the Week: Nikita Salnikov-Tarnovski</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/guide-r-programming' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158443-A Guide to R Programming for Experienced Developers']);">A Guide to R Programming for Experienced Developers</a></li><li class='footer-links-item'><a href='http://server.dzone.com/articles/top-21-java-based-content' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Hail Mary', '158509-Top 21 Java-based Content Management Systems']);">Top 21 Java-based Content Management Systems</a></li></ul></div><div id="footer-articles"><div id="block-wrapper"><div id="left-block" class="footer-article-block"><span class="block-title">Popular on Snippets</span><ul><li><a href = '/news/spring-batch-hello-world-1' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Popular Current Zone Link Click', '3115-Spring Batch - Hello World']);">Spring Batch - Hello World</a></li><li><a href = '/news/hibernate-best-choice' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Popular Current Zone Link Click', '1127-Is Hibernate the best choice?']);">Is Hibernate the best choice?</a></li><li><a href = '/news/how-create-visual-applications' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Popular Current Zone Link Click', '556-How to Create Visual Applications in Java?']);">How to Create Visual Applications in Java?</a></li><li><a href = '/news/9-programming-languages-watch' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Popular Current Zone Link Click', '32711-9 Programming Languages To Watch In 2011']);">9 Programming Languages To Watch In 2011</a></li><li><a href = '/news/lucenes-fuzzyquery-100-times' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Popular Current Zone Link Click', '38535-Lucene's FuzzyQuery is 100 times faster in 4.0 ']);">Lucene's FuzzyQuery is 100 times faster in 4.0 </a></li><li><a href = '/news/introduction-oracles-adf-faces' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Popular Current Zone Link Click', '7455-Introduction to Oracle's ADF Faces Rich Client Framework']);">Introduction to Oracle's ADF Faces Rich Client Framework</a></li><li><a href = '/news/interview-john-de-goes-free-un' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Popular Current Zone Link Click', '3258-Interview: John De Goes Introduces a Newly Free Source Code Editor']);">Interview: John De Goes Introduces a Newly Free Source Code Editor</a></li><li><a href = '/news/killer-feature-opensolaris-200' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Popular Current Zone Link Click', '6228-Time Slider: OpenSolaris 2008.11 Killer Feature ']);">Time Slider: OpenSolaris 2008.11 Killer Feature </a></li></ul></div><div id="middle-block" class="footer-article-block"><span class="block-title">Latest Articles</span><ul><li><a href ='/articles/control-web-page-look-and-feel' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Latest Articles Link Click', '158093-Control a Web Page Look and Feel Flow/Logic with JSON']);">Control a Web Page Look and Feel Flow/Logic with JSON</a></li><li><a href ='/articles/global-day-code-retreat-2013' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Latest Articles Link Click', '159021-Global Day of Code Retreat 2013']);">Global Day of Code Retreat 2013</a></li><li><a href ='/articles/options-testing-android' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Latest Articles Link Click', '158967-Options for Testing Android Applications']);">Options for Testing Android Applications</a></li><li><a href ='/articles/webapp-makeover-spring-4-and' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Latest Articles Link Click', '158937-A Webapp Makeover with Spring 4 and Spring Boot']);">A Webapp Makeover with Spring 4 and Spring Boot</a></li><li><a href ='/articles/coddâ€™s-relational-vision-has' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Latest Articles Link Click', '158963-Coddâ€™s Relational Vision: Has NoSQL Come Full Circle?']);">Coddâ€™s Relational Vision: Has NoSQL Come Full Circle?</a></li><li><a href ='/articles/design-patterns-pattern-or' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Latest Articles Link Click', '158933-Design Patterns: Pattern or Anti-Pattern, That is the Question']);">Design Patterns: Pattern or Anti-Pattern, That is the Question</a></li><li><a href ='/articles/configuring-nuodb-database-geo' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Latest Articles Link Click', '158953-Configuring a NuoDB Database for Geo-Distributed Deployment']);">Configuring a NuoDB Database for Geo-Distributed Deployment</a></li><li><a href ='/articles/handling-big-data-hbase-part-1' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Latest Articles Link Click', '158951-Handling Big Data with HBase Part 1: Introduction']);">Handling Big Data with HBase Part 1: Introduction</a></li></ul></div></div></div><div id="right-block" class="footer-article-spotlight-block"><h2 class="block-title">Spotlight Resources</h2><div class="spotlight" style="margin-top: 5px; clear: both;"><div class='callout'><a href='http://refcardz.dzone.com/refcardz/couchbase-apis' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Spotlight Features Thumbnail Click', '176-Essential Couchbase APIs: Open Source NoSQL Data Access from Java, Ruby, and .NET']);"><img border='0' style='float: left;' src='/sites/all/modules/dzone/assets/refcardz/176/images/thumb.png'></a></div><h3 style='margin-left: 120px;'><a href='http://refcardz.dzone.com/refcardz/couchbase-apis'  onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Spotlight Features Title Click', '176-Essential Couchbase APIs: Open Source NoSQL Data Access from Java, Ruby, and .NET']);">Essential Couchbase APIs: Open Source NoSQL Data Access from Java, Ruby, and .NET</a></h3><div class="blurb" style="margin-left: 120px;"></div></div><div class="spotlight" style="margin-top: 5px; clear: both;"><div class='callout'><a href='http://refcardz.dzone.com/refcardz/dns' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Spotlight Features Thumbnail Click', '182-Practical DNS: Managing Domains for Safety, Reliability, and Speed']);"><img border='0' style='float: left;' src='/sites/all/modules/dzone/assets/refcardz/182/images/thumb.png'></a></div><h3 style='margin-left: 120px;'><a href='http://refcardz.dzone.com/refcardz/dns'  onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Spotlight Features Title Click', '182-Practical DNS: Managing Domains for Safety, Reliability, and Speed']);">Practical DNS: Managing Domains for Safety, Reliability, and Speed</a></h3><div class="blurb" style="margin-left: 120px;"></div></div><div class="spotlight" style="margin-top: 5px; clear: both;"><div class='callout'><a href='http://refcardz.dzone.com/refcardz/essential-camel-components' onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Spotlight Features Thumbnail Click', '170-Camel Essential Components']);"><img border='0' style='float: left;' src='/sites/all/modules/dzone/assets/refcardz/170/images/thumb.png'></a></div><h3 style='margin-left: 120px;'><a href='http://refcardz.dzone.com/refcardz/essential-camel-components'  onClick= "_gaq.push(['_trackEvent', 'Zone Footer', 'Spotlight Features Title Click', '170-Camel Essential Components']);">Camel Essential Components</a></h3><div class="blurb" style="margin-left: 120px;"><p>DZone's 170th Refcard is an essential reference to Camel, an open-source, lightweight, integration library.&nbsp; This Refcard is authored by...</div></div></div></div>
<!-- end of footer -->
</div>
<!-- end of container -->
</div>
<!-- end of wrapper -->

<div class="subfooter fancyfont">
    <div class="subfooter_center">
        <div class="subfooter_top">
            <div class="subfooter_logo">
            </div>
            <div class="subfooter_search">
                <form action="/search/google"  accept-charset="UTF-8" method="get" id="google-cse-searchbox-form-1">
<div><input type="hidden" name="cx" id="edit-cx-1" value="010821965829155306098:ogyaz_5nsc8"  />
<input type="hidden" name="cof" id="edit-cof-1" value="FORID:11"  />
<div class="form-item" id="edit-query-1-wrapper">
 <input type="text" maxlength="128" name="query" id="edit-query-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-sa-1" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-cbbd7a74e81333406ba9cd5333d32a83" value="form-cbbd7a74e81333406ba9cd5333d32a83"  />
<input type="hidden" name="form_id" id="edit-google-cse-searchbox-form-1" value="google_cse_searchbox_form"  />

</div></form>
            </div>
        </div>
        <div>
        </div>
        <div class="subfooter_box">
            <ul class="menu"><li class="expanded first"><a href="http://dzone.com" title="">DZone</a><ul class="menu"><li class="leaf first"><a href="http://refcardz.dzone.com/" title="">Refcardz</a></li>
<li class="leaf"><a href="http://books.dzone.com/" title="">Book Reviews</a></li>
<li class="leaf"><a href="http://library.dzone.com/" title="">Tech Library</a></li>
<li class="leaf"><a href="http://itquestions.com/index.html" title="">IT Questions</a></li>
<li class="leaf"><a href="http://snippets.dzone.com/" title="">Snippets</a></li>
<li class="leaf"><a href="http://dzone.com/user" title="">My Profile</a></li>
<li class="leaf"><a href="http://www.dzone.com/links/about.jsp" title="">About DZone</a></li>
<li class="leaf"><a href="http://www.dzone.com/corporate/advertise" title="">Advertise</a></li>
<li class="leaf"><a href="http://www.dzone.com/links/buttons.jsp" title="">Tools &amp; Buttons</a></li>
<li class="leaf last"><a href="http://ask.dzone.com/index.html" title="">Send Feedback</a></li>
</ul></li>
<li class="expanded last"><a href="http://dzone.com/mz/html5" title="">Topics</a><ul class="menu"><li class="leaf first"><a href="http://dzone.com/mz/html5" title="">HTML5</a></li>
<li class="leaf"><a href="http://dzone.com/mz/windowsphone7" title="">Windows Phone</a></li>
<li class="leaf"><a href="http://cloud.dzone.com/" title="">Cloud</a></li>
<li class="leaf"><a href="http://mobile.dzone.com/" title="">Mobile</a></li>
<li class="leaf"><a href="http://dzone.com/mz/dotnet" title="">.NET</a></li>
<li class="leaf"><a href="http://java.dzone.com/" title="">Java</a></li>
<li class="leaf"><a href="http://php.dzone.com/" title="">PHP</a></li>
<li class="leaf"><a href="http://eclipse.dzone.com/" title="">Eclipse</a></li>
<li class="leaf"><a href="http://dzone.com/mz/performance" title="">Performance</a></li>
<li class="leaf"><a href="http://www.dzone.com/mz/big-data" title="">Big Data</a></li>
<li class="leaf"><a href="http://agile.dzone.com/" title="">Agile</a></li>
<li class="leaf last"><a href="http://dzone.com/mz/devops" title="">DevOps</a></li>
</ul></li>
</ul>
            <ul class="menu">
                <li class="expanded follow-buttons">
                    <a href="#">Follow Us</a>
                    <ul class="menu">
                        <li>
                                                    </li>
                        <li>
                            <a href="https://plus.google.com/+dzone/posts" class="subfooter-social subfooter-social-google">Google +</a>
                        </li>
                        <li>
                            <a href="http://www.facebook.com/pages/DZone/259639764711" class="subfooter-social subfooter-social-facebook">Facebook</a>
                        </li>
                        <li>
                            <a href="http://www.linkedin.com/groups/DZone-696877" class="subfooter-social subfooter-social-linkedin">LinkedIn</a>
                        </li>
                        <li>
                            <a href="https://twitter.com/#!/Dzone" class="subfooter-social subfooter-social-twitter">Twitter</a>
                        </li>
                    </ul>
                </li>
            </ul>

            <div class="subfooter-right">

                "Starting from scratch" is seductive but disease ridden <br><span>-Pithy Advice for Programmers</span>

            </div>


        </div>
        <div id="legal"><a href="/page/advertise">Advertising</a> - <a href="/page/tos">Terms of Service</a> - <a href="/page/privacy">Privacy</a> - Â© 1997-2012, DZone, Inc.</div>
    </div>
</div>
    
<!-- end of page wrapper -->
</div>
<script type="text/javascript" src="http://cdn.dzone.com/sites/all/files/js/js_1853ae2420e0b7822f0d9f171c0a5427.js"></script>
<script type="text/javascript" src="http://cdn.dzone.com/misc/jquery.form-3.18.js?1386979883"></script>
<script type="text/javascript" src="http://cdn.dzone.com/sites/all/modules/sharebar/js/sharebar.js?1386979883"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","fivestar":{"titleUser":"Your rating: ","titleAverage":"Average: ","feedbackSavingVote":"Saving your vote...","feedbackVoteSaved":"Your vote has been saved.","feedbackDeletingVote":"Deleting your vote...","feedbackVoteDeleted":"Your vote has been deleted."},"jstools":{"cleanurls":true,"basePath":"\/"},"activemenu":{"#block-book-0":"activemenu\/book","#block-menu-devel":"activemenu\/menu","#block-menu-menu-library-navigat":"activemenu\/menu","#block-menu-primary-links":"activemenu\/menu","#block-menu-secondary-links":"activemenu\/menu","#block-menu-menu-sections":"activemenu\/menu","#block-menu-menu-sitemap":"activemenu\/menu","#block-menu-menu-zones":"activemenu\/menu","#block-user-1":"activemenu\/menu"}});
//--><!]]>
</script>

<script type="text/javascript">
    if(document.title.indexOf("Page not found") != 0){
        $('.sharebar').sharebar({horizontal:'false',swidth:'75',minwidth:1100,position:'left',leftOffset:35,rightOffset:10});
        $('#sharebar').css('display', 'none');
        $(parent.document).scroll(function() {
            var scroll_position =  $(window).scrollTop();
            if(scroll_position > 350)
                $('#sharebar').fadeIn();
            else
                $('#sharebar').fadeOut();
        });}
</script>

<script type="text/javascript">
    SyntaxHighlighter.config.bloggerMode = true;
    SyntaxHighlighter.config.taName = "pre";
    SyntaxHighlighter.config.clipboardSwf = '/sites/all/themes/dzone2012/scripts/syntaxHighlighter/clipboard.swf';
    SyntaxHighlighter.all();
    dp.SyntaxHighlighter.HighlightAll('code');
</script>
    
<script type="text/javascript" src="/sites/all/files/js/js_5dc0c13b5c27146aba8b38245e272fc2.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"googleCSE":{"language":"en"}});
//--><!]]>
</script>

<!--Track Microzones -->

        <script type="text/javascript">_gaq.push(['_trackEvent','Microzone Pageviews', 'DevOps Zone', "java.net.ProtocolException: Server Redirected Too Many Times"]);</script>
            

<!-- Social Tracking Scripts -->
<script type="text/javascript">
    fancyBoxOpen = false;

    try {
        if (FB && FB.Event && FB.Event.subscribe) {
            FB.Event.subscribe('edge.create', function(targetUrl) {
                if(fancyBoxOpen) {
                    _gaq.push(['_trackSocial','Facebook', 'popup like']);
//                    pageTracker._trackEvent('Facebook', 'popup like');
                } else {
                    _gaq.push(['_trackSocial', 'Facebook', 'like']);
                }
            });
        }
    } catch(e) {}

    try {
        $(window).ready(function() {
            $('.IN-widget').click(function() {
                if(fancyBoxOpen) {
                    _gaq.push(['_trackSocial','LinkedIn', 'popup share']);
//                    pageTracker._trackEvent('LinkedIn', 'popup share');
                } else {
                    _gaq.push(['_trackSocial','LinkedIn', 'share']);
                }
            });
        });
    } catch(e) {}

    function track_plusone(gpovote) {
        try {
            if(fancyBoxOpen) {
                _gaq.push(['_trackSocial','Google', 'popup +1']);
//                pageTracker._trackEvent('Google', 'popup +1');
            } else {
                _gaq.push(['_trackSocial','Google', '+1']);
            }
        } catch (e) {}
    }

    try {
        twttr.events.bind('tweet', function(event) {
            if (event) {
                var targetUrl;
                if (event.target && event.target.nodeName == 'IFRAME') {
                    targetUrl = extractParamFromUri(event.target.src, 'url');
                }
                if(fancyBoxOpen) {
                    _gaq.push(['_trackSocial','Twitter', 'popup tweet']);
//                    pageTracker._trackEvent('Twitter', 'popup tweet');
                } else {
                    _gaq.push(['_trackSocial','Twitter', 'tweet']);
                }
            }
        });
    } catch(e) {}

    function extractParamFromUri(uri, paramName) {
        if (!uri) {
            return;
        }
        var uri = uri.split('#')[0];  // Remove anchor.
        var parts = uri.split('?');  // Check for query params.
        if (parts.length == 1) {
            return;
        }
        var query = decodeURI(parts[1]);

        // Find url param.
        paramName += '=';
        var params = query.split('&');
        for (var i = 0, param; param = params[i]; ++i) {
            if (param.indexOf(paramName) === 0) {
                return unescape(param.split('=')[1]);
            }
        }
    }

    </script>

    <div id="fb-root"></div>
    <script>(function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
</body>
</html>
