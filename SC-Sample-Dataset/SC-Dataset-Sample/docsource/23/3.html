<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="it">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Forum  Problema con RMI  | Archivio del forum HTML.it</title>
<meta http-equiv="refresh" content="180" />
        
	<meta name="description" content="Problema con RMI, Forum Java: commenti, esempi e tutorial dalla community di HTML.it." />
	<link rel="canonical" href="http://forum.html.it/forum/showthread/t-1529022.html" />
<link rel="Shortcut Icon" href="http://forum.html.it/forum/favicon.ico" type="image/x-icon" />
      
	<link rel="stylesheet" type="text/css" href="http://forum.html.it/forum/archive/archive.css?v=3" />
            <script type="text/javascript" src="http://common.html.it/js/jquery.js?tmp=87659823649"></script>
		<script type="text/javascript" src="http://common.html.it/js/advertising/overlayer/overlayer.js"></script>
		<script type="text/javascript" src="http://common.html.it/js/advertising/common.js"></script>
		<script type="text/javascript" src="http://common.html.it/js/advertising/interstitial/interstitial.js"></script>
                
<link rel="stylesheet" type="text/css" media="screen, handheld" href="http://utenti.html.it/common/css/forum.all.css?ver=031207" />
		<link rel="stylesheet" type="text/css" media="screen, handheld" href="http://common.html.it/css/advertising/premium-links/premium-links.css" />
		<script type="text/javascript" src="http://common.html.it/js/webtoolkit.base64.js"></script>
		<script type="text/javascript" src="http://common.html.it/js/utils.js"></script>
		<script type="text/javascript" src="http://forum.html.it/forum/waypoints.min.js"></script>
                
<script type='text/javascript' src='http://common.html.it/js/jquery.extend.js?ver=1.0.0'></script>
<script type='text/javascript' src='http://common.html.it/js/swfobject.js?ver=1.5.0'></script>
<script type='text/javascript' src='http://common.html.it/js/advertising/common.js?ver=1.0.0'></script>
<script type='text/javascript' src='http://common.html.it/js/jq_plugin/jquery.hint.pack.js?ver=1.0.0'></script>
<script>
$(document).ready(function() {
               if( $('#post-bannerbox-1').length > 0 ) {
                        $.waypoints.settings.scrollThrottle = 10;
                        $('#post-bannerbox-1').waypoint(function(event, direction) {
                                $(this).toggleClass('post-bannerbox', direction === "down");
                                event.stopPropagation();
                        });						
                }
            });
            </script>
          <script type="text/javascript" src="http://balupton.github.com/jquery-syntaxhighlighter/scripts/jquery.syntaxhighlighter.min.js"></script>
<script type="text/javascript" src="/forum/syntaxhighlight.js"></script>

<!-- Codice Google Analytics -->
<script type="text/javascript" src="http://common.html.it/js/ga/ga-forum-addon.js"></script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push
	(['_setAccount', 'UA-272662-1'],['_setDomainName', '.html.it'],['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = 'http://www.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
<!-- Codice Google Analytics -->
<script type='text/javascript'>
     
            var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
        (function() {
        var gads = document.createElement('script');
        gads.async = true;
        gads.type = 'text/javascript';
        var useSSL = 'https:' == document.location.protocol;
        gads.src = (useSSL ? 'https:' : 'http:') + 
        '//www.googletagservices.com/tag/js/gpt.js';
        var node = document.getElementsByTagName('script')[0];
        node.parentNode.insertBefore(gads, node);
        })();

        googletag.cmd.push(function() {
        //googletag.defineSlot('/6312/dqa.tag.html.it/archivio_forum', [[980, 30], [980, 60], [980, 80]], 'div-gpt-ad-1374842790468-0').addService(googletag.pubads());
        //googletag.defineSlot('/6312/dqa.tag.html.it/archivio_forum', [980, 30], 'div-gpt-ad-1374842790468-0').addService(googletag.pubads());
        googletag.enableServices();

        });

   

    </script> 
    </head>
<body class="archive">
<div id="header" class="floatcontainer doc_header">
	<div><a name="top" href="/forum/forum.php" class="logo-image"><img src="/forum/images/misc/vbulletin4_logo.png" alt="Forum html.it - Powered by vBulletin" title="Forum html.it - Powered by vBulletin"></a></div>
	 <ul class="main-menu">
      <li><a href="http://www.html.it">HTML.it</a></li>
      <li><a href="http://download.html.it">Download</a></li>
      <li><a href="http://video.html.it">Video</a></li>
      <li><a href="http://corsi.html.it">Corsi</a></li>
    </ul>
    <div id="toplinks" class="toplinks">
        <ul class="nouser">
            <li><a rel="help" href="/forum/archive/">Home</a></li>
            <li><a href="/forum/register.php" rel="nofollow">Registrazione</a></li>
            
            <li><a rel="home" href="/forum/member.php?s=&action=logout">Logout</a></li>
        </ul>		
	</div>
	<div class="ad_global_header">
		<!-- BEGIN TEMPLATE: ad_global_header1 -->

<!-- END TEMPLATE: ad_global_header1 -->
		<!-- BEGIN TEMPLATE: ad_global_header2 -->

<!-- END TEMPLATE: ad_global_header2 -->
	</div>
	<hr>


</div><div class="pagebody"><div id="navbar"><a href="http://forum.html.it/forum/archive/index.php?s=727d34949e234c6a29b190f8e180a289">Forum HTML.it</a> &gt; <a href="http://forum.html.it/forum/archive/index.php/f-59.html?s=727d34949e234c6a29b190f8e180a289">Lato server</a> &gt; <a href="http://forum.html.it/forum/archive/index.php/f-31.html?s=727d34949e234c6a29b190f8e180a289">Programmazione</a> &gt; <a href="http://forum.html.it/forum/archive/index.php/f-79.html?s=727d34949e234c6a29b190f8e180a289">Java</a> &gt;  Problema con RMI</div>
<hr />
<div class="pda"><a href="http://forum.html.it/forum/archive/index.php/t-1529022.html?s=727d34949e234c6a29b190f8e180a289&amp;pda=1" rel="nofollow">PDA</a></div>
<script>_gaq.push(['_trackPageview', '/xk/archive/lato-server/programmazione/java/problema-con-rmi/1/20121124/']);</script><p class="largefont">Visualizza la versione completa : <a href="http://forum.html.it/forum/showthread.php?threadid=1529022&amp;s=727d34949e234c6a29b190f8e180a289">Problema con RMI</a></p>
<hr />
<div class="floatcontainer" ><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <div id="google_ban"></div>
                <div style="margin-top:2px;">&nbsp;</div>
              

                <div id="post-bannerbox-1"><script type="text/javascript">
                if (typeof(et_ord)=='undefined')
                et_ord=Math.floor(Math.random()*10000000000000000);
                et_tile=1;
                document.write('<scr'+'ipt language="JavaScript" src="http://ad.nl.doubleclick.net/adj/dqa.tag.html.it/archivio_forum;dcopt=ist;sz=300x250;tile=' + (et_tile++) + ';ord=' + et_ord + '?" type="text/javascript"></scr' + 'ipt>');
                
             
                $(document).ready(function() {
                    //alert(typeof expandingFullscreenOptions);
                    if (typeof expandingFullscreenOptions === 'undefined' ){
                        $('.pagebody').before('<div id="div-gpt-ad-1374842790468-0" class="banner_top"></div>');
                        googletag.cmd.push(function() { googletag.display('div-gpt-ad-1374842790468-0'); });
                        $('#google_ban').html('<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px"  data-ad-client="ca-pub-8169396049480252" data-ad-slot="5931793634/2279614274"></ins><div style="margin-top:2px;">&nbsp;</div>');
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    }
                });    
                </script> </div><!-- BEGIN TEMPLATE: ad_archive_above_content2 -->

<!-- END TEMPLATE: ad_archive_above_content2 --></div>
<div class="post"><div class="posttop"><div class="username">sawada91</div><div class="date">24-11-2012, 13:09</div></div><div class="posttext">Ho iniziato oggi questo argomento e non l'ho ancora capito bene. Ho provato a fare un esercizietto veloce, ma quando avvio il server mi caccia eccezzioni o nel client o nel server. Il codice non mi sembra sbagliato (anche perché cenrcando online ho visto che molti altri facevanopiù o meno così). Qualcuno mi sa aiutare?<br />
<br />
 <br />
ServerNew.java:      <br />
interface C extends Remote     <br />
{        <br />
public String now() throws RemoteException ;     <br />
}      <br />
class Server extends UnicastRemoteObject implements C     <br />
{            <br />
public String now() throws RemoteException        <br />
{             <br />
return &quot;99:99&quot;;        <br />
}         <br />
Server() throws RemoteException        <br />
{          <br />
}      <br />
}      <br />
public class ServerNew <br />
{    <br />
public static void main(String[] args) throws Exception     <br />
{         <br />
Server server=new Server();         <br />
LocateRegistry.createRegistry(1099);        <br />
Naming.rebind(&quot;rmi://localhost:1099/time&quot;, server);     <br />
} <br />
} <br />
<br />
<br />
interface C extends Remote     <br />
{        <br />
public String now() throws RemoteException ;     <br />
}      <br />
public class ClientNew <br />
{     <br />
public static void main(String[] args) throws Exception     <br />
{         <br />
C server=(C) Naming.lookup(&quot;rmi://localhost:1099/time&quot;);         <br />
String text=server.now();         <br />
System.out.println(text);     <br />
} <br />
} <br />
<br />
Ora se avvio, il server non da problemi, ma se avvio il client, mi butta questo:<br />
<br />
   <br />
Exception in thread &quot;main&quot; java.rmi.UnmarshalException: error unmarshalling return; nested exception is:        <br />
java.lang.ClassNotFoundException: servernew.C (no security manager: RMI class loader disabled)        <br />
at sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source)        <br />
at java.rmi.Naming.lookup(Naming.java:101)        <br />
at clientnew.ClientNew.main(ClientNew.java:16)     <br />
Caused by: java.lang.ClassNotFoundException: servernew.C (no security manager: RMI class loader disabled)        <br />
at sun.rmi.server.LoaderHandler.loadProxyClass(Loader Handler.java:554)        <br />
at java.rmi.server.RMIClassLoader$2.loadProxyClass(RM IClassLoader.java:646)        <br />
at java.rmi.server.RMIClassLoader.loadProxyClass(RMIC lassLoader.java:311)        <br />
at sun.rmi.server.MarshalInputStream.resolveProxyClas s(MarshalInputStream.java:257)        at java.io.ObjectInputStream.readProxyDesc(ObjectInpu tStream.java:1549)        <br />
at java.io.ObjectInputStream.readClassDesc(ObjectInpu tStream.java:1511)        <br />
at java.io.ObjectInputStream.readOrdinaryObject(Objec tInputStream.java:1750)        <br />
at java.io.ObjectInputStream.readObject0(ObjectInputS tream.java:1347)        <br />
at java.io.ObjectInputStream.readObject(ObjectInputSt ream.java:369)        <br />
... 3 more     <br />
Java Result: 1 <br />
<br />
Leggendo vedo che c'entra il SecurityManager. Se lo aggiungo al server, il server non va più mostrandomi invece:<br />
<br />
<br />
Exception in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.net.SocketPermission&quot; &quot;127.0.0.1:1099&quot; &quot;connect,resolve&quot;)    <br />
at java.security.AccessControlContext.checkPermission (AccessControlContext.java:366)    <br />
at java.security.AccessController.checkPermission(Acc essController.java:555)    <br />
at java.lang.SecurityManager.checkPermission(Security Manager.java:549)    <br />
at java.lang.SecurityManager.checkConnect(SecurityMan ager.java:1051)    <br />
at java.net.Socket.connect(Socket.java:574)    <br />
at java.net.Socket.connect(Socket.java:528)    <br />
at java.net.Socket.&lt;init&gt;(Socket.java:425)    <br />
at java.net.Socket.&lt;init&gt;(Socket.java:208)    <br />
at sun.rmi.transport.proxy.RMIDirectSocketFactory.cre ateSocket(RMIDirectSocketFactory.java:40)    <br />
at sun.rmi.transport.proxy.RMIMasterSocketFactory.cre ateSocket(RMIMasterSocketFactory.java:146)    <br />
at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEnd point.java:613)   <br />
 at sun.rmi.transport.tcp.TCPChannel.createConnection( TCPChannel.java:216)    <br />
at sun.rmi.transport.tcp.TCPChannel.newConnection(TCP Channel.java:202)    <br />
at sun.rmi.server.UnicastRef.newCall(UnicastRef.java: 340)    <br />
at sun.rmi.registry.RegistryImpl_Stub.rebind(Unknown Source)    <br />
at java.rmi.Naming.rebind(Naming.java:177)    <br />
at servernew.ServerNew.main(ServerNew.java:39)</div></div><hr />

<div id="video_contenitore" style="width:300px;display:block;margin-left:470px"></div>
<link rel="stylesheet" href="http://www.html.it/wp-content/themes/www.html.it/widgets/widget_video.css" type="text/css" />
<script type='text/javascript' src='http://video.html.it/wp-content/themes/the-bootstrap/js/flowplayer/flowplayer-3.2.11.min.js'></script>
<script type='text/javascript' src='http://video.html.it/wp-content/themes/the-bootstrap/js/flash_detect.js'></script>
<script type='text/javascript' src='http://video.html.it/widget_video.php'></script>
<div class="post"><div class="posttop"><div class="username">Alex'87</div><div class="date">24-11-2012, 14:06</div></div><div class="posttext">Originariamente inviato da sawada91 <br />
Leggendo vedo che c'entra il SecurityManager. Se lo aggiungo al server, il server non va più mostrandomi invece:<br />
<br />
<br />
Exception in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.net.SocketPermission&quot; &quot;127.0.0.1:1099&quot; &quot;connect,resolve&quot;) <br />
<br />
Ok hai messo il SecurityManager.. hai settato un file di policy?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sawada91</div><div class="date">24-11-2012, 15:51</div></div><div class="posttext">Non usa &quot;\Java\jre7\lib\security\java.policy&quot;? E cosa devo metterci? Ho provato a mettere temporaneamente <br />
<br />
permission java.security.AllPermission; <br />
ma non funziona lo stesso. E se provo a togliere il securitmanager dal server, quello nno mi da problemi, ma è il client a darmi problemi perchè non l'ho messo.</div></div><hr />

<!-- BEGIN TEMPLATE: ad_archive_below_content -->

<!-- END TEMPLATE: ad_archive_below_content --></div></div>


<!-- da inserire in forum per popOver upcloo-->
<div class="upcloo-widget" id="upcloo_1000"></div>
<script>                                            
if(window.location.pathname.substring(6,20) == "/showthread/t-") {
    (function(g,d,id){
      upCloo = g.upCloo || [];
      upCloo.push(
        {
          "permalink" : "http://forum.html.it" + window.location.pathname,
          "siteKey" : "it-bs84TSrto",
          "vSiteKey" : "it-bs85TSrto"
        }
      );
      var s = d.createElement("script") , n = d.getElementsByTagName("script")[0];
      s.type = "text/javascript";
      s.async = true;s.id = id;
      s.src = "//r.upcloo.com/a/a.js";
      !d.getElementById(id) ? n.parentNode.insertBefore(s,n) :false;
    })(this,document,"upcloo_js_sdk")
}
</script>

<div id="cse-search-form" style="width: 70%; margin: 10px auto;text-align:center;">Loading</div>
<script src="http://www.google.it/jsapi" type="text/javascript"></script>
<script type="text/javascript">
  google.load('search', '1', {language : 'it', style : google.loader.themes.SHINY});
  google.setOnLoadCallback(function() {
    var customSearchOptions = {};
    var imageSearchOptions = {};
    imageSearchOptions['layout'] = google.search.ImageSearch.LAYOUT_CLASSIC;
    customSearchOptions['enableImageSearch'] = true;
    customSearchOptions['imageSearchOptions'] = imageSearchOptions;
    customSearchOptions['adoptions'] = {'layout': 'noTop'};
    var customSearchControl = new google.search.CustomSearchControl(
      'partner-pub-4803537127241677:7870217968', customSearchOptions);
    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
    var options = new google.search.DrawOptions();
    options.setAutoComplete(true);
    customSearchControl.setAutoCompletionId('partner-pub-4803537127241677:7870217968+qptype:1');
    options.enableSearchboxOnly("http://forum.html.it/forum/search_results.html?tag=cse", "cerca");
    customSearchControl.draw('cse-search-form', options);
  }, true);
</script></body></html>
