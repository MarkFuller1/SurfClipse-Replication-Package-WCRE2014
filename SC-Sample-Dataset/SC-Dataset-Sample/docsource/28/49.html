<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- $Revision: 1.47.2.2 $ -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml" xmlns:og="http://opengraphprotocol.org/schema/" lang="en" xml:lang="en">
  <head>
    <script>
      cdcPageTimers={
        topOfHead: new Date()
      };
    </script>
    <title>
Troubleshooting Serial Lines - Cisco Systems
</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8"/>
    <meta name="concept" content="Support"/>
    <meta name="accessLevel" content="Guest"/>
    <meta name="country" content="US"/>
    <meta name="primaryObjectId" content="external_docbase:0900e4b18081428c"/>
    <meta name="docType" content="TSD Island of Content"/>
    <meta name="language" content="en"/>
    <meta name="contentType" content="cisco.com#US#postSales"/>
    <meta name="iaPath" content="cisco.com#Technical Support"/>
    <meta name="ioContentSource" content="CCIM-TD"/>
    <meta name="locale" content="US"/>
    <meta name="secondaryConcept" content="Frame Relay"/>
    <meta name="secondaryConcept" content="T1/E1 &amp; T3/E3"/>
    <meta name="date" content="Fri Apr 04 15:48:05 PDT 2008"/>
    <meta name="docRequest" content="/en/US/docs/internetworking/troubleshooting/guide/tr1915.html"/>
    <link rel="canonical" href="http://www.cisco.com/en/US/docs/internetworking/troubleshooting/guide/tr1915.html"/>
    <meta name="title" content="Troubleshooting Serial Lines"/>
    <meta property="og:site_name" content="Cisco" />
    <meta property="og:image" content="http://www.cisco.com/web/fw/i/logo-open-graph.gif" />
    <meta property="og:title" content="Troubleshooting Serial Lines" />
    <meta property="fb:app_id" content="156494687694418" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://www.cisco.com/en/US/docs/internetworking/troubleshooting/guide/tr1915.html" />
    
    
    <script type="text/javascript" src="/web/fw/j/masterbrand.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/web/fw/c/masterbrand.min.css" />
    <link rel="stylesheet" type="text/css" href="/web/fw/w/cl/cl.min.css" />
    
    
    <link rel="search" type="application/opensearchdescription+xml" title="Search Cisco.com" href="http://www.cisco.com/web/tsweb/searchplugins/cdc_search.xml" />
    <script type="text/javascript">cdc.util.useBackpack=true;</script>
  </head>

  <body id="w1x" class="cdc-fw"><!--googleoff: index--><!--googleoff: snippet -->
    <script>cdcPageTimers.topOfBody = new Date();</script>
    <!--[if gte IE 9]><div id="gte-ie9" class="ie"><![endif]-->
    <!--[if IE 8]><div id="ie8" class="ie"><![endif]-->
    <!--[if IE 7]><div id="ie7" class="ie ie67"><![endif]-->
    <!--[if lte IE 6]><div id="ie6" class="ie ie67"><![endif]--> 

    

    <div id="fw-mb">
      <div id="fw-mb-w1">
        
    
<div id="fw-banner">
<div id="fw-banner-w1"><!-- skiplinks -->
<div id="fw-mbsk">
<p><a href="/" tabindex="3">Home</a> <a href="#content">Skip to content</a> <a href="#hinav">Skip to navigation</a> <a href="#pagefooter">Skip to footer</a></p>
</div>

<!-- logo -->
<div id="fw-mbl">
<p><a href="/en/US/hmpgs/index.html">Cisco.com Worldwide Home</a></p>
</div>

<!-- megamenus -->
<div id="fw-mm">
<table class="mm-items" cellspacing="0" summary="">
<tr>
<td class="mm-item" id="products-mm-item"><a href="http://www.cisco.com/en/US/products/index.html" class="mm-link">Products &amp; Services</a> <a href="http://www.cisco.com/web/fw/co/menu-content.html#products-mm-menu" class="mm-reflink">(menu)</a> </td>
<td class="mm-item" id="support-mm-item"><a href="http://www.cisco.com/cisco/web/support/index.html" class="mm-link">Support</a> <a href="http://www.cisco.com/web/fw/co/menu-content.html#support-mm-menu" class="mm-reflink">(menu)</a> </td>
<td class="mm-item" id="ordering-mm-item"><a href="http://www.cisco.com/web/ordering/root/index.html" class="mm-link">How to Buy</a> <a href="http://www.cisco.com/web/fw/co/menu-content.html#ordering-mm-menu" class="mm-reflink">(menu)</a> </td>
<td class="mm-item" id="training-mm-item"><a href="http://www.cisco.com/en/US/learning/index.html" class="mm-link">Training &amp; Events</a> <a href="http://www.cisco.com/web/fw/co/menu-content.html#training-mm-menu" class="mm-reflink">(menu)</a> </td>
<td class="mm-item" id="partner-mm-item"><a href="http://www.cisco.com/en/US/partners/index.html" class="mm-link">Partners</a> <a href="http://www.cisco.com/web/fw/co/menu-content.html#partner-mm-menu" class="mm-reflink">(menu)</a> </td>
</tr>
</table>
</div>

<!-- end #fw-mm -->
<!-- search -->
<span class="search-entitlement">Guest</span> 

<div id="fw-mbs">
<form name="sitewidesearch" action="http://tools.cisco.com/search/JSP/search-results.get" method="get" id="sitewidesearch"><label for="searchPhrase" name="search" id="search">Search</label> 

<p class="field-button"><input type="text" tabindex="1" name="strQueryText" class="field-button-field" id="searchPhrase" value="" autocomplete="off"> <input type="submit" tabindex="2" value="Search" class="field-button-button" id="go"></p>

<input type="hidden" value="cisco.com" name="Search All cisco.com"> <input type="hidden" value="en" name="language"> <input type="hidden" value="US" name="country"> <input type="hidden" value="f" name="thissection"> <input type="hidden" value="Guest" name="accessLevel"></form>
</div>

<!-- end #fw-mbs -->
<script type="text/javascript">
          if ((typeof cdc.search) == "undefined"){
             cdc.search = new Object();
          }
          cdc.search.country = "US";
          cdc.search.language = "en";
        
</script>

 <!-- toolbar -->
 

<div id="fw-ft-basic">
<div class="ft-toolbar">
<div class="ft-group ft-country-lang-group">
<div class="ft-sect ft-country"><a href="http://cisco.com/en/US/swassets/sw274/sitewide_country_language_selector.html" class="ft-label"><span class="ft-country-name">Worldwide</span> <span class="ft-country-change">[change]</span></a></div>
</div>

<div class="ft-group ft-guest-group">
<div class="ft-sect ft-login"><a href="/cgi-bin/login" class="ft-label">Log In</a></div>

<div class="ft-sect ft-account"><a href="http://www.cisco.com/web/siteassets/account/index.html" class="ft-label">Account</a></div>

<div class="ft-sect ft-register"><a href="http://tools.cisco.com/RPF/register/register.do" class="ft-label">Register</a></div>

<div class="ft-sect"><a href="http://www.cisco.com/cisco/psn/web/workspace" class="ft-label">My Cisco</a></div>
</div>
</div>

<!-- end #ft-toolbar -->
</div>

<!-- end #fw-ft-basic -->
</div>

<!-- end #fw-banner-w1 -->
</div>

<!-- end #fw-banner -->
<!-- END MasterBrand Banner SSI (guest) -->

  

        
        <div id="mb-title-nav-bar" class="clearfix">
          <div id="framework-content-titles"><!--googleon: index--><!--googleon: snippet-->
            <h1 class="title-section">Support</h1>
            <h2 class="title-page">Troubleshooting Serial Lines</h2><!--googleoff: index--><!--googleoff: snippet-->
          </div>
          
          
          
        </div> <!-- end #mb-title-nav-bar -->
        
        

        <table id="framework-base-main" cellspacing="0" cellpadding="0" border="0" summary="">
          <tr>
            <td id="framework-column-left" valign="top"><a name="hinav"></a>
              <div class="hinav"><h3>Hierarchical Navigation</h3><ul class="outer"><li><a href="/en/US/hmpgs/index.html" class="parent">HOME</a><ul><li><a href="/en/US/support/index.html" class="parent">SUPPORT</a><ul><li><strong><a href="/en/US/docs/internetworking/troubleshooting/guide/tr1915.html" class="selected">Troubleshooting Serial Lines</a></strong></li></ul></li></ul></li></ul></div>
              
              
              
              
              
              
              
              
              
            </td> <!-- end #framework-column-left -->

            <td id="framework-column-center">
              <!-- temporary place for c1 and c2 -->
              
              

              <table cellspacing="0" id="framework-base-content">
                <tr>
                  <td id="framework-column-main"><a name="content"></a><!--googleon: index--><!--googleon: snippet-->
                    <div id="framework-content-main">
                      <!-- Start of the actual text content -->

                      <table id="content-right-top" align="right" border="0" cellspacing="0" cellpadding="0" summary="">
                        <tr><td valign="top" align="right"></td></tr>
                        <tr><td valign="top" align="right"><div class="module-sidebar-xsl">
<h3 class="main-header">Downloads</h3>
<ul>
<li>
<a href="/en/US/docs/internetworking/troubleshooting/guide/tr1915.pdf" class="contentlink" target="_blank">Troubleshooting Serial Lines<img src="/swa/i/icon_pdf.gif" alt="" height="16" width="20" /></a>
</li>
</ul>
</div>
</td></tr>
                        <tr><td valign="top" align="right">
<migrate>
<a href="javascript: void(0)" onclick="window.open('https://secure.opinionlab.com/ccc01/o.asp?id=HPXysfff&referer='+document.URL+'&resize=false', 'feedback', 'width=550, height=460, scrollbars=1, menubar=1, resizable=1'); return false;"><img id="feedback_img" border="0" style="cursor: pointer;" title="Feedback" src="http://www.cisco.com/web/fw/i/sm_0000EE_oo1.gif">&nbsp;Feedback</a>
</migrate>
</td></tr>
                        <tr><td valign="top" align="right"></td></tr>
                      </table>

                      <?xml version="1.0" encoding="UTF-8"?>
<div class="contentMargins"><span class="content">
  <!-- WFP 1.0.0.0 Released 11/20/2006 -->
  <!-- Added on date : 10/09/2003 Do not delete blockquotes  -->
<MIGRATE><LINK REL="stylesheet" HREF="/swa/c/ccimr.css" TYPE="text/css" /></MIGRATE>
<blockquote>
    <!-- Start of Mini TOC : Added on 09/23/2003 16:38:30 PST -->
    <h2 class="p_H_Head1">Table Of Contents</h2>
    
<p class="MiniTOC1"><a href="#wp1020545">Troubleshooting Serial Lines</a></p>
<p class="MiniTOC2"><a href="#wp1020558">Troubleshooting Using the show&#160;interfaces serial&#160;Command</a></p>
<p class="MiniTOC3"><a href="#wp1020563">Serial Lines: show interfaces serial Status Line Conditions</a></p>
<p class="MiniTOC3"><a href="#wp1020742">Serial Lines: Increasing Output Drops on Serial Link</a></p>
<p class="MiniTOC3"><a href="#wp1020781">Serial Lines: Increasing Input Drops on Serial Link</a></p>
<p class="MiniTOC3"><a href="#wp1020816">Serial Lines: Increasing Input Errors in&#160;Excess&#160;of&#160;1&#160;Percent&#160;of&#160;Total&#160;Interface Traffic</a></p>
<p class="MiniTOC3"><a href="#wp1020852">Serial Lines: Troubleshooting Serial Line Input Errors</a></p>
<p class="MiniTOC3"><a href="#wp1020941">Serial Lines: Increasing Interface Resets on Serial Link</a></p>
<p class="MiniTOC3"><a href="#wp1020970">Serial Lines: Increasing Carrier Transitions Count on Serial Link</a></p>
<p class="MiniTOC2"><a href="#wp1020999">Using the show controllers Command</a></p>
<p class="MiniTOC2"><a href="#wp1021022">Using debug Commands</a></p>
<p class="MiniTOC2"><a href="#wp1021050">Using Extended ping Tests</a></p>
<p class="MiniTOC2"><a href="#wp1021077">Troubleshooting Clocking Problems</a></p>
<p class="MiniTOC3"><a href="#wp1021079">Clocking Overview</a></p>
<p class="MiniTOC3"><a href="#wp1021091">Clocking Problem Causes</a></p>
<p class="MiniTOC3"><a href="#wp1021100">Detecting Clocking Problems</a></p>
<p class="MiniTOC3"><a href="#wp1021108">Isolating Clocking Problems</a></p>
<p class="MiniTOC3"><a href="#wp1021119">Clocking Problem Solutions</a></p>
<p class="MiniTOC4"><a href="#wp1021161">Inverting the Transmit Clock</a></p>
<p class="MiniTOC2"><a href="#wp1021169">Adjusting Buffers</a></p>
<p class="MiniTOC3"><a href="#wp1021181">Tuning System Buffers</a></p>
<p class="MiniTOC3"><a href="#wp1021229">Implementing Hold Queue Limits</a></p>
<p class="MiniTOC3"><a href="#wp1021239">Using Priority Queuing to Reduce Bottlenecks</a></p>
<p class="MiniTOC2"><a href="#wp1021259">Special Serial Line Tests</a></p>
<p class="MiniTOC3"><a href="#wp1021262">CSU and DSU Loopback Tests</a></p>
<p class="MiniTOC4"><a href="#wp1021271">CSU and DSU Local Loopback Tests for HDLC or PPP Links</a></p>
<p class="MiniTOC4"><a href="#wp1021292">CSU and DSU Remote Loopback Tests for HDLC or PPP Links</a></p>
<p class="MiniTOC2"><a href="#wp1021304">Detailed Information on the show&#160;interfaces&#160;serial&#160;Command</a></p>
<p class="MiniTOC3"><a href="#wp1021307">show interfaces serial</a></p>
<p class="MiniTOC4"><a href="#wp1021316">Syntax Description</a></p>
<p class="MiniTOC4"><a href="#wp1021329">Command Mode</a></p>
<p class="MiniTOC4"><a href="#wp1021331">Usage Guidelines</a></p>
<p class="MiniTOC4"><a href="#wp1021333">Sample Displays</a></p>
<p class="MiniTOC2"><a href="#wp1021572">Troubleshooting T1 Problems</a></p>
<p class="MiniTOC3"><a href="#wp1021575">Troubleshooting Using the show controller t1 Command</a></p>
<p class="MiniTOC3"><a href="#wp1021582">show controller t1 Conditions</a></p>
<p class="MiniTOC3"><a href="#wp1021589">Is the Controller Administratively Down?</a></p>
<p class="MiniTOC3"><a href="#wp1021606">Is the Line Up?</a></p>
<p class="MiniTOC4"><a href="#wp1021612">If Receiver Has Loss of Frame</a></p>
<p class="MiniTOC4"><a href="#wp1021633">If Receiver Has Loss of Signal</a></p>
<p class="MiniTOC3"><a href="#wp1021647">If the Line Is in Loopback Mode</a></p>
<p class="MiniTOC3"><a href="#wp1021653">If the Controller Displays Any Alarms</a></p>
<p class="MiniTOC4"><a href="#wp1021657">Receive (RX) Alarm Indication Signal (AIS) (Blue)</a></p>
<p class="MiniTOC4"><a href="#wp1021664">Receive (Rx) Remote Alarm Indication (Yellow)</a></p>
<p class="MiniTOC4"><a href="#wp1021689">Transmitter Sending Remote Alarm (Red)</a></p>
<p class="MiniTOC4"><a href="#wp1021696">Transmit (Tx) Remote Alarm Indication (Yellow)</a></p>
<p class="MiniTOC4"><a href="#wp1021703">Transmit (Tx) AIS (Blue)</a></p>
<p class="MiniTOC3"><a href="#wp1021713">Troubleshooting Error Events</a></p>
<p class="MiniTOC4"><a href="#wp1021720">Slip Secs Counter Is Increasing</a></p>
<p class="MiniTOC4"><a href="#wp1021729">Framing Loss Seconds Counter Is Increasing</a></p>
<p class="MiniTOC4"><a href="#wp1021738">Line Code Violations Are Increasing</a></p>
<p class="MiniTOC4"><a href="#wp1021750">Verify that isdn switchtype and pri-group Are Configured Correctly</a></p>
<p class="MiniTOC4"><a href="#wp1021759">Verifying the Signaling Channel</a></p>
<p class="MiniTOC3"><a href="#wp1021779">Troubleshooting a PRI</a></p>
<p class="MiniTOC4"><a href="#wp1021782">Troubleshooting Using the show isdn status Command</a></p>
<p class="MiniTOC4"><a href="#wp1021797">Using debug q921</a></p>
<p class="MiniTOC4"><a href="#wp1021853">Performing Hardware Loopback Plug Test</a></p>
<p class="MiniTOC4"><a href="#wp1021863">Performing the Loopback Plug Test</a></p>
<p class="MiniTOC2"><a href="#wp1021890">Troubleshooting E1 Problems</a></p>
<p class="MiniTOC3"><a href="#wp1021893">Troubleshooting Using the show controller e1 Command</a></p>
<p class="MiniTOC4"><a href="#wp1021899">Show controller e1 Conditions</a></p>
<p class="MiniTOC4"><a href="#wp1022026">Troubleshooting E1 Error Events</a></p>
<p class="MiniTOC3"><a href="#wp1022052">Verifying That isdn switchtype and pri-group Are&#160;Configured&#160;Correctly</a></p>
<p class="MiniTOC3"><a href="#wp1022063">Verifying the Signaling Channel</a></p>
<p class="MiniTOC3"><a href="#wp1022084">Troubleshooting a PRI</a></p>
<p class="MiniTOC4"><a href="#wp1022087">Troubleshooting Using the show isdn status Command</a></p>
<p class="MiniTOC4"><a href="#wp1022101">Using debug q921</a></p>
    <br />
    <!-- End of Mini TOC -->

    <a name="wp1020543"></a><a name="wp1020545"></a><h2 class="pCT_ChapTitle">
Troubleshooting Serial Lines
</h2>
<hr class="Chap1" />
<a name="wp1020546"></a><p class="pB1_Body1">
This chapter presents general troubleshooting information and a discussion of tools and techniques for troubleshooting serial connections. The chapter consists of the following sections:
</p>
<a name="wp1020547"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Troubleshooting Using the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> Command
</p>
<a name="wp1020548"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Using the <span style="color: Black; font-style: normal; font-weight: bold">show controllers</span> Command
</p>
<a name="wp1020549"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Using <span style="color: Black; font-style: normal; font-weight: bold">debug</span> Commands
</p>
<a name="wp1020550"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Using Extended <span style="color: Black; font-style: normal; font-weight: bold">ping</span> Tests
</p>
<a name="wp1020551"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Troubleshooting Clocking Problems
</p>
<a name="wp1020552"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Adjusting Buffers
</p>
<a name="wp1020553"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Special Serial Line Tests
</p>
<a name="wp1020554"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Detailed Information on the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> Command
</p>
<a name="wp1020555"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Troubleshooting T1 Problems
</p>
<a name="wp1020556"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Troubleshooting E1 Problems
</p>
<a name="Troubleshooting_Using_the_show&#160;interfaces_serial&#160;Command"> </a>

<a name="wp1020558"></a><a name="wpmkr1020557"></a><h2 class="p_H_Head1">
Troubleshooting Using the show&#160;interfaces serial&#160;Command
</h2>

<a name="wp1020559"></a><p class="pB1_Body1">
The output of the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> exec command displays information specific to serial interfaces. Figure 15-1 shows the output of the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> exec command for a High-Level Data Link Control (HDLC) serial interface.
</p>
<a name="wp1020560"></a><p class="pB1_Body1">
This section describes how to use the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> command to diagnose serial line connectivity problems in a wide-area network (WAN) environment. The following sections describe some of the important fields of the command output.
</p>
<a name="wp1020561"></a><p class="pB1_Body1">
Other fields shown in the display are described in detail in the section &quot;Detailed Information on the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> Command,&quot; later in this chapter.
</p>

<a name="Serial_Lines:_show_interfaces_serial_Status_Line_Conditions"> </a>

<a name="wp1020563"></a><a name="wpmkr1020562"></a><h3 class="p_H_Head2">
Serial Lines: show interfaces serial Status Line Conditions
</h3>
<a name="wp1020564"></a><p class="pB1_Body1">
You can identify five possible problem states in the interface status line of the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> display (see Figure 15-1):
</p>
<a name="wp1020565"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is down, line protocol is down
</p>
<a name="wp1020566"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is down
</p>
<a name="wp1020567"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is up (looped)
</p>
<a name="wp1020569"></a><a name="wpmkr1020568"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is down (disabled)
</p>
<a name="wp1020571"></a><a name="wpmkr1020570"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is administratively down, line protocol is down
</p>
<a name="wp1020575"></a><p class="pTC_TableCap">
Figure&#160;15-1	Output of the HDLC show interface serial Command</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891501.jpg" id="wp1020573" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<a name="wp1020576"></a><p class="pB1_Body1">
Table 15-1 shows the interface status conditions, possible problems associated with the conditions, and solutions to those problems.
</p>
<a name="wp1020740"></a><p class="pB1_Body1">
</p>
<div align="left">
<table border="1" cellpadding="3" cellspacing="0" width="80%" bordercolor="#808080"
 id="wp1020582table1020577">


 <caption><a name="wp1020582"></a><p class="pTC_TableCap">
Table&#160;15-1	Serial Lines: show interfaces serial Status Line Conditions&#160;
</p>
</caption>

  <tr align="left" valign="bottom">    <th scope="col"><a name="wp1020588"></a><div class="pCH1_CellHead1">
Status Line <br />Condition
</div>
</th>
    <th scope="col"><a name="wp1020590"></a><div class="pCH1_CellHead1">
Possible Problem
</div>
</th>
    <th scope="col"><a name="wp1020592"></a><div class="pCH1_CellHead1">
Solution
</div>
</th>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020595"></a><a name="wpmkr1020594"></a><p class="pB1_Body1">
Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is up
</p>
</td>
<td><a name="wp1020597"></a><p class="pB1_Body1">
&#8212;
</p>
</td>
<td><a name="wp1020599"></a><a name="wpmkr1020600"></a><p class="pB1_Body1">
This is the proper status line condition. No action is required.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020602"></a><p class="pB1_Body1">
Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is down, line protocol is down (DTE<sup><a href="#wpxref1020605">1</a> </sup> mode)
</p>
</td>
<td><a name="wp1020607"></a><p class="pB1_Body1">
The router is not sensing a CD<sup><a href="#wpxref1020610">2</a> </sup> signal (that is, the CD is not active).
</p>
<a name="wp1020611"></a><p class="pB1_Body1">
A telephone company problem has occurred&#8212;line is down or is not connected to CSU<sup><a href="#wpxref1020614">3</a> </sup>/DSU<sup><a href="#wpxref1020617">4</a> </sup>.
</p>
<a name="wp1020618"></a><p class="pB1_Body1">
Cabling is faulty or incorrect.
</p>
<a name="wp1020619"></a><p class="pB1_Body1">
Hardware failure has occurred (CSU/DSU).
</p>
</td>
<td><a name="wp1020621"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Check the LEDs on the CSU/DSU to see whether the CD is active, or insert a breakout box on the line to check for the CD signal.
</p>
<a name="wp1020622"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Verify that you are using the proper cable and interface (see your hardware installation documentation).
</p>
<a name="wp1020623"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Insert a breakout box and check all control leads.
</p>
<a name="wp1020624"></a><p class="pNN_NumNext">
<b>	4.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Contact your leased-line or other carrier service to see whether there is a problem.
</p>
<a name="wp1020625"></a><p class="pNN_NumNext">
<b>	5.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Swap faulty parts.
</p>
<a name="wp1020626"></a><p class="pNN_NumNext">
<b>	6.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If you suspect faulty router hardware, change the serial line to another port. If the connection comes up, the previously connected interface has a problem.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020629"></a><a name="wpmkr1020628"></a><p class="pB1_Body1">
Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is down (DTE mode)
</p>
</td>
<td><a name="wp1020631"></a><p class="pB1_Body1">
A local or remote router is misconfigured.
</p>
<a name="wp1020632"></a><p class="pB1_Body1">
Keepalives are not being sent by the remote router.
</p>
<a name="wp1020633"></a><p class="pB1_Body1">
A leased-line or other carrier service problem has occurred (noisy line or misconfigured or failed switch).
</p>
<a name="wp1020634"></a><p class="pB1_Body1">
A timing problem has occurred on the cable (SCTE<sup><a href="#wpxref1020637">5</a> </sup> not set on CSU/DSU).
</p>
<a name="wp1020638"></a><p class="pB1_Body1">
A local or remote CSU/DSU has failed.
</p>
<a name="wp1020639"></a><p class="pB1_Body1">
Router hardware (local or remote) has failed.
</p>
</td>
<td><a name="wp1020641"></a><a name="wpmkr1020642"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" /> Put the modem, CSU, or DSU in local loopback mode and use the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial </span>command to determine whether the line protocol comes up.
</p>
<a name="wp1020643"></a><p class="pB1_Body1">
If the line protocol comes up, a telephone company problem or a failed remote router is the likely problem.
</p>
<a name="wp1020644"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If the problem appears to be on the remote end, repeat Step 1 on the remote modem, CSU, or DSU.
</p>
<a name="wp1020645"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Verify all cabling. Make certain that the cable is attached to the correct interface, the correct CSU/DSU, and the correct telephone company network termination point. Use the <span style="color: Black; font-style: normal; font-weight: bold">show controllers</span> exec command to determine which cable is attached to which interface.
</p>
<a name="wp1020647"></a><a name="wpmkr1020646"></a><p class="pNN_NumNext">
<b>	4.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Enable the <span style="color: Black; font-style: normal; font-weight: bold">debug serial interface</span> exec command.mmm ,,,, 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020653"></a><a name="wpmkr1020652"></a><p class="pB1_Body1">
Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is down (DTE mode) <span style="color: Black; font-style: italic; font-weight: normal">(continued)</span>
</p>
</td>
<td>&#160;<a name="wp1020655"></a></td>
<td><a name="wp1020657"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Caution:</span> Because debugging output is assigned high priority in the CPU process, it can render the system unusable. For this reason, use <span style="color: Black; font-style: normal; font-weight: bold">debug</span> commands only to troubleshoot specific problems or during troubleshooting sessions with Cisco technical support staff. Moreover, it is best to use <span style="color: Black; font-style: normal; font-weight: bold">debug</span> commands during periods of lower network traffic and fewer users. Debugging during these periods decreases the likelihood that increased <span style="color: Black; font-style: normal; font-weight: bold">debug</span> command processing overhead will affect system use.
</p>
<a name="wp1020658"></a><p class="pNN_NumNext">
<b>	5.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If the line protocol does not come up in local loopback mode, and if the output of the <span style="color: Black; font-style: normal; font-weight: bold">debug serial interface </span>exec command shows that the keepalive counter is not incrementing, a router hardware problem is likely. Swap router interface hardware.
</p>
<a name="wp1020659"></a><p class="pNN_NumNext">
<b>	6.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If the line protocol comes up and the keepalive counter increments, the problem is <span style="color: Black; font-style: italic; font-weight: normal">not</span> in the local router. Troubleshoot the serial line, as described in the sections &quot;Troubleshooting Clocking Problems&quot; and &quot;CSU and DSU Loopback Tests,&quot; later in this chapter.
</p>
<a name="wp1020660"></a><p class="pNN_NumNext">
<b>	7.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If you suspect faulty router hardware, change the serial line to an unused port. If the connection comes up, the previously connected interface has a problem.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020663"></a><a name="wpmkr1020662"></a><p class="pB1_Body1">
Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is down (DCE<sup><a href="#wpxref1020666">6</a> </sup> mode)
</p>
</td>
<td><a name="wp1020668"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">clockrate</span> interface configuration command is missing.
</p>
<a name="wp1020669"></a><p class="pB1_Body1">
The DTE device does not support or is not set up for SCTE mode (terminal timing).
</p>
<a name="wp1020670"></a><p class="pB1_Body1">
The remote CSU or DSU has failed.
</p>
</td>
<td><a name="wp1020673"></a><a name="wpmkr1020672"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Add the <span style="color: Black; font-style: normal; font-weight: bold">clockrate</span> interface configuration command on the serial interface.
</p>
<a name="wp1020674"></a><p class="pB1_Body1">
Syntax:
</p>
<a name="wp1020675"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">clock rate</span> <span style="color: Black; font-style: italic; font-weight: normal">bps</span>
</p>
<a name="wp1020676"></a><p class="pB1_Body1">
Syntax Description:
</p>
<a name="wp1020677"></a><a name="wpmkr1020678"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: italic; font-weight: normal">bps</span>&#8212;Desired clock rate in bits per second: 1200, 2400, 4800, 9600, 19200, 38400, 56000, 64000, 72000, 125000, 148000, 250000, 500000, 800000, 1000000, 1300000, 2000000, 4000000, or 8000000.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020681"></a><a name="wpmkr1020680"></a><p class="pB1_Body1">
Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is down (DCE mode) <span style="color: Black; font-style: italic; font-weight: normal">(continued)</span>
</p>
</td>
<td><a name="wp1020683"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">clockrate</span> interface configuration command is missing.
</p>
<a name="wp1020684"></a><p class="pB1_Body1">
The DTE device does not support or is not set up for SCTE mode (terminal timing).
</p>
<a name="wp1020685"></a><p class="pB1_Body1">
The remote CSU or DSU has failed.
</p>
</td>
<td><a name="wp1020687"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Set the DTE device to SCTE modem if possible. If your CSU/DSU does not support SCTE, you might have to disable SCTE on the Cisco router interface. Refer to the section &quot;Inverting the Transmit Clock,&quot; later in this chapter.
</p>
<a name="wp1020688"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Verify that the correct cable is being used.
</p>
<a name="wp1020689"></a><p class="pNN_NumNext">
<b>	4.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If the line protocol is still down, there is a possible hardware failure or cabling problem. Insert a breakout box and observe leads.
</p>
<a name="wp1020690"></a><p class="pNN_NumNext">
<b>	5.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Replace faulty parts, as necessary.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020693"></a><a name="wpmkr1020692"></a><p class="pB1_Body1">
Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is up (looped)
</p>
</td>
<td><a name="wp1020695"></a><p class="pB1_Body1">
A loop exists in the circuit. The sequence number in the keepalive packet changes to a random number when a loop is initially detected. If the same random number is returned over the link, a loop exists.
</p>
</td>
<td><a name="wp1020698"></a><a name="wpmkr1020697"></a><a name="wpmkr1020699"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" /> Use the <span style="color: Black; font-style: normal; font-weight: bold">show running-config</span> privileged exec command to look for any <span style="color: Black; font-style: normal; font-weight: bold">loopback</span> interface configuration command entries.
</p>
<a name="wp1020701"></a><a name="wpmkr1020700"></a><a name="wpmkr1020702"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If you find a <span style="color: Black; font-style: normal; font-weight: bold">loopback</span> interface configuration command entry, use the <span style="color: Black; font-style: normal; font-weight: bold">no loopback</span> interface configuration command to remove the loop.
</p>
<a name="wp1020703"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If you do not find the <span style="color: Black; font-style: normal; font-weight: bold">loopback</span> interface configuration command, examine the CSU/DSU to determine whether they are configured in manual loopback mode. If they are, disable manual loopback.
</p>
<a name="wp1020704"></a><p class="pNN_NumNext">
<b>	4.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Reset the CSU or DSU, and inspect the line status. If the line protocol comes up, no other action is needed.
</p>
<a name="wp1020705"></a><p class="pNN_NumNext">
<b>	5.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If the CSU or DSU is not configured in manual loopback mode, contact the leased-line or other carrier service for line troubleshooting assistance.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020707"></a><p class="pB1_Body1">
Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is down (disabled)
</p>
</td>
<td><a name="wp1020709"></a><p class="pB1_Body1">
A high error rate has occurred due to a telephone company service problem.
</p>
<a name="wp1020710"></a><p class="pB1_Body1">
A CSU or DSU hardware problem has occurred.
</p>
<a name="wp1020711"></a><p class="pB1_Body1">
Router hardware (interface) is bad.
</p>
</td>
<td><a name="wp1020713"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Troubleshoot the line with a serial analyzer and breakout box. Look for toggling CTS<sup><a href="#wpxref1020716">7</a> </sup> and DSR<sup><a href="#wpxref1020719">8</a> </sup> signals.
</p>
<a name="wp1020720"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Loop CSU/DSU (DTE loop). If the problem continues, it is likely that there is a hardware problem. If the problem does not continue, it is likely that there is a telephone company problem.
</p>
<a name="wp1020721"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Swap out bad hardware, as required (CSU, DSU, switch, local or remote router).
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020726"></a><p class="pB1_Body1">
Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is administrat-ively down, line protocol is down
</p>
</td>
<td><a name="wp1020728"></a><p class="pB1_Body1">
The router configuration includes the <span style="color: Black; font-style: normal; font-weight: bold">shutdown</span> interface configuration command.
</p>
<a name="wp1020729"></a><p class="pB1_Body1">
A duplicate IP address exists.
</p>
</td>
<td><a name="wp1020731"></a><a name="wpmkr1020732"></a><a name="wpmkr1020733"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Check the router configuration for the <span style="color: Black; font-style: normal; font-weight: bold">shutdown</span> command.
</p>
<a name="wp1020735"></a><a name="wpmkr1020734"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Use the <span style="color: Black; font-style: normal; font-weight: bold">no shutdown </span>interface configuration command to remove the <span style="color: Black; font-style: normal; font-weight: bold">shutdown</span> command.
</p>
<a name="wp1020736"></a><a name="wpmkr1020737"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Verify that there are no identical IP addresses using the <span style="color: Black; font-style: normal; font-weight: bold">show running-config </span>privileged exec command or the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces</span> exec command.
</p>
<a name="wp1020738"></a><a name="wpmkr1020739"></a><p class="pNN_NumNext">
<b>	4.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If there are duplicate addresses, resolve the conflict by changing one of the IP addresses.
</p>
</td>
</tr>
</table>

<table>
  <tr>
    <td><a name="wp1020605"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020602">1</a> </sup>DTE = data terminal equipment
</p>
<a name="wp1020610"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020607">2</a> </sup>CD = carrier detect
</p>
<a name="wp1020614"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020611">3</a> </sup>CSU = channel service unit
</p>
<a name="wp1020617"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020611">4</a> </sup>DSU = digital service unit
</p>
<a name="wp1020637"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020634">5</a> </sup>SCTE = serial clock transmit external
</p>
<a name="wp1020666"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020663">6</a> </sup>DCE = data circuit-terminating equipment or data communications equipment
</p>
<a name="wp1020716"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020713">7</a> </sup>CTS = clear-to-send
</p>
<a name="wp1020719"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020713">8</a> </sup>DSR = data-set ready
</p>
</td>
  </tr>
</table>
</div><br />
<p class="pB1_Body1">

</p>

<a name="Serial_Lines:_Increasing_Output_Drops_on_Serial_Link"> </a>

<a name="wp1020742"></a><a name="wpmkr1020741"></a><h3 class="p_H_Head2">
Serial Lines: Increasing Output Drops on Serial Link
</h3>
<a name="wp1020743"></a><p class="pB1_Body1">
Output drops appear in the output of the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> command (refer to Figure 15-1) when the system is attempting to hand off a packet to a transmit buffer but no buffers are available.
</p>
<a name="wp1020744"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Symptom:</span> Increasing output drops on serial link
</p>
<a name="wp1020745"></a><p class="pB1_Body1">
Table 15-2 outlines the possible problem that might cause this symptom and describes solutions to that problem.<span style="color: Black; font-style: normal; font-weight: normal"></span></p>
<div align="left">
<table border="1" cellpadding="3" cellspacing="0" width="80%" bordercolor="#808080"
 id="wp1020751table1020746">


 <caption><a name="wp1020751"></a><p class="pTC_TableCap">
Table&#160;15-2	Serial Lines: Increasing Output Drops on Serial Link&#160;
</p>
</caption>

  <tr align="left" valign="bottom">    <th scope="col"><a name="wp1020755"></a><div class="pCH1_CellHead1">
Possible Problem
</div>
</th>
    <th scope="col"><a name="wp1020757"></a><div class="pCH1_CellHead1">
Solution
</div>
</th>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020759"></a><p class="pB1_Body1">
Input rate to serial interface exceeds bandwidth available on serial link
</p>
</td>
<td><a name="wp1020764"></a><a name="wpmkr1020765"></a><a name="wpmkr1020766"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" /> Minimize periodic broadcast traffic, such as routing and SAP<sup><a href="#wpxref1020763">1</a> </sup> updates, by using access lists or by other means. For example, to increase the delay between SAP updates, use the <span style="color: Black; font-style: normal; font-weight: bold">ipx sap-interval</span> interface configuration command.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020768"></a><p class="pB1_Body1">
Input rate to serial interface exceeds bandwidth available on serial link <span style="color: Black; font-style: italic; font-weight: normal">(continued)</span>
</p>
</td>
<td><a name="wp1020770"></a><a name="wpmkr1020771"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Increase the output hold queue size in small increments (for instance, 25 percent), using the <span style="color: Black; font-style: normal; font-weight: bold">hold-queue out</span> interface configuration command.
</p>
<a name="wp1020772"></a><a name="wpmkr1020773"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />On affected interfaces, turn off fast switching for heavily used protocols. For example, to turn off IP fast switching, enter the <span style="color: Black; font-style: normal; font-weight: bold">no ip route-cache</span> interface configuration command. For the command syntax for other protocols, consult the Cisco IOS configuration guides and command references.
</p>
<a name="wp1020774"></a><p class="pNN_NumNext">
<b>	4.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Implement priority queuing on slower serial links by configuring priority lists. For information on configuring priority lists, see the Cisco IOS configuration guides and command references.
</p>
<a name="wp1020775"></a><a name="wpmkr1020779"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Note:</span> Output drops are acceptable under certain conditions. For instance, if a link is known to be overused (with no way to remedy the situation), it is often considered preferable to drop packets than to hold them. This is true for protocols that support flow control and can retransmit data (such as TCP/IP and Novell IPX<sup><a href="#wpxref1020778">2</a> </sup>). However, some protocols, such as DECnet and local-area transport, are sensitive to dropped packets and accommodate retransmission poorly, if at all.
</p>
</td>
</tr>
</table>

<table>
  <tr>
    <td><a name="wp1020763"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020764">1</a> </sup>SAP = Service Advertising Protocol
</p>
<a name="wp1020778"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020775">2</a> </sup>IPX = Internetwork Packet Exchange
</p>
</td>
  </tr>
</table>
</div><br />
<p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: normal"></span>
</p>

<a name="Serial_Lines:_Increasing_Input_Drops_on_Serial_Link"> </a>

<a name="wp1020781"></a><a name="wpmkr1020780"></a><h3 class="p_H_Head2">
Serial Lines: Increasing Input Drops on Serial Link
</h3>
<a name="wp1020782"></a><p class="pB1_Body1">
Input drops appear in the output of the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces</span> <span style="color: Black; font-style: normal; font-weight: bold">serial</span> exec command (refer to Figure 15-1) when too many packets from that interface are still being processed in the system.
</p>
<a name="wp1020783"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Symptom:</span> Increasing number of input drops on serial link
</p>
<a name="wp1020784"></a><p class="pB1_Body1">
Table 15-3 outlines the possible problem that might cause this symptom and describes solutions to that problem.<span style="color: Black; font-style: normal; font-weight: normal"></span></p>
<div align="left">
<table border="1" cellpadding="3" cellspacing="0" width="80%" bordercolor="#808080"
 id="wp1020790table1020785">


 <caption><a name="wp1020790"></a><p class="pTC_TableCap">
Table&#160;15-3	Serial Lines: Increasing Input Drops on Serial Link&#160;
</p>
</caption>

  <tr align="left" valign="bottom">    <th scope="col"><a name="wp1020794"></a><div class="pCH1_CellHead1">
Possible Problem
</div>
</th>
    <th scope="col"><a name="wp1020796"></a><div class="pCH1_CellHead1">
Solution
</div>
</th>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020798"></a><p class="pB1_Body1">
Input rate exceeds the capacity of the router, or input queues exceed the size of output queues
</p>
</td>
<td><a name="wp1020800"></a><a name="wpmkr1020804"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Note</span>: Input drop problems are typically seen when traffic is being routed between faster interfaces (such as Ethernet, Token Ring, and FDDI<sup><a href="#wpxref1020803">1</a> </sup>) and serial interfaces. When traffic is light, there is no problem. As traffic rates increase, backups start occurring. Routers drop packets during these congested periods.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020809"></a><p class="pB1_Body1">
Input rate exceeds the capacity of the router, or input queues exceed the size of output queues <span style="color: Black; font-style: italic; font-weight: normal">(continued)</span>
</p>
</td>
<td><a name="wp1020811"></a><a name="wpmkr1020812"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold"> </span>Increase the output queue size on common destination interfaces for the interface that is dropping packets. Use the <span style="color: Black; font-style: normal; font-weight: bold">hold-queue </span><span style="color: Black; font-style: italic; font-weight: bold">number </span><span style="color: Black; font-style: normal; font-weight: bold">out</span> interface configuration command. Increase these queues by small increments (for instance, 25 percent) until you no longer see drops in the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces</span> output. The default output hold queue limit is 100 packets.
</p>
<a name="wp1020814"></a><a name="wpmkr1020813"></a><a name="wpmkr1020815"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Reduce the input queue size, using the <span style="color: Black; font-style: normal; font-weight: bold">hold-queue </span><span style="color: Black; font-style: italic; font-weight: bold">number </span><span style="color: Black; font-style: normal; font-weight: bold">in</span> interface configuration command, to force input drops to become output drops. Output drops have less impact on the performance of the router than do input drops. The default input hold queue is 75 packets.
</p>
</td>
</tr>
</table>

<table>
  <tr>
    <td><a name="wp1020803"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020800">1</a> </sup>FDDI = Fiber Distributed Data Interface
</p>
</td>
  </tr>
</table>
</div><br />
<p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: normal"></span>
</p>

<a name="Serial_Lines:_Increasing_Input_Errors_in&#160;Excess&#160;of&#160;1&#160;Percent&#160;of&#160;Total&#160;Interface_Traffic"> </a>

<a name="wp1020816"></a><a name="wpmkr1020817"></a><h3 class="p_H_Head2">
Serial Lines: Increasing Input Errors in&#160;Excess&#160;of&#160;1&#160;Percent&#160;of&#160;Total&#160;Interface Traffic
</h3>
<a name="wp1020818"></a><p class="pB1_Body1">
If input errors appear in the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> output (refer to Figure 15-1), there are several possible sources of those errors. The most likely sources are summarized in Table&#160;15-4.
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1020819"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />Any input error value for cyclic redundancy check (CRC) errors, framing errors, or aborts above 1 percent of the total interface traffic suggests some kind of link problem that should be isolated and repaired.
</p>
<hr class="Cautn1table" /><a name="wp1020851"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Symptom: </span>Increasing number of input errors in excess of 1 percent of total interface traffic<span style="color: Black; font-style: normal; font-weight: normal"></span></p>
<div align="left">
<table border="1" cellpadding="3" cellspacing="0" width="80%" bordercolor="#808080"
 id="wp1020825table1020820">


 <caption><a name="wp1020825"></a><p class="pTC_TableCap">
Table&#160;15-4	Serial Lines: Increasing Input Errors in Excess of 1 Percent of Total Interface Traffic&#160;
</p>
</caption>

  <tr align="left" valign="bottom">    <th scope="col"><a name="wp1020829"></a><div class="pCH1_CellHead1">
Possible Problem
</div>
</th>
    <th scope="col"><a name="wp1020831"></a><div class="pCH1_CellHead1">
Solution
</div>
</th>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020833"></a><p class="pB1_Body1">
The following problems can result in this symptom:
</p>
<a name="wp1020834"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Faulty telephone company equipment
</p>
<a name="wp1020835"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Noisy serial line
</p>
<a name="wp1020836"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Incorrect clocking configuration (SCTE not set)
</p>
</td>
<td><a name="wp1020838"></a><a name="wpmkr1020839"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Note:</span> Cisco strongly recommends against the use of data converters when you are connecting a router to a WAN or a serial network.
</p>
<a name="wp1020840"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Use a serial analyzer to isolate the source of the input errors. If you detect errors, there likely is a hardware problem or a clock mismatch in a device that is external to the router.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020842"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Incorrect cable or cable that is too long
</p>
<a name="wp1020843"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Bad cable or connection
</p>
<a name="wp1020844"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Bad CSU or DSU
</p>
<a name="wp1020845"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Bad router hardware
</p>
<a name="wp1020846"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Data converter or other device being used between router and DSU
</p>
</td>
<td><a name="wp1020848"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Use the loopback and <span style="color: Black; font-style: normal; font-weight: bold">ping</span> tests to isolate the specific problem source. For more information, see the sections &quot;Using Extended ping Tests&quot; and &quot;CSU and DSU Loopback Tests,&quot; later in this chapter.
</p>
<a name="wp1020849"></a><a name="wpmkr1020850"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Look for patterns. For example, if errors occur at a consistent interval, they could be related to a periodic function, such as the sending of routing updates.
</p>
</td>
</tr>
</table>
</div><br />
<p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: normal"></span>
</p>

<a name="Serial_Lines:_Troubleshooting_Serial_Line_Input_Errors"> </a>

<a name="wp1020852"></a><h3 class="p_H_Head2">
Serial Lines: Troubleshooting Serial Line Input Errors
</h3>
<a name="wp1020853"></a><p class="pB1_Body1">
Table 15-5 describes the various types of input errors displayed by the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> command (see Figure 15-1), possible problems that might be causing the errors, and solutions to those problems.<span style="color: Black; font-style: normal; font-weight: normal"></span></p>
<div align="left">
<table border="1" cellpadding="3" cellspacing="0" width="80%" bordercolor="#808080"
 id="wp1020859table1020854">


 <caption><a name="wp1020859"></a><p class="pTC_TableCap">
Table&#160;15-5	Serial Lines: Troubleshooting Serial Line Input Errors&#160;
</p>
</caption>

  <tr align="left" valign="bottom">    <th scope="col"><a name="wp1020865"></a><div class="pCH1_CellHead1">
Input Error Type<br />(Field Name)
</div>
</th>
    <th scope="col"><a name="wp1020867"></a><div class="pCH1_CellHead1">
Possible Problem
</div>
</th>
    <th scope="col"><a name="wp1020869"></a><div class="pCH1_CellHead1">
Solution
</div>
</th>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020872"></a><a name="wpmkr1020871"></a><p class="pB1_Body1">
CRC errors (CRC)
</p>
</td>
<td><a name="wp1020874"></a><p class="pB1_Body1">
CRC errors occur when the CRC calculation does not pass (indicating that data is corrupted) for one of the following reasons:
</p>
<a name="wp1020875"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />The serial line is noisy.
</p>
<a name="wp1020876"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />The serial cable is too long, or the cable from the CSU/DSU to the router is not shielded
</p>
<a name="wp1020877"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />SCTE mode is not enabled on DSU.
</p>
</td>
<td><a name="wp1020879"></a><a name="wpmkr1020880"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Ensure that the line is clean enough for transmission requirements. Shield the cable, if necessary.
</p>
<a name="wp1020881"></a><a name="wpmkr1020882"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Make sure that the cable is within the recommended length (no more than 50 feet [15.24 meters], or 25 feet [7.62 meters] for a T1 link).
</p>
<a name="wp1020883"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Ensure that all devices are properly configured for a common line clock. Set SCTE on the local and remote DSU. If your CSU/DSU does not support SCTE, see the section &quot;Inverting the Transmit Clock,&quot; later in this chapter.
</p>
<a name="wp1020884"></a><p class="pNN_NumNext">
<b>	4.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Make certain that the local and remote CSU/DSU are configured for the same framing and coding scheme as that used by the leased-line or other carrier service (for example, ESF/B8ZS).
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020890"></a><a name="wpmkr1020889"></a><p class="pB1_Body1">
CRC errors (CRC) <span style="color: Black; font-style: italic; font-weight: normal">(continued)</span>
</p>
</td>
<td><a name="wp1020892"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />The CSU line clock is incorrectly configured.
</p>
<a name="wp1020893"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />A ones density problem has occurred on the T1 link (incorrect framing or coding specification).
</p>
</td>
<td><a name="wp1020895"></a><p class="pNN_NumNext">
<b>	5.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Contact your leased-line or other carrier service, and have it perform integrity tests on the line.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020898"></a><a name="wpmkr1020897"></a><p class="pB1_Body1">
Framing errors (frame)
</p>
</td>
<td><a name="wp1020900"></a><p class="pB1_Body1">
A framing error occurs when a packet does not end on an 8-bit byte boundary for one of the following reasons:
</p>
<a name="wp1020901"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />The serial line is noisy
</p>
<a name="wp1020902"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />The cable is improperly designed; the serial cable is too long; the cable from the CSU or DSU to the router is not shielded.
</p>
<a name="wp1020903"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />SCTE mode is not enabled on the DSU; the CSU line clock is incorrectly configured; one of the clocks is configured for local clocking.
</p>
<a name="wp1020904"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />A ones density problem has occurred on the T1 link (incorrect framing or coding specification).
</p>
</td>
<td><a name="wp1020906"></a><a name="wpmkr1020907"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Ensure that the line is clean enough for transmission requirements. Shield the cable, if necessary. Make certain that you are using the correct cable.
</p>
<a name="wp1020908"></a><a name="wpmkr1020909"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Make sure that the cable is within the recommended length (no more than 50 feet [15.24 meters], or 25 feet [7.62 meters] for a T1 link).
</p>
<a name="wp1020910"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Ensure that all devices are properly configured to use a common line clock. Set SCTE on the local and remote DSU. If your CSU/DSU does not support SCTE, see the section &quot;Inverting the Transmit Clock,&quot; later in this chapter.
</p>
<a name="wp1020911"></a><p class="pNN_NumNext">
<b>	4.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Make certain that the local and remote CSU/DSU is configured for the same framing and coding scheme as that used by the leased-line or other carrier service (for example, ESF<sup><a href="#wpxref1020914">1</a> </sup>/B8ZS<sup><a href="#wpxref1020917">2</a> </sup>).
</p>
<a name="wp1020918"></a><p class="pNN_NumNext">
<b>	5.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Contact your leased-line or other carrier service, and have it perform integrity tests on the line.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020921"></a><a name="wpmkr1020920"></a><p class="pB1_Body1">
Aborted transmission (abort)
</p>
</td>
<td><a name="wp1020923"></a><p class="pB1_Body1">
Aborts indicate an illegal sequence of 1 bit (more than seven in a row)
</p>
<a name="wp1020924"></a><p class="pB1_Body1">
The following are possible reasons for this to occur:
</p>
<a name="wp1020925"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />SCTE mode is not enabled on DSU.
</p>
<a name="wp1020926"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />The CSU line clock is incorrectly configured.
</p>
<a name="wp1020927"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />The serial cable is too long, or the cable from the CSU or DSU to the router is not shielded.
</p>
<a name="wp1020928"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />A ones density problem has occurred on the T1 link (incorrect framing or coding specification).
</p>
<a name="wp1020929"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />A packet terminated in middle of transmission (typical cause is an interface reset or a framing error).
</p>
<a name="wp1020930"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />A hardware problem has occurred (bad circuit, bad CSU/DSU, or bad sending interface on remote router).
</p>
</td>
<td><a name="wp1020932"></a><a name="wpmkr1020933"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Ensure that all devices are properly configured to use a common line clock. Set SCTE on the local and remote DSU. If your CSU/DSU does not support SCTE, see the section &quot;Inverting the Transmit Clock,&quot; later in this chapter.
</p>
<a name="wp1020934"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Shield the cable, if necessary. Make certain that the cable is within the recommended length (no more than 50 feet [15.24 meters], or 25 feet [7.62 meters] for a T1 link). Ensure that all connections are good.
</p>
<a name="wp1020935"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Check the hardware at both ends of the link. Swap faulty equipment, as necessary.
</p>
<a name="wp1020936"></a><p class="pNN_NumNext">
<b>	4.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Lower data rates and determine whether aborts decrease.
</p>
<a name="wp1020937"></a><p class="pNN_NumNext">
<b>	5.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Use local and remote loopback tests to determine where aborts are occurring (see the section &quot;Special Serial Line Tests,&quot; later in this chapter).
</p>
<a name="wp1020938"></a><a name="wpmkr1020939"></a><p class="pNN_NumNext">
<b>	6.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Contact your leased-line or other carrier service, and have it perform integrity tests on the line.
</p>
</td>
</tr>
</table>

<table>
  <tr>
    <td><a name="wp1020914"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020911">1</a> </sup>ESF = Extended Superframe Format
</p>
<a name="wp1020917"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1020911">2</a> </sup>B8ZS = binary eight-zero substitution
</p>
</td>
  </tr>
</table>
</div><br />
<p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: normal"></span>
</p>

<a name="Serial_Lines:_Increasing_Interface_Resets_on_Serial_Link"> </a>

<a name="wp1020941"></a><a name="wpmkr1020940"></a><h3 class="p_H_Head2">
Serial Lines: Increasing Interface Resets on Serial Link
</h3>
<a name="wp1020942"></a><p class="pB1_Body1">
Interface resets that appear in the output of the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> exec command (see Figure 15-1) are the result of missed keepalive packets.
</p>
<a name="wp1020943"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Symptom: </span>Increasing interface resets on serial link
</p>
<a name="wp1020944"></a><p class="pB1_Body1">
Table 15-6 outlines the possible problems that might cause this symptom and describes solutions to those problems.<span style="color: Black; font-style: normal; font-weight: normal"></span></p>
<div align="left">
<table border="1" cellpadding="3" cellspacing="0" width="80%" bordercolor="#808080"
 id="wp1020947table1020945">


 <caption><a name="wp1020947"></a><p class="pTC_TableCap">
Table&#160;15-6	Serial Lines: Increasing Interface Resets on Serial Link
</p>
</caption>

  <tr align="left" valign="bottom">    <th scope="col"><a name="wp1020951"></a><div class="pCH1_CellHead1">
Possible Problem
</div>
</th>
    <th scope="col"><a name="wp1020953"></a><div class="pCH1_CellHead1">
Solution
</div>
</th>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020955"></a><p class="pB1_Body1">
The following problems can result in this symptom:
</p>
<a name="wp1020957"></a><a name="wpmkr1020956"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Congestion on link (typically associated with output drops)
</p>
<a name="wp1020959"></a><a name="wpmkr1020958"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Bad line causing CD transitions
</p>
<a name="wp1020961"></a><a name="wpmkr1020960"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Possible hardware problem at the CSU, DSU, or switch
</p>
</td>
<td><a name="wp1020963"></a><a name="wpmkr1020964"></a><p class="pB1_Body1">
When interface resets are occurring, examine other fields of the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> command output to determine the source of the problem. Assuming that an increase in interface resets is being recorded, examine the following fields:
</p>
<a name="wp1020965"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If there is a high number of output drops in the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> output, see the section &quot;Serial Lines: Increasing Output Drops on Serial Link,&quot; earlier in this chapter.
</p>
<a name="wp1020966"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Check the Carrier Transitions field in the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> display. If carrier transitions are high while interface resets are being registered, the problem is likely to be a bad link or a bad CSU or DSU. Contact your leased-line or carrier service, and swap faulty equipment, as necessary.
</p>
<a name="wp1020967"></a><a name="wpmkr1020968"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Examine the Input Errors field in the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> display. If input errors are high while interface resets are increasing, the problem is probably a bad link or a bad CSU/DSU. Contact your leased-line or other carrier service, and swap faulty equipment, as necessary.
</p>
</td>
</tr>
</table>
</div><br />
<p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: normal"></span>
</p>

<a name="Serial_Lines:_Increasing_Carrier_Transitions_Count_on_Serial_Link"> </a>

<a name="wp1020970"></a><a name="wpmkr1020969"></a><h3 class="p_H_Head2">
Serial Lines: Increasing Carrier Transitions Count on Serial Link
</h3>
<a name="wp1020971"></a><p class="pB1_Body1">
Carrier transitions appear in the output of the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> exec command whenever there is an interruption in the carrier signal (such as an interface reset at the remote end of a link).
</p>
<a name="wp1020972"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Symptom: </span>Increasing carrier transitions count on serial link
</p>
<a name="wp1020973"></a><p class="pB1_Body1">
Table 15-7 outlines the possible problems that might cause this symptom and describes solutions to those problems.<span style="color: Black; font-style: normal; font-weight: normal"></span></p>
<div align="left">
<table border="1" cellpadding="3" cellspacing="0" width="80%" bordercolor="#808080"
 id="wp1020976table1020974">


 <caption><a name="wp1020976"></a><p class="pTC_TableCap">
Table&#160;15-7	Serial Lines: Increasing Carrier Transitions Count on Serial Link
</p>
</caption>

  <tr align="left" valign="bottom">    <th scope="col"><a name="wp1020980"></a><div class="pCH1_CellHead1">
Possible Problem
</div>
</th>
    <th scope="col"><a name="wp1020982"></a><div class="pCH1_CellHead1">
Solution
</div>
</th>
</tr>
  <tr align="left" valign="top"><td><a name="wp1020984"></a><p class="pB1_Body1">
The following problems can result in this symptom:
</p>
<a name="wp1020986"></a><a name="wpmkr1020985"></a><a name="wpmkr1020987"></a><a name="wpmkr1020988"></a><a name="wpmkr1020989"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Line interruptions due to an external source (such as physical separation of cabling, red or yellow T1 alarms, or lightning striking somewhere along the network)
</p>
<a name="wp1020991"></a><a name="wpmkr1020990"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Faulty switch, DSU, or router hardware
</p>
</td>
<td><a name="wp1020993"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Check hardware at both ends of the link (attach a breakout box or a serial analyzer, and test to determine the source of problems).
</p>
<a name="wp1020994"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If an analyzer or breakout box is incapable of identifying any external problems, check the router hardware.
</p>
<a name="wp1020997"></a><a name="wpmkr1020995"></a><a name="wpmkr1020996"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Swap faulty equipment, as necessary.
</p>
</td>
</tr>
</table>
</div><br />
<p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: normal"></span>
</p>
<a name="Using_the_show_controllers_Command"> </a>

<a name="wp1020999"></a><a name="wpmkr1020998"></a><h2 class="p_H_Head1">
Using the show controllers Command
</h2>

<a name="wp1021000"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">show controllers</span> exec command is another important diagnostic tool when troubleshooting serial lines. The command syntax varies, depending on platform:
</p>
<a name="wp1021001"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />For serial interfaces on Cisco 7000 series routers, use the <span style="color: Black; font-style: normal; font-weight: bold">show controllers cbus</span> exec command.
</p>
<a name="wp1021002"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />For Cisco access products, use the <span style="color: Black; font-style: normal; font-weight: bold">show controllers</span> exec command.
</p>
<a name="wp1021003"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />For the AGS, CGS, and MGS, use the <span style="color: Black; font-style: normal; font-weight: bold">show controllers mci</span> exec command.
</p>
<a name="wp1021004"></a><p class="pB1_Body1">
Figure 15-2 shows the output from the <span style="color: Black; font-style: normal; font-weight: bold">show controllers cbus</span> exec command. This command is used on Cisco 7000 series routers with the Fast Serial Interface Processor (FSIP) card. Check the command output to make certain that the cable to the channel service unit/digital service unit (CSU/DSU) is attached to the proper interface. You can also check the microcode version to see whether it is current.
</p>
<a name="wp1021008"></a><p class="pTC_TableCap">
Figure&#160;15-2	show controllers cbus Command Output</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891502.jpg" id="wp1021006" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<a name="wp1021009"></a><p class="pB1_Body1">
On access products such as the Cisco 2000, Cisco 2500, Cisco 3000, and Cisco 4000 series access servers and routers, use the <span style="color: Black; font-style: normal; font-weight: bold">show controllers</span> exec command. Figure 15-3 shows the <span style="color: Black; font-style: normal; font-weight: bold">show controllers</span> command output from the Basic Rate Interface (BRI) and serial interfaces on a Cisco 2503 access server. (Note that some output is not shown.)
</p>
<a name="wp1021010"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">show controllers</span> output indicates the state of the interface channels and whether a cable is attached to the interface. In Figure 15-3, serial interface 0 has an RS-232 DTE cable attached. Serial interface 1 has no cable attached.
</p>
<a name="wp1021011"></a><a name="wpmkr1021012"></a><p class="pB1_Body1">
Figure 15-4 shows the output of the <span style="color: Black; font-style: normal; font-weight: bold">show controllers mci</span> command. This command is used on AGS, CGS, and MGS routers only. If the electrical interface is displayed as UNKNOWN (instead of V.35, EIA/TIA-449, or some other electrical interface type), an improperly connected cable is the likely problem. A bad applique or a problem with the internal wiring of the card is also possible. If the electrical interface is unknown, the corresponding display for the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> exec command will show that the interface and line protocol are down.
</p>
<a name="wp1021016"></a><p class="pTC_TableCap">
Figure&#160;15-3	show controllers Command Output</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891503.jpg" id="wp1021014" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<a name="wp1021020"></a><p class="pTC_TableCap">
Figure&#160;15-4	show controllers mci Command Output</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891504.jpg" id="wp1021018" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<a name="Using_debug_Commands"> </a>

<a name="wp1021022"></a><a name="wpmkr1021021"></a><h2 class="p_H_Head1">
Using debug Commands
</h2>

<a name="wp1021023"></a><p class="pB1_Body1">
The output of the various <span style="color: Black; font-style: normal; font-weight: bold">debug</span> privileged exec commands provides diagnostic information relating to protocol status and network activity for many internetworking events.
</p>
<div class="caut1"><img src="../../../../i/templates/caut.gif" alt="" /></div><hr class="Cautn1" />
<a name="wp1021024"></a><div class="pCautn">
<b>Caution	</b><img src="../../../../i/templates/blank.gif" alt="" width="6" height="2" border="0" />Because debugging output is assigned high priority in the CPU process, it can render the system unusable. For this reason, use <span style="color: Black; font-style: normal; font-weight: bold">debug</span> commands only to troubleshoot specific problems or during troubleshooting sessions with Cisco technical support staff. Moreover, it is best to use <span style="color: Black; font-style: normal; font-weight: bold">debug</span> commands during periods of lower network traffic and fewer users. Debugging during these periods decreases the likelihood that increased <span style="color: Black; font-style: normal; font-weight: bold">debug</span> command processing overhead will affect system use. When you finish using a <span style="color: Black; font-style: normal; font-weight: bold">debug</span> command, remember to disable it with its specific <span style="color: Black; font-style: normal; font-weight: bold">no debug</span> command or with the <span style="color: Black; font-style: normal; font-weight: bold">no debug all</span> command.
</div>
<hr class="Cautn1" />
<a name="wp1021025"></a><p class="pB1_Body1">
Following are some <span style="color: Black; font-style: normal; font-weight: bold">debug</span> commands that are useful when troubleshooting serial and WAN problems. More information about the function and output of each of these commands is provided in the <span style="color: Black; font-style: italic; font-weight: normal">Debug Command Referenc</span>e publication:
</p>
<a name="wp1021027"></a><a name="wpmkr1021026"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug serial interface</span>&#8212;Verifies whether HDLC keepalive packets are incrementing. If they are not, a possible timing problem exists on the interface card or in the network.
</p>
<a name="wp1021029"></a><a name="wpmkr1021028"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug x25 events</span>&#8212;Detects X.25 events, such as the opening and closing of switched virtual circuits (SVCs). The resulting cause and diagnostic information is included with the event report.
</p>
<a name="wp1021031"></a><a name="wpmkr1021030"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug lapb</span>&#8212;Outputs Link Access Procedure, Balanced (LAPB) or Level 2 X.25 information.
</p>
<a name="wp1021033"></a><a name="wpmkr1021032"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug arp</span>&#8212;Indicates whether the router is sending information about or learning about routers (with ARP packets) on the other side of the WAN cloud. Use this command when some nodes on a TCP/IP network are responding, but others are not.
</p>
<a name="wp1021035"></a><a name="wpmkr1021034"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug frame-relay lmi</span>&#8212;Obtains Local Management Interface (LMI) information useful for determining whether a Frame Relay switch and a router are sending and receiving LMI packets.
</p>
<a name="wp1021037"></a><a name="wpmkr1021036"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug frame-relay events</span>&#8212;Determines whether exchanges are occurring between a router and a Frame Relay switch.
</p>
<a name="wp1021039"></a><a name="wpmkr1021038"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug ppp negotiation</span>&#8212;Shows Point-to-Point Protocol (PPP) packets transmitted during PPP startup, where PPP options are negotiated.
</p>
<a name="wp1021041"></a><a name="wpmkr1021040"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug ppp packet</span>&#8212;Shows PPP packets being sent and received. This command displays low-level packet dumps.
</p>
<a name="wp1021043"></a><a name="wpmkr1021042"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug ppp errors</span>&#8212;Shows PPP errors (such as illegal or malformed frames) associated with PPP connection negotiation and operation.
</p>
<a name="wp1021045"></a><a name="wpmkr1021044"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug ppp chap</span>&#8212;Shows PPP Challenge Handshake Authentication Protocol (CHAP) and Password Authentication Protocol (PAP) packet exchanges.
</p>
<a name="wp1021047"></a><a name="wpmkr1021046"></a><a name="wpmkr1021048"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">debug serial packet</span>&#8212;Shows Switched Multimegabit Data Service (SMDS) packets being sent and received. This display also prints error messages to indicate why a packet was not sent or was received erroneously. For SMDS, the command dumps the entire SMDS header and some payload data when an SMDS packet is transmitted or received.
</p>
<a name="Using_Extended_ping_Tests"> </a>

<a name="wp1021050"></a><a name="wpmkr1021049"></a><h2 class="p_H_Head1">
Using Extended ping Tests
</h2>

<a name="wp1021051"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">ping</span> command is a useful test available on Cisco internetworking devices as well as on many host systems. In TCP/IP, this diagnostic tool is also known as an Internet Control Message Protocol (ICMP) echo request.
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021052"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />The <span style="color: Black; font-style: normal; font-weight: bold">ping</span> command is particularly useful when high levels of input errors are being registered in the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> display. See Figure 15-1.
</p>
<hr class="Cautn1table" /><a name="wp1021053"></a><a name="wpmkr1021054"></a><p class="pB1_Body1">
Cisco internetworking devices provide a mechanism to automate the sending of many <span style="color: Black; font-style: normal; font-weight: bold">ping</span> packets in sequence. Figure 15-5 illustrates the menu used to specify extended <span style="color: Black; font-style: normal; font-weight: bold">ping</span> options. This example specifies 20 successive <span style="color: Black; font-style: normal; font-weight: bold">pings</span>. However, when testing the components on your serial line, you should specify a much larger number, such as 1000 <span style="color: Black; font-style: normal; font-weight: bold">pings</span>. Also increase the datagram size to a larger number, such as 1500.
</p>
<a name="wp1021058"></a><p class="pTC_TableCap">
Figure&#160;15-5	Extended ping Specification Menu</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891505.jpg" id="wp1021056" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<a name="wp1021059"></a><p class="pB1_Body1">
In general, perform serial line <span style="color: Black; font-style: normal; font-weight: bold">ping</span> tests as follows:
</p>
<hr noshade />
<a name="wp1021060"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Put the CSU or DSU into local loopback mode.
</p>
<a name="wp1021061"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Configure the extended <span style="color: Black; font-style: normal; font-weight: bold">ping</span> command to send different data patterns and packet sizes. Figure 15-6 and Figure 15-7 illustrate two useful <span style="color: Black; font-style: normal; font-weight: bold">ping</span> tests, an all-zeros 1500-byte <span style="color: Black; font-style: normal; font-weight: bold">ping</span> and an all-ones 1500-byte <span style="color: Black; font-style: normal; font-weight: bold">ping</span>, respectively.
</p>
<a name="wp1021062"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Examine the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> command output (see Figure 15-1) and determine whether input errors have increased. If input errors have not increased, the local hardware (DSU, cable, router interface card) is probably in good condition.
</p>
<a name="wp1021063"></a><p class="pB1_Body1">
Assuming that this test sequence was prompted by the appearance of a large number of CRC and framing errors, a clocking problem is likely. Check the CSU or DSU for a timing problem. See the section &quot;Troubleshooting Clocking Problems,&quot; next.
</p>
<a name="wp1021064"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If you determine that the clocking configuration is correct and is operating properly, put the CSU or DSU into remote loopback mode.
</p>
<a name="wp1021065"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Repeat the <span style="color: Black; font-style: normal; font-weight: bold">ping</span> test and look for changes in the input error statistics.
</p>
<a name="wp1021066"></a><a name="wpmkr1021067"></a><p class="pSN_StepNext">
<b>Step 6	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If input errors increase, there is a problem either in the serial line or on the CSU/DSU. Contact the WAN service provider and swap the CSU or DSU. If problems persist, contact your technical support representative.
</p>
<a name="wp1021071"></a><p class="pTC_TableCap">
Figure&#160;15-6	All-Zeros 1500-Byte ping Test</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891506.jpg" id="wp1021069" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<a name="wp1021075"></a><p class="pTC_TableCap">
Figure&#160;15-7	All-Ones 1500-Byte ping Test</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891507.jpg" id="wp1021073" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<a name="Troubleshooting_Clocking_Problems"> </a>

<a name="wp1021077"></a><a name="wpmkr1021076"></a><h2 class="p_H_Head1">
Troubleshooting Clocking Problems
</h2>

<a name="wp1021078"></a><p class="pB1_Body1">
Clocking conflicts in serial connections can lead either to chronic loss of connection service or to degraded performance. This section discusses the important aspects of clocking problems: clocking problem causes, how to detect clocking problems, how to isolate clocking problems, and clocking problem solutions.
</p>

<a name="Clocking_Overview"> </a>

<a name="wp1021079"></a><h3 class="p_H_Head2">
Clocking Overview
</h3>
<a name="wp1021080"></a><p class="pB1_Body1">
The CSU/DSU derives the data clock from the data that passes through it. To recover the clock, the CSU/DSU hardware <span style="color: Black; font-style: italic; font-weight: normal">must</span> receive at least one 1-bit value for every 8 bits of data that pass through it; this is known as <span style="color: Black; font-style: italic; font-weight: normal">ones density</span>. Maintaining ones density allows the hardware to recover the data clock reliably.
</p>
<a name="wp1021082"></a><a name="wpmkr1021081"></a><a name="wpmkr1021083"></a><p class="pB1_Body1">
Newer T1 implementations commonly use Extended Superframe Format (ESF) framing with binary eight-zero substitution (B8ZS) coding. B8ZS provides a scheme by which a special code is substituted whenever eight consecutive zeros are sent through the serial link. This code is then interpreted at the remote end of the connection. This technique guarantees ones density independent of the data stream.
</p>
<a name="wp1021085"></a><a name="wpmkr1021084"></a><a name="wpmkr1021086"></a><p class="pB1_Body1">
Older T1 implementations use D4 (also known as Superframe Format [SF]) framing and Alternate Mark Inversion (AMI) coding. AMI does not utilize a coding scheme like B8ZS. This restricts the type of data that can be transmitted because ones density is not maintained independent of the data stream.
</p>
<a name="wp1021088"></a><a name="wpmkr1021087"></a><a name="wpmkr1021089"></a><p class="pB1_Body1">
Another important element in serial communications is serial clock transmit external (SCTE) terminal timing. SCTE is the clock echoed back from the data terminal equipment (DTE) device (for example, a router) to the data communications equipment (DCE) device (for example, the CSU/DSU).
</p>
<a name="wp1021090"></a><p class="pB1_Body1">
When the DCE device uses SCTE instead of its internal clock to sample data from the DTE, it can better sample the data without error even if there is a phase shift in the cable between the CSU/DSU and the router. Using SCTE is highly recommended for serial transmissions faster than 64 kbps. If your CSU/DSU does not support SCTE, see the section &quot;Inverting the Transmit Clock,&quot; later in this chapter.
</p>

<a name="Clocking_Problem_Causes"> </a>

<a name="wp1021091"></a><h3 class="p_H_Head2">
Clocking Problem Causes
</h3>
<a name="wp1021092"></a><p class="pB1_Body1">
In general, clocking problems in serial WAN interconnections can be attributed to one of the following causes:
</p>
<a name="wp1021093"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Incorrect DSU configuration
</p>
<a name="wp1021094"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Incorrect CSU configuration
</p>
<a name="wp1021095"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Cables out of specification (longer than 50 feet [15.24 meters] or unshielded)
</p>
<a name="wp1021096"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Noisy or poor patch panel connections
</p>
<a name="wp1021098"></a><a name="wpmkr1021097"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Several cables connected in a row
</p>

<a name="Detecting_Clocking_Problems"> </a>

<a name="wp1021100"></a><a name="wpmkr1021099"></a><h3 class="p_H_Head2">
Detecting Clocking Problems
</h3>
<a name="wp1021101"></a><p class="pB1_Body1">
To detect clocking conflicts on a serial interface, look for input errors as follows:
</p>
<hr noshade />
<a name="wp1021102"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Use the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> exec command on the routers at both ends of the link.
</p>
<a name="wp1021103"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Examine the command output for CRC, framing errors, and aborts.
</p>
<a name="wp1021104"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If either of these steps indicates errors exceeding an approximate range of 0.5 percent to 2.0 percent of traffic on the interface, clocking problems are likely to exist somewhere in the WAN.
</p>
<a name="wp1021105"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Isolate the source of the clocking conflicts, as outlined in the following section, &quot;Isolating Clocking Problems.&quot;
</p>
<a name="wp1021106"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Bypass or repair any faulty patch panels.
</p>

<a name="Isolating_Clocking_Problems"> </a>

<a name="wp1021108"></a><a name="wpmkr1021107"></a><h3 class="p_H_Head2">
Isolating Clocking Problems
</h3>
<a name="wp1021109"></a><p class="pB1_Body1">
After you determine that clocking conflicts are the most likely cause of input errors, use the following procedure to isolate the source of those errors:
</p>
<hr noshade />
<a name="wp1021110"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Perform a series of <span style="color: Black; font-style: normal; font-weight: bold">ping</span> tests and loopback tests (both local and remote), as described in the section &quot;CSU and DSU Loopback Tests,&quot; earlier in this chapter.
</p>
<a name="wp1021111"></a><a name="wpmkr1021112"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Determine which end of the connection is the source of the problem, or whether the problem is in the line. In local loopback mode, run different patterns and sizes in the <span style="color: Black; font-style: normal; font-weight: bold">ping</span> tests (for example, use 1500-byte datagrams). Using a single pattern and packet size may not force errors to materialize, particularly when a serial cable to the router or CSU/DSU is the problem.
</p>
<a name="wp1021113"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Use the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> exec command, and determine whether input errors counts are increasing and where they are accumulating.
</p>
<a name="wp1021114"></a><p class="pB1_Body1">
If input errors are accumulating on both ends of the connection, clocking of the CSU is the most likely problem.
</p>
<a name="wp1021115"></a><p class="pB1_Body1">
If only one end is experiencing input errors, there is probably a DSU clocking or cabling problem.
</p>
<a name="wp1021116"></a><p class="pB1_Body1">
Aborts on one end suggest that the other end is sending bad information or that there is a line problem.
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021117"></a><a name="wpmkr1021118"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />Always refer to the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> command output (see Figure 15-1). Log any changes in error counts, or note if the error count does not change.
</p>
<hr class="Cautn1table" />
<a name="Clocking_Problem_Solutions"> </a>

<a name="wp1021119"></a><h3 class="p_H_Head2">
Clocking Problem Solutions
</h3>
<a name="wp1021120"></a><p class="pB1_Body1">
Table 15-8 outlines suggested remedies for clocking problems, based on the source of the problem.<span style="color: Black; font-style: normal; font-weight: normal"></span></p>
<div align="left">
<table border="1" cellpadding="3" cellspacing="0" width="80%" bordercolor="#808080"
 id="wp1021126table1021121">


 <caption><a name="wp1021126"></a><p class="pTC_TableCap">
Table&#160;15-8	Serial Lines: Clocking Problems and Solutions&#160;
</p>
</caption>

  <tr align="left" valign="bottom">    <th scope="col"><a name="wp1021130"></a><div class="pCH1_CellHead1">
Possible Problem
</div>
</th>
    <th scope="col"><a name="wp1021132"></a><div class="pCH1_CellHead1">
Solution
</div>
</th>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021135"></a><a name="wpmkr1021134"></a><p class="pB1_Body1">
Incorrect CSU configuration
</p>
</td>
<td><a name="wp1021137"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Determine whether the CSUs at both ends agree on the clock source (local or line).
</p>
<a name="wp1021138"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If the CSUs do not agree, configure them so that they do agree (usually the line is the source).
</p>
<a name="wp1021142"></a><a name="wpmkr1021143"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Check the LBO<sup><a href="#wpxref1021141">1</a> </sup> setting on the CSU to ensure that the impedance matches that of the physical line. For information on configuring your CSU, consult your CSU hardware documentation.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021146"></a><a name="wpmkr1021145"></a><p class="pB1_Body1">
Incorrect DSU configuration
</p>
</td>
<td><a name="wp1021148"></a><p class="pNF_NumFirst">
<b>	1.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" /> Determine whether the DSUs at both ends have SCTE mode enabled.
</p>
<a name="wp1021149"></a><p class="pNN_NumNext">
<b>	2.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If SCTE is not enabled on both ends of the connection, enable it.
</p>
<a name="wp1021150"></a><p class="pB1_Body1">
(For any interface that is connected to a line of 128 kbps or faster, SCTE <span style="color: Black; font-style: italic; font-weight: normal">must</span> be enabled. If your DSU does not support SCTE, see the section &quot;Inverting the Transmit Clock,&quot; later in this chapter.)
</p>
<a name="wp1021151"></a><p class="pNN_NumNext">
<b>	3.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />Make sure that ones density is maintained. This requires that the DSU use the same framing and coding schemes (for example, ESF and B8ZS) used by the leased-line or other carrier service.
</p>
<a name="wp1021152"></a><p class="pB1_Body1">
Check with your leased-line provider for information on its framing and coding schemes.
</p>
<a name="wp1021153"></a><p class="pNN_NumNext">
<b>	4.	</b><img src="../../../../i/templates/blank.gif" alt="" width="10" height="2" border="0" />If your carrier service uses AMI coding, either invert the transmit clock on both sides of the link, or run the DSU in bit-stuff mode. For information on configuring your DSU, consult your DSU hardware documentation.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021156"></a><a name="wpmkr1021155"></a><p class="pB1_Body1">
Cable to router out of specification
</p>
</td>
<td><a name="wp1021158"></a><p class="pB1_Body1">
If the cable is longer than 50 feet (15.24 meters), use a shorter cable.
</p>
<a name="wp1021159"></a><p class="pB1_Body1">
If the cable is unshielded, replace it with shielded cable.
</p>
</td>
</tr>
</table>

<table>
  <tr>
    <td><a name="wp1021141"></a><p class="pTF_tableFootnote">
<sup><a href="#wpxref1021142">1</a> </sup>LBO = line build out
</p>
</td>
  </tr>
</table>
</div><br />
<p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: normal"></span>
</p>

<a name="Inverting_the_Transmit_Clock"> </a>

<a name="wp1021161"></a><a name="wpmkr1021160"></a><h3 class="p_H_Head3">
Inverting the Transmit Clock
</h3>
<a name="wp1021162"></a><p class="pB1_Body1">
If you are attempting serial connections at speeds greater than 64 kbps with a CSU/DSU that does not support SCTE, you might have to invert the transmit clock on the router. Inverting the transmit clock compensates for phase shifts between the data and clock signals.
</p>
<a name="wp1021163"></a><p class="pB1_Body1">
The specific command used to invert the transmit clock varies between platforms. On a Cisco 7000 series router, enter the <span style="color: Black; font-style: normal; font-weight: bold">invert-transmit-clock</span> interface configuration command. For Cisco 4000 series routers, use the <span style="color: Black; font-style: normal; font-weight: bold">dte-invert-txc </span>interface configuration command.
</p>
<a name="wp1021164"></a><p class="pB1_Body1">
To ensure that you are using the correct command syntax for your router, refer to the user guide for your router or access server and to the Cisco IOS configuration guides and command references.
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021166"></a><a name="wpmkr1021165"></a><a name="wpmkr1021167"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />On older platforms, inverting the transmit clock might require that you move a physical jumper.
</p>
<hr class="Cautn1table" /><a name="Adjusting_Buffers"> </a>

<a name="wp1021169"></a><a name="wpmkr1021168"></a><h2 class="p_H_Head1">
Adjusting Buffers
</h2>

<a name="wp1021170"></a><p class="pB1_Body1">
Excessively high bandwidth utilization greater than 70 percent results in reduced overall performance and can cause intermittent failures. For example, DECnet file transmissions might be failing because of packets being dropped somewhere in the network.
</p>
<a name="wp1021171"></a><p class="pB1_Body1">
If the situation is bad enough, you <span style="color: Black; font-style: italic; font-weight: normal">must</span> increase the bandwidth of the link. However, increasing the bandwidth might not be necessary or immediately practical. One way to resolve marginal serial line overutilization problems is to control how the router uses data buffers.
</p>
<div class="caut1"><img src="../../../../i/templates/caut.gif" alt="" /></div><hr class="Cautn1" />
<a name="wp1021172"></a><div class="pCautn">
<b>Caution	</b><img src="../../../../i/templates/blank.gif" alt="" width="6" height="2" border="0" />In general, do <span style="color: Black; font-style: italic; font-weight: normal">not</span> adjust system buffers unless you are working closely with a Cisco technical support representative. You can severely affect the performance of your hardware and your network if you incorrectly adjust the system buffers on your router.
</div>
<hr class="Cautn1" />
<a name="wp1021173"></a><p class="pB1_Body1">
Use one of the following three options to control how buffers are used:
</p>
<a name="wp1021174"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Adjust parameters associated with system buffers.
</p>
<a name="wp1021175"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Specify the number of packets held in input or output queues (hold queues).
</p>
<a name="wp1021176"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Prioritize how traffic is queued for transmission (priority output queuing).
</p>
<a name="wp1021177"></a><a name="wpmkr1021178"></a><p class="pB1_Body1">
The configuration commands associated with these options are described in the Cisco IOS configuration guides and command references.
</p>
<a name="wp1021179"></a><p class="pB1_Body1">
The following section focuses on identifying situations in which these options are likely to apply and defining how you can use these options to help resolve connectivity and performance problems in serial/WAN interconnections.
</p>

<a name="Tuning_System_Buffers"> </a>

<a name="wp1021181"></a><a name="wpmkr1021180"></a><h3 class="p_H_Head2">
Tuning System Buffers
</h3>
<a name="wp1021183"></a><a name="wpmkr1021182"></a><p class="pB1_Body1">
There are two general buffer types on Cisco routers: <span style="color: Black; font-style: italic; font-weight: normal">hardware buffers</span> and <span style="color: Black; font-style: italic; font-weight: normal">system buffers</span>. Only the system buffers are directly configurable by system administrators. The hardware buffers are specifically used as the receive and transmit buffers associated with each interface and (in the absence of any special configuration) are dynamically managed by the system software itself.
</p>
<a name="wp1021184"></a><a name="wpmkr1021185"></a><p class="pB1_Body1">
The system buffers are associated with the main system memory and are allocated to different-size memory blocks. A useful command for determining the status of your system buffers is the <span style="color: Black; font-style: normal; font-weight: bold">show buffers</span> exec command. Figure 15-8 shows the output from the <span style="color: Black; font-style: normal; font-weight: bold">show buffers</span> command.
</p>
<a name="wp1021189"></a><p class="pTC_TableCap">
Figure&#160;15-8	show buffers Command Output</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891508.jpg" id="wp1021187" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<a name="wp1021191"></a><a name="wpmkr1021190"></a><p class="pB1_Body1">
In the <span style="color: Black; font-style: normal; font-weight: bold">show buffers</span> output, the following is true:
</p>
<a name="wp1021193"></a><a name="wpmkr1021192"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">total</span> identifies the total number of buffers in the pool, including used and unused buffers.
</p>
<a name="wp1021195"></a><a name="wpmkr1021194"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">permanent</span> identifies the permanent number of allocated buffers in the pool. These buffers are always in the pool and cannot be trimmed away.
</p>
<a name="wp1021197"></a><a name="wpmkr1021196"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">in free list</span> identifies the number of buffers currently in the pool that are available for use.
</p>
<a name="wp1021199"></a><a name="wpmkr1021198"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">min</span> identifies the minimum number of buffers that the route processor (RP) should attempt to keep in the free list:
</p>
<a name="wp1021200"></a><p class="pBu2_Bullet2">
&#8211;<img src="../../../../i/templates/blank.gif" alt="" width="17" height="2" border="0" />The <span style="color: Black; font-style: normal; font-weight: bold">min</span> parameter is used to anticipate demand for buffers from the pool at any given time.
</p>
<a name="wp1021201"></a><p class="pBu2_Bullet2">
&#8211;<img src="../../../../i/templates/blank.gif" alt="" width="17" height="2" border="0" />If the number of buffers in the free list falls below the <span style="color: Black; font-style: normal; font-weight: bold">min</span> value, the RP attempts to create more buffers for that pool.
</p>
<a name="wp1021203"></a><a name="wpmkr1021202"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">max</span> allowed identifies the maximum number of buffers allowed in the free list:
</p>
<a name="wp1021205"></a><a name="wpmkr1021204"></a><a name="wpmkr1021206"></a><p class="pBu2_Bullet2">
&#8211;<img src="../../../../i/templates/blank.gif" alt="" width="17" height="2" border="0" />The <span style="color: Black; font-style: normal; font-weight: bold">max</span> <span style="color: Black; font-style: normal; font-weight: bold">allowed</span> parameter prevents a pool from monopolizing buffers that it doesn&#39;t need anymore, and frees this memory back to the system for further use.
</p>
<a name="wp1021207"></a><a name="wpmkr1021208"></a><p class="pBu2_Bullet2">
&#8211;<img src="../../../../i/templates/blank.gif" alt="" width="17" height="2" border="0" />If the number of buffers in the free list is greater than the <span style="color: Black; font-style: normal; font-weight: bold">max allowed</span> value, the RP should attempt to trim buffers from the pool.
</p>
<a name="wp1021210"></a><a name="wpmkr1021209"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">hits</span> identifies the number of buffers that have been requested from the pool. The hits counter provides a mechanism for determining which pool must meet the highest demand for buffers.
</p>
<a name="wp1021212"></a><a name="wpmkr1021211"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">misses</span> identifies the number of times that a buffer has been requested and that the RP detected that additional buffers were required. (In other words, the number of buffers in the free list has dropped below <span style="color: Black; font-style: normal; font-weight: bold">min</span>.) The misses counter represents the number of times that the RP has been forced to create additional buffers.
</p>
<a name="wp1021214"></a><a name="wpmkr1021213"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">trims</span> identifies the number of buffers that the RP has trimmed from the pool when the number of buffers in the free list exceeded the number of <span style="color: Black; font-style: normal; font-weight: bold">max allowed</span> buffers.
</p>
<a name="wp1021216"></a><a name="wpmkr1021215"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">created</span> identifies the number of buffers that has been created in the pool. The RP creates buffers when demand for buffers has increased until the number of buffers in the free list is less than <span style="color: Black; font-style: normal; font-weight: bold">min</span> buffers or a miss occurs because of zero buffers in the free list.
</p>
<a name="wp1021218"></a><a name="wpmkr1021217"></a><a name="wpmkr1021219"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">failures</span> identifies the number of failures to grant a buffer to a requester even after attempting to create an additional buffer. The number of failures represents the number of packets that have been dropped due to buffer shortage.
</p>
<a name="wp1021221"></a><a name="wpmkr1021220"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">no memory</span> identifies the number of failures caused by insufficient memory to create additional buffers.
</p>
<a name="wp1021222"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">show buffers</span> command output in Figure 15-8 indicates high numbers in the Trims and Created fields for large buffers. If you are receiving high numbers in these fields, you can increase your serial link performance by increasing the <span style="color: Black; font-style: normal; font-weight: bold">max free </span>value configured for your system buffers. <span style="color: Black; font-style: normal; font-weight: bold">trims</span> identifies the number of buffers that the RP has trimmed from the pool when the number of buffers in free list exceeded the number of <span style="color: Black; font-style: normal; font-weight: bold">max allowed</span> buffers.
</p>
<a name="wp1021224"></a><a name="wpmkr1021223"></a><p class="pB1_Body1">
Use the <span style="color: Black; font-style: normal; font-weight: bold">buffers max free</span> <span style="color: Black; font-style: italic; font-weight: normal">number</span> global configuration command to increase the number of free system buffers. The value that you configure should be approximately 150 percent of the figure indicated in the total field of the <span style="color: Black; font-style: normal; font-weight: bold">show buffers</span> command output. Repeat this process until the <span style="color: Black; font-style: normal; font-weight: bold">show buffers</span> output no longer indicates trims and created buffers.
</p>
<a name="wp1021226"></a><a name="wpmkr1021225"></a><a name="wpmkr1021227"></a><p class="pB1_Body1">
If the <span style="color: Black; font-style: normal; font-weight: bold">show buffers</span> command output shows a large number of failures in the (<span style="color: Black; font-style: normal; font-weight: bold">no memory</span>) field (see the last line of output in Figure 15-8), you must reduce the usage of the system buffers or increase the amount of shared or main memory (physical RAM) on the router. Call your technical support representative for assistance.
</p>

<a name="Implementing_Hold_Queue_Limits"> </a>

<a name="wp1021229"></a><a name="wpmkr1021228"></a><h3 class="p_H_Head2">
Implementing Hold Queue Limits
</h3>
<a name="wp1021230"></a><a name="wpmkr1021231"></a><a name="wpmkr1021232"></a><p class="pB1_Body1">
Hold queues are buffers used by each router interface to store outgoing or incoming packets. Use the <span style="color: Black; font-style: normal; font-weight: bold">hold-queue</span> interface configuration command to increase the number of data packets queued before the router will drop packets. Increase these queues by small increments (for instance, 25 percent) until you no longer see drops in the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces</span> output. The default output hold queue limit is 100 packets.
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021233"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />The <span style="color: Black; font-style: normal; font-weight: bold">hold-queue</span> command is used for process-switched packets and periodic updates generated by the router.
</p>
<hr class="Cautn1table" /><a name="wp1021234"></a><p class="pB1_Body1">
Use the <span style="color: Black; font-style: normal; font-weight: bold">hold-queue</span> command to prevent packets from being dropped and to improve serial link performance under the following conditions:
</p>
<a name="wp1021235"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />You have an application that cannot tolerate drops, and the protocol is capable of tolerating longer delays. DECnet is an example of a protocol that meets both criteria. Local-area transport (LAT) does not meet this criteria because it does not tolerate delays.
</p>
<a name="wp1021236"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />The interface is very slow (bandwidth is low or anticipated utilization is likely to sporadically exceed available bandwidth).
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021237"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />When you increase the number specified for an output hold queue, you might need to increase the number of system buffers. The value used depends on the size of the packets associated with the traffic anticipated for the network.
</p>
<hr class="Cautn1table" />
<a name="Using_Priority_Queuing_to_Reduce_Bottlenecks"> </a>

<a name="wp1021239"></a><a name="wpmkr1021238"></a><h3 class="p_H_Head2">
Using Priority Queuing to Reduce Bottlenecks
</h3>
<a name="wp1021240"></a><p class="pB1_Body1">
Priority queuing is a list-based control mechanism that allows traffic to be prioritized on an interface-by-interface basis. Priority queuing involves two steps:
</p>
<hr noshade />
<a name="wp1021242"></a><a name="wpmkr1021241"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Create a priority list by protocol type and level of priority.
</p>
<a name="wp1021243"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Assign the priority list to a specific interface.
</p>
<a name="wp1021245"></a><a name="wpmkr1021244"></a><p class="pB1_Body1">
Both of these steps use versions of the <span style="color: Black; font-style: normal; font-weight: bold">priority-list</span> global configuration command. In addition, further traffic control can be applied by referencing <span style="color: Black; font-style: normal; font-weight: bold">access-list</span> global configuration commands from <span style="color: Black; font-style: normal; font-weight: bold">priority-list</span> specifications. For examples of defining priority lists and for details about command syntax associated with priority queuing, refer to the Cisco IOS configuration guides and command references.
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021246"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />Priority queuing automatically creates four hold queues of varying size. This overrides any hold queue specification included in your configuration.
</p>
<hr class="Cautn1table" /><a name="wp1021247"></a><p class="pB1_Body1">
Use priority queuing to prevent packets from being dropped and to improve serial link performance under the following conditions:
</p>
<a name="wp1021248"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />When the interface is slow, a variety of traffic types are being transmitted, and you want to improve terminal traffic performance
</p>
<a name="wp1021249"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />If you have a serial link that is intermittently experiencing very heavy loads (such as file transfers occurring at specific times), and priority queuing will help select which types of traffic should be discarded at high traffic periods
</p>
<a name="wp1021250"></a><a name="wpmkr1021251"></a><a name="wpmkr1021252"></a><p class="pB1_Body1">
In general, start with the default number of queues when implementing priority queues. After enabling priority queuing, monitor output drops with the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial </span>exec command. If you notice that output drops are occurring in the traffic queue that you have specified to be high priority, increase the number of packets that can be queued (using the <span style="color: Black; font-style: normal; font-weight: bold">queue-limit</span> keyword option of the <span style="color: Black; font-style: normal; font-weight: bold">priority-list</span> global configuration command). The default <span style="color: Black; font-style: normal; font-weight: bold">queue-limit</span> arguments are 20 packets for the high-priority queue, 40 for medium, 60 for normal, and 80 for low.
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021253"></a><a name="wpmkr1021254"></a><a name="wpmkr1021255"></a><a name="wpmkr1021257"></a><a name="wpmkr1021258"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />When bridging Digital Equipment Corporation (Digital) LAT traffic, the router must drop very few packets, or LAT sessions can terminate unexpectedly. A high-priority queue depth of about 100 (specified with the <span style="color: Black; font-style: normal; font-weight: bold">queue-limit</span> keyword) is a typical working value when your router is dropping output packets and the serial lines are subjected to about 50 percent bandwidth utilization. If the router is dropping packets and is at 100 percent utilization, you need another line.<br /><br />Another tool to relieve congestion when bridging Digital LAT is LAT compression. You can implement LAT compression with the interface configuration command <span style="color: Black; font-style: normal; font-weight: bold">bridge-group</span> <span style="color: Black; font-style: italic; font-weight: normal">group</span> <span style="color: Black; font-style: normal; font-weight: bold">lat-compression</span>.
</p>
<hr class="Cautn1table" /><a name="Special_Serial_Line_Tests"> </a>

<a name="wp1021259"></a><h2 class="p_H_Head1">
Special Serial Line Tests
</h2>

<a name="wp1021260"></a><p class="pB1_Body1">
In addition to the basic diagnostic capabilities available on routers, a variety of supplemental tools and techniques can be used to determine the conditions of cables, switching equipment, modems, hosts, and remote internetworking hardware. For more information, consult the documentation for your CSU, DSU, serial analyzer, or other equipment.
</p>

<a name="CSU_and_DSU_Loopback_Tests"> </a>

<a name="wp1021262"></a><a name="wpmkr1021261"></a><h3 class="p_H_Head2">
CSU and DSU Loopback Tests
</h3>
<a name="wp1021263"></a><p class="pB1_Body1">
If the output of the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> exec command indicates that the serial line is up but the line protocol is down, use the CSU/DSU loopback tests to determine the source of the problem. Perform the local loop test first, and then perform the remote test. Figure 15-9 illustrates the basic topology of the CSU/DSU local and remote loopback tests.
</p>
<a name="wp1021267"></a><p class="pTC_TableCap">
Figure&#160;15-9	CSU/DSU Local and Remote Loopback Tests</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891509.jpg" id="wp1021265" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021268"></a><a name="wpmkr1021269"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />These tests are generic in nature and assume attachment of the internetworking system to a CSU or DSU. However, the tests are essentially the same for attachment to a multiplexer with built-in CSU/DSU functionality. Because there is no concept of a loopback in X.25 or Frame Relay packet-switched network (PSN) environments, loopback tests do not apply to X.25 and Frame Relay networks.
</p>
<hr class="Cautn1table" />
<a name="CSU_and_DSU_Local_Loopback_Tests_for_HDLC_or_PPP_Links"> </a>

<a name="wp1021271"></a><a name="wpmkr1021270"></a><h3 class="p_H_Head3">
CSU and DSU Local Loopback Tests for HDLC or PPP Links
</h3>
<a name="wp1021272"></a><p class="pB1_Body1">
Following is a general procedure for performing loopback tests in conjunction with built-in system diagnostic capabilities:
</p>
<hr noshade />
<a name="wp1021273"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Place the CSU/DSU in local loop mode (refer to your vendor documentation). In local loop mode, the use of the line clock (from the T1 service) is terminated, and the DSU is forced to use the local clock.
</p>
<a name="wp1021275"></a><a name="wpmkr1021274"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Use the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial </span>exec command to determine whether the line status changes from &quot;line protocol is down&quot; to &quot;line protocol is up (looped),&quot; or whether it remains down.
</p>
<a name="wp1021276"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If the line protocol comes up when the CSU or DSU is in local loopback mode, this suggests that the problem is occurring on the remote end of the serial connection. If the status line does not change state, there is a possible problem in the router, connecting cable, or CSU/DSU.
</p>
<a name="wp1021278"></a><a name="wpmkr1021277"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If the problem appears to be local, use the <span style="color: Black; font-style: normal; font-weight: bold">debug serial interface</span> privileged exec command.
</p>
<a name="wp1021279"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Take the CSU/DSU out of local loop mode. When the line protocol is down, the <span style="color: Black; font-style: normal; font-weight: bold">debug serial interface</span> command output will indicate that keepalive counters are not incrementing.
</p>
<a name="wp1021280"></a><p class="pSN_StepNext">
<b>Step 6	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Place the CSU/DSU in local loop mode again. This should cause the keepalive packets to begin to increment. Specifically, the values for mineseen and yourseen keepalives will increment every 10 seconds. This information will appear in the <span style="color: Black; font-style: normal; font-weight: bold">debug serial interface </span>output.
</p>
<a name="wp1021281"></a><p class="pB1_Body1">
If the keepalives do not increment, there may be a timing problem on the interface card or on the network. For information on correcting timing problems, refer to the section &quot;Troubleshooting Clocking Problems,&quot; earlier in this chapter.
</p>
<a name="wp1021282"></a><a name="wpmkr1021283"></a><p class="pSN_StepNext">
<b>Step 7	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the local router and CSU/DSU hardware, and any attached cables. Make certain that the cables are within the recommended lengths (no more than 50 feet [15.24 meters], or 25 feet [7.62 meters] for a T1 link). Make certain that the cables are attached to the proper ports. Swap faulty equipment, as necessary.
</p>
<a name="wp1021285"></a><a name="wpmkr1021284"></a><a name="wpmkr1021286"></a><p class="pB1_Body1">
Figure 15-10 shows the output from the <span style="color: Black; font-style: normal; font-weight: bold">debug serial interface </span>command for an HDLC serial connection, with missed keepalives causing the line to go down and the interface to reset.
</p>
<a name="wp1021290"></a><p class="pTC_TableCap">
Figure&#160;15-10	debug serial interface Command Output</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891510.jpg" id="wp1021288" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>

<a name="CSU_and_DSU_Remote_Loopback_Tests_for_HDLC_or_PPP_Links"> </a>

<a name="wp1021292"></a><a name="wpmkr1021291"></a><h3 class="p_H_Head3">
CSU and DSU Remote Loopback Tests for HDLC or PPP Links
</h3>
<a name="wp1021293"></a><p class="pB1_Body1">
If you determine that the local hardware is functioning properly, but you still encounter problems when attempting to establish connections over the serial link, try using the remote loopback test to isolate the problem&#39;s cause.
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021294"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />This remote loopback test assumes that HDLC encapsulation is being used and that the preceding local loop test was performed immediately before this test.
</p>
<hr class="Cautn1table" /><a name="wp1021295"></a><p class="pB1_Body1">
The following are the steps required to perform loopback testing:
</p>
<hr noshade />
<a name="wp1021296"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Put the remote CSU or DSU into remote loopback mode (refer to the vendor documentation).
</p>
<a name="wp1021298"></a><a name="wpmkr1021297"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Using the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> exec command, determine whether the line protocol remains up, with the status line indicating &quot;Serial <span style="color: Black; font-style: italic; font-weight: normal">x</span> is up, line protocol is up (looped),&quot; or goes down, with the status line indicating &quot;line protocol is down.&quot;
</p>
<a name="wp1021299"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If the line protocol remains up (looped), the problem is probably at the remote end of the serial connection (between the remote CSU/DSU and the remote router). Perform both local and remote tests at the remote end to isolate the problem source.
</p>
<a name="wp1021300"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If the line status changes to &quot;line protocol is down&quot; when remote loopback mode is activated, make certain that ones density is being properly maintained. The CSU/DSU must be configured to use the same framing and coding schemes used by the leased-line or other carrier service (for example, ESF and B8ZS).
</p>
<a name="wp1021301"></a><a name="wpmkr1021302"></a><a name="wpmkr1021303"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If problems persist, contact your WAN network manager or the WAN service organization.
</p>
<a name="Detailed_Information_on_the_show&#160;interfaces&#160;serial&#160;Command"> </a>

<a name="wp1021304"></a><a name="wpmkr1021305"></a><h2 class="p_H_Head1">
Detailed Information on the show&#160;interfaces&#160;serial&#160;Command
</h2>

<a name="wp1021306"></a><p class="pB1_Body1">
This section covers the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> command&#39;s parameters, syntax description, sample output display, and field descriptions.
</p>

<a name="show_interfaces_serial"> </a>

<a name="wp1021307"></a><h3 class="p_H_Head2">
show interfaces serial
</h3>
<a name="wp1021309"></a><a name="wpmkr1021308"></a><p class="pB1_Body1">
To display information about a serial interface, use the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> privileged exec command:
</p>
<a name="wp1021310"></a><p class="pB2_Body2">
<span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> [<span style="color: Black; font-style: italic; font-weight: normal">number</span>] [<span style="color: Black; font-style: normal; font-weight: bold">accounting</span>]
</p>
<a name="wp1021311"></a><p class="pB2_Body2">
<span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> [<span style="color: Black; font-style: italic; font-weight: normal">number</span> [<span style="color: Black; font-style: italic; font-weight: normal">:channel-group</span>] [<span style="color: Black; font-style: normal; font-weight: bold">accounting</span>] (Cisco 4000 series)
</p>
<a name="wp1021312"></a><p class="pB2_Body2">
<span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> [<span style="color: Black; font-style: italic; font-weight: normal">slot</span> | <span style="color: Black; font-style: italic; font-weight: normal">port</span> [<span style="color: Black; font-style: italic; font-weight: normal">:channel-group</span>]] [<span style="color: Black; font-style: normal; font-weight: bold">accounting</span>] (Cisco 7500 series)
</p>
<a name="wp1021313"></a><p class="pB2_Body2">
<span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> [<span style="color: Black; font-style: italic; font-weight: normal">type slot</span> | <span style="color: Black; font-style: italic; font-weight: normal">port-adapter</span> | <span style="color: Black; font-style: italic; font-weight: normal">port</span>] [<span style="color: Black; font-style: normal; font-weight: bold">serial</span>] (ports on VIP cards in the Cisco 7500 series)
</p>
<a name="wp1021314"></a><p class="pB2_Body2">
<span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial</span> [<span style="color: Black; font-style: italic; font-weight: normal">type slot</span> | <span style="color: Black; font-style: italic; font-weight: normal">port-adapter</span> | <span style="color: Black; font-style: italic; font-weight: normal">port</span>] [<span style="color: Black; font-style: italic; font-weight: normal">:t1-channel</span>] [<span style="color: Black; font-style: normal; font-weight: bold">accounting</span> | <span style="color: Black; font-style: normal; font-weight: bold">crb</span>] (CT3IP in Cisco 7500 series)
</p>

<a name="Syntax_Description"> </a>

<a name="wp1021316"></a><a name="wpmkr1021315"></a><h3 class="p_H_Head3">
Syntax Description
</h3>
<a name="wp1021317"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: italic; font-weight: normal">Number</span>&#8212;(Optional) Port number.
</p>
<a name="wp1021318"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">accounting</span>&#8212;(Optional) Displays the number of packets of each protocol type that have been sent through the interface.
</p>
<a name="wp1021319"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: italic; font-weight: normal">:channel-group</span>&#8212;(Optional) On the Cisco 4000 series with an NPM or a Cisco 7500 series with a MIP, specifies the T1 channel-group number in the range of 0 to 23, defined with the channel-group controller configuration command.
</p>
<a name="wp1021320"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: italic; font-weight: normal">slot</span>&#8212;Refer to the appropriate hardware manual for slot information.
</p>
<a name="wp1021321"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: italic; font-weight: normal">port</span>&#8212;Refer to the appropriate hardware manual for port information.
</p>
<a name="wp1021322"></a><a name="wpmkr1021323"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: italic; font-weight: normal">port-adapter</span>&#8212;Refer to the appropriate hardware manual for information about port adapter compatibility.
</p>
<a name="wp1021324"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: italic; font-weight: normal">:t1-channel</span>&#8212;(Optional) For the CT3IP, the T1 channel is a number between 1&#160;and&#160;28.
</p>
<a name="wp1021325"></a><p class="pB2_Body2">
T1 channels on the CT3IP are numbered 1 to 28 rather than the more traditional zero-based scheme (0 to 27) used with other Cisco products. This is to ensure consistency with telco numbering schemes for T1 channels within channelized T3 equipment.
</p>
<a name="wp1021327"></a><a name="wpmkr1021326"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" /><span style="color: Black; font-style: normal; font-weight: bold">crb</span>&#8212;(Optional) Shows interface routing and bridging information.
</p>

<a name="Command_Mode"> </a>

<a name="wp1021329"></a><a name="wpmkr1021328"></a><h3 class="p_H_Head3">
Command Mode
</h3>
<a name="wp1021330"></a><p class="pB1_Body1">
Privileged exec
</p>

<a name="Usage_Guidelines"> </a>

<a name="wp1021331"></a><h3 class="p_H_Head3">
Usage Guidelines
</h3>
<a name="wp1021332"></a><p class="pB1_Body1">
This command first appeared in Cisco IOS Release 10.0 for the Cisco 4000 series. It first appeared in Cisco IOS Release 11.0 for the Cisco 7000 series, and it was modified in Cisco IOS Release 11.3 to include the CT3IP.
</p>

<a name="Sample_Displays"> </a>

<a name="wp1021333"></a><h3 class="p_H_Head3">
Sample Displays
</h3>
<a name="wp1021335"></a><a name="wpmkr1021334"></a><p class="pB1_Body1">
The following is sample output from the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces</span> command for a synchronous serial interface:
</p>
<a name="wp1021336"></a><div class="pEx1_Example1">
<pre>Router# <span style="color: Black; font-style: normal; font-weight: normal">show interfaces serial
</span></pre>
</div><a name="wp1021337"></a><div class="pEx1_Example1">
<pre>Serial 0 is up, line protocol is up
</pre>
</div><a name="wp1021338"></a><div class="pEx1_Example1">
<pre>   Hardware is MCI Serial
</pre>
</div><a name="wp1021339"></a><div class="pEx1_Example1">
<pre>   Internet address is 150.136.190.203, subnet mask is 255.255.255.0
</pre>
</div><a name="wp1021340"></a><div class="pEx1_Example1">
<pre>   MTU 1500 bytes, BW 1544 Kbit, DLY 20000 usec, rely 255/255, load 1/255
</pre>
</div><a name="wp1021341"></a><div class="pEx1_Example1">
<pre>   Encapsulation HDLC, loopback not set, keepalive set (10 sec)
</pre>
</div><a name="wp1021342"></a><div class="pEx1_Example1">
<pre>   Last input 0:00:07, output 0:00:00, output hang never
</pre>
</div><a name="wp1021343"></a><div class="pEx1_Example1">
<pre>   Output queue 0/40, 0 drops; input queue 0/75, 0 drops
</pre>
</div><a name="wp1021344"></a><div class="pEx1_Example1">
<pre>   Five minute input rate 0 bits/sec, 0 packets/sec
</pre>
</div><a name="wp1021345"></a><div class="pEx1_Example1">
<pre>   Five minute output rate 0 bits/sec, 0 packets/sec
</pre>
</div><a name="wp1021346"></a><div class="pEx1_Example1">
<pre>       16263 packets input, 1347238 bytes, 0 no buffer
</pre>
</div><a name="wp1021347"></a><div class="pEx1_Example1">
<pre>       Received 13983 broadcasts, 0 runts, 0 giants
</pre>
</div><a name="wp1021348"></a><div class="pEx1_Example1">
<pre>       2 input errors, 0 CRC, 0 frame, 0 overrun, 0 ignored, 2 abort
</pre>
</div><a name="wp1021349"></a><div class="pEx1_Example1">
<pre>1 carrier transitions
</pre>
</div><a name="wp1021350"></a><div class="pEx1_Example1">
<pre>     22146 packets output, 2383680 bytes, 0 underruns
</pre>
</div><a name="wp1021351"></a><div class="pEx1_Example1">
<pre>     0 output errors, 0 collisions, 2 interface resets, 0 restarts
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1033685"></a><br /></pre></div>
<a name="wp1021570"></a><a name="wpmkr1021352"></a><p class="pB1_Body1">
Table 15-9 describes significant fields shown in the output.<span style="color: Black; font-style: normal; font-weight: normal"></span></p>
<div align="left">
<table border="1" cellpadding="3" cellspacing="0" width="80%" bordercolor="#808080"
 id="wp1021358table1021353">


 <caption><a name="wp1021358"></a><p class="pTC_TableCap">
Table&#160;15-9	Show Interfaces Serial Field Descriptions&#160;
</p>
</caption>

  <tr align="left" valign="bottom">    <th scope="col"><a name="wp1021362"></a><div class="pCH1_CellHead1">
Field 
</div>
</th>
    <th scope="col"><a name="wp1021364"></a><div class="pCH1_CellHead1">
Description 
</div>
</th>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021367"></a><a name="wpmkr1021366"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Serial...is</span> {<span style="color: Black; font-style: italic; font-weight: normal">up</span> | <span style="color: Black; font-style: italic; font-weight: normal">down</span>}<span style="color: Black; font-style: normal; font-weight: bold">...is administratively down </span>
</p>
</td>
<td><a name="wp1021369"></a><p class="pB1_Body1">
Indicates whether the interface hardware is currently active (whether carrier detect is present) or whether it has been taken down by an administrator. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021372"></a><a name="wpmkr1021371"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">line protocol is</span> {<span style="color: Black; font-style: italic; font-weight: normal">up</span> | <span style="color: Black; font-style: italic; font-weight: normal">down</span>} 
</p>
</td>
<td><a name="wp1021374"></a><p class="pB1_Body1">
Indicates whether the software processes that handle the line protocol consider the line usable (that is, whether keepalives are successful), or whether it has been taken down by an administrator. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021377"></a><a name="wpmkr1021376"></a><p class="pB1_Body1">
Hardware is 
</p>
</td>
<td><a name="wp1021379"></a><p class="pB1_Body1">
Specifies the hardware type. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021382"></a><a name="wpmkr1021381"></a><p class="pB1_Body1">
Internet address is 
</p>
</td>
<td><a name="wp1021384"></a><p class="pB1_Body1">
Specifies the Internet address and subnet mask. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021387"></a><a name="wpmkr1021386"></a><p class="pB1_Body1">
MTU 
</p>
</td>
<td><a name="wp1021389"></a><p class="pB1_Body1">
Specifies the maximum transmission unit of the interface. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021392"></a><a name="wpmkr1021391"></a><p class="pB1_Body1">
BW 
</p>
</td>
<td><a name="wp1021394"></a><a name="wpmkr1021395"></a><p class="pB1_Body1">
Indicates the value of the bandwidth parameter that has been configured for the interface (in kilobits per second). The bandwidth parameter is used to compute IGRP metrics only. If the interface is attached to a serial line with a line speed that does not match the default (1536 or 1544 for T1, and 56 for a standard synchronous serial line), use the <span style="color: Black; font-style: normal; font-weight: bold">bandwidth</span> command to specify the correct line speed for this serial line. </p>
<div align="left"><img src="tr1915_files/tr1915-01.jpg" height="17" width="54" id="wp1021397" border="0" hspace="0" vspace="0"/></div><p class="pB1_Body1">

</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021401"></a><a name="wpmkr1021400"></a><p class="pB1_Body1">
DLY 
</p>
</td>
<td><a name="wp1021403"></a><p class="pB1_Body1">
Gives the delay of the interface in microseconds. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021406"></a><a name="wpmkr1021405"></a><p class="pB1_Body1">
rely 
</p>
</td>
<td><a name="wp1021408"></a><p class="pB1_Body1">
Expresses reliability of the interface as a fraction of 255 (255/255 is 100 percent reliability), calculated as an exponential average over 5 minutes. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021411"></a><a name="wpmkr1021410"></a><p class="pB1_Body1">
load 
</p>
</td>
<td><a name="wp1021413"></a><p class="pB1_Body1">
Expresses load on the interface as a fraction of 255 (255/255 is completely saturated), calculated as an exponential average over five minutes. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021416"></a><a name="wpmkr1021415"></a><p class="pB1_Body1">
Encapsulation 
</p>
</td>
<td><a name="wp1021418"></a><p class="pB1_Body1">
Gives the encapsulation method assigned to the interface. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021421"></a><a name="wpmkr1021420"></a><p class="pB1_Body1">
loopback 
</p>
</td>
<td><a name="wp1021423"></a><p class="pB1_Body1">
Indicates whether loopback is set. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021426"></a><a name="wpmkr1021425"></a><p class="pB1_Body1">
keepalive 
</p>
</td>
<td><a name="wp1021428"></a><p class="pB1_Body1">
Indicates whether keepalives are set. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021431"></a><a name="wpmkr1021430"></a><p class="pB1_Body1">
Last input 
</p>
</td>
<td><a name="wp1021433"></a><p class="pB1_Body1">
Gives the number of hours, minutes, and seconds since the last packet was successfully received by an interface. Useful for knowing when a dead interface failed. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021436"></a><a name="wpmkr1021435"></a><p class="pB1_Body1">
Last output 
</p>
</td>
<td><a name="wp1021438"></a><p class="pB1_Body1">
Gives the number of hours, minutes, and seconds since the last packet was successfully transmitted by an interface. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021441"></a><a name="wpmkr1021440"></a><p class="pB1_Body1">
output hang 
</p>
</td>
<td><a name="wp1021443"></a><a name="wpmkr1021444"></a><p class="pB1_Body1">
Gives the number of hours, minutes, and seconds (or never) since the interface was last reset because of a transmission that took too long. When the number of hours in any of the last fields exceeds 24, the number of days and hours is printed. If that field overflows, asterisks are printed. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021447"></a><a name="wpmkr1021446"></a><p class="pB1_Body1">
Output queue, drops input queue, drops
</p>
</td>
<td><a name="wp1021449"></a><p class="pB1_Body1">
Gives the number of packets in output and input queues. Each number is followed by a slash, the maximum size of the queue, and the number of packets because the queue is full. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021451"></a><p class="pB1_Body1">
5 minute input rate 5 minute output rate 
</p>
</td>
<td><a name="wp1021453"></a><p class="pB1_Body1">
Gives the average number of bits and packets transmitted per second in the past 5 minutes.
</p>
<a name="wp1021454"></a><p class="pB1_Body1">
The 5-minute input and output rates should be used only as an approximation of traffic per second during a given 5-minute period. These rates are exponentially weighted averages with a time constant of 5 minutes. A period of four time constants must pass before the average will be within 2 percent of the instantaneous rate of a uniform stream of traffic over that period. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021457"></a><a name="wpmkr1021456"></a><p class="pB1_Body1">
packets input 
</p>
</td>
<td><a name="wp1021459"></a><p class="pB1_Body1">
Gives the total number of error-free packets received by the system. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021462"></a><a name="wpmkr1021461"></a><p class="pB1_Body1">
bytes 
</p>
</td>
<td><a name="wp1021464"></a><p class="pB1_Body1">
Gives the total number of bytes, including data and MAC encapsulation, in the error-free packets received by the system. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021467"></a><a name="wpmkr1021466"></a><p class="pB1_Body1">
no buffer 
</p>
</td>
<td><a name="wp1021469"></a><p class="pB1_Body1">
Gives the number of received packets discarded because there was no buffer space in the main system. Compare with ignored count. Broadcast storms on Ethernet networks and bursts of noise on serial lines are often responsible for no input buffer events. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021472"></a><a name="wpmkr1021471"></a><p class="pB1_Body1">
Received...broadcasts 
</p>
</td>
<td><a name="wp1021474"></a><p class="pB1_Body1">
Gives the total number of broadcast or multicast packets received by the interface. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021477"></a><a name="wpmkr1021476"></a><p class="pB1_Body1">
runts 
</p>
</td>
<td><a name="wp1021479"></a><p class="pB1_Body1">
Gives the number of packets that are discarded because they are smaller than the medium&#39;s minimum packet size. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021482"></a><a name="wpmkr1021481"></a><p class="pB1_Body1">
Giants 
</p>
</td>
<td><a name="wp1021484"></a><p class="pB1_Body1">
Gives the number of packets that are discarded because they exceed the medium&#39;s maximum packet size. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021487"></a><a name="wpmkr1021486"></a><p class="pB1_Body1">
input errors 
</p>
</td>
<td><a name="wp1021489"></a><p class="pB1_Body1">
Gives the total number of no buffer, runts, giants, CRCs, frame, overrun, ignored, and abort counts. Other input-related errors can also increment the count, so this sum might not balance with the other counts.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021492"></a><a name="wpmkr1021491"></a><p class="pB1_Body1">
CRC 
</p>
</td>
<td><a name="wp1021494"></a><p class="pB1_Body1">
The Cyclic Redundancy Check (CRC) counter is incremented by the originating station or far-end device when the checksum calculated from the data received does not match the checksum from the transmitted data. On a serial link, CRCs usually indicate noise, gain hits, or other transmission problems on the data link.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021497"></a><a name="wpmkr1021496"></a><p class="pB1_Body1">
frame 
</p>
</td>
<td><a name="wp1021499"></a><p class="pB1_Body1">
Gives the number of packets received incorrectly, having a CRC error and a noninteger number of octets. On a serial line, this is usually the result of noise or other transmission problems.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021502"></a><a name="wpmkr1021501"></a><p class="pB1_Body1">
overrun 
</p>
</td>
<td><a name="wp1021504"></a><a name="wpmkr1021505"></a><p class="pB1_Body1">
Gives the number of times that the serial receiver hardware was incapable of handing received data to a hardware buffer because the input rate exceeded the receiver&#39;s capability to handle the data.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021508"></a><a name="wpmkr1021507"></a><p class="pB1_Body1">
ignored 
</p>
</td>
<td><a name="wp1021510"></a><p class="pB1_Body1">
Gives the number of received packets ignored by the interface because the interface hardware ran low on internal buffers. Broadcast storms and bursts of noise can cause the ignored count to be increased.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021513"></a><a name="wpmkr1021512"></a><p class="pB1_Body1">
abort 
</p>
</td>
<td><a name="wp1021515"></a><p class="pB1_Body1">
Indicates an illegal sequence of 1 bit on a serial interface. This usually indicates a clocking problem between the serial interface and the data link equipment.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021518"></a><a name="wpmkr1021517"></a><p class="pB1_Body1">
carrier transitions 
</p>
</td>
<td><a name="wp1021520"></a><p class="pB1_Body1">
Gives the number of times that the carrier detect signal of a serial interface has changed state. For example, if data carrier detect (DCD) goes down and comes up, the carrier transition counter will increment two times. This indicates modem or line problems if the carrier detect line is changing state often.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021526"></a><a name="wpmkr1021525"></a><p class="pB1_Body1">
packets output 
</p>
</td>
<td><a name="wp1021528"></a><p class="pB1_Body1">
Gives the total number of messages transmitted by the system.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021531"></a><a name="wpmkr1021530"></a><p class="pB1_Body1">
bytes output 
</p>
</td>
<td><a name="wp1021533"></a><p class="pB1_Body1">
Gives the total number of bytes, including data and MAC encapsulation, transmitted by the system.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021536"></a><a name="wpmkr1021535"></a><p class="pB1_Body1">
underruns 
</p>
</td>
<td><a name="wp1021538"></a><p class="pB1_Body1">
Gives the number of times that the transmitter has been running faster than the router can handle. This might never be reported on some interfaces. 
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021541"></a><a name="wpmkr1021540"></a><p class="pB1_Body1">
output errors 
</p>
</td>
<td><a name="wp1021543"></a><p class="pB1_Body1">
Gives the sum of all errors that prevented the final transmission of datagrams out of the interface being examined. Note that this might not balance with the sum of the enumerated output errors because some datagrams can have more than one error, and others can have errors that do not fall into any of the specifically tabulated categories.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021546"></a><a name="wpmkr1021545"></a><p class="pB1_Body1">
collisions 
</p>
</td>
<td><a name="wp1021548"></a><p class="pB1_Body1">
Gives the number of messages retransmitted because of an Ethernet collision. This usually is the result of an overextended LAN (Ethernet or transceiver cable too long, more than two repeaters between stations, or too many cascaded multiport transceivers). Some collisions are normal. However, if your collision rate climbs to around 4 percent or 5 percent, you should consider verifying that there is no faulty equipment on the segment, or moving some existing stations to a new segment. A packet that collides is counted only once in output packets.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021551"></a><a name="wpmkr1021550"></a><p class="pB1_Body1">
interface resets 
</p>
</td>
<td><a name="wp1021553"></a><p class="pB1_Body1">
Gives the number of times that an interface has been completely reset. This can happen if packets queued for transmission were not sent within several seconds. On a serial line, this can be caused by a malfunctioning modem that is not supplying the transmit clock signal, or by a cable problem. If the system notices that the carrier detect line of a serial interface is up but the line protocol is down, it periodically resets the interface in an effort to restart it. Interface resets can also occur when an interface is looped back or shut down.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021556"></a><a name="wpmkr1021555"></a><p class="pB1_Body1">
restarts 
</p>
</td>
<td><a name="wp1021558"></a><p class="pB1_Body1">
Gives the number of times that the controller was restarted because of errors.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021561"></a><a name="wpmkr1021560"></a><p class="pB1_Body1">
alarm indications, remote alarms, rx LOF, rx LOS 
</p>
</td>
<td><a name="wp1021563"></a><p class="pB1_Body1">
Gives the number of CSU/DSU alarms, and the number of occurrences of receive loss of frame and receive loss of signal.
</p>
</td>
</tr>
  <tr align="left" valign="top"><td><a name="wp1021566"></a><a name="wpmkr1021565"></a><p class="pB1_Body1">
BER inactive, NELR inactive, FELR inactive 
</p>
</td>
<td><a name="wp1021568"></a><a name="wpmkr1021569"></a><p class="pB1_Body1">
Shows the status of G.703-E1 counters for bit error rate (BER) alarm, near-end loop remote (NELR), and far-end loop remote (FELR). Note that you cannot set the NELR or FELR.
</p>
</td>
</tr>
</table>
</div><br />
<p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: normal"></span>
</p>
<a name="Troubleshooting_T1_Problems"> </a>

<a name="wp1021572"></a><a name="wpmkr1021571"></a><h2 class="p_H_Head1">
Troubleshooting T1 Problems
</h2>

<a name="wp1021573"></a><p class="pB1_Body1">
This section describes the techniques and procedures to troubleshoot T1 circuits for dial-in customers.
</p>

<a name="Troubleshooting_Using_the_show_controller_t1_Command"> </a>

<a name="wp1021575"></a><a name="wpmkr1021574"></a><h3 class="p_H_Head2">
Troubleshooting Using the show controller t1 Command
</h3>
<a name="wp1021576"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> exec command provides information to logically troubleshoot physical layer and data link layer problems. This section describes how to logically troubleshoot using the <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> command.
</p>
<a name="wp1021577"></a><p class="pB1_Body1">
This command displays the controller status that is specific to the controller hardware. The information displayed is generally useful for diagnostic tasks performed by technical support personnel.
</p>
<a name="wp1021578"></a><p class="pB1_Body1">
The NPM or MIP can query the port adapters to determine their current status. Issue a <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> command to display statistics about the T1 link.
</p>
<a name="wp1021579"></a><p class="pB1_Body1">
If you specify a slot and port number, statistics for each 15-minute period will be displayed.
</p>
<a name="wp1021580"></a><p class="pB1_Body1">
Most T1 errors are caused by misconfigured lines. Ensure that linecoding, framing, and clock source are configured according to what the service provider recommends.
</p>

<a name="show_controller_t1_Conditions"> </a>

<a name="wp1021582"></a><a name="wpmkr1021581"></a><h3 class="p_H_Head2">
show controller t1 Conditions
</h3>
<a name="wp1021584"></a><a name="wpmkr1021583"></a><p class="pB1_Body1">
The t1 controller can be in three states:
</p>
<a name="wp1021585"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Administratively down
</p>
<a name="wp1021586"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Down
</p>
<a name="wp1021587"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Up
</p>

<a name="Is_the_Controller_Administratively_Down?"> </a>

<a name="wp1021589"></a><a name="wpmkr1021588"></a><h3 class="p_H_Head2">
Is the Controller Administratively Down?
</h3>
<a name="wp1021590"></a><p class="pB1_Body1">
The controller is administratively down when it has been manually shut down. You should restart the controller to correct this error.
</p>
<hr noshade />
<a name="wp1021591"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Enter enable mode.
</p>
<a name="wp1021592"></a><div class="pEx2_Example2">
<pre>maui-nas-03&gt;<span style="color: Black; font-style: normal; font-weight: normal">en
</span></pre>
</div><a name="wp1021593"></a><div class="pEx2_Example2">
<pre>Password:
</pre>
</div><a name="wp1021594"></a><div class="pEx2_Example2">
<pre>maui-nas-03#
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1033921"></a><br /></pre></div>
<a name="wp1021595"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Enter global configuration mode.
</p>
<a name="wp1021596"></a><div class="pEx2_Example2">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">configure terminal
</span></pre>
</div><a name="wp1021597"></a><div class="pEx2_Example2">
<pre>Enter configuration commands, one per line.  End with CNTL/Z<span style="color: Black; font-style: normal; font-weight: normal">.
</span></pre>
</div><a name="wp1021598"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1033941"></a><br /></pre></div>
<a name="wp1021599"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Enter controller configuration mode.
</p>
<a name="wp1021600"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">controller t1 0
</span></pre>
</div><a name="wp1021601"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1033961"></a><br /></pre></div>
<a name="wp1021602"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Restart the controller.
</p>
<a name="wp1021603"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">shutdown
</span></pre>
</div><a name="wp1021604"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">no shutdown
</span></pre>
</div>
<a name="Is_the_Line_Up?"> </a>

<a name="wp1021606"></a><a name="wpmkr1021605"></a><h3 class="p_H_Head2">
Is the Line Up?
</h3>
<a name="wp1021607"></a><p class="pB1_Body1">
If the T1 controller and line are not up, check to see if you are seeing one of the following messages in the <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> exec output:
</p>
<a name="wp1021608"></a><p class="pCE_CmdEnv">Receiver has loss of frame.
</p><a name="wp1021609"></a><p class="pB1_Body1">
or
</p>
<a name="wp1021610"></a><p class="pCE_CmdEnv">Receiver has loss of signal.
</p>
<a name="If_Receiver_Has_Loss_of_Frame"> </a>

<a name="wp1021612"></a><a name="wpmkr1021611"></a><h3 class="p_H_Head3">
If Receiver Has Loss of Frame
</h3>
<hr noshade />
<a name="wp1021613"></a><a name="wpmkr1021614"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the framing format configured on the port matches the framing format of the line. You can check the framing format of the controller from the running configuration or the <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> command output.
</p>
<a name="wp1021616"></a><a name="wpmkr1021615"></a><p class="pB1_Body1">
To change the framing format, use the <span style="color: Black; font-style: normal; font-weight: bold">framing {SF | ESF</span>} command in the controller configuration mode, as shown here:
</p>
<a name="wp1021617"></a><div class="pEx1_Example1">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">configure terminal
</span></pre>
</div><a name="wp1021618"></a><div class="pEx1_Example1">
<pre>Enter configuration commands, one per line.  End with CNTL/Z.
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1021619"></a><br /></pre></div>
<a name="wp1021620"></a><div class="pEx1_Example1">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">controller t1 0
</span></pre>
</div><a name="wp1021621"></a><div class="pEx1_Example1">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">framing esf
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1033999"></a><br /></pre></div>
<a name="wp1021622"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Try the other framing format to see if the alarm clears.
</p>
<a name="wp1021624"></a><a name="wpmkr1021623"></a><a name="wpmkr1021625"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Change the line build out setting using the <span style="color: Black; font-style: normal; font-weight: bold">cablelength {long | short} </span>command.
</p>
<a name="wp1021627"></a><a name="wpmkr1021626"></a><p class="pB1_Body1">
Line build out (LBO) compensates for the loss in decibels based on the distance from the device to the first repeater in the circuit. A longer distance from the device to the repeater requires that the signal strength on the circuit be boosted to compensate for loss over that distance.
</p>
<a name="wp1021628"></a><a name="wpmkr1021629"></a><p class="pB1_Body1">
To configure transmit and receive levels for a cable length (line build out) longer than 655 feet for a T1 trunk with a channel service unit (CSU) interface, use the <span style="color: Black; font-style: normal; font-weight: bold">cablelength long</span> controller configuration command. To configure transmit attenuation for a cable length (line build out) of 655 feet or shorter for a T1 trunk with a DSX-1 interface, use the <span style="color: Black; font-style: normal; font-weight: bold">cablelength short</span> controller configuration command.
</p>
<a name="wp1021630"></a><p class="pB1_Body1">
Consult your service provider and the Cisco IOS command reference for details on buildout settings.
</p>
<a name="wp1021631"></a><p class="pB1_Body1">
If this does not fix the problem, proceed to the next section.
</p>

<a name="If_Receiver_Has_Loss_of_Signal"> </a>

<a name="wp1021633"></a><a name="wpmkr1021632"></a><h3 class="p_H_Head3">
If Receiver Has Loss of Signal
</h3>
<hr noshade />
<a name="wp1021634"></a><a name="wpmkr1021635"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Make sure that the cable between the interface port and the T1 service provider&#39;s equipment or T1 terminal equipment is connected correctly. Check to see if the cable is hooked up to the correct ports. Correct the cable connections, if necessary.
</p>
<a name="wp1021636"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check cable integrity. Look for breaks or other physical abnormalities in the cable. Ensure that the pinouts are set correctly. If necessary, replace the cable.
</p>
<a name="wp1021637"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the cable connectors. A reversal of the transmit and receive pairs or an open receive pair can cause errors. Set the receive pair to lines 1 and 2; the transmit pair should be lines 4 and 5.
</p>
<a name="wp1021638"></a><p class="pB1_Body1">
The pins on an RJ-48 jack are numbered from 1 through 8. Pin 1 is the leftmost pin when looking at the jack with the metal pins facing you. Refer to Figure 15-11.
</p>
<a name="wp1021642"></a><p class="pTC_TableCap">
Figure&#160;15-11	RJ-45 Cable</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891511.jpg" id="wp1021640" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<a name="wp1021643"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Try using a rollover cable.
</p>
<a name="wp1021644"></a><a name="wpmkr1021645"></a><p class="pB1_Body1">
Run the <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> exec command after each step to see whether the controller exhibits any errors.
</p>

<a name="If_the_Line_Is_in_Loopback_Mode"> </a>

<a name="wp1021647"></a><a name="wpmkr1021646"></a><h3 class="p_H_Head2">
If the Line Is in Loopback Mode
</h3>
<a name="wp1021648"></a><p class="pB1_Body1">
Check to see whether the line is in loopback mode from the <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> output. A line should be in loopback mode only for testing purposes.
</p>
<a name="wp1021650"></a><a name="wpmkr1021649"></a><p class="pB1_Body1">
To turn off loopback, use the <span style="color: Black; font-style: normal; font-weight: bold">no loopback</span> command in the controller configuration mode, as shown here:
</p>
<a name="wp1021651"></a><p class="pCE_CmdEnv">maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">no loopback
</span></p>
<a name="If_the_Controller_Displays_Any_Alarms"> </a>

<a name="wp1021653"></a><a name="wpmkr1021652"></a><h3 class="p_H_Head2">
If the Controller Displays Any Alarms
</h3>
<a name="wp1021654"></a><p class="pB1_Body1">
Check the <span style="color: Black; font-style: normal; font-weight: bold">show controller</span> command output to see if there are alarms displayed by the controller.
</p>
<a name="wp1021655"></a><p class="pB1_Body1">
We will now discuss various alarms and the procedure necessary to correct them.
</p>

<a name="Receive_(RX)_Alarm_Indication_Signal_(AIS)_(Blue)"> </a>

<a name="wp1021657"></a><a name="wpmkr1021656"></a><h3 class="p_H_Head3">
Receive (RX) Alarm Indication Signal (AIS) (Blue)
</h3>
<a name="wp1021658"></a><a name="wpmkr1021659"></a><p class="pB1_Body1">
A received alarm indication signal (AIS) means that an alarm is occurring on the line upstream of the equipment connected to the port. The AIS failure is declared when an AIS defect is detected at the input and still exists after the loss of frame failure is declared (caused by the unframed nature of the &quot;all-ones&quot; signal). The AIS failure is cleared when the loss of frame failure is cleared.
</p>
<hr noshade />
<a name="wp1021660"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the framing format configured on the port matches the framing format of the line. If not, change the framing format on the controller to match that of the line.
</p>
<a name="wp1021661"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Contact your service provider to check for misconfiguration within the telco.
</p>

<a name="Receive_(Rx)_Remote_Alarm_Indication_(Yellow)"> </a>

<a name="wp1021664"></a><a name="wpmkr1021662"></a><a name="wpmkr1021663"></a><h3 class="p_H_Head3">
Receive (Rx) Remote Alarm Indication (Yellow)
</h3>
<a name="wp1021665"></a><a name="wpmkr1021666"></a><p class="pB1_Body1">
A received remote alarm indication means that the far-end equipment has a problem with the signal that it is receiving from its upstream equipment.
</p>
<a name="wp1021667"></a><p class="pB1_Body1">
For SF links, the far-end alarm failure is declared when bit 6 of all the channels has been zero for at least 335 ms. The failure is cleared when bit 6 of at least one channel is not zero for a period usually less than 1 second and always less than 5 seconds. The far-end alarm failure is not declared for SF links when a loss of signal is detected.
</p>
<a name="wp1021668"></a><p class="pB1_Body1">
For ESF links, the far-end alarm failure is declared if the yellow alarm signal pattern occurs in at least seven out of ten contiguous 16-bit pattern intervals. The failure is cleared if the yellow alarm signal pattern does not occur in ten contiguous 16-bit signal pattern intervals.
</p>
<hr noshade />
<a name="wp1021669"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Insert an external loopback cable into the port. To create a loopback plug, refer to the section &quot;Performing Hardware Loopback Plug Test,&quot;<span style="color: Black; font-style: normal; font-weight: bold"> </span>later in this chapter.
</p>
<a name="wp1021670"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see if there are any alarms. If you do not see any alarms, then the local hardware is probably in good condition. In that case, do the following:
</p>
<a name="wp1021671"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Check the cabling. Refer to the section &quot;If Receiver Has Loss of Signal&quot; for more information.
</p>
<a name="wp1021672"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Check the settings at the remote end, and verify that they match your port settings.
</p>
<a name="wp1021673"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />If the problem persists, contact your service provider.
</p>
<a name="wp1021674"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Remove the loopback plug, and reconnect your T1 line
</p>
<a name="wp1021675"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the cabling. Refer to the section &quot;Loss of Signal&quot; for more information.
</p>
<a name="wp1021676"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Power-cycle the router.
</p>
<a name="wp1021677"></a><a name="wpmkr1021678"></a><p class="pSN_StepNext">
<b>Step 6	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Connect the T1 line to a different port. Configure the port with the same settings as that of the line. If the problem does not persist, then the fault lies with the one port:
</p>
<a name="wp1021679"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Reconnect the T1 line to the original port.
</p>
<a name="wp1021680"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Proceed to the &quot;Troubleshooting Error Events&quot; section, later in this chapter.
</p>
<a name="wp1021681"></a><p class="pB1_Body1">
If the problem persists, then do the following:
</p>
<a name="wp1021682"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Perform a hardware loop test, as described in the section &quot;Performing Hardware Loopback Plug Test.&quot;
</p>
<a name="wp1021683"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Replace the T1 controller card.
</p>
<a name="wp1021687"></a><a name="wpmkr1021684"></a><a name="wpmkr1021685"></a><a name="wpmkr1021686"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Proceed to &quot;Troubleshooting Error Events,&quot; the next section.
</p>

<a name="Transmitter_Sending_Remote_Alarm_(Red)"> </a>

<a name="wp1021689"></a><a name="wpmkr1021688"></a><h3 class="p_H_Head3">
Transmitter Sending Remote Alarm (Red)
</h3>
<a name="wp1021690"></a><p class="pB1_Body1">
A red alarm is declared when the CSU cannot synchronize with the framing pattern on the T1 line.
</p>
<hr noshade />
<a name="wp1021691"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the framing format configured on the port matches the framing format of the line. If not, change the framing format on the controller to match that of the line.
</p>
<a name="wp1021692"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the settings at the remote end, and verify that they match your port settings.
</p>
<a name="wp1021693"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Contact your service provider.
</p>

<a name="Transmit_(Tx)_Remote_Alarm_Indication_(Yellow)"> </a>

<a name="wp1021696"></a><a name="wpmkr1021694"></a><a name="wpmkr1021695"></a><h3 class="p_H_Head3">
Transmit (Tx) Remote Alarm Indication (Yellow)
</h3>
<a name="wp1021697"></a><p class="pB1_Body1">
A transmitted remote alarm indication at the interface indicates that the interface has a problem with the signal it is receiving from the far-end equipment.
</p>
<hr noshade />
<a name="wp1021698"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the settings at the remote end, and verify that they match your port settings.
</p>
<a name="wp1021699"></a><a name="wpmkr1021700"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />A Tx RAI should be accompanied by some other alarm that indicates the nature of the problem that the T1 port/card is having with the signal from the far-end equipment.
</p>
<a name="wp1021701"></a><p class="pB1_Body1">
Troubleshoot that condition to resolve the Tx RAI.
</p>

<a name="Transmit_(Tx)_AIS_(Blue)"> </a>

<a name="wp1021703"></a><a name="wpmkr1021702"></a><h3 class="p_H_Head3">
Transmit (Tx) AIS (Blue)
</h3>
<hr noshade />
<a name="wp1021704"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the framing format configured on the port matches the framing format of the line. If not, correct the mismatch.
</p>
<a name="wp1021705"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Power-cycle the router.
</p>
<a name="wp1021706"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Connect the T1 line to a different port. Configure the port with the same settings as that of the line.
</p>
<a name="wp1021707"></a><p class="pB1_Body1">
If the problem persists, then do the following:
</p>
<a name="wp1021708"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Perform a hardware loop test, as described in the section &quot;Performing a Hardware Loop Test.&quot;
</p>
<a name="wp1021709"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Replace the T1 controller card.
</p>
<a name="wp1021711"></a><a name="wpmkr1021710"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Proceed to the &quot;Troubleshooting Error Events&quot; section, next.
</p>

<a name="Troubleshooting_Error_Events"> </a>

<a name="wp1021713"></a><a name="wpmkr1021712"></a><h3 class="p_H_Head2">
Troubleshooting Error Events
</h3>
<a name="wp1021715"></a><a name="wpmkr1021714"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> exec command provides error messages that can be used to troubleshoot problems. We will now discuss several error messages and how to correct the errors.
</p>
<a name="wp1021716"></a><p class="pB1_Body1">
To see whether the error counters are increasing, execute the <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> command repeatedly. Note the values of the counters for the current interval.
</p>
<a name="wp1021717"></a><a name="wpmkr1021718"></a><p class="pB1_Body1">
Consult your service provider for framing and linecoding settings. A good rule of thumb is to use B8ZS linecoding with ESF framing and AMI linecoding with SF framing.
</p>

<a name="Slip_Secs_Counter_Is_Increasing"> </a>

<a name="wp1021720"></a><a name="wpmkr1021719"></a><h3 class="p_H_Head3">
Slip Secs Counter Is Increasing
</h3>
<a name="wp1021721"></a><p class="pB1_Body1">
The presence of slips on a T1 line indicates a clocking problem. The T1 provider (telco) will provide the clocking that the customer premises equipment (CPE) will need to synchronize to.
</p>
<hr noshade />
<a name="wp1021722"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that the clock source is derived from the network. This can be ascertained by looking for &quot;Clock Source Is Line Primary.&quot;
</p>
<a name="wp1021723"></a><p class="pB1_Body1">
<span style="color: Black; font-style: normal; font-weight: bold">Note</span>: If there are multiple T1s into an access server, only one can be the primary, while the other T1s derive the clock from the primary. In that case, verify that the T1 line designated as the primary clock source is configured correctly.
</p>
<a name="wp1021725"></a><a name="wpmkr1021724"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Set the T1 clock source correctly from the controller configuration mode.
</p>
<a name="wp1021727"></a><a name="wpmkr1021726"></a><div class="pEx1_Example1">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">clock source line primary
</span></pre>
</div>
<a name="Framing_Loss_Seconds_Counter_Is_Increasing"> </a>

<a name="wp1021729"></a><a name="wpmkr1021728"></a><h3 class="p_H_Head3">
Framing Loss Seconds Counter Is Increasing
</h3>
<hr noshade />
<a name="wp1021730"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the framing format configured on the port matches the framing format of the line. You can check this by looking for &quot;Framing is {ESF|SF}&quot;<span style="color: Black; font-style: italic; font-weight: normal"> </span>in the show controller t1 output.
</p>
<a name="wp1021732"></a><a name="wpmkr1021731"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />To change the framing format, use the <span style="color: Black; font-style: normal; font-weight: bold">framing {SF | ESF</span>} command in the controller configuration mode, as shown here:
</p>
<a name="wp1021733"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">framing esf
</span></pre>
</div><a name="wp1021735"></a><a name="wpmkr1021734"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Change the line build out using the <span style="color: Black; font-style: normal; font-weight: bold">cablelength {long | short}</span> command.
</p>
<a name="wp1021736"></a><p class="pB1_Body1">
Consult your service provider and the Cisco IOS command reference for details on buildout settings.
</p>

<a name="Line_Code_Violations_Are_Increasing"> </a>

<a name="wp1021738"></a><a name="wpmkr1021737"></a><h3 class="p_H_Head3">
Line Code Violations Are Increasing
</h3>
<hr noshade />
<a name="wp1021739"></a><a name="wpmkr1021740"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the linecoding configured on the port matches the framing format of the line. You can check this by looking for &quot;Line Code is {B8ZS|AMI}&quot; in the <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> output.
</p>
<a name="wp1021742"></a><a name="wpmkr1021741"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />To change the linecoding, use the <span style="color: Black; font-style: normal; font-weight: bold">linecode {ami | b8zs}</span> command in the controller configuration mode, as shown here:
</p>
<a name="wp1021743"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">linecode b8zs
</span></pre>
</div><a name="wp1021746"></a><a name="wpmkr1021744"></a><a name="wpmkr1021745"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Change the line build out using the <span style="color: Black; font-style: normal; font-weight: bold">cablelength {long | short}</span> command.
</p>
<a name="wp1021747"></a><p class="pB1_Body1">
Consult your service provider and the Cisco IOS command reference for details on buildout settings.
</p>

<a name="Verify_that_isdn_switchtype_and_pri-group_Are_Configured_Correctly"> </a>

<a name="wp1021750"></a><a name="wpmkr1021748"></a><a name="wpmkr1021749"></a><h3 class="p_H_Head3">
Verify that isdn switchtype and pri-group Are Configured Correctly
</h3>
<a name="wp1021752"></a><a name="wpmkr1021751"></a><p class="pB1_Body1">
Use the <span style="color: Black; font-style: normal; font-weight: bold">show running-config</span> command to check if isdn switchtype and pri-group timeslots are configured correctly. Contact your service provider for correct values.
</p>
<a name="wp1021753"></a><p class="pB1_Body1">
To change the isdn switchtype and pri-group, enter these lines:
</p>
<a name="wp1021754"></a><p class="pCE_CmdEnv">maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">configure terminal
</span></p><a name="wp1021755"></a><p class="pCE_CmdEnv">maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">isdn switch-type primary-5ess
</span></p><a name="wp1021756"></a><p class="pCE_CmdEnv">maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">controller t1 0
</span></p><a name="wp1021757"></a><p class="pCE_CmdEnv">maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">pri-group timeslots 1-24
</span></p>
<a name="Verifying_the_Signaling_Channel"> </a>

<a name="wp1021759"></a><a name="wpmkr1021758"></a><h3 class="p_H_Head3">
Verifying the Signaling Channel
</h3>
<a name="wp1021760"></a><p class="pB1_Body1">
If the error counters do not increase but the problem persists, verify that the signaling channel is up and configured correctly.
</p>
<hr noshade />
<a name="wp1021762"></a><a name="wpmkr1021761"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Run the <span style="color: Black; font-style: normal; font-weight: bold">show interface serial x:23</span> command, where x should be replaced by the interface number.
</p>
<a name="wp1021764"></a><a name="wpmkr1021763"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see if the interface is up. If the interface is not up, use the <span style="color: Black; font-style: normal; font-weight: bold">no shutdown</span> command to bring the interface up.
</p>
<a name="wp1021765"></a><div class="pEx2_Example2">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">config terminal
</span></pre>
</div><a name="wp1021766"></a><div class="pEx2_Example2">
<pre>Enter configuration commands, one per line.  End with CNTL/Z.
</pre>
</div><a name="wp1021767"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">interface serial 0:23
</span></pre>
</div><a name="wp1021768"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">no shutdown
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034070"></a><br /></pre></div>
<a name="wp1021769"></a><a name="wpmkr1021770"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Ensure that encapsulation is PPP. If the interface is not using PPP, then use the <span style="color: Black; font-style: normal; font-weight: bold">encapsulation ppp</span> command in the interface configuration mode to correct it.
</p>
<a name="wp1021771"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">encapsulation ppp
</span></pre>
</div><a name="wp1021772"></a><a name="wpmkr1021773"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether loopback is set. Loopback should be set only for testing purposes. Use the <span style="color: Black; font-style: normal; font-weight: bold">no loopback</span> command to remove loopbacks.
</p>
<a name="wp1021774"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">no loopback
</span></pre>
</div><a name="wp1021775"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Power-cycle the router.
</p>
<a name="wp1021777"></a><a name="wpmkr1021776"></a><p class="pSN_StepNext">
<b>Step 6	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If the problem persists, contact your service provider or Cisco TAC.
</p>

<a name="Troubleshooting_a_PRI"> </a>

<a name="wp1021779"></a><a name="wpmkr1021778"></a><h3 class="p_H_Head2">
Troubleshooting a PRI
</h3>
<a name="wp1021780"></a><p class="pB1_Body1">
Whenever troubleshooting a PRI, you need to check whether the T1 is running cleanly on both ends. If Layer 1 problems have been resolved, as described previously, we must look to Layer 2 and 3 problems.
</p>

<a name="Troubleshooting_Using_the_show_isdn_status_Command"> </a>

<a name="wp1021782"></a><a name="wpmkr1021781"></a><h3 class="p_H_Head3">
Troubleshooting Using the show isdn status Command
</h3>
<a name="wp1021784"></a><a name="wpmkr1021783"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">show isdn status</span> command is used to display a snapshot of all ISDN interfaces. It displays the status of Layers 1, 2, and 3.
</p>
<hr noshade />
<a name="wp1021785"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that Layer 1 is active.
</p>
<a name="wp1021786"></a><p class="pB1_Body1">
The Layer 1 status should always say ACTIVE unless the T1 is down.
</p>
<a name="wp1021787"></a><p class="pB1_Body1">
If <span style="color: Black; font-style: normal; font-weight: bold">show isdn status</span> indicates that Layer 1 is DEACTIVATED, then there is a problem with the physical connectivity on the T1 line. Refer to the previous section &quot;Is the Controller Administratively Down?&quot;
</p>
<a name="wp1021789"></a><a name="wpmkr1021788"></a><p class="pB1_Body1">
Also verify that the T1 is not administratively down. Use the <span style="color: Black; font-style: normal; font-weight: bold">no shutdown</span> command to bring up the T1 controller.
</p>
<a name="wp1021790"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check whether Layer 2 state is MULTIPLE_FRAME_ESTABLISHED.
</p>
<a name="wp1021791"></a><p class="pB1_Body1">
The desired Layer 2 State is MULTIPLE_FRAME_ESTABLISHED, which indicates that we are exchanging Layer 2 frames and have finished Layer 2 initialization.
</p>
<a name="wp1021793"></a><a name="wpmkr1021792"></a><p class="pB1_Body1">
If Layer 2 is not MULTIPLE_FRAME_ESTABLISHED, use the <span style="color: Black; font-style: normal; font-weight: bold">show controller t1</span> exec command to diagnose the problem. Refer to the section &quot;Troubleshooting Using the show controller t1 Command.&quot;
</p>
<a name="wp1021794"></a><a name="wpmkr1021795"></a><p class="pB1_Body1">
Because <span style="color: Black; font-style: normal; font-weight: bold">show isdn status</span> is a snapshot of the current status, it is possible that Layer 2 is bouncing up and down despite indicating MULTIPLE_FRAME_ESTABLISHED. Use <span style="color: Black; font-style: normal; font-weight: bold">debug isdn q921 </span>to verify that Layer 2 is stable.
</p>

<a name="Using_debug_q921"> </a>

<a name="wp1021797"></a><a name="wpmkr1021796"></a><h3 class="p_H_Head3">
Using debug q921
</h3>
<a name="wp1021798"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">debug isdn q921</span> command displays data link layer (Layer 2) access procedures that are taking place at the router on the D-channel.
</p>
<a name="wp1021800"></a><a name="wpmkr1021799"></a><a name="wpmkr1021801"></a><p class="pB1_Body1">
Ensure that you are configured to view <span style="color: Black; font-style: normal; font-weight: bold">debug</span> messages by using the logging console or terminal monitor command as necessary.
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021803"></a><a name="wpmkr1021802"></a><a name="wpmkr1021804"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />In a production environment, verify that console logging is disabled. Enter the <span style="color: Black; font-style: normal; font-weight: bold">show logging</span> command. If logging is enabled, the access server might intermittently freeze up as soon as the console port gets overloaded with log messages. Enter the <span style="color: Black; font-style: normal; font-weight: bold">no logging</span> console command.
</p>
<hr class="Cautn1table" /><div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1021805"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />If <span style="color: Black; font-style: normal; font-weight: bold">debug isdn q921</span> is turned on and you do not receive any <span style="color: Black; font-style: normal; font-weight: bold">debug</span> outputs, place a call or reset the controller to get <span style="color: Black; font-style: normal; font-weight: bold">debug</span> outputs.
</p>
<hr class="Cautn1table" /><hr noshade />
<a name="wp1021807"></a><a name="wpmkr1021806"></a><a name="wpmkr1021808"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that Layer 2 is stable. You should observe the <span style="color: Black; font-style: normal; font-weight: bold">debug</span> outputs for messages indicating that the service is not bouncing up and down. If you see the following types of debug outputs, the line is not stable:
</p>
<a name="wp1021809"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:07.882: %ISDN-6-LAYER2DOWN: Layer 2 for Interface Se0:23, TEI 0 changed 
to down
</pre>
</div><a name="wp1021810"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:09.882: %LINK-3-UPDOWN: Interface Serial0:23, changed state to down
</pre>
</div><a name="wp1021811"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:21.274: %DSX1-6-CLOCK_CHANGE: Controller 0  clock is now selected as 
clock source
</pre>
</div><a name="wp1021812"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:21.702: %ISDN-6-LAYER2UP: Layer 2 for Interface Se0:23, TEI 0 changed to 
up
</pre>
</div><a name="wp1021813"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:22.494: %CONTROLLER-5-UPDOWN: Controller T1 0, changed state to up
</pre>
</div><a name="wp1021814"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:24.494: %LINK-3-UPDOWN: Interface Serial0:23, changed state to up
</pre>
</div><a name="wp1021815"></a><p class="pB1_Body1">
If Layer 2 does not appear to be stable, refer to the section &quot;Troubleshooting Error Events.&quot;
</p>
<a name="wp1021816"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that you are seeing only SAPI messages in both transmit (TX) and receive (RX) sides.
</p>
<a name="wp1021817"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:52.505: ISDN Se0:23: TX -&gt;  RRf sapi = 0  tei = 0  nr = 0
</pre>
</div><a name="wp1021818"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:52.505: ISDN Se0:23: RX &lt;-  RRf sapi = 0  tei = 0  nr = 0
</pre>
</div><a name="wp1021819"></a><div class="pEx2_Example2">
<pre>Mar 20 10:07:22.505: ISDN Se0:23: TX -&gt;  RRp sapi = 0  tei = 0&#160;&#160;nr = 0
</pre>
</div><a name="wp1021820"></a><div class="pEx2_Example2">
<pre>Mar 20 10:07:22.509: ISDN Se0:23: RX &lt;-  RRp sapi = 0  tei = 0&#160;&#160;nr = 0
</pre>
</div><a name="wp1021821"></a><div class="pEx2_Example2">
<pre>Mar 20 10:07:22.509: ISDN Se0:23: TX -&gt;  RRf sapi = 0  tei = 0  nr = 0
</pre>
</div><a name="wp1021823"></a><a name="wpmkr1021822"></a><div class="pEx2_Example2">
<pre>Mar 20 10:07:22.509: ISDN Se0:23: RX &lt;-  RRf sapi = 0  tei = 0  nr = 0
</pre>
</div><a name="wp1021825"></a><a name="wpmkr1021824"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that you are not seeing SABME messages, which indicates that Layer 2 is trying to reinitialize. This is usually seen when we are transmitting poll requests (RRp) and not getting a response from the switch (RRf), or vice versa. The following are example of SABME messages:
</p>
<a name="wp1021826"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:21.702: ISDN Se0:23: RX &lt;-  SABMEp sapi = 0  tei = 0
</pre>
</div><a name="wp1021827"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:22.494: ISDN Se0:23: TX -&gt;  SABMEp sapi = 0  tei = 0
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034383"></a><br /></pre></div>
<a name="wp1021828"></a><p class="pB1_Body1">
If you are seeing SABME messages, do the following:
</p>
<a name="wp1021830"></a><a name="wpmkr1021829"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Use the <span style="color: Black; font-style: normal; font-weight: bold">show running-config</span> command to check whether <span style="color: Black; font-style: normal; font-weight: bold">isdn switchtype</span> and <span style="color: Black; font-style: normal; font-weight: bold">pri-group timeslots</span> are configured correctly. Contact your service provider for correct values.
</p>
<a name="wp1021833"></a><a name="wpmkr1021831"></a><a name="wpmkr1021832"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />To change the <span style="color: Black; font-style: normal; font-weight: bold">isdn switchtype</span> and <span style="color: Black; font-style: normal; font-weight: bold">pri-group</span>, enter these lines:
</p>
<a name="wp1021834"></a><div class="pEx2_Example2">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">configure terminal
</span></pre>
</div><a name="wp1021835"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">isdn switch-type primary-5ess
</span></pre>
</div><a name="wp1021836"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">controller t1 0
</span></pre>
</div><a name="wp1021837"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">pri-group timeslots 1-24
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034392"></a><br /></pre></div>
<a name="wp1021839"></a><a name="wpmkr1021838"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that the D-channel is up using the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial x:23</span> command.
</p>
<a name="wp1021841"></a><a name="wpmkr1021840"></a><p class="pB1_Body1">
If the D-channel is not up, then use <span style="color: Black; font-style: normal; font-weight: bold">no shutdown</span> command to bring it up:
</p>
<a name="wp1021842"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">interface serial 0:23
</span></pre>
</div><a name="wp1021843"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">no shutdown
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034393"></a><br /></pre></div>
<a name="wp1021845"></a><a name="wpmkr1021844"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether encapsulation is PPP. If not, use the <span style="color: Black; font-style: normal; font-weight: bold">encapsulation ppp</span> command to set encapsulation.
</p>
<a name="wp1021846"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">encapsulation ppp
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034394"></a><br /></pre></div>
<a name="wp1021847"></a><p class="pSN_StepNext">
<b>Step 6	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the interface is in loopback mode. For normal operation, the interface should not be in loopback mode.
</p>
<a name="wp1021848"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">no loopback
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034420"></a><br /></pre></div>
<a name="wp1021849"></a><p class="pSN_StepNext">
<b>Step 7	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Power-cycle the router.
</p>
<a name="wp1021851"></a><a name="wpmkr1021850"></a><p class="pSN_StepNext">
<b>Step 8	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If the problem persists, contact your service provider or Cisco TAC.
</p>

<a name="Performing_Hardware_Loopback_Plug_Test"> </a>

<a name="wp1021853"></a><a name="wpmkr1021852"></a><h3 class="p_H_Head3">
Performing Hardware Loopback Plug Test
</h3>
<a name="wp1021854"></a><p class="pB1_Body1">
The hardware loopback plug test can be used to test whether the router has any faults. If a router passes a hardware loopback plug test, then the problem exists elsewhere on the line.
</p>
<a name="wp1021856"></a><a name="wpmkr1021855"></a><p class="pB1_Body1">
To create a loopback plug, follow these steps:
</p>
<hr noshade />
<a name="wp1021857"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Use wire cutters to cut a working RJ-45 or RJ-48 cable so that there are 5 inches of cable and the connector attached to it.
</p>
<a name="wp1021858"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Strip the wires.
</p>
<a name="wp1021859"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Twist the wires from pins 1 and 4 together.
</p>
<a name="wp1021860"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Twist the wires from pins 2 and 5 together.
</p>
<a name="wp1021861"></a><p class="pB1_Body1">
Leave the rest of the wires alone.
</p>
<a name="wp1021862"></a><p class="pB1_Body1">
The pins on an RJ-45/48 jack are numbered from 1 through 8. Pin 1 is the left-most pin when looking at the jack with the metal pins facing you.
</p>

<a name="Performing_the_Loopback_Plug_Test"> </a>

<a name="wp1021863"></a><h3 class="p_H_Head3">
Performing the Loopback Plug Test
</h3>
<hr noshade />
<a name="wp1021864"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Insert the plug into the T1 port in question.
</p>
<a name="wp1021866"></a><a name="wpmkr1021865"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Save your router configuration using the <span style="color: Black; font-style: normal; font-weight: bold">write memory</span> command.
</p>
<a name="wp1021867"></a><div class="pEx2_Example2">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">write memory
</span></pre>
</div><a name="wp1021868"></a><div class="pEx2_Example2">
<pre>Building configuration...
</pre>
</div><a name="wp1021869"></a><div class="pEx2_Example2">
<pre>[OK]
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034343"></a><br /></pre></div>
<a name="wp1021870"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Set the encapsulation to HDLC.
</p>
<a name="wp1021871"></a><div class="pEx2_Example2">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">config terminal
</span></pre>
</div><a name="wp1021872"></a><div class="pEx2_Example2">
<pre>Enter configuration commands, one per line.  End with CNTL/Z.
</pre>
</div><a name="wp1021873"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">interface serial 0
</span></pre>
</div><a name="wp1021874"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">enc
</span></pre>
</div><a name="wp1021875"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">encapsulation HDLC
</span></pre>
</div><a name="wp1021876"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">^Z
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034356"></a><br /></pre></div>
<a name="wp1021878"></a><a name="wpmkr1021877"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Use the <span style="color: Black; font-style: normal; font-weight: bold">show running-config</span> command to check whether the interface has an IP address.
</p>
<a name="wp1021879"></a><p class="pB1_Body1">
If the interface does not have an IP address, obtain a unique address and assign it to the interface with a subnet mask of 255.255.255.0
</p>
<a name="wp1021880"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">ip address 172.22.53.1 255.255.255.0
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034377"></a><br /></pre></div>
<a name="wp1021882"></a><a name="wpmkr1021881"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Clear the interface counters using the <span style="color: Black; font-style: normal; font-weight: bold">clear counters</span> command.
</p>
<a name="wp1021883"></a><div class="pEx2_Example2">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">clear counters
</span></pre>
</div><a name="wp1021884"></a><div class="pEx2_Example2">
<pre>Clear &quot;show interface&quot; counters on all interfaces [confirm]
</pre>
</div><a name="wp1021885"></a><div class="pEx2_Example2">
<pre>maui-nas-03#
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034378"></a><br /></pre></div>
<a name="wp1021886"></a><a name="wpmkr1021887"></a><a name="wpmkr1021888"></a><p class="pSN_StepNext">
<b>Step 6	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Perform the extended <span style="color: Black; font-style: normal; font-weight: bold">ping</span> test as described in the &quot;Using Extended ping Tests&quot; section, earlier in this chapter.
</p>
<a name="Troubleshooting_E1_Problems"> </a>

<a name="wp1021890"></a><a name="wpmkr1021889"></a><h2 class="p_H_Head1">
Troubleshooting E1 Problems
</h2>

<a name="wp1021891"></a><p class="pB1_Body1">
This section describes the techniques and procedures to troubleshoot E1 circuits for dial-in customers.
</p>

<a name="Troubleshooting_Using_the_show_controller_e1_Command"> </a>

<a name="wp1021893"></a><a name="wpmkr1021892"></a><h3 class="p_H_Head2">
Troubleshooting Using the show controller e1 Command
</h3>
<a name="wp1021894"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">show e1 controller</span> exec command provides information to logically troubleshoot physical layer and data link layer problems. This section describes how to logically troubleshoot using the <span style="color: Black; font-style: normal; font-weight: bold">show controller e1</span> command.
</p>
<a name="wp1021895"></a><p class="pB1_Body1">
This command displays the controller status that is specific to the controller hardware. The information displayed is generally useful for diagnostic tasks performed by technical support personnel only.
</p>
<a name="wp1021896"></a><p class="pB1_Body1">
The NPM or MIP can query the port adapters to determine their current status. Issue a <span style="color: Black; font-style: normal; font-weight: bold">show controller e1</span> command to display statistics about the E1 link.
</p>
<a name="wp1021897"></a><p class="pB1_Body1">
If you specify a slot and port number, statistics for each 15-minute period will be displayed.
</p>
<a name="wp1021898"></a><p class="pB1_Body1">
Most E1 errors are caused by misconfigured lines. Ensure that linecoding, framing, clock source, and line termination (balanced or unbalanced) are configured according to what the service provider recommended.
</p>

<a name="Show_controller_e1_Conditions"> </a>

<a name="wp1021899"></a><h3 class="p_H_Head3">
Show controller e1 Conditions
</h3>
<a name="wp1021901"></a><a name="wpmkr1021900"></a><p class="pB1_Body1">
The E1 controller can be in three states:
</p>
<a name="wp1021902"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Administratively down
</p>
<a name="wp1021903"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Down
</p>
<a name="wp1021904"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Up
</p>

<a name="Is_the_Controller_Administratively_Down?"> </a>

<a name="wp1021906"></a><a name="wpmkr1021905"></a><h3 class="p_H_Head4">
Is the Controller Administratively Down?
</h3>
<a name="wp1021907"></a><a name="wpmkr1021908"></a><p class="pB1_Body1">
The controller is administratively down when it has been manually shut down. You should restart the controller to correct this error.
</p>
<hr noshade />
<a name="wp1021909"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Enter enable mode.
</p>
<a name="wp1021910"></a><div class="pEx2_Example2">
<pre>maui-nas-03&gt;<span style="color: Black; font-style: normal; font-weight: normal">en
</span></pre>
</div><a name="wp1021911"></a><div class="pEx2_Example2">
<pre>Password:
</pre>
</div><a name="wp1021912"></a><div class="pEx2_Example2">
<pre>maui-nas-03#
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034485"></a><br /></pre></div>
<a name="wp1021913"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Enter global configuration mode.
</p>
<a name="wp1021914"></a><div class="pEx2_Example2">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">configure terminal
</span></pre>
</div><a name="wp1021915"></a><div class="pEx2_Example2">
<pre>Enter configuration commands, one per line.  End with CNTL/Z<span style="color: Black; font-style: normal; font-weight: normal">.
</span></pre>
</div><a name="wp1021916"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034512"></a><br /></pre></div>
<a name="wp1021917"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Enter controller configuration mode.
</p>
<a name="wp1034529"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">controller e1 0
</span></pre>
</div><a name="wp1034530"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034540"></a><br /></pre></div>
<a name="wp1034531"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Restart the controller.
</p>
<a name="wp1021921"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">shutdown
</span></pre>
</div><a name="wp1021924"></a><a name="wpmkr1021922"></a><a name="wpmkr1021923"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">no shutdown
</span></pre>
</div>
<a name="Is_the_Line_Up?"> </a>

<a name="wp1021926"></a><a name="wpmkr1021925"></a><h3 class="p_H_Head4">
Is the Line Up?
</h3>
<a name="wp1021927"></a><p class="pB1_Body1">
If the E1 line is not up, check to see that the line configuration is correct and matches the settings of the remote end.
</p>
<a name="wp1021928"></a><p class="pB1_Body1">
Check the framing of the line and the remote end. For E1 lines, the framing is either CRC4 or noCRC4.
</p>
<a name="wp1021929"></a><p class="pB1_Body1">
Check the linecoding of the line and the remote end. The linecoding is either AMI or HDB3.
</p>
<a name="wp1021930"></a><p class="pB1_Body1">
Check whether the line termination is set for balanced or unbalanced (75 ohm or 120 ohm).
</p>
<a name="wp1021931"></a><p class="pB1_Body1">
Consult your service provider for more information regarding the correct settings. Make any changes as necessary to both local or remote end devices.
</p>
<a name="wp1021932"></a><p class="pB1_Body1">
If the E1 controller and line are not up, check to see whether you are seeing one of the following messages in the <span style="color: Black; font-style: normal; font-weight: bold">show controller e1</span> exec output:
</p>
<a name="wp1021933"></a><p class="pCE_CmdEnv">Receiver has loss of frame.
</p><a name="wp1021934"></a><p class="pB1_Body1">
or
</p>
<a name="wp1021936"></a><a name="wpmkr1021935"></a><p class="pCE_CmdEnv">Receiver has loss of signal.
</p>
<a name="If_Receiver_Has_Loss_of_Frame"> </a>

<a name="wp1021938"></a><a name="wpmkr1021937"></a><h3 class="p_H_Head4">
If Receiver Has Loss of Frame
</h3>
<a name="wp1021939"></a><hr noshade />
<a name="wp1021940"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the framing format configured on the port matches the framing format of the line. You can check the framing format of the controller from the running configuration or the <span style="color: Black; font-style: normal; font-weight: bold">show controller e1</span> command output.
</p>
<a name="wp1021941"></a><p class="pB1_Body1">
To change the framing format, use the <span style="color: Black; font-style: normal; font-weight: bold">framing {CRC4 | no CRC4</span>}<span style="color: Black; font-style: normal; font-weight: bold"> </span>command in the controller configuration mode, as shown here:
</p>
<a name="wp1021942"></a><div class="pEx2_Example2">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">configure terminal
</span></pre>
</div><a name="wp1021943"></a><div class="pEx2_Example2">
<pre>Enter configuration commands, one per line.  End with CNTL/Z.
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1021944"></a><br /></pre></div>
<a name="wp1021945"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">controller E1 0
</span></pre>
</div><a name="wp1021946"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">framing CRC4
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034578"></a><br /></pre></div>
<a name="wp1021947"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Try the other framing format to see if the alarm clears.
</p>
<a name="wp1021948"></a><p class="pB1_Body1">
If this does not fix the problem, proceed to the receiver has loss of signal section below.
</p>
<a name="wp1021949"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the framing format on the remote end.
</p>
<a name="wp1021951"></a><a name="wpmkr1021950"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the linecoding on the remote end.
</p>

<a name="If_Receiver_Has_Loss_of_Signal"> </a>

<a name="wp1021953"></a><a name="wpmkr1021952"></a><h3 class="p_H_Head4">
If Receiver Has Loss of Signal
</h3>
<a name="wp1021954"></a><hr noshade />
<a name="wp1021955"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Make sure that the cable between the interface port and the E1 service provider&#39;s equipment or E1 terminal equipment is connected correctly. Check to see whether the cable is hooked up to the correct ports. Correct the cable connections if necessary.
</p>
<a name="wp1021956"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check cable integrity. Look for breaks or other physical abnormalities in the cable. Ensure that the pinouts are set correctly. If necessary, replace the cable.
</p>
<a name="wp1021957"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the cable connectors. A reversal of the transmit and receive pairs or an open receive pair can cause errors. Set the receive pair to lines 1 and 2; the transmit pair should be lines 4 and 5.
</p>
<a name="wp1021959"></a><a name="wpmkr1021958"></a><a name="wpmkr1021960"></a><p class="pB1_Body1">
The pins on a RJ-48 jack are numbered from 1 through 8. Pin 1 is the leftmost pin when looking at the jack with the metal pins facing you. Refer to Figure 15-12 for more information.
</p>
<a name="wp1021964"></a><p class="pTC_TableCap">
Figure&#160;15-12	RJ-45 Cable</p>
<div align="left"><img src="../../../../i/Other/Cisco_Press/ITG/10-19-01/TR891512.jpg" id="wp1021962" border="0" hspace="0" vspace="0"/></div><p class="pTC_TableCap">

</p>
<a name="wp1021965"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Try using a rollover cable.
</p>
<a name="wp1021966"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether there are far-end block errors. If so, the problem exists with the receive lead on the local end. Contact TAC for more assistance.
</p>
<a name="wp1021967"></a><a name="wpmkr1021968"></a><p class="pB1_Body1">
Run the <span style="color: Black; font-style: normal; font-weight: bold">show controller e1</span> exec command after each step to check whether the controller exhibits any errors.
</p>

<a name="If_the_Line_Is_in_Loopback_Mode"> </a>

<a name="wp1021970"></a><a name="wpmkr1021969"></a><h3 class="p_H_Head4">
If the Line Is in Loopback Mode
</h3>
<a name="wp1021971"></a><a name="wp1021972"></a><p class="pB1_Body1">
Check to see whether the line is in loopback mode from the <span style="color: Black; font-style: normal; font-weight: bold">show controller e1</span> output. A line should be in loopback mode only for testing purposes.
</p>
<a name="wp1021974"></a><a name="wpmkr1021973"></a><p class="pB1_Body1">
To turn off loopback, use the <span style="color: Black; font-style: normal; font-weight: bold">no loopback</span> command in the controller configuration mode, as shown here:
</p>
<a name="wp1021975"></a><p class="pCE_CmdEnv">maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">no loopback
</span></p>
<a name="If_the_Controller_Displays_Any_Alarms"> </a>

<a name="wp1021977"></a><a name="wpmkr1021976"></a><h3 class="p_H_Head4">
If the Controller Displays Any Alarms
</h3>
<a name="wp1021978"></a><a name="wp1021979"></a><p class="pB1_Body1">
Check the <span style="color: Black; font-style: normal; font-weight: bold">show controller</span> command output to see whether any alarms are displayed by the controller.
</p>
<a name="wp1021981"></a><a name="wpmkr1021980"></a><p class="pB1_Body1">
We will now discuss various alarms and the procedure necessary to correct them.
</p>

<a name="Receiver_(Rx)_Has_Remote_Alarm"> </a>

<a name="wp1021983"></a><a name="wpmkr1021982"></a><h3 class="p_H_Head4">
Receiver (Rx) Has Remote Alarm
</h3>
<a name="wp1021984"></a><a name="wp1021985"></a><p class="pB1_Body1">
A received remote alarm means that an alarm is occurring on the line upstream of the equipment connected to the port.
</p>
<hr noshade />
<a name="wp1021986"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the framing format configured on the port matches the framing format of the line. If not, change the framing format on the controller to match that of the line.
</p>
<a name="wp1021987"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the linecoding setting on the remote-end equipment. Contact your service provider for the correct settings. Correct any misconfigurations, as necessary.
</p>
<a name="wp1021988"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Insert an external loopback cable into the port. To create a loopback plug, refer to the section &quot;Performing Hardware Loopback Plug Test,&quot;<span style="color: Black; font-style: italic; font-weight: normal"> </span>earlier in the chapter.
</p>
<a name="wp1021989"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether there are any alarms. If you do not see any alarms, then the local hardware is probably in good condition. In that case, do the following:
</p>
<a name="wp1021990"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Check the cabling. Refer to the section &quot;Loss of Signal&quot; for more information.
</p>
<a name="wp1021991"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Check the settings at the remote end, and verify that they match your port settings.
</p>
<a name="wp1021993"></a><a name="wpmkr1021992"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />If the problem persists, contact your service provider.
</p>
<a name="wp1021994"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Remove the loopback plug and reconnect your E1 line.
</p>
<a name="wp1021995"></a><p class="pSN_StepNext">
<b>Step 6	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the cabling. Refer to the section &quot;Loss of Signal&quot; for more information.
</p>
<a name="wp1021996"></a><p class="pSN_StepNext">
<b>Step 7	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Power-cycle the router.
</p>
<a name="wp1021997"></a><p class="pSN_StepNext">
<b>Step 8	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Connect the E1 line to a different port. Configure the port with the same settings as that of the line. If the problem does not persist, then the fault lies with the port:
</p>
<a name="wp1021998"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Reconnect the E1 line to the original port.
</p>
<a name="wp1021999"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Proceed to the &quot;Troubleshooting E1 Error Events&quot; section.
</p>
<a name="wp1022000"></a><p class="pB1_Body1">
If the problem persists, then do the following:
</p>
<a name="wp1022001"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Perform a hardware loop test, as described in the section &quot;Performing a Hardware Loop Test,&quot;
</p>
<a name="wp1022002"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Replace the E1 controller card.
</p>
<a name="wp1022004"></a><a name="wpmkr1022003"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Proceed to the &quot;Troubleshooting E1 Error Events&quot; section.
</p>

<a name="Transmitter_Sending_Remote_Alarm_(Red)"> </a>

<a name="wp1022006"></a><a name="wpmkr1022005"></a><h3 class="p_H_Head4">
Transmitter Sending Remote Alarm (Red)
</h3>
<a name="wp1022007"></a><a name="wp1022008"></a><p class="pB1_Body1">
A red alarm is declared when the CSU cannot synchronize with the framing pattern on the E1 line.
</p>
<hr noshade />
<a name="wp1022009"></a><a name="wpmkr1022010"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the framing format configured on the port matches the framing format of the line. If not, change the framing format on the controller to match that of the line.
</p>
<a name="wp1022011"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check the settings at the remote end, and verify that they match your port settings.
</p>
<a name="wp1022012"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Insert an external loopback cable into the port. To create a loopback plug, refer to the section &quot;Performing Hardware Loopback Plug Test,&quot;<span style="color: Black; font-style: italic; font-weight: normal"> </span>earlier in the chapter.
</p>
<a name="wp1022013"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether there are any alarms. If you do not see any alarms, then the local hardware is probably in good condition. In that case, do the following:
</p>
<a name="wp1022014"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Check the cabling. Refer to the section &quot;Loss of Signal&quot; for more information.
</p>
<a name="wp1022015"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />If the problem persists, contact your service provider.
</p>
<a name="wp1022016"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Connect the E1 line to a different port. Configure the port with the same settings as that of the line. If the problem does not persist, then the fault lies with the port:
</p>
<a name="wp1022017"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Reconnect the E1 line to the original port.
</p>
<a name="wp1022018"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Proceed to the &quot;Troubleshooting E1 Error Events&quot; section.
</p>
<a name="wp1022019"></a><p class="pB1_Body1">
If the problem persists, then do the following:
</p>
<a name="wp1022020"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Perform a hardware loop test, as described in the section &quot;Performing a Hardware Loop Test.&quot;
</p>
<a name="wp1022021"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Replace the E1 controller card.
</p>
<a name="wp1022022"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Proceed to the &quot;Troubleshooting E1 Error Events&quot; section.
</p>
<a name="wp1022024"></a><a name="wpmkr1022023"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Contact your service provider.
</p>

<a name="Troubleshooting_E1_Error_Events"> </a>

<a name="wp1022026"></a><a name="wpmkr1022025"></a><h3 class="p_H_Head3">
Troubleshooting E1 Error Events
</h3>
<a name="wp1022028"></a><a name="wpmkr1022027"></a><a name="wpmkr1022029"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">show controller e1</span> exec command provides error messages that can be used to troubleshoot problems. We will now discuss several error messages and how to correct the errors.
</p>
<a name="wp1022030"></a><p class="pB1_Body1">
To see whether the error counters are increasing, execute the <span style="color: Black; font-style: normal; font-weight: bold">show controller e1</span> command repeatedly. Note the values of the counters for the current interval.
</p>
<a name="wp1022031"></a><p class="pB1_Body1">
Consult your service provider for framing and linecoding settings.
</p>

<a name="Slip_Secs_Counter_Is_Increasing"> </a>

<a name="wp1022033"></a><a name="wpmkr1022032"></a><h3 class="p_H_Head4">
Slip Secs Counter Is Increasing
</h3>
<a name="wp1022034"></a><p class="pB1_Body1">
The presence of slips on E1 lines indicates a clocking problem. The E1 provider (telco) will provide the clocking that the customer premises equipment (CPE) will need to synchronize&#160;to.
</p>
<hr noshade />
<a name="wp1022035"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that the clock source is derived from the network. This can be ascertained by looking for &quot;Clock Source is Line Primary.&quot;
</p>
<div class="Note2"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Note2" />
<a name="wp1022036"></a><p class="pN2_Note2">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="6" height="2" border="0" />If there are multiple E1s into an access server, only one can be the primary, while the other E1s derive the clock from the primary. In that case, verify that the E1 line designated as the primary clock source is configured correctly.
</p>
<hr class="Note2" /><a name="wp1022037"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Set the E1 clock source correctly from the controller configuration mode.
</p>
<a name="wp1022038"></a><p class="pCE_CmdEnv">maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">clock source line primary
</span></p>
<a name="Framing_Loss_Seconds_Counter_Is_Increasing"> </a>

<a name="wp1022040"></a><a name="wpmkr1022039"></a><h3 class="p_H_Head4">
Framing Loss Seconds Counter Is Increasing
</h3>
<hr noshade />
<a name="wp1022041"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the framing format configured on the port matches the framing format of the line. You can check this by looking for &quot;Framing is {CRC4|no CRC4}&quot;<span style="color: Black; font-style: italic; font-weight: normal"> </span>in the <span style="color: Black; font-style: normal; font-weight: bold">show controller e1</span> output.
</p>
<a name="wp1022042"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />To change the framing format, use the <span style="color: Black; font-style: normal; font-weight: bold">framing {CRC4 | no CRC4</span>} command in the controller configuration mode, as shown here:
</p>
<a name="wp1022043"></a><p class="pCE_CmdEnv">maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">framing crc4
</span></p>
<a name="Line_Code_Violations_Are_Increasing"> </a>

<a name="wp1022045"></a><a name="wpmkr1022044"></a><h3 class="p_H_Head4">
Line Code Violations Are Increasing
</h3>
<hr noshade />
<a name="wp1022046"></a><a name="wpmkr1022047"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the linecoding configured on the port matches the framing format of the line. You can check this by looking for &quot;Line Code is {AMI/HDB3}&quot; in the <span style="color: Black; font-style: normal; font-weight: bold">show controller e1</span> output.
</p>
<a name="wp1022049"></a><a name="wpmkr1022048"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />To change the linecoding, use the <span style="color: Black; font-style: normal; font-weight: bold">linecode {ami | hdb3}</span> command in the controller configuration mode, as shown here:
</p>
<a name="wp1022051"></a><a name="wpmkr1022050"></a><div class="pEx1_Example1">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">linecode ami
</span></pre>
</div>
<a name="Verifying_That_isdn_switchtype_and_pri-group_Are&#160;Configured&#160;Correctly"> </a>

<a name="wp1022052"></a><a name="wpmkr1022053"></a><h3 class="p_H_Head2">
Verifying That isdn switchtype and pri-group Are&#160;Configured&#160;Correctly
</h3>
<a name="wp1022055"></a><a name="wpmkr1022054"></a><p class="pB1_Body1">
Use the <span style="color: Black; font-style: normal; font-weight: bold">show running-config</span> command to check whether <span style="color: Black; font-style: normal; font-weight: bold">isdn switchtype</span> and <span style="color: Black; font-style: normal; font-weight: bold">pri-group timeslots</span> are configured correctly. Contact your service provider for correct values.
</p>
<a name="wp1022057"></a><a name="wpmkr1022056"></a><p class="pB1_Body1">
To change the <span style="color: Black; font-style: normal; font-weight: bold">isdn switchtype</span> and <span style="color: Black; font-style: normal; font-weight: bold">pri-group</span>, use these lines:
</p>
<a name="wp1022058"></a><p class="pCE_CmdEnv">maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">configure terminal
</span></p><a name="wp1022059"></a><p class="pCE_CmdEnv">maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">isdn switch-type primary-net5
</span></p><a name="wp1022060"></a><p class="pCE_CmdEnv">maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">controller e1 0
</span></p><a name="wp1022061"></a><p class="pCE_CmdEnv">maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">pri-group timeslots 1-31
</span></p>
<a name="Verifying_the_Signaling_Channel"> </a>

<a name="wp1022063"></a><a name="wpmkr1022062"></a><h3 class="p_H_Head2">
Verifying the Signaling Channel
</h3>
<a name="wp1022064"></a><p class="pB1_Body1">
If the error counters do not increase but the problem persists, verify that the signaling channel is up and configured correctly.
</p>
<hr noshade />
<a name="wp1022066"></a><a name="wpmkr1022065"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Run the <span style="color: Black; font-style: normal; font-weight: bold">show interface serial </span>x<span style="color: Black; font-style: normal; font-weight: bold">:15</span> command, where x should be replaced by the interface number.
</p>
<a name="wp1022067"></a><a name="wpmkr1022068"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the interface is up. If the interface is not up, use the <span style="color: Black; font-style: normal; font-weight: bold">no shutdown</span> command to bring up the interface.
</p>
<a name="wp1022069"></a><div class="pEx2_Example2">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">config terminal
</span></pre>
</div><a name="wp1022070"></a><div class="pEx2_Example2">
<pre>Enter configuration commands, one per line.  End with CNTL/Z.
</pre>
</div><a name="wp1022071"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">interface serial 0:15
</span></pre>
</div><a name="wp1022072"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">no shutdown
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034728"></a><br /></pre></div>
<a name="wp1022073"></a><a name="wpmkr1022074"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Ensure that encapsulation is PPP. If the interface is not using PPP, then use the <span style="color: Black; font-style: normal; font-weight: bold">encapsulation ppp</span> command in the interface configuration mode to correct it.
</p>
<a name="wp1022075"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">encapsulation ppp
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034756"></a><br /></pre></div>
<a name="wp1022076"></a><a name="wpmkr1022077"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether loopback is set. Loopback should be set only for testing purposes. Use the <span style="color: Black; font-style: normal; font-weight: bold">no loopback</span> command to remove loopbacks.
</p>
<a name="wp1022078"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">no loopback
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034780"></a><br /></pre></div>
<a name="wp1022079"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Power-cycle the router.
</p>
<a name="wp1022082"></a><a name="wpmkr1022080"></a><a name="wpmkr1022081"></a><p class="pSN_StepNext">
<b>Step 6	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If the problem persists, contact your service provider or Cisco TAC.
</p>

<a name="Troubleshooting_a_PRI"> </a>

<a name="wp1022084"></a><a name="wpmkr1022083"></a><h3 class="p_H_Head2">
Troubleshooting a PRI
</h3>
<a name="wp1022085"></a><p class="pB1_Body1">
Whenever troubleshooting a PRI, you need to check whether the E1 is running cleanly on both ends. If Layer 1 problems have been resolved, as described previously, we must look to Layer 2 and 3 problems.
</p>

<a name="Troubleshooting_Using_the_show_isdn_status_Command"> </a>

<a name="wp1022087"></a><a name="wpmkr1022086"></a><h3 class="p_H_Head3">
Troubleshooting Using the show isdn status Command
</h3>
<a name="wp1022088"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">show isdn status</span> command is used to display a snapshot of all ISDN interfaces. It displays the status of Layers 1, 2, and 3.
</p>
<hr noshade />
<a name="wp1022089"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that Layer 1 is active.
</p>
<a name="wp1022090"></a><p class="pB1_Body1">
The Layer 1 status should always say ACTIVE unless the E1 is down.
</p>
<a name="wp1022091"></a><p class="pB1_Body1">
If <span style="color: Black; font-style: normal; font-weight: bold">show isdn status</span> indicates that Layer 1 is DEACTIVATED, then there is a problem with the physical connectivity on the E1 line. Refer to the section &quot;Is the Controller Administratively Down?&quot;
</p>
<a name="wp1022093"></a><a name="wpmkr1022092"></a><p class="pB1_Body1">
Also verify that the E1 is not administratively down. Use the <span style="color: Black; font-style: normal; font-weight: bold">no shutdown</span> command to bring up the E1 controller.
</p>
<a name="wp1022094"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check whether Layer 2 state is MULTIPLE_FRAME_ESTABLISHED.
</p>
<a name="wp1022095"></a><p class="pB1_Body1">
The desired Layer 2 state is MULTIPLE_FRAME_ESTABLISHED, which indicates that the startup protocol between ISDN switch and end device has been established and that we are exchanging Layer 2 frames.
</p>
<a name="wp1022097"></a><a name="wpmkr1022096"></a><p class="pB1_Body1">
If Layer 2 is not MULTIPLE_FRAME_ESTABLISHED, use the<span style="color: Black; font-style: normal; font-weight: bold"> show controller E1</span> exec command to diagnose the problem. Refer to the previous section &quot;Troubleshooting Using the show controller e1 Command,&quot; and the upcoming<span style="color: Black; font-style: normal; font-weight: bold"> </span>section &quot;Troubleshooting E1 Error Events.&quot;
</p>
<a name="wp1022098"></a><a name="wpmkr1022099"></a><p class="pB1_Body1">
Because <span style="color: Black; font-style: normal; font-weight: bold">show isdn status</span> is a snapshot of the current status, it is possible that Layer 2 is bouncing up and down despite indicating Mulitple_Frame_Established. Use <span style="color: Black; font-style: normal; font-weight: bold">debug isdn q921 </span>to verify that Layer 2 is stable.
</p>

<a name="Using_debug_q921"> </a>

<a name="wp1022101"></a><a name="wpmkr1022100"></a><h3 class="p_H_Head3">
Using debug q921
</h3>
<a name="wp1022102"></a><p class="pB1_Body1">
The <span style="color: Black; font-style: normal; font-weight: bold">debug isdn q921</span> command displays data link layer (Layer 2) access procedures that are taking place at the router on the D-channel.
</p>
<a name="wp1022104"></a><a name="wpmkr1022103"></a><a name="wpmkr1022105"></a><p class="pB1_Body1">
Ensure that you are configured to view <span style="color: Black; font-style: normal; font-weight: bold">debug</span> messages by using the <span style="color: Black; font-style: normal; font-weight: bold">logging console</span> or <span style="color: Black; font-style: normal; font-weight: bold">terminal monitor</span> commands, as necessary.
</p>
<div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1022107"></a><a name="wpmkr1022106"></a><a name="wpmkr1022108"></a><a name="wpmkr1022109"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />In a production environment, verify that console logging is disabled. Enter the <span style="color: Black; font-style: normal; font-weight: bold">show logging</span> command. If logging is enabled, the access server might intermittently freeze up as soon as the console port gets overloaded with log messages. Enter the <span style="color: Black; font-style: normal; font-weight: bold">no logging</span> console command.
</p>
<hr class="Cautn1table" /><div class="Note1B"><img src="../../../../i/templates/note.gif" alt="" /></div><hr class="Cautn1table" />
<a name="wp1022110"></a><p class="pN1_Note1">
<b>Note	</b><img src="../../../../i/templates/blank.gif" alt="" width="1" height="2" border="0" />If <span style="color: Black; font-style: normal; font-weight: bold">debug isdn q921</span> is turned on and you do not receive any <span style="color: Black; font-style: normal; font-weight: bold">debug</span> outputs, place a call or reset the controller to get <span style="color: Black; font-style: normal; font-weight: bold">debug</span> outputs.
</p>
<hr class="Cautn1table" /><hr noshade />
<a name="wp1022111"></a><a name="wpmkr1022112"></a><p class="pSF_StepFirst">
<b>Step 1	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that Layer 2 is stable. You should observe the <span style="color: Black; font-style: normal; font-weight: bold">debug</span> outputs for messages indicating that the service is not bouncing up and down. If you see the following types of <span style="color: Black; font-style: normal; font-weight: bold">debug</span> outputs, the line is not stable:
</p>
<a name="wp1022113"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:07.882: %ISDN-6-LAYER2DOWN: Layer 2 for Interface Se0:15, TEI 0 changed 
to down
</pre>
</div><a name="wp1022114"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:09.882: %LINK-3-UPDOWN: Interface Serial0:15, changed state to down
</pre>
</div><a name="wp1022115"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:21.274: %DSX1-6-CLOCK_CHANGE: Controller 0  clock is now selected as 
clock source
</pre>
</div><a name="wp1022116"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:21.702: %ISDN-6-LAYER2UP: Layer 2 for Interface Se0:15, TEI 0 changed to 
up
</pre>
</div><a name="wp1022117"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:22.494: %CONTROLLER-5-UPDOWN: Controller E1 0, changed state to up
</pre>
</div><a name="wp1022118"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:24.494: %LINK-3-UPDOWN: Interface Serial0:15, changed state to up
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034800"></a><br /></pre></div>
<a name="wp1022119"></a><a name="wpmkr1022120"></a><p class="pB1_Body1">
If Layer 2 does not appear to be stable refer to the &quot;Troubleshooting Error Events&quot; section, earlier in this chapter.
</p>
<a name="wp1022121"></a><p class="pSN_StepNext">
<b>Step 2	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that you are seeing only SAPI messages in both transmit (TX) and receive (RX) sides.
</p>
<a name="wp1022122"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:52.505: ISDN Se0:15: TX -&gt;  RRf sapi = 0  tei = 0  nr = 0
</pre>
</div><a name="wp1022123"></a><div class="pEx2_Example2">
<pre>Mar 20 10:06:52.505: ISDN Se0:15: RX &lt;-  RRf sapi = 0  tei = 0  nr = 0
</pre>
</div><a name="wp1022124"></a><div class="pEx2_Example2">
<pre>Mar 20 10:07:22.505: ISDN Se0:15: TX -&gt;  RRp sapi = 0  tei = 0&#160; nr = 0
</pre>
</div><a name="wp1022125"></a><div class="pEx2_Example2">
<pre>Mar 20 10:07:22.509: ISDN Se0:15: RX &lt;-  RRp sapi = 0  tei = 0 &#160;nr = 0
</pre>
</div><a name="wp1022126"></a><div class="pEx2_Example2">
<pre>Mar 20 10:07:22.509: ISDN Se0:15: TX -&gt;  RRf sapi = 0  tei = 0  nr = 0
</pre>
</div><a name="wp1022127"></a><div class="pEx2_Example2">
<pre>Mar 20 10:07:22.509: ISDN Se0:15: RX &lt;-  RRf sapi = 0  tei = 0  nr = 0
</pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034816"></a><br /></pre></div>
<a name="wp1022128"></a><p class="pSN_StepNext">
<b>Step 3	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that you are not seeing SABME messages, which indicates that Layer 2 is trying to reinitialize. This is usually seen when we are transmitting poll requests (RRp) and not getting a response from the switch (RRf), or vice versa. The following are examples of SABME messages. We should get a response from ISDN switch for our SABME messages (UA frame received):
</p>
<a name="wp1022129"></a><div class="pEx1_Example1">
<pre>Mar 20 10:06:21.702: ISDN Se0:15: RX &lt;-  SABMEp sapi = 0  tei = 0
</pre>
</div><a name="wp1022130"></a><div style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 97pt; margin-right: 0pt; margin-top: 0pt; text-align: left; text-decoration: none; text-indent: 0pt" class="pDefault">
Mar 20 10:06:22.494: ISDN Se0:15: TX -&gt;  SABMEp sapi = 0  tei = 0
</div>
<a name="wp1022131"></a><p class="pB1_Body1">
If you are seeing SABME messages, do the following:
</p>
<a name="wp1022133"></a><a name="wpmkr1022132"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />Use the <span style="color: Black; font-style: normal; font-weight: bold">show running-config</span> command to check whether <span style="color: Black; font-style: normal; font-weight: bold">isdn switchtype</span> and <span style="color: Black; font-style: normal; font-weight: bold">pri-group timeslots</span> are configured correctly. Contact your service provider for correct values.
</p>
<a name="wp1022134"></a><p class="pBu1_Bullet1">
&#8226;<img src="../../../../i/templates/blank.gif" alt="" width="19" height="2" border="0" />To change the <span style="color: Black; font-style: normal; font-weight: bold">isdn switchtype</span> and <span style="color: Black; font-style: normal; font-weight: bold">pri-group</span>, use these lines:
</p>
<a name="wp1022135"></a><div class="pEx2_Example2">
<pre>maui-nas-03#<span style="color: Black; font-style: normal; font-weight: normal">configure terminal
</span></pre>
</div><a name="wp1022136"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">isdn switch-type primary-net5
</span></pre>
</div><a name="wp1022137"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">controller e1 0
</span></pre>
</div><a name="wp1022138"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-controlle)#<span style="color: Black; font-style: normal; font-weight: normal">pri-group timeslots 1-31
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034828"></a><br /></pre></div>
<a name="wp1022140"></a><a name="wpmkr1022139"></a><p class="pSN_StepNext">
<b>Step 4	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Verify that the D-channel is up using the <span style="color: Black; font-style: normal; font-weight: bold">show interfaces serial x:15</span> command.
</p>
<a name="wp1022142"></a><a name="wpmkr1022141"></a><p class="pB1_Body1">
If the D-channel is not up, then use <span style="color: Black; font-style: normal; font-weight: bold">no shutdown</span> command to bring it up:
</p>
<a name="wp1022143"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config)#<span style="color: Black; font-style: normal; font-weight: normal">interface serial 0:15
</span></pre>
</div><a name="wp1022144"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">no shutdown
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034836"></a><br /></pre></div>
<a name="wp1022146"></a><a name="wpmkr1022145"></a><p class="pSN_StepNext">
<b>Step 5	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether encapsulation is PPP. If not, use the <span style="color: Black; font-style: normal; font-weight: bold">encapsulation ppp</span> command to set encapsulation.
</p>
<a name="wp1022147"></a><div class="pEx2_Example2">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">encapsulation ppp
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034847"></a><br /></pre></div>
<a name="wp1022148"></a><p class="pSN_StepNext">
<b>Step 6	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Check to see whether the interface is in loopback mode. For normal operation, the interface should not be in loopback mode.
</p>
<a name="wp1022149"></a><div class="pEx1_Example1">
<pre>maui-nas-03(config-if)#<span style="color: Black; font-style: normal; font-weight: normal">no loopback
</span></pre>
</div><div class="pPreformatted"><pre class="pPreformatted">
<a name="wp1034848"></a><br /></pre></div>
<a name="wp1022150"></a><p class="pSN_StepNext">
<b>Step 7	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />Power-cycle the router.
</p>
<a name="wp1022152"></a><a name="wpmkr1022151"></a><p class="pSN_StepNext">
<b>Step 8	</b><img src="../../../../i/templates/blank.gif" alt="" width="5" height="2" border="0" />If the problem persists, contact your service provider or Cisco TAC.
</p>
</blockquote>

    <hr noshade />
  </span></div>

                      <table id="content-right-bottom" align="right" border="0" cellspacing="0" cellpadding="0" summary="">
                        <tr><td valign="top" align="right"></td></tr>
                        <tr><td valign="top" align="right"></td></tr>
                        <tr><td valign="top" align="right"></td></tr>
                        <tr><td valign="top" align="right"></td></tr>
                      </table>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <!-- End of the actual text content --><!--googleoff: index--><!--googleoff: snippet-->
                    </div> <!-- end #framework-content-main -->
                  </td> <!-- end #framework-column-main -->

                  <td id="framework-column-right">
                    <div id="framework-content-right">
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                    </div> <!-- end #framework-content-right -->
                  </td> <!-- end #framework-column-right -->
                </tr>
              </table> <!-- end #framework-base-content -->
            </td> <!-- end #framework-column-center -->
          </tr>
        </table> <!-- end #framework-base-main -->

        
        
    
<div id="ff">
<div class="ffoot clearfix">
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/netsol/index.html">Information For</a></h3>

<ul>
<li><a href="//www.cisco.com/cisco/web/solutions/small_business/index.html">Small Business</a></li>

<li><a href="//www.cisco.com/web/midsize/index.html">Midsize Business</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns341/networking_solutions_service_provider_home.html">Service Provider</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns1168/index.html">Executives</a></li>

<li><a href="//home.cisco.com">Home (Linksys)</a></li>
</ul>
</div>

<div class="ffoot-block">
<div class="ffoot-menu">
<h3><a href="//www.cisco.com/web/strategy/index.html">Industries</a></h3>

<div class="ffoot-menucontainer">
<div class="ffoot-menucontent" id="industriesmenu">
<ul>
<li><a href="//www.cisco.com/web/strategy/cpg/index.html">Consumer Packaged Goods</a></li>

<li><a href="//www.cisco.com/web/strategy/education/index.html">Education</a></li>

<li><a href="//www.cisco.com/web/strategy/energy/index.html">Energy</a></li>

<li><a href="//www.cisco.com/web/strategy/financial/index.html">Financial Services</a></li>

<li><a href="//www.cisco.com/web/strategy/government/index.html">Government</a></li>

<li><a href="//www.cisco.com/web/strategy/healthcare/index.html">Healthcare</a></li>
</ul>

<ul>
<li><a href="//www.cisco.com/web/strategy/manufacturing/index.html">Manufacturing</a></li>

<li><a href="//www.cisco.com/web/strategy/public_sector/index.html">Public Sector</a></li>

<li><a href="//www.cisco.com/web/strategy/retail/index.html">Retail</a></li>

<li><a href="//www.cisco.com/web/strategy/smart_connected_communities.html">Smart+Connected Communities</a></li>

<li><a href="//www.cisco.com/web/strategy/sports/index.html">Sports and Entertainment</a></li>

<li><a href="//www.cisco.com/web/strategy/transportation/index.html">Transportation</a></li>
</ul>
</div>
</div>
</div>
</div>

<div class="ffoot-block">
<h3><a href="/cisco/web/siteassets/contacts/index.html">Contacts</a></h3>

<ul>
<li><a href="/cisco/web/siteassets/contacts/index.html">Contact Cisco</a></li>

<li><a href="//tools.cisco.com/WWChannels/LOCATR/openBasicSearch.do">Find a Partner</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//newsroom.cisco.com/">News &amp; Alerts</a></h3>

<ul>
<li><a href="//newsroom.cisco.com/">Newsroom</a></li>

<li><a href="//blogs.cisco.com/">Blogs</a></li>

<!-- li><a href="//www.cisco.com/offer/subctr/nl/190612_1">Newsletters</a></li -->
<li><a href="//www.cisco.com/en/US/support/tsd_products_field_notice_summary.html">Field Notices</a></li>

<li><a href="//www.cisco.com/en/US/products/products_security_advisories_listing.html">Security Advisories</a></li>
</ul>
</div>

<div class="ffoot-block">
<h3><a href="//www.cisco.com/web/solutions/tech_trends.html">Technology Trends</a></h3>

<ul>
<li><a href="//www.cisco.com/web/solutions/trends/cloud/index.html">Cloud</a></li>

<li><a href="//www.cisco.com/web/solutions/trends/ipv6/index.html">IPv6</a></li>

<li><a href="//www.cisco.com/web/solutions/trends/mobility/index.html">Mobility</a></li>

<li><a href="//www.cisco.com/web/solutions/trends/open_network_environment/index.html">Open Network Environment</a></li>

<li><a href="//www.cisco.com/web/solutions/trends/trustworthy_systems/index.html">Trustworthy Systems</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/support/index.html">Support</a></h3>

<ul>
<li><a href="//www.cisco.com/cisco/software/navigator.html?i=!ch">Downloads</a></li>

<li><a href="//www.cisco.com/cisco/web/psa/default.html">Documentation</a></li>
</ul>
</div>

<div class="ffoot-block">
<h3><a href="//www.cisco.com/web/communities/index.html">Communities</a></h3>

<ul>
<li><a href="http://developer.cisco.com/">Developer Network</a></li>

<li><a href="https://learningnetwork.cisco.com/index.jspa?ciscoHome=true">Learning Network</a></li>

<li><a href="https://supportforums.cisco.com/index.jspa">Support Community</a></li>
</ul>
</div>

<div class="ffoot-block">
<div class="ffoot-menu">
<h3><a href="http://video.cisco.com" target="_blank">Video Portal</a></h3>

<div class="ffoot-menucontainer">
<div class="ffoot-menucontent" id="videomenu">
<ul>
<li><a href="http://video.cisco.com/video/Products/categoryTags/Products/CategoryTags/" target="_blank">Products</a></li>

<li><a href="http://video.cisco.com/video/Services/categoryTags/Services/CategoryTags/" target="_blank">Services</a></li>

<li><a href="http://video.cisco.com/video/Certifications/categoryTags/Certifications/CategoryTags/" target="_blank">Certifications</a></li>

<li><a href="http://video.cisco.com/video/Events/categoryTags/Events/CategoryTags/" target="_blank">Event</a></li>

<li><a href="http://video.cisco.com/video/Industries/categoryTags/Industries/CategoryTags/" target="_blank">Industries</a></li>
</ul>

<ul>
<li><a href="http://video.cisco.com/video/TechWiseTV/categoryTags/TechWiseTV/CategoryTags/" target="_blank">TechWiseTV</a></li>

<li><a href="http://video.cisco.com/video/InsideCisco/categoryTags/InsideCisco/CategoryTags/" target="_blank">Inside Cisco</a></li>

<li><a href="http://video.cisco.com/video/TechnologyTrends/categoryTags/TechnologyTrends/CategoryTags/" target="_blank">Technology Trends</a></li>

<li><a href="http://video.cisco.com/">All Videos</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col last-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/about/index.html">About Cisco</a></h3>

<ul>
<li><a href="http://investor.cisco.com/">Investor Relations</a></li>

<li><a href="http://csr.cisco.com/" target="_blank">Corporate Social Responsibility</a></li>

<li><a href="http://csr.cisco.com/pages/environment" target="_blank">Environmental Sustainability</a></li>

<li><a href="//www.cisco.com/web/tomorrow-starts-here/index.html?CAMPAIGN=tomorrowstartshere&amp;COUNTRY_SITE=us&amp;POSITION=link&amp;REFERRING_SITE=Cisco.com+homepage&amp;CREATIVE=homepage+fat+footer">Tomorrow Starts Here</a></li>

<li><a href="//www.cisco.com/web/about/ac40/about_cisco_careers_home.html">Career Opportunities</a></li>
</ul>
</div>

<div class="ffoot-block">
<h3>Programs</h3>

<ul>
<li><a href="/web/solutions/trends/cisco-powered/index.html">Cisco Powered</a></li>

<li><a href="//www.cisco.com/web/ordering/ciscocapital/index.html">Financing Options</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col .last-col -->
</div>

<!-- end .ffoot -->
</div>

<!-- end #ff -->
<div id="ff-hidden" style="display:none;">
<div id="ff-collaboration">
<div class="ffoot clearfix">
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/netsol/ns1007/index.html">Collaboration</a></h3>

<ul>
<li><a href="//www.cisco.com/en/US/products/ps7060/index.html">Collaboration Endpoints</a></li>

<li><a href="//www.cisco.com/en/US/products/ps10352/index.html">Conferencing</a></li>

<li><a href="//www.cisco.com/en/US/products/ps10680/index.html">Customer Collaboration</a></li>

<li><a href="//www.cisco.com/en/US/products/sw/voicesw/index.html">Unified Communications</a></li>

<li><a href="http://communities.cisco.com/community/technology/collaboration?view=overview">Community</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/netsol/index.html">Information For</a></h3>

<ul>
<li><a href="/cisco/web/solutions/small_business/index.html">Small Business</a></li>

<li><a href="//www.cisco.com/web/midsize/index.html">Midsize Business</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns341/networking_solutions_service_provider_home.html">Service Provider</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns1168/index.html">Executives</a></li>

<li><a href="http://home.cisco.com">Home (Linksys)</a></li>
</ul>
</div>

<div class="ffoot-block">
<div class="ffoot-menu">
<h3><a href="//www.cisco.com/web/strategy/index.html">Industries</a></h3>

<div class="ffoot-menucontainer">
<div class="ffoot-menucontent" id="industriesmenu">
<ul>
<li><a href="//www.cisco.com/web/strategy/cpg/index.html">Consumer Packaged Goods</a></li>

<li><a href="//www.cisco.com/web/strategy/education/index.html">Education</a></li>

<li><a href="//www.cisco.com/web/strategy/energy/index.html">Energy</a></li>

<li><a href="//www.cisco.com/web/strategy/financial/index.html">Financial Services</a></li>

<li><a href="//www.cisco.com/web/strategy/government/index.html">Government</a></li>

<li><a href="//www.cisco.com/web/strategy/healthcare/index.html">Healthcare</a></li>
</ul>

<ul>
<li><a href="//www.cisco.com/web/strategy/manufacturing/index.html">Manufacturing</a></li>

<li><a href="//www.cisco.com/web/strategy/public_sector/index.html">Public Sector</a></li>

<li><a href="//www.cisco.com/web/strategy/retail/index.html">Retail</a></li>

<li><a href="//www.cisco.com/web/strategy/smart_connected_communities.html">Smart+Connected Communities</a></li>

<li><a href="//www.cisco.com/web/strategy/sports/index.html">Sports and Entertainment</a></li>

<li><a href="//www.cisco.com/web/strategy/transportation/index.html">Transportation</a></li>
</ul>
</div>
</div>
</div>
</div>

<div class="ffoot-block">
<h3><a href="/cisco/web/siteassets/contacts/index.html">Contacts</a></h3>

<ul>
<li><a href="/cisco/web/siteassets/contacts/index.html">Contact Cisco</a></li>

<li><a href="http://tools.cisco.com/WWChannels/LOCATR/openBasicSearch.do">Find a Partner</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/support/index.html">Support</a></h3>

<ul>
<li><a href="//www.cisco.com/cisco/software/navigator.html?i=!ch">Downloads</a></li>

<li><a href="//www.cisco.com/cisco/web/psa/default.html">Documentation</a></li>
</ul>
</div>

<div class="ffoot-block">
<h3><a href="//www.cisco.com/web/communities/index.html">Communities</a></h3>

<ul>
<li><a href="http://developer.cisco.com/">Developer Network</a></li>

<li><a href="https://learningnetwork.cisco.com/index.jspa?ciscoHome=true">Learning Network</a></li>

<li><a href="https://supportforums.cisco.com/index.jspa">Support Community</a></li>
</ul>
</div>

<div class="ffoot-block">
<div class="ffoot-menu">
<h3><a href="http://video.cisco.com" target="_blank">Video Portal</a></h3>

<div class="ffoot-menucontainer">
<div class="ffoot-menucontent" id="videomenu">
<ul>
<li><a href="http://video.cisco.com/video/Products/categoryTags/Products/CategoryTags/" target="_blank">Products</a></li>

<li><a href="http://video.cisco.com/video/Services/categoryTags/Services/CategoryTags/" target="_blank">Services</a></li>

<li><a href="http://video.cisco.com/video/Certifications/categoryTags/Certifications/CategoryTags/" target="_blank">Certifications</a></li>

<li><a href="http://video.cisco.com/video/Events/categoryTags/Events/CategoryTags/" target="_blank">Event</a></li>

<li><a href="http://video.cisco.com/video/Industries/categoryTags/Industries/CategoryTags/" target="_blank">Industries</a></li>
</ul>

<ul>
<li><a href="http://video.cisco.com/video/TechWiseTV/categoryTags/TechWiseTV/CategoryTags/" target="_blank">TechWiseTV</a></li>

<li><a href="http://video.cisco.com/video/InsideCisco/categoryTags/InsideCisco/CategoryTags/" target="_blank">Inside Cisco</a></li>

<li><a href="http://video.cisco.com/video/TechnologyTrends/categoryTags/TechnologyTrends/CategoryTags/" target="_blank">Technology Trends</a></li>

<li><a href="http://video.cisco.com/">All Videos</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col last-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/about/index.html">About Cisco</a></h3>

<ul>
<li><a href="http://investor.cisco.com/">Investor Relations</a></li>

<li><a href="http://csr.cisco.com/" target="_blank">Corporate Social Responsibility</a></li>

<li><a href="http://csr.cisco.com/pages/environment" target="_blank">Environmental Sustainability</a></li>

<li><a href="//www.cisco.com/web/tomorrow-starts-here/index.html?CAMPAIGN=tomorrowstartshere&amp;COUNTRY_SITE=us&amp;POSITION=link&amp;REFERRING_SITE=Cisco.com+homepage&amp;CREATIVE=homepage+fat+footer">Tomorrow Starts Here</a></li>

<li><a href="//www.cisco.com/web/about/ac40/about_cisco_careers_home.html">Career Opportunities</a></li>
</ul>
</div>

<div class="ffoot-block">
<h3>Programs</h3>

<ul>
<li><a href="/web/solutions/trends/cisco-powered/index.html">Cisco Powered</a></li>

<li><a href="//www.cisco.com/web/ordering/ciscocapital/index.html">Financing Options</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col .last-col -->
</div>

<!-- end .ffoot -->
</div>

<!-- end #ff-collaboration -->
<div id="ff-data-center">
<div class="ffoot clearfix">
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/netsol/ns340/ns394/ns224/index.html">Data Center and Virtualization</a></h3>

<ul>
<li><a href="//www.cisco.com/en/US/netsol/ns340/ns394/ns224/products.html">Products and Solutions</a></li>

<li><a href="//www.cisco.com/en/US/solutions/ns340/ns517/ns224/dc_case_studies.html">Case Studies</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns743/networking_solutions_program_home.html">Data Center Design Zone</a></li>

<li><a href="//www.cisco.com/en/US/solutions/ns340/ns857/ns156/ns1094/analyst_reports.html">Analyst Reports</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns340/ns394/ns224/services.html">Data Center Services</a></li>

<li><a href="http://socialmedia.cisco.com/datacentervirtualization">Data Center Social Media</a></li>

<li><a href="http://communities.cisco.com/community/technology/datacenter?view=overview">Community</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/netsol/index.html">Information For</a></h3>

<ul>
<li><a href="//www.cisco.com/cisco/web/solutions/small_business/index.html">Small Business</a></li>

<li><a href="//www.cisco.com/web/midsize/index.html">Midsize Business</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns341/networking_solutions_service_provider_home.html">Service Provider</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns1168/index.html">Executives</a></li>

<li><a href="http://home.cisco.com">Home (Linksys)</a></li>
</ul>
</div>

<div class="ffoot-block">
<div class="ffoot-menu">
<h3><a href="//www.cisco.com/web/strategy/index.html">Industries</a></h3>

<div class="ffoot-menucontainer">
<div class="ffoot-menucontent" id="industriesmenu">
<ul>
<li><a href="//www.cisco.com/web/strategy/cpg/index.html">Consumer Packaged Goods</a></li>

<li><a href="//www.cisco.com/web/strategy/education/index.html">Education</a></li>

<li><a href="//www.cisco.com/web/strategy/energy/index.html">Energy</a></li>

<li><a href="//www.cisco.com/web/strategy/financial/index.html">Financial Services</a></li>

<li><a href="//www.cisco.com/web/strategy/government/index.html">Government</a></li>

<li><a href="//www.cisco.com/web/strategy/healthcare/index.html">Healthcare</a></li>
</ul>

<ul>
<li><a href="//www.cisco.com/web/strategy/manufacturing/index.html">Manufacturing</a></li>

<li><a href="//www.cisco.com/web/strategy/public_sector/index.html">Public Sector</a></li>

<li><a href="//www.cisco.com/web/strategy/retail/index.html">Retail</a></li>

<li><a href="//www.cisco.com/web/strategy/smart_connected_communities.html">Smart+Connected Communities</a></li>

<li><a href="//www.cisco.com/web/strategy/sports/index.html">Sports and Entertainment</a></li>

<li><a href="//www.cisco.com/web/strategy/transportation/index.html">Transportation</a></li>
</ul>
</div>
</div>
</div>
</div>

<div class="ffoot-block">
<h3><a href="/cisco/web/siteassets/contacts/index.html">Contacts</a></h3>

<ul>
<li><a href="/cisco/web/siteassets/contacts/index.html">Contact Cisco</a></li>

<li><a href="http://tools.cisco.com/WWChannels/LOCATR/openBasicSearch.do">Find a Partner</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/support/index.html">Support</a></h3>

<ul>
<li><a href="//www.cisco.com/cisco/software/navigator.html?i=!ch">Downloads</a></li>

<li><a href="//www.cisco.com/cisco/web/psa/default.html">Documentation</a></li>
</ul>
</div>

<div class="ffoot-block">
<h3><a href="//www.cisco.com/web/communities/index.html">Communities</a></h3>

<ul>
<li><a href="http://developer.cisco.com/">Developer Network</a></li>

<li><a href="https://learningnetwork.cisco.com/index.jspa?ciscoHome=true">Learning Network</a></li>

<li><a href="https://supportforums.cisco.com/index.jspa">Support Community</a></li>
</ul>
</div>

<div class="ffoot-block">
<div class="ffoot-menu">
<h3><a href="http://video.cisco.com" target="_blank">Video Portal</a></h3>

<div class="ffoot-menucontainer">
<div class="ffoot-menucontent" id="videomenu">
<ul>
<li><a href="http://video.cisco.com/video/Products/categoryTags/Products/CategoryTags/" target="_blank">Products</a></li>

<li><a href="http://video.cisco.com/video/Services/categoryTags/Services/CategoryTags/" target="_blank">Services</a></li>

<li><a href="http://video.cisco.com/video/Certifications/categoryTags/Certifications/CategoryTags/" target="_blank">Certifications</a></li>

<li><a href="http://video.cisco.com/video/Events/categoryTags/Events/CategoryTags/" target="_blank">Event</a></li>

<li><a href="http://video.cisco.com/video/Industries/categoryTags/Industries/CategoryTags/" target="_blank">Industries</a></li>
</ul>

<ul>
<li><a href="http://video.cisco.com/video/TechWiseTV/categoryTags/TechWiseTV/CategoryTags/" target="_blank">TechWiseTV</a></li>

<li><a href="http://video.cisco.com/video/InsideCisco/categoryTags/InsideCisco/CategoryTags/" target="_blank">Inside Cisco</a></li>

<li><a href="http://video.cisco.com/video/TechnologyTrends/categoryTags/TechnologyTrends/CategoryTags/" target="_blank">Technology Trends</a></li>

<li><a href="http://video.cisco.com/">All Videos</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col last-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/about/index.html">About Cisco</a></h3>

<ul>
<li><a href="http://investor.cisco.com/">Investor Relations</a></li>

<li><a href="http://csr.cisco.com/" target="_blank">Corporate Social Responsibility</a></li>

<li><a href="http://csr.cisco.com/pages/environment" target="_blank">Environmental Sustainability</a></li>

<li><a href="//www.cisco.com/web/tomorrow-starts-here/index.html?CAMPAIGN=tomorrowstartshere&amp;COUNTRY_SITE=us&amp;POSITION=link&amp;REFERRING_SITE=Cisco.com+homepage&amp;CREATIVE=homepage+fat+footer">Tomorrow Starts Here</a></li>

<li><a href="//www.cisco.com/web/about/ac40/about_cisco_careers_home.html">Career Opportunities</a></li>
</ul>
</div>

<div class="ffoot-block">
<h3>Programs</h3>

<ul>
<li><a href="/web/solutions/trends/cisco-powered/index.html">Cisco Powered</a></li>

<li><a href="//www.cisco.com/web/ordering/ciscocapital/index.html">Financing Options</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col .last-col -->
</div>

<!-- end .ffoot -->
</div>

<!-- end #ff-data-center -->
<div id="ff-enterprise-networks">
<div class="ffoot clearfix">
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/netsol/ns1015/index.html">Enterprise Networks</a></h3>

<ul>
<li><a href="//www.cisco.com/en/US/netsol/ns1015/products.html">Products</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns1015/solutions.html">Solutions</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns1063/networking_solutions_program_home.html">Design Zone</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns1015/architecture.html">Architecture</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns1015/services.html">Services</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns1015/industries.html">Case Studies</a></li>

<li><a href="https://communities.cisco.com/community/technology/borderless_networks/fun">Community</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/netsol/index.html">Information For</a></h3>

<ul>
<li><a href="/cisco/web/solutions/small_business/index.html">Small Business</a></li>

<li><a href="//www.cisco.com/web/midsize/index.html">Midsize Business</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns341/networking_solutions_service_provider_home.html">Service Provider</a></li>

<li><a href="//www.cisco.com/en/US/netsol/ns1168/index.html">Executives</a></li>

<li><a href="http://home.cisco.com">Home (Linksys)</a></li>
</ul>
</div>

<div class="ffoot-block">
<div class="ffoot-menu">
<h3><a href="//www.cisco.com/web/strategy/index.html">Industries</a></h3>

<div class="ffoot-menucontainer">
<div class="ffoot-menucontent" id="industriesmenu">
<ul>
<li><a href="//www.cisco.com/web/strategy/cpg/index.html">Consumer Packaged Goods</a></li>

<li><a href="//www.cisco.com/web/strategy/education/index.html">Education</a></li>

<li><a href="//www.cisco.com/web/strategy/energy/index.html">Energy</a></li>

<li><a href="//www.cisco.com/web/strategy/financial/index.html">Financial Services</a></li>

<li><a href="//www.cisco.com/web/strategy/government/index.html">Government</a></li>

<li><a href="//www.cisco.com/web/strategy/healthcare/index.html">Healthcare</a></li>
</ul>

<ul>
<li><a href="//www.cisco.com/web/strategy/manufacturing/index.html">Manufacturing</a></li>

<li><a href="//www.cisco.com/web/strategy/public_sector/index.html">Public Sector</a></li>

<li><a href="//www.cisco.com/web/strategy/retail/index.html">Retail</a></li>

<li><a href="//www.cisco.com/web/strategy/smart_connected_communities.html">Smart+Connected Communities</a></li>

<li><a href="//www.cisco.com/web/strategy/sports/index.html">Sports and Entertainment</a></li>

<li><a href="//www.cisco.com/web/strategy/transportation/index.html">Transportation</a></li>
</ul>
</div>
</div>
</div>
</div>

<div class="ffoot-block">
<h3><a href="/cisco/web/siteassets/contacts/index.html">Contacts</a></h3>

<ul>
<li><a href="/cisco/web/siteassets/contacts/index.html">Contact Cisco</a></li>

<li><a href="http://tools.cisco.com/WWChannels/LOCATR/openBasicSearch.do">Find a Partner</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/en/US/support/index.html">Support</a></h3>

<ul>
<li><a href="//www.cisco.com/cisco/software/navigator.html?i=!ch">Downloads</a></li>

<li><a href="//www.cisco.com/cisco/web/psa/default.html">Documentation</a></li>
</ul>
</div>

<div class="ffoot-block">
<h3><a href="//www.cisco.com/web/communities/index.html">Communities</a></h3>

<ul>
<li><a href="http://developer.cisco.com/">Developer Network</a></li>

<li><a href="https://learningnetwork.cisco.com/index.jspa?ciscoHome=true">Learning Network</a></li>

<li><a href="https://supportforums.cisco.com/index.jspa">Support Community</a></li>
</ul>
</div>

<div class="ffoot-block">
<div class="ffoot-menu">
<h3><a href="http://video.cisco.com" target="_blank">Video Portal</a></h3>

<div class="ffoot-menucontainer">
<div class="ffoot-menucontent" id="videomenu">
<ul>
<li><a href="http://video.cisco.com/video/Products/categoryTags/Products/CategoryTags/" target="_blank">Products</a></li>

<li><a href="http://video.cisco.com/video/Services/categoryTags/Services/CategoryTags/" target="_blank">Services</a></li>

<li><a href="http://video.cisco.com/video/Certifications/categoryTags/Certifications/CategoryTags/" target="_blank">Certifications</a></li>

<li><a href="http://video.cisco.com/video/Events/categoryTags/Events/CategoryTags/" target="_blank">Event</a></li>

<li><a href="http://video.cisco.com/video/Industries/categoryTags/Industries/CategoryTags/" target="_blank">Industries</a></li>
</ul>

<ul>
<li><a href="http://video.cisco.com/video/TechWiseTV/categoryTags/TechWiseTV/CategoryTags/" target="_blank">TechWiseTV</a></li>

<li><a href="http://video.cisco.com/video/InsideCisco/categoryTags/InsideCisco/CategoryTags/" target="_blank">Inside Cisco</a></li>

<li><a href="http://video.cisco.com/video/TechnologyTrends/categoryTags/TechnologyTrends/CategoryTags/" target="_blank">Technology Trends</a></li>

<li><a href="http://video.cisco.com/">All Videos</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>

<!-- end .ffoot-col -->
<div class="ffoot-col last-col">
<div class="ffoot-block">
<h3><a href="//www.cisco.com/web/about/index.html">About Cisco</a></h3>

<ul>
<li><a href="http://investor.cisco.com/">Investor Relations</a></li>

<li><a href="http://csr.cisco.com/" target="_blank">Corporate Social Responsibility</a></li>

<li><a href="http://csr.cisco.com/pages/environment" target="_blank">Environmental Sustainability</a></li>

<li><a href="//www.cisco.com/web/tomorrow-starts-here/index.html?CAMPAIGN=tomorrowstartshere&amp;COUNTRY_SITE=us&amp;POSITION=link&amp;REFERRING_SITE=Cisco.com+homepage&amp;CREATIVE=homepage+fat+footer">Tomorrow Starts Here</a></li>

<li><a href="//www.cisco.com/web/about/ac40/about_cisco_careers_home.html">Career Opportunities</a></li>
</ul>
</div>

<div class="ffoot-block">
<h3>Programs</h3>

<ul>
<li><a href="/web/solutions/trends/cisco-powered/index.html">Cisco Powered</a></li>

<li><a href="//www.cisco.com/web/ordering/ciscocapital/index.html">Financing Options</a></li>
</ul>
</div>
</div>

<!-- end .ffoot-col .last-col -->
</div>

<!-- end .ffoot -->
</div>

<!-- end #ff-enterprise-networks -->
</div>

<!-- end #ff-hidden -->
<script type="text/javascript">
cdc.ff.init();
</script>

<!-- END MasterBrand FatFooter SSI (generic plus hubs)(guest) -->

  
        <!-- $Revision: 1.5 $ -->
<a name="pagefooter"></a>
<div id="framework-footer">
	<div id="footer-nav">
	
	<a href="/web/siteassets/contacts/index.html">Contacts</a> | 
	<a href="https://secure.opinionlab.com/ccc01/o.asp?id=jBjOhqOJ">Feedback</a> | 
	<a href="/web/help/index.html">Help</a> | 
	<a href="/web/siteassets/sitemap/index.html">Site Map</a> | 
	
	</div>
	<div id="footer-legal"><a href="/web/siteassets/legal/terms_condition.html">Terms &amp; Conditions</a> |
     <a href="/web/siteassets/legal/privacy.html">Privacy Statement</a> |
     <a href="/web/siteassets/legal/privacy.html#cookies">Cookie Policy</a> |
     <a href="/web/siteassets/legal/trademark.html">Trademarks</a></div>
	
</div>		


      </div><!-- end #fw-mb-w1 -->
    </div><!-- end #fw-mb -->

    
    <!--[if IE]></div><![endif]-->
    
    <script>cdcPageTimers.endOfContent= new Date();</script>
    
    <script>cdcPageTimers.bottomOfBody = new Date();</script>
  </body>
</html>
