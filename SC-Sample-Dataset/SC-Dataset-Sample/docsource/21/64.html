<!DOCTYPE html>
<html id="htmlTag" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US" dir="ltr">
<head>
	<base href="http://forum.spring.io/" />
	
		<link rel="Shortcut Icon" href="http://forum.spring.io/favicon.ico" type="image/x-icon" />
	

	
	
	
		
		
	

	

	
	
<!--[if IE]>
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_reset.css,css_unreset.css,css_utilities.css&amp;ts=1386943993 " />
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_imgareaselect-animated.css,css_jquery-ui-1_8_14_custom.css,css_jquery_qtip_min.css,css_jquery_selectBox.css,css_global.css&amp;ts=1386943993 " />
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_b_link.css,css_b_layout.css,css_b_layout.css,css_b_button.css,css_b_button_group.css&amp;ts=1386943993 " />
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_b_dropdown.css,css_b_icon.css,css_b_tabbed_pane.css,css_b_form_control.css,css_b_form_input.css&amp;ts=1386943993 " />
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_b_form_select.css,css_b_form_textarea.css,css_b_media.css,css_b_divider.css,css_b_avatar.css&amp;ts=1386943993 " />
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_b_ajax_loading_indicator.css,css_responsive.css&amp;ts=1386943993 " />
<![endif]-->
<!--[if !IE]><!-->
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_reset.css,css_unreset.css,css_utilities.css&amp;ts=1386943993 " />
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_imgareaselect-animated.css,css_jquery-ui-1_8_14_custom.css,css_jquery_qtip_min.css,css_jquery_selectBox.css,css_global.css,css_b_link.css,css_b_layout.css,css_b_layout.css,css_b_button.css,css_b_button_group.css,css_b_dropdown.css,css_b_icon.css,css_b_tabbed_pane.css,css_b_form_control.css,css_b_form_input.css,css_b_form_select.css,css_b_form_textarea.css,css_b_media.css,css_b_divider.css,css_b_avatar.css,css_b_ajax_loading_indicator.css,css_responsive.css&amp;ts=1386943993 " />
<!--<![endif]-->

<script type="text/javascript" src="http://forum.spring.io/js/header-rollup-504.js"></script>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
	
	<link rel="canonical" href="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean" />
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1" />

	
		
		
		
			
			
		
		
	

	
	

	<title>
		
			Getting proxy class instead of class for a message consumer bean
		
		 - Spring Forum
	</title>

	<meta name="description" content="Discussion on Spring's dependency injection container, including XML and annotation-based configuration." />

	
<!--[if IE]>
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_b_post.css,css_b_post_control.css,css_b_post_attachments.css,css_b_comments.css,css_b_comment.css&amp;ts=1386943993 " />
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_b_comment_entry.css,css_b_userinfo.css,css_b_meter.css,css_b_inlinemod.css&amp;ts=1386943993 " />
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_additional.css&amp;ts=1386943993 " />
<![endif]-->
<!--[if !IE]><!-->
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_b_post.css,css_b_post_control.css,css_b_post_attachments.css,css_b_comments.css,css_b_comment.css,css_b_comment_entry.css,css_b_userinfo.css,css_b_meter.css,css_b_inlinemod.css&amp;ts=1386943993 " />
<link rel="stylesheet" type="text/css" href="http://forum.spring.io/css.php?styleid=9&amp;td=ltr&amp;sheet=css_additional.css&amp;ts=1386943993 " />
<!--<![endif]-->

<script type="text/javascript">
		if (location.hash) {
			document.write('<style type="text/css"> a.anchor { display:none;} <\/style>');
		}

		var uploadUrlTarget = "http://forum.spring.io/uploader/url";
		var pageData = {
			"baseurl": "http://forum.spring.io",
			"baseurl_path": "/",
			"baseurl_login": "http://forum.spring.io",
			"baseurl_core": "http://forum.spring.io/core",
			
			"pageid": "80",
			"pagetemplateid": "4",
			"channelid": "31",
			"nodeid": "58922",
			"userid": "0",
			"textDirLeft": "left",
			"textDirRight": "right",
			"textdirection": "ltr",
			"can_use_sitebuilder": "",
			"cookie_prefix": "bb",
			"sb_state_cookie": "bbsitebuilder_active",
			"inlinemod_cookie_name": "inlinemod_nodes",
			
				"pagenum": "1",
			
			"styleid": "0",
			"threadmarking": "0",
			"lastvisit": "1386978547",
			"phrasedate": "1383180843",
			"optionsdate": "1386978542",
			
			"current_server_datetime": "1386978547",
			"simpleversion": "v=504",
			
			"showhv_post": "1",
			"nextcron": "1386978600",
			"securitytoken": "guest"
		}
	</script>
	
	
<!-- ### -->
  <link rel="stylesheet" type="text/css" href="/spring/css/header-footer.css" />
  <link rel="stylesheet" type="text/css" href="/spring/css/forum.spring.css" />
  <link href='http://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700' rel='stylesheet' type='text/css' />
  <link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet" />

<!-- /### -->

</head>

<!-- ### -->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="http://forum.spring.io/js/jquery/jquery-1.7.2.min.js"><\/script>');</script>
<script type="text/javascript" src="/spring/js/header-footer.js"></script>

  <header class="navbar spring-header--navbar">
    <div class="navbar-inner">
      <div class="spring-container-fluid">
        <div class="spring-logo--container">
          <a class="spring-logo" href="http://spring.io/"><span></span></a>
        </div>
        <ul class="nav pull-right">
          <li class="navbar-link">
            <a href="http://spring.io/docs">Docs</a>
          </li>
          <li class="navbar-link">
            <a href="http://spring.io/guides">Guides</a>
          </li>
          <li class="navbar-link">
            <a href="http://spring.io/projects">Projects</a>
          </li>
          <li class="navbar-link">
            <a href="http://spring.io/blog">Blog</a>
          </li>
          <li class="navbar-link active">
            <a href="/">Forum</a>
          </li>
          <li class="navbar-link nav-search">
            <i class="icon-search navbar-search--icon js-search-input-open"></i>
            <div class="search-input-close js-search-input-close">x</div>
          </li>
        </ul>
      </div>
    </div>
    <div class="search-dropdown--container js-search-dropdown">
      <div class="container-fluid">
        <div class="search-form--container spring-container-fluid">
          <form class="form-inline form-search" action="http://spring.io/search" method="get">
            <input type="text" class="search-query search-form--form js-search-input" placeholder="Search for documention, guides, and posts..." name="q" th:value="${query}" />
            <button type="submit" class="search-form--submit"><i class="icon-search"></i></button>
          </form>
        </div>
      </div>
    </div>
  </header>

<!-- /### -->






<!--[if gte IE 9]>
<body id="vb-page-body" class="vb-page ie ie9 view-mode logged-out" itemscope itemtype="http://schema.org/ItemPage">
<![endif]-->
<!--[if IE 8]>
<body id="vb-page-body" class="vb-page ie ie8 view-mode logged-out" itemscope itemtype="http://schema.org/ItemPage">
<![endif]-->
<!--[if lte IE 7]>
<body id="vb-page-body" class="vb-page ie ie7 view-mode logged-out" itemscope itemtype="http://schema.org/ItemPage">
<![endif]-->
<!--[if !IE]><!-->
<body id="vb-page-body" class="vb-page view-mode logged-out" itemscope itemtype="http://schema.org/ItemPage">
<!--<![endif]-->
<div id="main-navbar-wrapper" class="noselect">
	<div id="main-navbar" class="h-clearfix">
		
			<ul class="main-nav h-left h-hide"></ul>
		
		<ul class="secondary-nav h-right h-disabled">
			
			
				<li class="username-container h-right">
					<span id="lnkLoginSignupMenu">Login or Sign Up</span>
					<ul>
						<li id="idLoginIframeContainer">
							
							
							<iframe id="idLoginIframe" src="http://forum.spring.io/auth/login-form" ></iframe>
						</li>
						<li id="externalLoginProviders">
							<span>Log in with</span>
							

						</li>
					</ul>
				</li>
			
		</ul>
	</div>
</div>
<div id="sitebuilder-wrapper" class="noselect h-clearfix">
	
</div>
<!--[if IE 8]>
<div id="outer-wrapper">
<div id="wrapper">
<![endif]-->
<!--[if !IE 8 ]><!-->
<div id="outer-wrapper">
<div id="wrapper">
<!--<![endif]-->
	<div id="header-axd" class="header-edit-box axdnum_1">
		
		<div class="axd-container axd-container_header">
			<div class="admin-only">
				
			</div>
			<div class="axd axd_header">
				
			</div>
		</div>
		<div class="axd-container axd-container_header2">
			<div class="admin-only">
				
			</div>
			<div class="axd axd_header2">
				
			</div>
		</div>
	</div>
	
<!-- ### ### -->
 	<div id="header" class="noselect" style="height:60px;">
 		<!--
 		<div class="header-cell">
 			
			<div class="site-logo header-edit-box">
				<a href="http://forum.spring.io/"><img src="http://forum.spring.io/images/misc/vbulletin5_logo.png" data-orig-src="http://forum.spring.io/images/misc/vbulletin5_logo.png" alt="Logo" title="Powered by vBulletin" /></a>
			</div>
		</div>
		<div class="toolbar">
				-->
			<ul class="h-right">
				
				
				
				<li class="search-container">
					<form id="searchForm" action="http://forum.spring.io/search" class="h-left" method="GET">
						<div class="h-left">
							<div class="search-box search-btn-inside-box">
								<input type="text" name="q" id="q" placeholder="Search Forums" class="textbox search-term" autocomplete="off" />
								<button type="submit" id="btnSearch" class="search-btn" title="Search Forums"><span class="vb-icon vb-icon-search"></span></button>
								<div class="vertical-divider-left"></div>
								<div id="searchPopupControl" title="Filter search"><span class="vb-icon vb-icon-arrow-down-small"></span></div>
								<div id="searchPopupContent"><div class="searchPopupBody">
	<label><input type="checkbox" name="searchFields[title_only]" class="searchFields_title_only" value="1" />Search in titles only</label>
	<div class="h-clear"></div>
	
	
		
		
			<label><input type="checkbox" name="searchFields[channel][]" class="searchFields_channel" value="31" />Search in Container only</label>
		
	
	<label><span class="vb-icon vb-icon-adv-search"></span><a href="#" id="btnAdvSearch" class="adv-search-btn">Advanced Search</a></label>
	<div class="h-clear"></div>
	<div>
		&nbsp;
		<button type="submit" id="btnSearch-popup" class="button primary h-right">Search Forums</button>
	</div>
</div>
<input type="hidden" name="searchJSON" value="" /></div>
							</div>
						</div>
					</form>
				</li>
				
			</ul>
<!--		</div> -->
		
	</div>
<!-- / ### ### -->

<!--
	<div id="channel-tabbar" class="h-clearfix noselect">
		<ul class="h-left">

			
			<li id="mobile-main-menu" class="mobile sections">
				<div id="mobile-main-menu-sections">
					<div class="main-menu-control-sections collapsed">
						<span class="sections-menu-icon"><span class="icon h-left collapsed" ></span></span>
						<span class="sections-title collapsed">SECTIONS</span>
						<span class="sections-icon"><span class="icon h-left collapsed"></span></span>
					</div>
				</div>
				<div id="mobile-main-menu-search"></div>
				<span class="mobile-search"><span class="icon h-right"></span></span>
			</li>

			
			
				
				
				
				
				
				
				
				
				<li class=" section-item">
					<a href="http://forum.spring.io/" class="h-left navbar_home">Forums</a>
					<span class="mobile dropdown-icon"><span class="icon h-right"></span></span>
				</li>
			
				
				
				
				
				
				
				
				
				<li class=" section-item">
					<a href="http://forum.spring.io/blogs" class="h-left navbar_blogs">Blogs</a>
					<span class="mobile dropdown-icon"><span class="icon h-right"></span></span>
				</li>
			
				
				
				
				
				
				
				
				
				<li class=" section-item">
					<a href="http://forum.spring.io/social-groups" class="h-left navbar_social_groups">Groups</a>
					<span class="mobile dropdown-icon"><span class="icon h-right"></span></span>
				</li>
			
			
		</ul>
	</div>

	<div id="channel-subtabbar" class="h-clearfix h-hide">
		<ul class="h-left">
			
		</ul>
	</div>
-->

	
		
	

	
		
		<ul id="breadcrumbs" class="h-clearfix" itemprop="breadcrumb">
			<li class="crumb ellipsis"><a class="crumb-link" href="http://forum.spring.io/">Home</a></li>
			
				
					
					
				
				<li class="vb-icon separator"></li>
				<li class="crumb ellipsis"><a class="crumb-link" href="http://forum.spring.io/forum">Forum</a></li>
			
				
					
					
				
				<li class="vb-icon separator"></li>
				<li class="crumb ellipsis"><a class="crumb-link" href="http://forum.spring.io/forum/spring-projects">Spring Projects</a></li>
			
				
					
					
				
				<li class="vb-icon separator"></li>
				<li class="crumb ellipsis"><a class="crumb-link" href="http://forum.spring.io/forum/spring-projects/container">Container</a></li>
			
		</ul>
	

	

	

<ul class="notices">
	
		
		<li class="notice restore" data-notice-id="3" data-notice-persistent="1">Welcome to the new Spring.io forums!
 If this is your first visit, be sure to check out the 
 <a href="/faq.php">FAQ</a> 
 by clicking the link above, and for security reasons, use the 
 <a href="/lostpw">forgot password</a> link to reset your password.. 
 You may have to register before you can post: click the <a href="/register.php">register</a> 
 link above to proceed. To start viewing messages, select the forum that you want to visit 
 from the selection below.</li>
	
</ul>


	

	<div id="content" class="spring-container-fluid">
		<div class="canvas-layout-container">
<div id="canvas-layout-wide-narrow" class="canvas-layout" data-layout-id="2">
	

	<!-- section 2 -->
	<div class="canvas-layout-row no-columns h-clearfix l-row">
		
		<div class="canvas-widget-list section-2 h-clearfix l-col__large-12 l-col__small--full">
			
				
	


	
	





<div class="canvas-widget default-widget announcement-widget empty" data-widget-id="140" data-widget-instance-id="17">
	
	
	<div class="widget-header h-clearfix">
		
		
		
			
		

		<div class="module-title h-left">
			
				<span class="main-title hide-on-editmode">Announcement</span>
			
			<span class="admin-only">Announcement Module</span>
		</div>
		
			<div class="module-buttons">
				
				
					<span class="toggle-button module-button-item collapse" title="Collapse" data-toggle-title="Expand"><span class="vb-icon vb-icon-toggle">Collapse</span></span>
				
			</div>
		
	</div>
	
	<div class="widget-content">
		
			
				No announcement yet.
				
			
				
	</div>
</div>
			
		</div>
	</div>

	<!-- sections 0, 1 -->
	<div class="canvas-layout-row has-columns l-row l-row__fixed--right">
		
		<div class="l-small canvas-widget-list section-1 has-adjacent-left-col l-col__fixed-6 l-col__small--full">
			
				
	


	
	


<div class="canvas-widget default-widget axd-widget axd-container" data-widget-id="150" data-widget-instance-id="131">
	
	<div class="widget-content restore axd axd_131">
		
		
		<div class="ad_131_inner"><script>
var now = new Date().getTime();
document.write(unescape("%3Cscript src='http://dserv.springsource.org/spring_mylearn_banner?wh=nsf&v=side&ies="+now+"' type='text/javascript'%3E%3C/script%3E"));
</script></div>
	</div>
</div>
			
		</div>
		
		<div class="canvas-widget-list section-0 has-adjacent-right-col l-col__flex-6 l-col__small--full h-padding-right-xl">
			
				
	


	
	



	
	
	
		
		
	



	


<div class="canvas-widget default-widget page-title-widget widget-no-header-buttons widget-no-border" data-widget-id="164" data-widget-instance-id="18">
	
	
	<div class="widget-header h-clearfix">
		
		
		

		<div class="module-title h-left">
			
				<span class="main-title hide-on-editmode">Getting proxy class instead of class for a message consumer bean</span>
			
			<span class="admin-only">Page Title Module</span>
		</div>
		
			<div class="module-buttons">
				
					<span class="admin-only">
						
							<span class="move-icon module-button-item" title="Move module"><span>Move</span></span>
						
						
						
							<span class="close-button module-button-item" title="Remove module"><span>Remove</span></span>
						
					</span>
				
				
					<span class="toggle-button module-button-item collapse" title="Collapse" data-toggle-title="Expand"><span class="vb-icon vb-icon-toggle">Collapse</span></span>
				
			</div>
		
	</div>
	
</div>
			
				



	
		
	
	
		
			
		
	

	
	
	
		
		
		
		

		
			
			

			

			
				
			
			

			

			

			

			
				
					
				
				
				
				
				
					
					
							
					
				
				
			

			
			

			

			

			
			
			
			

			

			
			
			

			
				
			

				
			
				
					
					
					
				
			
				
					
					
					
				
			
				
					
					
					
				
			
				
					
					
					
				
			
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			

			
			
			
			
			
			

		
	

	
		
		
		
		 
	

	
	
	
		
		
	

	<div class="canvas-widget default-widget conversation-content-widget  forum-conversation-content-widget widget-tabs widget-no-border widget-no-header-buttons  axd-container" data-widget-id="117" data-widget-instance-id="19" data-widget-default-tab="">
		
			<div class="conversation-status-messages">
				
				
				
				<div class="conversation-status-message notice h-hide"><span></span><div class="close">X</div></div>
			</div>

			<div class="widget-header h-clearfix">
				<div class="module-title h-left main-header-title">
					
					<span class="admin-only">Conversation Detail Module</span>
				</div>
				<div class="module-buttons moderationmenu_container">
					
					<span class="toggle-button module-button-item collapse" title="Collapse" data-toggle-title="Expand"><span class="vb-icon-toggle">Collapse</span></span>
				</div>
				
				
					<div class="widget-tabs-nav h-clear">
						<a id="topic-module-top" class="anchor js-module-top-anchor"></a>
						<ul class="ui-tabs-nav hide-on-editmode h-left">
							
							
							<li><a href="#thread-view-tab" data-href="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean?view=thread">Posts</a></li>
							
							<li><a href="#stream-view-tab" data-href="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean?view=stream">Latest Activity</a></li>
						</ul>
					</div>
				
			</div>
			<div class="widget-content tab widget-tabs-panel">
				<input type="hidden" name="canmoderate" id="canmoderate" value="0" />

				<div id="thread-view-tab" class="conversation-view conversation-thread-view">
					
					
						
					

					
						
							
						
					

					

	
		
	



	







<div class="spring-conversation-toolbar-wrapper conversation-toolbar-wrapper  top h-clear hide-on-editmode
	
		scrolltofixed-floating
		scrolltofixed-top
	
" data-allow-history="1">
	<div class="conversation-toolbar">
		
		<ul class="toolset-right">
			
			
			
				<li class="toolbar-search">
					<form name="toolbar-search-form" action="http://forum.spring.io/activity/get" method="post" class="toolbar-search-form">
						<input type="hidden" name="nodeid" value="58922" />
						<input type="hidden" name="view" value="thread" />
						
							<input type="hidden" name="per-page" value="15" />
							<input type="hidden" name="pagenum" value="1" />
						
						<div class="search-container">
							<input type="text" name="q" value="" class="textbox js-filter-search" placeholder="Search Forums" data-filter-name="Search Forums" />
							<button type="submit" name="btnSearch" id="btnSearch-top" class="search-btn"><span class="vb-icon vb-icon-search-small-gray">Search Forums</span></button>
						</div>
					</form>
				</li>
			
			
			
				<li class="toolbar-pagenav">
					<!-- Page Nav controls -->











<div class="pagenav-controls ">
	<form class="pagenav-form h-clearfix" action="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean">
		<input type="hidden" class="defaultpage" value="1" />
		<div class="pagenav h-left">
			Page <input type="text" name="page" class="js-pagenum textbox h-padding-horiz-none" value="1" /> of <span class="pagetotal">1</span>
		</div>

		<div class="horizontal-arrows h-left">
			
				<a  class="arrow left-arrow h-disabled"  title="Previous Page" rel="prev"><span class="vb-icon vb-icon-arrow-left"></span></a>
				<a  class="arrow right-arrow h-disabled"  title="Next Page" rel="next"><span class="vb-icon vb-icon-arrow-right"></span></a>
			
		</div>
	</form>	
</div>
				</li>
			
			
				<li class="toolbar-filter toolbar-filter-top">
					<div class="filter-wrapper h-clearfix">
						<div class="label h-left">Filter</div>
						<div class="arrow vb-icon-wrapper h-left"><span class="vb-icon vb-icon-triangle-down-wide"></span></div>
					</div>
				</li>
			
			

			
		</ul>
	</div>

	

	
		
			
		
		
		<form action="http://forum.spring.io/activity/get" method="post" class="toolbar-filter-overlay h-clearfix">
			<input type="hidden" name="nodeid" value="58922" />
			<input type="hidden" name="view" value="thread" />
			
			
			
			
				<input type="hidden" name="nolimit" value="1" />
			
			
				<input type="hidden" name="per-page" value="15" />
				<input type="hidden" name="pagenum" value="1" />
			
			
			
			
				<input type="hidden" name="userid" value="0" />
			
			
			
			<input type="hidden" name="showChannelInfo" value="1" />
			<ul class="filter-options-list">
				
				
				<li>
					<div class="filter-header">Time</div>
					<div class="filter-options">
						
						
						
						
						
						
						
						
						
							
						
						
						
						

						
							<label><input type="radio" name="filter_time" value="time_all" tabindex="4" checked="checked" class="js-default-checked" /><span>All Time</span></label>
						
						<label><input type="radio" name="filter_time" value="time_today" tabindex="5" /><span>Today</span></label>
						<label><input type="radio" name="filter_time" value="time_lastweek" tabindex="6" /><span>Last Week</span></label>
						<label><input type="radio" name="filter_time" value="time_lastmonth" tabindex="7" /><span>Last Month</span></label>
					</div>
				</li>
				
				
				<li>
					<div class="filter-header">Show</div>
					<div class="filter-options">
						
						
						
						
						
						
						
						
						
						
						
						
						
							
						
						
						
						

						<label><input type="radio" name="filter_show" value="show_all" tabindex="8" checked="checked" class="js-default-checked" /><span>All</span></label>
						<label><input type="radio" name="filter_show" value="vBForum_Text" tabindex="9" /><span>Discussions only</span></label>
						<label><input type="radio" name="filter_show" value="vBForum_Gallery" tabindex="10" /><span>Photos only</span></label>
						<label><input type="radio" name="filter_show" value="vBForum_Video" tabindex="11" /><span>Videos only</span></label>
						<label><input type="radio" name="filter_show" value="vBForum_Link" tabindex="12" /><span>Links only</span></label>
						<label><input type="radio" name="filter_show" value="vBForum_Poll" tabindex="13" /><span>Polls only</span></label>
					</div>
				</li>
				
				
				
				
				
				
				

				
				<!-- end if prefixsets -->
			</ul>
		</form>

		
		

		<div class="filtered-by h-clearfix h-hide">
			<label>Filtered by:</label>
			<div class="filter-text-wrapper h-left">
				
				
				
			</div>
			<a href="#" class="clear-all h-hide">Clear All</a>
		</div>
		<div class="new-conversations-strip"><span></span> new posts</div>
	

	
</div>

					<div class="conversation-content">
						<ul class="conversation-list list-container h-clearfix  thread-view">
							
								
								
								
								
								
								
								
								
									

									

									
								
									

									

									
								
									

									

									
								
									

									

									
								
								
								
								
								
								
									
									
									
									
										
									
								
									
									
									
									
										
									
								
									
									
									
									
										
									
								
									
									
									
									
										
									
								
							
							
							
							
								
							
								
							
								
							
								
							

							
							
							
								
									
									
								
								
									
									<!-- Starter Conversation -->
									
									





	
	













	
		
	










<li data-node-id="58922" class="b-post js-post js-comment-entry__parent h-restore--on-preview b-post--text b-post--first OLD__list-item OLD__list-item-text OLD__conversation-starter js-conversation-starter h-left h-clear js-slideshow__gallery-node js-poll__parent" itemscope itemtype="http://schema.org/CreativeWork">
	<a id="post58922" class="anchor"></a>
	
		

		
		

		

		
		
		<meta  itemprop="url" content="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean" />
	


	<a id="post" class="anchor"></a>

	<div class="l-row l-row__fixed--left">
		<div class="l-col__fixed-3 l-col__small--full h-hide--on-preview h-padding-right-l">
			


<div class="userinfo b-userinfo b-post__hide-when-deleted" itemprop="author" itemscope itemtype="http://schema.org/Person">
	
		
			<a href="http://forum.spring.io/member/48745-mon" class="b-avatar b-avatar--m b-avatar--thread h-margin-bottom-l"><img src="http://forum.spring.io/core/images/default/default_avatar_medium.png" width="64" height="64" alt="mon" title="mon" /></a>
		
	

	<!-- responsive alteration: Added userinfo-details wrapper in order to
	support left floated avatar with all other information on the right. -->
	
	<div class="b-userinfo__details">
		
		<div class="author h-text-size--14"><strong><a href="http://forum.spring.io/member/48745-mon" >mon</a></strong></div>
		
			<div class="usertitle">
			
				Junior Member
			
			</div>
		
		

		<div class="b-meter h-margin-top-m " title="is on a distinguished road">
			
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
		</div>
		
		<div class="b-userinfo__rank h-margin-top-s h-hide"></div>
		
		<ul class="b-userinfo__additional-info-block h-margin-top-xl">
			
				<li class="b-userinfo__additional-info"><label>Join Date:</label> <span>Feb 2009</span></li>
				<li class="b-userinfo__additional-info"><label>Posts:</label> <span>3</span></li>
				
			
			
		</ul>
		<ul class="b-userinfo__icons h-margin-none OLD__userinfo-extra OLD__icons">
			
				
			
			<li class="b-userinfo__icon h-left OLD__online-status online" title="mon is online now"><span class="b-icon b-icon__status--green"></span></li>

			
	

		</ul>
	</div>
</div>
		</div>

		<div class="js-post__content-wrapper l-col__flex-3 l-col__small--full h-restore--on-preview OLD__list-item-body-wrapper">
			<div class="b-post__body h-restore--on-preview h-padding-horiz-xxl h-padding-top-xl h-padding-bottom-m h-clearfix">
				<div class="b-post__arrow b-post__hide-when-deleted OLD__pointer-left"></div>
	
	
				
	
	
	
	<!-- REPLY -->
			<!--vb:if condition="!$conversation['unpublishdate'] OR $canPhysicallyDeletePost"-->
	<!-- /REPLY -->
	
				<div class="b-post__content js-post__content b-post__hide-when-deleted">
					<hr class="b-divider--section OLD__section-divider" />
					
					<div class="b-media h-hide--on-preview">
						<div class="b-media__img--rev">
						
							
								
							
	
							
							
							
							
							
								<a class="b-post__count" href="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean#post58922">#1
								</a>
							
	
							
	
							
	
	
						</div>
						<div class="b-media__body">
							
	
								<h2 class="b-post__title OLD__post-title">
									
									
									Getting proxy class instead of class for a message consumer bean
								</h2>
							
	
	
							
							
							<div class="b-post__timestamp OLD__post-date"><time itemprop="dateCreated" datetime="2009-02-04T07:42:49">Feb 4th, 2009, 10:42 AM</time></div>
	
						</div>
					</div>
	
					<div class="OLD__post-content h-padding-vert-xl">
						
	
	
						
						<div class="js-post__content-text OLD__post-content-text restore" itemprop="text">
							
							Hi!<br />
<br />
I have a message consumer defined in a bean as shown below (mdbQueryMessageBean). Everything works fine when the application is executed, but when I run my tests I get a <br />
<br />
NoSuchMethodException: $Proxy29.runMdbQuery(java.lang.String) (full stack trace below)<br />
<br />
For what I can see I'm getting a proxy instead of the proper bean.<br />
<br />
The same bean definitions are used for the application and the tests (on what relates to this), and the tests load the beans with a ClassPathXmlApplicationContext<br />
<br />
Any idea why I'm getting a proxy instead of the bean in this case? It does not happen for any other of my beans.<br />
<br />
If I try to get the bean from the context in the test class:<br />
<br />
MdbQueryMessageBean m = (MdbQueryMessageBean)getContext().getBean( &quot;mdbQueryMessageBean&quot; );<br />
<br />
I get a nice :<br />
<br />
$Proxy28 cannot be cast to com.aaa.bbb.listservice.MdbQueryMessageBean<br />
java.lang.ClassCastException: $Proxy28 cannot be cast to com.aaa.bbb.listservice.MdbQueryMessageBean<br />
<br />
<br />
Have been looking into it for quite a while and can't figure out what's going on. Some help greatly appreciated.<br />
<br />
Thanks a lot,<br />
<br />
Mon<br />
<br />
<br />
<br />

	
	
	

<div class="bbcode_container">
	<div class="bbcode_description">Code:</div>
	<pre class="bbcode_code" style="height:60px;">    context = new ClassPathXmlApplicationContext(
        new String[] { &quot;classpath:directBeans.xml&quot; } );</pre>
</div>
	
	
	

<div class="bbcode_container">
	<div class="bbcode_description">Code:</div>
	<pre class="bbcode_code" style="height:256px;">    &lt;bean id=&quot;mdbListener&quot; class=&quot;org.springframework.jms.listener.adapter.MessageListenerAdapter&quot;&gt;
        &lt;property name=&quot;delegate&quot; ref=&quot;mdbQueryMessageBean&quot; /&gt;
        &lt;property name=&quot;defaultListenerMethod&quot; value=&quot;runMdbQuery&quot; /&gt;
        &lt;property name=&quot;defaultResponseDestination&quot; ref=&quot;queryResponseQueue&quot; /&gt;
    &lt;/bean&gt;

    &lt;bean id=&quot;mdbListenerContainer&quot; class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;
        &lt;property name=&quot;concurrentConsumers&quot; value=&quot;2&quot; /&gt;
        &lt;property name=&quot;connectionFactory&quot; ref=&quot;jmsFactory&quot; /&gt;
        &lt;property name=&quot;destination&quot; ref=&quot;mdbQueue&quot; /&gt;
        &lt;property name=&quot;messageListener&quot; ref=&quot;mdbListener&quot; /&gt;
    &lt;/bean&gt;

      &lt;bean id=&quot;mdbQueryMessageBean&quot; class=&quot;com.aaa.bbb.listservice.MdbQueryMessageBean&quot;&gt;
        &lt;property name=&quot;listDB&quot; ref=&quot;ListDB&quot; /&gt;
    &lt;/bean&gt;</pre>
</div>
	
	
	

<div class="bbcode_container">
	<div class="bbcode_description">Code:</div>
	<pre class="bbcode_code" style="height:424px;">    [junit] =13:53:31,233 WARN  [DefaultMessageListenerContainer:634] Execution of JMS message listener failed
    [junit] org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Failed to invoke target method 'runMdbQuery' with arg
uments {Hi}; nested exception is java.lang.NoSuchMethodException: $Proxy29.runMdbQuery(java.lang.String)
    [junit]     at org.springframework.jms.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:459)
    [junit]     at org.springframework.jms.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:354)
    [junit]     at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:
506)
    [junit]     at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:46
3)
    [junit]     at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java
:435)
    [junit]     at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListen
erContainer.java:316)
    [junit]     at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListener
Container.java:255)
    [junit]     at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessag
eListenerContainer.java:887)
    [junit]     at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerCo
ntainer.java:815)



    [junit]     at java.lang.Thread.run(Thread.java:619)
    [junit] Caused by: java.lang.NoSuchMethodException: $Proxy29.runMdbQuery(java.lang.String)
    [junit]     at java.lang.Class.getMethod(Class.java:1605)
    [junit]     at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:180)
    [junit]     at org.springframework.jms.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:451)
    [junit]     ... 9 more</pre>
</div>
						</div>
					</div>
	
	<!-- REPLY -->
				<!--/vb:if-->
	<!-- /REPLY -->




      
  </div> 




		
			
				
				
				
			
			
<div class="b-post__footer h-hide--on-preview h-clear h-padding-bottom-m">

	<div class="h-clearfix">
	
			<div class="h-margin-bottom-xl h-margin-top-none h-text-size--11" id="content-tags-58922">
	<strong>Tags:</strong>
	
		<span>None</span>
	
</div>
		

		
			<hr class="b-divider b-divider--post-controls" />
		

		<ul class="h-left js-post-info">

			
			

			

			
		</ul>

		<ul class="h-margin-top-m h-right js-post-controls" data-node-id="58922">
			

			

			

			

				

					

				

			

			

			

			

			

			

			

			

			
				

			

		</ul>
	</div>
</div>


			<div class="edit-conversation-container"></div>
		



      </div>
    </div>  
  </div>    
</li><!-- /end .b-post -->
									
								
								
							
								
									
									
								
								
									<!-- Conversation Replies or Comments -->
									
									
									
										
									

									
										









	
	










	









<li data-node-id="436158" class="b-post js-post js-comment-entry__parent h-restore--on-preview b-post--text  OLD__list-item OLD__list-item-text OLD__conversation-reply js-conversation-reply h-left h-clear js-slideshow__gallery-node js-poll__parent" itemscope itemtype="http://schema.org/Comment">
	<a id="post436158" class="anchor"></a>
	
		

		
		

		

		
		
		<meta  itemprop="url" content="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean" />
	


	<a id="post" class="anchor"></a>

	<div class="l-row l-row__fixed--left">
		<div class="l-col__fixed-3 l-col__small--full h-hide--on-preview h-padding-right-l">
			


<div class="userinfo b-userinfo b-post__hide-when-deleted" itemprop="author" itemscope itemtype="http://schema.org/Person">
	
		
			<a href="http://forum.spring.io/member/19850-jonnio" class="b-avatar b-avatar--m b-avatar--thread h-margin-bottom-l"><img src="http://forum.spring.io/core/images/default/default_avatar_medium.png" width="64" height="64" alt="jonnio" title="jonnio" /></a>
		
	

	<!-- responsive alteration: Added userinfo-details wrapper in order to
	support left floated avatar with all other information on the right. -->
	
	<div class="b-userinfo__details">
		
		<div class="author h-text-size--14"><strong><a href="http://forum.spring.io/member/19850-jonnio" >jonnio</a></strong></div>
		
			<div class="usertitle">
			
				Senior Member
			
			</div>
		
		

		<div class="b-meter h-margin-top-m " title="is on a distinguished road">
			
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
		</div>
		
		<div class="b-userinfo__rank h-margin-top-s h-hide"></div>
		
		<ul class="b-userinfo__additional-info-block h-margin-top-xl">
			
				<li class="b-userinfo__additional-info"><label>Join Date:</label> <span>Oct 2006</span></li>
				<li class="b-userinfo__additional-info"><label>Posts:</label> <span>405</span></li>
				
			
			
		</ul>
		<ul class="b-userinfo__icons h-margin-none OLD__userinfo-extra OLD__icons">
			
				
			
			<li class="b-userinfo__icon h-left OLD__online-status online" title="jonnio is online now"><span class="b-icon b-icon__status--green"></span></li>

			
	

		</ul>
	</div>
</div>
		</div>

		<div class="js-post__content-wrapper l-col__flex-3 l-col__small--full h-restore--on-preview OLD__list-item-body-wrapper">
			<div class="b-post__body h-restore--on-preview h-padding-horiz-xxl h-padding-top-xl h-padding-bottom-m h-clearfix">
				<div class="b-post__arrow b-post__hide-when-deleted OLD__pointer-left"></div>
	
	
				
	
	
	
	<!-- REPLY -->
			<!--vb:if condition="!$conversation['unpublishdate'] OR $canPhysicallyDeletePost"-->
	<!-- /REPLY -->
	
				<div class="b-post__content js-post__content b-post__hide-when-deleted">
					<hr class="b-divider--section OLD__section-divider" />
					
					<div class="b-media h-hide--on-preview">
						<div class="b-media__img--rev">
						
							
								
							
	
							
							
							
							
							
	
							
								<a class="b-post__count" href="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean?p=436158#post436158">#2</a>
							
	
							
	
	
						</div>
						<div class="b-media__body">
							
	
	
							
							
							<div class="b-post__timestamp OLD__post-date"><time itemprop="dateCreated" datetime="2009-02-04T08:58:14">Feb 4th, 2009, 11:58 AM</time></div>
	
						</div>
					</div>
	
					<div class="OLD__post-content h-padding-vert-xl">
						
	
	
						
						<div class="js-post__content-text OLD__post-content-text restore" itemprop="text">
							
							If you use an interface, the proxy will assume the interface and then you can cast. There must be some AOP mechanism in place.
						</div>
					</div>
	
	<!-- REPLY -->
				<!--/vb:if-->
	<!-- /REPLY -->





      
  </div> 


	
	





		
			
				
				
				
			
			
<div class="b-post__footer h-hide--on-preview h-clear h-padding-bottom-m">

	<div class="h-clearfix">
	

		
			<hr class="b-divider b-divider--post-controls" />
		

		<ul class="h-left js-post-info">

			
			

			

			
		</ul>

		<ul class="h-margin-top-m h-right js-post-controls" data-node-id="436158">
			

			

			

			

				

					

				

			

			

			

			

			

			

			

			

			
				

			

		</ul>
	</div>
</div>


			<div class="b-comment-entry js-comment-entry h-padding-xxl h-padding-top-xl  comment-entry-box h-hide ">
				<h2 class="h-margin-bottom-xl OLD__comment-entry-box-header">Comment</h2>
				<textarea class="b-comment-entry__textbox js-comment-entry__textbox autogrow" placeholder="Type your comment here"></textarea>

				<div class="b-button-group h-margin-top-xl h-text--right">
					<button type="button" id="btnPostCommentCancel-436158" class="b-button js-comment-entry__cancel">Cancel</button>
					<button type="button" id="btnPostComment-436158" class="b-button b-button--primary js-comment-entry__post">Post</button>
				</div>
			</div>

			<div class="edit-conversation-container"></div>

			



<div class="b-comments js-comments h-margin-bottom-xl h-clearfix h-hide">
	
		
	
	
		
	
	
		
	
	
		
	

	
	
	
	
	
	

	
	

	
		<div class="b-comments__header js-comments__header OLD__top b-media h-padding-vert-m h-padding-horiz-l h-hide">
			<div class="js-comments__total OLD__comment-total h-margin-left-l OLD__h-left b-media__body">
				<span class="b-icon b-icon__speech-single h-margin-right-s"></span>
				<label class="js-comments__total-text h-align-top"></label>
			</div>
			<div class="b-media__img--rev js-comments__pagination h-hide">
				<label></label>
				<span class="b-comments__pagination--up js-comments__page--prev h-margin-left-s OLD__icon" title="See previous comments"><span class="b-icon b-icon__arrow-up-m--default"></span></span>
			</div>
		</div>
		<ul class="b-comments__comments js-comments__comments h-left"></ul>
		<div class="b-comments__footer js-comments__footer b-media OLD__bottom h-padding-vert-m h-padding-horiz-l h-clear h-hide">
			<div class="b-media__img--rev js-comments__pagination">
				<label></label>
				<span class="b-comments__pagination--down js-comments__page--next h-margin-left-s OLD__icon" title="See next comments"><span class="b-icon b-icon__arrow-down-m--default"></span></span>
			</div>
		</div>
	
</div>
		


      </div>
    </div>  
  </div>    
</li><!-- /end .b-post -->

									
								
								
							
								
									
									
								
								
									<!-- Conversation Replies or Comments -->
									
									
									
										
									

									
										









	
	










	









<li data-node-id="436171" class="b-post js-post js-comment-entry__parent h-restore--on-preview b-post--text  OLD__list-item OLD__list-item-text OLD__conversation-reply js-conversation-reply h-left h-clear js-slideshow__gallery-node js-poll__parent" itemscope itemtype="http://schema.org/Comment">
	<a id="post436171" class="anchor"></a>
	
		

		
		

		

		
		
		<meta  itemprop="url" content="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean" />
	


	<a id="post" class="anchor"></a>

	<div class="l-row l-row__fixed--left">
		<div class="l-col__fixed-3 l-col__small--full h-hide--on-preview h-padding-right-l">
			


<div class="userinfo b-userinfo b-post__hide-when-deleted" itemprop="author" itemscope itemtype="http://schema.org/Person">
	
		
			<a href="http://forum.spring.io/member/48745-mon" class="b-avatar b-avatar--m b-avatar--thread h-margin-bottom-l"><img src="http://forum.spring.io/core/images/default/default_avatar_medium.png" width="64" height="64" alt="mon" title="mon" /></a>
		
	

	<!-- responsive alteration: Added userinfo-details wrapper in order to
	support left floated avatar with all other information on the right. -->
	
	<div class="b-userinfo__details">
		
		<div class="author h-text-size--14"><strong><a href="http://forum.spring.io/member/48745-mon" >mon</a></strong></div>
		
			<div class="usertitle">
			
				Junior Member
			
			</div>
		
		

		<div class="b-meter h-margin-top-m " title="is on a distinguished road">
			
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
		</div>
		
		<div class="b-userinfo__rank h-margin-top-s h-hide"></div>
		
		<ul class="b-userinfo__additional-info-block h-margin-top-xl">
			
				<li class="b-userinfo__additional-info"><label>Join Date:</label> <span>Feb 2009</span></li>
				<li class="b-userinfo__additional-info"><label>Posts:</label> <span>3</span></li>
				
			
			
		</ul>
		<ul class="b-userinfo__icons h-margin-none OLD__userinfo-extra OLD__icons">
			
				
			
			<li class="b-userinfo__icon h-left OLD__online-status online" title="mon is online now"><span class="b-icon b-icon__status--green"></span></li>

			
	

		</ul>
	</div>
</div>
		</div>

		<div class="js-post__content-wrapper l-col__flex-3 l-col__small--full h-restore--on-preview OLD__list-item-body-wrapper">
			<div class="b-post__body h-restore--on-preview h-padding-horiz-xxl h-padding-top-xl h-padding-bottom-m h-clearfix">
				<div class="b-post__arrow b-post__hide-when-deleted OLD__pointer-left"></div>
	
	
				
	
	
	
	<!-- REPLY -->
			<!--vb:if condition="!$conversation['unpublishdate'] OR $canPhysicallyDeletePost"-->
	<!-- /REPLY -->
	
				<div class="b-post__content js-post__content b-post__hide-when-deleted">
					<hr class="b-divider--section OLD__section-divider" />
					
					<div class="b-media h-hide--on-preview">
						<div class="b-media__img--rev">
						
							
								
							
	
							
							
							
							
							
	
							
								<a class="b-post__count" href="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean?p=436171#post436171">#3</a>
							
	
							
	
	
						</div>
						<div class="b-media__body">
							
	
	
							
							
							<div class="b-post__timestamp OLD__post-date"><time itemprop="dateCreated" datetime="2009-02-04T10:15:39">Feb 4th, 2009, 01:15 PM</time></div>
	
						</div>
					</div>
	
					<div class="OLD__post-content h-padding-vert-xl">
						
	
	
						
						<div class="js-post__content-text OLD__post-content-text restore" itemprop="text">
							
							Hi Jonnio,<br />
<br />
That's what I don't understand. As far as I can see I don't have any interfaces or AOP set up. MdbQueryMessageBean is just a class as seen below.<br />
<br />
I have another almost identical message consumer that is configured in the same way as far as I can see and works perfectly fine. So not sure where I'm going amiss....<br />
<br />
Thanks for your reply,<br />
<br />
Mon<br />
<br />

	
	
	

<div class="bbcode_container">
	<div class="bbcode_description">Code:</div>
	<pre class="bbcode_code" style="height:228px;">@Transactional
public class MdbQueryMessageBean {
    
    @PersistenceContext() private EntityManager em;    
    public void setEntityManager( EntityManager em ){
        this.em = em;
    }
   
    public boolean runMdbQuery( String msg ) {
        //[snip]
        log.debug( &quot;I'm runMdbQuery &quot; + msg );
        return true;
    }
}</pre>
</div>
						</div>
					</div>
	
	<!-- REPLY -->
				<!--/vb:if-->
	<!-- /REPLY -->





      
  </div> 


	
	





		
			
				
				
				
			
			
<div class="b-post__footer h-hide--on-preview h-clear h-padding-bottom-m">

	<div class="h-clearfix">
	

		
			<hr class="b-divider b-divider--post-controls" />
		

		<ul class="h-left js-post-info">

			
			

			

			
		</ul>

		<ul class="h-margin-top-m h-right js-post-controls" data-node-id="436171">
			

			

			

			

				

					

				

			

			

			

			

			

			

			

			

			
				

			

		</ul>
	</div>
</div>


			<div class="b-comment-entry js-comment-entry h-padding-xxl h-padding-top-xl  comment-entry-box h-hide ">
				<h2 class="h-margin-bottom-xl OLD__comment-entry-box-header">Comment</h2>
				<textarea class="b-comment-entry__textbox js-comment-entry__textbox autogrow" placeholder="Type your comment here"></textarea>

				<div class="b-button-group h-margin-top-xl h-text--right">
					<button type="button" id="btnPostCommentCancel-436171" class="b-button js-comment-entry__cancel">Cancel</button>
					<button type="button" id="btnPostComment-436171" class="b-button b-button--primary js-comment-entry__post">Post</button>
				</div>
			</div>

			<div class="edit-conversation-container"></div>

			



<div class="b-comments js-comments h-margin-bottom-xl h-clearfix h-hide">
	
		
	
	
		
	
	
		
	
	
		
	

	
	
	
	
	
	

	
	

	
		<div class="b-comments__header js-comments__header OLD__top b-media h-padding-vert-m h-padding-horiz-l h-hide">
			<div class="js-comments__total OLD__comment-total h-margin-left-l OLD__h-left b-media__body">
				<span class="b-icon b-icon__speech-single h-margin-right-s"></span>
				<label class="js-comments__total-text h-align-top"></label>
			</div>
			<div class="b-media__img--rev js-comments__pagination h-hide">
				<label></label>
				<span class="b-comments__pagination--up js-comments__page--prev h-margin-left-s OLD__icon" title="See previous comments"><span class="b-icon b-icon__arrow-up-m--default"></span></span>
			</div>
		</div>
		<ul class="b-comments__comments js-comments__comments h-left"></ul>
		<div class="b-comments__footer js-comments__footer b-media OLD__bottom h-padding-vert-m h-padding-horiz-l h-clear h-hide">
			<div class="b-media__img--rev js-comments__pagination">
				<label></label>
				<span class="b-comments__pagination--down js-comments__page--next h-margin-left-s OLD__icon" title="See next comments"><span class="b-icon b-icon__arrow-down-m--default"></span></span>
			</div>
		</div>
	
</div>
		


      </div>
    </div>  
  </div>    
</li><!-- /end .b-post -->

									
								
								
							
								
									
									
								
								
									<!-- Conversation Replies or Comments -->
									
									
									
										
									

									
										









	
	










	









<li data-node-id="436238" class="b-post js-post js-comment-entry__parent h-restore--on-preview b-post--text  OLD__list-item OLD__list-item-text OLD__conversation-reply js-conversation-reply h-left h-clear js-slideshow__gallery-node js-poll__parent" itemscope itemtype="http://schema.org/Comment">
	<a id="post436238" class="anchor"></a>
	
		

		
		

		

		
		
		<meta  itemprop="url" content="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean" />
	


	<a id="post" class="anchor"></a>

	<div class="l-row l-row__fixed--left">
		<div class="l-col__fixed-3 l-col__small--full h-hide--on-preview h-padding-right-l">
			


<div class="userinfo b-userinfo b-post__hide-when-deleted" itemprop="author" itemscope itemtype="http://schema.org/Person">
	
		
			<a href="http://forum.spring.io/member/48745-mon" class="b-avatar b-avatar--m b-avatar--thread h-margin-bottom-l"><img src="http://forum.spring.io/core/images/default/default_avatar_medium.png" width="64" height="64" alt="mon" title="mon" /></a>
		
	

	<!-- responsive alteration: Added userinfo-details wrapper in order to
	support left floated avatar with all other information on the right. -->
	
	<div class="b-userinfo__details">
		
		<div class="author h-text-size--14"><strong><a href="http://forum.spring.io/member/48745-mon" >mon</a></strong></div>
		
			<div class="usertitle">
			
				Junior Member
			
			</div>
		
		

		<div class="b-meter h-margin-top-m " title="is on a distinguished road">
			
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
				<div class="b-meter__bar"></div>
				<div class="b-meter__bar"></div>
			
		</div>
		
		<div class="b-userinfo__rank h-margin-top-s h-hide"></div>
		
		<ul class="b-userinfo__additional-info-block h-margin-top-xl">
			
				<li class="b-userinfo__additional-info"><label>Join Date:</label> <span>Feb 2009</span></li>
				<li class="b-userinfo__additional-info"><label>Posts:</label> <span>3</span></li>
				
			
			
		</ul>
		<ul class="b-userinfo__icons h-margin-none OLD__userinfo-extra OLD__icons">
			
				
			
			<li class="b-userinfo__icon h-left OLD__online-status online" title="mon is online now"><span class="b-icon b-icon__status--green"></span></li>

			
	

		</ul>
	</div>
</div>
		</div>

		<div class="js-post__content-wrapper l-col__flex-3 l-col__small--full h-restore--on-preview OLD__list-item-body-wrapper">
			<div class="b-post__body h-restore--on-preview h-padding-horiz-xxl h-padding-top-xl h-padding-bottom-m h-clearfix">
				<div class="b-post__arrow b-post__hide-when-deleted OLD__pointer-left"></div>
	
	
				
	
	
	
	<!-- REPLY -->
			<!--vb:if condition="!$conversation['unpublishdate'] OR $canPhysicallyDeletePost"-->
	<!-- /REPLY -->
	
				<div class="b-post__content js-post__content b-post__hide-when-deleted">
					<hr class="b-divider--section OLD__section-divider" />
					
					<div class="b-media h-hide--on-preview">
						<div class="b-media__img--rev">
						
							
								
							
	
							
							
							
							
							
	
							
								<a class="b-post__count" href="http://forum.spring.io/forum/spring-projects/container/58922-getting-proxy-class-instead-of-class-for-a-message-consumer-bean?p=436238#post436238">#4</a>
							
	
							
	
	
						</div>
						<div class="b-media__body">
							
	
	
							
							
							<div class="b-post__timestamp OLD__post-date"><time itemprop="dateCreated" datetime="2009-02-05T02:49:11">Feb 5th, 2009, 05:49 AM</time></div>
	
						</div>
					</div>
	
					<div class="OLD__post-content h-padding-vert-xl">
						
	
	
						
						<div class="js-post__content-text OLD__post-content-text restore" itemprop="text">
							
							Sorted!<br />
<br />
Hi!<br />
<br />
It turned out that the consumer bean needed to implement an interface for the unit tests to work, though it is not needed for the application itself to work.<br />
Just something like this does it:<br />
<br />

	
	
	

<div class="bbcode_container">
	<div class="bbcode_description">Code:</div>
	<pre class="bbcode_code" style="height:102px;">public interface MdbQueryService {
    boolean runMdbQuery( MdbMessage msg );
}

public class MdbQueryMessageBean implements MdbQueryService{}</pre>
</div>Hope it helps someone else with the same issue!<br />
<br />
Mon
						</div>
					</div>
	
	<!-- REPLY -->
				<!--/vb:if-->
	<!-- /REPLY -->





      
  </div> 


	
	





		
			
				
				
				
			
			
<div class="b-post__footer h-hide--on-preview h-clear h-padding-bottom-m">

	<div class="h-clearfix">
	

		
			<hr class="b-divider b-divider--post-controls" />
		

		<ul class="h-left js-post-info">

			
			

			

			
		</ul>

		<ul class="h-margin-top-m h-right js-post-controls" data-node-id="436238">
			

			

			

			

				

					

				

			

			

			

			

			

			

			

			

			
				

			

		</ul>
	</div>
</div>


			<div class="b-comment-entry js-comment-entry h-padding-xxl h-padding-top-xl  comment-entry-box h-hide ">
				<h2 class="h-margin-bottom-xl OLD__comment-entry-box-header">Comment</h2>
				<textarea class="b-comment-entry__textbox js-comment-entry__textbox autogrow" placeholder="Type your comment here"></textarea>

				<div class="b-button-group h-margin-top-xl h-text--right">
					<button type="button" id="btnPostCommentCancel-436238" class="b-button js-comment-entry__cancel">Cancel</button>
					<button type="button" id="btnPostComment-436238" class="b-button b-button--primary js-comment-entry__post">Post</button>
				</div>
			</div>

			<div class="edit-conversation-container"></div>

			



<div class="b-comments js-comments h-margin-bottom-xl h-clearfix h-hide">
	
		
	
	
		
	
	
		
	
	
		
	

	
	
	
	
	
	

	
	

	
		<div class="b-comments__header js-comments__header OLD__top b-media h-padding-vert-m h-padding-horiz-l h-hide">
			<div class="js-comments__total OLD__comment-total h-margin-left-l OLD__h-left b-media__body">
				<span class="b-icon b-icon__speech-single h-margin-right-s"></span>
				<label class="js-comments__total-text h-align-top"></label>
			</div>
			<div class="b-media__img--rev js-comments__pagination h-hide">
				<label></label>
				<span class="b-comments__pagination--up js-comments__page--prev h-margin-left-s OLD__icon" title="See previous comments"><span class="b-icon b-icon__arrow-up-m--default"></span></span>
			</div>
		</div>
		<ul class="b-comments__comments js-comments__comments h-left"></ul>
		<div class="b-comments__footer js-comments__footer b-media OLD__bottom h-padding-vert-m h-padding-horiz-l h-clear h-hide">
			<div class="b-media__img--rev js-comments__pagination">
				<label></label>
				<span class="b-comments__pagination--down js-comments__page--next h-margin-left-s OLD__icon" title="See next comments"><span class="b-icon b-icon__arrow-down-m--default"></span></span>
			</div>
		</div>
	
</div>
		


      </div>
    </div>  
  </div>    
</li><!-- /end .b-post -->

									
								
								
							
						</ul>
					</div>
				</div>
				
					<hr class="footer-spacer" />
					

<div class="pagenav-container noselect h-hide">
    <div class="pagenav h-right">
		
        
		
        
    </div>
</div>
				

				
			</div>
		
		
	</div>
	<script type="text/javascript">
	(function(){
	
		window.vBulletin = window.vBulletin || {};
		vBulletin.widget = vBulletin.widget || {};
		vBulletin.conversation = vBulletin.conversation || {};
	
		vBulletin.conversation.COMMENTS_PER_PAGE = Number('') || 25;
		vBulletin.conversation.POSTS_PER_PAGE = Number('15') || 15;
	})();
	</script>



			
		</div>
	</div>

	<!-- section 3 -->
	<div class="canvas-layout-row no-columns h-clearfix l-row">
		
		<div class="canvas-widget-list section-3 h-clearfix l-col__large-12 l-col__small--full">
			
		</div>
	</div>

	<input type="hidden" name="displaysections[0]" />
	<input type="hidden" name="displaysections[1]" />
	<input type="hidden" name="displaysections[2]" />
	<input type="hidden" name="displaysections[3]" />
</div>

</div>
	<div class="h-clear"></div>
</div>


<!--
	<div id="footer">
		
		
		<div id="footer-tabbar" class="h-clearfix">
			
			
			<ul class="chooser-list h-left">
				
					<li>
						<select class="stylechooser custom-dropdown">
							
								<option value="9" selected="selected"> Default vB5 Style</option>
							
								<option value="1"> Default Style(vB3 Style - Incompatible)</option>
							
								<option value="2">- Spring(vB3 Style - Incompatible)</option>
							
								<option value="3"> vB4 Default Style (vB4 Style - Incompatible)</option>
							
								<option value="4">- Spring (vB4 Style - Incompatible)</option>
							
								<option value="5">- Spring_style (vB4 Style - Incompatible)</option>
							
								<option value="6"> Spring11 (vB4 Style - Incompatible)</option>
							
								<option value="7"> Spring11-Gray (vB4 Style - Incompatible)</option>
							
						</select>
					</li>
				
				
				
				
				<li class="rx-list-to-select">
				<select>
					<option value="">Go to...</option>
					
						
						
						
						
						
						
						
						
						
						
						!-- if NOT admincp, add option to select --
						
							<option value="http://forum.spring.io/help"
							
							>Help</option>
						
						
					
						
						
						
						
						
						
						
						
						
						
						!-- if NOT admincp, add option to select --
						
							<option value="http://forum.spring.io/contact-us"
							
							>Contact Us</option>
						
						
					
				</select>
				</li>
			</ul>
			<ul class="nav-list h-right">
				
				
					
					
					
						
						
					
					
					
					
					
					
					
					
					
					
					
						<li class="">
					
					<a rel="nofollow" href="http://forum.spring.io/help">Help</a></li>
				
					
					
					
						
						
					
					
					
					
					
					
					
					
					
					
					
						<li class="">
					
					<a rel="nofollow" href="http://forum.spring.io/contact-us">Contact Us</a></li>
				
			</ul>	
		</div>
		
	</div>
-->
</div>

<!--
<div id="footer-copyright">
	<div id="footer-vb-copyright">Powered by <a href="https://www.vbulletin.com" id="vbulletinlink">vBulletin&trade;</a> Version 5.0.4 <br />Copyright &copy; 2013 vBulletin Solutions, Inc. All rights reserved. </div>
	<div id="footer-user-copyright"></div>
</div>
-->

</div>

<!-- ### -->
  <footer class="spring-footer--wrapper">
    <div class="spring-container-fluid">
      <div class="row-fluid">
        <div class="span8">
          <div class="navbar">
            <div class="container">
              <ul class="nav">
<!--                <li><a href="http://spring.io/about">About</a></li> -->
                <li><a href="http://spring.io/team">Team</a></li>
                <li><a href="http://spring.io/services">Services</a></li>
                <li><a href="http://spring.io/tools">Tools</a></li>
              </ul>
            </div>
          </div>
          <div class="footer-company-info">
            &copy; <script type="text/javascript"> var d = new Date();
                  document.write(d.getFullYear());</script> 
<a href="http://www.gopivotal.com/">Pivotal Software</a>, Inc. All Rights Reserved.
            <a href="http://www.gopivotal.com/terms-of-use">Terms of Use</a> and
            <a href="http://www.gopivotal.com/privacy-policy">Privacy</a>
          </div>
        </div>
        <div class="span4 footer-newsletter--wrapper pull-right">
          <div class="footer-newsletter--container">
           <label>Subscribe to our newsletter</label>
<iframe width="324px" scrolling="no" height="42px" frameborder="0" style="border:none" src="http://play.gopivotal.com/OSS_Website_Spring_SpringNewsletterSubscriptionEmailOnly.html"></iframe>
          </div>
        </div>
      </div>
    </div>
  </footer>
<!-- /### -->

<div id="loading-indicator" class="js-loading-indicator b-ajax-loading-indicator h-hide">
	<span>Working...</span>
</div>
<div id="confirm-dialog" class="sb-dialog">
	<div class="dialog-content h-clearfix">
		<div class="icon h-left"></div>
		<div class="message h-right"></div>
	</div>
	<div class="action-buttons h-clear">
		<button id="btnConfirmDialogYes" type="button" class="button secondary">Yes</button>
		<button id="btnConfirmDialogNo" type="button" class="button primary">No</button>
	</div>
</div>
<div id="alert-dialog" class="sb-dialog">
	<div class="dialog-content h-clearfix">
		<div class="icon h-left"></div>
		<div class="message h-right"></div>
	</div>
	<div class="action-buttons h-clear">
		<button id="btnAlertDialogOK" type="button" class="button primary">OK</button>
	</div>
</div>
<div id="prompt-dialog" class="sb-dialog">
	<div class="dialog-content table h-clearfix">
		<div class="message td"></div>
		<div class="input-box-container td">
			<input type="text" class="input-box textbox" />
			<textarea class="input-box textbox h-hide" rows="3"></textarea>
		</div>
	</div>
	<div class="action-buttons h-clear">
		<button id="btnPromptDialogOK" type="button" class="button primary">OK</button>
		<button id="btnPromptDialogCancel" type="button" class="button secondary">Cancel</button>
	</div>
</div>
<div id="slideshow-dialog" class="sb-dialog slideshow">
	<div class="slideshow-wrapper"><div class="vb-icon vb-icon-x-square close-btn">X</div></div>
	<div class="caption"></div>
	<div class="thumbnails"></div>
	
</div>

<div class="unsubscribe-overlay-container"></div>






<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="http://forum.spring.io/js/jquery/jquery-1.7.2.min.js"><\/script>');</script>

<script type="text/javascript" src="http://forum.spring.io/js/footer-rollup-504.js"></script>


	



    <!-- Begin Google Analytics code --> 
    <script>
        var _gaq = _gaq || [];
        var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
        _gaq.push(
            ['_require', 'inpage_linkid', pluginUrl],
            ['_setAccount', 'UA-2728886-21'],
            ['_trackPageview'],
            ['b._require', 'inpage_linkid', pluginUrl],
            ['b._setAccount', 'UA-2728886-19'],
            ['b._trackPageview']
        );
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>  	<!-- End Google Analytics code -->

<script type="text/javascript" src="http://forum.spring.io/js/conversation.js?v=504"></script>
</body>
</html>
