<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<style type="text/css">
@import url( /templates/default/mobile/styles/mobile.css?1386831159603 ) ;
</style>

<meta name="viewport" content="width = 320" />

<title> using superCSV to read data: Getting java.lang.NoSuchMethodException (I/O and Streams forum at JavaRanch)</title>
<link rel="canonical" href="http://www.coderanch.com/t/591251//java/superCSV-read-data-java-lang"/>
<link rel="alternate" media="handheld" href="http://www.coderanch.com/mobile/t/591251//java/superCSV-read-data-java-lang?foo=a">
</head>
<body class="en_US">

<a name="top"></a>
<table cellspacing="0" cellpadding="0" border="0">
    <tr>
        <td align="center">
                <a href="/forums/list"><img
                src="/templates/default/mobile/images/mobile-moose.gif"
                vspace="1" border="0" alt="[Logo]" width="100" height="100" /></a>
		</td>
        <td class="logo" valign="center">
          A friendly place for programming greenhorns!
        <a href="#bottom"><img src="/templates/default/mobile/images/down_arrow.gif" width="10" height="10" alt="Jump to bottom of page" /></a>
        </td>
    </tr>
</table>

<p>
  <a id="register" class="mainmenu" href="/forums/user/insert">Register</a> /
  <a id="login" class="mainmenu" href="/forums/user/login">Login</a>
</p>
<a class="maintitle" href="http://www.coderanch.com/forums">Java Forums</a>



&raquo; <a class="maintitle" href="/forums/c/1/java">Java</a> &raquo;
<a class="maintitle" href="/forums/f-38/">I/O and Streams</a>
<div class="subject"> using superCSV to read data: Getting "java.lang.NoSuchMethodException"</div>


  
  <div class="mobilePostBody">
  

  Post by: Nimu Chox, Greenhorn<br />
  on <span class="lastPostTime">Aug 30, 2012 07:02:23</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Hello,
<br /> 
<br /> Any help is really appreciated
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">

java.lang.NoSuchMethodException: components.ServerBean.setWarehouse ID(java.lang.String)
	at java.lang.Class.getMethod(Class.java:1605)
	at org.supercsv.util.MethodCache.inspectClassForSetMethods(Unknown Source)
	at org.supercsv.util.MethodCache.getSetMethod(Unknown Source)
	at org.supercsv.io.CsvBeanReader.fillObject(Unknown Source)
	at org.supercsv.io.CsvBeanReader.read(Unknown Source)
	at business.ReadCsvFile.main(ReadCsvFile.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)
Exception in thread "main" components.ServerBean.setWarehouse ID(java.lang.String)
Can't find method 'setWarehouse ID(class java.lang.String)' in class 'components.ServerBean'. Is the name correctly spelled in the NameMapping? Have you forgot to convert
the data so that a wrong set method is called? context: null offending processor: null
	at org.supercsv.util.MethodCache.throwException(Unknown Source)
	at org.supercsv.util.MethodCache.inspectClassForSetMethods(Unknown Source)
	at org.supercsv.util.MethodCache.getSetMethod(Unknown Source)
	at org.supercsv.io.CsvBeanReader.fillObject(Unknown Source)
	at org.supercsv.io.CsvBeanReader.read(Unknown Source)
	at business.ReadCsvFile.main(ReadCsvFile.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)
Caused by: java.lang.NoSuchMethodException: components.ServerBean.setWarehouse ID(java.lang.String)
	at java.lang.Class.getMethod(Class.java:1605)
	... 10 more

Process finished with exit code 1



</textarea>
<br /> CSV file:
<br /> 
<br /> Warehouse ID,Manufacturer,Model,Processor,Memory,PCI buses,PCI-X busses,PCI-express busses
<br /> 4611,HP,Proliant DL380,x86 Xeon,1G,1,3,0
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">

BeanClass:
package components;

/**
 * Created by IntelliJ IDEA.
 * To change this template use File | Settings | File Templates.
 */
public class ServerBean {
    private int warehouseID;
    String manufacturer;
    String model;
    String processor;
    String memory;
    int numOfPciBus;
    int numOfPciXBus;
    int numOfPCIExprBus;

    public int getWarehouseID() {
        return warehouseID;
    }

    public String getManufacturer() {
        return manufacturer;
    }

    public String getModel() {
        return model;
    }

    public String getProcessor() {
        return processor;
    }

    public String getMemory() {
        return memory;
    }

    public int getNumOfPciBus() {
        return numOfPciBus;
    }

    public int getNumOfPciXBus() {
        return numOfPciXBus;
    }

    public int getNumOfPCIExprBus() {
        return numOfPCIExprBus;
    }

    public void setWarehouseID(int warehouseID) {
        this.warehouseID = warehouseID;
    }

    public void setManufacturer(String manufacturer) {
        this.manufacturer = manufacturer;
    }

    public void setModel(String model) {
        this.model = model;
    }

    public void setProcessor(String processor) {
        this.processor = processor;
    }

    public void setMemory(String memory) {
        this.memory = memory;
    }

    public void setNumOfPciBus(int numOfPciBus) {
        this.numOfPciBus = numOfPciBus;
    }

    public void setNumOfPciXBus(int numOfPciXBus) {
        this.numOfPciXBus = numOfPciXBus;
    }

    public void setNumOfPCIExprBus(int numOfPCIExprBus) {
        this.numOfPCIExprBus = numOfPCIExprBus;
    }
}

</textarea>
<br /> 
<br /> Main class:
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">
import java.io.FileReader;
import java.io.IOException;

import components.ServerBean;
import org.supercsv.cellprocessor.Optional;
import org.supercsv.cellprocessor.ParseDate;
import org.supercsv.cellprocessor.ParseInt;
import org.supercsv.cellprocessor.constraint.StrMinMax;
import org.supercsv.cellprocessor.constraint.Unique;
import org.supercsv.cellprocessor.ift.CellProcessor;
import org.supercsv.io.CsvBeanReader;
import org.supercsv.io.ICsvBeanReader;
import org.supercsv.prefs.CsvPreference;

public class ReadCsvFile {


        public static void main(String[] args) throws Exception{
            ICsvBeanReader inFile = new CsvBeanReader(new FileReader("foos.csv"), CsvPreference.EXCEL_PREFERENCE);
            final CellProcessor[] processors = new CellProcessor[] {
                    null,
                    null,
                    null,
                    null,
                    null,
                    null,
                    null,
                    null,
            };

            try {
                final String[] header = inFile.getCSVHeader(true);
                ServerBean server;
                while( (server = inFile.read(ServerBean.class, header, processors)) != null) {
                    System.out.println(server.getModel());
                }
            } finally {
                inFile.close();
            }
        }
    }



</textarea>
<br /> [Rob]split long line[/]</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Rob Spoor, Sheriff<br />
  on <span class="lastPostTime">Aug 30, 2012 07:28:57</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">The method is <tt>setWarehouseID(int)</tt> but superCSV is trying to call <tt>setWarehouse ID(String)</tt> - with space and using int instead of String.</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Nimu Chox, Greenhorn<br />
  on <span class="lastPostTime">Aug 30, 2012 07:36:37</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Thanks for your reply. 
<br /> 
<br /> Why is SuperCSV bahaving that way?: I want is to see it setWarehouseID(int) . Please bear with me, I using this API today for the first time. I have tried to read it using New ParseInt();
<br /> 
<br /> Also I am wondering how can I read the files with headers consisting spaces i.e. "#Datawarehouse ID", "PCI bus" using the CSV reader;  I dont want to change the header names in my CSV files.
<br /> 
<br /> Please advice</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Rob Spoor, Sheriff<br />
  on <span class="lastPostTime">Aug 30, 2012 09:19:03</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">The second argument to the read method indicates the property names. This is the setter method without the set part, like WarehouseID. You pass the contents of the CSV file's first row, which includes Warehouse ID. You need to supply the actual property names instead, like WarehouseID, NumOfPciBus, etc.
<br /> 
<br /> The third argument indicates the CellProcessor instances to use for converting the Strings to something else. In your original code you had all null values, which meant no conversion. The ParseInt you mentioned will convert the Strings to ints instead.</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Nimu Chox, Greenhorn<br />
  on <span class="lastPostTime">Aug 30, 2012 09:30:53</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I changes the headers to match the variable names... but now I get this exception:
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">
Exception in thread "main" The value array (size 1)  must match the processors array (size 8): You are probably reading a CSV line with a 
different number of columns than the number of cellprocessors specified context: Line: 2 Column: 0 Raw line: 
[4611,HP,Proliant DL380,x86 Xeon,1G,1,3,0]
 offending processor: null
	at org.supercsv.util.Util.processStringList(Unknown Source)
	at org.supercsv.io.CsvBeanReader.read(Unknown Source)
	at business.ReadCsvFile.main(ReadCsvFile.java:45)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)

</textarea>
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">
package components;

/**
 * Created by IntelliJ IDEA.
 */
public class ServerBean {
    private int warehouseID;
    String manufacturer;
    String model;
    String processor;
    String memory;
    int numOfPciBus;
    int numOfPciXBus;
    int numOfPCIExprBus;

    public int getWarehouseID() {
        return warehouseID;
    }

    public String getManufacturer() {
        return manufacturer;
    }

    public String getModel() {
        return model;
    }

    public String getProcessor() {
        return processor;
    }

    public String getMemory() {
        return memory;
    }

    public int getNumOfPciBus() {
        return numOfPciBus;
    }

    public int getNumOfPciXBus() {
        return numOfPciXBus;
    }

    public int getNumOfPCIExprBus() {
        return numOfPCIExprBus;
    }

    public void setWarehouseID(int warehouseID) {
        this.warehouseID = warehouseID;
    }

    public void setManufacturer(String manufacturer) {
        this.manufacturer = manufacturer;
    }

    public void setModel(String model) {
        this.model = model;
    }

    public void setProcessor(String processor) {
        this.processor = processor;
    }

    public void setMemory(String memory) {
        this.memory = memory;
    }

    public void setNumOfPciBus(int numOfPciBus) {
        this.numOfPciBus = numOfPciBus;
    }

    public void setNumOfPciXBus(int numOfPciXBus) {
        this.numOfPciXBus = numOfPciXBus;
    }

    public void setNumOfPCIExprBus(int numOfPCIExprBus) {
        this.numOfPCIExprBus = numOfPCIExprBus;
    }
}
[code\=java]

main
[code=java]
import java.io.FileReader;
import java.io.IOException;

import components.ServerBean;
import org.supercsv.cellprocessor.Optional;
import org.supercsv.cellprocessor.ParseDate;
import org.supercsv.cellprocessor.ParseInt;
import org.supercsv.cellprocessor.constraint.StrMinMax;
import org.supercsv.cellprocessor.constraint.Unique;
import org.supercsv.cellprocessor.ift.CellProcessor;
import org.supercsv.io.CsvBeanReader;
import org.supercsv.io.ICsvBeanReader;
import org.supercsv.prefs.CsvPreference;

public class ReadCsvFile {


        public static void main(String[] args) throws Exception{
            ICsvBeanReader inFile = new CsvBeanReader(new FileReader("foo.csv"), CsvPreference.EXCEL_NORTH_EUROPE_PREFERENCE);
            final CellProcessor[] processors = new CellProcessor[] {
                    null,
                    null,
                    null,
                    null,
                    null,
                    null,
                    null,
                    null,
            };

            try {
                final String[] header = inFile.getCSVHeader(true);
                ServerBean server;

                while( (server = inFile.read(ServerBean.class, header, processors)) != null) {

                    System.out.println(server.getModel());


                }
            } finally {
                inFile.close();
            }
        }
    }


</textarea>
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10"></textarea>[Rob]split long line of code[/]</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Rob Spoor, Sheriff<br />
  on <span class="lastPostTime">Aug 30, 2012 10:55:38</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">You provide 8 CellProcessors. Does your CSV file also have 8 columns?</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Nimu Chox, Greenhorn<br />
  on <span class="lastPostTime">Aug 30, 2012 11:02:41</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Yes, My Csv file has 8comlumn 
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">
warehouseID,manufacturer,model,processor,memory,numOfPciBus,numOfPciXBus,numOfPCIExprBus
4611,HP,Proliant DL380,x86 Xeon,1G,1,3,0
4309,IBM,x3755,x86 Opteron,32G,0,0,4

</textarea>
<br /> </span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Rob Spoor, Sheriff<br />
  on <span class="lastPostTime">Aug 30, 2012 13:02:52</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I see the problem. The CsvPreference you use does not use commas as column separators but semicolons. As a result, SuperCSV sees your 8 columns as only 1. Try one of the other CsvPreference constants, or create one yourself.</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Nimu Chox, Greenhorn<br />
  on <span class="lastPostTime">Aug 31, 2012 02:44:52</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I changed my own :  CsvPreference pref = new CsvPreference('"', ',', "\n");
<br />  and also I tried this one:  CVS prefence to EXCEL_PREFERENCE, 
<br /> 
<br /> but I still get this exception:
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">

Exception in thread "main" The value array (size 1)  must match the processors array (size 8): You are probably reading a CSV line with a different number of columns than the number of cellprocessors specified context: Line: 2 Column: 0 Raw line:
[4611,HP,Proliant DL380,x86 Xeon,1G,1,3,0]
 offending processor: null
	at org.supercsv.util.Util.processStringList(Unknown Source)
	at org.supercsv.io.CsvBeanReader.read(Unknown Source)
	at business.ReadCsvFile.main(ReadCsvFile.java:45)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)

Process finished with exit code 1

</textarea></span>
    </div>
 <br />



<br />


               <input type="button" value="Reply" onclick="location.href='/forums/posts/reply/0/591251'" />
	

    <input type="button" value="New Topic" onclick="location.href='/jforum?module=posts&amp;action=insert&amp;forum_id=38'" />






<br /><br />


<br />

<div class="gensmall center">
All times above are in ranch (not your local) time.<br />
The current ranch time is <br />
<span class="mobileLabel">Dec 13, 2013 16:49:05</span>.
</div>
<br />
<div>
  <a id="search" href="/forums/search/filters/38"><span class="mobileLabel">Search</span></a>
  |
<a href="/forums/recentTopics/list"><span class="mobileLabel">Recent Topics</span></a>
</div>

 <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ?  "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
 <script type="text/javascript">
    if (typeof _gat !== "undefined") {
        var pageTracker = _gat._getTracker("UA-2371260-2");
        pageTracker._trackPageview();

        dt = new Date();
        pageTracker._setVar("hour: " + dt.getHours());
    }
</script>

<br />
<div>Copyright &copy; 1998-2013 <a href="http://www.javaranch.com/paul-wheaton.jsp">Paul Wheaton</a></div>
<br />
<a name="bottom"></a>
<a href="#top"><img src="/templates/default/mobile/images/up_arrow.gif" width="10" height="10" alt="Jump to top of page" /></a>
<br />
<a href="http://www.coderanch.com/t/591251//java/superCSV-read-data-java-lang?nonMobile=true">Or visit our non-mobile (full) site</a>
</body>
</html>
