<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<link rel="stylesheet" type="text/css" href="http://bugs.yacy.net/css/default.css" />
	<script type="text/javascript"><!--
		if(document.layers) {document.write("<style>td{padding:0px;}<\/style>")}
	// --></script>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Cache-Control" content="no-cache" />
	<meta http-equiv="Pragma-directive" content="no-cache" />
	<meta http-equiv="Cache-Directive" content="no-cache" />
	<meta http-equiv="Expires" content="Fri, 13 Dec 2013 23:40:25 GMT" />
	<link rel="shortcut icon" href="/images/yfavicon.ico" type="image/x-icon" />
	<link rel="search" type="application/opensearchdescription+xml" title="MantisBT: Text Search" href="http://bugs.yacy.net/browser_search_plugin.php?type=text" />	<link rel="search" type="application/opensearchdescription+xml" title="MantisBT: Issue Id" href="http://bugs.yacy.net/browser_search_plugin.php?type=id" />	<title>0000276: InterruptedException at shutdown by cleanup job - YaCy-Bugtracker</title>
<script type="text/javascript" src="/javascript/min/common.js"></script>
<script type="text/javascript">var loading_lang = "Loading...";</script><script type="text/javascript" src="/javascript/min/ajax.js"></script>
</head>
<body>
<div align="left"><a href="my_view_page.php?PHPSESSID=4048f24bec91ab12a460e183133c6c57"><img border="0" alt="YaCy-Bugtracker" src="/images/YaCyLogo.png" /></a></div><table class="hide"><tr><td class="login-info-left">Anonymous | <a href="/login_page.php?return=%2Fbug_revision_view_page.php%3Frev_id%3D233%26PHPSESSID%3D4048f24bec91ab12a460e183133c6c57&PHPSESSID=4048f24bec91ab12a460e183133c6c57">Login</a> | <a href="/signup_page.php?PHPSESSID=4048f24bec91ab12a460e183133c6c57">Signup for a new account</a></td><td class="login-info-middle"><span class="italic">2013-12-14 00:40 CET</span></td><td class="login-info-right">	<meta http-equiv="Refresh" content="0;URL=http://bugs.yacy.net/bug_revision_view_page.php?rev_id=233&amp;PHPSESSID=4048f24bec91ab12a460e183133c6c57" />
<a href="http://bugs.yacy.net/issues_rss.php?"><img src="/images/rss.png" alt="RSS" style="border-style: none; margin: 5px; vertical-align: middle;" /></a></td></tr></table><table class="width100" cellspacing="0"><tr><td class="menu"><a href="/main_page.php?PHPSESSID=4048f24bec91ab12a460e183133c6c57">Main</a> | <a href="/my_view_page.php?PHPSESSID=4048f24bec91ab12a460e183133c6c57">My View</a> | <a href="/view_all_bug_page.php?PHPSESSID=4048f24bec91ab12a460e183133c6c57">View Issues</a> | <a href="/changelog_page.php?PHPSESSID=4048f24bec91ab12a460e183133c6c57">Change Log</a> | <a href="/roadmap_page.php?PHPSESSID=4048f24bec91ab12a460e183133c6c57">Roadmap</a></td><td class="menu right nowrap"><form method="post" action="/jump_to_bug.php"><input type="hidden" name="PHPSESSID" value="4048f24bec91ab12a460e183133c6c57" /><input type="text" name="bug_id" size="10" class="small" value="Issue #" onfocus="if (this.value == 'Issue #') this.value = ''" onblur="if (this.value == '') this.value = 'Issue #'" />&#160;<input type="submit" class="button-small" value="Jump" />&#160;</form></td></tr></table>
<br />
<table class="width100" cellspacing="1">

<tr>
<td class="form-title" colspan="2">View Revisions: Issue #276</td>
<td class="right" colspan="2">
<span class="bracket-link">[&#160;<a href="?bug_id=276&PHPSESSID=4048f24bec91ab12a460e183133c6c57">All Revisions</a>&#160;]</span> <span class="bracket-link">[&#160;<a href="view.php?id=276&PHPSESSID=4048f24bec91ab12a460e183133c6c57">Back to Issue</a>&#160;]</span> </td>
</tr>

<tr class="row-1">
<td class="category" width="15%">Summary</td>
<td colspan="3">0000276: InterruptedException at shutdown by cleanup job</td>
</tr>

<tr class="spacer"><td><a name="r233"></a></td></tr>

<tr class="row-2">
<td class="category">Revision</td>
<td colspan="2">2013-07-28 19:34 by Quix0r</td>
<td class="center" width="5%">
</tr>

<tr class="row-1">
<td class="category">Description</td>
<td colspan="3">There are some InterruptedException in cleanup job on shutdown. See attached logfile for details.</td>
</tr>

	<tr class="spacer"><td><a name="r232"></a></td></tr>

<tr class="row-2">
<td class="category">Revision</td>
<td colspan="2">2013-07-28 19:28 by Quix0r</td>
<td class="center" width="5%">
</tr>

<tr class="row-1">
<td class="category">Description</td>
<td colspan="3">There are some InterruptedException in cleanup job on shutdown:<br />
<pre>W 2013/07/28 18:54:20 StackTrace null
java.lang.InterruptedException
    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    
at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
    
at java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:374)
    at net.yacy.search.index.Segment$ReferenceReport.&lt;init&gt;(Segment.java:317)
    at net.yacy.search.index.Segment$ReferenceReportCache.getReferenceReport(Segment.java:285)
    at net.yacy.search.schema.CollectionConfiguration$CRHost.convergenceStep(CollectionConfiguration.java:1114)
    
at net.yacy.search.schema.CollectionConfiguration.postprocessing(CollectionConfiguration.java:898)
    at net.yacy.search.Switchboard.cleanupJob(Switchboard.java:2300)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:606)
    at net.yacy.kelondro.workflow.InstantBusyThread.job(InstantBusyThread.java:107)
    at net.yacy.kelondro.workflow.AbstractBusyThread.run(AbstractBusyThread.java:165)</pre><br />
And:<br />
<pre>E 2013/07/28 19:12:10 org.apache.solr.update.UpdateHandler java.lang.InterruptedException
    at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:996)
    
at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)
    
at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:248)
    at java.util.concurrent.FutureTask.get(FutureTask.java:111)
    at org.apache.solr.update.DirectUpdateHandler2.commit(DirectUpdateHandler2.java:604)
    at org.apache.solr.update.processor.RunUpdateProcessor.processCommit(RunUpdateProcessorFactory.java:95)
    
at org.apache.solr.update.processor.UpdateRequestProcessor.processCommit(UpdateRequestProcessor.java:64)
    
at org.apache.solr.update.processor.DistributedUpdateProcessor.processCommit(DistributedUpdateProcessor.java:1109)
    
at org.apache.solr.handler.RequestHandlerUtils.handleCommit(RequestHandlerUtils.java:69)
    at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:68)
    
at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:135)
    at org.apache.solr.core.SolrCore.execute(SolrCore.java:1816)
    at org.apache.solr.client.solrj.embedded.EmbeddedSolrServer.request(EmbeddedSolrServer.java:150)
    
at org.apache.solr.client.solrj.request.AbstractUpdateRequest.process(AbstractUpdateRequest.java:117)
    
at org.apache.solr.client.solrj.SolrServer.commit(SolrServer.java:179)
    at net.yacy.cora.federate.solr.connector.SolrServerConnector.commit(SolrServerConnector.java:72)
    
at net.yacy.cora.federate.solr.connector.MirrorSolrConnector.commit(MirrorSolrConnector.java:92)
    at net.yacy.cora.federate.solr.connector.ConcurrentUpdateSolrConnector.commit(ConcurrentUpdateSolrConnector.java:241)
    
at net.yacy.search.index.Segment$ReferenceReport.&lt;init&gt;(Segment.java:313)
    at net.yacy.search.index.Segment$ReferenceReportCache.getReferenceReport(Segment.java:285)
    at net.yacy.search.schema.CollectionConfiguration$CRHost.convergenceStep(CollectionConfiguration.java:1114)
    
at net.yacy.search.schema.CollectionConfiguration.postprocessing(CollectionConfiguration.java:898)
    at net.yacy.search.Switchboard.cleanupJob(Switchboard.java:2297)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:606)
    at net.yacy.kelondro.workflow.InstantBusyThread.job(InstantBusyThread.java:107)
    at net.yacy.kelondro.workflow.AbstractBusyThread.run(AbstractBusyThread.java:165)</pre></td>
</tr>

	
</table>

	<br />
	<hr size="1" />
<table border="0" width="100%" cellspacing="0" cellpadding="0"><tr valign="top"><td>	<address>Copyright &copy; 2000 - 2013 MantisBT Team</address>
</td><td>
	<div align="right"><a href="http://www.mantisbt.org" title="Free Web Based Bug Tracker"><img src="/images/mantis_logo.png" width="145" height="50" alt="Powered by Mantis Bugtracker" border="0" /></a></div>
</td></tr></table>
</body>
</html>
