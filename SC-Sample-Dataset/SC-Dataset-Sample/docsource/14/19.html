<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
			<html>
				<head>
					<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
					<link rel="stylesheet" href="/nabble.pack.css?v=27" type="text/css" />
	<link rel="stylesheet" href="/template/NamlServlet.jtp?macro=site_style" type="text/css" />
					<script src="/util/jquery-1.7.2.pack.js" type="text/javascript"></script>
	<script src="/util/nabbledropdown-2.4.1.pack.js" type="text/javascript"></script>
	<script src="/template/NamlServlet.jtp?macro=javascript_library&amp;v=60" type="text/javascript"></script>
					<script type="text/javascript">
		var terms = Nabble.getSearchTerms();
		var hasTurnOff = false;
		Nabble.searchHighlight = function($elem) {
			if (terms != null && terms.length > 0) {
				$elem.each(function() {
					Nabble.highlightSearchTerms(terms, this);
				});
				if (Nabble.hasHighlightedTerms && !hasTurnOff) {
					var turnOffLink = '<span id="turn-off-highlight-control"><span class="highlight">&nbsp;X&nbsp;</span> ';
					turnOffLink += '<a href="javascript:void(0)" onclick="Nabble.turnOffHighlight()">Turn off highlighting</a></span>';
					$('#topics-controls-right').prepend(turnOffLink);
					hasTurnOff = true;
				}
			}
		};
		Nabble.turnOffHighlight = function() {
			Nabble.deleteCookie("query");
			Nabble.deleteCookie("searchuser");
			Nabble.deleteCookie("searchterms");
			$('span.search-highlight').removeClass('bold highlight');
			$('#turn-off-highlight-control').hide();
		};
	</script>
	<script type="text/javascript">
		Nabble.messageTextWidth();
	</script>
			<script type="text/javascript"> $(document).ready(function() { Nabble.searchHighlight($('h2.post-subject,div.message-text')); }); </script> <script type="text/javascript"> var _hash = Nabble.hash(); if (_hash) { (function(){ var post = _hash.substr(2); var allPosts = [3277483, 3278275]; var allURLs = ["/Neo4j-Neo4j-High-Availability-td3277483.html"]; var iPost = allPosts.indexOf(parseInt(post)); var lower = 0; var upper = lower + 20; if (iPost != -1 && (iPost < lower || iPost >= upper)) location.replace(allURLs[Math.floor(iPost/20)]+_hash); })(); } $(document).ready(function() { var rootId = '3277483'; var currentPostId = rootId; var isChangingViews = _hash == '#none'; if (_hash && !isChangingViews) currentPostId = _hash.substr(2); Nabble.hideQuotes(); function scrollToSelectedPost() { var $arrow = $('#red-arrow'+currentPostId).show(); if ($arrow.size() > 0) { var isRootPost = currentPostId == rootId; if (Nabble.isEmbedded) { if (Nabble.canScroll()) scrollTo(0, 0); var y = isChangingViews? null : isRootPost? 1 : $arrow.parents('div.classic-row').offset().top; Nabble.resizeFrames('', y); } else if (Nabble.canScroll() && !isRootPost) { var yPos = $arrow.offset().top; scrollTo(0,yPos-20); } } else { if (Nabble.isEmbedded && Nabble.canScroll()) { Nabble.resizeFrames('', 1); } else { var tb = $('div.top-bar').get(0); if (tb) tb.scrollIntoView(); } } }; $(window).load(scrollToSelectedPost); if (Nabble.isEmbedded) { $('div.message-text img').load(Nabble.resizeFrames); } }); </script> <style type="text/css"> div.classic-header { height:2.2em; clear:both; overflow:hidden; } div.classic-author-name { float:left; width: 140px; overflow: hidden; text-align:center; font-weight:bold; } div.classic-subject-line { left:.5em; overflow:hidden; height:1.3em; position:relative; } div.classic-right-menu { float:right; padding-left:1em; } div.classic-bar { padding:.5em .3em; clear:both; height:1.8em; } table.classic-body { border-collapse:collapse; margin-bottom:1em; table-layout: fixed; width:100%; } td.classic-author { vertical-align: top; text-align:center; width:140px; padding-bottom:1em; } td.classic-message { vertical-align:top; padding:1em; } div.message-text { cursor:text; overflow-x:auto; } div.avatar-inner { margin-left:20px; } div.avatar-outer { width:140px; text-align:left; } div.avatar-label { white-space:nowrap; font-size:80%; } </style>

	<title>Neo4j Community Discussions - [Neo4j] Neo4j High Availability</title>
			<META NAME="description" CONTENT="[Neo4j] Neo4j High Availability. Hi, I am trying to configure Neo4J High availability. But I am getting some exceptions. The following are the configuration details. We have 3 Linux servers (Amazon..."/>
			<META NAME="keywords" CONTENT="neo4j, high, availability, trying, configure, getting, some, exceptions, following, configuration, details, we, have, 3, linux, servers, amazon, cloud, instances, each, one, has, community, discussions"/>
			<style type="text/css">
			#search-box-dropdown {
				text-align:left;
				position:absolute;
				display:none;
				z-index:1000;
				overflow:hidden;
			}
		</style>
		<script type="text/javascript">
			$(document).ready(function() {
				var $sdd = $('#search-box-dropdown');
				var $sb = $('#search-input');
				var $form = $sb.parent();
				var timeout;
				$(document).click(function(o){
					var $target = $(o.target);
					if ($target.parents().hasClass('search-box-dropdown')) {
						clearTimeout(timeout);
						$sb.focus();
					}
				});
				$sb.focusin(function(e) {
					$sdd.css('left', $sb.position().left - 5);
					$sdd.width($sb.outerWidth() + 10);
					$sdd.show();
				});
				$sb.focusout(function() {
					timeout = setTimeout(function() {
						$sdd.hide();
					},250);
				});
				$('input[type=radio]', $sdd).change(function() {
					var nodeId = $(this).val();
					$('input[name="node"]', $form).val(nodeId);
				});
				$('input[name="node"]', $form).val(438527);
			});
		</script><script type="text/javascript">
			Nabble.setView = function(view,url,post) {
				Nabble.setVar("tview",view);
				url += Nabble.getClientID(';');
				if (url.indexOf('#') == -1)
					url += '#none';
				location.replace(url);
			};
		</script><style type="text/css"> div.nabble-tooltip, div.nabble-tooltip * { color: #EEE; font-weight:bold; } div.nabble-tooltip { background: #000; font-size:90%; line-height:normal; display: none; position: absolute; z-index: 88888; padding: .5em; border: 1px solid #FFF; white-space:normal; -moz-border-radius: 3px; -webkit-border-radius: 3px; border-radius: 3px; } div.nabble-tooltip-small-row, div.nabble-tooltip-small-row * { color:#D0EAF2; } div.nabble-tooltip-small-row { font-size:80%; font-weight:normal; padding-top: .4em; } div.nabble-tooltip-arrow { font: 40px Arial, Sans-serif; line-height:1em; left:15px; position:absolute; bottom:-15px; height:15px; width:30px; overflow:hidden; } div.nabble-tooltip-arrow div { position:absolute; } div.nabble-tooltip-arrow div.d1 { top:-22px; color: #FFF; } div.nabble-tooltip-arrow div.d2 { top:-25px; color: #000; } </style> <script type="text/javascript"> Nabble.startTooltip = function(e, position, delay) { if (e.nabbletooltip) return; e.nabbletooltip = true; var $this = $(e); var $arrow = $this.children().last(); var $elem = $this.prev(); $elem.hover( function() { setTip(); setTimer(); }, function() { stopTimer(); $this.hide(); } ); function setTimer() { $this.showTipTimer = setTimeout(function() { $('div.nabble-tooltip').hide(); stopTimer(); $this.fadeTo('fast', .8); }, delay); }; function stopTimer() { clearInterval($this.showTipTimer); }; function setTip(){ if ($this.parent().get() != document.body) $(document.body).append($this); var useTitle = $this.attr('use_title') == 'true'; if (useTitle) { var title = $elem.attr('title'); if (title != '') { $arrow.remove(); $this.html(title); $elem.attr('title',''); $this.append($arrow); } } var win = $(window).width(); if (position == 'up') { var w = $this.outerWidth(); if (w > 250) { w = 250; $this.width(w); } var xMid = $elem.offset().left + $elem.outerWidth()/2; var xTip = xMid - w/2; if (xTip+w > win-5) xTip = win-w-5; if (xTip < 0) xTip = 0; var xArrow = xMid-xTip-11; var yTip = $elem.offset().top-$this.outerHeight()-12; $arrow.css('left', xArrow); $this.css({'top' : yTip, 'left' : xTip}); } else if (position == 'right') { var h = $this.outerHeight(); var yMid = $elem.offset().top + $elem.outerHeight()/2; var yTip = yMid - h/2; var xTip = $elem.offset().left + $elem.outerWidth() + 10; $arrow.width(8).height(24).css({bottom:0,left:-8}); var yArrow = (h - 24)/2; $arrow.css({top:yArrow}); var $d1 = $arrow.children().first(); var $d2 = $arrow.children().last(); $d1.css({top:-11}); $d2.css({top:-11,left:1}); $this.css({'top' : yTip, 'left' : xTip}); } }; }; </script><script type="text/javascript">
			Nabble.pinTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=pin_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#pin-icon').show();
					NabbleDropdown.show('unpinTopic');
					NabbleDropdown.hide('pinTopic');
					alert('This topic has been pinned.');
				});
			};
		</script><script type="text/javascript">
			Nabble.unpinTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=unpin_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#pin-icon').hide();
					NabbleDropdown.hide('unpinTopic');
					NabbleDropdown.show('pinTopic');
					alert('This topic has been unpinned.');
				});
			};
		</script><script type="text/javascript">
			Nabble.lockTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=lock_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#lock-icon').show();
					NabbleDropdown.show('unlockTopic');
					NabbleDropdown.hide('lockTopic');
					alert('This topic has been locked.');
				});
			};
		</script><script type="text/javascript">
			Nabble.unlockTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=unlock_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#lock-icon').hide();
					NabbleDropdown.hide('unlockTopic');
					NabbleDropdown.show('lockTopic');
					alert('This topic has been unlocked.');
				});
			};
		</script><script type="text/javascript">
		var starredImg = new Image();
		starredImg.src = "/images/icon_starred.png";
		var unstarredImg = new Image();
		unstarredImg.src = "/images/icon_unstarred.png";
		var star = '<img src="/images/icon_starred.png" class="star" alt="star"/>';

		function starInit(isStarred, c, id) {
			$('#star'+c+id)
				.css('cursor','pointer')
				.click(function(){
					starToggle(c,id);
				});

			starShow(isStarred,c,id);
		};

		function starShow(isStarred,c,id) {
			var $img = $('#img-star'+c+id);
			if (isStarred)
				$img.attr('src', starredImg.src).attr('title', "Favorite (click to remove this item from your favorites list)");
			else
				$img.attr('src', unstarredImg.src).attr('title', "Add this item to your favorites list");
			updateReadonlyStars(isStarred, id);
		};

		function updateReadonlyStars(isStarred, id) {
			var $stars = $('#starC'+id+',#starD'+id);
			$stars.html(isStarred? star : '');
		};

		function starToggle(c,id) {
			if (!Nabble.userId) {
				if( confirm("You must log in to star this item.\nWould you like to login now?") ) {
					parent.location = "/template/NamlServlet.jtp?macro=login_page&nextUrl="+encodeURIComponent(parent.location) + Nabble.getClientID();
				}
				return;
			}
			var $img = $('#img-star'+c+id);
			var isStarred = $img.attr('src') == starredImg.src;
			isStarred = !isStarred;
			var descendants = c == 'A';
			var path = "/template/NamlServlet.jtp?node=" + id;
			if( descendants && !isStarred )
				path += "&macro=clear_descendant_stars";
			else
				path += "&macro=set_star&star=" + isStarred;
			$.getScript(path + Nabble.getClientID(), function() {
				starShow(isStarred,c,id);
			});
		};
	</script><script type="text/javascript">
			Nabble.nViews = function(id, views) {
				var $v = $('#v'+id);
				var pos = views=='1'?0:1;
				var t = $v.html()? $v.html().split('|')[pos]:'';
				$v.html(t == ''? views : t.replace(/%1/g,views)).show();
			};
		</script><style type="text/css">
			img.report-flag {
				vertical-align:middle;
				cursor: pointer;
			}
			#report-inappropriate-content {
				position: fixed;
				z-index:9999;
				display:none;
				padding:1.5em;
				left:8%;
				right:8%;
				top:8%;
				background-color:#555;
			}
			#report-inappropriate-content-inner { padding:.5em; }
			#report-inappropriate-content-inner div.big {
				height:5em;
				padding-top:2em;
				text-align:center;
				font-size:250%;
			}
			#report-inappropriate-content-inner div.big2 { font-size:70%; }
			div.inappropriate-option { margin:.5em 0; }
		</style>
		<script type="text/javascript">
			var reportNodeId = null;
			Nabble.reportContent = function(nodeId) {
				reportNodeId = nodeId;
				$('#report-inappropriate-content').show();
				var url = '/template/NamlServlet.jtp?macro=report_inappropriate_content_form';
				$.get(url, function(data) {
					$('#report-inappropriate-content-inner').html(data);
				});
			}
			Nabble.closeReport = function() {
				$('#report-inappropriate-content').hide();
			}
			Nabble.sendReport = function() {
				$('#send-report-button').attr('disabled','true').addClass('toolbar-disabled');
				var type = $('input[name=report_type]:checked').val();
				var url = '/template/NamlServlet.jtp?macro=report_inappropriate_content_submit&node='+reportNodeId+'&type='+type+Nabble.getClientID();
				$.get(url, function(data) {
					var h = 'Thank You';
					h += '<div class="weak-color big2">We will review your report soon.</div>';
					h += '<a href="javascript: void Nabble.closeReport()">Close</a>';
					$('#report-inappropriate-content-inner').html('<div class="big">'+h+'</div>');
				});
			}
		</script>
					<script type="text/javascript">
		Nabble.setFontSize();
		
	</script>
	<script type="text/javascript">
		if (Nabble.analytics) Nabble.analytics();
	</script>
	<!-- Start Quantcast tag -->
	<script type="text/javascript">
		_qoptions={ qacct:"p-34EL1DZyJypTI" };
	</script>
	<script type="text/javascript" src="http://edge.quantserve.com/quant.js"></script>
	<noscript>
		<a href="http://www.quantcast.com/p-34EL1DZyJypTI" target="_blank" rel="nofollow">
			<img src="http://pixel.quantserve.com/pixel/p-34EL1DZyJypTI.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
		</a>
	</noscript>
	<!-- End Quantcast tag -->
	<!-- Start Google Analytics -->
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['nabble._setAccount', 'UA-91855-9']);
		_gaq.push(['nabble._trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
	<!-- End Google Analytics -->
	<script type="text/javascript">
		var site_admins = [7453, 195792, 317848, 46621];
	</script>
	<script type="text/javascript">
		var isSafe = true;
		var Ads = Ads || {};
		Ads.text = {
			daysLeft: 'Trial period ends in $1 day(s)',
			removeAds: 'Remove Ads',
			buyCredits: 'Buy credits'
		};
		$(document).ready(function() {
			if (Nabble.wasCreatedRecently && Nabble.currentCredits == 0) {
				var s = '<div class="weak-color" style="text-align:center;margin:1em;font-size:80%">';
				s += Ads.text.daysLeft.replace(/\$1/,daysLeft)+' &ndash; ';
				s += '<a href="'+Nabble.buyCreditsPath+'">'+(Nabble.isSafe?Ads.text.removeAds:Ads.text.buyCredits)+'</a>';
				s += '</div>';
				var isAdmin = Nabble.userId && site_admins.indexOf(Number(Nabble.userId)) >= 0;
				if (!isSafe || isAdmin)
					$('div.nabble').append(s);
			}
		});
	</script>
	<script type="text/javascript">
		$(document).ready(function() {
			if (Nabble.userId && site_admins.indexOf(Number(Nabble.userId)) >= 0)
				$('div.no-ads-message').show();
		});
	</script>
	<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1192232-22']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	</script>
				</head>
				<body>
					<div id="notice" class="notice rounded-bottom"></div>
					<div class="nabble macro_classic_forum_topic" id="nabble">
						<script type="text/javascript">
					var embeddedUrl = 'http://neo4j.org/nabble/';
					if (!Nabble.isEmbedded) {
						var url = top.location.href;
						var cidPos = url.indexOf(';cid=');
						if (cidPos > 0)
							url = url.substring(0, cidPos);

						var posHtml = url.lastIndexOf('.html');
						var hash;
						var c = '-';
						if (url.indexOf('?') == -1 && posHtml > 0) {
							var posStart = url.lastIndexOf('-');
							hash = (posStart > 0)? url.substring(posStart+1, posHtml):'';
						} else {
							hash = url.replace('http://', '');
							hash = hash.substring(hash.indexOf('/')+1);
							hash = hash;
							c = '+';
						}
						if (Nabble.analytics) Nabble.analytics();
						var _hash = hash.length==1?'':'#nabble' + c + encodeURIComponent(hash);
						if (top.location.hash) {
							var realHash = top.location.hash.substring(1);
							_hash += '|' + encodeURIComponent(realHash);
						}
						_hash = _hash.length == 8? '' : _hash;
						top.location.replace(embeddedUrl + _hash);
					}
				</script>
			
			<div class="top-bar">
		<div class="breadcrumbs" style="float:left">
			<span id="breadcrumbs" class="weak-color">
		
				<a href="http://neo4j-community-discussions.438527.n3.nabble.com/">Neo4j Community Discussions</a>
	</span>
		</div>
		<div style="text-align:right;">
			<span style="white-space:nowrap;" id="nabble-user-header"></span>
	<script type="text/javascript">Nabble.userHeader();</script>
		</div>
	</div>
			
			<div id="nabble-newsflash" class="info-message" style="display:none;padding:.5em;margin-bottom:.5em"></div>
	
			<div id="topic-search-box" class="search-box float-right" style="padding:.5em 0">
		<form action="/template/NamlServlet.jtp">
		<input type="hidden" name="macro" value="search_page" />
		<input type="hidden" name="node" value="3277483" />
		
		
		
		
		<input id="search-input" name="query" size="18" class="medium-border-color"/>
		<div id="search-box-dropdown" class="search-box-dropdown light-bg-color drop-shadow border1 medium-border-color rounded-bottom">
		<div style="margin:.5em .5em 0 .5em">
					<b>Search</b><br/>
					<input id="search-root-node" type="radio" name="n" value="438527" checked="true"/>
					<label for="search-root-node">everywhere</label><br/>

					<input id="search-this-node" type="radio" name="n" value="3277483"/>
					<label for="search-this-node">
						only in this topic
					</label>
				</div>
		<div style="margin:.5em;line-height:2em">
			<input class="toolbar action-button float-right" type="submit" value="Search"/>
			<a href="/template/NamlServlet.jtp?macro=adv_search_page&amp;node=3277483" rel="nofollow" style="font-size:80%">Advanced Search</a>
		</div>
	</div>
	</form>
	</div>

	<h1 id="post-title" class="adbayes-content" style="margin:0.25em 0 .8em">
		[Neo4j] Neo4j High Availability
	</h1>
			<div style="margin:1.2em 0 5em">
		<div id="topics-controls-left" class="float-left nowrap">
			<table>
		<tr>
			<td style="padding-right:.1em">
		<img src="/images/view-classic.gif" width="18" height="18" style="border:none" alt="classic"/>
	</td>

	<td style="padding-right:1.1em">
		Classic
	</td>

			<td style="padding-right:.1em">
		<a href="javascript:void(0)" onclick="Nabble.setView('list', '/Neo4j-Neo4j-High-Availability-tc3277483.html',null)"><img src="/images/view-list.gif" width="18" height="18" style="border:none" alt="list"/></a>
	</td>

	<td style="padding-right:1.1em">
		<a href="javascript:void(0)" onclick="Nabble.setView('list', '/Neo4j-Neo4j-High-Availability-tc3277483.html',null)">List</a>
	</td>

			<td style="padding-right:.1em">
		<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/Neo4j-Neo4j-High-Availability-tt3277483.html',null)"><img src="/images/view-threaded.gif" width="18" height="18" style="border:none" alt="threaded"/></a>
	</td>

	<td style="padding-right:1.1em">
		<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/Neo4j-Neo4j-High-Availability-tt3277483.html',null)">Threaded</a>
	</td>
		</tr>
	</table>
		</div>
		<div id="topics-controls-right" class="float-right nowrap" style="padding-top:.3em">
			<span style="padding-right:1em;height:21px">
		<img id="pin-icon" src="/images/pin.png" width="20" height="21" title="This topic has been pinned in Neo4j Community Discussions." style="vertical-align:middle;display:none;"/>
		<div id="tooltip69200" class="nabble-tooltip" use_title="true">
		
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip69200'), 'up', 400);
	</script>
	</span>
	<span id="lock-icon" class="weak-color" style="padding:0 .5em;margin-right:.5em;display:none;">
		<img src="/images/lock_sm.png" width="10" height="15" style="vertical-align:middle"/> Locked
	</span>
	<span style="padding-right:1em">
		2 messages
	</span>
	<img src="/images/gear.png" class="image16" alt="Options"/>
	<span id="dd_topicdropdown"></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown("topicdropdown", "Options","Click for more options");
		
		dropdown.add('topicSubscriptionLink', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dsubscribe&amp;node\x3D3277483\" rel\x3D\"nofollow\"\x3ESubscribe via email\x3C/a\x3E');
		dropdown.addSeparator();
		dropdown.add('moveTopic', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D3277483\" rel\x3D\"nofollow\"\x3EMove topic\x3C/a\x3E', 'display:none');
		dropdown.add('pinTopic', '\x3Ca href\x3D\"javascript: void Nabble.pinTopic(3277483)\" rel\x3D\"nofollow\"\x3EPin topic\x3C/a\x3E', 'display:none');
		dropdown.add('unpinTopic', '\x3Ca href\x3D\"javascript: void Nabble.unpinTopic(3277483)\" rel\x3D\"nofollow\"\x3EUnpin topic\x3C/a\x3E', 'display:none');
		dropdown.add('lockTopic', '\x3Ca href\x3D\"javascript: void Nabble.lockTopic(3277483)\" rel\x3D\"nofollow\"\x3ELock topic\x3C/a\x3E', 'display:none');
		dropdown.add('unlockTopic', '\x3Ca href\x3D\"javascript: void Nabble.unlockTopic(3277483)\" rel\x3D\"nofollow\"\x3EUnlock topic\x3C/a\x3E', 'display:none');
		dropdown.add('deleteRecursively', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(3277483)\" rel\x3D\"nofollow\"\x3EDelete this topic\x3C/a\x3E', 'display:none');
			dropdown.add('deletePost', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(3277483)\" rel\x3D\"nofollow\"\x3EDelete this topic\x3C/a\x3E', 'display:none');
		dropdown.add('changeMetaTags', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_title_and_meta_tags&amp;node\x3D3277483\" rel\x3D\"nofollow\"\x3EChange title and meta tags\x3C/a\x3E', 'display:none');
		dropdown.add('embedPost3277483', '\x3Ca href\x3D\"/embed/EmbedOptions.jtp?node\x3D3277483\" rel\x3D\"nofollow\"\x3EEmbed post\x3C/a\x3E');
		dropdown.add('permalink3277483', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://neo4j-community-discussions.438527.n3.nabble.com/Neo4j-Neo4j-High-Availability-tp3277483.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.build('dd_topicdropdown');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=topic_dropdown_later&node=3277483' + Nabble.getClientID() + '&_=' + Math.floor(Math.random()*999999));
	</script>
		</div>
	</div>
			<div id="topic-contents" style="margin-top:1em;clear:both">
		<div id="classic-contents">
		
		<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://neo4j-community-discussions.438527.n3.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=423939">Madan Gubbala</a>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="/template/NamlServlet.jtp?macro=reply&amp;node=3277483" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/Neo4j-Neo4j-High-Availability-tt3277483.html',3277483)">Threaded</a>
	<div id="tooltip29245" class="nabble-tooltip" use_title="false">
		Open this post in threaded view
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip29245'), 'up', 400);
	</script> |
					<span id="dd_postdropdown3277483"></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown("postdropdown3277483", "More","Click for more options");
		
		dropdown.add('replyToAuthor3277483', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D3277483\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost3277483', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D3277483\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost3277483', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D3277483\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost3277483', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(3277483)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively3277483', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(3277483)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate3277483', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D3277483\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print3277483', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D3277483\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink3277483', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://neo4j-community-discussions.438527.n3.nabble.com/Neo4j-Neo4j-High-Availability-tp3277483.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail3277483', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D3277483\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.build('dd_postdropdown3277483');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=3277483' + Nabble.getClientID() + '&_=' + Math.floor(Math.random()*999999));
	</script>
					&nbsp;
					<img src="/images/flag_gray.png" class="report-flag" onclick="Nabble.reportContent(3277483)"/>
	<div id="tooltip64072" class="nabble-tooltip" use_title="false">
		Report Content as Inappropriate
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip64072'), 'up', 400);
	</script>
					<span id="starB3277483">
		<img id="img-starB3277483" src="/images/icon_unstarred.png" class="star" alt="star" title="Add this item to your favorites list"/>
		<div id="tooltip66459" class="nabble-tooltip" use_title="true">
		
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip66459'), 'up', 400);
	</script>
	</span>
	
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow3277483" class="float-left invisible" style="margin-top:.2em">
		<img title="Selected post" width="15" height="15" src="/images/arrow.png" alt="Selected post"/>
	</span>
					<span class="post-date float-left">
		<span id="d1314091582000-556"></span><script type="text/javascript">
		Nabble.get('d1314091582000-556').innerHTML= Nabble.formatDateLong(new Date(1314091582000));
	</script>
	</span>
					<h2 class="post-subject float-left adbayes-content" style="width:30%;overflow:visible;font-family:inherit">
		[Neo4j] Neo4j High Availability
	</h2>
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://neo4j-community-discussions.438527.n3.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=423939" rel="nofollow" title="View profile of Madan Gubbala" class="nowrap no-decoration"><img class="avatar medium-border-color" src="http://www.gravatar.com/avatar/92fbad12c8cc128446113bab53c4bb2c?s=100&amp;r=pg&amp;d=http%3A%2F%2Fn3.nabble.com%2Fimages%2Favatar100.png" height="100" width="100" alt="Madan Gubbala" title="Madan Gubbala"/><img src="/images/online.png" class="online423939 online invisible" title="User is online" alt="online"/></a>

	
	
		</div>
	</div>
	
	
	<div class="post-count423939 avatar-label weak-color"></div>
	
				</td>
				<td class="classic-message">
					
	
	
	<div id="message3277483" class="message-text adbayes-content">
		Hi,
<br/>I am trying to configure Neo4J High availability. But I am getting some exceptions. The following are the configuration details.
<br/><br/>We have 3 Linux servers (Amazon cloud instances).
<br/>Each one has Zookeeper 3.3.2 and Jetty 7. Deployed web application in Jetty by giving corresponding ha-server.conf as follows:
<br/>ha.machine_id=1
<br/>ha.server=localhost:6001
<br/>ha.zoo_keeper_servers=internalip:2180, internalip:2180, internalip:2180
<br/>ha.pull_interval=5
<br/>enable_remote_shell = port=1331
<br/>Similary in linux server 2 and 3.
<br/><br/>Configured Zookeepr as follows:
<br/>#server1.cfg
<br/>tickTime=10000
<br/>initLimit=50
<br/>syncLimit=10
<br/>dataDir=/usr/share/zookeeper-3.3.2/data/zookeeper1
<br/>clientPort=2183
<br/>server.1=ip-10-102-53-219.ec2.internal:2888:3888
<br/>server.2=ip-10-84-29-207.ec2.internal:2888:3888
<br/>server.3=ip-10-102-53-219.ec2.internal:2888:3888
<br/>Similary in linux server 2 and 3.
<br/><br/>Now started Jetty servers and Zookeeper servers. But I am getting the following exception at Web server Jetty servers.
<br/>[main-SendThread(ipaddtress:2180)] WARN &nbsp;org.apache.zookeeper.ClientCnxn - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
<br/>java.net.ConnectException: Connection refused
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:1.6.0_18]
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:592) ~[na:1.6.0_18]
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1119) ~[zookeeper-3.3.2.jar:3.3.2-1031432]
<br/><br/><br/>The following exceptions at Zookeeper servers:
<br/><br/>java.lang.InterruptedException
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2094)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:370)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:601)
<br/>2011-08-23 09:19:30,111 - WARN &nbsp;[Thread-48:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>2011-08-23 09:19:30,113 - INFO &nbsp;[WorkerReceiver Thread:FastLeaderElection@496] - Notification: 3 (n.leader), 4294967353 (n.zxid), 1 (n.round), FOLLOWING (n.state), 2 (n.sid), LEADING (my state)
<br/>2011-08-23 09:20:30,127 - WARN &nbsp;[Thread-51:QuorumCnxManager$RecvWorker@702] - Connection broken for id 2, my id = 3, error = java.nio.channels.AsynchronousCloseException
<br/>2011-08-23 09:20:30,127 - WARN &nbsp;[Thread-50:QuorumCnxManager$SendWorker@612] - Interrupted while waiting for message on queue
<br/>java.lang.InterruptedException
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2094)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:370)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:601)
<br/>2011-08-23 09:20:30,128 - WARN &nbsp;[Thread-50:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>2011-08-23 09:20:30,130 - WARN &nbsp;[Thread-52:QuorumCnxManager$SendWorker@612] - Interrupted while waiting for message on queue
<br/>java.lang.InterruptedException
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2094)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:370)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:601)
<br/>2011-08-23 09:20:30,130 - WARN &nbsp;[Thread-52:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>2011-08-23 09:20:30,134 - INFO &nbsp;[WorkerReceiver Thread:FastLeaderElection@496] - Notification: 3 (n.leader), 4294967353 (n.zxid), 1 (n.round), FOLLOWING (n.state), 2 (n.sid), LEADING (my state)
<br/>2011-08-23 09:21:30,145 - WARN &nbsp;[Thread-54:QuorumCnxManager$SendWorker@612] - Interrupted while waiting for message on queue
<br/>java.lang.InterruptedException
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2094)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:370)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:601)
<br/>2011-08-23 09:21:30,147 - WARN &nbsp;[Thread-54:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>2011-08-23 09:21:30,149 - WARN &nbsp;[Thread-55:QuorumCnxManager$RecvWorker@702] - Connection broken for id 2, my id = 3, error = java.nio.channels.AsynchronousCloseException
<br/>2011-08-23 09:21:30,150 - INFO &nbsp;[WorkerReceiver Thread:FastLeaderElection@496] - Notification: 3 (n.leader), 4294967353 (n.zxid), 1 (n.round), FOLLOWING (n.state), 2 (n.sid), LEADING (my state)
<br/>2011-08-23 09:22:30,162 - WARN &nbsp;[Thread-57:QuorumCnxManager$RecvWorker@702] - Connection broken for id 2, my id = 3, error = java.nio.channels.AsynchronousCloseException
<br/>2011-08-23 09:22:30,162 - WARN &nbsp;[Thread-56:QuorumCnxManager$SendWorker@612] - Interrupted while waiting for message on queue
<br/>java.lang.InterruptedException
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2094)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:370)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:601)
<br/>2011-08-23 09:22:30,163 - WARN &nbsp;[Thread-56:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>2011-08-23 09:22:30,165 - ERROR [Thread-58:QuorumCnxManager$SendWorker@590] - Failed to send last message. Shutting down thread.
<br/>java.nio.channels.ClosedChannelException
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at sun.nio.ch.SocketChannelImpl.ensureWriteOpen(SocketChannelImpl.java:144)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:342)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:579)
<br/>&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:588)
<br/>2011-08-23 09:22:30,165 - WARN &nbsp;[Thread-58:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>2011-08-23 09:22:30,167 - INFO &nbsp;[WorkerReceiver Thread:FastLeaderElection@496] - Notification: 3 (n.leader), 4294967353 (n.zxid), 1 (n.round), FOLLOWING (n.state), 2 (n.sid), LEADING (my state)
<br/><br/><br/>Can someone help me please???
<br/><br/>Thanks,
<br/>Madan Gubbala
<br/><br/>This communication (including any attachments) is for the use of the intended recipient(s) only and may contain information that is confidential, privileged or legally protected. Any unauthorized use or dissemination of this communication is strictly prohibited. If you have received this communication in error, please immediately notify the sender by return e-mail message and delete all copies of the original communication including attachments. Thank you for your cooperation.
<br/><br/><br/>_______________________________________________
<br/>Neo4j mailing list
<br/><a href="/user/SendEmail.jtp?type=node&node=3277483&i=0" target="_top" rel="nofollow" link="external">[hidden email]</a>
<br/><a href="https://lists.neo4j.org/mailman/listinfo/user" target="_top" rel="nofollow" link="external">https://lists.neo4j.org/mailman/listinfo/user</a><br/>

	
	
	
	</div>
	<script type="text/javascript">
				Nabble.noAds('first_classic_message');
			</script>
			
				</td>
			</tr>
		</table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://neo4j-community-discussions.438527.n3.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=46621">Peter Neubauer</a>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="/template/NamlServlet.jtp?macro=reply&amp;node=3278275" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/Neo4j-Neo4j-High-Availability-tt3277483.html#a3278275',3278275)">Threaded</a>
	<div id="tooltip18302" class="nabble-tooltip" use_title="false">
		Open this post in threaded view
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip18302'), 'up', 400);
	</script> |
					<span id="dd_postdropdown3278275"></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown("postdropdown3278275", "More","Click for more options");
		
		dropdown.add('replyToAuthor3278275', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D3278275\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost3278275', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D3278275\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost3278275', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D3278275\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost3278275', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(3278275)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively3278275', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(3278275)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate3278275', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D3278275\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print3278275', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D3278275\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink3278275', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://neo4j-community-discussions.438527.n3.nabble.com/Neo4j-Neo4j-High-Availability-tp3277483p3278275.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail3278275', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D3278275\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.build('dd_postdropdown3278275');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=3278275' + Nabble.getClientID() + '&_=' + Math.floor(Math.random()*999999));
	</script>
					&nbsp;
					<img src="/images/flag_gray.png" class="report-flag" onclick="Nabble.reportContent(3278275)"/>
	<div id="tooltip91111" class="nabble-tooltip" use_title="false">
		Report Content as Inappropriate
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip91111'), 'up', 400);
	</script>
					<span id="starB3278275">
		<img id="img-starB3278275" src="/images/icon_unstarred.png" class="star" alt="star" title="Add this item to your favorites list"/>
		<div id="tooltip97070" class="nabble-tooltip" use_title="true">
		
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip97070'), 'up', 400);
	</script>
	</span>
	
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow3278275" class="float-left invisible" style="margin-top:.2em">
		<img title="Selected post" width="15" height="15" src="/images/arrow.png" alt="Selected post"/>
	</span>
					<span class="post-date float-left">
		<span id="d1314112047000-23"></span><script type="text/javascript">
		Nabble.get('d1314112047000-23').innerHTML= Nabble.formatDateLong(new Date(1314112047000));
	</script>
	</span>
					<h2 class="post-subject float-left adbayes-content" style="width:30%;overflow:visible;font-family:inherit">
		Re: [Neo4j] Neo4j High Availability
	</h2>
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://neo4j-community-discussions.438527.n3.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=46621" rel="nofollow" title="View profile of Peter Neubauer" class="nowrap no-decoration"><img class="avatar medium-border-color" src="http://www.gravatar.com/avatar/cf736d37bc29be6cabec520af12e83f4?s=100&amp;r=pg&amp;d=http%3A%2F%2Fn3.nabble.com%2Fimages%2Favatar100.png" height="100" width="100" alt="Peter Neubauer" title="Peter Neubauer"/><img src="/images/online.png" class="online46621 online invisible" title="User is online" alt="online"/></a>

	
	
		</div>
	</div>
	<div class="avatar-label weak-color"><b>Administrator</b></div>
	
	<div class="post-count46621 avatar-label weak-color"></div>
	
				</td>
				<td class="classic-message">
					
	
	
	<div id="message3278275" class="message-text adbayes-content">
		Madan,
<br/>just talked to Mattias on this. Zookeeper is a strange beast and
<br/>casting exceptions often - what is the actual effect you are seeing -
<br/>is the cluster not starting up or are there multiple masters?
<br/><br/>Cheers,
<br/><br/>/peter neubauer
<br/><br/>GTalk:      neubauer.peter
<br/>Skype       peter.neubauer
<br/>Phone       +46 704 106975
<br/>LinkedIn   <a href="http://www.linkedin.com/in/neubauer" target="_top" rel="nofollow" link="external">http://www.linkedin.com/in/neubauer</a><br/>Twitter      <a href="http://twitter.com/peterneubauer" target="_top" rel="nofollow" link="external">http://twitter.com/peterneubauer</a><br/><br/><a href="http://www.neo4j.org" target="_top" rel="nofollow" link="external">http://www.neo4j.org</a>               - Your high performance graph database.
<br/><a href="http://startupbootcamp.org/" target="_top" rel="nofollow" link="external">http://startupbootcamp.org/</a>&nbsp;   - Öresund - Innovation happens HERE.
<br/><a href="http://www.thoughtmade.com" target="_top" rel="nofollow" link="external">http://www.thoughtmade.com</a>&nbsp;- Scandinavia's coolest Bring-a-Thing party.
<br/><br/><br/><br/>On Tue, Aug 23, 2011 at 11:26 AM, Madan Gubbala
<br/>&lt;<a href="/user/SendEmail.jtp?type=node&node=3278275&i=0" target="_top" rel="nofollow" link="external">[hidden email]</a>&gt; wrote:
<div class='shrinkable-quote'><br/>&gt; Hi,
<br/>&gt; I am trying to configure Neo4J High availability. But I am getting some exceptions. The following are the configuration details.
<br/>&gt;
<br/>&gt; We have 3 Linux servers (Amazon cloud instances).
<br/>&gt; Each one has Zookeeper 3.3.2 and Jetty 7. Deployed web application in Jetty by giving corresponding ha-server.conf as follows:
<br/>&gt; ha.machine_id=1
<br/>&gt; ha.server=localhost:6001
<br/>&gt; ha.zoo_keeper_servers=internalip:2180, internalip:2180, internalip:2180
<br/>&gt; ha.pull_interval=5
<br/>&gt; enable_remote_shell = port=1331
<br/>&gt; Similary in linux server 2 and 3.
<br/>&gt;
<br/>&gt; Configured Zookeepr as follows:
<br/>&gt; #server1.cfg
<br/>&gt; tickTime=10000
<br/>&gt; initLimit=50
<br/>&gt; syncLimit=10
<br/>&gt; dataDir=/usr/share/zookeeper-3.3.2/data/zookeeper1
<br/>&gt; clientPort=2183
<br/>&gt; server.1=ip-10-102-53-219.ec2.internal:2888:3888
<br/>&gt; server.2=ip-10-84-29-207.ec2.internal:2888:3888
<br/>&gt; server.3=ip-10-102-53-219.ec2.internal:2888:3888
<br/>&gt; Similary in linux server 2 and 3.
<br/>&gt;
<br/>&gt; Now started Jetty servers and Zookeeper servers. But I am getting the following exception at Web server Jetty servers.
<br/>&gt; [main-SendThread(ipaddtress:2180)] WARN  org.apache.zookeeper.ClientCnxn - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
<br/>&gt; java.net.ConnectException: Connection refused
<br/>&gt;        at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:1.6.0_18]
<br/>&gt;        at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:592) ~[na:1.6.0_18]
<br/>&gt;        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1119) ~[zookeeper-3.3.2.jar:3.3.2-1031432]
<br/>&gt;
<br/>&gt;
<br/>&gt; The following exceptions at Zookeeper servers:
<br/>&gt;
<br/>&gt; java.lang.InterruptedException
<br/>&gt;        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
<br/>&gt;        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2094)
<br/>&gt;        at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:370)
<br/>&gt;        at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:601)
<br/>&gt; 2011-08-23 09:19:30,111 - WARN  [Thread-48:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>&gt; 2011-08-23 09:19:30,113 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 3 (n.leader), 4294967353 (n.zxid), 1 (n.round), FOLLOWING (n.state), 2 (n.sid), LEADING (my state)
<br/>&gt; 2011-08-23 09:20:30,127 - WARN  [Thread-51:QuorumCnxManager$RecvWorker@702] - Connection broken for id 2, my id = 3, error = java.nio.channels.AsynchronousCloseException
<br/>&gt; 2011-08-23 09:20:30,127 - WARN  [Thread-50:QuorumCnxManager$SendWorker@612] - Interrupted while waiting for message on queue
<br/>&gt; java.lang.InterruptedException
<br/>&gt;        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
<br/>&gt;        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2094)
<br/>&gt;        at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:370)
<br/>&gt;        at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:601)
<br/>&gt; 2011-08-23 09:20:30,128 - WARN  [Thread-50:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>&gt; 2011-08-23 09:20:30,130 - WARN  [Thread-52:QuorumCnxManager$SendWorker@612] - Interrupted while waiting for message on queue
<br/>&gt; java.lang.InterruptedException
<br/>&gt;        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
<br/>&gt;        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2094)
<br/>&gt;        at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:370)
<br/>&gt;        at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:601)
<br/>&gt; 2011-08-23 09:20:30,130 - WARN  [Thread-52:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>&gt; 2011-08-23 09:20:30,134 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 3 (n.leader), 4294967353 (n.zxid), 1 (n.round), FOLLOWING (n.state), 2 (n.sid), LEADING (my state)
<br/>&gt; 2011-08-23 09:21:30,145 - WARN  [Thread-54:QuorumCnxManager$SendWorker@612] - Interrupted while waiting for message on queue
<br/>&gt; java.lang.InterruptedException
<br/>&gt;        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
<br/>&gt;        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2094)
<br/>&gt;        at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:370)
<br/>&gt;        at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:601)
<br/>&gt; 2011-08-23 09:21:30,147 - WARN  [Thread-54:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>&gt; 2011-08-23 09:21:30,149 - WARN  [Thread-55:QuorumCnxManager$RecvWorker@702] - Connection broken for id 2, my id = 3, error = java.nio.channels.AsynchronousCloseException
<br/>&gt; 2011-08-23 09:21:30,150 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 3 (n.leader), 4294967353 (n.zxid), 1 (n.round), FOLLOWING (n.state), 2 (n.sid), LEADING (my state)
<br/>&gt; 2011-08-23 09:22:30,162 - WARN  [Thread-57:QuorumCnxManager$RecvWorker@702] - Connection broken for id 2, my id = 3, error = java.nio.channels.AsynchronousCloseException
<br/>&gt; 2011-08-23 09:22:30,162 - WARN  [Thread-56:QuorumCnxManager$SendWorker@612] - Interrupted while waiting for message on queue
<br/>&gt; java.lang.InterruptedException
<br/>&gt;        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
<br/>&gt;        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2094)
<br/>&gt;        at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:370)
<br/>&gt;        at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:601)
<br/>&gt; 2011-08-23 09:22:30,163 - WARN  [Thread-56:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>&gt; 2011-08-23 09:22:30,165 - ERROR [Thread-58:QuorumCnxManager$SendWorker@590] - Failed to send last message. Shutting down thread.
<br/>&gt; java.nio.channels.ClosedChannelException
<br/>&gt;        at sun.nio.ch.SocketChannelImpl.ensureWriteOpen(SocketChannelImpl.java:144)
<br/>&gt;        at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:342)
<br/>&gt;        at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:579)
<br/>&gt;        at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:588)
<br/>&gt; 2011-08-23 09:22:30,165 - WARN  [Thread-58:QuorumCnxManager$SendWorker@621] - Send worker leaving thread
<br/>&gt; 2011-08-23 09:22:30,167 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 3 (n.leader), 4294967353 (n.zxid), 1 (n.round), FOLLOWING (n.state), 2 (n.sid), LEADING (my state)
<br/>&gt;
<br/>&gt;
<br/>&gt; Can someone help me please???
<br/>&gt;
<br/>&gt; Thanks,
<br/>&gt; Madan Gubbala
<br/>&gt;
<br/>&gt; This communication (including any attachments) is for the use of the intended recipient(s) only and may contain information that is confidential, privileged or legally protected. Any unauthorized use or dissemination of this communication is strictly prohibited. If you have received this communication in error, please immediately notify the sender by return e-mail message and delete all copies of the original communication including attachments. Thank you for your cooperation.
<br/>&gt;
<br/>&gt;
<br/>&gt; _______________________________________________
<br/>&gt; Neo4j mailing list
<br/>&gt; <a href="/user/SendEmail.jtp?type=node&node=3278275&i=1" target="_top" rel="nofollow" link="external">[hidden email]</a>
<br/>&gt; <a href="https://lists.neo4j.org/mailman/listinfo/user" target="_top" rel="nofollow" link="external">https://lists.neo4j.org/mailman/listinfo/user</a><br/>&gt;
</div>_______________________________________________
<br/>Neo4j mailing list
<br/><a href="/user/SendEmail.jtp?type=node&node=3278275&i=2" target="_top" rel="nofollow" link="external">[hidden email]</a>
<br/><a href="https://lists.neo4j.org/mailman/listinfo/user" target="_top" rel="nofollow" link="external">https://lists.neo4j.org/mailman/listinfo/user</a><br/>

	
	
	
	</div>
	
			<script type="text/javascript">
				Nabble.noAds('last_classic_message');
			</script>
				</td>
			</tr>
		</table>
	</div>
	
		
	</div>
	</div>
			<div id="topic-footer" class="weak-color" style="padding-top:1em">
		&laquo;
		<a href="http://neo4j-community-discussions.438527.n3.nabble.com/">Return to Neo4j Community Discussions</a>
		&nbsp;|&nbsp;
		<span id="v3277483" style="display:none">1 view|%1 views</span>
	
	
	</div>
			<div id="report-inappropriate-content" class="report-inappropriate-content rounded">
		<div id="report-inappropriate-content-inner" class="no-bg-color medium-border-color border2">
			<div class="big">Loading...</div>
		</div>
	</div>
				<script type="text/javascript">
				Nabble.noAds('topic_bottom');
			</script>
	<script type="text/javascript">
	var infolinks_pid = 1480243;
	var infolinks_wsid = 0;
	</script>
	<script type="text/javascript" src="http://resources.infolinks.com/js/infolinks_main.js"></script>
			<table class="footer-table shaded-bg-color">
		<tr>
			<td class="footer-left weak-color">
				Powered by
				<a href="http://www.nabble.com/" target="_top">Nabble</a>
			</td>
			<td class="footer-right">
				<a href="/template/NamlServlet.jtp?macro=macro_viewer&amp;id=classic_forum_topic%21nabble%3Atopic.naml&amp;base=nabble.view.web.template.ServletNamespace" rel="nofollow">Edit this page</a>
			</td>
		</tr>
	</table>
	<!-- Ad.true -->
			<script type='text/javascript'>
var scriptUrl = '/template/NamlServlet.jtp?macro=js_page&searchSpecial=3277483&incViewCount=3277483&newsflash=&starB=3277483|3278275&visitorOnline=&avatarOnline=423939|46621&postCount=423939|46621&markVisited=3278275&views=3277483';
scriptUrl += '&_=' + Math.floor(Math.random()*9999) + Nabble.getClientID();
$.getScript(scriptUrl, function() { Nabble.resizeFrames(); });
</script>

					</div>
					<script type="text/javascript">
		$(document).ready(function() { Nabble.fixCookieClientID(); });
		(function(){ var sNew = document.createElement("script"); sNew.defer = true; sNew.src = "http://tag.crsspxl.com/s1.js?d=1294"; var s0 = document.getElementsByTagName('script')[0]; s0.parentNode.insertBefore(sNew, s0); })();
	</script>
					<!-- n3.nabble.com | Site ID = 438527 -->
				</body>
			</html>
