





<!DOCTYPE html>
<html>
<head>
    






<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
<title>[YARN-196] Nodemanager should be more robust in handling connection failure  to ResourceManager when a cluster is started - ASF JIRA</title>
<script type="text/javascript">
    if (!window.performance) {
        window.mpPerformance = {};
        window.mpPerformance.responseStart = new Date().getTime();
    }
</script>
<meta name="application-name" content="JIRA" data-name="jira" data-version="6.1.4"><meta name="ajs-hasCriteriaAutoUpdate" content="true">
<meta name="ajs-viewissue-use-history-api" content="false">
<meta name="ajs-viewissue-max-cache-size" content="">
<meta name="ajs-view-issue-trace-key" content="jira.issue.refreshed">
<meta name="ajs-view-issue-psycho-key" content="jira.psycho.issue.refreshed">
<meta name="ajs-view-issue-refreshed-cached-key" content="jira.psycho.issue.refreshed.cached">
<meta name="ajs-return-to-search-trace-key" content="jira.returned.to.search">
<meta name="ajs-return-to-search-psycho-key" content="jira.psycho.returned.to.search">
<meta name="ajs-default-avatar-url" content="/jira/secure/useravatar?size=xsmall&amp;avatarId=10453">
<meta name="ajs-jira.issues.preferred.layout.key" content="split-view">
<meta name="ajs-max-recent-searchers" content="10">
<meta name="ajs-jira-base-url" content="https://issues.apache.org/jira">
<meta name="ajs-serverRenderedViewIssue" content="true">
<meta name="ajs-search-pos" content="0">
<meta name="ajs-issue-key" content="YARN-196">
<meta name="ajs-can-edit-watchers" content="false">
<meta name="ajs-can-search-users" content="false">
<meta name="ajs-server-view-issue-is-editable" content="false">
<meta name="ajs-dev-mode" content="false">
<meta name="ajs-context-path" content="/jira">
<meta name="ajs-version-number" content="6.1.4">
<meta name="ajs-build-number" content="6159">
<meta name="ajs-is-beta" content="false">
<meta name="ajs-is-rc" content="false">
<meta name="ajs-is-snapshot" content="false">
<meta name="ajs-is-milestone" content="false">
<meta name="ajs-remote-user" content="">
<meta name="ajs-remote-user-fullname" content="">
<meta name="ajs-user-locale" content="en_UK">
<meta name="ajs-user-locale-group-separator" content=",">
<meta name="ajs-app-title" content="ASF JIRA">
<meta name="ajs-keyboard-shortcuts-enabled" content="true">
<meta name="ajs-enabled-dark-features" content="[&quot;app-switcher.new&quot;,&quot;com.atlassian.jira.darkfeature.CommonHeader&quot;,&quot;jira.frother.reporter.field&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;frother.assignee.field&quot;]">
<meta name="ajs-date-relativize" content="true">
<meta name="ajs-date-time" content="HH:mm">
<meta name="ajs-date-day" content="EEEE HH:mm">
<meta name="ajs-date-dmy" content="dd/MMM/yy">
<meta name="ajs-date-complete" content="dd/MMM/yy HH:mm">
<meta name="ajs-in-admin-mode" content="false">
<meta name="ajs-is-sysadmin" content="false">
<meta name="ajs-is-admin" content="false">
<meta name="ajs-outgoing-mail-enabled" content="true">
<meta name="ajs-whats-new-iframe-src-override" content=""> <meta name="ajs-whatsnew-full-link" content="https://docs.atlassian.com/jira/docs-061/whatsnew/iframe">


    
<meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|0fa8370fb2cb9cef324048520f03dac86a55e7b1|lout">



<link rel="shortcut icon" href="/jira/s/en_UK-amfly-1988229788/6159/7/_/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[YARN-196] Nodemanager should be more robust in handling connection failure  to ResourceManager when a cluster is started - ASF JIRA"/>

    


<!--[if IE]><![endif]-->
<script type="text/javascript">var contextPath = '/jira';</script>
<link type="text/css" rel="stylesheet" href="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/13/_/download/superbatch/css/batch.css" media="all">
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/13/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/13/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/ca30c499eec64115b00e0c28cda49a68/_/download/contextbatch/css/jira.navigator.simple,jira.navigator.advanced,jira.view.issue,jira.navigator.kickass,atl.general,jira.global/batch.css" media="all">
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/13/_/download/superbatch/js/batch.js" ></script>
<!--[if lte IE 8]>
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/13/_/download/superbatch/js/batch.js?conditionalComment=lte+IE+8" ></script>
<![endif]-->
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/ca30c499eec64115b00e0c28cda49a68/_/download/contextbatch/js/jira.navigator.simple,jira.navigator.advanced,jira.view.issue,jira.navigator.kickass,atl.general,jira.global/batch.js" ></script>
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" ></script>
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/6.3.6/_/download/batch/com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources/com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources.js" ></script>
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/1.5/_/download/batch/com.atlassian.administration.atlassian-admin-quicksearch-jira:admin-quicksearch-webresources/com.atlassian.administration.atlassian-admin-quicksearch-jira:admin-quicksearch-webresources.js" ></script>

<script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/6159/76cd04738ea8beda7efa7e350a0ece30/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script>


    
    
    
    <meta name="decorator" content="atl.general">
    <meta id="isNavigator" name="isNavigator" content="true">
    <meta name="ajs-user.search.mode" content="basic">
    <meta name="ajs-issue-search-help-title" content="Searching for Issues">
    <meta name="ajs-issue-search-help-url" content="https://docs.atlassian.com/jira/docs-061/Searching+for+Issues">
    <meta name="ajs-advanced-search-help-title" content="Performing Advanced Searches">
    <meta name="ajs-advanced-search-help-url" content="https://docs.atlassian.com/jira/docs-061/Advanced+Searching">
    
</head>
<body id="jira" class="aui-layout aui-theme-default ka ajax-issue-search-and-view page-type-navigator navigator-issue-only" data-version="6.1.4">
<div id="page">
    <header id="header" role="banner">
        



    
        
            
        
    







        




        





<fieldset class="parameters hidden dont-default-focus">
    <input type="hidden" title="tzdetect.pref.tzid" value="Europe/London" />
    <input type="hidden" title="tzdetect.pref.tzname" value="(GMT+00:00) London" />
    <input type="hidden" title="tzdetect.pref.tzoffset" value="(GMT+00:00)" />
    <input type="hidden" title="tzdetect.pref.tzdst" value="true" />
    <input type="hidden" title="tzdetect.pref.nothanks" value="" />
</fieldset>
<nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class="aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-haspopup="true" tabindex="0"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default"><div class="app-switcher-loading">Loading&hellip;</div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/en_UK-amfly-1988229788/6159/7/_/jira-logo-scaled.png" alt="ASF JIRA" /></a></h1><ul class='aui-nav'>




<li><a class="aui-nav-link aui-dropdown2-ajax jira-ajax-menu aui-dropdown2-trigger "href="/jira/secure/Dashboard.jspa" id="home_link"  accessKey="d"  title="View and manage your dashboards"  aria-haspopup="true" aria-owns="home_link-content">Dashboards</a><div id="home_link-content" class="aui-dropdown2 aui-style-default" data-aui-dropdown2-ajax-key="home_link"></div></li><li><a class="aui-nav-link aui-dropdown2-ajax jira-ajax-menu aui-dropdown2-trigger "href="/jira/browse/YARN" id="browse_link"  accessKey="p"  title="View recent projects and browse a list of projects"  aria-haspopup="true" aria-owns="browse_link-content">Projects</a><div id="browse_link-content" class="aui-dropdown2 aui-style-default" data-aui-dropdown2-ajax-key="browse_link"></div></li><li><a class="aui-nav-link aui-dropdown2-ajax jira-ajax-menu aui-dropdown2-trigger "href="/jira/secure/IssueNavigator.jspa" id="find_link"  accessKey="i"  title="Search for issues and view recent issues"  aria-haspopup="true" aria-owns="find_link-content">Issues</a><div id="find_link-content" class="aui-dropdown2 aui-style-default" data-aui-dropdown2-ajax-key="find_link"></div></li><li><a class="aui-nav-link aui-dropdown2-ajax jira-ajax-menu aui-dropdown2-trigger "href="/jira/secure/GreenHopper.jspa" id="greenhopper_menu"  title="Manage your project with JIRA Agile"  aria-haspopup="true" aria-owns="greenhopper_menu-content">Agile</a><div id="greenhopper_menu-content" class="aui-dropdown2 aui-style-default" data-aui-dropdown2-ajax-key="greenhopper_menu"></div></li>
</ul></div><div class="aui-header-secondary"><ul class='aui-nav'><li>
    <form action="/jira/secure/QuickSearch.jspa" method="post" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt">
        <input id="quickSearchInput" class="search" type="text" title="Quick Search" placeholder="Quick Search" name="searchString" accessKey="q" />
        <input type="submit" class="hidden" value="Search">
    </form>
</li>



    <li id="system-help-menu">
        <a class="aui-nav-link aui-dropdown2-trigger" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/docs-061/JIRA+Documentation"  target="_blank"  title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a>
        <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default">
                            <div class="aui-dropdown2-section">
                                                                <ul id="jira-help" class="aui-list-truncate">
                                                            <li>
                                    <a  id="view_help"   class=""  title="Goto the online documentation for JIRA" href="https://docs.atlassian.com/jira/docs-061/JIRA+Documentation"  target="_blank" >Online Help</a>
                                </li>
                                                            <li>
                                    <a  id="gh_view_help"   class=""  title="Get help online for JIRA Agile" href="http://docs.atlassian.com/agile/docs-0630/JIRA+Agile+Documentation"  target="_blank" >JIRA Agile Help</a>
                                </li>
                                                            <li>
                                    <a  id="gh_view_agile_answers"   class=""  title="Get answers about Agile" href="http://answers.atlassian.com/tags/agile/"  target="_blank" >Agile Answers</a>
                                </li>
                                                            <li>
                                    <a  id="keyshortscuthelp"   class=""  title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa"  target="_blank" >Keyboard Shortcuts</a>
                                </li>
                                                            <li>
                                    <a  id="view_about"   class=""  title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa" >About JIRA</a>
                                </li>
                                                            <li>
                                    <a  id="view_credits"   class=""  title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa"  target="_blank" >JIRA Credits</a>
                                </li>
                                                            <li>
                                    <a  id="whats-new-menu-link"   class=""   href="https://docs.atlassian.com/jira/docs-061/whatsnew/iframe" >What’s New</a>
                                </li>
                                                    </ul>
                                    </div>
                    </div>
    </li>









<li id="user-options">
            <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FYARN-196">Log In</a>
                <div id="user-options-content" class="aui-dropdown2 aui-style-default">
                            <div class="aui-dropdown2-section">
                                                        </div>
                    </div>
    </li>
</ul></div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    </header>
    



    <section id="content" role="main">
        
    <div class="navigator-container hidden">
        <div class="hidden shortcut-links">
                            <a id="edit-issue" class="issueaction-edit-issue" href="/jira/secure/EditIssue!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="assign-issue" class="issueaction-assign-issue" href="/jira/secure/AssignIssue!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="assign-to-me" class="issueaction-assign-to-me hide-from-opsbar" href="/jira/secure/AssignIssue.jspa?atl_token=A5KQ-2QAV-T4JA-FDED|0fa8370fb2cb9cef324048520f03dac86a55e7b1|lout&amp;id={0}&amp;&returnUrl=/secure/issues"></a>
                            <a id="comment-issue" class="issueaction-comment-issue add-issue-comment" href="/jira/secure/AddComment!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="greenhopper-rapidboard-operation" class="issueaction-greenhopper-rapidboard-operation js-rapidboard-operation-issue" href="/jira/secure/GHGoToBoard.jspa?issueId={0}&returnUrl=/secure/issues"></a>
                            <a id="greenhopper-rank-top-operation" class="issueaction-greenhopper-rank-top-operation" href="/jira/secure/RankTop.jspa?issueId={0}&returnUrl=/secure/issues"></a>
                            <a id="greenhopper-rank-bottom-operation" class="issueaction-greenhopper-rank-bottom-operation" href="/jira/secure/RankBottom.jspa?issueId={0}&returnUrl=/secure/issues"></a>
                            <a id="log-work" class="issueaction-log-work" href="/jira/secure/CreateWorklog!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="attach-file" class="issueaction-attach-file" href="/jira/secure/AttachFile!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="attach-screenshot" class="issueaction-attach-screenshot" href="/jira/secure/AttachScreenshot!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="toggle-vote-issue" class="toggle-vote-issue issueaction-vote-issue" href="/jira/secure/VoteOrWatchIssue.jspa?atl_token=A5KQ-2QAV-T4JA-FDED|0fa8370fb2cb9cef324048520f03dac86a55e7b1|lout&amp;id={0}&amp;vote=vote&returnUrl=/secure/issues"></a>
                            <a id="toggle-vote-issue" class="toggle-vote-issue issueaction-unvote-issue" href="/jira/secure/VoteOrWatchIssue.jspa?atl_token=A5KQ-2QAV-T4JA-FDED|0fa8370fb2cb9cef324048520f03dac86a55e7b1|lout&amp;id={0}&amp;vote=unvote&returnUrl=/secure/issues"></a>
                            <a id="view-voters" class="issueaction-view-voters" href="/jira/secure/ViewVoters!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="toggle-watch-issue" class="issueaction-watch-issue" href="/jira/secure/VoteOrWatchIssue.jspa?atl_token=A5KQ-2QAV-T4JA-FDED|0fa8370fb2cb9cef324048520f03dac86a55e7b1|lout&amp;id={0}&amp;watch=watch&returnUrl=/secure/issues"></a>
                            <a id="toggle-watch-issue" class="issueaction-unwatch-issue" href="/jira/secure/VoteOrWatchIssue.jspa?atl_token=A5KQ-2QAV-T4JA-FDED|0fa8370fb2cb9cef324048520f03dac86a55e7b1|lout&amp;id={0}&amp;watch=unwatch&returnUrl=/secure/issues"></a>
                            <a id="manage-watchers" class="issueaction-manage-watchers" href="/jira/secure/ManageWatchers!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="create-subtask" class="issueaction-create-subtask" href="/jira/secure/CreateSubTaskIssue!default.jspa?parentIssueId={0}&returnUrl=/secure/issues"></a>
                            <a id="subtask-to-issue" class="issueaction-subtask-to-issue" href="/jira/secure/ConvertSubTask.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="issue-to-subtask" class="issueaction-issue-to-subtask" href="/jira/secure/ConvertIssue.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="cta-create-branch" class="devstatus-cta-link" href="#devstatus.cta.createbranch&returnUrl=/secure/issues"></a>
                            <a id="move-issue" class="issueaction-move-issue" href="/jira/secure/MoveIssue!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="move-issue" class="issueaction-move-subtask" href="/jira/secure/MoveSubTaskChooseOperation!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="link-issue" class="issueaction-link-issue" href="/jira/secure/LinkJiraIssue!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="clone-issue" class="issueaction-clone-issue" href="/jira/secure/CloneIssueDetails!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="edit-labels" class="issueaction-edit-labels" href="/jira/secure/EditLabels!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="delete-issue" class="issueaction-delete-issue" href="/jira/secure/DeleteIssue!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                    </div>

        <div id="user-parms" style="display:none;" data-user-parms="{&quot;createSharedObjects&quot;:false,&quot;createIssue&quot;:false}"></div>

        <div class="navigator-sidebar" id="navigator-sidebar">
                        <div style="width:180px">
                                    </div>
        </div>
        <script type="text/javascript">
            if (JIRA.Issues.FilterPanelModel) {
                jQuery(".navigator-sidebar").toggleClass("collapsed", !JIRA.Issues.FilterPanelModel.prototype.isExpanded());
            }
        </script>
        <div class="navigator-body">
            <div class="contained-content">

                <header class="saved-search-selector">
                    <div class="saved-search-operations">
                        <ul class="operations">

                                                        <li class="aui-dd-parent"><a href="#" class="header-views header-operations aui-dropdown-trigger aui-dd-link standard icon-export lnk" title="Export this filter in another format" role="button"><span>Export</span></a></li>
                            <li class="aui-dd-parent"><a href="#" class="header-tools header-operations aui-dropdown-trigger aui-dd-link standard icon-tools" title="Select operations that can be completed" role="button"><span>Tools</span></a></li>

                        </ul>
                        <div class="hidden operations-view-data">
                            <fieldset class="hidden parameters">
                            </fieldset>
                        </div>
                    </div>
                    <div id="throbber-space">&nbsp;</div>
                    <div id="search-header-view">
                        <h1 class="search-title"></h1>
                    </div>
                </header>
                <form class="navigator-search"></form>
                <div class="navigator-group">
                                        <div class="results-panel navigator-item">
                        <div class="navigator-content"
                                data-issue-table-model-state=""
                                data-session-search-state=""
                                data-selected-issue="{&quot;id&quot;:12538494,&quot;key&quot;:&quot;YARN-196&quot;}"
                                data-highlighted-issue-id="">
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="issue-container ">
                                    <div id="issue-content" class="issue-edit-form">
                    <header id="stalker" class="issue-header js-stalker">
                        <div class="issue-header-content"><header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-image"><span id="12313722" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Hadoop YARN" src="https://issues.apache.org/jira/secure/projectavatar?pid=12313722&amp;avatarId=15135" /></span></span></div><!-- .aui-page-header-image --><div class="aui-page-header-main"><ol class="aui-nav aui-nav-breadcrumbs"><li><a id="project-name-val" href="/jira/browse/YARN">Hadoop YARN</a></li><li><a class="issue-link" data-issue-key="YARN-196" href="/jira/browse/YARN-196" id="key-val" rel="12538494">YARN-196</a></li></ol><h1 id="summary-val">Nodemanager should be more robust in handling connection failure  to ResourceManager when a cluster is started</h1></div><!-- .aui-page-header-main --><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div><!-- .aui-page-header-actions --></div><!-- .aui-page-header-inner --></header><!-- .aui-page-header --><div class="command-bar"><div class="ops-cont"><div class="ops-menus aui-toolbar"><div class="toolbar-split toolbar-split-left"><ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"><li class="toolbar-item"><a id="greenhopper-rapidboard-operation"title="View this issue on an Agile board"class="toolbar-trigger issueaction-greenhopper-rapidboard-operation js-rapidboard-operation-issue" href="/jira/secure/GHGoToBoard.jspa?issueId=12538494"><span class="trigger-label">Agile Board</span></a></li></ul><ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul><ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul></div><div class="toolbar-split toolbar-split-right"><ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops"><li class="toolbar-item toolbar-dropdown"><div><a href="#"  id="viewissue-export"title="Export this issue in another format" data-hide-on-scroll=".split-view .issue-container" data-contain-to-window="true" class="toolbar-trigger  js-default-dropdown" ><span class="icon icon-export viewissue-export"></span> <span class="dropdown-text">Export</span><span class="icon drop-menu"></span></a><div class="aui-list hidden"><ul class="aui-list-section aui-first aui-last"><li class="aui-list-item"><a  href="/jira/si/jira.issueviews:issue-xml/YARN-196/YARN-196.xml" class="aui-list-item-link"id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li><li class="aui-list-item"><a  href="/jira/si/jira.issueviews:issue-word/YARN-196/YARN-196.doc" class="aui-list-item-link"id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li><li class="aui-list-item"><a  href="/jira/si/jira.issueviews:issue-html/YARN-196/YARN-196.html" class="aui-list-item-link"id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li></ul></div></div></li></ul></div></div></div></div></div>
                    </header>
                    <div class="issue-body-content">
                        <div class="aui-group issue-body"><div class="aui-item issue-main-column"><div id=details-module class="module toggle-wrap"><div id="details-module_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Details</h2></div><div class="mod-content">




<ul id="issuedetails" class="property-list two-cols">
    <li class="item">
        <div class="wrap">
            <strong class="name">Type:</strong>
            <span id="type-val" class="value">
                                <img  alt="Bug" height="16" src="/jira/images/icons/issuetypes/bug.png" title="Bug - A problem which impairs or prevents the functions of the product." width="16" /> Bug
            </span>
        </div>
    </li>
    <li class="item item-right">
        <div class="wrap">
            <strong class="name">Status:</strong>
            <span id="status-val" class="value">
                                

<img src="/jira/images/icons/statuses/closed.png" width="16" height="16" alt="Closed" title="Closed - The issue is considered finished, the resolution is correct. Issues which are closed can be reopened."> Closed
            </span>
                    </div>
    </li>
            <li class="item">
            <div class="wrap">
                <strong class="name">Priority:</strong>
                <span id="priority-val" class="value">
                                        <img  alt="Major" height="16" src="/jira/images/icons/priorities/major.png" title="Major - Major loss of function." width="16" /> Major
                </span>
            </div>
        </li>
                                <li class="item item-right">
            <div class="wrap">
                <strong class="name">Resolution:</strong>
                <span id="resolution-val" class="value resolved" >
                                     Fixed
                                </span>
            </div>
        </li>
                <li class="item">
            <div class="wrap">
                <strong class="name">Affects Version/s:</strong>
                <span id="versions-val" class="value">
                                            <span class="shorten" id="versions-field">
                                                            <span title="3.0.0 3.0.0 release">3.0.0</span>,                                                            <span title="2.0.0-alpha 2.0.0-alpha release">2.0.0-alpha</span>                                                    </span>
                                    </span>
            </div>
        </li>
                <li class="item item-right">
            <div class="wrap">
                <strong class="name">Fix Version/s:</strong>
                <span id="fixfor-val" class="value">
                                            <span class="shorten" id="fixVersions-field">
                                                            <a href="/jira/browse/YARN/fixforversion/12324029" title="2.1.0-beta 2.1.0-beta release">2.1.0-beta</a>                                                    </span>
                                    </span>
            </div>
        </li>
                <li class="item">
            <div class="wrap">
                <strong class="name">Component/s:</strong>
                <span id="components-val" class="value">
                                            <span class="shorten" id="components-field">
                                                            <a href="/jira/browse/YARN/component/12319323" title="nodemanager ">nodemanager</a>                                                    </span>
                                    </span>
            </div>
        </li>
                    <li class="item full-width">
            <div class="wrap" id="wrap-labels">
                <strong class="name">Labels:</strong>
                    <div class="labels-wrap value">
            <span class="labels" id="labels-12538494-value">None</span>
                </div>
            </div>
        </li>
        </ul>

</div></div><div id=descriptionmodule class="module toggle-wrap"><div id="descriptionmodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Description</h2></div><div class="mod-content"><div id="description-val" class="field-ignore-highlight">
    <div class="user-content-block">
                    <p>If NM is started before starting the RM ,NM is shutting down with the following error</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
ERROR org.apache.hadoop.yarn.service.CompositeService: Error starting services org.apache.hadoop.yarn.server.nodemanager.NodeManager
org.apache.avro.AvroRuntimeException: java.lang.reflect.UndeclaredThrowableException
	at org.apache.hadoop.yarn.server.nodemanager.NodeStatusUpdaterImpl.start(NodeStatusUpdaterImpl.java:149)
	at org.apache.hadoop.yarn.service.CompositeService.start(CompositeService.java:68)
	at org.apache.hadoop.yarn.server.nodemanager.NodeManager.start(NodeManager.java:167)
	at org.apache.hadoop.yarn.server.nodemanager.NodeManager.main(NodeManager.java:242)
Caused by: java.lang.reflect.UndeclaredThrowableException
	at org.apache.hadoop.yarn.server.api.impl.pb.client.ResourceTrackerPBClientImpl.registerNodeManager(ResourceTrackerPBClientImpl.java:66)
	at org.apache.hadoop.yarn.server.nodemanager.NodeStatusUpdaterImpl.registerWithRM(NodeStatusUpdaterImpl.java:182)
	at org.apache.hadoop.yarn.server.nodemanager.NodeStatusUpdaterImpl.start(NodeStatusUpdaterImpl.java:145)
	... 3 more
Caused by: com.google.protobuf.ServiceException: java.net.ConnectException: Call From HOST-10-18-52-230/10.18.52.230 to HOST-10-18-52-250:8025 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http:<span class="code-comment">//wiki.apache.org/hadoop/ConnectionRefused
</span>	at org.apache.hadoop.yarn.ipc.ProtoOverHadoopRpcEngine$Invoker.invoke(ProtoOverHadoopRpcEngine.java:131)
	at $Proxy23.registerNodeManager(Unknown Source)
	at org.apache.hadoop.yarn.server.api.impl.pb.client.ResourceTrackerPBClientImpl.registerNodeManager(ResourceTrackerPBClientImpl.java:59)
	... 5 more
Caused by: java.net.ConnectException: Call From HOST-10-18-52-230/10.18.52.230 to HOST-10-18-52-250:8025 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http:<span class="code-comment">//wiki.apache.org/hadoop/ConnectionRefused
</span>	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:857)
	at org.apache.hadoop.ipc.Client.call(Client.java:1141)
	at org.apache.hadoop.ipc.Client.call(Client.java:1100)
	at org.apache.hadoop.yarn.ipc.ProtoOverHadoopRpcEngine$Invoker.invoke(ProtoOverHadoopRpcEngine.java:128)
	... 7 more
Caused by: java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:574)
	at org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)
	at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:659)
	at org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:469)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:563)
	at org.apache.hadoop.ipc.Client$Connection.access$2000(Client.java:211)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1247)
	at org.apache.hadoop.ipc.Client.call(Client.java:1117)
	... 9 more
2012-01-16 15:04:13,336 WARN org.apache.hadoop.yarn.event.AsyncDispatcher: AsyncDispatcher thread interrupted
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:1899)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1934)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:358)
	at org.apache.hadoop.yarn.event.AsyncDispatcher$1.run(AsyncDispatcher.java:76)
	at java.lang.<span class="code-object">Thread</span>.run(<span class="code-object">Thread</span>.java:619)
2012-01-16 15:04:13,337 INFO org.apache.hadoop.yarn.service.AbstractService: Service:Dispatcher is stopped.
2012-01-16 15:04:13,392 INFO org.mortbay.log: Stopped SelectChannelConnector@0.0.0.0:9999
2012-01-16 15:04:13,493 INFO org.apache.hadoop.yarn.service.AbstractService: Service:org.apache.hadoop.yarn.server.nodemanager.webapp.WebServer is stopped.
2012-01-16 15:04:13,493 INFO org.apache.hadoop.ipc.Server: Stopping server on 24290
2012-01-16 15:04:13,494 INFO org.apache.hadoop.ipc.Server: Stopping IPC Server listener on 24290
2012-01-16 15:04:13,495 INFO org.apache.hadoop.ipc.Server: Stopping IPC Server Responder
2012-01-16 15:04:13,496 INFO org.apache.hadoop.yarn.service.AbstractService: Service:org.apache.hadoop.yarn.server.nodemanager.containermanager.loghandler.NonAggregatingLogHandler is stopped.
2012-01-16 15:04:13,496 WARN org.apache.hadoop.yarn.event.AsyncDispatcher: AsyncDispatcher thread interrupted
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:1899)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1934)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:358)
	at org.apache.hadoop.yarn.event.AsyncDispatcher$1.run(AsyncDispatcher.java:76)
	at java.lang.<span class="code-object">Thread</span>.run(<span class="code-object">Thread</span>.java:619)
</pre>
</div></div>
            </div>
</div>
</div></div><div id=attachmentmodule class="module toggle-wrap"><div id="attachmentmodule_heading" class="mod-header"><ul class="ops"><li class="drop"><div class="aui-dd-parent"><a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a><div class="aui-dropdown-content aui-list"><ul id="attachment-sorting-options"class="aui-list-section aui-first"><li class="aui-list-item"><a id="attachment-sort-key-name"href="/jira/browse/YARN-196?attachmentSortBy=fileName#attachmentmodule"class="aui-list-checked aui-checked aui-list-item-link"title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li><li class="aui-list-item"><a id="attachment-sort-key-date"href="/jira/browse/YARN-196?attachmentSortBy=dateTime#attachmentmodule"class="aui-list-checked aui-list-item-link"title="Sort By Date"><span>Sort By Date</span></a></li></ul><ul id="attachment-sorting-order-options"class="aui-list-section aui-last"><li class="aui-list-item"><a id="attachment-sort-direction-asc"href="/jira/browse/YARN-196?attachmentOrder=asc#attachmentmodule"class="aui-list-checked aui-checked aui-list-item-link"title="Ascending"><span>Ascending</span></a></li><li class="aui-list-item"><a id="attachment-sort-direction-desc"href="/jira/browse/YARN-196?attachmentOrder=desc#attachmentmodule"class="aui-list-checked aui-list-item-link"title="Descending"><span>Descending</span></a></li></ul></div></div></li></ul><h2 class="toggle-title">Attachments</h2></div><div class="mod-content">
            <ol id="file_attachments" class="item-attachments">
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12518199/MAPREDUCE-3676.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:MAPREDUCE-3676.patch:https://issues.apache.org/jira/secure/attachment/12518199/MAPREDUCE-3676.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12518199/MAPREDUCE-3676.patch"
            title="Latest  13/Mar/12 17:09 - B Anil Kumar" draggable="true"
            data-downloadurl="${attachment.mimetype}:MAPREDUCE-3676.patch:https://issues.apache.org/jira/secure/attachment/12518199/MAPREDUCE-3676.patch">MAPREDUCE-3676.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2012-03-13T17:09+0000">13/Mar/12 17:09</time></dd>
    <dd class="attachment-size">1 kB</dd>
    <dd class="attachment-author">B Anil Kumar</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12568507/YARN-196.1.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.1.patch:https://issues.apache.org/jira/secure/attachment/12568507/YARN-196.1.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12568507/YARN-196.1.patch"
            title="Latest  08/Feb/13 01:07 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.1.patch:https://issues.apache.org/jira/secure/attachment/12568507/YARN-196.1.patch">YARN-196.1.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-02-08T01:07+0000">08/Feb/13 01:07</time></dd>
    <dd class="attachment-size">3 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12572847/YARN-196.10.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.10.patch:https://issues.apache.org/jira/secure/attachment/12572847/YARN-196.10.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12572847/YARN-196.10.patch"
            title="Latest  08/Mar/13 22:34 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.10.patch:https://issues.apache.org/jira/secure/attachment/12572847/YARN-196.10.patch">YARN-196.10.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-03-08T22:34+0000">08/Mar/13 22:34</time></dd>
    <dd class="attachment-size">12 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12573120/YARN-196.11.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.11.patch:https://issues.apache.org/jira/secure/attachment/12573120/YARN-196.11.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12573120/YARN-196.11.patch"
            title="Latest  11/Mar/13 17:01 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.11.patch:https://issues.apache.org/jira/secure/attachment/12573120/YARN-196.11.patch">YARN-196.11.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-03-11T17:01+0000">11/Mar/13 17:01</time></dd>
    <dd class="attachment-size">12 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12573764/YARN-196.12.1.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.12.1.patch:https://issues.apache.org/jira/secure/attachment/12573764/YARN-196.12.1.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12573764/YARN-196.12.1.patch"
            title="Latest  14/Mar/13 20:56 - Hitesh Shah" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.12.1.patch:https://issues.apache.org/jira/secure/attachment/12573764/YARN-196.12.1.patch">YARN-196.12.1.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-03-14T20:56+0000">14/Mar/13 20:56</time></dd>
    <dd class="attachment-size">12 kB</dd>
    <dd class="attachment-author">Hitesh Shah</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12573196/YARN-196.12.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.12.patch:https://issues.apache.org/jira/secure/attachment/12573196/YARN-196.12.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12573196/YARN-196.12.patch"
            title="Latest  11/Mar/13 22:25 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.12.patch:https://issues.apache.org/jira/secure/attachment/12573196/YARN-196.12.patch">YARN-196.12.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-03-11T22:25+0000">11/Mar/13 22:25</time></dd>
    <dd class="attachment-size">12 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12568531/YARN-196.2.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.2.patch:https://issues.apache.org/jira/secure/attachment/12568531/YARN-196.2.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12568531/YARN-196.2.patch"
            title="Latest  08/Feb/13 04:55 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.2.patch:https://issues.apache.org/jira/secure/attachment/12568531/YARN-196.2.patch">YARN-196.2.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-02-08T04:55+0000">08/Feb/13 04:55</time></dd>
    <dd class="attachment-size">3 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12568891/YARN-196.3.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.3.patch:https://issues.apache.org/jira/secure/attachment/12568891/YARN-196.3.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12568891/YARN-196.3.patch"
            title="Latest  11/Feb/13 21:22 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.3.patch:https://issues.apache.org/jira/secure/attachment/12568891/YARN-196.3.patch">YARN-196.3.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-02-11T21:22+0000">11/Feb/13 21:22</time></dd>
    <dd class="attachment-size">9 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12569621/YARN-196.4.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.4.patch:https://issues.apache.org/jira/secure/attachment/12569621/YARN-196.4.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12569621/YARN-196.4.patch"
            title="Latest  15/Feb/13 23:51 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.4.patch:https://issues.apache.org/jira/secure/attachment/12569621/YARN-196.4.patch">YARN-196.4.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-02-15T23:51+0000">15/Feb/13 23:51</time></dd>
    <dd class="attachment-size">11 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12570598/YARN-196.5.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.5.patch:https://issues.apache.org/jira/secure/attachment/12570598/YARN-196.5.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12570598/YARN-196.5.patch"
            title="Latest  23/Feb/13 04:18 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.5.patch:https://issues.apache.org/jira/secure/attachment/12570598/YARN-196.5.patch">YARN-196.5.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-02-23T04:18+0000">23/Feb/13 04:18</time></dd>
    <dd class="attachment-size">11 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12571485/YARN-196.6.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.6.patch:https://issues.apache.org/jira/secure/attachment/12571485/YARN-196.6.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12571485/YARN-196.6.patch"
            title="Latest  28/Feb/13 22:46 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.6.patch:https://issues.apache.org/jira/secure/attachment/12571485/YARN-196.6.patch">YARN-196.6.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-02-28T22:46+0000">28/Feb/13 22:46</time></dd>
    <dd class="attachment-size">11 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12571927/YARN-196.7.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.7.patch:https://issues.apache.org/jira/secure/attachment/12571927/YARN-196.7.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12571927/YARN-196.7.patch"
            title="Latest  04/Mar/13 19:03 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.7.patch:https://issues.apache.org/jira/secure/attachment/12571927/YARN-196.7.patch">YARN-196.7.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-03-04T19:03+0000">04/Mar/13 19:03</time></dd>
    <dd class="attachment-size">11 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12571982/YARN-196.8.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.8.patch:https://issues.apache.org/jira/secure/attachment/12571982/YARN-196.8.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12571982/YARN-196.8.patch"
            title="Latest  04/Mar/13 23:15 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.8.patch:https://issues.apache.org/jira/secure/attachment/12571982/YARN-196.8.patch">YARN-196.8.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-03-04T23:15+0000">04/Mar/13 23:15</time></dd>
    <dd class="attachment-size">11 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12572834/YARN-196.9.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:YARN-196.9.patch:https://issues.apache.org/jira/secure/attachment/12572834/YARN-196.9.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12572834/YARN-196.9.patch"
            title="Latest  08/Mar/13 21:32 - Xuan Gong" draggable="true"
            data-downloadurl="${attachment.mimetype}:YARN-196.9.patch:https://issues.apache.org/jira/secure/attachment/12572834/YARN-196.9.patch">YARN-196.9.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2013-03-08T21:32+0000">08/Mar/13 21:32</time></dd>
    <dd class="attachment-size">12 kB</dd>
    <dd class="attachment-author">Xuan Gong</dd>
                        </dl>
                                    </li>
                    </ol>
        </div></div><div id=linkingmodule class="module toggle-wrap"><div id="linkingmodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Issue Links</h2></div><div class="mod-content">






        <dl class="links-list ">
        <dt title="duplicates">duplicates</dt>
                    <dd id="internal-12609990_12310000"
                            >
            <div class="link-content">
                                    



<p>
            <img src="/jira/images/icons/issuetypes/bug.png" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product." />
        <span title="YARN-141: NodeManager shuts down if it can&#39;t find the ResourceManager">
        <a href="/jira/browse/YARN-141" data-issue-key="YARN-141" class="issue-link link-title resolution">YARN-141</a>
        <span class="link-summary">NodeManager shuts down if it can&#39;t find the ResourceManager</span>
    </span>
</p>
<ul class="link-snapshot">
        <li class="priority">        <img src="/jira/images/icons/priorities/major.png" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function." />
    </li>
                        <li class="status">        <img src="/jira/images/icons/statuses/resolved.png" width="16" height="16" title="Resolved - A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed." alt="Resolved - A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed." />
    </li>
            </ul>
                            </div>
                    </dd>
            </dl>
        <dl class="links-list ">
        <dt title="is related to">is related to</dt>
                    <dd id="internal-12637094_10030"
                            >
            <div class="link-content">
                                    



<p>
            <img src="/jira/images/icons/issuetypes/bug.png" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product." />
        <span title="YARN-479: NM retry behavior for connection to RM should be similar for lost heartbeats">
        <a href="/jira/browse/YARN-479" data-issue-key="YARN-479" class="issue-link link-title resolution">YARN-479</a>
        <span class="link-summary">NM retry behavior for connection to RM should be similar for lost heartbeats</span>
    </span>
</p>
<ul class="link-snapshot">
        <li class="priority">        <img src="/jira/images/icons/priorities/major.png" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function." />
    </li>
                        <li class="status">        <img src="/jira/images/icons/statuses/closed.png" width="16" height="16" title="Closed - The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened." alt="Closed - The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened." />
    </li>
            </ul>
                            </div>
                    </dd>
            </dl>
        
    <script type="text/javascript">
        function updateRemoteLink(id, htmlElementId) {
            JIRA.SmartAjax.makeRequest({
                error: function(jqXHR, textStatus, errorThrown) {
                    AJS.$("#" + htmlElementId + " div.link-content .link-loading").
                            removeClass("link-loading").
                            addClass("link-loading-failed").
                            html("Failed to load");
                    AJS.$("#" + htmlElementId + " div.link-content .link-throbber").html("<img src='/jira/images/icons/generic_link_16.png' width='16' height='16' title='' alt='' />")
                },
                success: function(data) {
                    AJS.$("#" + htmlElementId + " div.link-content").html(data);
                },
                url: "/jira/rest/viewIssue/1/remoteIssueLink/render/" + id
            });
        }

                                                                                                                
            </script>

</div></div><div id=activitymodule class="module toggle-wrap"><div id="activitymodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Activity</h2></div><div class="mod-content">










    <div class="tabwrap tabs2">
                    <div class="sortwrap">
                                    <a class="icon icon-sort-down ajax-activity-content" rel="nofollow" href="/jira/browse/YARN-196?actionOrder=desc" title="Ascending order - Click to sort in descending order"><span>Ascending order - Click to sort in descending order</span></a>
                            </div>
                <ul id="issue-tabs" class="tabs horizontal">
                                
            <li  data-id="all-tabpanel" data-key="com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel" data-label="All" data-href="/jira/browse/YARN-196?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel">
                            <a class="ajax-activity-content" id="all-tabpanel" href="/jira/browse/YARN-196?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel"><strong>All</strong></a>
                        </li>
                                
            <li  class="active" id="comment-tabpanel"  data-id="comment-tabpanel" data-key="com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel" data-label="Comments" data-href="/jira/browse/YARN-196?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel">
                            <strong>Comments</strong>
                        </li>
                                
            <li  data-id="worklog-tabpanel" data-key="com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel" data-label="Work Log" data-href="/jira/browse/YARN-196?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel">
                            <a class="ajax-activity-content" id="worklog-tabpanel" href="/jira/browse/YARN-196?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel"><strong>Work Log</strong></a>
                        </li>
                                
            <li  data-id="changehistory-tabpanel" data-key="com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel" data-label="History" data-href="/jira/browse/YARN-196?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel">
                            <a class="ajax-activity-content" id="changehistory-tabpanel" href="/jira/browse/YARN-196?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel"><strong>History</strong></a>
                        </li>
                                
            <li  data-id="activity-stream-issue-tab" data-key="com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab" data-label="Activity" data-href="/jira/browse/YARN-196?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab">
                            <a class="ajax-activity-content" id="activity-stream-issue-tab" href="/jira/browse/YARN-196?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab"><strong>Activity</strong></a>
                        </li>
                                
            <li  data-id="dvcs-commits-tabpanel" data-key="com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:dvcs-commits-tabpanel" data-label="Commits" data-href="/jira/browse/YARN-196?page=com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:dvcs-commits-tabpanel">
                            <a class="ajax-activity-content" id="dvcs-commits-tabpanel" href="/jira/browse/YARN-196?page=com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:dvcs-commits-tabpanel"><strong>Commits</strong></a>
                        </li>
                                
            <li  data-id="fisheye-issuepanel" data-key="com.atlassian.jirafisheyeplugin:fisheye-issuepanel" data-label="Source" data-href="/jira/browse/YARN-196?page=com.atlassian.jirafisheyeplugin:fisheye-issuepanel">
                            <a class="ajax-activity-content" id="fisheye-issuepanel" href="/jira/browse/YARN-196?page=com.atlassian.jirafisheyeplugin:fisheye-issuepanel"><strong>Source</strong></a>
                        </li>
                </ul>
    </div>
    <div class="issuePanelWrapper">
        <div class="issuePanelProgress"></div>
        <div class="issuePanelContainer" id="issue_actions_container">
                                    


<div id="comment-13192361" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13192361&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13192361" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="akumarb2010" id="commentauthor_13192361_verbose" href="/jira/secure/ViewProfile.jspa?name=akumarb2010"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> B Anil Kumar</a>
 added a comment  - <span class='commentdate_13192361_verbose subText'><span class='date user-tz' title='24/Jan/12 18:46'><time class='livestamp' datetime='2012-01-24T18:46+0000'>24/Jan/12 18:46</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>When NM is started before RM, I think NM gets <b>YarnRemoteException</b> (due to network unreachability) while trying to register with RM. </p>

<p>However when RM goes down, NM tries forever.  I think, NM should retry only <b>yarn.nm.liveness-monitor.expiry-interval-ms</b> amount of time, and then it should get shudown, as there is no use of retrying after this amount time.</p>

<p>any comments?</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="akumarb2010" id="commentauthor_13192361_concise" href="/jira/secure/ViewProfile.jspa?name=akumarb2010"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> B Anil Kumar</a>
 added a comment  - <span class='commentdate_13192361_concise subText'><span class='date user-tz' title='24/Jan/12 18:46'><time class='livestamp' datetime='2012-01-24T18:46+0000'>24/Jan/12 18:46</time></span></span>                    When NM is started before RM, I think NM gets  YarnRemoteException  (due to network unreachability) while trying to register with RM.  

 However when RM goes down, NM tries forever.  I think, NM should retry only  yarn.nm.liveness-monitor.expiry-interval-ms  amount of time, and then it should get shudown, as there is no use of retrying after this amount time. 

 any comments?              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13228520" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13228520&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13228520" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="akumarb2010" id="commentauthor_13228520_verbose" href="/jira/secure/ViewProfile.jspa?name=akumarb2010"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> B Anil Kumar</a>
 added a comment  - <span class='commentdate_13228520_verbose subText'><span class='date user-tz' title='13/Mar/12 17:09'><time class='livestamp' datetime='2012-03-13T17:09+0000'>13/Mar/12 17:09</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Currently, If NM starts before RM, then NM gets shutdown due to registration failure.  But I <b>think</b>, an NM can start before RM, so instead of lettting NM down, it would be better to retry RM, till it is up.</p>

<p>The same has been provided as patch.  Please let me know, whether this approach is OK or not.</p>

<p>And moreover second case, retrying RM continuously, after RM and NM started and RM's unavailabilty, seems<br/>
  correct. </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="akumarb2010" id="commentauthor_13228520_concise" href="/jira/secure/ViewProfile.jspa?name=akumarb2010"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> B Anil Kumar</a>
 added a comment  - <span class='commentdate_13228520_concise subText'><span class='date user-tz' title='13/Mar/12 17:09'><time class='livestamp' datetime='2012-03-13T17:09+0000'>13/Mar/12 17:09</time></span></span>                    Currently, If NM starts before RM, then NM gets shutdown due to registration failure.  But I  think , an NM can start before RM, so instead of lettting NM down, it would be better to retry RM, till it is up. 

 The same has been provided as patch.  Please let me know, whether this approach is OK or not. 

 And moreover second case, retrying RM continuously, after RM and NM started and RM's unavailabilty, seems 
  correct.               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13228525" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13228525&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13228525" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="acmurthy" id="commentauthor_13228525_verbose" href="/jira/secure/ViewProfile.jspa?name=acmurthy"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Arun C Murthy</a>
 added a comment  - <span class='commentdate_13228525_verbose subText'><span class='date user-tz' title='13/Mar/12 17:22'><time class='livestamp' datetime='2012-03-13T17:22+0000'>13/Mar/12 17:22</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Re-trying for a certain number of times before giving up seems reasonable.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="acmurthy" id="commentauthor_13228525_concise" href="/jira/secure/ViewProfile.jspa?name=acmurthy"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Arun C Murthy</a>
 added a comment  - <span class='commentdate_13228525_concise subText'><span class='date user-tz' title='13/Mar/12 17:22'><time class='livestamp' datetime='2012-03-13T17:22+0000'>13/Mar/12 17:22</time></span></span>                    Re-trying for a certain number of times before giving up seems reasonable.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13228544" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13228544&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13228544" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="akumarb2010" id="commentauthor_13228544_verbose" href="/jira/secure/ViewProfile.jspa?name=akumarb2010"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> B Anil Kumar</a>
 added a comment  - <span class='commentdate_13228544_verbose subText'><span class='date user-tz' title='13/Mar/12 18:00'><time class='livestamp' datetime='2012-03-13T18:00+0000'>13/Mar/12 18:00</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>  Thanks Arun for your input.  Is it ok to introduce configuration parameters with default values like</p>

<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'>Configuration Parameter</th>
<th class='confluenceTh'>Default Value</th>
</tr>
<tr>
<td class='confluenceTd'>NM_PREFIX + resourcemanager.retry.count</td>
<td class='confluenceTd'>10</td>
</tr>
<tr>
<td class='confluenceTd'>NM_PREFIX + resourcemanager.retry.interval.ms</td>
<td class='confluenceTd'>1000</td>
</tr>
</tbody></table>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="akumarb2010" id="commentauthor_13228544_concise" href="/jira/secure/ViewProfile.jspa?name=akumarb2010"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> B Anil Kumar</a>
 added a comment  - <span class='commentdate_13228544_concise subText'><span class='date user-tz' title='13/Mar/12 18:00'><time class='livestamp' datetime='2012-03-13T18:00+0000'>13/Mar/12 18:00</time></span></span>                      Thanks Arun for your input.  Is it ok to introduce configuration parameters with default values like 

  
 
 Configuration Parameter 
 Default Value 
 
 
 NM_PREFIX + resourcemanager.retry.count 
 10 
 
 
 NM_PREFIX + resourcemanager.retry.interval.ms 
 1000 
 
  
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13274047" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13274047&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13274047" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="subrotosanyal" id="commentauthor_13274047_verbose" href="/jira/secure/ViewProfile.jspa?name=subrotosanyal"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10438" /></span></span> Subroto Sanyal</a>
 added a comment  - <span class='commentdate_13274047_verbose subText'><span class='date user-tz' title='12/May/12 18:30'><time class='livestamp' datetime='2012-05-12T18:30+0100'>12/May/12 18:30</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Met with the issue today while booting up cdh4b2 in our cluster  ....  <img class="emoticon" src="/jira/images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="subrotosanyal" id="commentauthor_13274047_concise" href="/jira/secure/ViewProfile.jspa?name=subrotosanyal"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10438" /></span></span> Subroto Sanyal</a>
 added a comment  - <span class='commentdate_13274047_concise subText'><span class='date user-tz' title='12/May/12 18:30'><time class='livestamp' datetime='2012-05-12T18:30+0100'>12/May/12 18:30</time></span></span>                    Met with the issue today while booting up cdh4b2 in our cluster  ....                 </div>
        </div>
    </div>
</div>
                             


<div id="comment-13574145" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13574145&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13574145" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13574145_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13574145_verbose subText'><span class='date user-tz' title='08/Feb/13 01:27'><time class='livestamp' datetime='2013-02-08T01:27+0000'>08/Feb/13 01:27</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="red">-1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12568507/YARN-196.1.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12568507/YARN-196.1.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="red">-1 tests included</font>.  The patch doesn't appear to include any new or modified tests.<br/>
                        Please justify why no new tests are needed for this patch.<br/>
                        Also please list what manual steps were performed to verify this patch.</p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="green">+1 eclipse:eclipse</font>.  The patch built with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="red">-1 core tests</font>.  The patch failed these unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager:</p>

<p>                  org.apache.hadoop.yarn.server.nodemanager.TestNodeStatusUpdater</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/396//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/396//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/396//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/396//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13574145_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13574145_concise subText'><span class='date user-tz' title='08/Feb/13 01:27'><time class='livestamp' datetime='2013-02-08T01:27+0000'>08/Feb/13 01:27</time></span></span>                     -1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12568507/YARN-196.1.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      -1 tests included .  The patch doesn't appear to include any new or modified tests. 
                        Please justify why no new tests are needed for this patch. 
                        Also please list what manual steps were performed to verify this patch. 

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      +1 eclipse:eclipse .  The patch built with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      -1 core tests .  The patch failed these unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager: 

                   org.apache.hadoop.yarn.server.nodemanager.TestNodeStatusUpdater 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/396//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/396//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13574246" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13574246&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13574246" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="xgong" id="commentauthor_13574246_verbose" href="/jira/secure/ViewProfile.jspa?name=xgong"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Xuan Gong</a>
 added a comment  - <span class='commentdate_13574246_verbose subText'><span class='date user-tz' title='08/Feb/13 04:55'><time class='livestamp' datetime='2013-02-08T04:55+0000'>08/Feb/13 04:55</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Fix the test failure.<br/>
testNMShutdownForRegistrationFailure will cover this update</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="xgong" id="commentauthor_13574246_concise" href="/jira/secure/ViewProfile.jspa?name=xgong"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Xuan Gong</a>
 added a comment  - <span class='commentdate_13574246_concise subText'><span class='date user-tz' title='08/Feb/13 04:55'><time class='livestamp' datetime='2013-02-08T04:55+0000'>08/Feb/13 04:55</time></span></span>                    Fix the test failure. 
testNMShutdownForRegistrationFailure will cover this update              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13574262" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13574262&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13574262" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13574262_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13574262_verbose subText'><span class='date user-tz' title='08/Feb/13 05:17'><time class='livestamp' datetime='2013-02-08T05:17+0000'>08/Feb/13 05:17</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="red">-1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12568531/YARN-196.2.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12568531/YARN-196.2.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="red">-1 tests included</font>.  The patch doesn't appear to include any new or modified tests.<br/>
                        Please justify why no new tests are needed for this patch.<br/>
                        Also please list what manual steps were performed to verify this patch.</p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="green">+1 eclipse:eclipse</font>.  The patch built with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/397//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/397//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/397//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/397//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13574262_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13574262_concise subText'><span class='date user-tz' title='08/Feb/13 05:17'><time class='livestamp' datetime='2013-02-08T05:17+0000'>08/Feb/13 05:17</time></span></span>                     -1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12568531/YARN-196.2.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      -1 tests included .  The patch doesn't appear to include any new or modified tests. 
                        Please justify why no new tests are needed for this patch. 
                        Also please list what manual steps were performed to verify this patch. 

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      +1 eclipse:eclipse .  The patch built with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/397//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/397//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13574908" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13574908&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13574908" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13574908_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13574908_verbose subText'><span class='date user-tz' title='08/Feb/13 22:45'><time class='livestamp' datetime='2013-02-08T22:45+0000'>08/Feb/13 22:45</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Xuan, some comments:</p>
<ul class="alternate" type="square">
	<li>testNMShutdownForRegistrationFailure tests for an explicit command from the RM telling the NM to shut down.</li>
	<li>failing within 10 seconds seems too quick. The rpc layer internally retries for a certain time period. From the NM layer, we should probably have a total time length defined - say 15 mins and retry after 30 seconds or so within that time period.</li>
	<li>also someone should be able to set the time period to -1 to disable the upper bound and retry forever if needed.</li>
	<li>use same conventions as used elsewhere when naming variables - rm_Retry_interval_ms does not confirm to the standards defined in the class.</li>
	<li>"LOG.debug("Fail to connect to RM");" - change to error and log the exception stack trace unless it is being caught elsewhere and being printed. It would also help to log how many retries were attempted before failing out.</li>
	<li>in the start() function, there is an AvroRuntimeException being thrown - we should replace that with YarnException or an appropriate runtime exception.</li>
	<li>isRMStarted var is not needed - a simple break in the loop if the registration is done should suffice.</li>
	<li>please remove the space in "rm_Retry_Count --;"</li>
	<li>the debug log message at the end of the loop should be set to use WARN level. Also, please re-phrase it for more clarity - something along the lines of Retrying connecting to RM, current no. of failed attempts ...</li>
	<li>the current patch seems to be catching all exceptions. This will cause a problem in the case where the RM explicitly asks the NM to shutdown - maybe it makes sense to move the retry logic into the registerWithRM function?</li>
</ul>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13574908_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13574908_concise subText'><span class='date user-tz' title='08/Feb/13 22:45'><time class='livestamp' datetime='2013-02-08T22:45+0000'>08/Feb/13 22:45</time></span></span>                    Xuan, some comments: 
 
	 testNMShutdownForRegistrationFailure tests for an explicit command from the RM telling the NM to shut down. 
	 failing within 10 seconds seems too quick. The rpc layer internally retries for a certain time period. From the NM layer, we should probably have a total time length defined - say 15 mins and retry after 30 seconds or so within that time period. 
	 also someone should be able to set the time period to -1 to disable the upper bound and retry forever if needed. 
	 use same conventions as used elsewhere when naming variables - rm_Retry_interval_ms does not confirm to the standards defined in the class. 
	 "LOG.debug("Fail to connect to RM");" - change to error and log the exception stack trace unless it is being caught elsewhere and being printed. It would also help to log how many retries were attempted before failing out. 
	 in the start() function, there is an AvroRuntimeException being thrown - we should replace that with YarnException or an appropriate runtime exception. 
	 isRMStarted var is not needed - a simple break in the loop if the registration is done should suffice. 
	 please remove the space in "rm_Retry_Count --;" 
	 the debug log message at the end of the loop should be set to use WARN level. Also, please re-phrase it for more clarity - something along the lines of Retrying connecting to RM, current no. of failed attempts ... 
	 the current patch seems to be catching all exceptions. This will cause a problem in the case where the RM explicitly asks the NM to shutdown - maybe it makes sense to move the retry logic into the registerWithRM function? 
 
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13576156" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13576156&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13576156" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13576156_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13576156_verbose subText'><span class='date user-tz' title='11/Feb/13 21:48'><time class='livestamp' datetime='2013-02-11T21:48+0000'>11/Feb/13 21:48</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="green">+1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12568891/YARN-196.3.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12568891/YARN-196.3.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="green">+1 eclipse:eclipse</font>.  The patch built with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/401//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/401//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/401//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/401//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13576156_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13576156_concise subText'><span class='date user-tz' title='11/Feb/13 21:48'><time class='livestamp' datetime='2013-02-11T21:48+0000'>11/Feb/13 21:48</time></span></span>                     +1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12568891/YARN-196.3.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      +1 eclipse:eclipse .  The patch built with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/401//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/401//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13576166" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13576166&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13576166" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13576166_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13576166_verbose subText'><span class='date user-tz' title='11/Feb/13 22:12'><time class='livestamp' datetime='2013-02-11T22:12+0000'>11/Feb/13 22:12</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>More comments:</p>
<ul class="alternate" type="square">
	<li>Please restrict lines to 80 chars.</li>
	<li>boolean waitForEver = (rmWaitMS==-1)? ... could be re-written as "boolean waitForEver = (rmWaitMS == -1);"</li>
	<li>we could change WAIT_MS and RETRY_INTERVAL_MS to WAIT_SECS and RETRY_PERIOD_SECS as the normal scale used is seconds?</li>
</ul>


<blockquote>
<p>the current patch seems to be catching all exceptions. This will cause a problem in the case where the RM explicitly asks the NM to shutdown - maybe it makes sense to move the retry logic into the registerWithRM function?</p></blockquote>

<p>The above comment for patch-2 does not seem to have been addressed in the latest patch. </p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
+          <span class="code-object">String</span> errorMessage = <span class="code-quote">"\nFailed to Connect to RM, no. of failed attemps is "</span>+rmRetryCount;
+          LOG.error(e+errorMessage);
+          <span class="code-keyword">throw</span> <span class="code-keyword">new</span> YarnException(e+errorMessage);
</pre>
</div></div>

<ul class="alternate" type="square">
	<li>Please do not use \n. It is not platform independent.</li>
	<li>You can use the LOG.error(message, throwable) api.</li>
	<li>Likewise you could use YarnException(String message, Throwable cause)</li>
</ul>


 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13576166_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13576166_concise subText'><span class='date user-tz' title='11/Feb/13 22:12'><time class='livestamp' datetime='2013-02-11T22:12+0000'>11/Feb/13 22:12</time></span></span>                    More comments: 
 
	 Please restrict lines to 80 chars. 
	 boolean waitForEver = (rmWaitMS==-1)? ... could be re-written as "boolean waitForEver = (rmWaitMS == -1);" 
	 we could change WAIT_MS and RETRY_INTERVAL_MS to WAIT_SECS and RETRY_PERIOD_SECS as the normal scale used is seconds? 
 


 
 the current patch seems to be catching all exceptions. This will cause a problem in the case where the RM explicitly asks the NM to shutdown - maybe it makes sense to move the retry logic into the registerWithRM function?  

 The above comment for patch-2 does not seem to have been addressed in the latest patch.  

  
 
+           String  errorMessage =  "\nFailed to Connect to RM, no. of failed attemps is " +rmRetryCount;
+          LOG.error(e+errorMessage);
+           throw   new  YarnException(e+errorMessage);
 
  

 
	 Please do not use \n. It is not platform independent. 
	 You can use the LOG.error(message, throwable) api. 
	 Likewise you could use YarnException(String message, Throwable cause) 
 


             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13576194" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13576194&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13576194" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13576194_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13576194_verbose subText'><span class='date user-tz' title='11/Feb/13 22:57'><time class='livestamp' datetime='2013-02-11T22:57+0000'>11/Feb/13 22:57</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Sorry - ran through the patch too quickly. Xuan, please ignore my comment on addressing the moving of code to the <br/>
registerWithRM function. </p>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13576194_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13576194_concise subText'><span class='date user-tz' title='11/Feb/13 22:57'><time class='livestamp' datetime='2013-02-11T22:57+0000'>11/Feb/13 22:57</time></span></span>                    Sorry - ran through the patch too quickly. Xuan, please ignore my comment on addressing the moving of code to the  
registerWithRM function.  
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13579475" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13579475&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13579475" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13579475_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13579475_verbose subText'><span class='date user-tz' title='15/Feb/13 20:04'><time class='livestamp' datetime='2013-02-15T20:04+0000'>15/Feb/13 20:04</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Fix trailing space issues in the patch. There also seem to be tabs in the patch.</p>

<p>Some comments on the test code: </p>
<ul class="alternate" type="square">
	<li>indentation issues in MyNodeStatusUpdater4</li>
	<li>change code layout to put MyNodeStatusUpdater4 after MyNodeStatusUpdater3</li>
	<li>fix MyNodeStatusUpdater4 to make waitIntervalMS a final field and passed in via the ctor.</li>
	<li>likewise fo waitForEver</li>
	<li>MyNodeStatusUpdater4::getRMClient does not use waitIntervalMS</li>
	<li>could reuse waitIntervalMS var ( and reset to 20 seconds later ) so as to not rely on 30*1000 in the first check.</li>
	<li>also, please look at reducing the time values so that the test run does not take too long. Current unit test takes over a minute to complete.</li>
</ul>


<p>Use "resourcemanager.connect.wait.ms" for NM_RESOURCEMANAGER_WAIT_MS to be more clear.<br/>
Likewise for NM_RESOURCEMANAGER_RETRY_INTERVAL_MS, use "resourcemanager.connect.retry_interval.ms" <br/>
Add both these new variables into yarn-default.xml with clear description.</p>

<p>+        LOG.info("Connecting to ResourceManager at " + this.rmAddress);</p>
<ul class="alternate" type="square">
	<li>should be also log current attempt counter.</li>
</ul>


<p>+        RegisterNodeManagerRequest request = recordFactory.newRecordInstance(RegisterNodeManagerRequest.class);<br/>
+        request.setHttpPort(this.httpPort);<br/>
+        request.setResource(this.totalResource);<br/>
+        request.setNodeId(this.nodeId);</p>
<ul class="alternate" type="square">
	<li>this object does not need to be created for each loop. Could be created once outside.</li>
</ul>


<p>Also, we should check as to what the NM does if the RM dies at an intermediate point i.e registration succeeded but eventually at some point the RM died. Does the NM keep re-trying at this point or die after a certain time interval or after all containers finish? That bit could be looked at in a separate jira if you find any issues in that aspect.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13579475_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13579475_concise subText'><span class='date user-tz' title='15/Feb/13 20:04'><time class='livestamp' datetime='2013-02-15T20:04+0000'>15/Feb/13 20:04</time></span></span>                    Fix trailing space issues in the patch. There also seem to be tabs in the patch. 

 Some comments on the test code:  
 
	 indentation issues in MyNodeStatusUpdater4 
	 change code layout to put MyNodeStatusUpdater4 after MyNodeStatusUpdater3 
	 fix MyNodeStatusUpdater4 to make waitIntervalMS a final field and passed in via the ctor. 
	 likewise fo waitForEver 
	 MyNodeStatusUpdater4::getRMClient does not use waitIntervalMS 
	 could reuse waitIntervalMS var ( and reset to 20 seconds later ) so as to not rely on 30*1000 in the first check. 
	 also, please look at reducing the time values so that the test run does not take too long. Current unit test takes over a minute to complete. 
 


 Use "resourcemanager.connect.wait.ms" for NM_RESOURCEMANAGER_WAIT_MS to be more clear. 
Likewise for NM_RESOURCEMANAGER_RETRY_INTERVAL_MS, use "resourcemanager.connect.retry_interval.ms"  
Add both these new variables into yarn-default.xml with clear description. 

 +        LOG.info("Connecting to ResourceManager at " + this.rmAddress); 
 
	 should be also log current attempt counter. 
 


 +        RegisterNodeManagerRequest request = recordFactory.newRecordInstance(RegisterNodeManagerRequest.class); 
+        request.setHttpPort(this.httpPort); 
+        request.setResource(this.totalResource); 
+        request.setNodeId(this.nodeId); 
 
	 this object does not need to be created for each loop. Could be created once outside. 
 


 Also, we should check as to what the NM does if the RM dies at an intermediate point i.e registration succeeded but eventually at some point the RM died. Does the NM keep re-trying at this point or die after a certain time interval or after all containers finish? That bit could be looked at in a separate jira if you find any issues in that aspect.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13579607" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13579607&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13579607" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="xgong" id="commentauthor_13579607_verbose" href="/jira/secure/ViewProfile.jspa?name=xgong"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Xuan Gong</a>
 added a comment  - <span class='commentdate_13579607_verbose subText'><span class='date user-tz' title='15/Feb/13 23:51'><time class='livestamp' datetime='2013-02-15T23:51+0000'>15/Feb/13 23:51</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>bq: Also, we should check as to what the NM does if the RM dies at an intermediate point i.e registration succeeded but eventually at some point the RM died. Does the NM keep re-trying at this point or die after a certain time interval or after all containers finish? That bit could be looked at in a separate jira if you find any issues in that aspect.</p>

<p>I do not think so. This block only checks:<br/>
  this.resourceTracker = getRMClient();//find resourceTracker<br/>
  regResponse = this.resourceTracker.registerNodeManager(request).getRegistrationResponse();//register the NM and get response.<br/>
If those are getting correctly(without exceptions), we will get out of the whole loop. Even if RM will die later after we successfully get the NM registration and response, I do not think the NM will retrying it. This code is only for NM register with RM.</p>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="xgong" id="commentauthor_13579607_concise" href="/jira/secure/ViewProfile.jspa?name=xgong"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Xuan Gong</a>
 added a comment  - <span class='commentdate_13579607_concise subText'><span class='date user-tz' title='15/Feb/13 23:51'><time class='livestamp' datetime='2013-02-15T23:51+0000'>15/Feb/13 23:51</time></span></span>                    bq: Also, we should check as to what the NM does if the RM dies at an intermediate point i.e registration succeeded but eventually at some point the RM died. Does the NM keep re-trying at this point or die after a certain time interval or after all containers finish? That bit could be looked at in a separate jira if you find any issues in that aspect. 

 I do not think so. This block only checks: 
  this.resourceTracker = getRMClient();//find resourceTracker 
  regResponse = this.resourceTracker.registerNodeManager(request).getRegistrationResponse();//register the NM and get response. 
If those are getting correctly(without exceptions), we will get out of the whole loop. Even if RM will die later after we successfully get the NM registration and response, I do not think the NM will retrying it. This code is only for NM register with RM. 
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13579623" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13579623&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13579623" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13579623_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13579623_verbose subText'><span class='date user-tz' title='16/Feb/13 00:17'><time class='livestamp' datetime='2013-02-16T00:17+0000'>16/Feb/13 00:17</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="green">+1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12569621/YARN-196.4.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12569621/YARN-196.4.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="green">+1 eclipse:eclipse</font>.  The patch built with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/411//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/411//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/411//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/411//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13579623_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13579623_concise subText'><span class='date user-tz' title='16/Feb/13 00:17'><time class='livestamp' datetime='2013-02-16T00:17+0000'>16/Feb/13 00:17</time></span></span>                     +1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12569621/YARN-196.4.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      +1 eclipse:eclipse .  The patch built with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/411//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/411//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13579641" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13579641&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13579641" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13579641_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13579641_verbose subText'><span class='date user-tz' title='16/Feb/13 00:47'><time class='livestamp' datetime='2013-02-16T00:47+0000'>16/Feb/13 00:47</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>@Xuan, the comment about the RM dying was for a later point in time. i.e. NM starts, connects to RM, does its work and then say 30 mins later, the RM dies.</p>

<p>Thanks for the quick turnaround on the patch comments.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13579641_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13579641_concise subText'><span class='date user-tz' title='16/Feb/13 00:47'><time class='livestamp' datetime='2013-02-16T00:47+0000'>16/Feb/13 00:47</time></span></span>                    @Xuan, the comment about the RM dying was for a later point in time. i.e. NM starts, connects to RM, does its work and then say 30 mins later, the RM dies. 

 Thanks for the quick turnaround on the patch comments.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13583823" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13583823&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13583823" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13583823_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13583823_verbose subText'><span class='date user-tz' title='22/Feb/13 02:11'><time class='livestamp' datetime='2013-02-22T02:11+0000'>22/Feb/13 02:11</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Patch still has trailing whitespace issues.</p>

<p>In YarnConfiguration.java:</p>

<p>+  /** Max time to wait for ResourceManger start<br/>
+   */</p>

<p>Please rephrase to "max time to wait to establish a connection to the ResourceManager when the NodeManager starts"</p>

<p>+  /** Time interval for each NM attempt to connect RM<br/>
+   */</p>

<p>Rephrase to "Time interval between each NM attempt to connect to the ResourceManager" </p>

<p>You can use the same descriptions in yarn-default.xml. Not sure if "After that period of time, NM will throw out exceptions" is valid in yarn-default.xml. A better description could mention that the NM will shutdown if it cannot connect to the RM within the specified max time period. <br/>
Description should also mention how to use -1 to retry forever.</p>

<p>Earlier comment had a point of switching to using SECONDS instead of MS for users to understand more easily.</p>

<p>+      // this.hostName = InetAddress.getLocalHost().getCanonicalHostName();</p>
<ul class="alternate" type="square">
	<li>Please remove commented out code if not being used.</li>
</ul>


<p>Unit test does not really seem to be testing the flow of RESOURCEMANAGER_CONNECT_WAIT_MS being set to -1. waitForEver is being explicitly set to true/false based on the updater's ctor and not really based on the config value. If that flow cannot be tested, it might be better to remove the additional complexity from the test.</p>

<p>Also, patch will need to be updated due to <a href="https://issues.apache.org/jira/browse/HADOOP-9112" class="external-link" rel="nofollow">https://issues.apache.org/jira/browse/HADOOP-9112</a>. </p>












 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13583823_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13583823_concise subText'><span class='date user-tz' title='22/Feb/13 02:11'><time class='livestamp' datetime='2013-02-22T02:11+0000'>22/Feb/13 02:11</time></span></span>                    Patch still has trailing whitespace issues. 

 In YarnConfiguration.java: 

 +  /** Max time to wait for ResourceManger start 
+   */ 

 Please rephrase to "max time to wait to establish a connection to the ResourceManager when the NodeManager starts" 

 +  /** Time interval for each NM attempt to connect RM 
+   */ 

 Rephrase to "Time interval between each NM attempt to connect to the ResourceManager"  

 You can use the same descriptions in yarn-default.xml. Not sure if "After that period of time, NM will throw out exceptions" is valid in yarn-default.xml. A better description could mention that the NM will shutdown if it cannot connect to the RM within the specified max time period.  
Description should also mention how to use -1 to retry forever. 

 Earlier comment had a point of switching to using SECONDS instead of MS for users to understand more easily. 

 +      // this.hostName = InetAddress.getLocalHost().getCanonicalHostName(); 
 
	 Please remove commented out code if not being used. 
 


 Unit test does not really seem to be testing the flow of RESOURCEMANAGER_CONNECT_WAIT_MS being set to -1. waitForEver is being explicitly set to true/false based on the updater's ctor and not really based on the config value. If that flow cannot be tested, it might be better to remove the additional complexity from the test. 

 Also, patch will need to be updated due to  https://issues.apache.org/jira/browse/HADOOP-9112 .  












             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13585000" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13585000&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13585000" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13585000_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13585000_verbose subText'><span class='date user-tz' title='23/Feb/13 04:37'><time class='livestamp' datetime='2013-02-23T04:37+0000'>23/Feb/13 04:37</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="green">+1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12570598/YARN-196.5.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12570598/YARN-196.5.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 tests included appear to have a timeout.</font></p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="green">+1 eclipse:eclipse</font>.  The patch built with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/423//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/423//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/423//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/423//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13585000_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13585000_concise subText'><span class='date user-tz' title='23/Feb/13 04:37'><time class='livestamp' datetime='2013-02-23T04:37+0000'>23/Feb/13 04:37</time></span></span>                     +1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12570598/YARN-196.5.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 tests included appear to have a timeout.  

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      +1 eclipse:eclipse .  The patch built with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/423//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/423//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13588694" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13588694&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13588694" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13588694_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13588694_verbose subText'><span class='date user-tz' title='27/Feb/13 19:59'><time class='livestamp' datetime='2013-02-27T19:59+0000'>27/Feb/13 19:59</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>+  public static final int DEFAULT_RESOURCEMANAGER_CONNECT_WAIT_SECS = <br/>
+      15*60*1000;<br/>
+  public static final long DEFAULT_RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS =<br/>
+      30*1000;</p>

<p>Variable says seconds but value is still in milliseconds? <br/>
Likewise for yarn-default.xml </p>

<p>+    long rmConnectWaitMS =<br/>
+        conf.getInt(<br/>
+            YarnConfiguration.RESOURCEMANAGER_CONNECT_WAIT_SECS,<br/>
+            YarnConfiguration.DEFAULT_RESOURCEMANAGER_CONNECT_WAIT_SECS);<br/>
+    long rmConnectionRetryIntervalMS =<br/>
+        conf.getLong(<br/>
+            YarnConfiguration.RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS,<br/>
+            YarnConfiguration.DEFAULT_RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS);</p>

<p>Above variables could be set using *1000 to keep code clean. Special handling needed for -1. </p>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13588694_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13588694_concise subText'><span class='date user-tz' title='27/Feb/13 19:59'><time class='livestamp' datetime='2013-02-27T19:59+0000'>27/Feb/13 19:59</time></span></span>                    +  public static final int DEFAULT_RESOURCEMANAGER_CONNECT_WAIT_SECS =  
+      15*60*1000; 
+  public static final long DEFAULT_RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS = 
+      30*1000; 

 Variable says seconds but value is still in milliseconds?  
Likewise for yarn-default.xml  

 +    long rmConnectWaitMS = 
+        conf.getInt( 
+            YarnConfiguration.RESOURCEMANAGER_CONNECT_WAIT_SECS, 
+            YarnConfiguration.DEFAULT_RESOURCEMANAGER_CONNECT_WAIT_SECS); 
+    long rmConnectionRetryIntervalMS = 
+        conf.getLong( 
+            YarnConfiguration.RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS, 
+            YarnConfiguration.DEFAULT_RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS); 

 Above variables could be set using *1000 to keep code clean. Special handling needed for -1.  
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13588696" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13588696&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13588696" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13588696_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13588696_verbose subText'><span class='date user-tz' title='27/Feb/13 20:00'><time class='livestamp' datetime='2013-02-27T20:00+0000'>27/Feb/13 20:00</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Also, description in yarn-default.xml should mention the value is specified in seconds.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13588696_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13588696_concise subText'><span class='date user-tz' title='27/Feb/13 20:00'><time class='livestamp' datetime='2013-02-27T20:00+0000'>27/Feb/13 20:00</time></span></span>                    Also, description in yarn-default.xml should mention the value is specified in seconds.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13590025" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13590025&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13590025" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13590025_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13590025_verbose subText'><span class='date user-tz' title='28/Feb/13 23:07'><time class='livestamp' datetime='2013-02-28T23:07+0000'>28/Feb/13 23:07</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="green">+1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12571485/YARN-196.6.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12571485/YARN-196.6.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 tests included appear to have a timeout.</font></p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="green">+1 eclipse:eclipse</font>.  The patch built with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/448//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/448//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/448//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/448//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13590025_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13590025_concise subText'><span class='date user-tz' title='28/Feb/13 23:07'><time class='livestamp' datetime='2013-02-28T23:07+0000'>28/Feb/13 23:07</time></span></span>                     +1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12571485/YARN-196.6.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 tests included appear to have a timeout.  

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      +1 eclipse:eclipse .  The patch built with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/448//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/448//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13592508" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13592508&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13592508" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="xgong" id="commentauthor_13592508_verbose" href="/jira/secure/ViewProfile.jspa?name=xgong"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Xuan Gong</a>
 added a comment  - <span class='commentdate_13592508_verbose subText'><span class='date user-tz' title='04/Mar/13 19:05'><time class='livestamp' datetime='2013-03-04T19:05+0000'>04/Mar/13 19:05</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Uploading the new patch to validate the configuration values.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="xgong" id="commentauthor_13592508_concise" href="/jira/secure/ViewProfile.jspa?name=xgong"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Xuan Gong</a>
 added a comment  - <span class='commentdate_13592508_concise subText'><span class='date user-tz' title='04/Mar/13 19:05'><time class='livestamp' datetime='2013-03-04T19:05+0000'>04/Mar/13 19:05</time></span></span>                    Uploading the new patch to validate the configuration values.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13592533" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13592533&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13592533" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13592533_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13592533_verbose subText'><span class='date user-tz' title='04/Mar/13 19:27'><time class='livestamp' datetime='2013-03-04T19:27+0000'>04/Mar/13 19:27</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="red">-1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12571927/YARN-196.7.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12571927/YARN-196.7.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 tests included appear to have a timeout.</font></p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="red">-1 eclipse:eclipse</font>.  The patch failed to build with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/460//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/460//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/460//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/460//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13592533_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13592533_concise subText'><span class='date user-tz' title='04/Mar/13 19:27'><time class='livestamp' datetime='2013-03-04T19:27+0000'>04/Mar/13 19:27</time></span></span>                     -1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12571927/YARN-196.7.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 tests included appear to have a timeout.  

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      -1 eclipse:eclipse .  The patch failed to build with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/460//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/460//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13592544" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13592544&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13592544" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13592544_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13592544_verbose subText'><span class='date user-tz' title='04/Mar/13 19:36'><time class='livestamp' datetime='2013-03-04T19:36+0000'>04/Mar/13 19:36</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>+      throw new YarnException("Invalid Configuration. " +<br/>
+              "RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS " +<br/>
+              "should not be negative.");</p>

<p>Should replace "RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS " with YarnConfiguration.RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS as a user will not understand anything if the log/exception has a variable name in it - we should use the property name defined in the configs as that provides a more clear explanation to the user. Likewise, fix the exception thrown later in the code as well as the log messages.</p>


 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13592544_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13592544_concise subText'><span class='date user-tz' title='04/Mar/13 19:36'><time class='livestamp' datetime='2013-03-04T19:36+0000'>04/Mar/13 19:36</time></span></span>                    +      throw new YarnException("Invalid Configuration. " + 
+              "RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS " + 
+              "should not be negative."); 

 Should replace "RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS " with YarnConfiguration.RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS as a user will not understand anything if the log/exception has a variable name in it - we should use the property name defined in the configs as that provides a more clear explanation to the user. Likewise, fix the exception thrown later in the code as well as the log messages. 


             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13592802" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13592802&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13592802" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13592802_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13592802_verbose subText'><span class='date user-tz' title='04/Mar/13 23:37'><time class='livestamp' datetime='2013-03-04T23:37+0000'>04/Mar/13 23:37</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="green">+1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12571982/YARN-196.8.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12571982/YARN-196.8.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 tests included appear to have a timeout.</font></p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="green">+1 eclipse:eclipse</font>.  The patch built with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/464//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/464//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/464//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/464//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13592802_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13592802_concise subText'><span class='date user-tz' title='04/Mar/13 23:37'><time class='livestamp' datetime='2013-03-04T23:37+0000'>04/Mar/13 23:37</time></span></span>                     +1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12571982/YARN-196.8.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 tests included appear to have a timeout.  

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      +1 eclipse:eclipse .  The patch built with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/464//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/464//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13596421" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13596421&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13596421" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13596421_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13596421_verbose subText'><span class='date user-tz' title='07/Mar/13 21:42'><time class='livestamp' datetime='2013-03-07T21:42+0000'>07/Mar/13 21:42</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>@Xuan, the previous comment still does not seem to have been addressed. Latest patch has:</p>

<p>+      throw new YarnException("Invalid Configuration. " +<br/>
+          "YarnConfiguration.RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS " +<br/>
+          "should not be negative.");</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13596421_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13596421_concise subText'><span class='date user-tz' title='07/Mar/13 21:42'><time class='livestamp' datetime='2013-03-07T21:42+0000'>07/Mar/13 21:42</time></span></span>                    @Xuan, the previous comment still does not seem to have been addressed. Latest patch has: 

 +      throw new YarnException("Invalid Configuration. " + 
+          "YarnConfiguration.RESOURCEMANAGER_CONNECT_RETRY_INTERVAL_SECS " + 
+          "should not be negative.");              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13597609" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13597609&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13597609" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13597609_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13597609_verbose subText'><span class='date user-tz' title='08/Mar/13 21:57'><time class='livestamp' datetime='2013-03-08T21:57+0000'>08/Mar/13 21:57</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="green">+1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12572834/YARN-196.9.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12572834/YARN-196.9.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 tests included appear to have a timeout.</font></p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="green">+1 eclipse:eclipse</font>.  The patch built with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/483//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/483//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/483//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/483//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13597609_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13597609_concise subText'><span class='date user-tz' title='08/Mar/13 21:57'><time class='livestamp' datetime='2013-03-08T21:57+0000'>08/Mar/13 21:57</time></span></span>                     +1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12572834/YARN-196.9.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 tests included appear to have a timeout.  

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      +1 eclipse:eclipse .  The patch built with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/483//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/483//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13597638" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13597638&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13597638" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="xgong" id="commentauthor_13597638_verbose" href="/jira/secure/ViewProfile.jspa?name=xgong"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Xuan Gong</a>
 added a comment  - <span class='commentdate_13597638_verbose subText'><span class='date user-tz' title='08/Mar/13 22:34'><time class='livestamp' datetime='2013-03-08T22:34+0000'>08/Mar/13 22:34</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Fix format issue</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="xgong" id="commentauthor_13597638_concise" href="/jira/secure/ViewProfile.jspa?name=xgong"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Xuan Gong</a>
 added a comment  - <span class='commentdate_13597638_concise subText'><span class='date user-tz' title='08/Mar/13 22:34'><time class='livestamp' datetime='2013-03-08T22:34+0000'>08/Mar/13 22:34</time></span></span>                    Fix format issue              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13597659" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13597659&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13597659" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13597659_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13597659_verbose subText'><span class='date user-tz' title='08/Mar/13 22:57'><time class='livestamp' datetime='2013-03-08T22:57+0000'>08/Mar/13 22:57</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="red">-1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12572847/YARN-196.10.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12572847/YARN-196.10.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 tests included appear to have a timeout.</font></p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="red">-1 eclipse:eclipse</font>.  The patch failed to build with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/485//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/485//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/485//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/485//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13597659_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13597659_concise subText'><span class='date user-tz' title='08/Mar/13 22:57'><time class='livestamp' datetime='2013-03-08T22:57+0000'>08/Mar/13 22:57</time></span></span>                     -1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12572847/YARN-196.10.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 tests included appear to have a timeout.  

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      -1 eclipse:eclipse .  The patch failed to build with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/485//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/485//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13599024" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13599024&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13599024" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13599024_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13599024_verbose subText'><span class='date user-tz' title='11/Mar/13 17:27'><time class='livestamp' datetime='2013-03-11T17:27+0000'>11/Mar/13 17:27</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="green">+1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12573120/YARN-196.11.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12573120/YARN-196.11.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 tests included appear to have a timeout.</font></p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="green">+1 eclipse:eclipse</font>.  The patch built with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/495//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/495//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/495//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/495//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13599024_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13599024_concise subText'><span class='date user-tz' title='11/Mar/13 17:27'><time class='livestamp' datetime='2013-03-11T17:27+0000'>11/Mar/13 17:27</time></span></span>                     +1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12573120/YARN-196.11.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 tests included appear to have a timeout.  

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      +1 eclipse:eclipse .  The patch built with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/495//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/495//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13599425" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13599425&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13599425" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13599425_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13599425_verbose subText'><span class='date user-tz' title='11/Mar/13 22:44'><time class='livestamp' datetime='2013-03-11T22:44+0000'>11/Mar/13 22:44</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="red">-1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12573196/YARN-196.12.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12573196/YARN-196.12.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 tests included appear to have a timeout.</font></p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="red">-1 eclipse:eclipse</font>.  The patch failed to build with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/497//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/497//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/497//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/497//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13599425_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13599425_concise subText'><span class='date user-tz' title='11/Mar/13 22:44'><time class='livestamp' datetime='2013-03-11T22:44+0000'>11/Mar/13 22:44</time></span></span>                     -1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12573196/YARN-196.12.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 tests included appear to have a timeout.  

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      -1 eclipse:eclipse .  The patch failed to build with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/497//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/497//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13602719" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13602719&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13602719" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13602719_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13602719_verbose subText'><span class='date user-tz' title='14/Mar/13 20:56'><time class='livestamp' datetime='2013-03-14T20:56+0000'>14/Mar/13 20:56</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>@Xuan, latest patch looks good. Addressing a very minor nit and uploading it. Will commit as soon as jenkins does a +1.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13602719_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13602719_concise subText'><span class='date user-tz' title='14/Mar/13 20:56'><time class='livestamp' datetime='2013-03-14T20:56+0000'>14/Mar/13 20:56</time></span></span>                    @Xuan, latest patch looks good. Addressing a very minor nit and uploading it. Will commit as soon as jenkins does a +1.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13602767" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13602767&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13602767" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13602767_verbose" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13602767_verbose subText'><span class='date user-tz' title='14/Mar/13 21:17'><time class='livestamp' datetime='2013-03-14T21:17+0000'>14/Mar/13 21:17</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p><font color="green">+1 overall</font>.  Here are the results of testing the latest attachment <br/>
  <a href="http://issues.apache.org/jira/secure/attachment/12573764/YARN-196.12.1.patch" class="external-link" rel="nofollow">http://issues.apache.org/jira/secure/attachment/12573764/YARN-196.12.1.patch</a><br/>
  against trunk revision .</p>

<p>    <font color="green">+1 @author</font>.  The patch does not contain any @author tags.</p>

<p>    <font color="green">+1 tests included</font>.  The patch appears to include 1 new or modified test files.</p>

<p>    <font color="green">+1 tests included appear to have a timeout.</font></p>

<p>    <font color="green">+1 javac</font>.  The applied patch does not increase the total number of javac compiler warnings.</p>

<p>    <font color="green">+1 javadoc</font>.  The javadoc tool did not generate any warning messages.</p>

<p>    <font color="green">+1 eclipse:eclipse</font>.  The patch built with eclipse:eclipse.</p>

<p>    <font color="green">+1 findbugs</font>.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.</p>

<p>    <font color="green">+1 release audit</font>.  The applied patch does not increase the total number of release audit warnings.</p>

<p>    <font color="green">+1 core tests</font>.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.</p>

<p>    <font color="green">+1 contrib tests</font>.  The patch passed contrib unit tests.</p>

<p>Test results: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/516//testReport/" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/516//testReport/</a><br/>
Console output: <a href="https://builds.apache.org/job/PreCommit-YARN-Build/516//console" class="external-link" rel="nofollow">https://builds.apache.org/job/PreCommit-YARN-Build/516//console</a></p>

<p>This message is automatically generated.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hadoopqa" id="commentauthor_13602767_concise" href="/jira/secure/ViewProfile.jspa?name=hadoopqa"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hadoop QA</a>
 added a comment  - <span class='commentdate_13602767_concise subText'><span class='date user-tz' title='14/Mar/13 21:17'><time class='livestamp' datetime='2013-03-14T21:17+0000'>14/Mar/13 21:17</time></span></span>                     +1 overall .  Here are the results of testing the latest attachment  
   http://issues.apache.org/jira/secure/attachment/12573764/YARN-196.12.1.patch  
  against trunk revision . 

      +1 @author .  The patch does not contain any @author tags. 

      +1 tests included .  The patch appears to include 1 new or modified test files. 

      +1 tests included appear to have a timeout.  

      +1 javac .  The applied patch does not increase the total number of javac compiler warnings. 

      +1 javadoc .  The javadoc tool did not generate any warning messages. 

      +1 eclipse:eclipse .  The patch built with eclipse:eclipse. 

      +1 findbugs .  The patch does not introduce any new Findbugs (version 1.3.9) warnings. 

      +1 release audit .  The applied patch does not increase the total number of release audit warnings. 

      +1 core tests .  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager. 

      +1 contrib tests .  The patch passed contrib unit tests. 

 Test results:  https://builds.apache.org/job/PreCommit-YARN-Build/516//testReport/  
Console output:  https://builds.apache.org/job/PreCommit-YARN-Build/516//console  

 This message is automatically generated.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13603621" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13603621&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13603621" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13603621_verbose" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13603621_verbose subText'><span class='date user-tz' title='15/Mar/13 18:10'><time class='livestamp' datetime='2013-03-15T18:10+0000'>15/Mar/13 18:10</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Committed to branch-2 and trunk. Thanks Xuan for addressing the numerous review comments and being so patient. I have also filed a related jira regarding similar handling of connection loss after the NM is up. </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hitesh" id="commentauthor_13603621_concise" href="/jira/secure/ViewProfile.jspa?name=hitesh"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hitesh Shah</a>
 added a comment  - <span class='commentdate_13603621_concise subText'><span class='date user-tz' title='15/Mar/13 18:10'><time class='livestamp' datetime='2013-03-15T18:10+0000'>15/Mar/13 18:10</time></span></span>                    Committed to branch-2 and trunk. Thanks Xuan for addressing the numerous review comments and being so patient. I have also filed a related jira regarding similar handling of connection loss after the NM is up.               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13603628" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13603628&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13603628" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hudson" id="commentauthor_13603628_verbose" href="/jira/secure/ViewProfile.jspa?name=hudson"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hudson</a>
 added a comment  - <span class='commentdate_13603628_verbose subText'><span class='date user-tz' title='15/Mar/13 18:14'><time class='livestamp' datetime='2013-03-15T18:14+0000'>15/Mar/13 18:14</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Integrated in Hadoop-trunk-Commit #3479 (See <a href="https://builds.apache.org/job/Hadoop-trunk-Commit/3479/" class="external-link" rel="nofollow">https://builds.apache.org/job/Hadoop-trunk-Commit/3479/</a>)<br/>
    <a href="https://issues.apache.org/jira/browse/YARN-196" title="Nodemanager should be more robust in handling connection failure  to ResourceManager when a cluster is started" class="issue-link" data-issue-key="YARN-196"><del>YARN-196</del></a>. Nodemanager should be more robust in handling connection failure to ResourceManager when a cluster is started. Contributed by Xuan Gong. (Revision 1457038)</p>

<p>     Result = SUCCESS<br/>
hitesh : <a href="http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038" class="external-link" rel="nofollow">http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038</a><br/>
Files : </p>
<ul>
	<li>/hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/NodeStatusUpdaterImpl.java</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestNodeStatusUpdater.java</li>
</ul>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hudson" id="commentauthor_13603628_concise" href="/jira/secure/ViewProfile.jspa?name=hudson"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hudson</a>
 added a comment  - <span class='commentdate_13603628_concise subText'><span class='date user-tz' title='15/Mar/13 18:14'><time class='livestamp' datetime='2013-03-15T18:14+0000'>15/Mar/13 18:14</time></span></span>                    Integrated in Hadoop-trunk-Commit #3479 (See  https://builds.apache.org/job/Hadoop-trunk-Commit/3479/ ) 
      YARN-196  . Nodemanager should be more robust in handling connection failure to ResourceManager when a cluster is started. Contributed by Xuan Gong. (Revision 1457038) 

      Result = SUCCESS 
hitesh :  http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038  
Files :  
 
	 /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/NodeStatusUpdaterImpl.java 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestNodeStatusUpdater.java 
 
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13604206" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13604206&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13604206" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hudson" id="commentauthor_13604206_verbose" href="/jira/secure/ViewProfile.jspa?name=hudson"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hudson</a>
 added a comment  - <span class='commentdate_13604206_verbose subText'><span class='date user-tz' title='16/Mar/13 10:47'><time class='livestamp' datetime='2013-03-16T10:47+0000'>16/Mar/13 10:47</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Integrated in Hadoop-Yarn-trunk #157 (See <a href="https://builds.apache.org/job/Hadoop-Yarn-trunk/157/" class="external-link" rel="nofollow">https://builds.apache.org/job/Hadoop-Yarn-trunk/157/</a>)<br/>
    <a href="https://issues.apache.org/jira/browse/YARN-196" title="Nodemanager should be more robust in handling connection failure  to ResourceManager when a cluster is started" class="issue-link" data-issue-key="YARN-196"><del>YARN-196</del></a>. Nodemanager should be more robust in handling connection failure to ResourceManager when a cluster is started. Contributed by Xuan Gong. (Revision 1457038)</p>

<p>     Result = SUCCESS<br/>
hitesh : <a href="http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038" class="external-link" rel="nofollow">http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038</a><br/>
Files : </p>
<ul>
	<li>/hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/NodeStatusUpdaterImpl.java</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestNodeStatusUpdater.java</li>
</ul>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hudson" id="commentauthor_13604206_concise" href="/jira/secure/ViewProfile.jspa?name=hudson"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hudson</a>
 added a comment  - <span class='commentdate_13604206_concise subText'><span class='date user-tz' title='16/Mar/13 10:47'><time class='livestamp' datetime='2013-03-16T10:47+0000'>16/Mar/13 10:47</time></span></span>                    Integrated in Hadoop-Yarn-trunk #157 (See  https://builds.apache.org/job/Hadoop-Yarn-trunk/157/ ) 
      YARN-196  . Nodemanager should be more robust in handling connection failure to ResourceManager when a cluster is started. Contributed by Xuan Gong. (Revision 1457038) 

      Result = SUCCESS 
hitesh :  http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038  
Files :  
 
	 /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/NodeStatusUpdaterImpl.java 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestNodeStatusUpdater.java 
 
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13604244" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13604244&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13604244" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hudson" id="commentauthor_13604244_verbose" href="/jira/secure/ViewProfile.jspa?name=hudson"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hudson</a>
 added a comment  - <span class='commentdate_13604244_verbose subText'><span class='date user-tz' title='16/Mar/13 13:05'><time class='livestamp' datetime='2013-03-16T13:05+0000'>16/Mar/13 13:05</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Integrated in Hadoop-Hdfs-trunk #1346 (See <a href="https://builds.apache.org/job/Hadoop-Hdfs-trunk/1346/" class="external-link" rel="nofollow">https://builds.apache.org/job/Hadoop-Hdfs-trunk/1346/</a>)<br/>
    <a href="https://issues.apache.org/jira/browse/YARN-196" title="Nodemanager should be more robust in handling connection failure  to ResourceManager when a cluster is started" class="issue-link" data-issue-key="YARN-196"><del>YARN-196</del></a>. Nodemanager should be more robust in handling connection failure to ResourceManager when a cluster is started. Contributed by Xuan Gong. (Revision 1457038)</p>

<p>     Result = FAILURE<br/>
hitesh : <a href="http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038" class="external-link" rel="nofollow">http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038</a><br/>
Files : </p>
<ul>
	<li>/hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/NodeStatusUpdaterImpl.java</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestNodeStatusUpdater.java</li>
</ul>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hudson" id="commentauthor_13604244_concise" href="/jira/secure/ViewProfile.jspa?name=hudson"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hudson</a>
 added a comment  - <span class='commentdate_13604244_concise subText'><span class='date user-tz' title='16/Mar/13 13:05'><time class='livestamp' datetime='2013-03-16T13:05+0000'>16/Mar/13 13:05</time></span></span>                    Integrated in Hadoop-Hdfs-trunk #1346 (See  https://builds.apache.org/job/Hadoop-Hdfs-trunk/1346/ ) 
      YARN-196  . Nodemanager should be more robust in handling connection failure to ResourceManager when a cluster is started. Contributed by Xuan Gong. (Revision 1457038) 

      Result = FAILURE 
hitesh :  http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038  
Files :  
 
	 /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/NodeStatusUpdaterImpl.java 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestNodeStatusUpdater.java 
 
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13604266" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13604266&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13604266" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="hudson" id="commentauthor_13604266_verbose" href="/jira/secure/ViewProfile.jspa?name=hudson"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hudson</a>
 added a comment  - <span class='commentdate_13604266_verbose subText'><span class='date user-tz' title='16/Mar/13 14:05'><time class='livestamp' datetime='2013-03-16T14:05+0000'>16/Mar/13 14:05</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Integrated in Hadoop-Mapreduce-trunk #1374 (See <a href="https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1374/" class="external-link" rel="nofollow">https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1374/</a>)<br/>
    <a href="https://issues.apache.org/jira/browse/YARN-196" title="Nodemanager should be more robust in handling connection failure  to ResourceManager when a cluster is started" class="issue-link" data-issue-key="YARN-196"><del>YARN-196</del></a>. Nodemanager should be more robust in handling connection failure to ResourceManager when a cluster is started. Contributed by Xuan Gong. (Revision 1457038)</p>

<p>     Result = SUCCESS<br/>
hitesh : <a href="http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038" class="external-link" rel="nofollow">http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038</a><br/>
Files : </p>
<ul>
	<li>/hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/NodeStatusUpdaterImpl.java</li>
	<li>/hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestNodeStatusUpdater.java</li>
</ul>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="hudson" id="commentauthor_13604266_concise" href="/jira/secure/ViewProfile.jspa?name=hudson"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Hudson</a>
 added a comment  - <span class='commentdate_13604266_concise subText'><span class='date user-tz' title='16/Mar/13 14:05'><time class='livestamp' datetime='2013-03-16T14:05+0000'>16/Mar/13 14:05</time></span></span>                    Integrated in Hadoop-Mapreduce-trunk #1374 (See  https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1374/ ) 
      YARN-196  . Nodemanager should be more robust in handling connection failure to ResourceManager when a cluster is started. Contributed by Xuan Gong. (Revision 1457038) 

      Result = SUCCESS 
hitesh :  http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1457038  
Files :  
 
	 /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/NodeStatusUpdaterImpl.java 
	 /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestNodeStatusUpdater.java 
 
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13622785" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/YARN-196?focusedCommentId=13622785&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13622785" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="bikassaha" id="commentauthor_13622785_verbose" href="/jira/secure/ViewProfile.jspa?name=bikassaha"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Bikas Saha</a>
 added a comment  - <span class='commentdate_13622785_verbose subText'><span class='date user-tz' title='04/Apr/13 22:15'><time class='livestamp' datetime='2013-04-04T22:15+0100'>04/Apr/13 22:15</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>here is a finally block which will make the code sleeping for longer than necessary before exiting. this becomes important because admins might kill the NM after waiting for a few seconds for it to exit. In that much time NM has to do a bunch of clean up tasks and this extra sleep does not help.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="bikassaha" id="commentauthor_13622785_concise" href="/jira/secure/ViewProfile.jspa?name=bikassaha"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Bikas Saha</a>
 added a comment  - <span class='commentdate_13622785_concise subText'><span class='date user-tz' title='04/Apr/13 22:15'><time class='livestamp' datetime='2013-04-04T22:15+0100'>04/Apr/13 22:15</time></span></span>                    here is a finally block which will make the code sleeping for longer than necessary before exiting. this becomes important because admins might kill the NM after waiting for a few seconds for it to exit. In that much time NM has to do a bunch of clean up tasks and this extra sleep does not help.              </div>
        </div>
    </div>
</div>
                             </div>
    </div>
</div></div></div><div id="viewissuesidebar" class="aui-item issue-side-column"><div id=peoplemodule class="module toggle-wrap"><div id="peoplemodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">People</h2></div><div class="mod-content"><ul class="item-details" id="peopledetails">
    <li class="people-details">
                <dl>
            <dt>Assignee:</dt>
            <dd>
                <span id="assignee-val" class="view-issue-field">

            <span class="user-hover" id="issue_summary_assignee_xgong" rel="xgong">
            <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=small&amp;avatarId=10452" /></span></span>
            Xuan Gong
        </span>
    </span>
                            </dd>
        </dl>
                        <dl>
            <dt>Reporter:</dt>
            <dd>
                <span id="reporter-val" class="view-issue-field">

            <span class="user-hover" id="issue_summary_reporter_ramgopalnaali" rel="ramgopalnaali">
            <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=small&amp;avatarId=10452" /></span></span>
            Ramgopal N
        </span>
    </span>
            </dd>
        </dl>
                    </li>
</ul>
    <ul class="item-details">
        <li>
                            <dl>
                    <dt>Votes:</dt>
                    <dd>
                                                                            <span id="vote-data" class="aui-badge vote-state-off">1</span>
                        
                                                                                                        <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span>
                                            </dd>
                </dl>
                                        <dl>
                    <dt>Watchers:</dt>
                    <dd>
                                                                        
                                                                            <span id="watcher-data" class="aui-badge watch-state-off">14</span>
                        
                                                                                <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span>
                                            </dd>
                </dl>
                    </li>
    </ul>
</div></div><div id=datesmodule class="module toggle-wrap"><div id="datesmodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Dates</h2></div><div class="mod-content"><ul class="item-details">
    <li>
            <dl class="dates">
            <dt>Created:</dt>
            <dd class="date user-tz"  title="16/Jan/12 09:52" >

                <span data-name="Created" id="create-date"  data-fieldtype="datetime"  >
                                                                        <time class="livestamp" datetime="2012-01-16T09:52+0000">16/Jan/12 09:52</time>                                                             </span>
            </dd>
        </dl>
            <dl class="dates">
            <dt>Updated:</dt>
            <dd class="date user-tz"  title="27/Aug/13 23:15" >

                <span data-name="Updated" id="updated-date"  data-fieldtype="datetime"  >
                                                                        <time class="livestamp" datetime="2013-08-27T23:15+0100">27/Aug/13 23:15</time>                                                             </span>
            </dd>
        </dl>
            <dl class="dates">
            <dt>Resolved:</dt>
            <dd class="date user-tz"  title="15/Mar/13 18:10" >

                <span data-name="Resolved" id="resolved-date"  data-fieldtype="datetime"  >
                                                                        <time class="livestamp" datetime="2013-03-15T18:10+0000">15/Mar/13 18:10</time>                                                             </span>
            </dd>
        </dl>
        </li>
</ul>
</div></div><div id=greenhopper-agile-issue-web-panel class="module toggle-wrap"><div id="greenhopper-agile-issue-web-panel_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Agile</h2></div><div class="mod-content">

<ul class="item-details ghx-separated">
    <li>
        <a class="issueaction-greenhopper-rapidboard-operation js-rapidboard-operation-issue"
           href="/jira/secure/GHGoToBoard.jspa?issueId=12538494&inline=true"
           title="View this issue on an Agile board">
            View on Board
        </a>
    </li>
</ul>
</div></div></div></div>
                    </div>
                </div>
                        </div>

    <fieldset class="hidden parameters">
        <input type="hidden" title="autocompleteEnabled" value="true"/>
    </fieldset>
    
    </section>
    <footer id="footer" role="contentinfo">
        
        



<div class="footer-body">
    <ul>
        <li>
                        <a href="http://www.atlassian.com/software/jira">Atlassian JIRA</a>

                                                    
                        
            <span id="footer-build-information">(v6.1.4#6159-<span title='44eaedef2e4a625c6c7183698b2468d4719c20dc' data-commit-id='44eaedef2e4a625c6c7183698b2468d4719c20dc}'>sha1:44eaede</span>)</span>
        </li>
        <li>
            <a id="about-link" href="/jira/secure/AboutPage.jspa">About JIRA</a>
        </li>
        <li>
                                    <a id="footer-report-problem-link" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a>
        </li>
    </ul>
            <ul>
            <li class="licensemessage">
                                    Powered by a free Atlassian <a href='http://www.atlassian.com/software/jira'>JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a href='http://www.atlassian.com/software/jira'>bug tracking software</a> for <i>your</i> team.

                            </li>
        </ul>
    </div>

<form id="jira_request_timing_info" class="dont-default-focus" >
	<fieldset class="parameters hidden">
		<input type="hidden" title="jira.request.start.millis" value="1386978013538" />
		<input type="hidden" title="jira.request.server.time" value="522" />
		<input type="hidden" title="jira.request.id" value="1420x5696353x3" />
		<input type="hidden" title="jira.session.expiry.time" value="-" />
		<input type="hidden" title="jira.session.expiry.in.mins" value="-" />
		<input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="4" />
	</fieldset>
</form>
<!--
	                 REQUEST ID : 1420x5696353x3
	          REQUEST TIMESTAMP : [13/Dec/2013:23:40:13 +0000]
	               REQUEST TIME : 0.5230
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 4

	                      db.reads : name=db.reads; inv=56; ms=55; cpu=0; rss=0;
	                      db.conns : name=db.conns; inv=56; ms=68; cpu=0; rss=0;
-->










<fieldset class="hidden parameters">
    <input type="hidden" title="loggedInUser" value="">
    <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation.">
    <input type="hidden" title="JiraVersion" value="6.1.4" />
    <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation.  Please log in.">
    <input type="hidden" title="baseURL" value="https://issues.apache.org:443/jira">
    <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted.  This may be a temporary glitch or the server may be down.">
    <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation.">
    <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser">
    <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown">

    <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost.">
    <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog.">
    <input type="hidden" title="keyType" value="Type">
    <input type="hidden" title="keyThen" value="then">
    <input type="hidden" title="dblClickToExpand" value="Double click to expand">
    <input type="hidden" title="actions" value="Actions">
    <input type="hidden" title="removeItem" value="Remove">
    <input type="hidden" title="workflow" value="Workflow">
    <input type="hidden" title="labelNew" value="New Label">
    <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all">
    <input type="hidden" title="closelink" value="Close">
    <input type="hidden" title="dotOperations" value="Operations">
    <input type="hidden" title="dotLoading" value="Loading...">
    <input type="hidden" title="frotherSuggestions" value="Suggestions">
    <input type="hidden" title="frotherNomatches" value="No Matches">
    <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version.">
    <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component.">
    <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid.">
</fieldset>

    </footer>
</div>
</body>
</html>
