<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta name="description" content="BEA WebLogic Server Documentation">
	<meta name="keywords" content="WebLogic Server">
<script language="javascript">
<!--
if (window.focus) {
 self.focus();
}
// -->
</script>
	<title>Resolved Problems</title>
	<script language="Javascript" src="../floatwin.js" type="text/javascript"></script>
	<style type="text/css">
	p {
		MARGIN-LEFT: 0.2in; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0.1in; 
		MARGIN-BOTTOM: 0; 
		FONT-FAMILY: Verdana,Geneva,Arial,Helvetica,sans-serif;
		FONT-SIZE: 10pt;
		COLOR: #000000;
	}
	p.cnavbar { 
		MARGIN-LEFT: 0; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0; 
		MARGIN-BOTTOM: 0.01in; 
		FONT-FAMILY: Arial,Helvetica,sans-serif;
		FONT-SIZE: 8pt;
		COLOR: #FFFFFF;
		TEXT-DECORATION: None;
	}
	p.codefont {
		FONT-FAMILY: Courier;
	}
	p.copyright {
		FONT-SIZE: 8pt;
	}
	p.dnavbar { 
		MARGIN-LEFT: 0; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0; 
		MARGIN-BOTTOM: 0.01in; 
		FONT-FAMILY: Arial,Helvetica,sans-serif;
		FONT-SIZE: 9pt;
		FONT-WEIGHT: Bold;
		COLOR: #000000;
		TEXT-DECORATION: None;
	}
	p.glossdef {
		MARGIN-LEFT: 0.4in; 
	}
	p.glossterm {
		FONT-WEIGHT: bold; 
	}
	p.headmain {
		MARGIN-LEFT: 0.15in; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0.2in; 
		MARGIN-BOTTOM: 0; 
		FONT-FAMILY: Arial,Helvetica,sans-serif;
		FONT-WEIGHT: bold; 
		FONT-SIZE: 24pt;
	}
	p.head1 { 
		MARGIN-LEFT: 0.15in; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0.2in; 
		MARGIN-BOTTOM: 0; 
		FONT-FAMILY: Arial,Helvetica,sans-serif; 
		FONT-WEIGHT: bold; 
		FONT-SIZE: 20pt; 
		COLOR: #000000;
	}
	p.head2 { 
		MARGIN-LEFT: 0.15in; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0.25in; 
		MARGIN-BOTTOM: 0; 
		FONT-FAMILY: Arial,Helvetica,sans-serif; 
		FONT-WEIGHT: bold; 
		FONT-SIZE: 16pt; 
	}
	p.head3 { 
		MARGIN-LEFT: 0.15in; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0.25in; 
		MARGIN-BOTTOM: 0; 
		FONT-FAMILY: Arial,Helvetica,sans-serif; 
		FONT-WEIGHT: bold; 
		FONT-SIZE: 12pt; 
	}
	p.head4 { 
		MARGIN-LEFT: 0.15in; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0.25in; 
		MARGIN-BOTTOM: 0; 
		FONT-FAMILY: Arial,Helvetica,sans-serif; 
		FONT-WEIGHT: bold; 
		FONT-STYLE: italic; 
		FONT-SIZE: 10pt; 
	}
	p.letterguide { 
		MARGIN-LEFT: 0.15in; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0.25in; 
		MARGIN-BOTTOM: 0; 
		TEXT-ALIGN: center;
		VERTICAL-ALIGN: middle;
		FONT-FAMILY: Arial,Helvetica,sans-serif; 
		FONT-WEIGHT: bold; 
		FONT-SIZE: 12pt; 
	}
	p.listpara {
		MARGIN-LEFT: 0;
	}
	p.listpara2 {
		MARGIN-LEFT: 0;
	}
	p.localtopic1sonly {
		MARGIN-TOP: 0; 
		MARGIN-LEFT: 0.2in; 
	}
	p.localtopic2 {
		MARGIN-TOP: 0; 
		MARGIN-LEFT: 0.4in; 
	}
	p.localtopic3 {
		MARGIN-TOP: 0; 
		MARGIN-LEFT: 0.6in; 
	}
	p.navbar { 
		MARGIN-LEFT: 0; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0; 
		MARGIN-BOTTOM: 0.01in; 
		FONT-FAMILY: Arial,Helvetica,sans-serif;
		FONT-SIZE: 9pt;
		FONT-WEIGHT: Bold;
		COLOR: #000000;
		TEXT-DECORATION: None;
	}
	p.notepara {
		MARGIN-LEFT: 0.7in;
	}
	p.small {
		MARGIN-LEFT: 0; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0; 
		MARGIN-BOTTOM: 0; 
		FONT-SIZE: 1pt;
	}
	p.table {
		MARGIN-LEFT: 0; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0; 
		MARGIN-BOTTOM: 0.1 in; 
	}
	p.title {
		FONT-WEIGHT: Bold;
	}
	p.titletable {
		MARGIN-LEFT: 0; 
		FONT-WEIGHT: Bold;
	}
	ol {
		MARGIN-LEFT: 0.5in; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0.1in; 
		MARGIN-BOTTOM: 0; 
		FONT-FAMILY: Verdana,Geneva,Arial,Helvetica,sans-serif;
		FONT-SIZE: 10pt;
		COLOR: #000000;
	}
	ul {
		MARGIN-LEFT: 0.5in; 
		MARGIN-RIGHT: 0; 
		MARGIN-TOP: 0.1in; 
		MARGIN-BOTTOM: 0; 
		FONT-FAMILY: Verdana,Geneva,Arial,Helvetica,sans-serif;
		FONT-SIZE: 10pt;
		COLOR: #000000;
	}
	a:link {
		COLOR: #3366CC;
	}
	a:active {
		COLOR: #0000CC;
	}
	a:hover {
		COLOR: #FF0000;
	}
	a:visited {
		COLOR: #9999CC;
	}
	</style>

</head>
<body bgcolor="#FFFFFF" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">

<table cellspacing="0" cellpadding="0" border="0" width="100%">


<!-- BEA LOGO -->
	<tr>
		<td valign="top" width="145" bgcolor="#FFCC66" rowspan="3">
			<img src="../images/bealogo.gif" width=145 height=133 alt="BEA Logo" border="0">
		</td>



<!-- TOP -->		
		<td valign="top" width="100%" bgcolor="#FFCC66">
			<img src="../images/top.gif" height=76 width=516 alt="BEA WebLogic Server Release 6.1" border="0">
		</td>
	</tr>



<!-- CORPORATE NAV BAR -->	
	<tr>
		<td valign="middle" width="100%" height="15" bgcolor="#000000">
			<p class="cnavbar">&nbsp;
			<a href="http://www.bea.com/index.shtml" style="COLOR: #FFFFFF; TEXT-DECORATION: none" target="window2">BEA Home</a>
			&nbsp;|&nbsp;
			<a href="http://www.bea.com/events/index.shtml" style="COLOR: #FFFFFF; TEXT-DECORATION: none" target="window2">Events</a>
			&nbsp;|&nbsp;
			<a href="http://www.bea.com/solutions/index.shtml" style="COLOR: #FFFFFF; TEXT-DECORATION: none" target="window2">Solutions</a>
			&nbsp;|&nbsp;
			<a href="http://www.bea.com/partners/index.shtml" style="COLOR: #FFFFFF; TEXT-DECORATION: none" target="window2">Partners</a>
			&nbsp;|&nbsp;
			<a href="http://www.bea.com/products/index.shtml" style="COLOR: #FFFFFF; TEXT-DECORATION: none" target="window2">Products</a>
			&nbsp;|&nbsp;
			<a href="http://www.bea.com/services.shtml" style="COLOR: #FFFFFF; TEXT-DECORATION: none" target="window2">Services</a>
			&nbsp;|&nbsp;
			<a href="http://www.bea.com/download.shtml" style="COLOR: #FFFFFF; TEXT-DECORATION: none" target="window2">Download</a>
			&nbsp;|&nbsp;
			<a href="http://developer.bea.com/index.jsp" style="COLOR: #FFFFFF; TEXT-DECORATION: none" target="window2">Developer Center</a>
			&nbsp;|&nbsp;
			<a href="http://websupport.bea.com/custsupp" style="COLOR: #FFFFFF; TEXT-DECORATION: none" target="window2">WebSUPPORT</a>
			</p>
		</td>
	</tr>



<!-- LOCAL NAV BAR -->
	<tr>
		<td valign="middle" width="100%" bgcolor="#FFFFFF">
			<p class="navbar">&nbsp;&nbsp;
			<a href="http://www.oracle.com/technology/documentation/index.html" style="COLOR: #000000; TEXT-DECORATION: none">http://www.oracle.com/technology/documentation/index.html</a>
			&nbsp;&nbsp;<font color="#FFCC66">|</font>&nbsp;&nbsp;
			<a href="../sitemap.html" style="COLOR: #000000; TEXT-DECORATION: none">Site Map</a>
			&nbsp;&nbsp;<font color="#FFCC66">|</font>&nbsp;&nbsp;
			<a href="../search/index.html" style="COLOR: #000000; TEXT-DECORATION: none" target="new">Search</a>
			&nbsp;&nbsp;<font color="#FFCC66">|</font>&nbsp;&nbsp;
			<a href="../pdf.html" style="COLOR: #000000; TEXT-DECORATION: none">Download Documentation</a>
			&nbsp;&nbsp;<font color="#FFCC66">|</font>&nbsp;&nbsp;
			<a href="../contact.html" style="COLOR: #000000; TEXT-DECORATION: none">Contact</a>
			&nbsp;&nbsp;<font color="#FFCC66">|</font>&nbsp;&nbsp;
			<a href="../glossary/index.html" style="COLOR: #000000; TEXT-DECORATION: none">Glossary</a>

			</p>
		</td>
	</tr>


<!-- RED LINE -->
	<tr>
		<td valign="middle" width="100%" bgcolor="#FF0000" colspan="2" height="1">
			<p class="small">&nbsp;</p>
		</td>
	</tr>



<!-- DOC NAV BAR -->		
	<tr>
		<td valign="middle" width="100%" height="16" bgcolor="#FFCC66" colspan="2">
                &nbsp;&nbsp;<font color="#FFCC66">|</font>&nbsp;&nbsp;
		<p class="dnavbar">&nbsp;&nbsp;<a href="../index.html" style="COLOR: #000000; TEXT-DECORATION: none">WebLogic Server Doc Home</a>
                &nbsp;&nbsp;|&nbsp;&nbsp;
		&nbsp;&nbsp;<a href="index.html" style="COLOR: #000000; TEXT-DECORATION: none"><font color="#ff0000"><b>Release Notes</b></font></a>
		&nbsp;&nbsp;|&nbsp;&nbsp;                 
			<a href="issues.html" style="COLOR: #000000; TEXT-DECORATION: none">Previous Topic</a>
			&nbsp;&nbsp;|&nbsp;&nbsp;
			<font color="#999999">Next Topic</font>
			&nbsp;&nbsp;|&nbsp;&nbsp;
			<a href="javascript:OpenWindowToc();" onMouseOver="window.status='open floating TOC'; return true" onMouseOut="window.status=''; return true" style="COLOR: #000000; TEXT-DECORATION: none">Contents</a>
			&nbsp;&nbsp;|&nbsp;&nbsp;
                        <!-- no index -->
                        <a href="../pdf/notes.pdf" target="pdf" style="COLOR: #000000; TEXT-DECORATION: none">View as PDF</a>
			</p>

		</td>
	</tr>
</table>


<!-- CONTENT -->		

<a name="1321885"></a><p class="headmain">Resolved Problems</p>
<p>&nbsp;</p>

<a name="1321886"></a><p>The following sections describe problems that have been resolved by Service Packs for WebLogic Server 6.1. Service Packs are cumulative; the current release, Service Pack 7 contains all the fixes made in earlier Service Packs released for WebLogic Server 6.1.</p>


<ul type="square">
<a name="1321890"></a><p><li type="square"><a href="bugfixes2.html#1367256">WebLogic Server 6.1 Service Pack 7 Solutions</a>

<a name="1367338"></a><p><li type="square"><a href="bugfixes2.html#1392675">WebLogic Server 6.1 Service Pack 6 Solutions</a>

<a name="1321894"></a><p><li type="square"><a href="bugfixes2.html#1355978">WebLogic Server 6.1 Service Pack 5 Solutions</a>

<a name="1321898"></a><p><li type="square"><a href="bugfixes2.html#1324080">WebLogic Server 6.1 Service Pack 4 Solutions</a>

<a name="1321902"></a><p><li type="square"><a href="bugfixes2.html#1325330">WebLogic Server 6.1 Service Pack 3 Solutions</a>

<a name="1321906"></a><p><li type="square"><a href="bugfixes2.html#1327486">WebLogic Server 6.1 Service Pack 2 Solutions</a>

<a name="1321910"></a><p><li type="square"><a href="bugfixes2.html#1328247">WebLogic Server 6.1 Service Pack 1 Solutions</a>

<a name="1321914"></a><p><li type="square"><a href="bugfixes2.html#1329383">WebLogic Server 6.1 Release Solutions</a>
</ul>
<p>&nbsp;</p>
<hr noshade>
<a name="1367256"></a><p class="head1">WebLogic <a name="SP06_Fixes"></a>Server 6.1 Service Pack 7 Solutions</p>

<a name="1373863"></a><p>The following sections describe problems that have been resolved for the release of WebLogic Server 6.1 Service Pack 7.</p>


<ul type="square">
<a name="1385782"></a><p><li type="square"><a href="bugfixes2.html#1394232">Administration Console</a>

<a name="1407232"></a><p><li type="square"><a href="bugfixes2.html#1394437">Classloader</a>

<a name="1385861"></a><p><li type="square"><a href="bugfixes2.html#1394532">Cluster</a>

<a name="1385866"></a><p><li type="square"><a href="bugfixes2.html#1401452">Core</a>

<a name="1402984"></a><p><li type="square"><a href="bugfixes2.html#1401567">Deployment</a>

<a name="1385900"></a><p><li type="square"><a href="bugfixes2.html#1401519">EJB</a>

<a name="1401130"></a><p><li type="square"><a href="bugfixes2.html#1401531">Internationalization</a>

<a name="1385905"></a><p><li type="square"><a href="bugfixes2.html#1394703">JDriver</a>

<a name="1385910"></a><p><li type="square"><a href="bugfixes2.html#1394728">JDBC</a>

<a name="1385915"></a><p><li type="square"><a href="bugfixes2.html#1394359">JMS</a>

<a name="1385920"></a><p><li type="square"><a href="bugfixes2.html#1394329">JNDI</a>

<a name="1385965"></a><p><li type="square"><a href="bugfixes2.html#1395085">JSPs and Servlets</a>

<a name="1385975"></a><p><li type="square"><a href="bugfixes2.html#1395202">JVM</a>

<a name="1385980"></a><p><li type="square"><a href="bugfixes2.html#1395317">Operations, Administration and Management</a>

<a name="1385985"></a><p><li type="square"><a href="bugfixes2.html#1395346">Plug-Ins</a>

<a name="1386030"></a><p><li type="square"><a href="bugfixes2.html#1395368">RMI-IIOP</a>

<a name="1386035"></a><p><li type="square"><a href="bugfixes2.html#1395467">RMI</a>

<a name="1386040"></a><p><li type="square"><a href="bugfixes2.html#1395562">Samples</a>

<a name="1386045"></a><p><li type="square"><a href="bugfixes2.html#1395592">Security</a>

<a name="1386095"></a><p><li type="square"><a href="bugfixes2.html#1395617">SNMP</a>

<a name="1401227"></a><p><li type="square"><a href="bugfixes2.html#1395642">WLEC</a>

<a name="1402609"></a><p><li type="square"><a href="bugfixes2.html#1402235">WebLogic Tuxedo Connector</a>
</ul>
<a name="1394232"></a><p class="head2">Administration Console
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1403169"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1403171"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403173"></a><p class="table">CR172370</p>


		</td>
		<td align="left" valign="top">
			<a name="1403175"></a><p class="table">When the Administration Console created an Application MBean, the associated WebAppComponent MBean incorrectly inherited the Application MBean name instead of the WebAppComponent's URI name. This caused the deployer tool to incorrectly create an additional deployment repository for this application when it was updated. </p>

<a name="1403176"></a><p class="table">This defect was corrected by a code change.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403178"></a><p class="table">CR105735</p>


		</td>
		<td align="left" valign="top">
			<a name="1403180"></a><p class="table">Navigation through the directories did not go through action servlet, so encoding was not set properly.</p>

<a name="1403181"></a><p class="table">A change was made to set the encoding explicitly in the page, so the correct encoding is used to produce the response.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403183"></a><p class="table">CR087598</p>


		</td>
		<td align="left" valign="top">
			<a name="1403185"></a><p class="table">Propagation from list page to realm deletion changed the MBean class name specific to the MBean to be deleted. Because of this MBean showed only the last deleted type MBeans in the list.</p>

<a name="1403186"></a><p class="table">A attribute (original class name from list) has been introduced which will be propagated in the above described flow. This attribute provides a way to recover the original class name and listing remains undisturbed. This solution applies to all MBean types.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403188"></a><p class="table">CR184891</p>


		</td>
		<td align="left" valign="top">
			<a name="1403190"></a><p class="table">The console jsp that was used to upload applications to remote servers was calling the ApplicationManager.update() method even when the server was not in development mode.</p>

<a name="1403191"></a><p class="table">Removed the call to ApplicationManager.update() if ProductionMode is enabled. Uploaded applications are no longer automatically deployed when Production Mode is enabled.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403193"></a><p class="table">CR097378</p>


		</td>
		<td align="left" valign="top">
			<a name="1403195"></a><p class="table">A NullPointerException sometimes appeared on the Administration Console while the WebApplication Deployment Descriptor was being edited.</p>

<a name="1403196"></a><p class="table">WebLogic Server was not checking for the descriptor being null, which is the case when it can not be parsed. For this reason a NullPointerException was thrown.</p>

<a name="1403197"></a><p class="table">If the descriptor is null, the proper error action will now be called to display the correct message.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403199"></a><p class="table">CR097036</p>


		</td>
		<td align="left" valign="top">
			<a name="1403201"></a><p class="table">The correct icons were not being retrieved by the console pages due to changes in the getServletContext code to be in compliance with the Servlet 2.3 specification.</p>

<a name="1403202"></a><p class="table">Code changes were made to buildIconList() to provide the path to the images subdirectory in the console.war.</p>

<a name="1403203"></a><p class="table">Correct icons now appear in the navigation applet.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403205"></a><p class="table">CR044503</p>


		</td>
		<td align="left" valign="top">
			<a name="1403207"></a><p class="table">Creating a new ACL with a blank Permission caused an unexpected error. This was due to names not being checked for null and blank values under some circumstances.</p>

<a name="1403208"></a><p class="table">Appropriate checks have been added, and messages for null names have been corrected.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403210"></a><p class="table">CR08296</p>


		</td>
		<td align="left" valign="top">
			<a name="1403212"></a><p class="table">The getParameter() method in GraphApplet is used to get the value of the min/max heap size. Although the return type is long, WebLogic Server was using Integer.parseInt to convert the string values. When the heap size was over 2G, there was an overflow in the integer value. Because of this, the current free memory was sometimes reported as a negative number.</p>

<a name="1403213"></a><p class="table">WebLogic Server now uses Long.parseLong to avoid overflow and to get the correct value of the heap even if it is over 2G .</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403215"></a><p class="table">CR079771</p>


		</td>
		<td align="left" valign="top">
			<a name="1403217"></a><p class="table">WebLogic Server was sending a file link to the browser to report the results of start cluster and start/kill domain operations. That link worked only if the browser was running on the same machine as the administration server. This occurred on all platforms.</p>

<a name="1403218"></a><p class="table">WebLogic Server now sends a action link which will process the file and send the output to the browser in an HTML format.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403220"></a><p class="table">CR077058</p>


		</td>
		<td align="left" valign="top">
			<a name="1403222"></a><p class="table">When a JMSJDBCStore was created, the "None" option was eliminated from the Connection Pool drop down list. </p>

<a name="1403223"></a><p class="table">Adding the ability to make JDBCConnectionPool null restored "None" to the list.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403225"></a><p class="table">CR069130</p>


		</td>
		<td align="left" valign="top">
			<a name="1403227"></a><p class="table">When an application with an incorrect web.xml file was added to the applications directory, the Administration Console reported it as having been deployed even though it was not deployed at startup.</p>

<a name="1403228"></a><p class="table">WebLogic Server now correctly reports such applications as undeployed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403230"></a><p class="table">CR075168</p>


		</td>
		<td align="left" valign="top">
			<a name="1403232"></a><p class="table">WebLogic Server was using the greater than symbol, '&gt;', as the Token delimiter. Because of this, if a custom message contained a '&gt;', it was being truncated while being displayed.</p>

<a name="1403233"></a><p class="table">WebLogic Server no longer truncates the last token when writing to the log.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1394437"></a><p class="head2">Classloader
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1403315"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1403317"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403319"></a><p class="table">CR128510</p>


		</td>
		<td align="left" valign="top">
			<a name="1403321"></a><p class="table">readClassDescriptor() of MsgAbbrevInputStream was trying to resolve a class and throwing a ClassNotFoundException for unknown classes. Java serialization will skip this ClassNotFoundException if corresponding data is not being read.</p>

<a name="1403322"></a><p class="table">readClassDescriptor() of MsgAbbrevInputStream no longer tries to resolve unknown classes and MsgAbbrevInputStream implemented resolveClass().</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1394532"></a><p class="head2">Cluster
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1403448"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1403450"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403452"></a><p class="table">CR129234</p>

<a name="1403453"></a><p class="table">CR189793</p>


		</td>
		<td align="left" valign="top">
			<a name="1403455"></a><p class="table">ReplicatedSessionContext has two hashtables, one of which stores the sessions for which the server is primary, and the other stores sessions for which the server is secondary. The hashtable with secondary sessions has sessionId as a key and ROID as value. </p>

<a name="1403456"></a><p class="table">When a session was invalidated and the request to remove the session came to the secondary server, WebLogic Server passed the ROID to the ReplicatedSessionContext, iterated over the values in the hashtable in order to compare ROID with that value, and then removed the entry. WebLogic Server now avoids iterating over the hashtable by passing the sessionId instead of ROID.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403458"></a><p class="table">CR135131</p>


		</td>
		<td align="left" valign="top">
			<a name="1403460"></a><p class="table">weblogic.cluster.MulticastObjectListener was locked on a call to objectAdded and waited to lock a HashMap while in a different thread MulticastReceiver locks the HashMap and attempted a lock on MulticastObjectListener. This caused a Java Level Deadlock.</p>

<a name="1403461"></a><p class="table">Changing the lock order eliminated the deadlock.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403463"></a><p class="table">CR127765</p>


		</td>
		<td align="left" valign="top">
			<a name="1403465"></a><p class="table">When a node in cluster was restarted, it first tried to synchronize with other cluster members resulting in one server adding the other to the cluster view. </p>

<a name="1403466"></a><p class="table">Before that cluster node opened the listen port, if a request came in with this cluster node as a secondary, it resulted in an error and from that point on all requests to create secondaries on that cluster node failed. </p>

<a name="1403467"></a><p class="table">Now during cluster synchronization, when a node is coming up, it first identifies all the running nodes in a cluster and then sends out a broadcast identifying itself. This ensures that the cluster node coming up is identified by other nodes after it opens a listen port.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403469"></a><p class="table">CR127643</p>


		</td>
		<td align="left" valign="top">
			<a name="1403471"></a><p class="table">When a Dynamic Proxy that implemented interfaces declared inside the web application was put into the HttpSession and the session was replicatable, WebLogic Server was not able to load the interface classes on the secondary server.</p>

<a name="1403472"></a><p class="table">Dynamic Proxies implementing interfaces stored in the application archive can now be put into HttpSession and be correctly replicated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403474"></a><p class="table">CR111029</p>


		</td>
		<td align="left" valign="top">
			<a name="1403476"></a><p class="table"> The cluster members timed out if they did not receive a heartbeat within the default 30 second timeout period. Heartbeats were sent every 10 seconds and servers waited for 3 periods (total wait time was 30 seconds) to get a heartbeat before the cluster member was timed out and declared unavailable. For example, during session replication if the secondary server was unavailable at TCP level, the 30-second period was sometimes too long for a very busy web site. Before the secondary was removed from the cluster view, the primary tried to replicate many sessions to the secondary and thus caused the server to hang or made the server slower.</p>

<a name="1403477"></a><p class="table">The timeout value IdlePeriodsUntilTimeout is now tunable. It is set on the &lt;Server IdlePeriodsUntilTimeout="3"&gt; tag in the config.xml file. In general customers should not tune this value and should leave it at the default (3). However, in certain cases depending on the load, available redundancy in the architecture and specific application problems and/or certain production scenarios, tuning this value carefully might alleviate the problem temporarily until the root cause is identified and fixed. </p>

<a name="1403478"></a><p class="table">BEA WebLogic recommends that you use HIGH caution when changing this value and ensure sufficient testing of your application at peak load scenarios to ensure the expected behavior. There is no recommendation that fits all scenarios, so testing for load and stress is a must if this value needs to be changed. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1401452"></a><p class="head2">Core
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1403684"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1403686"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403688"></a><p class="table">CR190507</p>


		</td>
		<td align="left" valign="top">
			<a name="1403690"></a><p class="table">Fixed a problem with oneway calls for ReplicationManager..</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403692"></a><p class="table">CR190417</p>


		</td>
		<td align="left" valign="top">
			<a name="1403694"></a><p class="table">When a request landed on a server that was neither primary nor secondary, it got the session from the existing secondary by looking it up on the secondary server with the host port information from the session id.After it successfully got the session from existing secondary it removed the existing session and tried to create a new session.</p>

<a name="1403695"></a><p class="table">When two such requests occurred at the same time a distributed deadlock could occur since these requests landed on the 'Replication' thread queue and the 'Replication' thread queue had only two threads and there was no other thread available for reading the response.</p>

<a name="1403696"></a><p class="table">Code was added to WebLogic Server which fixed the problem so that it will not deadlock.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403698"></a><p class="table">CR183210</p>


		</td>
		<td align="left" valign="top">
			<a name="1403700"></a><p class="table">In WebLogic Server 7.0 and higher, the javax.ejb.TransactionRolledbackLocalException's SVUID was changed and when WebLogic Server 7.0 or 8.1 experienced a javax.ejb.TransactionRolledbackLocalException when a WebLogic Server 6.1 client made a remote call to ejb hosting by a WebLogic Server 7.0 or 8.1 server instance, it experienced an InvalidClassException.</p>

<a name="1403701"></a><p class="table">This problem is fixed in WebLogic Server 6.1 so that it now understands the incoming  final-ejb20 ClassDescriptor for javax.ejb.TransactionRolledbackLocalException.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403703"></a><p class="table">CR133631</p>


		</td>
		<td align="left" valign="top">
			<a name="1403705"></a><p class="table">Stopping a windows service configured with beasvc.exe sometimes caused a timeout when a stopclass was specified. The service was timing out because there was a race condition between the stop and main threads of beasvc.exe.</p>

<a name="1403706"></a><p class="table">The race condition has been corrected and the windows service no longer times out.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403708"></a><p class="table">CR121483</p>


		</td>
		<td align="left" valign="top">
			<a name="1403710"></a><p class="table">A ConcurrentModificationException was thrown when the monitoring subsystem was trying to read the values of the abbrev table and at the same time the abbrev table was being modified by the rjvm layer.</p>

<a name="1403711"></a><p class="table">Cloning the key set before sending the data to the monitoring subsystem so that the HashMap is not modified simultaneously by two threads eliminates the ConcurrentModificationException.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403713"></a><p class="table">CR188371</p>


		</td>
		<td align="left" valign="top">
			<a name="1403715"></a><p class="table">When an application cached a stateless session bean remote stub, and all the servers in the cluster were restarted, the stub was unable to refresh its lists of server nodes where the remote object was available and failover did not succeed. This was happening because the stub did not have the information needed to re-establish the initial context with the cluster nodes, hence the remote method invocation failed.</p>

<a name="1403716"></a><p class="table">WebLogic Server code was not propagating the thread environment for the stateless session bean stubs in WebLogic Server 6.1 versions and it is required in WebLogic Server 7.0 and higher versions for unmarshalling to set the environment so failover works.</p>

<a name="1403717"></a><p class="table">The runtime descriptors for the clusterable stateless session beans now have the propagate-environment attribute set to true by default.</p>

<a name="1403718"></a><p class="table">The descriptor is now read and the propagateEnvironment is set so the environment is passed on during unmarshalling. This will allow the failover logic to reconnect to the cluster nodes to retrieve the new list of server nodes where the remote object is available and allow for proper failover.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403720"></a><p class="table">CR182684</p>


		</td>
		<td align="left" valign="top">
			<a name="1403722"></a><p class="table">Every time the beasvc service handler was called, the beasvc log added a line indicating that it was called.</p>

<a name="1403723"></a><p class="table">For example:</p>

<a name="1403724"></a><p class="table">Tue Apr 27 11:52:17 2004] [I] [service_ctrl] 4</p>

<a name="1403725"></a><p class="table">This caused the log to fill up when there was no real activity on the server.</p>

<a name="1403726"></a><p class="table">The debug statement was removed, eliminating the log problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403728"></a><p class="table">CR181986</p>


		</td>
		<td align="left" valign="top">
			<a name="1403730"></a><p class="table">WebLogic Server running as a service sometimes ran out of memory if it was using a large number of threads.</p>

<a name="1403731"></a><p class="table">Reducing the reserve stack size used by beasvc.exe and beasvc64.exe from 1mb to 256kb eliminated the memory problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403733"></a><p class="table">CR176614</p>


		</td>
		<td align="left" valign="top">
			<a name="1403735"></a><p class="table">Stateful Session Bean handles taken from the 70 (or 81) WebLogic Server servers to WebLogic Server 61 server/client were failing with a ClassNotFoundException in the serialization code.</p>

<a name="1403736"></a><p class="table">Compared to the WebLogic Server 6.1 server, WebLogic Server 70 and 81 servers used a different PK mechanism for SFSB in the ejb container.</p>

<a name="1403737"></a><p class="table">Adding the necessary classes to 6.1 line to support the inter-op requirement eliminated the ClassNotFoundException.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403739"></a><p class="table">CR174605</p>


		</td>
		<td align="left" valign="top">
			<a name="1403741"></a><p class="table">According to the documentation in "Starting and Stopping Servers" if the CLASSPATH is too long, it can be added as a single line to a file and then accessed as -classpath @filename. However, when beasvc attempted to load the contents of CLASSPATH file, it truncated the last character when the file did not end with a new line.</p>

<a name="1403742"></a><p class="table">Now beasvc determines whether the file terminates properly and then reads the file accordingly. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403744"></a><p class="table">CR173958</p>


		</td>
		<td align="left" valign="top">
			<a name="1403746"></a><p class="table">Interoperability between 6.1 SP04 and 8.1 SP02 us t3 was failing when the protocol was changed from "secure" to "non-secure" between the front-end and back-end. The front-end QOS was being propagated to the back-end for the authentication call and it was failing.</p>

<a name="1403747"></a><p class="table">The problem was resolved by using "anonymous" when doing the bootstrap authenticate call.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403749"></a><p class="table">CR172366</p>


		</td>
		<td align="left" valign="top">
			<a name="1403751"></a><p class="table">Messages printed by beasvc.exe to the event log were not readable in Japanese locale.</p>

<a name="1403752"></a><p class="table">A code fix ensures that English messages are printed for all non-English locales.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403754"></a><p class="table">CR135225</p>


		</td>
		<td align="left" valign="top">
			<a name="1403756"></a><p class="table">A deadlock was occurring between RJVM and NTSocketMuxer.</p>

<a name="1403757"></a><p class="table">Code was added to ensure that WebLogic Server does not hold a lock on IORecord during dispatch, thus ensuring that a deadlock will not occur.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403759"></a><p class="table">CR134971</p>


		</td>
		<td align="left" valign="top">
			<a name="1403761"></a><p class="table">When &lt;&lt;no stack trace available&gt;&gt; was sent out as part of the exception message field (from the server side) rmi layer was recursively adding / appending the exception as server side stack trace. This was filling up the log files. This manifested when the server was running out of heap and there was a NullPointerException thrown by the application code (EJB + Servlets)</p>

<a name="1403762"></a><p class="table">WebLogic Server now parses the exception message field, traps this specific exception and ensures that it is appended only once.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403764"></a><p class="table">CR133880</p>


		</td>
		<td align="left" valign="top">
			<a name="1403766"></a><p class="table">Under heavy load, T3File client often threw an ArrayIndexOutOfBoundsException when closing OutputStream/InputStream.</p>

<a name="1403767"></a><p class="table">WebLogic Server now acquires the lock on the Vector before starting the loop.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403769"></a><p class="table">CR175607</p>


		</td>
		<td align="left" valign="top">
			<a name="1403771"></a><p class="table">Installing WebLogic Server as a Windows service immediately after uninstalling it sometimes created wrong registry keys, which could lead to startup problems. </p>

<a name="1403772"></a><p class="table">A code fix ensure that the registry keys are flushed and properly closed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403774"></a><p class="table">CR130409</p>


		</td>
		<td align="left" valign="top">
			<a name="1403776"></a><p class="table"> When setting the maximum length of an execute queue with the -Dweblogic.kernel.allowQueueThrottling flag to throttle "slow moving resource intensive" requests on a custom queue, clients did not receive a 503 response and therefore waited for the timeout. </p>

<a name="1403777"></a><p class="table">This problem was resolved by a code fix to check for the dispatch return value on the caller and use the sendError() API to return the 503 response.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403779"></a><p class="table">CR130376</p>


		</td>
		<td align="left" valign="top">
			<a name="1403781"></a><p class="table">According to the documentation at "Starting and Stopping Servers" if the CLASSPATH is too long, it could be added as a single line to a file and then accessed as -classpath @filename. However, this was not working because when beasvc attempted to load the contents of CLASSPATH file, it sometimes truncated the last character. This only happened when the file did not end with a new line.</p>

<a name="1403782"></a><p class="table">A code change was made so beasvc figures out whether the file terminates properly and is then read accordingly."</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403784"></a><p class="table">CR129094</p>


		</td>
		<td align="left" valign="top">
			<a name="1403786"></a><p class="table"> Performance issues that involved TCP window shrinkage in the t3 protocol on the AIX platform have been resolved. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1403788"></a><p class="table">CR122939</p>


		</td>
		<td align="left" valign="top">
			<a name="1403790"></a><p class="table"> A distributed deadlock occurred due to a failure to maintain session stickiness with the primary server. When a request lands on the server which is neither primary nor secondary, it will try to remove the existing session from the primary as well as the secondary and create a new one on the current server and register a new secondary to it. In doing so, this server makes a remote request to the primary to remove the session on non-blocking queue, the primary server makes a remove call to the secondary server to remove itself on non-blocking queue. If there are more than one such requests, there will be no other thread to receive the response on the current server since there will be only two threads available in non-blocking queue and hence there is a distributed deadlock. </p>

<a name="1403791"></a><p class="table">WebLogic Server now makes no new remote requests while processing requests that come in on a non-blocking queue. This fixes the problem, as it ensures that there will always be a thread available in the non-blocking queue to receive a response.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1401567"></a><p class="head2">Deployment 
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1401556"></a><p class="table"><strong>CR Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1401558"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1401560"></a><p class="table">CR134122</p>


		</td>
		<td align="left" valign="top">
			<a name="1401833"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04_57.00.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04_57.00.jsp</a>.</p>


		</td>

	</tr>

</table>


</center>
 </p>

<a name="1401519"></a><p class="head2">EJB
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1404006"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1404008"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404010"></a><p class="table">CR124991</p>


		</td>
		<td align="left" valign="top">
			<a name="1404012"></a><p class="table">When &lt;validate-db-schema-with&gt;MetaData&lt;/validate-db-schema-with&gt; was used AND a cmp-field and a cmr-field were mapped to the same column, a java.lang.IndexOutOfBoundsException was being thrown.</p>

<a name="1404013"></a><p class="table">WebLogic Server has been modified and this exception is no longer thrown under these circumstances.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404015"></a><p class="table">CR055396</p>


		</td>
		<td align="left" valign="top">
			<a name="1404017"></a><p class="table">When a EJB QL syntax error occurred, WebLogic Server generated an error message with an incorrect xml file reference.</p>

<a name="1404018"></a><p class="table">WebLogic Server now generates the message as follows if there are syntax errors in EJB QL.</p>

<a name="1404019"></a><p class="table">[java] ERROR: Error from ejbc: Error while reading 'META-INF/ejb-jar.xml' or 'META-INF/weblogic-cmp-rdbms-jar.xml'. The error was:</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404021"></a><p class="table">CR185643</p>


		</td>
		<td align="left" valign="top">
			<a name="1404023"></a><p class="table"> For BLOBs, in the generated code, WebLogic Server calls ObjectOutputStream.writeObject and ObjectInputStream.readObject to serialize/deserialize the object before writing/reading it to the database. These calls add extra header information. The writeObject method writes the class of the object, the signature of the class, the values of the non-transient and non-static fields of the class, and all of its supertypes are written. (This is the reason for the extra header seen in the database.) These calls do not cause a problem when customers are using only WebLogic Server to set and get BLOBs, because it uses readObject to convert the bytes into the appropriate object, which needs that extra header information. However, if the BLOB has been inserted directly into the database by some other vendor or programmer using: </p>

<a name="1404024"></a><p class="table">OutputStream os = ((weblogic.jdbc.common.OracleBlob) lob).getBinaryOutputStream(); os.write(this.tiffImage); // byte[] tiffImage </p>

<a name="1404025"></a><p class="table">then problems may occur because WebLogic Server uses readObject and the header information is missing. For the data inserted using WebLogic Server, the other programs that would read the bytes directly get the extra header information and fail. </p>

<a name="1404026"></a><p class="table">A system property has been added which allows WebLogic Server to correctly report header information.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404028"></a><p class="table">CR187121</p>


		</td>
		<td align="left" valign="top">
			<a name="1404030"></a><p class="table">A high value for idleTimeoutSecs, for instance, 60000000, in the Deployment Descriptor when multiplied by 1000 to convert it into msecs was overflowing into a negative value. This caused the trigger that cleans the passivated beans from the disk to constantly fire, causing high CPU usage.</p>

<a name="1404031"></a><p class="table">The variables within the EJB container which held the timeout values in milliseconds, such as idleTimeoutMS, sessionTimeoutMS, and readTimeoutMS, have been changed from the int type to long. This prevents any numeric overflow.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404033"></a><p class="table">CR135367</p>


		</td>
		<td align="left" valign="top">
			<a name="1404035"></a><p class="table">EJBStatelessHomeRuntimeMBean's implementation class did not provide correct details of pool statistics.</p>

<a name="1404036"></a><p class="table">Code was changed to provide the correct pool statistics in the runtime mbean methods.MBean calls now show the correct data.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404038"></a><p class="table">CR127097</p>


		</td>
		<td align="left" valign="top">
			<a name="1404040"></a><p class="table">The Stateful EJB monitoring page did not have the machine name prefixed to its output</p>

<a name="1404041"></a><p class="table">so it was impossible to see to which machine the entry referred.</p>

<a name="1404042"></a><p class="table">The machine name was added to the Stateful EJB monitoring page.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404044"></a><p class="table">CR124026</p>


		</td>
		<td align="left" valign="top">
			<a name="1404046"></a><p class="table">The read-only concurrency strategy in 6.x used Exclusive concurrency. This guaranteed exclusive access to the bean, but not to the generated Set for the 1-N relationship. It was possible for two clients to get access to the same Set. In such a case, when some method was called on the relationship Set, it caused a NullPointerException.</p>

<a name="1404047"></a><p class="table">Relevant code changes were made to guarantee exclusive access to the relationship Set to fix the issue.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404049"></a><p class="table">CR104539</p>

<a name="1404050"></a><p class="table">CR102308</p>


		</td>
		<td align="left" valign="top">
			<a name="1404052"></a><p class="table">In WebLogic Server 6.1 SP04, the Administration Console reported incorrect values for waiters for entity beans. </p>

<a name="1404053"></a><p class="table">The problem was solved by adding a <font face="Courier">waiterCurrentCount</font> attribute that is incremented when a client starts waiting for a lock and decremented when the lock is acquired or the client times out. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404055"></a><p class="table">CR096398</p>


		</td>
		<td align="left" valign="top">
			<a name="1404057"></a><p class="table">EJBContext.getRollbackOnly() returned "true" if a transaction marked for rollback and had not yet been rolled back. After the transaction was rolled back, it returned "false".</p>

<a name="1404058"></a><p class="table">EJBContext.getRollbackOnly() now returns "true" even if the transaction has already been rolled back.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404060"></a><p class="table">CR060229</p>


		</td>
		<td align="left" valign="top">
			<a name="1404062"></a><p class="table">The Administration Console was not exposing the Transactions Committed Total Count, the Transactions Rolled Back Total Count or the Transactions Timed Out Total Count for Stateful and Entity EJBs.</p>

<a name="1404063"></a><p class="table">The Administration Console now allows monitoring of these items.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404065"></a><p class="table">CR087261</p>


		</td>
		<td align="left" valign="top">
			<a name="1404067"></a><p class="table"> The EJBDeployer was writing an incorrect deployment message to the log for Message Driven Beans. </p>

<a name="1404068"></a><p class="table">The correct message is now being logged when a Message Driven Bean is deployed.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1401531"></a><p class="head2">Internationalization
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1404146"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1404148"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404150"></a><p class="table">CR079432</p>


		</td>
		<td align="left" valign="top">
			<a name="1404152"></a><p class="table">MessageLocalizer was not setting the l10n_package attribute in localized catalog files using the l10ngen utility.</p>

<a name="1404153"></a><p class="table">MessageLocalizer now correctly sets the l10n_package attribute in a localized catalog file.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1394703"></a><p class="head2">JDriver
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1404279"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1404281"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404283"></a><p class="table">CR142730</p>


		</td>
		<td align="left" valign="top">
			<a name="1404285"></a><p class="table">After a long database outage, a JDBC connection pool that used the XA jDriver for Oracle with TestConnectionsOnReserve="true" could not recover and recreate connections to the database. The following error messages were thrown:</p>

<a name="1404286"></a><p class="table">&lt;Warning&gt; &lt;JDBC&gt; &lt;001096&gt; &lt;Refreshing this bad pool connection failed weblogic.common.ResourceException: java.sql.SQLException: open failed for XAResource 'oracleXAPool' with error XAER_RMERR: A resource manager error has occurred in the transaction branch.</p>

<a name="1404287"></a><p class="table">and </p>

<a name="1404288"></a><p class="table">&lt;Warning&gt; &lt;JDBC&gt; &lt;001096&gt; &lt;Refreshing this bad pool connection failed weblogic.common.ResourceException: java.sql.SQLException: LDA pool exhausted - make sure you call Connection.close()</p>

<a name="1404289"></a><p class="table">The problem was that during the outage, the JDBC connection pool attempted to recreate connections, but on failure, those connection attempts were not cleaned up and were depleting Oracle client resources (in the LDA).</p>

<a name="1404290"></a><p class="table">The jDriver now cleans up connection creation attempts that fail.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404292"></a><p class="table">CR134285</p>


		</td>
		<td align="left" valign="top">
			<a name="1404294"></a><p class="table">class weblogic.db.oci.OciLob defined two class level variables to hold the returned byteArray for either BLOB or CLOB data from database. As this byte array could be quite large each instance of OciLob filled up the heap quickly until a garbage collection occurred.</p>

<a name="1404295"></a><p class="table">Further testing and a modified OciLob moving the class level variables retBArray[] and retCArray[] into the methods caused the variable to be allocated on the stack and reduced the size of the OciLob object instance and thus overall heap usage was reduced.</p>

<a name="1404296"></a><p class="table">Code was added to move the global variables retBArray and retCArray to the method level in order to reduce the size of the memory heap usage.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404298"></a><p class="table">CR172462</p>


		</td>
		<td align="left" valign="top">
			<a name="1404300"></a><p class="table"> The WebLogic Server jDriver was not functioning properly with Oracle 9.2 when using the AL32UTF8 character set.</p>

<a name="1404301"></a><p class="table">This problem was resolved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404303"></a><p class="table">CR136168</p>


		</td>
		<td align="left" valign="top">
			<a name="1404305"></a><p class="table"> WebLogic jDriver may cause the server to crash with Oracle error message ORA-02392 when using the long raw type under heavy loads. </p>

<a name="1404306"></a><p class="table">A code fix was implemented to resolve this issue.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404308"></a><p class="table">CR129220</p>


		</td>
		<td align="left" valign="top">
			<a name="1404310"></a><p class="table"> WebLogic Server Oracle jDriver was not properly releasing Clob Objects for garbage collection. </p>

<a name="1404311"></a><p class="table">WebLogic Server now releases Clob Objects correctly.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1394728"></a><p class="head2">JDBC
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1404525"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1404527"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404529"></a><p class="table">CR095876</p>


		</td>
		<td align="left" valign="top">
			<a name="1404531"></a><p class="table">In previous releases, methods in the weblogic.jdbc.common.Pool and weblogic.jdbc.common.JDBCServices interfaces were referenced in the Programming WebLogic JDBC guide, but the Javadocs for those interfaces were not published.</p>

<a name="1404532"></a><p class="table">In WebLogic Server 6.1 SP7, the Javadocs for these interfaces are published at ../javadocs/weblogic/jdbc/common/package-summary.html. Note, however, that the methods in these interfaces have been deprecated and are not available in WebLogic Server 7.0 and 8.1.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404534"></a><p class="table">CR128888</p>


		</td>
		<td align="left" valign="top">
			<a name="1409826"></a><p class="table">Please review the security advisory information at</p>

<a name="1404540"></a><p class="table"><a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04_53.00.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04_53.00.jsp.</a></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404542"></a><p class="table">CR127949</p>


		</td>
		<td align="left" valign="top">
			<a name="1404544"></a><p class="table">Statement.getResultSet() sometimes generated an unnecessary new ResultSet wrapper for the one underlying DBMS resultset, if a result set had already been returned to the user code. If the user code had run an executeQuery() call first, without retaining the result set it returned, garbage-collecting could close it immediately, with the underlying DBMS resultset, invalidating and prematurely closing any result set returned by a subsequent getResultSet() call. </p>

<a name="1404545"></a><p class="table">WebLogic Server no longer generates unnecessary wrappers due to a code change.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404547"></a><p class="table">CR184143</p>


		</td>
		<td align="left" valign="top">
			<a name="1409837"></a><p class="table">Please review the security advisory information at</p>

<a name="1404552"></a><p class="table"><a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04_53.00.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04_53.00.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404554"></a><p class="table">CR182410</p>


		</td>
		<td align="left" valign="top">
			<a name="1404556"></a><p class="table">Under a high load condition, WebLogic Server slowed significantly.</p>

<a name="1404557"></a><p class="table">Removing synchronization In weblogic.jdbc.common.internal.MultiPool.searchLoadBalance() method eliminated the slowdown under high load conditions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404559"></a><p class="table">CR133612</p>


		</td>
		<td align="left" valign="top">
			<a name="1404561"></a><p class="table">In Service Pack 7, the Oracle thin driver is modified with latest 9.2.0.4 </p>

<a name="1404562"></a><p class="table">drivers in classes12.zip in the 3rdparty/oracle/920 directory</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404564"></a><p class="table">CR131575</p>


		</td>
		<td align="left" valign="top">
			<a name="1404566"></a><p class="table">WebLogic Server sometimes threw an incorrect warning about a JDBC connection leak that began:</p>

<a name="1404567"></a><p class="table">[SerialConnection]: Connection Leak detected!!!!!!java.lang.Throwable: StackTrace at creation of connection: /n</p>

<a name="1404568"></a><p class="table">The leak detection code that sent this warning is obsolete. A code change resolved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404570"></a><p class="table">CR130306, CR135909</p>


		</td>
		<td align="left" valign="top">
			<a name="1404572"></a><p class="table"> In jta.DataSource, when doing refreshAndEnlist, WebLogic Server called tx.enlist(), but the connection was not returned to the pool if there was an exception in the refreshAndEnlist call. </p>

<a name="1404573"></a><p class="table">A code change catches the exception and releases the connection to the pool.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404575"></a><p class="table">CR129379</p>


		</td>
		<td align="left" valign="top">
			<a name="1404577"></a><p class="table"> When an EJB transaction created many new entities or otherwise engaged many beans that all use JDBC, WebLogic Server risked running out of Oracle cursors, because in an attempt to avoid a suspected Oracle driver bug, WebLogic Server delayed closing JDBC statements until the end of a transaction, holding the cursors for the statement until then.</p>

<a name="1404578"></a><p class="table">This behavior has been changed so that the session need not hold cursors until the transaction ends.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404580"></a><p class="table">CR127720</p>


		</td>
		<td align="left" valign="top">
			<a name="1404582"></a><p class="table">New versions of JDBC drivers track the transactional state of connections. If a local transaction was active on a connection, XA operations could not be performed on it, resulting in an XAER_PROTO or XAER_RMERR when an xa_start() was called on the connection. As a result, applications had to go through the tedious process of narrowing down where in their code they had started but not ended a local transaction.</p>

<a name="1404583"></a><p class="table">The problem was resolved by a code change in the recovery method that prevents special XA connections from being released to the pool twice.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1394359"></a><p class="head2">JMS
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1404797"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1404799"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404801"></a><p class="table">CR188040</p>


		</td>
		<td align="left" valign="top">
			<a name="1404803"></a><p class="table">WebLogic JMS was not receiving notification when ServerDebugMBean() JMS attributes were changed.</p>

<a name="1404804"></a><p class="table">The ServerDebugMBean() can now be used to dynamically enable and disable "DebugJMS" ServerDebugMBean attributes. This allows customers to dynamically enabled or disable JMS Debugging flags.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404806"></a><p class="table">CR099554</p>


		</td>
		<td align="left" valign="top">
			<a name="1404808"></a><p class="table">Under certain circumstances when a server with JMS messages in a pending state was shut down or crashed, pending messages were not recovered when the server was restarted.</p>

<a name="1404809"></a><p class="table"> Pending messages are now recovered upon restarting the server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404811"></a><p class="table">CR123194</p>


		</td>
		<td align="left" valign="top">
			<a name="1404813"></a><p class="table">In previous WebLogic Server 6.1 service packs, when the server instance went down but its clients remained active, JMS threw a runtime exception weblogic.rmi.extensions.RemoteRuntimeException, instead of a JMSException as expected per the JMS specifications.</p>

<a name="1404814"></a><p class="table">A code change has resolved the problem in this Service Pack.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404816"></a><p class="table">CR126192</p>


		</td>
		<td align="left" valign="top">
			<a name="1404818"></a><p class="table">Long-lived JMS connections lacked a periodic heartbeat check. </p>

<a name="1404819"></a><p class="table">Following a code change, when JMS is idle the connection pings the database every five minutes to keep connection fresh.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404821"></a><p class="table">CR182338</p>


		</td>
		<td align="left" valign="top">
			<a name="1404823"></a><p class="table">A receiver stops processing messages when a RedeliveryLimit is configured and the number of times the RedeliveryLimit is reached is greater than the MessagesMaximum setting on the ConnectionFactory.</p>

<a name="1404824"></a><p class="table">Example: RedeliveryLimit=0, MessagesMaximum=10. Receiver receives a message and calls sesssion.recover() 10 times. Receiver will stop processing messages and the console will show 10 messages pending.</p>

<a name="1404825"></a><p class="table">Code was added to adjust the window counter when a message is removed from the queue because the RedeliveryLimit had been reached.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404827"></a><p class="table">CR126183</p>


		</td>
		<td align="left" valign="top">
			<a name="1404829"></a><p class="table">An idle bridge was logging a message after the maximum idle time setting had been reached. </p>

<a name="1404830"></a><p class="table">Code was added to suppress the repetitive log message "Bridge X start transferring messages" logged by an idle bridge.</p>

<a name="1404831"></a><p class="table">If the bridge is stopped and restarted, or if it encounters an exception and is restarted you will see the "Bridge "bridgename" starts transferring messages" log message, but you will not see the repetitive message logged by an idle bridge.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404833"></a><p class="table">CR133155</p>


		</td>
		<td align="left" valign="top">
			<a name="1404835"></a><p class="table"> WebLogic Server took too long to recover JMS messages from the JDBC store at boot time. Including JMS in the getTables prefix resolved the problem.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1394329"></a><p class="head2">JNDI
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1404913"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1404915"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1404917"></a><p class="table">CR136746</p>


		</td>
		<td align="left" valign="top">
			<a name="1404919"></a><p class="table"> Enhancement request to allow explicit naming of JDBC driver being used in class VendorId.</p>

<a name="1404920"></a><p class="table">This customer enhancement was made through a code change.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1395085"></a><p class="head2">JSPs and Servlets
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1405068"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1405070"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405072"></a><p class="table">CR122556</p>


		</td>
		<td align="left" valign="top">
			<a name="1405074"></a><p class="table">HTTP tunneling requests were sometimes producing ProtocolExceptions.</p>

<a name="1405075"></a><p class="table">Code was added to WebLogic Server to eliminate the ProtocolExceptions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405077"></a><p class="table">CR087857</p>


		</td>
		<td align="left" valign="top">
			<a name="1405079"></a><p class="table">When the character encoding was set by JSP pages or servlets, the ServletOutputStream.write(int) method, which takes int type as its argument, received the data encoded using the specified charset encoder.</p>

<a name="1405080"></a><p class="table">WebLogic Server no longer encodes the binary data when ServletOutputStream.write(int) is called.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405082"></a><p class="table">CR180425</p>


		</td>
		<td align="left" valign="top">
			<a name="1405084"></a><p class="table">WebLogic Server was sending wlsproxy specific headers even when the request did not originate with a proxy.</p>

<a name="1405085"></a><p class="table">Code was added to check if the request is coming from a proxy and send the appropriate header.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405087"></a><p class="table">CR077922</p>

<a name="1405088"></a><p class="table">CR063304</p>


		</td>
		<td align="left" valign="top">
			<a name="1405090"></a><p class="table">The HttpSessionBindingListener were not getting fired correctly. In some cases they were invoked twice.</p>

<a name="1405091"></a><p class="table"> Re-implementing the callbacks strictly per the Servlet Specification fixed this problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405093"></a><p class="table">CR123308</p>


		</td>
		<td align="left" valign="top">
			<a name="1405095"></a><p class="table">T3ServicesDef and LogServicesDef interfaces have been </p>

<a name="1405096"></a><p class="table">deprecated beginning with the WebLogic Server 6.1 SP5 release.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405098"></a><p class="table">CR101992</p>


		</td>
		<td align="left" valign="top">
			<a name="1405100"></a><p class="table">A web application that had a local EJBObject reference in its session, sometimes got an javax.ejb.EJBException after it was redeployed.</p>

<a name="1405101"></a><p class="table">Code was added to catch the exception and log a message. An error message is now logged to indicate serialization failure and the getAttribute() of HttpSession, ServletRequest or ServletContext returns null under these circumstances.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405103"></a><p class="table">CR085091</p>


		</td>
		<td align="left" valign="top">
			<a name="1405105"></a><p class="table">There was a problem that was preventing serving custom error pages, if the request was a conditional GET (Is-Modified-Since header set) for a protected resource.</p>

<a name="1405106"></a><p class="table">The logic was fixed to serve the custom error page if one is defined.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405108"></a><p class="table">CR127959</p>


		</td>
		<td align="left" valign="top">
			<a name="1405110"></a><p class="table">Code that used a response wrapper and called getOutputStream on the original response passed into a JSP resulted in NestedBodyResponse always throwing an IllegalStateException.</p>

<a name="1405111"></a><p class="table">Mixed use of getWriter() and getOutputStream() from NestedBodyResponse are now allowed, so the exception will only be thrown when appropriate.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405113"></a><p class="table">CR133291</p>


		</td>
		<td align="left" valign="top">
			<a name="1405115"></a><p class="table">A protocol exception, excjava.net.ProtocolException: Didn't meet stated Content-Length, was occurring when a client cancelled a request while the default fileServlet was sending a file. </p>

<a name="1405116"></a><p class="table">This was resolved with a code change.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405118"></a><p class="table">CR127708</p>


		</td>
		<td align="left" valign="top">
			<a name="1405120"></a><p class="table">WebLogic Server decoded the path /foo/bar%c0%baz/ to /foo/bar because sun.io.ByteToCharConverter stopped converting the remaining bytes if it encountered bytes that were not valid in UTF8 (for example, 0xc0). This problem does not occur on JDK 1.4.</p>

<a name="1405121"></a><p class="table">The problem was resolved with a WebLogic Server UTF-8 converter that replaces invalid UTF-8 sequences with U+FFFD characters. As a result of this fix, the path /foo/bar%c0%baz/ is decoded to /foo/bar?%baz.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405123"></a><p class="table">CR143448</p>


		</td>
		<td align="left" valign="top">
			<a name="1405125"></a><p class="table"> The java.lang.IllegalStateException: HttpSession is invalid exception occurs in the servlet container's internal call. If other threads using the same session ID invalidate the session object during processing of ServletRequestImpl.syncSession(), an IllegalStateException may occur while calling SessionData.putValue() or SessionData.isNew(). </p>

<a name="1405126"></a><p class="table">Ignore the IllegalStateException if the session has been invalidated by other threads.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405128"></a><p class="table">CR134414</p>


		</td>
		<td align="left" valign="top">
			<a name="1405130"></a><p class="table"> When a Serializable Servlet request attribute was added, and then overwritten it with a non-Serializable value, the original value masks the new one. </p>

<a name="1405131"></a><p class="table">A code change was made to try to remove the value from a HashMap table of serializable attributes if necessary, when replacing a Serializable value with a non-Serializable one. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405133"></a><p class="table">CR132522</p>


		</td>
		<td align="left" valign="top">
			<a name="1405135"></a><p class="table"> On a Web server without a default Web application, an HTTP request for a missing resource received a response that included an incorrect date header:</p>

<a name="1405136"></a><p class="table">HTTP/1.1 404 Not Found Date: Thu, 01 Jan 1970 00:00:00 GMT</p>

<a name="1405137"></a><p class="table">This header is not valid according to section 14.18 of RFC2616. A code change resolved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405139"></a><p class="table">CR173042,</p>

<a name="1405140"></a><p class="table">CR110910</p>


		</td>
		<td align="left" valign="top">
			<a name="1405142"></a><p class="table">HttpClusterServlet threw this exception, when KeepAliveEnabled was set to true after a large file download was canceled.</p>

<a name="1405143"></a><p class="table">Analysis revealed that when a client canceled a file download, the remaining data was left in the inputstream. If the socket was recycled for a subsequent request, the servlet read the remaining data, resulting in the exception.The problem was solved with a code fix to drain the inputstream and if the download is canceled we will read this remaining data.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405145"></a><p class="table">CR133558</p>


		</td>
		<td align="left" valign="top">
			<a name="1405147"></a><p class="table"> ServletContext.setAttribute threw a NullPointerException when a null value was passed to it. </p>

<a name="1405148"></a><p class="table">The problem was resolved by a code change that calls removeAttribute() when a null value is passed to the setAttribute().</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405150"></a><p class="table">CR129211</p>


		</td>
		<td align="left" valign="top">
			<a name="1405152"></a><p class="table">Using ServletOutputStream.write(byte) to write more than the buffer size caused infinite loop. </p>

<a name="1405153"></a><p class="table">A code change resolved the problem by updating the check for boundary conditions when the buffer is full and autoflush is set to false.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405155"></a><p class="table">CR128986</p>


		</td>
		<td align="left" valign="top">
			<a name="1405157"></a><p class="table"> After a protocol exception, the server hung while trying to process a new license because of a problem with the ensureContentLength method. </p>

<a name="1405158"></a><p class="table">A code change ensured that the server no longer hangs during this process.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405160"></a><p class="table">CR128420</p>


		</td>
		<td align="left" valign="top">
			<a name="1405162"></a><p class="table"> breakUpAndWriteItOutAsNecessary() tried to separate a manifest header to enforce a maximum of 72 bytes per line, and wrote one line to an outputstream at a time. The cause of this problem was that the start offset for the new line is wrong.</p>

<a name="1405163"></a><p class="table">A code change resolved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405165"></a><p class="table">CR127836</p>


		</td>
		<td align="left" valign="top">
			<a name="1405167"></a><p class="table">A JSP in a subcontext of the root context was precompiled when deployed as a Web application packaged in a WAR file, but not if it was deployed in exploded format. </p>

<a name="1405168"></a><p class="table">JSPs now precompile when deployed in an exploded format.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405170"></a><p class="table">CR127090</p>


		</td>
		<td align="left" valign="top">
			<a name="1405172"></a><p class="table">Jsp used several MBeans with attributes that had the same names, thus when they were displayed, it looked as though there were duplicates, when in fact, there were none.</p>

<a name="1405173"></a><p class="table">The display labeling of the MBean attributes was changed for the mbeans that had the same attribute names. They are now distinguishable.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405175"></a><p class="table">CR116209</p>


		</td>
		<td align="left" valign="top">
			<a name="1405177"></a><p class="table">When a Serializable ServletContext attribute was added and then overwritten with a non-Serializable value, the original value masked the new value. </p>

<a name="1405178"></a><p class="table">When replacing a Serializable value with a non-Serializable one, WebLogic Server now removes the original value from the attributes hashtable.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405180"></a><p class="table">CR121343</p>


		</td>
		<td align="left" valign="top">
			<a name="1405182"></a><p class="table"> A race condition arose during the computation of a secondary JVMID when more than one frame was used. It appeared that the computation of the secondary JVMID was resetting the member variable value by one thread, causing the race condition.</p>

<a name="1405183"></a><p class="table">Following a code change, the computation of the secondary JVMID no longer leads to the race condition.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405185"></a><p class="table">CR120932</p>


		</td>
		<td align="left" valign="top">
			<a name="1405187"></a><p class="table"> The HTML page served by the CertificateServlet displayed the wrong value for the radio button&#8212;it displayed 2048 for the radio button, but using the button resulted in a 1024 bit certificate. </p>

<a name="1405188"></a><p class="table">The radio button now produces the correct 2048 bit certificate.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405190"></a><p class="table">CR091831</p>


		</td>
		<td align="left" valign="top">
			<a name="1405192"></a><p class="table">The WebLogic Server implementation of HttpURLConnection did not check whether keep-alive connection had been timed out on the server side when using POST method, resulting in the error: Connection aborted by peer: socket write error on flush. </p>

<a name="1405193"></a><p class="table">Checks were added to ensure that the HttpClient is non-null before updating the timestamp.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405195"></a><p class="table">CR108034</p>


		</td>
		<td align="left" valign="top">
			<a name="1405197"></a><p class="table"> Inappropriate error messages generated by a user breaking a connection have been suppressed.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1395202"></a><p class="head2">JVM
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1405275"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1405277"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405279"></a><p class="table">CR132228</p>


		</td>
		<td align="left" valign="top">
			<a name="1405281"></a><p class="table">Harmless IOExceptions were not being suppressed on Japanese locales. </p>

<a name="1405282"></a><p class="table">WebLogic Server now sets the locale to C by default when enabling nativeIO. Customers who do not want to set the locale to C can use the system property </p>

<a name="1405283"></a><p class="table">-Dweblogic.nativeIO.useDefaultLocale=true</p>

<a name="1405284"></a><p class="table">On non-english locales, the harmless exceptions are now suppressed.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1395317"></a><p class="head2">Operations, Administration and Management
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1405410"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1405412"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405414"></a><p class="table">CR122811</p>


		</td>
		<td align="left" valign="top">
			<a name="1405416"></a><p class="table">A change to support piping of passwords into weblogic.Admin. That change locked up the System.in stream, preventing automated scripts from working correctly.</p>

<a name="1405417"></a><p class="table">The change that locked the System.in. stream has been corrected and scripts can now be automated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405419"></a><p class="table">CR097343</p>


		</td>
		<td align="left" valign="top">
			<a name="1405421"></a><p class="table">When a deployment was done where the targets were across two different platforms (such as unix and windows), the deployment files were not found.</p>

<a name="1405422"></a><p class="table">The deployment location was not being localized for the local machine type. If one deployed a webapp from an administration server running on windows and targeted it to a unix based machine, the location of the deployment was malformed for that platform.</p>

<a name="1405423"></a><p class="table">The deployment path has now been localized for each machine type.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405425"></a><p class="table">CR190237</p>


		</td>
		<td align="left" valign="top">
			<a name="1405427"></a><p class="table">The WebLogic Server MBeanHome method getAllMBeans() threw an exception when running in a WebLogic Portal environment.</p>

<a name="1405428"></a><p class="table">WebLogic Server MBeanHome Helper needed additional knowledge of WebLogic Portal mbean class locations and a correction to existing logic.</p>

<a name="1405429"></a><p class="table">The ClassNotFound exception is no longer thrown in the WebLogic Portal environment.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405431"></a><p class="table">CR190212</p>


		</td>
		<td align="left" valign="top">
			<a name="1405433"></a><p class="table">when an exception was thrown while retrieving attributes via MBeanServer.getAttributes(), any exceptions thrown by the JMXServer were handled and a null value was returned.</p>

<a name="1405434"></a><p class="table">WebLogic Server now rethrows the exception instead of returning a null value.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405436"></a><p class="table">CR188030</p>


		</td>
		<td align="left" valign="top">
			<a name="1405438"></a><p class="table">CounterMonitor.stop() was synchronized causing a deadlock.</p>

<a name="1405439"></a><p class="table">Synchronization was removed, as called for in the documentation, eliminating the deadlocks.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405441"></a><p class="table">CR187170</p>


		</td>
		<td align="left" valign="top">
			<a name="1405443"></a><p class="table">When the attributes of an array type changed(meaning certain elements of the array were added or deleted or both), AttributeAdd/Remove notifications were not being sent out. Thus certain deployments were not being carried out properly.</p>

<a name="1405444"></a><p class="table">The WebLogic Server now sends AttributeAdd/Remove notifications, in addition </p>

<a name="1405445"></a><p class="table">to the AttributeChange notification, when an array type attribute values change.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405447"></a><p class="table">CR113085</p>


		</td>
		<td align="left" valign="top">
			<a name="1405449"></a><p class="table">When the value of SqlStmtProfilingEnabled was set through MBeans or manually in config.xml file and then you tried to retrieve that value through MBeans it did not show the value. Instead, it returned a message, "It appears that no attributes have been specified for this MBean".</p>

<a name="1405450"></a><p class="table">Exposing the SqlStmtProfilingEnabled attribute of JDBCConnectionPoolMBean eliminated the error.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405452"></a><p class="table">CR104435</p>


		</td>
		<td align="left" valign="top">
			<a name="1405454"></a><p class="table">The KernelDebugMBean options, DebugDGCEnrollment and ForceGCEachDGCPeriod, could not be enabled. There was no way to "set" the enable attribute in weblogic.management.configuration.KernelDebugMBean.</p>

<a name="1405455"></a><p class="table">The setter signature did not take boolean for these attributes, so the values for these flags could not be changed from the default.</p>

<a name="1405456"></a><p class="table">These attribute setters now accept boolean.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405458"></a><p class="table">CR081349</p>


		</td>
		<td align="left" valign="top">
			<a name="1405460"></a><p class="table">When printing the ExecuteQueueRuntimeMBean, the ExecuteThreads attribute was not being displayed correctly with the weblogic.Admin tool.</p>

<a name="1405461"></a><p class="table">The entries in the ExecuteThreads attribute are now displayed as a readable string value.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405463"></a><p class="table">CR094219</p>


		</td>
		<td align="left" valign="top">
			<a name="1405465"></a><p class="table">When Domain and Server logfile names were date and time based (SimpleDateFormat), the following features were not fully functional:</p>


			<ol><a name="1405466"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>These type of logs were not being rotated.</font>
<a name="1405467"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>The total number of log files were not restricted even when the FileCount was set.There was no code in place to delete the older log files because the FileFilter could not list these files because of their file name patterns.</font>
			</ol>
<a name="1405468"></a><p class="table">File rotation has been implemented for these types of file names.After each rotation, WLS now checks to see whether the files exceed the limit, if restricted. It then deletes the older log files.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1395346"></a><p class="head2">Plug-Ins
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1405672"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1405674"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405676"></a><p class="table">CR180724</p>


		</td>
		<td align="left" valign="top">
			<a name="1405678"></a><p class="table">The initial cookie was created through web server one and sent to cluster one. When ithit the application again it went through web server two and instead of being directed to cluster 1 it went to cluster 2 and created a new session.</p>

<a name="1405679"></a><p class="table">The WLCrossOverEnabled functionality now works correctly in WebLogic Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405681"></a><p class="table">CR132699</p>


		</td>
		<td align="left" valign="top">
			<a name="1405683"></a><p class="table">The Apache 2.0.x plugin for Redhat Linux AS 2.1 returned an incorrect status code. The problem was resolved with a code change, which sets the status code to 500 when the backend WebLogic Server instance is not available. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405685"></a><p class="table">CR178792</p>


		</td>
		<td align="left" valign="top">
			<a name="1405687"></a><p class="table">Apache) HTTP requests can contain either one of the following headers: Content-Length or Transfer-Encoding</p>

<a name="1405688"></a><p class="table">Requests with a Transfer-Encoding header set to "chunked" were failing with an IO error.</p>

<a name="1405689"></a><p class="table">Code was added to support requests using the Transfer-Encoding header set to "chunked".</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405691"></a><p class="table">CR190562</p>


		</td>
		<td align="left" valign="top">
			<a name="1405693"></a><p class="table">Requests were not retried when the plug-in encountered a broken pipe error on Solaris while sending post data to WebLogic Server.</p>

<a name="1405694"></a><p class="table">WebLogic Server now throws a HALF_OPEN_SOCKET_RETRY exception when sendPostData reports a broken pipe on Solaris</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405696"></a><p class="table">CR189251</p>


		</td>
		<td align="left" valign="top">
			<a name="1405698"></a><p class="table">Under load, Segmentation errors occurred while retrieving plugin Properties for a virtual host.</p>

<a name="1405699"></a><p class="table">Replacing the strtok API with strchr, as the strtok API is not thread safe, eliminated the errors.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405701"></a><p class="table">CR182971</p>


		</td>
		<td align="left" valign="top">
			<a name="1405703"></a><p class="table">ServerList was deleted after every DNSRefreshInterval which resulted in a core dump.</p>

<a name="1405704"></a><p class="table">WebLogic Server now does a dns lookup of all the servers in the list and updates the ServerInfo structure if any server has changed from the last time it was checked.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405706"></a><p class="table">CR187282</p>


		</td>
		<td align="left" valign="top">
			<a name="1405708"></a><p class="table">Because the plugin did not follow a part of the HTTP1.1 specification, which states that if a request/response contains both a Content-Length header as well as a Transfer-Encoding: Chunked header, the Content-Length header MUST be ignored, there was a unique scenario involving a recycled connection from the pool that sometimes caused an error.</p>

<a name="1405709"></a><p class="table">WebLogic Server now returns contentLength as -1 if CTE is on.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405711"></a><p class="table">CR095984</p>


		</td>
		<td align="left" valign="top">
			<a name="1405713"></a><p class="table">When the file size exceeded 30KB, a DNS error message of IE 6.0 was received instead of a 413 message when using the NSAPI plug-in. </p>

<a name="1405714"></a><p class="table">The behavior of MaxPostSize configuration is now the same with or without a plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405716"></a><p class="table">CR188811</p>

<a name="1405717"></a><p class="table">CR188808</p>


		</td>
		<td align="left" valign="top">
			<a name="1405719"></a><p class="table">WLExcludePathOrMimeType did not work correctly when a request had a query string.</p>

<a name="1405720"></a><p class="table">Requests such as http://webserver:port/weblogic/something.jsp?value=123 were not excluded and requests such as http://webserver:port/weblogic/something.do?name=test.jsp were not forwarded. </p>

<a name="1405721"></a><p class="table">The plug-in now ignores query strings while checking for excludes.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405723"></a><p class="table">CR187578</p>


		</td>
		<td align="left" valign="top">
			<a name="1405725"></a><p class="table">When KeepAliveEnabled ON was configured in httpd.conf, KeepAliveSecs defaulted to 20. This default setting could not be changed.</p>

<a name="1405726"></a><p class="table">Code was added to ensure KeepAliveSecs is configurable.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405728"></a><p class="table">CR187577</p>


		</td>
		<td align="left" valign="top">
			<a name="1405730"></a><p class="table">When using multiple Location tags in a VirtualHost tag, the Apache plug-in generated a strange URL if the requests matched two more Locations. </p>

<a name="1405731"></a><p class="table">The Apache plug-in no longer uses regular expression match, unless specified.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405733"></a><p class="table">CR186470</p>


		</td>
		<td align="left" valign="top">
			<a name="1405735"></a><p class="table">When using the IIS plug-in, the creation of a large number of new connections through a firewall resulted in an HTTP status 302, and the connection was closed.  </p>

<a name="1405736"></a><p class="table">  WebLogic Server now recycles the connections if the HTTP status code is 302.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405738"></a><p class="table">CR186148</p>


		</td>
		<td align="left" valign="top">
			<a name="1405740"></a><p class="table">When the Apache plug-in encountered a missing page, it was returning a 500 error, rather than the correct 503 error.</p>

<a name="1405741"></a><p class="table">The plug-in now returns the correct error.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405743"></a><p class="table">CR185668</p>


		</td>
		<td align="left" valign="top">
			<a name="1405745"></a><p class="table">When using the Apache plug-in to proxy to multiple clusters using MatchExpressions, the PathTrim attribute was failing to trim off the segment of the url used to direct the request. </p>

<a name="1405746"></a><p class="table">Reimplementing MatchExpressions parsing without using the strtok API corrected the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405748"></a><p class="table">CR185089</p>


		</td>
		<td align="left" valign="top">
			<a name="1405750"></a><p class="table">The IIS plug-in was sending an Http status code of 500 (internal Server Error) when it encountered a WRITE_ERROR_TO_CLIENT exception due to a connection closed by the client.</p>

<a name="1405751"></a><p class="table">The IIS plug-in no longer sends Http status code of 500 when a WRITE_ERROR_TO_CLIENT exception is caught.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405753"></a><p class="table">CR180417</p>


		</td>
		<td align="left" valign="top">
			<a name="1405755"></a><p class="table">If a cookie was part of the POST data then plugin would corrupt the post data while extracting the cookie.</p>

<a name="1405756"></a><p class="table">Code was added to fix the cookie extraction from Post Data.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405758"></a><p class="table">CR136816</p>


		</td>
		<td align="left" valign="top">
			<a name="1405760"></a><p class="table">If the PRIMARY server could not be located, then the request was served by the next available server in the list. It ignored the Secondary server.</p>

<a name="1405761"></a><p class="table">If the Primary server can not be located, but the Secondary server is present then the request will be forwarded to Secondary server rather than being served by another server on the list.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405763"></a><p class="table">CR183390</p>


		</td>
		<td align="left" valign="top">
			<a name="1405765"></a><p class="table">WebLogic Server was throwing an exception from inside the catch block which sometimes caused iPlanet to fail.</p>

<a name="1405766"></a><p class="table">WebLogic Server no longer throws an  exception from the catch block.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405768"></a><p class="table">CR183311</p>


		</td>
		<td align="left" valign="top">
			<a name="1405770"></a><p class="table">When Apache was stopped while using a single-thread multi-process module, it would try to stop the timer thread first.  This timer thread never existed, thus a core dump occurred.</p>

<a name="1405771"></a><p class="table">WebLogic Server no longer creates timer threads when Apache is being used with a single-thread multi-process module.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405773"></a><p class="table">CR183188</p>


		</td>
		<td align="left" valign="top">
			<a name="1405775"></a><p class="table">The ISAPI plug-in was unable to handle requests with the Transfer-Encoding header set to chunked.</p>

<a name="1405776"></a><p class="table">Functionality was added to enable ISAPI to handle such requests.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405778"></a><p class="table">CR182434</p>


		</td>
		<td align="left" valign="top">
			<a name="1405780"></a><p class="table">Headings passed to rq-&gt;srvhdrs were not entirely in lower-case instead of mixed case.</p>

<a name="1405781"></a><p class="table">Content-type, content-length and transfer-encoding headers are now passed to NSAPI entirely in lower case.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405783"></a><p class="table">CR175787</p>


		</td>
		<td align="left" valign="top">
			<a name="1405785"></a><p class="table">WebLogic Server was throwing CONNECTION_REFUSED errors with the Iplanet plugin.</p>

<a name="1405786"></a><p class="table"> After polling a socket for WRITE operation, if the state of the socket is in any one of the following states, then the plug-in will not throw aCONNECTION_REFUSED exception.</p>

<a name="1405787"></a><p class="table">Valid states are:</p>

<a name="1405788"></a><p class="table">POLLOUT</p>

<a name="1405789"></a><p class="table">POLLWRBAND </p>

<a name="1405790"></a><p class="table">POLLWRNORM</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405792"></a><p class="table">CR173985</p>


		</td>
		<td align="left" valign="top">
			<a name="1405794"></a><p class="table">(Apache) The plug-in was dropping sessions after WebLogic Server was restarted.</p>

<a name="1405795"></a><p class="table">This is because Apache 1.3.x creates multiple child processes to handle incoming requests. Each process maintains its own serverlist where each server entry is uniquely identified by the JVMID (provided by WebLogic Server, and which is updated when a request is successfully processed). Whenever a server instance is restarted, it generates a new JVMID. So a request whose cookie contains a new JVMID will fail to locate the corresponding primary server plug-in if the JVMID is not refreshed in the plug-in.</p>

<a name="1405796"></a><p class="table">A code fix ensures that if the JVMIDs extracted from cookie do not match with the ones stored in the serverlist, then WebLogic Server will try to refresh the JVMIDs once again.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405798"></a><p class="table">CR136968</p>


		</td>
		<td align="left" valign="top">
			<a name="1405800"></a><p class="table">Weblogic Server was not accepting more than one header when the response.addHeader method was used.</p>

<a name="1405801"></a><p class="table">The plug-in now allows WWW-Authenticate to have multiple values.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405803"></a><p class="table">CR135002</p>


		</td>
		<td align="left" valign="top">
			<a name="1405805"></a><p class="table">In an Apache configuration with multiple virtual hosts, if only one of the virtual hosts was configured with SecureProxy=ON for the WebLogic Server plug-in, and the other virtual hosts did not use SecureProxy or WLProxySSL, the virtual hosts with no SSL configured saw that the plug-in attempted an SSL connection with the backend WebLogic Server. This caused a performance problem.</p>

<a name="1405806"></a><p class="table">A new argument was added to an internal method to determine if a SSL connection needs to be initiated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405808"></a><p class="table">CR134413</p>


		</td>
		<td align="left" valign="top">
			<a name="1405810"></a><p class="table">Apache plugin caused a duplicated http header and body for the 302 response. There was no problem between the plugin and backend servers, but the Apache server added an additional 302 response.</p>

<a name="1405811"></a><p class="table">Code was added which reverted the return value of the request_handler method to OK.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405813"></a><p class="table">CR132840</p>


		</td>
		<td align="left" valign="top">
			<a name="1405815"></a><p class="table">Apache access logs improperly recorded a 200 code rather than a 500 error when application servers were down. A code change resolved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405817"></a><p class="table">CR132426</p>


		</td>
		<td align="left" valign="top">
			<a name="1405819"></a><p class="table">When the plug-in parameter "QueryFromRequest" was used in the httpd.conf file </p>

<a name="1405820"></a><p class="table">it gave the following syntax error during Apache Server startup </p>

<a name="1405821"></a><p class="table">Syntax error on line 971 of C:/Program Files/Apache</p>

<a name="1405822"></a><p class="table">Group/Apache2/conf/httpd.conf:Invalid command 'QueryFromRequest', perhaps misspelled or defined by a module not included in the server configuration.</p>

<a name="1405823"></a><p class="table">The Apache 2.0 plug-in now supports the "QueryFromRequest" parameter.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405825"></a><p class="table">CR131640</p>


		</td>
		<td align="left" valign="top">
			<a name="1405827"></a><p class="table">WebLogic Server was requested to provide a plug-in for the Sun One 6.1 web server.</p>

<a name="1405828"></a><p class="table">The SUN ONE 6.1 Web Server is now fully supported.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405830"></a><p class="table">CR180236</p>


		</td>
		<td align="left" valign="top">
			<a name="1405832"></a><p class="table">The release 8.1 SP02 plug-in with client certificates reported the following error: </p>

<a name="1405833"></a><p class="table">Failed to parse the client certificate in header: WL-Proxy-Client-Cert. Ignoring this certificate. java.security.cert.CertificateException: Could not parse certificate: java.io.EOFException.</p>

<a name="1405834"></a><p class="table">The error occurred because the plug-in truncated the WL-Proxy-Client-Cert header when sending it to the WebLogic Server instance.</p>

<a name="1405835"></a><p class="table">The problem was resolved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405837"></a><p class="table">CR179537</p>


		</td>
		<td align="left" valign="top">
			<a name="1405839"></a><p class="table">(ISAPI) The IIS proxy plug-in caused heap corruption on the Microsoft Windows platform.</p>

<a name="1405840"></a><p class="table">The problem was resolved with an internal code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405842"></a><p class="table">CR177707</p>


		</td>
		<td align="left" valign="top">
			<a name="1405844"></a><p class="table">When using the release 7.0 SP02 plug-in with client certificates, WebLogic Server worked correctly. However, after an upgrade to release 8.1 SP02, the server log reported the following error: </p>

<a name="1405845"></a><p class="table">Failed to parse the client certificate in header: WL-Proxy-Client-Cert. Ignoring this certificate. java.security.cert.CertificateException: Could not parse certificate: java.io.EOFException</p>

<a name="1405846"></a><p class="table">The error occurred because the 8.1 SP02 plug-in truncated the WL-Proxy-Client-Cert header when it sent it to the server instance. </p>

<a name="1405847"></a><p class="table">The code was changed so that WL-Proxy-Client-Cert is lazily added to the request sent to WebLogic Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405849"></a><p class="table">CR175989</p>


		</td>
		<td align="left" valign="top">
			<a name="1405851"></a><p class="table">(Apache) The Apache server generated core dumps when using the worker (multi-threaded) option instead of the prefork (only multi-process) option.</p>

<a name="1405852"></a><p class="table">This was resolved by fixing the Locking and Unlocking logic.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405854"></a><p class="table">CR175672</p>


		</td>
		<td align="left" valign="top">
			<a name="1405856"></a><p class="table">(Apache) The Apache server was hanging when the WebLogic plug-in tried to open the wlproxy log file, even though Debug was OFF.</p>

<a name="1405857"></a><p class="table">The code has been fixed so that the log file is not set if debugging is turned off.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405859"></a><p class="table">CR174777</p>


		</td>
		<td align="left" valign="top">
			<a name="1405861"></a><p class="table">[iPlanet] POST_TIMEOUT errors occurred in the iPlanet log file due to a broken pipe.</p>

<a name="1405862"></a><p class="table">Code was added to throw a HALF_OPEN_SOCKET_RETRY exception if an EPIPE error is encountered while sending POST data to WebLogic Server. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405864"></a><p class="table">CR174431</p>


		</td>
		<td align="left" valign="top">
			<a name="1405866"></a><p class="table">(NSAPI) The Iplanet plug-in now gracefully handles an EINTR OS error.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405868"></a><p class="table">CR173653</p>


		</td>
		<td align="left" valign="top">
			<a name="1405870"></a><p class="table"> When the WLExcludePathOrMimeType property was defined within a Location tag, it should not have had a global scope. (However, when the property was defined outside a Location tag, then it should have had a global scope.)</p>

<a name="1405871"></a><p class="table">This was resolved by a code change to ensure that the WLExcludePathOrMimeType property is applied only to the requests that match the appropriate Location path for the defined property.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405873"></a><p class="table">CR173581</p>

<a name="1405874"></a><p class="table">CR173878</p>


		</td>
		<td align="left" valign="top">
			<a name="1405876"></a><p class="table"> (Apache) The plug-in was logging a confusing "error page is unavailable" log message to the apache error.log, even when the client had closed the connection. </p>

<a name="1405877"></a><p class="table">This was resolved by a code change that commented out the erroneous log message.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405879"></a><p class="table">CR172497</p>


		</td>
		<td align="left" valign="top">
			<a name="1405881"></a><p class="table">(NSAPI) The "pluginparams.ErrorPageTest" failed when attempting a proxy by extension.</p>

<a name="1405882"></a><p class="table">The workaround for the ErrorPage to be loaded locally is to use the WLExcludePathOrMimeType property if proxying by MIME type. </p>

<a name="1405883"></a><p class="table">For the SUN One Web Server, version 6.1, some additional configuration steps are required: </p>


			<ol><a name="1405884"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li> Remove NameTrans fn="ntrans-j2ee" name="j2ee" from the default object in the obj.conf file.</font>
<a name="1405885"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li> Remove Init fn="load-modules" shlib="C:/Sun/WebServer6.1/bin/https/bin/j2eeplugin.dll" shlib_flags="(global|now)" from the magnus.conf file.</font>
			</ol>
<a name="1405886"></a><p class="table">For more information, refer to Sun's documentation, at http://docs.sun.com/source/817-1831-10/agjava.html#wp1084 323 </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405888"></a><p class="table">CR172072</p>


		</td>
		<td align="left" valign="top">
			<a name="1405890"></a><p class="table"> Provided an enhancement to the WLExcludePathOrMimeType parameter allowing it to be used at the Location tag level. </p>

<a name="1405891"></a><p class="table">WLExcludePathOrMimeType parameter can now be defined locally at the Location tag level as wells as globally. When the property is defined locally, it does not override the global property but defines a union of the two parameters.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405893"></a><p class="table">CR171978</p>


		</td>
		<td align="left" valign="top">
			<a name="1405895"></a><p class="table"> When the FilterPriorityLevel was set in the iisforward.ini file, the forwarding path was broken.</p>

<a name="1405896"></a><p class="table">A code fix was implemented to ensure that when a virtual host was not defined in the iisforward.ini file, the iisproxy.ini file from the same location as where the iisforward.dll file was loaded is used.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405898"></a><p class="table">CR133641</p>


		</td>
		<td align="left" valign="top">
			<a name="1405900"></a><p class="table"> iPlanet users experienced a problem with host name verification and received the following: </p>

<a name="1405901"></a><p class="table">INFO: Host () doesn't match (), validation failed </p>

<a name="1405902"></a><p class="table">ERROR: SSLWrite failed </p>

<a name="1405903"></a><p class="table">A code fix resolved this issue.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405905"></a><p class="table">CR130060</p>


		</td>
		<td align="left" valign="top">
			<a name="1405907"></a><p class="table"> A performance problem in the IIS plug-in has been resolved in Service Pack 5 by a code change that causes the plug-in to check whether data equivalent to a specified content length has already been read.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405909"></a><p class="table">CR129471</p>


		</td>
		<td align="left" valign="top">
			<a name="1405911"></a><p class="table"> In previous service packs, the Apache plug-in did not recognize the WLTempDir parameter. This has been corrected. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405913"></a><p class="table">CR129342</p>


		</td>
		<td align="left" valign="top">
			<a name="1405915"></a><p class="table">The ISAPI plug-in sent the WL-PATH-TRIM HTTP Header value to a WebLogic Server in place of the WL-PATH-TRIM value. </p>

<a name="1405916"></a><p class="table">WebLogic Server now receives the correct value.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405918"></a><p class="table">CR129138</p>


		</td>
		<td align="left" valign="top">
			<a name="1405920"></a><p class="table"> When the NSAPI plug-in performed name resolution on backend WebLogic Server instances, name resolution used sysGetHostByName, which called getHostByName, which called internal methods that had maximum limits for open file descriptors, causing name resolution sometimes to fail. </p>

<a name="1405921"></a><p class="table">A fix to cookie parsing and the substitution of JVMIDs to locate primary and secondary servers resolved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405923"></a><p class="table">CR129026, CR129323</p>


		</td>
		<td align="left" valign="top">
			<a name="1405925"></a><p class="table"> A memory leak in the ISAPI plug-in was fixed by a code change.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405927"></a><p class="table">CR127973</p>


		</td>
		<td align="left" valign="top">
			<a name="1405929"></a><p class="table"> The ISAPI plug-in sometimes failed after adding a persistent cookie to a servlet session. </p>

<a name="1405930"></a><p class="table">A correction to the cookie parsing code resolved the problem. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405932"></a><p class="table">CR127658</p>


		</td>
		<td align="left" valign="top">
			<a name="1405934"></a><p class="table">[ISAPI] When a connection was retrieved from the pool, but the WebLogic Server had already closed the connection, then the HALF_OPEN_SOCKET_RETRY exception was raised. </p>

<a name="1405935"></a><p class="table">Requests will be now be retried after receiving the HALF_OPEN_SOCKET_RETRY exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405937"></a><p class="table">CR084303</p>


		</td>
		<td align="left" valign="top">
			<a name="1405939"></a><p class="table">WebLogic Server proxy plug-ins restrict the HTTP commands that can be submitted from the client to the server. The validation rules in the plug-in code now allow the following HTTP commands that are needed for WebDAV implementations:</p>

<a name="1405940"></a><p class="table">DELETE</p>

<a name="1405941"></a><p class="table">GET</p>

<a name="1405942"></a><p class="table">HEAD</p>

<a name="1405943"></a><p class="table">OPTIONS</p>

<a name="1405944"></a><p class="table">POST</p>

<a name="1405945"></a><p class="table">PUT</p>

<a name="1405946"></a><p class="table">*COPY</p>

<a name="1405947"></a><p class="table">LOCK</p>

<a name="1405948"></a><p class="table">MKCOL</p>

<a name="1405949"></a><p class="table">MOVE</p>

<a name="1405950"></a><p class="table">PROPFIND</p>

<a name="1405951"></a><p class="table">PROPPATCH</p>

<a name="1405952"></a><p class="table">SEARCH</p>

<a name="1405953"></a><p class="table">UNLOCK</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1405955"></a><p class="table">CR127231</p>


		</td>
		<td align="left" valign="top">
			<a name="1405957"></a><p class="table"> A request did not fail over to the next available server in the cluster after receiving 503 HTTP status. The same server was tried repeatedly until a READ_ERROR_FROM_SERVER or a CONNECTION_REFUSED exception was raised.</p>

<a name="1405958"></a><p class="table">Code now marks the server as failed on getting a 503 HTTP status error, gets the next available server and re-sends the request. All requests now successfully fail over to next available server.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1395368"></a><p class="head2">RMI-IIOP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1406038"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1406040"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406042"></a><p class="table">CR188748</p>

<a name="1406043"></a><p class="table">CR180749</p>


		</td>
		<td align="left" valign="top">
			<a name="1406045"></a><p class="table">During the repository id generation of getter and setter operations, sometimes an extra '_' was added if the getter or setter contained a reserved keyword. This sometimes resulted in the failure of a remote call.</p>

<a name="1406046"></a><p class="table">WebLogic Server now ensures it truncates extra underscores.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406048"></a><p class="table">CR175112</p>


		</td>
		<td align="left" valign="top">
			<a name="1406050"></a><p class="table">The method used to send IIOP messages was unsynchronized leading to corruption of the underlying data if multiple threads tried to send and receive data at the same time.</p>

<a name="1406051"></a><p class="table">The method was made synchronized and the product now works correctly in multi-threaded environments.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1395467"></a><p class="head2">RMI
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1406069"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1406071"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406073"></a><p class="table">CR177353</p>


		</td>
		<td align="left" valign="top">
			<a name="1406075"></a><p class="table">When a application client code cached the remote stub and invoked a remote method on a SLSB deployed to a cluster, the behavior was that each call refreshed the list which tracked the cluster nodes where the remote object is available. This list was used to failover the calls if any of the node failed with a recoverable exception. The issue here was that failover did not work when the entire cluster was restarted while the application client had cached the stub from a previous invocation. </p>

<a name="1406076"></a><p class="table">The retry logic in the failover algorithm was incorrect. This logic originally allowed n-1 number of retries in a cluster with n nodes. When the entire cluster restarted, the cached stub would have stale list. And the retry logic scanned though the stale list and exhausted all the retry attempts. In the last attempt it would have potentially refreshed the list. Even though the client side stub now had a new copy of the list it did not attempt to failover as it has already reached n-1 attempts limit.</p>

<a name="1406077"></a><p class="table">The remote stub cached in the application client now ensures it refreshes the list only when remote method invocation fails on all the nodes in the existing list. Then stub is given one last chance for failover if the list got refreshed. If this last chance does not succeed the stub will throw an exception to the application otherwise failover will continue to work as advertised transparently.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1395562"></a><p class="head2">Samples
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1406203"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1406205"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406207"></a><p class="table">CR183199</p>


		</td>
		<td align="left" valign="top">
			<a name="1406209"></a><p class="table">Building the examples on Windows XP resulted in a StringIndexOutOfBoundsException.</p>

<a name="1406210"></a><p class="table">Upgrading to Ant 1.6.1 eliminated the build problem. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406212"></a><p class="table">CR183527</p>


		</td>
		<td align="left" valign="top">
			<a name="1406214"></a><p class="table">In WebLogic Server 6.1 SP06, the examples.ejb 1.1 package,  examples/ejb/building.html provides incorrect instructions for building samples, and incorrectly describes how the samples build script works. The instructions and description refer to previous version of the build script which used build.cmd or build.sh.  The current version of the build script (build.xml)  uses ant. To run build.xml, type ant in the directory for the sample you wish to build. To understand how the build script works, refer to the comments in build.xml</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406216"></a><p class="table">CR132509</p>


		</td>
		<td align="left" valign="top">
			<a name="1406218"></a><p class="table"> When using the .NET C# example included with the MedRec application (%WEBLOGIC_HOME%\samples\server\medrec\src\clients\CSharpClient\bin\ReleaseCSharpClient.exe), the client successfully retrieves a patient record, but when attempting to "Save Changes" from the client application, a date field error was flagged.</p>

<a name="1406219"></a><p class="table">A code change fixed the date validation.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1395592"></a><p class="head2">Security
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1406425"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1406427"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1407281"></a><p class="table">CR045135</p>


		</td>
		<td align="left" valign="top">
			<a name="1407337"></a><p class="table">Some internal WebLogic Server objects that are bound into the JNDI tree were insufficiently protected. Some of these objects control key functions of the server. Simply unbinding the appropriate objects renders the server unreachable. It was   possible to leave the server operational but to have some confidential data transmitted to a foreign object rather than the internal WebLogic Server object.</p>

<a name="1409117"></a><p class="table">The patches available in this release control access to the JNDI tree.</p>

<a name="1407302"></a><p class="table">See <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04-65.00.jsp">Security Advisory BEA04-65.00</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1408486"></a><p class="table">CR103309</p>


		</td>
		<td align="left" valign="top">
			<a name="1408732"></a><p class="table">Whenever an HTTP or HTTPS request was made of the server, information about the WebLogic Server version was supplied. </p>

<a name="1408736"></a><p class="table">The default setting for returning a Web Server version upon HTTP or HTTPS request has been changed from true to false. </p>

<a name="1408593"></a><p class="table">See <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04-70.00.jsp">Security Advisory BEA04-70.00</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406429"></a><p class="table">CR125520</p>


		</td>
		<td align="left" valign="top">
			<a name="1406431"></a><p class="table">A deadlock occurred between two threads when using Netscape LDAP classes - LDAPConnection and LDAPConnThread. This deadlock grew until all the default execution threads were deadlocked with LDAPConnThreads. </p>

<a name="1406432"></a><p class="table">After updating to the new Netscape SDK, deadlocks no longer occur.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1407378"></a><p class="table">CR128940</p>


		</td>
		<td align="left" valign="top">
			<a name="1407405"></a><p class="table">A protection problem occurred when WebLogic Server was running on an operating system that required case-sensitive filenames and cross-mount directories containing Web applications from an operating system that did not support case-sensitive filenames. For example, this problem occurred when mounting Windows-based Web applications onto a Linux-based WebLogic Server. </p>

<a name="1407459"></a><p class="table">This resulted in some URL patterns in the web.xml file being incorrectly evaluated so that access control was compromised.The associated patch adds configuration options to specify that Web application files should be treated as case-insensitive even though the operating system may be running in case-sensitive mode. </p>

<a name="1407461"></a><p class="table">See <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04-67.00.jsp">Security Advisory BEA04-67.00</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406434"></a><p class="table">CR123860</p>


		</td>
		<td align="left" valign="top">
			<a name="1406436"></a><p class="table">The constructor method for a flat group used by a custom realm expected a case-sensitive value. When a case-sensitive value was not found, a NullPointer exception was thrown.</p>

<a name="1406437"></a><p class="table"> WebLogic Server no longer throws a NullPointer exception when the value for the CachingRealm MBean value is null.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1407487"></a><p class="table">CR136544</p>


		</td>
		<td align="left" valign="top">
			<a name="1407491"></a><p class="table">A set of enhancements have been added to the WebLogic Server command-line utilities and Administrative ant tasks to eliminate the need for a system administrator to enter a clear-text password. With these fixes, the WebLogic Server command-line utilities and Administrative ant tasks now create and read user-managed configuration files. Like the boot.properties files, this new capability relies on strong encryption and file system protections for security.</p>

<a name="1409112"></a><p class="table">See <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04-68.00.jsp">Security Advisory BEA04-68.00</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406439"></a><p class="table">CR179663</p>

<a name="1406440"></a><p class="table">CR188110</p>


		</td>
		<td align="left" valign="top">
			<a name="1406442"></a><p class="table">A NullPointer exception occurred when using the WebLogic Server Administration Console to list LDAP users.</p>

<a name="1406443"></a><p class="table"> Code was added to eliminate the NullPointer exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406445"></a><p class="table">CR174299</p>


		</td>
		<td align="left" valign="top">
			<a name="1406447"></a><p class="table">The Use Java attribute on the SSL tab in the WebLogic Server Administration Console was not working properly.</p>

<a name="1406448"></a><p class="table"> The behavior of the attribute has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1407791"></a><p class="table">CR172187</p>


		</td>
		<td align="left" valign="top">
			<a name="1408297"></a><p class="table">A password echo occurred intermittently on the Linux operating system when booting WebLogic Server using the Administrative Console.</p>

<a name="1408298"></a><p class="table">No-echo capabilities have been added to resolve the issue. See the README file in the patch for further documentation.</p>

<a name="1407814"></a><p class="table">See <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04-69.00.jsp">Security Advisory BEA04-69.00</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406450"></a><p class="table">CR172567</p>


		</td>
		<td align="left" valign="top">
			<a name="1406452"></a><p class="table">If the certificate name was the same for both an Administration Server and remote Managed Server, WebLogic Server used the certificate for the Administration Server for the remote Managed Server.</p>

<a name="1406453"></a><p class="table"> The SSL Listen thread has been updated so that is only loads local certificates. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406455"></a><p class="table">CR161836</p>


		</td>
		<td align="left" valign="top">
			<a name="1406457"></a><p class="table">WebLogic Server was setting the AuthenticatedUser in the session rather than the AuthenticatedUserName.</p>

<a name="1406458"></a><p class="table">Servlet authentication has been changed so that is sets the AuthenticatedUsername resolved in the ClassCast exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406460"></a><p class="table">CR127722</p>


		</td>
		<td align="left" valign="top">
			<a name="1408999"></a><p class="table">If host name verification failed but the setExpectedName() method was defined, WebLogic Server ignored the host name defined in the method and dropped the connection.</p>

<a name="1406463"></a><p class="table"> WebLogic Server now performs the host name verification check first. If that check fails, WebLogic Server uses the ExpectedName() method to verify the hostname. If that verification fails, the connection is rejected.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406465"></a><p class="table">CR112619</p>


		</td>
		<td align="left" valign="top">
			<a name="1406467"></a><p class="table">A NullPointerException was being thrown when an Applet attempted to obtain an initial </p>

<a name="1406468"></a><p class="table">context using the t3s protocol.</p>

<a name="1406469"></a><p class="table">The basic constraints check for applets was updated, and this eliminated the NullPointerException.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406471"></a><p class="table">CR124746, CR175051, CR175045</p>


		</td>
		<td align="left" valign="top">
			<a name="1406473"></a><p class="table"> Following a code change, WebLogic Server does NOT support HTTP TRACE requests by default. If you want to turn on HTTP TRACE support, in WebLogic Server 6.1 and above, set HttpTraceSupportEnabled="true" in cluster/server. In 5.1, set weblogic.httpd.httpTraceSupport.enabled=true.</p>

<a name="1406475"></a><p class="table">See <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA04_48.01.jsp">Security Advisory BEA04-48.01</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406477"></a><p class="table">CR112220</p>


		</td>
		<td align="left" valign="top">
			<a name="1406479"></a><p class="table">WebLogic Server was verifying the hostname of the administration server against the administration certificate in the nodemanager, thus causing an error. </p>

<a name="1406480"></a><p class="table">Hostname verification in the nodemanager now only checks against the nodemanager hosts file. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1395617"></a><p class="head2">SNMP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1406666"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1406668"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406670"></a><p class="table">CR113122</p>


		</td>
		<td align="left" valign="top">
			<a name="1406672"></a><p class="table"> The value that the WebLogic Server SNMP agent returned for sysUpTime did not accurately report the duration since the SNMP agent had been initialized.</p>

<a name="1406673"></a><p class="table">The duration since initialization is now accurately reported.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406675"></a><p class="table">CR103678,</p>

<a name="1406676"></a><p class="table">CR109869</p>


		</td>
		<td align="left" valign="top">
			<a name="1406678"></a><p class="table"> When SNMP information was collected using a third-party collector task, the following message was logged: </p>

<a name="1406679"></a><p class="table">&lt;Error&gt; &lt;SNMP Agent&gt; &lt;000000&gt; &lt; Unable to set Entry Field Value...&gt;</p>

<a name="1406680"></a><p class="table">A code fix was implemented to resolve this issue.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1395642"></a><p class="head2">WLEC
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1406866"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1406868"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1406870"></a><p class="table">CR121105</p>


		</td>
		<td align="left" valign="top">
			<a name="1406872"></a><p class="table"> WLEC clients were experiencing the following problems with WLEC connection pools:</p>

<a name="1406873"></a><p class="table">Corruption of the ConnectionPool display in the administration console </p>

<a name="1406874"></a><p class="table">COMM_FAILURES caused by unregistered endpoints</p>

<a name="1406875"></a><p class="table">A code fix was implemented to resolve these issues and improve the overall performance of WLEC connection pools.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1402235"></a><p class="head2">WebLogic Tuxedo Connector
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1407059"></a><p class="table"><strong>CR Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1407061"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1407063"></a><p class="table">CR133654</p>


		</td>
		<td align="left" valign="top">
			<a name="1407065"></a><p class="table">Fixed a problem with a race condition between the tBridge spawning threads for each redirect definition and the WTC Service setting an initialized flag to true.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1407067"></a><p class="table">CR185588</p>


		</td>
		<td align="left" valign="top">
			<a name="1407069"></a><p class="table">Fixed a problem in which the last character in a double byte character set is being cut in the middle and turning into 'null' on the WLS side after passing through WTC. </p>


		</td>

	</tr>

</table>


</center>
</p>

<p>&nbsp;</p>
<hr noshade>
<a name="1392675"></a><p class="head1">WebLogic <a name="SP06_Fixes"></a>Server 6.1 Service Pack 6 Solutions</p>

<a name="1392676"></a><p>This section lists problems resolved in WebLogic Server 6.1 SP06. </p>


<ul type="square">
<a name="1342516"></a><p><li type="square"><a href="bugfixes2.html#1347447">Classloader</a>

<a name="1334692"></a><p><li type="square"><a href="bugfixes2.html#1342092">Cluster</a>

<a name="1365295"></a><p><li type="square"><a href="bugfixes2.html#1365004">Connector</a>

<a name="1365319"></a><p><li type="square"><a href="bugfixes2.html#1365219">Console</a>

<a name="1336960"></a><p><li type="square"><a href="bugfixes2.html#1358152">Core</a>

<a name="1358694"></a><p><li type="square"><a href="bugfixes2.html#1362310">Deployment</a>

<a name="1333705"></a><p><li type="square"><a href="bugfixes2.html#1335353">EJB</a>

<a name="1333735"></a><p><li type="square"><a href="bugfixes2.html#1348030">JDBC</a>

<a name="1348611"></a><p><li type="square"><a href="bugfixes2.html#1348202">jDriver</a>

<a name="1348921"></a><p><li type="square"><a href="bugfixes2.html#1348725">JMS</a>

<a name="1349553"></a><p><li type="square"><a href="bugfixes2.html#1349102">JNDI</a>

<a name="1333709"></a><p><li type="square"><a href="bugfixes2.html#1348059">JSP</a>

<a name="1321930"></a><p><li type="square"><a href="bugfixes2.html#1348072">JTA</a>

<a name="1357852"></a><p><li type="square"><a href="bugfixes2.html#1357300">Node Manager</a>

<a name="1345933"></a><p><li type="square"><a href="bugfixes2.html#1345238">OA&amp;M (Operations, Administration, and Management)</a>

<a name="1349784"></a><p><li type="square"><a href="bugfixes2.html#1333407">Plug-ins</a>

<a name="1347527"></a><p><li type="square"><a href="bugfixes2.html#1346161">RMI</a>

<a name="1347539"></a><p><li type="square"><a href="bugfixes2.html#1346752">RMI/IIOP</a>

<a name="1353215"></a><p><li type="square"><a href="bugfixes2.html#1346198">Security</a>

<a name="1347430"></a><p><li type="square"><a href="bugfixes2.html#1346322">Servlets</a>

<a name="1347516"></a><p><li type="square"><a href="bugfixes2.html#1347243">SNMP</a>

<a name="1355967"></a><p><li type="square"><a href="bugfixes2.html#1322016">Web Services</a>

<a name="1361017"></a><p><li type="square"><a href="bugfixes2.html#1360698">WTC-ATMI</a>

<a name="1359752"></a><p><li type="square"><a href="bugfixes2.html#1359541">XML</a>
</ul>
<a name="1347447"></a><p class="head2">Classloader
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1347434"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1347436"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1347438"></a><p class="table">CR101547</p>


		</td>
		<td align="left" valign="top">
			<a name="1347440"></a><p class="table">A memory leak occurred when deploying an Enterprise Application that contained a singleton class with static data. The problem did not occur when the singleton class was deployed as a Web Application.</p>

<a name="1347441"></a><p class="table">This problem was solved with a fix to the application classloader.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1360285"></a><p class="table">CR104513</p>


		</td>
		<td align="left" valign="top">
			<a name="1360287"></a><p class="table">With the fix for CR069506 introduced in WebLogic Server 6.1 Service Pack 2, the classloader failed to find files when one manifest finder recursively referenced other manifest entries. The problem was solved by changing <font face="Courier">Classloader.getResources()</font> to handle this case.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1347443"></a><p class="table">CR111924</p>


		</td>
		<td align="left" valign="top">
			<a name="1347445"></a><p class="table">WebLogic Server threw a <font face="Courier">ClassNotFoundException</font> when processing a user-defined exception thrown from an EJB on a remote server to an EJB on the local server. This occurred even though the user-defined exception was included in the classloader for the local EJB. The problem occurred because the socket reader that processed the exception used the system classloader, rather than the application classloader.</p>

<a name="1347446"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1356700"></a><p class="table">CR124348</p>


		</td>
		<td align="left" valign="top">
			<a name="1356702"></a><p class="table">Client programs could not use <font face="Courier">java.lang.reflect.Proxy</font> to access proxy objects deployed in WebLogic Server, unless the proxy classes were added to the system classpath. If an object did not reside in the system classpath, the client would receive a <font face="Courier">ClassNotFoundException</font>.</p>

<a name="1356703"></a><p class="table">The <font face="Courier">resolveProxyClass()</font> method was implemented to load interfaces from the application-specific classloader as well as the system classloader.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1342092"></a><p class="head2">Cluster
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1342065"></a><p class="table"><strong><strong>Change Request Number</strong></strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1342067"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1342069"></a><p class="table">CR103807</p>


		</td>
		<td align="left" valign="top">
			<a name="1342071"></a><p class="table">WebLogic Server 6.1 SP04 threw a null pointer exception at <font face="Courier">weblogic.rmi.cluster.BasicReplicaList.add(BasicReplicaList.java:61).</font> The problem occurred when a managed server was restarted after a failure. Upon restart, the NPE occurred and all server instances in the cluster had to be restarted. The error was related to a timing issue, and was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1342717"></a><p class="table">CR104430</p>


		</td>
		<td align="left" valign="top">
			<a name="1342746"></a><p class="table">Clustered servers could lose sessions when a client switched to a third server in the cluster from the first and second servers, which had been the client's primary and secondary servers. A process would remove the session from the first two servers, and when the client switched back to the primary server, the primary server looked for the session on the secondary server, instead of properly looking on the third server.</p>

<a name="1342719"></a><p class="table">A code fix resolved the problem by causing the session to be recreated from session information on the third server, completely removing the session from the primary and secondary servers. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1342073"></a><p class="table">CR107471</p>


		</td>
		<td align="left" valign="top">
			<a name="1342075"></a><p class="table">In WebLogic Server 6.1 SP02, when using HTTP Tunneling with a cluster, the client got this message:</p>

<a name="1342076"></a><p class="table"><font face="Courier">java weblogic.Admin -url http://colma:17683 -username system -password password PING 10</font></p>

<a name="1342077"></a><p class="table"><font face="Courier">&lt;May 29, 2003 10:14:18 AM PDT&gt; &lt;Error&gt; &lt;RJVM&gt; &lt;000515&gt; &lt;execute failed java.net.ProtocolException: Tunneling result not OK, result: 'DEAD', id: '0'java.net.ProtocolException: Tunneling result not OK, result: 'DEAD', id: '0'<br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.rjvm.http.HTTPClientJVMConnection.receiveAndDispatch(HTTPClientJVMConnection.java:422)</font></p>

<a name="1355418"></a><p class="table"><font face="Courier"> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.rjvm.http.HTTPClientJVMConnection.execute(HTTPClientJVMConnection.java:305) </font></p>

<a name="1355413"></a><p class="table"><font face="Courier"> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:213 &#32; &#32; &#32; &#32; &#32;at<br>weblogic.kernel.ExecuteThread.run(ExecuteThread.java:189)</font>&gt; <font face="Courier">Failed to connect to </font><em><font face="Courier">&lt;urldeleted&gt;</font></em><font face="Courier"> due to: </font><em><font face="Courier">&lt;urldeleted&gt;</font></em><font face="Courier">:Bootstrap to </font><em><font face="Courier">&lt;urldeleted&gt;</font></em><font face="Courier"> failed. It is likely that the remote side declared peer gone on this JVM]</font></p>

<a name="1342078"></a><p class="table">The problem occurred because the plug-in tried to round-robin each tunnel request to the next server. The request did not stick to the same server.</p>

<a name="1342079"></a><p class="table">The problem was solved with a code fix to ensure state was maintained in the client by setting the jsessionid cookie and sending it back to the plugin. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1342081"></a><p class="table">CR108127</p>


		</td>
		<td align="left" valign="top">
			<a name="1342083"></a><p class="table">In WebLogic Server 6.1 SP04, an error occurred when trying to update a secondary session. Given three clustered server instances: Server A, Server B, and Server C.</p>

<a name="1342084"></a><p class="table">1) Hit Server A, PRIMARY A, SECONDARY C</p>

<a name="1342085"></a><p class="table">2) Hit Server C, PRIMARY C, SECONDARY B</p>

<a name="1342086"></a><p class="table">3) Hit Server A again</p>

<a name="1342087"></a><p class="table">This error occurred on Server A:</p>

<a name="1342088"></a><p class="table"><font face="Courier">&lt;Jun 4, 2003 4:24:56 PM PDT&gt; &lt;Debug&gt; &lt;Cluster&gt; &lt;Error updating secondary for 3535724191309537720 on 7312270160516507840S:</font><em><font face="Courier">&lt;IPaddressdeleted&gt;</font></em><font face="Courier">: [7005,7005,7002,7002,7005,7002,-1]:</font><em><font face="Courier">&lt;IPaddressdeleted&gt;</font></em><font face="Courier">:7005, </font><em><font face="Courier">&lt;IPaddressdeleted&gt;</font></em><font face="Courier">:7005,</font><em><font face="Courier">&lt;IPaddressdeleted&gt;</font></em><font face="Courier">:7005:mydomain:myserver3. Re-creating secondary.&gt;</font></p>

<a name="1342089"></a><p class="table">This error occurred on Server C:</p>

<a name="1342090"></a><p class="table"><font face="Courier">&lt;Jun 4, 2003 4:24:56 PM PDT&gt; &lt;Info&gt; &lt;Cluster&gt; &lt;Lost 0 replication updates of object 3535724191309537720. Re-fetching secondary.&gt;</font></p>

<a name="1342091"></a><p class="table">The problem was solved by a code change.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361346"></a><p class="table">CR112874</p>


		</td>
		<td align="left" valign="top">
			<a name="1361348"></a><p class="table">In WebLogic Server 6.1 SP03, when a client of a stateful session bean accessed a bean deployed on a cluster configured for weight-based load-balancing, and the Managed Servers with the highest and second highest weight are killed in that order, the client gives the following message </p>

<a name="1361349"></a><p class="table"><font face="Courier">&lt;Jul 22, 2003 1:32:56 AM IST&gt; &lt;Warning&gt; &lt;Kernel&gt; &lt;No replica in list has the expected weight. Reverting to round-robin&gt; </font></p>

<a name="1361350"></a><p class="table">When the Managed Servers are restarted, the load balancing algorithm was switched to round-robin. </p>

<a name="1361351"></a><p class="table">Analysis revealed that the replica list was getting updated when a Managed Server went down, but due to a race condition the max weight in <font face="Courier">RichReplicaList</font> was not reset properly. </p>

<a name="1361352"></a><p class="table">A code change to recompute <font face="Courier">max weight</font> whenever the replica list size changes solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361340"></a><p class="table">CR116954</p>


		</td>
		<td align="left" valign="top">
			<a name="1361342"></a><p class="table">The web application container returned 404 messages for InitJVMID requests from the <font face="Courier">HTTPClusterServlet</font>, resulting in log files filling up with messages:</p>

<a name="1361343"></a><p class="table">####&lt;Sep 6, 2002 4:56:43 PM EDT&gt; &lt;Debug&gt; &lt;HTTP&gt; &lt;petunia&gt; &lt;ms1petunia&gt; &lt;ExecuteThread: '13' for queue: 'default'&gt; &lt;kernel identity&gt; &lt;&gt; &lt;101147&gt; &lt;HttpServer(887891,null default ctx,ms1petunia) found no context for "/WLDummyInitJVMIDs".</p>

<a name="1361344"></a><p class="table">The problem was solved by sending <font face="Courier">InitJVMID</font> requests to the internal web application which is always deployed on WebLogic Server.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1365004"></a><p class="head2">Connector
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1364985"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1364987"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1364989"></a><p class="table">CR109463</p>


		</td>
		<td align="left" valign="top">
			<a name="1364991"></a><p class="table">When a transaction obtained connections to two resource adapters and both adapters used the same resource manager, WebLogic Server cleaned up only one connection. The connections were closed before the committing the transaction. This problem appeared as a <font face="Courier">javax.resource.spi.ResourceAllocationException</font>.</p>

<a name="1364992"></a><p class="table">The problem occurred because the transaction manager ignored the second connection that used the same resource manager. This was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1364994"></a><p class="table">CR121418</p>


		</td>
		<td align="left" valign="top">
			<a name="1364996"></a><p class="table">When allocating a new connection, the connector container used the descriptor MBean to obtain configuration information. Because the descriptor MBean resides on the Administration Server, Managed Servers required the Administration Server to be available in order to allocate the new connection. If the Administration Server was down, the process of allocating new connections would throw a exception:</p>

<a name="1364997"></a><p class="table"><font face="Courier">weblogic.rmi.extensions.RemoteRuntimeException</font> </p>

<a name="1364998"></a><p class="table">The container was modified so that it stores configuration information locally after an adapter is deployed. Managed Servers use this local configuration information, rather than the descriptor MBean, for allocating new connections.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365000"></a><p class="table">CR125555</p>


		</td>
		<td align="left" valign="top">
			<a name="1365002"></a><p class="table">When WebLogic Server Service Pack 5 obtained MetaData information from a Resource Adapter, it did not check the return value for nulls before using the object. This could cause a <font face="Courier">NullPointerException</font> and connection failure.</p>

<a name="1365003"></a><p class="table">The code was modified to check the return value for null after calling <font face="Courier">getMetaData()</font>. If an adapter's implementation of ManagedConnection.getMetaData() returns a null value, WebLogic Server no longer throws a <font face="Courier">NullPointerException</font> and no MetaData is logged.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1365219"></a><p class="head2">Console
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1365200"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1365202"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365204"></a><p class="table">CR100006</p>


		</td>
		<td align="left" valign="top">
			<a name="1365206"></a><p class="table">WebLogic Server sometimes displayed the following <font face="Courier">NullPointerException</font> when a domain contained two Administration Servers and you tried to access the servers via the Administration Console:</p>

<a name="1365207"></a><p class="table"><font face="Courier">java.lang.NullPointerException<br>	at <br>weblogic.management.console.helpers.UrlHelper.buildIconList(UrlHelper.java:149)<br>	at weblogic.management.console.helpers.UrlHelper.getIcon(UrlHelper.java:174)<br>	at <br>weblogic.management.console.tags.SmartNavNodeTag.getIcon(SmartNavNodeTag.jacva:111)<br>	at <br>weblogic.management.console.tags.SmartNavNodeTag.inferStuffFromContext(SmartNavNodeTag.java:96)<br>	at <br>weblogic.management.console.tags.SmartNavNodeTag.doStartTag(SmartNavNodeTag.java:44)<br>	at <br>weblogic.management.console.webapp._domain.__nav._jspService(__nav.java:301)<br>	at weblogic.servlet.jsp.JspBase.service(JspBase.java:27)<br>	at <br>weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:262)<br>	at <br>weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:198)<br>	at <br>weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:250)<br><br>[...]</font></p>

<a name="1365208"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365210"></a><p class="table">CR102824</p>


		</td>
		<td align="left" valign="top">
			<a name="1365212"></a><p class="table">After upgrading from WebLogic Server SP02 to SP04 on Solaris 8, when customer logs into the console they get the following exception in the log files. The console continues to work. </p>

<a name="1365213"></a><p class="table">j<font face="Courier">ava.lang.NullPointerException at weblogic.management.console.utils.ConsoleComparator.compare(ConsoleComparator.java:81) at java.util.Arrays.mergeSort(Arrays.java:1176) at java.util.Arrays.sort(Arrays.java:1123) at java.util.Collections.sort(Collections.java:116) at weblogic.management.console.utils.MBeans.sort(MBeans.java:1103) at weblogic.management.console.tags.DeclareBeanSetTag.doStartTag(DeclareBeanSetTag.java:99) at weblogic.management.console.webapp._domain.__nav_services._jspService(__nav_services.java:982) at weblogic.servlet.jsp.JspBase.service(JspBase.java:27) at weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:262) at weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:198) at weblogic.servlet.internal.RequestDispatcherImpl.include(RequestDispatcherImpl.java:490) at weblogic.servlet.internal.RequestDispatcherImpl.include(RequestDispatcherImpl.java:316) at weblogic.servlet.jsp.PageContextImpl.include(PageContextImpl.java:116) at</font>...</p>

<a name="1365214"></a><p class="table">Analysis revealed that MBeans were returning a null <font face="Courier">displayName</font>. The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365216"></a><p class="table">CR105598</p>


		</td>
		<td align="left" valign="top">
			<a name="1365218"></a><p class="table">New testing with an Active Directory LDAP uncovered a problem where a call to <font face="Courier">group.isMember()</font> would fail if a member name contained a comma character (,). This problem was solved with a code fix.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1358152"></a><p class="head2">Core
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1358018"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1358020"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358022"></a><p class="table">CR071415</p>


		</td>
		<td align="left" valign="top">
			<a name="1358024"></a><p class="table">In WebLogic Server 6.1 SP02, when the WebLogic Server security manager starts and sets the policy file, the path /usr/lib was prepended to javac during JSP compilation, causing a java.security.AccessControlException.</p>

<a name="1358025"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358027"></a><p class="table">CR094410</p>


		</td>
		<td align="left" valign="top">
			<a name="1358029"></a><p class="table">When <font face="Courier">DebugHttp</font> was activated in <font face="Courier">ServerDebugMBean</font>, WebLogic Server reported <font face="Courier">SocketResetException</font>s as errors, rather than simple debug messages. To address this problem, <font face="Courier">logMuxableSocketResetException()</font> was added to the message catalog for reporting this debug message.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358031"></a><p class="table">CR096091</p>


		</td>
		<td align="left" valign="top">
			<a name="1358033"></a><p class="table">In WebLogic Server 6.1 SP04 and SP05, when starting WebLogic Server as an Windows service using a classpath from a file, the error </p>

<a name="1358034"></a><p class="table"><font face="Courier">"Thread created successfully! Exception in thread "main" java.lang.NoClassDefFoundError: weblogic/Server" </font></p>

<a name="1358035"></a><p class="table">is thrown if classpath file is over about 2k length. </p>

<a name="1358036"></a><p class="table">The problem was solved by correcting an error related to reading the classpath from a file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358038"></a><p class="table">CR102058</p>


		</td>
		<td align="left" valign="top">
			<a name="1358040"></a><p class="table">When using URLClassLoader on the client, a remote method call resulted in a <font face="Courier">NoClassDefFoundError.</font> </p>

<a name="1358041"></a><p class="table"><font face="Courier">c:\java\java131_07\bin\java -classpath ".;client.jar;C:\home\ravia\weblogic\dev\src700\3rdparty\weblogicaux.jar" URLTest qa146 9901 ejb20-statefulSession- TraderHome installadministrator installadministrator java.lang.NoClassDefFoundError: weblogic/rmi/extensions/server/Stub at java.lang.ClassLoader.defineClass0(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:488) at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:106) at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:401) at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:162) at java.lang.ClassLoader.loadClass(ClassLoader.java:294) at java.lang.ClassLoader.loadClass(ClassLoader.java:250) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:310) at java.lang.Class.forName0(Native Method) at java.lang.Class.forName(Class.java:190) at weblogic.utils.classfile.utils.CodeGenerator.generateClass(CodeGenerator.java:71) at ...</font></p>

<a name="1358042"></a><p class="table">The problem was solved by setting <font face="Courier">ThreadContextClassLoader</font> as the parent for <font face="Courier">AugmentableSystemClassLoader</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358044"></a><p class="table">CR103525</p>


		</td>
		<td align="left" valign="top">
			<a name="1358046"></a><p class="table">In WebLogic Server 6.1 SP04, this error occurred:</p>

<a name="1358047"></a><p class="table"><font face="Courier">weblogic.utils.AssertionError: ***** ASSERTION FAILED *****[ Old socket closed and released FD before FDRecord still exists,... </font></p>

<a name="1358048"></a><p class="table">The problem was solved with a code change to Ensure that socket closes outside the muxer are handled gracefully.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358050"></a><p class="table">CR103774</p>


		</td>
		<td align="left" valign="top">
			<a name="1358052"></a><p class="table">The Solaris and Windows 2000 versions of WebLogic Server logged socket exceptions similar to: </p>

<a name="1358053"></a><p class="table"><font face="Courier">&lt;Apr 3, 2003 11:40:07 AM EST&gt; &lt;Error&gt; &lt;socket&gt; &lt;000424&gt;  &lt;IOException on socket: weblogic.servlet.internal.MuxableSocketHTTP@1eca988 -  idle timeout: '30000' ms, socket timeout: '0' ms, fd: 53  java.net.SocketException: Connection reset java.net.SocketException: Connection reset<br> &#32; &#32; &#32; &#32; &#32;at<br> java.net.SocketInputStream.read(SocketInputStream.java:168)       &#32; &#32; &#32; &#32; &#32;at<br>weblogic.socket.PosixSocketMuxer.readBytesProblem(PosixSocketMuxer.java:876) <br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.socket.PosixSocketMuxer.deliverGoodNews(PosixSocketMuxer.java:767) <br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.socket.PosixSocketMuxer.processSockets(PosixSocketMuxer.java:694) <br> &#32; &#32; &#32; &#32; &#32;at weblogic.socket.SocketReaderRequest.execute(SocketReaderRequest.java:23) <br> &#32; &#32; &#32; &#32; &#32;at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:213)<br>ad.run(ExecuteThread.java:189)<br>&gt;</font></p>

<a name="1358054"></a><p class="table">However, these messages do not indicate a defect with the server or application. The code changed so that the above exceptions are displayed only when the server is in debug mode.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358056"></a><p class="table">CR103967</p>


		</td>
		<td align="left" valign="top">
			<a name="1358058"></a><p class="table">In WebLogic Server 6.1 SP04, child threads of WebLogic Server execute threads did not inherit the correct context classloader. This problem common occurred when a servlet or an ejb created a timer (java.util.Timer). </p>

<a name="1358059"></a><p class="table">Analysis revealed that WebLogic Server execute threads maintained their own context classloader and child threads of these execute threads did not inherit the context because java.lang.Thread directly assigned the member variable of its own to the child threads. </p>

<a name="1358060"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358062"></a><p class="table">CR104218</p>


		</td>
		<td align="left" valign="top">
			<a name="1358064"></a><p class="table">In WebLogic Server 6.1 SP04, the following exception occurred on a Solaris 8 server with patch for CR100665_61sp4.jar: </p>

<a name="1358065"></a><p class="table"><font face="Courier">&lt;Apr 23, 2003 3:36:27 PM CDT&gt; &lt;Error&gt; &lt;Posix Performance Pack&gt; &lt;Uncaught Throwable in processSockets java.util.ConcurrentModificationException at java.util.HashMap$HashIterator.nextEntry(HashMap.java:750) at java.util.HashMap$EntryIterator.next(HashMap.java:792) at java.util.HashMap.putAllForCreate(HashMap.java:408) at java.util.HashMap.clone(HashMap.java:624) at java.util.HashSet.clone(HashSet.java:217) at weblogic.socket.PosixSocketMuxer.closeSockets(PosixSocketMuxer.java:486) at weblogic.socket.PosixSocketMuxer.processSockets(PosixSocketMuxer.java:589) at weblogic.socket.SocketReaderRequest.execute(SocketReaderRequest.java:24) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)</font> </p>

<a name="1358066"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358068"></a><p class="table">CR105426</p>


		</td>
		<td align="left" valign="top">
			<a name="1358070"></a><p class="table">WebLogic Server ships with a file named <font face="Courier">wlntio_g.dll</font>, which is a debug version of of <font face="Courier">wlntio.dll</font> (and is required only for debugging purposes). WebLogic Server 6.0 Service Pack 2 included the wrong version of <font face="Courier">wlntio_g.dll</font>, which could cause stack traces similar to the following when used for debugging:</p>

<a name="1358071"></a><p class="table"><font face="Courier">&lt;NT Performance Pack&gt; NATIVE.malloc(): allocated at 0x08DAD008 numAllocs 1<br>numFrees 0<br>NATIVE: start io on 1972 with addr 0x08dad008<br>NATIVE: GetQueuedCompletionStatus on 1972 with addr 0x08dad008<br>&lt;May 6, 2003 11:17:19 AM EDT&gt; &lt;Error&gt; &lt;NT Performance Pack&gt; &lt;failure in<br>processSockets() - GetData: 'weblogic.socket.NTSocketMuxer$GetData - native<br>pointer: '0', numBytes: '0''<br>java.lang.NoSuchFieldError: fd<br>        at weblogic.socket.NTSocketMuxer.getNextSocket(Native Method)<br>        at<br>weblogic.socket.NTSocketMuxer.processSockets(NTSocketMuxer.java:589)<br>        at<br>weblogic.socket.SocketReaderRequest.execute(SocketReaderRequest.java:24)<br>        at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139)<br>        at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)&gt;</font></p>

<a name="1358072"></a><p class="table">Service Pack 6 now includes the correct version of <font face="Courier">wlntio_g.dll</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358074"></a><p class="table">CR105516</p>


		</td>
		<td align="left" valign="top">
			<a name="1358076"></a><p class="table">In WebLogic Server 6.1 SP04, stateful session EJB failover did not work when multiple failovers were required </p>

<a name="1358077"></a><p class="table">In a three node cluster a JSP creates or calls a replica-aware stateful session EJB. The remote EJB stub is stored in the http session. After each call to the stateful session EJB the updated EJB stub is also updated in the http session to reflect any changes for the EJB replica list (primary/secondary). </p>

<a name="1358078"></a><p class="table">The following call sequence with the same browser window leads to a <font face="Courier">java.rmi.ConnectException</font> when only one node of the cluster survives: </p>

<a name="1358079"></a><p class="table">1. All three cluster nodes are running. </p>

<a name="1358080"></a><p class="table">2. Making a call to node1, create EJB and store remote in http session (http session replication is enabled) </p>

<a name="1358081"></a><p class="table">3. Kill node1 </p>

<a name="1358082"></a><p class="table">4. Make a call to the secondary node2, the EJB remote is retrieved from the replicated http session and the call to the EJB works fine. After this EJB call again the remote is stored in the http session.</p>

<a name="1358083"></a><p class="table"> 5. Kill node2 </p>

<a name="1358084"></a><p class="table">6. Make a call to node3, get the EJB remote from http session. </p>

<a name="1358085"></a><p class="table">WebLogic Server tries to lookup the EJB on node2 and does not try to use node3 (this should now be the new secondary?). The following exception is thrown on node3:</p>

<a name="1358086"></a><p class="table"><font face="Courier"> java.rmi.ConnectException: Could not establish a connection with -3088833905169218734S:172.23.64.38:[7001,7001,7002,7002,7001,7002,-1]:mydomain:managed2, java.rmi.ConnectException: Destination unreachable; nested exception is: java.net.ConnectException: Connection refused: connect; No available router to destination <br> &#32; &#32; &#32; &#32; &#32;at <br>weblogic.rjvm.RJVMImpl.getOutputStream(RJVMImpl.java:275) <br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.rjvm.RJVMImpl.getRequestStream(RJVMImpl.java:408)  &#32; &#32; &#32; &#32; &#32;at<br>weblogic.rmi.internal.BasicRemoteRef.getOutboundRequest(BasicRemoteRef.java:97)<br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.rmi.cluster.ReplicaAwareRemoteRef.invoke(ReplicaAwareRemoteRef.java:255) </font></p>

<a name="1358087"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358089"></a><p class="table">CR105814 </p>


		</td>
		<td align="left" valign="top">
			<a name="1358091"></a><p class="table">In WebLogic Server 6.1 SP04, a customer saw <font face="Courier">close_waits</font> running under AIX.</p>

<a name="1358092"></a><p class="table">Analysis revealed that when WebLogic Serve 6.0 clients connected to a WebLogic Server 6.1 instance, WebLogic Server leaked sockets. This occurred when WebLogic Server attempted to close the MuxableSocket via the muxer without registering the socket with the muxer&#8212;the socket was rejected after being claimed by t3, before it could be registered with the muxer. The problem was corrected with a code fix. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358094"></a><p class="table">CR106957 </p>


		</td>
		<td align="left" valign="top">
			<a name="1358096"></a><p class="table">In WebLogic Server 6.1 SP04, running with IBM's MQWorkflow on AIX 5.2., invocation of an MQWorkflow Java API by a servlet in WebLogic Server resulted in an error in MQWorkflow. The problem was not exhibited under Window, if Native IO (Performance Pack) was disabled, or if the libmuxer.so library was removed from the classpath.</p>

<a name="1358097"></a><p class="table">Analysis revealed that WebLogic Server did not set the "language code", an encoding parameter, to "en-us" as it should, but to "c". The problem was corrected with a code fix. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358099"></a><p class="table">CR107598</p>


		</td>
		<td align="left" valign="top">
			<a name="1358101"></a><p class="table">In WebLogic Server 6.1 SP03 and SP04, restart of the Administration Server resulted in this error: </p>

<a name="1358102"></a><p class="table">java.rmi.ConnectException: This RJVM has already been shutdown</p>

<a name="1358103"></a><p class="table">The problem was reproduced consistently when beforing these steps:</p>


			<ol><a name="1358104"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Configure a cluster with server instances on at least two machines. </font>
<a name="1358105"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Deploy a sample EJB to cluster.</font>
<a name="1358106"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Restart the Administration Server.</font>
<a name="1358107"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Untarget the EJB from cluster</font>
<a name="1358108"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Retarget the EJB to cluster. </font>
			</ol>
<a name="1358109"></a><p class="table">The following error resulted: </p>

<a name="1358110"></a><p class="table"><font face="Courier">&lt;Feb 5, 2003 7:03:27 PM PST&gt; &lt;Info&gt; &lt;J2EE&gt; &lt;Undeployed: ejb_basic_statelessSession&gt; java.rmi.ConnectException: This RJVM has already been shutdown -7152222714009328 37S:172.17.25.250:[7001,7001,7002,7002,7001,7002,-1]:mydomain:myserver<br> &#32; &#32; &#32; &#32; &#32;at <br>weblogic.rjvm.RJVMImpl.getOutputStream(RJVMImpl.java:280) <br> &#32; &#32; &#32; &#32; &#32;at<br> weblogic.rjvm.RJVMImpl.getRequestStream(RJVMImpl.java:408)<br> &#32; &#32; &#32; &#32; &#32; at<br>weblogic.rmi.internal.BasicRemoteRef.getOutboundRequest(BasicRemoteRef.java:97) <br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.rmi.internal.BasicRemoteRef.invoke(BasicRemoteRef.java:125) <br> &#32; &#32; &#32; &#32; &#32;at <br>weblogic.rmi.internal.ProxyStub.invoke(ProxyStub.java:35) at $Proxy7.getMBeanServer(Unknown Source) <br> &#32; &#32; &#32; &#32; &#32;at weblogic.management.internal.MBeanProxy.getAttribute(MBeanProxy.java:253) <br></font>The problem was solved with a code change to remove stale MBean references. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1364808"></a><p class="table">CR109339</p>


		</td>
		<td align="left" valign="top">
			<a name="1364810"></a><p class="table">In WebLogic Server 6.1 SP05, a security exception initializing kernel in applets. A code fix solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358112"></a><p class="table">CR109590 </p>


		</td>
		<td align="left" valign="top">
			<a name="1358114"></a><p class="table">In WebLogic Server 6.1 SP04, running with AIX, a method call made over IIOP to a remote object hung.</p>

<a name="1358115"></a><p class="table">The customer has a server (non-WebLogic Server) hosting remote objects. An EJB running on WebLogic Server calls a remote object on the non-WebLogic Server over IIOP. The method call hung indefinitely. The method call was simple&#8212;it returns a boolean type. The thread dump showed:</p>

<a name="1358116"></a><p class="table"><font face="Courier">"ExecuteThread: '11' for queue: 'default'" (TID:0x300C12A8, sys_thread_t:0x35649A58, state:CW, native ID:0x1011) prio=5 at java.lang.Object.wait(Native Method) at java.lang.Object.wait(Object.java:429) at weblogic.iiop.SequencedRequestMessage.waitForData(SequencedRequestMessage.java:24) at weblogic.iiop.EndPointImpl.sendReceive(EndPointImpl.java:641) at weblogic.iiop.OutboundRequestImpl.sendReceive(OutboundRequestImpl.java:43) at weblogic.iiop.IIOPRemoteRef.invokeInternal(IIOPRemoteRef.java:128) at weblogic.iiop.IIOPRemoteRef.invoke(IIOPRemoteRef.java:90) at weblogic.rmi.internal.ProxyStub.invoke(ProxyStub.java:35) at $Proxy70.isRunning(Unknown Source) at java.lang.reflect.Method.invoke(Native Method) at weblogic.iiop.IIOPInvocationHandlerImpl.invoke(IIOPInvocationHandlerImpl.java:285) at $Proxy71.isRunning(Unknown Source) at...</font></p>

<a name="1358117"></a><p class="table">Analysis revealed a classloader problem. A code fix resolved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358119"></a><p class="table">CR110347</p>


		</td>
		<td align="left" valign="top">
			<a name="1358121"></a><p class="table">In WebLogic Server 6.1 SP05 a lookup on context (and assigning to object) throws <font face="Courier">IllegalArgumentException</font> if EJB stubs is not in classpath</p>

<a name="1358122"></a><p class="table">The problem occurred with a stateful session EJB (<font face="Courier">examples.ejb20.basic.statefulSession</font>, shipped with WebLogic Server) deployed to a single WebLogic Server server. A JDNI lookup was performed on the EJB home object and the returned value was assigned to the class object. The client classpath contained <font face="Courier">weblogic.jar</font> and no client classes. </p>

<a name="1358123"></a><p class="table">This code was used to perform the lookup on the context. </p>

<a name="1358124"></a><p class="table"><font face="Courier">Context ctx = new InitialContext(ht); Object objref = ctx.lookup("ejb20-statefulSession-TraderHome"); </font></p>

<a name="1358125"></a><p class="table">The lookup succeeded for latter succeeds for WebLogic Server 6.1 SP03 but failed on WebLogic Server 6.1 SP05. The exception was:</p>

<a name="1358126"></a><p class="table">j<font face="Courier">ava.lang.IllegalArgumentException: java.lang.IllegalArgumentException: interface examples.ejb20.basic.statefulSession.</font></p>

<a name="1358127"></a><p class="table">TraderHome was not visible from the class loader With verbose classloading set for the JVM, it was found that the <font face="Courier">examples.ejb20.basic.statefulSession.TraderHome</font> class was successfully loaded by the In WebLogic Server 6.1 SP03, although it was not in the classpath. With In WebLogic Server 6.1 SP05, the failure occurred when attempting to load that class. </p>

<a name="1358128"></a><p class="table">The problem was solved by a code change to ensure the <font face="Courier">ClientRuntimeDescriptor</font> uses the current classloader, if it is a GenericClassLoader.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358130"></a><p class="table">CR110892 </p>


		</td>
		<td align="left" valign="top">
			<a name="1358135"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-35.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-35.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361484"></a><p class="table">CR116712</p>


		</td>
		<td align="left" valign="top">
			<a name="1361486"></a><p class="table">In WebLogic Server 6.1 SP04, the <font face="Courier">WLECConnectionRuntime MBeans</font> were not updated when an <font face="Courier">INVOKE</font> was issued on <font face="Courier">WLECConnectionPoolRuntime</font> using Admin tool. </p>

<a name="1361487"></a><p class="table">Analysis revealed that when <font face="Courier">resetConnectionPool()</font> was invoked on the <font face="Courier">WLECConnectionPoolRuntime</font> MBean, the pool was not reset. Old connections were not removed</p>

<a name="1361488"></a><p class="table">The problem was solved with a code change. Now, the mbeans that correspond to old connections are unregistered before the <font face="Courier">resetConnectionPool()</font> invocation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361552"></a><p class="table">CR117200</p>


		</td>
		<td align="left" valign="top">
			<a name="1361554"></a><p class="table">In WebLogic Server 6.1 SP05, a deadlock in <font face="Courier">weblogic.socket.PosixSocketMuxe</font>r was detected when a Managed Server could note connect to the Administration Server. This is an extract from the thread dump:</p>

<a name="1361555"></a><p class="table"><font face="Courier">1wasLKDEADLOCK  &#32; &#32; &#32; &#32; &#32;Deadlock detected!!!<br>NULL<br>NULL <br>2LKDEADLOCKTHR Thread "ExecuteThread: '0' for queue:<br>'__weblogic_admin_rmi_queue'" (0x8461B8A0) 3LKDEADLOCKWTR is waiting for: <br>4LKDEADLOCKMON sys_mon_t:0x84D183A8 inflaming: 0x00000000: 4LKDEADLOCKOBJ weblogic.socket.PosixSocketMuxer$FDRecord@31FD4B10/31FD4B18:<br>3LKDEADLOCKOWN which is owned by: 2LKDEADLOCKTHR Thread "ExecuteThread: '98' for queue: 'default'" (0x767D26E0)<br>3LKDEADLOCKWTR which is waiting for: <br>4LKDEADLOCKMON sys_mon_t:0x83AD8C18 inflaming: 0x00000000:<br>4LKDEADLOCKOBJ weblogic.rjvm.ConnectionManagerServer@31FA3430/31FA3438:<br>3LKDEADLOCKOWN which is owned by: <br>2LKDEADLOCKTHR Thread "ExecuteThread: '0' for queue: '__weblogic_admin_rmi_queue'" (0x8461B8A0) </font></p>

<a name="1361556"></a><p class="table">The following exception is also thrown: </p>

<a name="1361557"></a><p class="table"><font face="Courier">java.rmi.ConnectException: The connection manager to ConnectionManager for: 'weblogic.rjvm.RJVMImpl@2a7512ad - id: '8419466038107054512S:10.32.197.52:[7001,7001,-1,-1,7001,-1,-1]:bossapp:AdminServer' connect time: 'Fri. Aug 01 09:43:07 CST 2003'' has already been shut down at weblogic.rjvm.ConnectionManager.getOutputStream(ConnectionManager.java(Compiled Code)) at...</font></p>

<a name="1361558"></a><p class="table">Analysis revealed that PosixSocketMuxer hit the deadlock due to contention for the <font face="Courier">FDRecord</font> and <font face="Courier">ConnectionManage</font>r locks. One thread holds the <font face="Courier">FDRecord</font> lock and waits for a <font face="Courier">ConnectionManager</font> lock, which is held by another thread which is waiting for the <font face="Courier">FDRecord</font> lock to do a cleanup. </p>

<a name="1361559"></a><p class="table">A code fix removed the contention. Now, the <font face="Courier">FDRecord</font> lock is not held during dispatch. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358137"></a><p class="table">CR122280</p>


		</td>
		<td align="left" valign="top">
			<a name="1358139"></a><p class="table">For context-wide sessions, WebLogic Server did not check if an object was Serializable before placing it in the session. This could lead to the error:</p>

<a name="1358140"></a><p class="table">       <font face="Courier">   Could not deserialize context attribute<br>                 java.io.NotSerializableException: <br>com.app.name<br>                  at <br>java.io.ObjectOutputStream.outputObject(ObjectOutputStream.java(Compiled Code))<br>                  at <br>java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java(Compiled Code))<br>                  at <br>weblogic.servlet.internal.AttributeWrapper.getObject(AttributeWrapper.java(CompiledCode))<br>                  at <br>weblogic.servlet.internal.WebAppServletContext.getAttribute(WebAppServletContext.java(Compiled Code))<br>                  at <br>weblogic.servlet.internal.WebAppServletContext.getAttribute(WebAppServletContext.java(Compiled Code))</font></p>

<a name="1358141"></a><p class="table">The code was modified so that <font face="Courier">setAttribute()</font> checks for a serializable object before adding it to the session.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358143"></a><p class="table">CR123571</p>


		</td>
		<td align="left" valign="top">
			<a name="1358145"></a><p class="table">When starting several T3 clients on the same machine simultaneously, there was a possibility that two or more of the clients could obtain the same JVMID, cause exceptions or hanging on the clients. The problem occurred only when starting multiple T3 clients on the same machine at the same time. This problem was solved by modifying the code used to generate JVMIDs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358147"></a><p class="table">CR124763</p>


		</td>
		<td align="left" valign="top">
			<a name="1358149"></a><p class="table">Prior to WebLogic Serve Service Pack 6, all server instances in a cluster used the server listen port as the multicast port for cluster communication. There was no way for a cluster to use a multicast port different from the server listen port.</p>

<a name="1358150"></a><p class="table">This Service Pack introduces a new, optional Java property, <font face="Courier">-Dweblogic.cluster.multicastport=</font><em>port_number</em>, to specify the multicast port used in a cluster. To use the new property, all cluster members must specify the same <font face="Courier">-Dweblogic.cluster.multicastport</font> value in their startup scripts.</p>

<a name="1358151"></a><p class="table">If the <font face="Courier">-Dweblogic.cluster.multicastport</font> is not specified at startup time, servers continue to use the listen port as the multicast port for cluster communication.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1362310"></a><p class="head2">Deployment
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1362300"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1362302"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1362304"></a><p class="table">CR102324</p>


		</td>
		<td align="left" valign="top">
			<a name="1362306"></a><p class="table">Prior to this Service Pack release, WebLogic Server did not log a nested exception associated with a deployment error. The logged text indicated only the deployment error, as in:</p>

<a name="1362307"></a><p class="table"><font face="Courier">&lt;Mar 28, 2003 1:10:51 AM PST&gt; &lt;Error&gt; &lt;J2EE&gt; &lt;Error deploying application application_name: Caught IOException for path=path_to_application&gt;</font></p>

<a name="1362308"></a><p class="table">The code was modified to log the nested exception as well as the deployment error itself, as in:</p>

<a name="1362309"></a><p class="table"><font face="Courier">&lt;Mar 28, 2003 1:10:51 AM PST&gt; &lt;Error&gt; &lt;J2EE&gt; &lt;Error deploying application_name: with deployment error Caught IOException for path=path_to_application and nested error java.io.FileNotFoundException: File not found&gt;</font></p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1335353"></a><p class="head2">EJB
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1335314"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1335316"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1354220"></a><p class="table">CR056023 </p>


		</td>
		<td align="left" valign="top">
			<a name="1354222"></a><p class="table">A CMP2.0 EJB accessing an Oracle database did not timeout when the database was locked.</p>

<a name="1354223"></a><p class="table">The problem was exhibited when running the ejb2.0 cmp example, with <font face="Courier">trans-timeout-seconds</font> to a non-zero value such as "10", against a locked database table (the table was locked using SQLplus "lock table ejbaccounts in exclusive mode"). When the table was locked, and the client ran, the client hung indefinitely trying to create an account. After the database lock was released using SQLplus, a rollback exception occurred in the client. The rollback should occur when at the end of the transaction timeout. </p>

<a name="1354224"></a><p class="table">Analysis revealed that, when the timeout period expired, and the timer sent a <font face="Courier">TransactionRolledBack</font> message to the database, the database did not release the lock. </p>

<a name="1354225"></a><p class="table">The problem was resolved, for the Oracle thin driver, for row-level locks by:</p>


			<ul><a name="1354226"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Doing a <font face="Courier">canceAllStatementsBeingUsed</font> in the <font face="Courier">internalRollback</font> method of the <font face="Courier">weblogic.jdbc.jts.Connection</font> class before calling a rollback on the connection.</font>
<a name="1354227"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Introducing a new method, <font face="Courier">canceAllStatementsBeingUsed</font> in the <font face="Courier">weblogic.jdbc.common.internal.ConnectionEnv</font> class that iterates through all the open statements and calls cancel on them for the connection being rolled back, ignoring the SQL exception. </font>
			</ul>
<a name="1354228"></a><p class="table">The fix works only for the Oracle thin driver, for row-level locks. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1335318"></a><p class="table">CR098343</p>


		</td>
		<td align="left" valign="top">
			<a name="1335320"></a><p class="table">In WebLogic Server 6.1 SP02 and SP04, JDBC connections were not returned to the pool when a transaction was distributed over two server instances. The JDBC attribute <font face="Courier">KeepXAConnTillTxComplete</font> was set to <font face="Courier">true</font>. This sequence of events led to the problem:</p>


			<ol><a name="1335321"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Start a user transaction on one server instance 1.</font>
<a name="1335322"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Put a JMS message into a persistent queue. The JMS server and queues are on server instance 2.</font>
<a name="1335323"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Update an EJB on server instance 2. </font>
<a name="1335324"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Commit the transaction. </font>
			</ol>
<a name="1335325"></a><p class="table">No error messages were generated. The updates were performed and the message was placed in the JMS queue. However, some connections remained 'in use' in the ejb connection pool. After repeating the sequence of steps several times, the connection pool runs out of connections. </p>

<a name="1335326"></a><p class="table">The problem did not occur if the actions are executed on a single server instance, or if the JMS message is placed in the queue outside the transaction scope. </p>

<a name="1335327"></a><p class="table">The problem was solved with a code change to release the connection in the <font face="Courier">aftercompletion</font> callback. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1350838"></a><p class="table">CR099041</p>


		</td>
		<td align="left" valign="top">
			<a name="1351037"></a><p class="table">In WebLogic Server 6.1 SP04, a customer reported random generation of the following exception while invoking methods in a particular EJB in his application:</p>

<a name="1351096"></a><p class="table"><font face="Courier">java.lang.ClassCastException: java.lang.String at weblogic.utils.classfile.DoubleKey.equals(DoubleKey.java:24) at java.util.Hashtable.get(Hashtable.java:318) at weblogic.utils.classfile.ConstantPool.find(ConstantPool.java:58) at weblogic.utils.classfile.ConstantPool.getUtf8(ConstantPool.java:251) at weblogic.utils.classfile.expr.ClassInfo.addField(ClassInfo.java:86) at weblogic.utils.classfile.expr.DotClassExpression.code(DotClassExpression.java:34) at weblogic.utils.classfile.expr.InvokeExpression.code(InvokeExpression.java:31) at weblogic.utils.classfile.expr.ExpressionStatement.code(ExpressionStatement.java:19) at weblogic.utils.classfile.expr.TryCatchStatement.code(TryCatchStatement</font></p>

<a name="1350840"></a><p class="table">The problem was corrected with a code fix to the <font face="Courier">equals()</font> method in <font face="Courier">weblogic.utils.classfile.DoubleKey.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1335829"></a><p class="table">CR099626</p>


		</td>
		<td align="left" valign="top">
			<a name="1335831"></a><p class="table">In WebLogic Server 6.1 SP03 ejbc generated invalid SQL for an <font face="Courier">ejbSelect</font> query. The query failed because table aliases were generated incorrectly, resulting in this error:</p>

<a name="1335933"></a><p class="table"><font face="Courier">ORA-00904: invalid column name </font></p>

<a name="1335938"></a><p class="table">The problem was corrected with a code fix. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1335329"></a><p class="table">CR099760</p>


		</td>
		<td align="left" valign="top">
			<a name="1335331"></a><p class="table">A field optimization was implemented for EJB 1.1 CMP beans, so that fields that are updated, but whose value did not change, are not written to back to the database. The optimization is only done for primitives and immutable objects.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1335952"></a><p class="table">CR100246</p>


		</td>
		<td align="left" valign="top">
			<a name="1335954"></a><p class="table">A <font face="Courier">LockTimeoutException </font>occurred during a test, upon attempt to remove a stateful EJB. The sequence of operations was:</p>


			<ol><a name="1336073"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>During test within the remote method of an entity bean, create a stateful session bean (local/localhome interfaces). </font>
<a name="1336137"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Call business methods on the stateful session bean, which in turn create different types of beans. </font>
<a name="1336142"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Try to remove the stateful session bean.</font>
			</ol>
<a name="1336147"></a><p class="table">On calling remove the following exception is thrown: </p>

<a name="1336181"></a><p class="table"><font face="Courier">Nov 18, 2002 12:51:33 AM PST&gt; &lt;Info&gt; &lt;EJB&gt; &lt;010049&gt; &lt;EJB Exception in method: remove: weblogic.ejb20.locks.LockTimedOutException: The lock request from EJB:LibraryInfoEJB with primary key:85335648642269185 timed-out after waiting 0 ms. The transaction or thread requesting the lock was:Thread[ExecuteThread: '6' for queue: 'default',5,Thread Group for Queue: 'default']. weblogic.ejb20.locks.LockTimedOutException: The lock request from EJB:LibraryInfoEJB with primary key:85335648642269185 timed-out after waiting 0 ms. The transaction or thread requesting the lock was:Thread[ExecuteThread: '6' for queue: 'default',5,Thread Group for Queue: 'default']. <br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.ejb20.locks.ExclusiveLockManager$LockBucket.lock(ExclusiveLockManager.java:449) <br> &#32; &#32; &#32; &#32; &#32;at weblogic.ejb20.locks.ExclusiveLockManager.lock(ExclusiveLockManager.java:259) <br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.ejb20.manager.StatefulSessionManager.acquireLock(StatefulSessionManager.java:248) <br> &#32; &#32; &#32; &#32; &#32;at weblogic.ejb20.manager.StatefulSessionManager.acquireLock(StatefulSessionManager.java</font></p>

<a name="1336193"></a><p class="table">The problem was solved by adding a new <font face="Courier">weblogic-ejb-jar.xml</font> deployment descriptor element, <font face="Courier">&lt;allow-remove-during-transaction&gt;. </font>When this element is set to true, the exception does not occur</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1351568"></a><p class="table">CR101918</p>


		</td>
		<td align="left" valign="top">
			<a name="1351584"></a><p class="table">The following error was thrown during ejb20 home methods tests, on NT with hotspot, and Native IO disabled:</p>

<a name="1351586"></a><p><font face="Courier">java.lang.IllegalStateException: zip file closed	 at java.util.zip.ZipFile.ensureOpen(ZipFile.java:377)atjava.util.zip.ZipFile.getEntry(ZipFile.java:138)at eblogic.utils.classloaders.ClasspathClassFinder.getSourcesInternal(ClasspathClassFinder.java:225)at weblogic.utils.classloaders.ClasspathClassFinder.getSource(ClasspathClassFinder.java:155)at weblogic.utils.classloaders.MultiClassFinder.getSource(MultiClassFinder.java:53)at weblogic.utils.classloaders.MultiClassFinder.getClassSource(MultiClassFinder.java:45)at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:303)at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:161)</font>weblogic.rmi.internal.BasicRuntimeDescriptor.getClientRuntimeDescriptor(BasicRuntimeDescriptor.java:526)...</p>

<a name="1351570"></a><p class="table">Analysis revealed that the problem was related to uncanceled triggers during undeployment. The following correction solved the problem:</p>


<ul type="square">
<a name="1352034"></a><p><li type="square"><font face="Courier">rmic</font> code was fixed to remove the static classloader entry in the Utilities class at the end of ejbc

<a name="1352039"></a><p><li type="square"><font face="Courier">ExecuteThread </font>was fixed to clean the contextclassloader before re-using the thread. 

<a name="1352046"></a><p><li type="square">ejb code was fixed for canceling the triggers when the cmp/bmp with exclusive concurrency was undeployed. 
</ul>

		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1352090"></a><p class="table">CR102028</p>


		</td>
		<td align="left" valign="top">
			<a name="1352092"></a><p class="table">DB QueryString was generated incorrectly when using the Oracle thin driver for Connection Pool creation. </p>


			<ol><a name="1352306"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Create a connectionPool using oracle thin driver. </font>
<a name="1352311"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Run the test case ejb20/relations/FindersTest/testStringFunctionLOCATE(). </font>
<a name="1359894"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>The above test case can be run from the ejb20/relations/finder.ts file.</font>
<a name="1359895"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Make sure the EJBs "ComputerEJB", "EmployeeEJB" and "FinderEmployeeEJB" use this connection Pool, created using thin driver. </font>
<a name="1352326"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>When this is run, we get "Invalid Character" error. </font>
			</ol>
<a name="1352341"></a><p class="table">The stack trace is</p>

<a name="1352367"></a><p class="table"><font face="Courier">javax.ejb.FinderException: Problem in findByNameEquals while preparing or executing statement: 'weblogic.jdbc.jts.PreparedStatement@55c5eb': java.sql.SQLException: ORA-00911: invalid character java.sql.SQLException: ORA-00911: invalid character at oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:134) at oracle.jdbc.ttc7.TTIoer.processError(TTIoer.java:289) at oracle.jdbc.ttc7.Oall7.receive(Oall7.java:573) at oracle.jdbc.ttc7.TTC7Protocol.doOall7(TTC7Protocol...</font></p>

<a name="1352383"></a><p class="table">THe problem was corrected with a code fix to generate the correct SQL query</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1335333"></a><p class="table">CR102180</p>


		</td>
		<td align="left" valign="top">
			<a name="1335335"></a><p class="table">In WebLogic Server SP03, <font face="Courier">ejbc</font> failed while compiling stubs and skeletons for a .jar with <font face="Courier">100 EJBs</font>. The following exception occurred:</p>

<a name="1335336"></a><p class="table"><font face="Courier"> java.io.IOException: CreateProcess: c:\VisualCafe\bin\sj.exe -classpath c:\java\java130\jre\lib\rt.jar;<br>c:\java\java130\jre\lib\i18n.jar;c:\java\java130\jre\lib\sunrsasign.jar;c:\java\java130\jre\classes;<br>c:/java/java130/lib/tools.jar;D:/weblogic/dev/src/3rdparty/jconnect/jConnect.jar;D:/weblogic/src_130sj/license;D:/weblogic/dev/src/3rdparty/oracle/816/classes12.zip;<br>D:/weblogic/src_130sj/classes;D:/weblogic/src_130sj/lib/xmlx.jar;D:/weblogic/src_130sj/lib/ejb20.jar;D:/weblogic<br>/dev/src/3rdparty/weblogicaux.jar;D:/weblogic/dev/src/3rdparty/cloudscape/lib/cloudscape.jar;D:/weblogic/src_130sj/classes_ifmx4;<br>D:/weblogic/src_130sj/classes_mssql4;D:/weblogic/src_130sj/tools;c:/java/java130/jre/lib/rt.jar;D:\raviWork\ejb...</font></p>

<a name="1335341"></a><p class="table">The problem was a result of a compiler command line length limitation. It was solved by using the <font face="Courier">javac @tempfile</font> feature, which allows file names to passed to the compiler using a temporary file. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1335343"></a><p class="table">CR102308</p>


		</td>
		<td align="left" valign="top">
			<a name="1350750"></a><p class="table">In WebLogic Server 6.1 SP04, the Administration Console reported incorrect values for waiters for entity beans. </p>

<a name="1335346"></a><p class="table">The problem was solved by adding a <font face="Courier">waiterCurrentCount</font> attribute that is incremented when a client starts waiting for a lock and decremented when the lock is acquired or the client times out. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1350717"></a><p class="table">CR103047</p>


		</td>
		<td align="left" valign="top">
			<a name="1350719"></a><p class="table">It was reported in WebLogic Server 6.1 SP03 that transaction timeouts on MDBs were not logged. When the time an MDB takes to process a message from a JMS Destination exceeds the transaction timeout limit, the transaction is rolled-back and the message is place backed on the destination for re-delivery, but no transaction-timeout or transaction-rollback messages were logged.</p>

<a name="1350816"></a><p class="table">This problem was resolved by a code change to the MDListener code to report the transaction timeouts.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1364124"></a><p class="table">CR103978</p>


		</td>
		<td align="left" valign="top">
			<a name="1364126"></a><p class="table">In WebLogic Server 6.1 SP02, a web application failed to obtain a remote object from a session under the following circumstances:</p>


			<ul><a name="1364410"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>A web application deployed on the Administration Server of Domain 1. </font>
<a name="1364415"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>An EJB was deployed to one Managed Server in a cluster in Domain 2.</font>
<a name="1364537"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>The web application did a lookup on the EJB using the URL of the Managed Server to which the EJB was deployed.</font>
<a name="1364429"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>The web application created a remote object and put it on the HttpSession</font>
<a name="1364434"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>The web application failed to obtain the remote object from the session with the following exception:</font>
			</ul>
<a name="1364439"></a><p class="table"><font face="Courier">&lt;Apr 21, 2003 11:42:47 AM PDT&gt; &lt;Error&gt; &lt;HTTP Session&gt; &lt;Error reconstructing the EJBObject put into session for name: trader java.rmi.NoSuchObjectException: Unable to locate EJBHome: 'statelessSession.TraderHome' on server: 't3://acaoclust:7001 at weblogic.ejb20.internal.HomeHandleImpl.getEJBHome(HomeHandleImpl.java :80) at weblogic.ejb20.internal.HandleImpl.getEJBObject(HandleImpl.java:179) at weblogic.servlet.internal.session.SessionData.getAttribute(SessionDat a.java:390) at jsp_servlet.__remoteejb._jspService(__remoteejb.java:119) at weblogic.servlet.jsp.JspBase.service(JspBase.java:27) at </font></p>

<a name="1364420"></a><p class="table">The error occurred because the web application used the cluster URL to get the remote EJB object from the HttpSession, although EJB was deployed to a single Managed Server, not to the cluster. </p>

<a name="1364207"></a><p class="table">A code fix solved the problem. Now the EJB Handle (HomeHandle) uses the URL of the server to which the EJB is deployed, if the EJB home is not clusterable, as specified in the EJB's <font face="Courier">home-is-clusterable</font> deployment element in the <font face="Courier">weblogic-ejb-jar.xml</font> file. The cluster URL is used only when <font face="Courier">home-is-clusterable</font> is true.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1335348"></a><p class="table">CR104414</p>


		</td>
		<td align="left" valign="top">
			<a name="1335350"></a><p class="table">In WebLogic Server 6.1 SP04, server-side <font face="Courier">ejbc</font> compilation errors resulted when the classpath was long. This error resulted:</p>

<a name="1335351"></a><p class="table"><font face="Courier">[EJBCompiler] : Compiling EJB sources Warning: UNIXProcess.forkAndExec native error: The parameter or environment lists are too long. &lt;Apr 24, 2003 2:55:27 PM GMT&gt; &lt;Error&gt; &lt;J2EE&gt; &lt;Error deploying application applicationname: Unable to deploy EJB: monitor/EMAServerManager.jar from monitor/EMAServerManager.jar: Compiler failed executable.exec(java.lang.String[javac, -nowarn, -classpath, ................................long classpath which is not shown here............................................................) <br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.ejb20.ejbc.EJBCompiler.compileEJB(EJBCompiler.java(Compiled Code)) <br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.ejb20.deployer.Deployer.runEJBC(Deployer.java(Inlined Compiled Code)) <br> &#32; &#32; &#32; &#32; &#32;at<br>weblogic.ejb20.deployer.Deployer.compileEJB(Deployer.java(Compiled Code))   </font></p>

<a name="1335352"></a><p class="table">The problem was solved by using in-line compilation by specifying the <font face="Courier">-compilerclass</font> option, and using <font face="Courier">noexit</font> instead of the <font face="Courier">callcompile</font> flag so that the compile method of the compilerclass gets called.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1351154"></a><p class="table">CR105609</p>


		</td>
		<td align="left" valign="top">
			<a name="1351156"></a><p class="table">A Null Pointer Exception was thrown when a WebLogic Server 6.1 SP04 servlet or stateless session bean invoked a stateful session bean deployed on WebLogic Server 6.1 SP02. The stack trace is: </p>

<a name="1351404"></a><p class="table"><font face="Courier">java.lang.NullPointerException at weblogic.ejb20.internal.HandleImpl.readExternal(HandleImpl.java:101) at java.io.ObjectInputStream.inputObject(ObjectInputStream.java:1212) at java.io.ObjectInputStream.readObject(ObjectInputStream.java:386) at java.io.ObjectInputStream.inputClassFields(ObjectInputStream.java:2263) at java.io.ObjectInputStream.defaultReadObject(ObjectInputStream.java:519) at java.io.ObjectInputStream.inputObject(ObjectInputStream.java:1412) at java.io.ObjectInputStream.readObject(ObjectInputStream.java:386) at java.io.ObjectInputStream.readObject(ObjectInputStream.java:236) at java.util.ArrayList.readObject(ArrayList.java:531) at java.lang.reflect.Method.invoke(Native Method) at java.io.ObjectInputStream.invokeObjectReader(ObjectInputStream.java:2214) at java.io.ObjectInputStream.inputObject(ObjectInputStream.java:1411) at java.io.ObjectInputStream.readObject(ObjectInputStream.java:386) at java.io.ObjectInputStream.readObject(ObjectInputStream.java:236) at </font></p>

<a name="1351416"></a><p class="table">Analysis revealed that the wire format of the handle is extended after WebLogic Server 6.1 SP02 to resolve handle issues related to differences for stateful session bean handles when the stub is stamped with the handle. In the case of stateless session beans, stubs are not added with handles. </p>

<a name="1351531"></a><p class="table">The problem was resolved by a code change to allow for the "no handle" case for stateless session beans.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1336258"></a><p class="table">CR106136</p>


		</td>
		<td align="left" valign="top">
			<a name="1336260"></a><p class="table">In WebLogic Server 6.1 SP04, getter methods for a EJB 1.1 CMP bean did not call <font face="Courier">isModified()</font> when <font face="Courier">delay-updates-until-end-of-tx</font> was set to false </p>

<a name="1336281"></a><p class="table">A session EJB called an entity EJB's getter methods. Both EJBs had container managed transaction with transaction attribute set to <font face="Courier">Required</font>. Each call to a getter method is followed by a call to <font face="Courier">ejbStore()</font> and <font face="Courier">delay-updates-until-end-of-tx</font> was <font face="Courier">false</font>. However, before calling <font face="Courier">ejbStore</font> on the bean the container did not call the <font face="Courier">isModified</font> method. The <font face="Courier">isModified()</font> method was only called when the transaction committed. </p>

<a name="1336353"></a><p class="table"><font face="Courier">ejbStore</font> should be called from <font face="Courier">postInvoke()</font> depending on the result of the <font face="Courier">isModified</font> method in the bean. The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1354303"></a><p class="table">CR111551 </p>


		</td>
		<td align="left" valign="top">
			<a name="1354305"></a><p class="table">In WebLogic Server 6.1 SP05, EJBC generated CMP code that caused a j<font face="Courier">ava.lang.ClassCastException: oracle.sql.BLOB</font> error.</p>

<a name="1354306"></a><p class="table">Analysis revealed that the CMP RDBMS code generated for the query was incorrect. Prior to WebLogic Server 6.1 SP05, server-side JDBC went through the RMI drive, to the pool driver, then on to the DBMS driver. Starting in WebLogic Server 6.1 SP05, the RMI driver is now only invoked in external clients. Server-side client code accesses the pool driver directly, which returns the DBMS driver BLOBs directly, not wrapped in an RMI wrapper. This change requires that code cast directly to <font face="Courier">oracle.sql.BLOB </font>instead of <font face="Courier">weblogic.jdbc.common.OracleBlob</font>.</p>

<a name="1354307"></a><p class="table">The problem was solved by correcting the EJBC to generate code that reflects the SP05 and later behavior. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361130"></a><p class="table">CR111771</p>


		</td>
		<td align="left" valign="top">
			<a name="1361132"></a><p class="table">In WebLogic Server 6.1 SP02, the database was left in inconsistent state when a bean is undeployed. The problem occurred in this invocation scenario:</p>

<a name="1361133"></a><p class="table">webApp &lt;--&gt; OuterBean &lt;--&gt; InnerBean</p>

<a name="1361134"></a><p class="table">The beans are stateless session beans, using container-managed transactions, with <font face="Courier">trans-attribute=Required</font>. OuterBean.m() inserts a row in a table, then calls InnerBean.m(), which inserts a row in a different table. Since the scenario happens within the context of a single transaction, both tables have the same number of rows. The beans are packaged in different jars. OuterBean caches the home of InnerBean and everything is deployed on a single server. InnerBean is untargeted from the server during the course of the test. In this case, the tables are left in an inconsistent state: OuterBean no longer inserts any rows in its table while InnerBean still does. </p>

<a name="1361135"></a><p class="table">Analysis revealed that when InnerBean was undeployed, <font face="Courier">TxManager.undeploy</font> rolls back in-flight transactions and marks the instance as dead, so that no further transactions can be enlisted. OuterBean and InnerBean were packaged in the same enterprise application, and calls were by reference and did go through RMI. The home and the bean are cached in OuterBean, so even after InnerBean has been undeployed, the remote methods called are serviced. After InnerBean was undeployed, when OuterBean called InnerBean.<font face="Courier">insert()</font>, there was a transaction associated with the call&#8212;the one started by OuterBean. In the preInvoke, the TxListener is set up and the transaction is register with the TxManager. While registering with the TxManager, the instance was determined to be dead, and WebLogic Server rolled back the transaction and silently return. As no transaction is enlisted, the database connection obtained within the InnerBea<font face="Courier">n.insert()</font> is not within the called transaction, so the rollback done in OuterBean has no effect on the row inserted by InnerBean&#8212;resulting in the situation where OuterBean no longer inserts any rows in its table while InnerBean still does. Silently returning, after rolling back the transaction because the bean is undeployed is the cause of the problem.</p>

<a name="1361136"></a><p class="table">The problem was solved with a code change to check the deployment status in the preInvoke of the <font face="Courier">BaseEJBManager</font>, thus preventing calls from reaching a bean that has been undeployed.   </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361203"></a><p class="table">CR115026	</p>


		</td>
		<td align="left" valign="top">
			<a name="1361205"></a><p class="table">In WebLogic Server 6.1 SP02, using MDBs listening on MQSeries, the MQSeries java threads on the WebLogic Server side were not correctly closed upon on an MQSeries failure and re-start of MQSeries. With every failure/restart the number of MQSeries AsyncThreads doubled.</p>

<a name="1361206"></a><p class="table">The problem was solved with improvements to the failure and cleanup code in <font face="Courier">JMSConnectionPoller.createJMSConnection()</font>. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1348030"></a><p class="head2">JDBC
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1347992"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1347994"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1353017"></a><p class="table">CR098343</p>


		</td>
		<td align="left" valign="top">
			<a name="1353019"></a><p class="table">JDBC connections were not returned to the pool when a transaction was distributed over two server instances. The JDBC attribute <font face="Courier">KeepXAConnTillTxComplete</font> was set to true. This sequence of events led to the problem:</p>


			<ol><a name="1353020"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Start a user transaction on one server instance 1. </font>
<a name="1353021"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Put a JMS message into a persistent queue. The JMS server and queues are on server instance 2.</font>
<a name="1353022"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Update an EJB on server instance 2. </font>
<a name="1353023"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Commit the transaction. </font>
			</ol>
<a name="1353024"></a><p class="table">No error messages were generated. The updates were performed and the message was placed in the JMS queue. However, some connections remained 'in use' in the EJB connection pool. After repeating the sequence of steps several times, the connection pool ran out of connections.</p>

<a name="1353025"></a><p class="table">The problem did not occur if the actions were executed on a single server instance, or if the JMS message was placed in the queue outside the transaction scope.</p>

<a name="1353026"></a><p class="table">The problem was solved with a code change to release the connection in the <font face="Courier">aftercompletion</font> callback. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1347996"></a><p class="table">CR099872</p>


		</td>
		<td align="left" valign="top">
			<a name="1347998"></a><p class="table">The message for the <font face="Courier">Exception during commit of transaction</font> stack trace exception contained the connection pool name, but not the data source name.   <font face="Courier">&lt;Exception during commit of transaction Xid=39:74a54046e2c2bb30(5962554),Status=Rolled back. [Reason=ja vax.transaction.xa.XAException: JDBC driver does not support XA, hence cannot be a participant in two-phase commit. To force this participation, set the EnableTwoPhaseCommit property on the corresponding JDBCTxDataSource property, to true. Pool = CatPhase1]... </font></p>

<a name="1347999"></a><p class="table">The stack trace content was enhanced to include the name of the data source.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348001"></a><p class="table">CR103046</p>


		</td>
		<td align="left" valign="top">
			<a name="1348003"></a><p class="table">When using a JDBC connection pool, issuing <font face="Courier">Statement.close()</font> did not release all resources associated with the underlying <font face="Courier">ResultSet</font>, which could lead to an <font face="Courier">OutOfMemoryError</font>. This problem occurred only when closing the <font face="Courier">Statement</font> via a connection pool. It did not occur when explicitly closing the <font face="Courier">ResultSet</font> itself, or when closing a statement while directly using the driver.</p>

<a name="1348004"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1353234"></a><p class="table">CR103299</p>


		</td>
		<td align="left" valign="top">
			<a name="1353236"></a><p class="table">This Service Pack corrects an error in the leak detection code that caused the following stack trace:</p>

<a name="1353237"></a><p class="table"><font face="Courier">[SerialConnection] : Connection Leak detected!!!!!!java.lang.Throwable:  StackTrace at creation of connection:  Start server side stack trace:<br>java.lang.Throwable: StackTrace at creation of connection:         at  weblogic.jdbc.rmi.SerialConnection.&lt;init&gt;(SerialConnection.java:47) at weblogic.jdbc.pool.Connection.writeReplace(Connection.java:1427) at java.lang.reflect.Method.invoke(Native Method)at  java.io.ObjectStreamClass.invokeMethod(ObjectStreamClass.java:1615)  at  java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:303) at  weblogic.common.internal.ChunkedObjectOutputStream.writeObject(ChunkedObjectOutputStream.java:115) at  weblogic.rjvm.MsgAbbrevOutputStream.writeObject(MsgAbbrevOutputStream .java:82) at weblogic.jdbc.common.internal.RmiDataSource_WLSkel.invoke(Unknown Source) at  weblogic.rmi.internal.BasicServerRef.invoke(BasicServerRef.java:398) at  weblogic.rmi.cluster.ReplicaAwareServerRef.invoke(ReplicaAwareServerRef.java:114)  at  weblogic.rmi.internal.BasicServerRef$1.run(BasicServerRef.java:339)  at  weblogic.security.service.SecurityServiceManager.runAs(SecurityServiceManager.java:850)  at  weblogic.rmi.internal.BasicServerRef.handleRequest(BasicServerRef.java:334) at  weblogic.rmi.internal.BasicExecuteRequest.execute(BasicExecuteRequest .java:30)at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:215) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:191) End  server side stack trace</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348006"></a><p class="table">CR103321</p>


		</td>
		<td align="left" valign="top">
			<a name="1348009"></a><p class="table">In WebLogic Server 6.1 SP04, the <font face="Courier">getConnectionsTotalCount()</font> method of <font face="Courier">JDBCConnectionPoolRuntimeMBean</font> did not behave as expected. Instead of returning the total number of JDBC connections in the pool since instantiation, it returned the maximum number of connections since instantiation.</p>

<a name="1348010"></a><p class="table">The problem was resolved with a code fix the method.    </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348012"></a><p class="table">CR103421</p>


		</td>
		<td align="left" valign="top">
			<a name="1348014"></a><p class="table">In WebLogic Server 6.1 Service Packs 3 and 4, transactions involving the <font face="Courier">BigDecimal</font> datatype threw a <font face="Courier">SQLWarning</font> exception if the transaction obtained a local DataSource before obtaining a remote DataSource. The text of the stacktrace was:</p>

<a name="1348015"></a><p class="table"><font face="Courier">java.sql.SQLException: java.sql.SQLWarning: Exhausted Resultset<br>Start server side stack trace:<br>weblogic.common.internal.WLSQLWarning: Exhausted Resultset<br>        at <br>weblogic.jdbc.common.internal.DriverProxy.getWLSQLFromSQLException(DriverProxy.java:2<br>        at <br>weblogic.jdbc.common.internal.ResultSetProxy.execute(ResultSetProxy.java:716)<br>        at weblogic.t3.srvr.ClientRequest.execute(ClientContext.java:769)<br>        at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139)<br>        at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)<br>End server side stack trace</font></p>

<a name="1348016"></a><p class="table">This problem occurred because the T3 driver always queried the remote result set for <font face="Courier">getBigDecimal()</font>, rather than querying the cached data.</p>

<a name="1348017"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1353324"></a><p class="table">CR103619</p>


		</td>
		<td align="left" valign="top">
			<a name="1353326"></a><p class="table">This Service Pack fixes a problem with the <font face="Courier">isClosed()</font> method and JTS connections. The problems were detected while running Sun's CTS for JDBC.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348019"></a><p class="table">CR106767</p>


		</td>
		<td align="left" valign="top">
			<a name="1348021"></a><p class="table">When applications try to close JDBC objects more than once, WebLogic Server now throws an exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1353338"></a><p class="table">CR108580</p>


		</td>
		<td align="left" valign="top">
			<a name="1353340"></a><p class="table">WebLogic Server failed to check for a null pool name before creating a <font face="Courier">ConnectionLeakProfile</font> object, causing the exception:</p>

<a name="1353341"></a><p class="table"><font face="Courier">java.lang.NullPointerExceptionat java.lang.String.&lt;init&gt;(String.java:193)  at weblogic.jdbc.common.internal.ConnectionLeakProfile.&lt;init&gt;(ConnectionLeakProfile.java:21)at weblogic.jdbc.rmi.internal.ConnectionImpl.unreferenced(ConnectionImpl .java:144) at weblogic.rmi.internal.BasicServerRef$UnreferencedExecuteRequest.execute(BasicServerRef.java:702) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:234        at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:210)</font></p>

<a name="1353342"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348023"></a><p class="table">CR112607</p>


		</td>
		<td align="left" valign="top">
			<a name="1348025"></a><p class="table">If the URL or password for a connection pool was incorrect, WebLogic Server 6.1 Service Pack 4 still created a new JDBC connection pool with an initial capacity of 0. The code was modified to ensure that the creation of a JDBC connection pool fails if either the URL or password are incorrect.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348027"></a><p class="table">CR120455</p>


		</td>
		<td align="left" valign="top">
			<a name="1348029"></a><p class="table">A memory leak was discovered in WebLogic Server 6.1 Service Pack 2. The leak occurred when using a TxDataSource to access a BLOB column on a database with the WebLogic XA driver. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1356371"></a><p class="table">CR120531</p>


		</td>
		<td align="left" valign="top">
			<a name="1356373"></a><p class="table">In WebLogic Server Service Pack 5, resetting a connection pool using <font face="Courier">weblogic.Admin RESET_POOL</font> (or an equivalent API) caused an exception similar to the following if a connection was already released:</p>

<a name="1356374"></a><p class="table"><font face="Courier">&lt;Aug 13, 2003 1:33:11 PM EST&gt; &lt;Error&gt; &lt;HTTP&gt; <br>&lt;[WebAppServletContext(7096795,jdbc_webapp,/jdbc_webapp)] Servlet failed with Exception java.lang.Error: 1 Was already released:weblogic.jdbc.common.internal.Connection</font></p>

<a name="1356375"></a><p class="table">After a garbage collection, the server would then display a connection leak warning:</p>

<a name="1356376"></a><p class="table"><font face="Courier">&lt;Aug 13, 2003 1:33:19 PM EST&gt; &lt;Warning&gt; &lt;JDBC&gt; &lt;A JDBC pool connection leak was detected. A Connection leak occurs when a connection obtained from the pool was not closed explicitly by calling close() and then was disposed by the garbage collector and returned to the connection pool. The following stack trace at create shows where the leaked connection was created. Stack trace at connection create:<br>        at weblogic.jdbc.pool.Connection.&lt;init&gt;(Connection.java:55)<br>        at<br>[...]</font></p>

<a name="1356377"></a><p class="table">The code was fixed to eradicate the connection leak warning; the server still correctly displays the initial exception if a connection was already released at the time the pool is reset.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1356305"></a><p class="table">CR121671</p>


		</td>
		<td align="left" valign="top">
			<a name="1356307"></a><p class="table">In WebLogic Server Service Pack 4, the <font face="Courier">weblogic.jdbc.jta.ResultSet.getType()</font> method could recursively call itself and lead to a stack overflow exception:</p>

<a name="1356308"></a><p class="table"><font face="Courier">java.lang.StackOverflowError<br>	at weblogic.jdbc.jta.ResultSet.checkIfClosed(ResultSet.java:106)<br>	at weblogic.jdbc.jta.ResultSet.getType(ResultSet.java:507)<br>	at weblogic.jdbc.jta.ResultSet.getType(ResultSet.java:508)</font></p>

<a name="1356309"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349948"></a><p class="table">CR125135</p>


		</td>
		<td align="left" valign="top">
			<a name="1349950"></a><p class="table">By default, WebLogic jDriver for Oracle/XA Data Source set the value of the <font face="Courier">oracleXATrace</font> parameter to true, rather than false. This caused the driver to create trace files of the form <font face="Courier">xa_</font><em>poolname</em><font face="Courier">*.trc</font> that could grow large over time, unless you specifically disabled trace files by setting <font face="Courier">oracleXATrace="false"</font> in <font face="Courier">config.xml</font>.</p>

<a name="1349951"></a><p class="table">The code was modified to set the default value of <font face="Courier">oracleXATrace</font> to false if no value is specified.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349944"></a><p class="table">CR125705</p>


		</td>
		<td align="left" valign="top">
			<a name="1349946"></a><p class="table">When using a JDBC MultiPool, WebLogic Server threw a resource exception to the client and failed to serve connections from a backup pool if the initial pool was fully reserved at the time of the connection attempt. The code was modified to throw a <font face="Courier">ConnectDeadException</font> instead, which the MultiPool interprets as a reason to fail over to the next pool in its list.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358679"></a><p class="table">CR127891</p>


		</td>
		<td align="left" valign="top">
			<a name="1358681"></a><p class="table">The format of the connection leak file was modified to make the information more readable.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1348202"></a><p class="head2">jDriver
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1348177"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1348179"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348634"></a><p class="table">CR104968</p>


		</td>
		<td align="left" valign="top">
			<a name="1348636"></a><p class="table">WebLogic jDriver for Oracle/XA did not properly handle the <font face="Courier">NLS_NUMERIC_CHARACTERS</font> parameter set by an Oracle RDBMS instance. This caused a <font face="Courier">java.sql.SQLException</font> when retrieving double or float values if a <font face="Courier">comma (`,') was used as a decimal separator in the database:</font></p>

<a name="1348637"></a><p class="table"><font face="Courier">java.sql.SQLException: java.lang.NumberFormatException - '1,2'<br>        at weblogic.jdbc.oci.ResultSet.getFloat(ResultSet.java:312)<br>        at weblogic.jdbc.jta.ResultSet.getFloat(ResultSet.java:190)<br>        at <br>weblogic.jdbc.rmi.internal.ResultSetImpl.getFloat(ResultSetImpl.java:224)<br>        at <br>weblogic.jdbc.rmi.internal.ResultSetStraightReader.getFloat(ResultSetStraightReader.java:67)<br>        at <br>weblogic.jdbc.rmi.SerialResultSet.getFloat(SerialResultSet.java:219)<br>        at examples.servlets.DBAccess.service(DBAccess.java:54)<br>        at <br>[...]</font></p>

<a name="1348638"></a><p class="table">The problem did not occur with the non-XA version of WebLogic jDriver for Oracle. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348644"></a><p class="table">CR107474</p>


		</td>
		<td align="left" valign="top">
			<a name="1348646"></a><p class="table">In WebLogic Server 6.1 Service Pack 3, <font face="Courier">OciObjectStream</font> did not nullify a buffer after a <font face="Courier">close()</font> was performed. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1353518"></a><p class="table">CR113462</p>


		</td>
		<td align="left" valign="top">
			<a name="1353520"></a><p class="table">WebLogic Server Service Pack 5 threw a <font face="Courier">NumberFormatException</font> when using <font face="Courier">BigDecimal</font> types in an environment with Oracle's <font face="Courier">NLS_LANG</font> setting. The problem did not occur when using Oracle's <font face="Courier">NLS_NUMERIC_CHARACTERS</font> parameter to match American-style numeric character definitions. This problem was solved with a code fix.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1348725"></a><p class="head2">JMS
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1348712"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1348714"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1353129"></a><p class="table">CR103001</p>


		</td>
		<td align="left" valign="top">
			<a name="1353131"></a><p class="table">WebLogic Server displayed an overly long exception if a server hosting a Messaging Bridge destination was unavailable. The code was fixed to display a shorter exception message.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348934"></a><p class="table">CR104538</p>


		</td>
		<td align="left" valign="top">
			<a name="1348936"></a><p class="table">A JMS deadlock was fixed by changing the <font face="Courier">BESession.java close(long lastSequenceNumber)</font> method. The deadlock could be viewed in the partial thread dump:</p>

<a name="1348937"></a><p class="table"><font face="Courier">ExecuteThread: '9' for queue: 'queue_1'" daemon prio=5 <br>tid=0x2757938 nid=0x5e waiting for monitor entry [0xce97f000..0xce97fc68]<br>	at weblogic.jms.backend.BETopic._addMessageToConsumers(BETopic.java:590)<br>	at weblogic.jms.backend.BETopic.addMessageToConsumers(BETopic.java:296)<br>	at <br>weblogic.jms.backend.BEMessageWriteListener.storeIOComplete(BEMessageWriteListener.java:85)<br>	at weblogic.jms.store.StoreRequest.execute(StoreRequest.java:342)<br>	at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139)<br>	at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)<br><br>"ExecuteThread: '14' for queue: 'queue_2'" daemon prio=5 tid=0x57b200 <br>nid=0x54 waiting for monitor entry [0xd1b7f000..0xd1b7fc68]<br>	at weblogic.jms.backend.BESession.stop(BESession.java:386)<br>	at weblogic.jms.backend.BESession.close(BESession.java:434)<br>	at weblogic.jms.backend.BESession.close(BESession.java:1083)<br>	at weblogic.jms.backend.BESession.invoke(BESession.java:1024)<br>	at <br>weblogic.jms.dispatcher.Request.wrappedFiniteStateMachine(Request.java:585)....</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349001"></a><p class="table">CR112750</p>


		</td>
		<td align="left" valign="top">
			<a name="1349003"></a><p class="table">When the server failed to send JMS messages, there was no error message on the client. The transaction manager had declared the messages unhealthy, and JMS was rolling back the messages when it failed to enlist resources.</p>

<a name="1349004"></a><p class="table">The failure to enlist the transaction is now communicated back to client, which will be able to report that the commit failed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348995"></a><p class="table">CR120619</p>


		</td>
		<td align="left" valign="top">
			<a name="1348997"></a><p class="table">When you removed all targets from a JMS Server having a JMS Template and then tried to re-target the JMS Server, WebLogic Server threw an exception:</p>

<a name="1348998"></a><p class="table"><font face="Courier">&lt;Aug 13, 2003 4:50:58 PM PDT&gt; &lt;Error&gt; &lt;JMS&gt; &lt;Failed to deploy JMS Server "server_name" due to weblogic.jms.common.JMSException: Error initializing JMSServer server_name.<br>weblogic.jms.common.JMSException: Error initializing JMSServer server_name<br>        at weblogic.jms.backend.BackEnd.initialize(BackEnd.java:448)<br>        at weblogic.jms.JMSService.createBackEnd(JMSService.java:906)<br>        at weblogic.jms.JMSService.addJMSServer(JMSService.java:1273)<br>        at weblogic.jms.JMSService.addDeployment(JMSService.java:1169)<br>        at <br>weblogic.management.mbeans.custom.DeploymentTarget.addDeployment(DeploymentTarget.java:364)<br>        at <br>weblogic.management.mbeans.custom.DeploymentTarget.addDeployment(DeploymentTarget.java:150)<br>        at java.lang.reflect.Method.invoke(Native Method)<br>[...]</font></p>

<a name="1348999"></a><p class="table">This problem occurred because the JMS service exported a temporary destination factory to the RMI runtime, and the factory reference was not removed when the factory was unbound from JNDI. The code was fixed so that the reference to the temporary destination factory is now removed when the factory is unbound. Untargeting and retargeting a JMS Server having a JMS Template no longer causes an exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349068"></a><p class="table">CR122749</p>


		</td>
		<td align="left" valign="top">
			<a name="1349070"></a><p class="table">Fixed a problem where calling <font face="Courier">EJBComponentRuntimeMBean.getEJBRuntimes()</font> caused an <font face="Courier">ASSERTION FAILED</font> error followed by an <font face="Courier">ArrayStoreException</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349876"></a><p class="table">CR123675</p>


		</td>
		<td align="left" valign="top">
			<a name="1349878"></a><p class="table">A problem in the optimization code for non-durable messages sometimes caused a destination to be nullified. This would result in the following exception while paging out messages under heavy loads:</p>

<a name="1349879"></a><p class="table">&lt;Sep 12, 2003 9:54:12 PM EDT&gt; &lt;Error&gt; &lt;Kernel&gt; &lt;BEA-000802&gt; &lt;ExecuteRequest failed<br> java.lang.NullPointerException.<br>java.lang.NullPointerException<br> at weblogic.jms.common.MessageImpl.writeExternal(MessageImpl.java:1622)<br> at <br>weblogic.jms.common.TextMessageImpl.writeExternal(TextMessageImpl.java:92)<br> at <br>weblogic.jms.store.ObjectIOBypassImpl.writeObject(ObjectIOBypassImpl.java:155)<br> at <br>weblogic.jms.store.BufferDataOutputStream.writeObject(BufferDataOutputStream.java:175)<br> at weblogic.jms.store.FileIOStream.write(FileIOStream.java:506)<br> at weblogic.jms.store.StoreRequest.doTheIO(StoreRequest.java:282)<br> at weblogic.jms.store.JMSStore.execute(JMSStore.java:493)<br> at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:197)<br> at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:170)</p>

<a name="1349880"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1349102"></a><p class="head2">JNDI
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1349079"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1349081"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349410"></a><p class="table">CR105592</p>


		</td>
		<td align="left" valign="top">
			<a name="1349412"></a><p class="table">In WebLogic Server 6.1 Service Pack 5 the server attempted to pop the environment from a <font face="Courier">ReadOnlyWrapper</font> that did not push the environment onto a thread. This caused the following <font face="Courier">AssertionError</font> and <font face="Courier">EmptyStackException</font>:</p>

<a name="1349413"></a><p class="table"><font face="Courier">java.util.EmptyStackException<br>        at weblogic.utils.collections.Stack.pop(Stack.java:82)<br>        at <br>weblogic.kernel.ResettableThreadLocalStack.pop(ResettableThreadLocalStack.java:79)<br>        at <br>weblogic.jndi.internal.ThreadEnvironment.pop(ThreadEnvironment.java:18)<br>        at weblogic.jndi.internal.WLContextImpl.close(WLContextImpl.java:72)<br>        at <br>weblogic.jndi.factories.java.ReadOnlyContextWrapper.close(ReadOnlyContextWrapper.java:30)<br>[...]<br>--------------- nested within: ------------------<br>weblogic.utils.AssertionError: ***** ASSERTION FAILED *****[ attempt to pop from an empty stack ] - with nested exception:<br>[java.util.EmptyStackException]<br>        at <br>weblogic.kernel.ResettableThreadLocalStack.pop(ResettableThreadLocalStack.java:81)<br>        at <br>weblogic.jndi.internal.ThreadEnvironment.pop(ThreadEnvironment.java:18)<br>        at weblogic.jndi.internal.WLContextImpl.close(WLContextImpl.java:72)<br>[...]</font></p>

<a name="1349414"></a><p class="table">The code was modified so that a pop is not attempted on a <font face="Courier">ReadOnlyWrapper</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349396"></a><p class="table">CR105761</p>


		</td>
		<td align="left" valign="top">
			<a name="1349398"></a><p class="table">This Service Pack includes a new JNDI caching mechanism that significantly improves the performance of JNDI lookups in the server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1353036"></a><p class="table">CR100726</p>


		</td>
		<td align="left" valign="top">
			<a name="1353038"></a><p class="table">WebLogic Server now properly logs a <font face="Courier">ClassNotFoundException</font> if you target a stateless session EJB to a single member of a WebLogic Server cluster and you fail to set <font face="Courier">home-is-clusterable</font> and <font face="Courier">stateless-bean-is-clusterable</font> to false in the deployment descriptor.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349482"></a><p class="table">CR110916</p>


		</td>
		<td align="left" valign="top">
			<a name="1349484"></a><p class="table">WebLogic Server threw an <font face="Courier">EmptyStackException</font> if a context was created in an <font face="Courier">ejbCreate()</font> method and <font face="Courier">Context.close()</font> was subsequently called in an <font face="Courier">ejbRemove()</font> method. The partial exception text is:</p>

<a name="1349485"></a><p class="table"><font face="Courier">java.util.EmptyStackException<br>        at weblogic.utils.collections.Stack.pop(Stack.java:82)<br>        at <br>weblogic.kernel.ResettableThreadLocalStack.pop(ResettableThreadLocalStack.java:79)<br>        at <br>weblogic.jndi.internal.ThreadEnvironment.pop(ThreadEnvironment.java:18)<br>        at weblogic.jndi.internal.WLContextImpl.close(WLContextImpl.java:72)<br>        at javax.naming.InitialContext.close(InitialContext.java:476)<br>        [...]</font></p>

<a name="1349486"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1348059"></a><p class="head2">JSP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1348367"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1348369"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348371"></a><p class="table">CR088525</p>


		</td>
		<td align="left" valign="top">
			<a name="1348373"></a><p class="table">In previous WebLogic Server 6.1 Service Packs, JSP parameters with a value of "/////" were interpreted by <font face="Courier">getParameter()</font> as having the value "/".</p>

<a name="1348374"></a><p class="table">The problem was resolved with a code change. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348376"></a><p class="table">CR092039</p>


		</td>
		<td align="left" valign="top">
			<a name="1348378"></a><p class="table">WebLogic Server threw an <font face="Courier">UnsupportedEncodingException</font> if you included extra quotation marks around the charset value of a JSP. For example, the following tag would yield the exception:</p>

<a name="1348379"></a><p class="table"><font face="Courier">&lt;%@ page contentType="text/html; charset=\"Shift_JIS\"" %&gt;</font></p>

<a name="1348380"></a><p class="table">The problem was resolved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348382"></a><p class="table">CR093014</p>


		</td>
		<td align="left" valign="top">
			<a name="1348384"></a><p class="table">In WebLogic Server 6.1 SP02, Java comments that start in one scriptlet and end in the next one, cause this exception:</p>

<a name="1348385"></a><p class="table"><font face="Courier">&lt;22.07.2002 14:12:24 CEST&gt; &lt;Error&gt; &lt;HTTP&gt; &lt;[WebAppServletContext(7422744,DefaultWebApp,/DefaultWebApp)] Servlet failed with Exception weblogic.servlet.jsp.JspException: (line 12): scriptlet close brace '}' unbalanced at line 12 which breaks scope '_base_service_scope_' at weblogic.servlet.jsp.ScriptletScopeLexer.mCLOSE_BRACE(ScriptletScopeLexer.java:527) at weblogic.servlet.jsp.ScriptletScopeLexer.mTOKEN(ScriptletScopeLexer.java:232) at weblogic.servlet.jsp.ScriptletScopeLexer.nextToken(ScriptletScopeLexer.java:159) at weblogic.servlet.jsp.ScriptletScopeLexer.parse(ScriptletScopeLexer.java:119) at weblogic.servlet.jsp.JspLexer.mSCRIPT(JspLexer.java:4367) at weblogic.servlet.jsp.JspLexer.mSTANDARD_THING(JspLexer.java:2173) at .... </font></p>

<a name="1348386"></a><p class="table">The problem was resolved by a code fix to the make the <font face="Courier">ScriptletScopeLexer</font> to skip an entire Java comment.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348388"></a><p class="table">CR093520</p>


		</td>
		<td align="left" valign="top">
			<a name="1348390"></a><p class="table">When you precompiled JSPs on a machine in one time zone, and then deployed those same JSPs on a server in a different time zone, WebLogic Server sometimes re-compiled the JSPs. This occurred because WebLogic Server checked JSPs by comparing the local timestamp of the JSPs (as embedded by the JAR utility) against the timestamps in the generated class files.</p>

<a name="1348391"></a><p class="table">The problem was resolved by storing the time zone at compile time and using that time zone at deployment time to determine whether recompilation is necessary.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349566"></a><p class="table">CR100823</p>


		</td>
		<td align="left" valign="top">
			<a name="1349568"></a><p class="table">If you refreshed a JSP with a copy, and the copy did not parse correctly, WebLogic Server entered a deadlock condition. The problem involved two separate deadlocks. The deadlocks were removed by throwing and evaluating an exception in the JSP stub level, and by removing unnecessary synchronization of threads in <font face="Courier">getJarFiles()</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349574"></a><p class="table">CR102628</p>


		</td>
		<td align="left" valign="top">
			<a name="1349576"></a><p class="table">The following JSP code:</p>

<a name="1349577"></a><p class="table"><font face="Courier">&lt;jsp:plugin type="applet" code="examples.applets.PhoneBook1.class" codebase="/bea_WebLogic Server_internal/classes/DefaultWebApp@DefaultWebApp/" height="800" width="500" type="applet" jreversion="1.3.1_06" nspluginurl="http://java.sun.com/products/plugin/1.1.3/plugin-install.html"; iepluginurl="http://java.sun.com/products/plugin/1.1.3/ jinstall-113-win32.cab#Version=1,1,3,0" &gt;</font></p>

<a name="1349578"></a><p class="table">generated this HTML:</p>

<a name="1349579"></a><p class="table"><font face="Courier">&lt;embed type="application/x-java-applet;version=1.3.1_06" pluginspage="http://java.sun.com/products/plugin/1.1.3/plugin-install.html"; height="800" width="500" code="examples.applets.PhoneBook1.class" codebase="/bea_WebLogic Server_internal/classes/DefaultWebApp@DefaultWebApp/"&gt;</font></p>

<a name="1349580"></a><p class="table">The generated HTML code failed on Netscape: Netscape attempted to download the plug-in from WebLogic Server instead from the SUN site.</p>

<a name="1349581"></a><p class="table">When the plugins page line was moved before the codebase line, the code worked correctly on Netscape.</p>

<a name="1349582"></a><p class="table">A code fix to order the applet attributes properly resolved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349592"></a><p class="table">CR103214</p>


		</td>
		<td align="left" valign="top">
			<a name="1349594"></a><p class="table">When you set the <font face="Courier">compilerclass</font> JSP parameter, WebLogic Server logged a <font face="Courier">compilerclass=null</font> message in the startup log, as in:</p>

<a name="1349595"></a><p class="table"><font face="Courier">JSPServlet with initArgs '[JspConfig: <br>verbose=true,packagePrefix=jsp_servlet,-compiler= C:\61sp4\jdk131/bin/javac,compileFlags=,workingDir=C:\61sp4\wlserver6.1\config\examples\applications\ examplesWebApp\WEB-INF\_tmp_war_examples_examplesWebApp,pageCheckSeconds=1,superclass=weblogic.servlet.jsp. JspBase,keepgenerated=false,precompileContinue=false, compilerSupportsEncoding=true,encoding=null,defaultfilename=index.jsp,compilerclass= null,noTryBlocks=false]'&gt;</font></p>

<a name="1349596"></a><p class="table">The problem occurred because the setting of <font face="Courier">compilerclass</font> was not used during startup. The correct setting was used for compiling JSPs. The code was fixed to obtain the correct parameter value during server startup.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1360349"></a><p class="table">CR105229</p>


		</td>
		<td align="left" valign="top">
			<a name="1360351"></a><p class="table">WebLogic Server could fail to evaluate empty BodyTags, causing the exception:</p>

<a name="1360352"></a><p class="table"><font face="Courier">&lt;ExecuteThread: '14' for queue: 'weblogic.kernel.Default'&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; <br>&lt;BEA-101017&gt; <br>&lt;[ServletContext(id=12216222,name=xmlxTestApp,context-path=/xmlxTestApp)] <br>Root cause of ServletException.<br>javax.servlet.jsp.JspException: Could not find file: <br>java.io.FileNotFoundException: Could not find appropriate xml file<br>	at weblogicx.xml.tags.XsltTag.doEndTag(XsltTag.java:280)<br>	at jsp_servlet.__xsltprocessor._jspService(__xsltprocessor.java:195)<br>	at weblogic.servlet.jsp.JspBase.service(JspBase.java:33)<br>	at <br>weblogic.servlet.internal.ServletStubImpl$ServletInvocationAction.run(ServletStubImpl.java:1053)<br>	at <br>weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:387)<br>	at <br>weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:305)<br>	at <br>weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:6304)<br>	at <br>weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:317)<br>	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:118)<br>	at <br>weblogic.servlet.internal.WebAppServletContext.invokeServlet(WebAppServletContext.java:361<br>[...]</font></p>

<a name="1360353"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349660"></a><p class="table">CR105772</p>


		</td>
		<td align="left" valign="top">
			<a name="1349662"></a><p class="table">WebLogic Server displayed a JSP parsing error if a JSP used a tag library that specified an empty body tag using an empty element tag, as in:</p>

<a name="1349663"></a><p class="table"><font face="Courier">&lt;%@taglib uri="/problem-taglib" prefix="c" %&gt;<br>&lt;html&gt;<br>&lt;head&gt;&lt;title&gt;Problem scenario&lt;/title&gt;&lt;/head&gt;<br>&lt;body&gt;<br>&lt;table border="1"&gt;&lt;tr&gt;&lt;th&gt;Local file content&lt;/th&gt;<br>&lt;th&gt;Included file content&lt;/th&gt;&lt;/tr&gt;<br>&lt;tr&gt;<br>   &lt;td&gt;Cell containing data from the original JSP&lt;/td&gt;<br>   &lt;td&gt;&lt;c:import url="IncludedResource.jsp" /&gt;&lt;/td&gt;<br>&lt;/tr&gt;<br>&lt;/table&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;</font></p>

<a name="1349664"></a><p class="table">The problem did not occur if a closing element tag was added to the empty body content, as in:</p>

<a name="1349665"></a><p class="table">   <font face="Courier">&lt;td&gt;Cell containing data from the original JSP&lt;/td&gt;<br>   &lt;td&gt;&lt;c:import url="IncludedResource.jsp" &gt;&lt;/c:import&gt;&lt;/td&gt;</font></p>

<a name="1349666"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349672"></a><p class="table">CR106072</p>


		</td>
		<td align="left" valign="top">
			<a name="1349674"></a><p class="table">The <font face="Courier">pageCheckSeconds</font> attribute, which sets the interval, in seconds, at which WebLogic Server checks to see if JSP files have changed and need recompiling, did not work the first time a JSP was modified.</p>

<a name="1349675"></a><p class="table">This problem occurred because WebLogic Server did not set a <font face="Courier">lastStaleCheck</font> time the first time a JSP was invoked.</p>

<a name="1349676"></a><p class="table">The code was modified so that if <font face="Courier">lastStaleCheck</font> is not set yet, it is set to the current time. This prevents the JSP from being recompiled unnecessarily. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349740"></a><p class="table">CR107042</p>


		</td>
		<td align="left" valign="top">
			<a name="1349742"></a><p class="table">If you specified <font face="Courier">com.sun.tools.javac.Main</font> as the value of the JSP <font face="Courier">compilerclass</font> parameter, WebLogic Server would suddenly exit when you accessed the JSP. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1360432"></a><p class="table">CR111423</p>


		</td>
		<td align="left" valign="top">
			<a name="1360434"></a><p class="table">When packaged in a WAR file, precompiled JSPs stored in a sub-context of the application were always recompiled upon deployment to WebLogic Server. This problem did not occur when JSPs were deployed from an exploded archive directory, or for JSPs in the root-context of a WAR file.</p>

<a name="1360435"></a><p class="table">The problem was caused because of a difference in the rounding behavior of timestamps used in the <font face="Courier">jar</font> and <font face="Courier">zip</font> formats. The discrepancy in rounding could cause an older timestamp (by one second) to be recorded in class files inside the WAR file, triggering the server to recompile the classes.</p>

<a name="1360436"></a><p class="table">The code was modified to advance the timestamps in compiled JSP classes by one second, thereby preventing JSPs from being recompiled.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1350069"></a><p class="table">CR120914</p>


		</td>
		<td align="left" valign="top">
			<a name="1350071"></a><p class="table">When you used the WebLogic Server form validation tag library, request parameters were not available to subsequent JSPs. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358848"></a><p class="table">CR127515</p>


		</td>
		<td align="left" valign="top">
			<a name="1358850"></a><p class="table">In WebLogic Server 6.1 SP02 a <font face="Courier">javac</font> error message through <font face="Courier">weblogic.jspc</font> was corrupt in Japanese installation. The problem was corrected by a code change to use <font face="Courier">InputStreamReader</font> instead of <font face="Courier">DataInputStream.</font></p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1348072"></a><p class="head2">JTA
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1348063"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1348065"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1349807"></a><p class="table">CR082504</p>


		</td>
		<td align="left" valign="top">
			<a name="1349809"></a><p class="table">When using the Sybase jConnect/XA Driver, connections were not reusable after being returned to the connection pool. This would cause the following exception, after all available connections in the pool were used:</p>

<a name="1349810"></a><p class="table"><font face="Courier">XA error: XAER_RMERR : A resource manager error has occured in the <br>transaction branch start() failed on resource 'ZeusPool': XAER_RMERR : A <br>resource manager error has occured in the transaction branch <br>javax.transaction.xa.XAException </font></p>

<a name="1349811"></a><p class="table">The problem occurred because Sybase initiates a local transaction for DDL calls, and the transaction was not cleaned up when the connection was returned to the pool.</p>

<a name="1349812"></a><p class="table">The connection cleanup code was fixed to end the local Sybase transaction generated by DDL calls.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1352856"></a><p class="table">CR091192</p>


		</td>
		<td align="left" valign="top">
			<a name="1352858"></a><p class="table">This Service Pack includes an enhancement to recover transactional resource managers immediately, rather than wait five minutes before recovery.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1352937"></a><p class="table">CR091974</p>


		</td>
		<td align="left" valign="top">
			<a name="1352939"></a><p class="table">If XA recovery did not return an XID, WebLogic Server 6.1 Service Pack 3 could throw a <font face="Courier">NullPointerException</font>:</p>

<a name="1352940"></a><p class="table"><font face="Courier">java.lang.NullPointerException<br>        at<br>weblogic.transaction.internal.ServerResourceInfo.rollback(ServerResourceInfo.java:721)<br>        at<br>weblogic.transaction.internal.ServerSCInfo.rollback(ServerSCInfo.java:318)<br>        at<br>weblogic.transaction.internal.ResourceDescriptor.rollbackXids(ResourceDescriptor.java:1160)<br>        at<br>weblogic.transaction.internal.ResourceDescriptor.recover(ResourceDescriptor.java:1060)<br>        at<br>weblogic.transaction.internal.ResourceDescriptor.access$9(ResourceDescriptor.java:1029)<br>        at<br>weblogic.transaction.internal.ResourceDescriptor$1.execute(ResourceDescriptor.java:770)<br>        at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139)<br>        at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)</font></p>

<a name="1352941"></a><p class="table">The code was modified to check for the presence of an XID and prevent the exception from occurring.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1353005"></a><p class="table">CR098273</p>


		</td>
		<td align="left" valign="top">
			<a name="1353007"></a><p class="table">Stale entries in the transaction log sometimes caused unnecessary recovery overhead when a server is restarted. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1353310"></a><p class="table">CR103327</p>


		</td>
		<td align="left" valign="top">
			<a name="1353312"></a><p class="table">After a transaction has timed out, two threads could try to roll back the same transaction ID, resulting in an error similar to:</p>

<a name="1353313"></a><p class="table"><font face="Courier">XA.end FAILED (rm=pool_name, xar=pool_name, error code: XAER_RMERR : A resource manager error has occured in the transaction branch, message: null&gt; <br>oracle.jdbc.xa.OracleXAException<br> at oracle.jdbc.xa.OracleXAResource.checkError(OracleXAResource.java:659)<br> at oracle.jdbc.xa.client.OracleXAResource.end(OracleXAResource.java:305)<br> at weblogic.jdbc.jta.VendorXAResource.end(VendorXAResource.java:47)</font></p>

<a name="1353314"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1348067"></a><p class="table">CR103601</p>


		</td>
		<td align="left" valign="top">
			<a name="1348069"></a><p class="table">In WebLogic Server 6.1 SP03 and SP04, if an object passed in the "equals" method of <font face="Courier">weblogic.transaction.internal.XidImpl</font> is not an instance of <font face="Courier">XidImpl </font>(for instance, it is of type <font face="Courier">String</font>), then this exception is thrown:</p>

<a name="1348070"></a><p class="table"><font face="Courier">java.lang.ClassCastException: java.lang.String at weblogic.transaction.internal.XidImpl.equals(XidImpl.java:114) at test.main(test.java:9) </font></p>

<a name="1348071"></a><p class="table">The problem was solved with a code fix to check and report type mismatches.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1360500"></a><p class="table">CR113226</p>


		</td>
		<td align="left" valign="top">
			<a name="1360502"></a><p class="table">When a resource name contained more than 64 characters, WebLogic Server 6.1 Service Pack 4 could throw the following exception when testing the connection pool:</p>

<a name="1360503"></a><p class="table"><font face="Courier">java.sql.SQLException: XA error: XAER_RMERR : A resource manager error has occured in the transaction branch start() failed on resource <br>'weblogic.jdbc.jta.DataSource' null<br>	at weblogic.jdbc.jta.DataSource.enlist(DataSource.java:1167)<br>	at weblogic.jdbc.jta.DataSource.refreshXAConnAndEnlist(DataSource.java:1133)<br>	at weblogic.jdbc.jta.Connection.getXAConn(Connection.java:153)<br>	at weblogic.jdbc.jta.Connection.prepareStatement(Connection.java:241)<br>[...]</font></p>

<a name="1360504"></a><p class="table">The problem occurred because only the first 64 characters were tested for uniqueness. The code was modified to properly handle resource names longer than 64 characters.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1350019"></a><p class="table">CR126201</p>


		</td>
		<td align="left" valign="top">
			<a name="1350021"></a><p class="table">In a multiple-server domain, if a Managed Server was rebooted to use a different address or port number, the JTA subsystem failed to update the address information. This would cause the following exception when the changed server was rebooted:</p>

<a name="1350022"></a><p class="table"><font face="Courier">javax.naming.CommunicationException.  Root exception is <br>java.net.ConnectException: t3://ip_address:port_number: Destination unreachable; <br>nested exception is: <br>	java.net.ConnectException: Connection refused; No available router to destination<br>[...]</font></p>

<a name="1350023"></a><p class="table">The code was fixed to obtain new address information from the Administration Server in response to an address or port change.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1357300"></a><p class="head2">Node Manager
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1357303"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1357305"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1364017"></a><p class="table">CR104285</p>


		</td>
		<td align="left" valign="top">
			<a name="1364019"></a><p class="table">Node Manager's shared object code could cause a segment violation if certain code paths were taken while starting a server instance. The same code paths also failed when using IBM's zLinux JDK. These problems were solved with a code fix to Node Manager.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357713"></a><p class="table">CR125829</p>


		</td>
		<td align="left" valign="top">
			<a name="1357716"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03_42.00.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03_42.00.jsp</a>.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1345238"></a><p class="head2">OA&amp;M (Operations, Administration, and Management)
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1361225"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1361227"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361229"></a><p class="table">CR090118</p>


		</td>
		<td align="left" valign="top">
			<a name="1361231"></a><p class="table">In WebLogic Server 6.1 SP03 and later, temporary directories created by the Administration Console deployment descriptor editor in under the <font face="Courier">bea\wlserver6.1</font> directory with name <font face="Courier">jarxxxx</font> (for example, <font face="Courier">bea\wlserver6.1\jar7018</font>) were not deleted. </p>

<a name="1361232"></a><p class="table">Analysis revealed that the temporary directories were not deleted because of a open file stream on an inner file.</p>

<a name="1361233"></a><p class="table">The problem was resolved with a code change. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361235"></a><p class="table">CR093653</p>


		</td>
		<td align="left" valign="top">
			<a name="1361237"></a><p class="table">In WebLogic Server 6.1 SP04, updates to an exploded web application that was deployed to a Managed Server were reflected in the exploded application staged on the Managed Server, but not in the .war file in the <font face="Courier">.wlnotdelete</font> directory. After server restart the old version of the application was deployed. </p>

<a name="1361238"></a><p class="table">Refreshing the application using <font face="Courier">weblogic.refresh</font> caused the updated .jsp to be copied into the exploded application format staged on the Managed Server, but not the original version of the .war. </p>

<a name="1361239"></a><p class="table">The problem was resolve by a code change to remove the application entry from the local deployment file.</p>

<pre><a name="1361240"></a>As a result of this change, the latest version of an application is copied from its source 
to a Managed Server's staging area when the Managed Server is restarted after a 
refresh. 
</pre>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361242"></a><p class="table">CR093687</p>


		</td>
		<td align="left" valign="top">
			<a name="1361244"></a><p class="table">In WebLogic Server SP03, a startup class that created a dynamic connection pool and targets it to a server instance, caused the server to hang, when LoadBeforeAppDeployments=true for startup class. No exception was reported.</p>

<a name="1361245"></a><p class="table">Analysis revealed a synchronization problem, which was corrected with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361247"></a><p class="table">CR095967</p>


		</td>
		<td align="left" valign="top">
			<a name="1361249"></a><p class="table">In WebLogic Server SP03 and SP04, when a Managed Server and Administration Server were shutdown at the same time, the Managed Server tried to reconnect to the Administration Server. </p>

<a name="1361250"></a><p class="table">The problem was solved with a code change to ensure that Managed Servers do not attempt reconnect to the Administration Server while in shutdown or suspend modes. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361252"></a><p class="table">CR097152 </p>


		</td>
		<td align="left" valign="top">
			<a name="1361254"></a><p class="table">In WebLogic Server SP03 and SP04, restarting the Administration Server resulted in the error:</p>

<a name="1361255"></a><p class="table"><font face="Courier">Admin restart causes java.rmi.ConnectException: This RJVM has already been shutdown. </font></p>

<a name="1361256"></a><p class="table">The issue was consistently reproduced using these steps:</p>


			<ol><a name="1361257"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Configure a cluster such that the cluster instances on at least two machines. </font>
<a name="1361258"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Deploy a sample EJB and target to cluster. </font>
<a name="1361259"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Now restart the Admin server.</font>
<a name="1361260"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Now go to console and untarget the EJB from cluster, apply and then retarget the EJB to cluster and Apply the changes. </font>
			</ol>
<a name="1361261"></a><p class="table">The problem occurred because w<font face="Courier">eblogic.management.internal.MBeanProxy</font> was using a stale stub of <font face="Courier">AdminMBeanHome</font>, because the Administration Server was restarted and the <font face="Courier">AdminMBeanHome</font> object instance (Dynamic Proxy Stub) was no longer valid. </p>

<a name="1361262"></a><p class="table">The problem was solved with a code change. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361264"></a><p class="table">CR099973</p>


		</td>
		<td align="left" valign="top">
			<a name="1361266"></a><p class="table">In WebLogic Server 6.1 Service Pack 3, using the <font face="Courier">UpdateLicense</font> utility with the <font face="Courier">license_update_file</font> failed to properly update the license file. This lead to the following exception when booting the server:</p>

<a name="1361267"></a><p class="table"><font face="Courier">$$$$$$$$$$$$$$$$  License Exception $$$$$$$$$$$$$$$$<br><br>Unable to start WebLogic Server !!<br>WebLogic: license signature validation error!</font></p>

<a name="1361268"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361270"></a><p class="table">CR102593</p>


		</td>
		<td align="left" valign="top">
			<a name="1361272"></a><p class="table">In WebLogic Server 6.1 SP04, a <font face="Courier">ClassCastException</font> occurred when retrieving <font face="Courier">ServletSessionRuntimeMBean.</font></p>

<a name="1361273"></a><p class="table">The problem was exhibited in a two-node cluster, on which an application retrieves the array of <font face="Courier">ServletSessionRuntimeMBean</font>s from the <font face="Courier">WebAppComponentRuntime</font> of each cluster node, for use in determining whether a a particular user has already logged on to one of the two nodes. </p>

<a name="1361274"></a><p class="table">The call sequence is as follows: </p>


			<ol><a name="1361275"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>call:node1 ---&gt; test.jsp (HTTP Session is created) </font>
<a name="1361276"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>call:node2 ---&gt; submit data from test.jsp (via GET) to /ctrl/* Servlet </font>
			</ol>
<a name="1361277"></a><p class="table">Repeating this call sequence several times in the same HTTP session leads to a <font face="Courier">ClassCastException</font> in the <font face="Courier">WebAppComponentRuntime.getServletSessions()</font> method:</p>

<a name="1361278"></a><p class="table"><font face="Courier">ClassCastException: java.lang.ClassCastException: $Proxy79 at weblogic.servlet.internal.session.SessionData.getServletSessionRuntimeMBean(SessionData.java:271) at weblogic.servlet.internal.session.SessionContext.getServletSessionRuntimeMBean(SessionContext.java:199) at weblogic.servlet.internal.session.SessionContext.getServletSessionRuntimeMBeans(SessionContext.java:216) at weblogic.servlet.internal.WebAppServletContext.getServletSessionRuntimeMBeans(WebAppServletContext.java:2442) at weblogic.servlet.internal.WebAppRuntimeMBeanImpl.getServletSessions(WebAppRuntimeMBeanImpl.java:126) at java.lang.reflect.Method.invoke(Native Method) at...</font></p>

<a name="1361279"></a><p class="table">The problem occurred because <font face="Courier">ServletSessionRuntimeMBean</font> was cast incorrectly to the implementation&#8212;<font face="Courier">ServletSessionRuntimeMBeanImpl</font> in <font face="Courier">SessionData.java.</font></p>

<a name="1361280"></a><p class="table">The problem was solved with a code change.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1364751"></a><p class="table">CR102860</p>


		</td>
		<td align="left" valign="top">
			<a name="1364753"></a><p class="table">This release solves a JMX memory leak. The leak was detected running load tests on WebLogic Server 6.1 SP02. When running JMX for several days, the heap consumption after garbage collection grew from 17 to 40 MB. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361282"></a><p class="table">CR103735</p>


		</td>
		<td align="left" valign="top">
			<a name="1361284"></a><p class="table">In WebLogic Server SP03, if the domain and a cluster in the domain have the same name, duplicate entries appear for the Targets attribute in the domain's <font face="Courier">config.xml</font> file. The following was observed: </p>

<a name="1361285"></a><p class="table">When an application was first targeted to the cluster through the console, there were no problems, and the target was correctly reflected in <font face="Courier">config.xml</font>.</p>

<a name="1361286"></a><p class="table">After restarting the Administration Server, the Administration Console did not show that the application was targeted to the cluster, and a Managed Server in the cluster did not show the application as bound in its JNDI tree. The target was still correctly reflected in <font face="Courier">config.xml</font>.</p>

<a name="1361287"></a><p class="table">After the user re-targeted the application to the cluster using the Administration Console, <font face="Courier">config.xml</font> showed the cluster name twice in its Targets attribute. </p>

<a name="1361288"></a><p class="table"><font face="Courier">&lt;Application Deployed="true" Name="seb" Path=".\config\rom\applications"&gt; &lt;WebAppComponent Name="seb" Targets="rom,rom" URI="seb.war"/&gt; &lt;/Application&gt; </font></p>

<a name="1361289"></a><p class="table">The problem occurred because, in any version of WebLogic Server, all targets domains, clusters, servers, virtual hosts) must have unique names.</p>

<a name="1361290"></a><p class="table">The problem was solved with a code change to modify t<font face="Courier">weblogic.managment.internal.UnresolvedMBean.java </font>to ignore the <font face="Courier">DomainMBean</font> when resolving in the case where the attribute is a target. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361292"></a><p class="table">CR105338</p>


		</td>
		<td align="left" valign="top">
			<a name="1361294"></a><p class="table">In WebLogic Server SP03, WebLogic Server stops logging, on both Administration Server and Managed Servers, when the maximum number of files is reached.</p>

<a name="1361295"></a><p class="table">After the following error messages are printed out to the domain log file, the server logging service is shutdown.</p>

<a name="1361296"></a><p class="table"><font face="Courier">####&lt;Apr 21, 2003 3:17:39 PM GMT+09:00&gt; &lt;Alert&gt; &lt;Log Management&gt; &lt;KESATO01&gt; &lt;myserver&gt; &lt;ExecuteThread: '10' for queue: 'weblogic.kernel.Default'&gt; &lt;&lt;anonymous&gt;&gt; &lt;&gt; &lt;BEA-170017&gt; &lt;The log file .\myserver\myserver.log will be rotated. Reopen the log file if tailing has stopped. This can happen on some platforms like Windows.&gt; ####&lt;Apr 21, 2003 3:17:40 PM GMT+09:00&gt; &lt;Critical&gt; &lt;Logging&gt; &lt;KESATO01&gt; &lt;myserver&gt; &lt;ExecuteThread: '10' for queue: 'weblogic.kernel.Default'&gt; &lt;&lt;anonymous&gt;&gt; &lt;&gt; &lt;000000&gt; &lt;Handler: 'C:\bea81ga\mydomain\myserver\myserver.log' raised several exceptions. Shutting it down&gt; ####&lt;Apr 21, 2003 3:17:40 PM GMT+09:00&gt; &lt;Error&gt; &lt;Logging&gt; &lt;KESATO01&gt; &lt;myserver&gt; &lt;ExecuteThread: '10' for queue: 'weblogic.kernel.Default'&gt; &lt;&lt;anonymous&gt;&gt; &lt;&gt; &lt;000000&gt; &lt;Handler: 'C:\bea81ga\mydomain\myserver\myserver.log' raised exception when opening. Exception weblogic.logging.LogRotationException null&gt; ####&lt;Apr 21, 2003 3:17:40 PM GMT+09:00&gt; &lt;Error&gt; &lt;Logging&gt; &lt;KESATO01&gt; &lt;myserver&gt; &lt;ExecuteThread: '10' for queue: 'weblogic.kernel.Default'&gt; &lt;&lt;anonymous&gt;&gt; &lt;&gt; &lt;000000&gt; &lt;Handler: 'C:\bea81ga\mydomain\myserver\myserver.log' raised exception when opening. Exception weblogic.logging.LogRotationException null&gt; </font></p>

<a name="1361297"></a><p class="table">If the problem occurs, all log messages are not printed out to the server log file. This problem occurs on the admin server and the managed server</p>

<a name="1361298"></a><p class="table">Analysis revealed that WebLogic Server closed log files during rotation and, if log rotation failed, the log files would remain closed.</p>

<a name="1361299"></a><p class="table">Log Rotation failed when WebLogic Server generated the wrong index for the new log file. Since it assumed that the file that had the latest time stamp is the latest index. It never checked to see if a file with the index already existed. WebLogic Server did not attempt to delete the log file if the log file already existed and did not check to see if the <font face="Courier">rename()</font> was successful. </p>

<a name="1361300"></a><p class="table">In addition, for time based log rotation, on multi-CPU machines, multiple rotations happened within the same millisecond. The problems were changed with code fixes. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361329"></a><p class="table">CR108448	</p>


		</td>
		<td align="left" valign="top">
			<a name="1361331"></a><p class="table">In WebLogic Server 6.1 SP05 restart of a Managed Server resulted in a warning. The Administration Server and Managed Server were running, and the Managed Server was shutdown. The Administration Server showed that the Managed Server was not running. Upon restarting the Managed Server, this warning was issued:</p>

<a name="1361332"></a><p class="table"><font face="Courier"> &lt;Warning&gt; &lt;Management&gt; &lt;c4wlg001&gt; &lt;node001&gt; &lt;ExecuteThread: '1' for queue: '__weblogic_admin_rmi_queue'&gt; &lt;system&gt; &lt;&gt; &lt;141029&gt; &lt;Unable to reconnect to Admin Server running at http://c4wlg001:7001 from Managed Server - node001.&gt; weblogic.management.configuration.ConfigurationException: Server: node001 is already running. at weblogic.management.Admin.registerManagedHome2AdminHome(Admin.java:1679) at weblogic.management.Admin.reconnectToAdminServer(Admin.java:1637) at weblogic.t3.srvr.ServerRuntime.reconnectToAdminServer(ServerRuntime.java:413) at java.lang.reflect.Method.invoke(Native Method) at weblogic.management.internal.DynamicMBeanImpl.invokeLocally(DynamicMBeanImpl.java:636) at weblogic.management.internal.DynamicMBeanImpl.invoke(DynamicMBeanImpl.java:621) at... </font></p>

<a name="1361333"></a><p class="table">The Managed Server starts successfully. </p>

<a name="1361334"></a><p class="table">Analysis revealed that a error check was performed at an inappropriate point, preventing the JNDI tree to be appropriately updated. The problem was corrected by a code fix. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361302"></a><p class="table">CR108727 </p>


		</td>
		<td align="left" valign="top">
			<a name="1361304"></a><p class="table">In WebLogic Server SP04, running with CR071109_610sp2.jar, an Administration Server started with the command-line options:</p>

<a name="1361305"></a><p class="table"><font face="Courier">weblogic.management.discover.interval = 60 </font></p>

<a name="1361306"></a><p class="table"><font face="Courier">weblogic.management.discover.retries = 6 </font></p>

<a name="1361307"></a><p class="table"><font face="Courier">weblogic.management.internal.debug = true </font></p>

<a name="1361308"></a><p class="table">after a failure, (java.rmi.ConnectException is thrown) managed servers were discovered and re-connected successfully, but an <font face="Courier">OutOfMemoryError</font> occurred. </p>

<a name="1361309"></a><p class="table">Subsequently, MBean invocations on managed servers failed with this exception:</p>

<a name="1361310"></a><p class="table"><font face="Courier">java.rmi.NoSuchObjectException: RemoteInvokable - id: '267' </font></p>

<a name="1361311"></a><p class="table">Analysis revealed that <font face="Courier">ManagedServerReDiscoveryChecker</font> thread had stopped running, causing Managed Servers not to be discovered. The problem was solved with a change to retry logic to ensure that the discovery thread always runs when needed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361313"></a><p class="table">CR127860</p>


		</td>
		<td align="left" valign="top">
			<a name="1361315"></a><p class="table">In WebLogic Server 6.1 SP05, shutdown classes were not called on Managed Servers when the Administration Server was not running. The following exception was thrown:</p>

<a name="1361316"></a><p class="table"><font face="Courier">&lt;29.10.2003 10:48:16 CET&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;Started WebLogic Managed Server "managed1" for domain "mydomain" running in Production Mode&gt; <br>&lt;29.10.2003 10:49:54 CET&gt; &lt;Alert&gt; &lt;WebLogicServer&gt; &lt;The disabling of server logins has been requested by system&gt; <br>&lt;29.10.2003 10:49:54 CET&gt; &lt;Alert&gt; &lt;WebLogicServer&gt; &lt;Server logins have been disabled.&gt; <br>&lt;29.10.2003 10:49:54 CET&gt; &lt;Alert&gt; &lt;WebLogicServer&gt; &lt;Server shutdown has been requested by system&gt; <br>&lt;29.10.2003 10:49:54 CET&gt; &lt;Alert&gt; &lt;WebLogicServer&gt; &lt;The shutdown sequence has been initiated.&gt; &lt;29.10.2003 10:49:56 CET&gt; &lt;Emergency&gt; &lt;Server&gt; &lt;Unable to initialize the server: 'Fatal initialization exception Throwable: weblogic.rmi.extensions.RemoteRuntimeException - with nested exception: [java.rmi.ConnectException: Could not establish a connection with 4622510611903127260S:172.23.64.209:[7001,7001,7002,7002,7001,7002,-1]:mydomain:myserver, java.rmi.ConnectException: Destination unreachable; nested exception is: java.net.ConnectException: Connection refused: connect; No available router to destination] java.rmi.ConnectException: Could not establish a connection with 4622510611903127260S:172.23.64.209:[7001,7001,7002,7002,7001,7002,-1]:mydomain:myserver, java.rmi.ConnectException: Destination unreachable; nested exception is:<br> &#32; &#32; &#32; &#32; &#32;java.net.ConnectException: Connection refused: connect; No available router to destination <br> &#32; &#32; &#32; &#32; &#32;at weblogic.rjvm.RJVMImpl.getOutputStream(RJVMImpl.java:276) <br> &#32; &#32; &#32; &#32; &#32;at<br> weblogic.rjvm.RJVMImpl.getRequestStream(RJVMImpl.java:428)..  </font></p>

<a name="1361317"></a><p class="table">The problem was corrected with a code change to run shutdown classes before shutting down the management layer.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361319"></a><p class="table">CR122538</p>


		</td>
		<td align="left" valign="top">
			<a name="1361321"></a><p class="table">If a JMX client application used <font face="Courier">getAllMBeans()</font> on a WebLogic Server, exceptions similar to the following were thrown:</p>

<a name="1361322"></a><p class="table"><font face="Courier">Exception in thread "main" java.lang.ClassNotFoundException: <br>weblogic.management.descriptors.ejb11.MailServiceMBean<br>        at java.net.URLClassLoader$1.run(URLClassLoader.java:195)<br>        at java.security.AccessController.doPrivileged(Native Method)<br>        at java.net.URLClassLoader.findClass(URLClassLoader.java:183)<br>        at java.lang.ClassLoader.loadClass(ClassLoader.java:294)<br>        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:281)<br>        at java.lang.ClassLoader.loadClass(ClassLoader.java:250)<br>        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:310)<br>        at java.lang.Class.forName0(Native Method)<br>        at java.lang.Class.forName(Class.java:190)<br>        at weblogic.management.internal.Helper.findClass(Helper.java:831)<br>[...]<br>--------------- nested within: ------------------<br>weblogic.management.configuration.ConfigurationError - with nested exception:<br>[java.lang.ClassNotFoundException: <br>weblogic.management.descriptors.ejb11.MailServiceMBean]<br>        at <br>weblogic.management.internal.Helper.getAdminOrConfigMBeanInfo(Helper.java:118)<br>[...]</font></p>

<a name="1361323"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1333407"></a><p class="head2">Plug-ins
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1357097"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1357099"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357101"></a><p class="table">CR087204</p>


		</td>
		<td align="left" valign="top">
			<a name="1357103"></a><p class="table">[Apache] In WebLogic Server 6.1 SP03, <font face="Courier">PathTrim</font> and <font face="Courier">PathPrepend</font> added unexpected "/" at the end of URL. After <font face="Courier">PathTrim</font> was applied to the original URL and it results to '/', an extra '/' was appended to the <font face="Courier">PathPrepend</font> variable.</p>

<a name="1357104"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357106"></a><p class="table">CR091910</p>


		</td>
		<td align="left" valign="top">
			<a name="1357108"></a><p class="table">[Apache] In WebLogic Server 6.1 SP03, the Apache plugin did not read <font face="Courier">PathPrepend</font> when using <font face="Courier">&lt;IfModule mod_weblogic.c&gt;</font>. The problem occurred with plugins for Apache 1.3.x and Apache 2.0.43. </p>

<a name="1357109"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357111"></a><p class="table">CR092970</p>


		</td>
		<td align="left" valign="top">
			<a name="1357113"></a><p class="table">[Apache] In WebLogic Server 6.1 SP04, the Apache plugin caused sockets to remain in the <font face="Courier">CLOSE_WAIT</font> state. Analysis revealed that WebLogic Server did not close the socket when returning a <font face="Courier">sendRedirect</font>. The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357115"></a><p class="table">CR092327</p>


		</td>
		<td align="left" valign="top">
			<a name="1357117"></a><p class="table">[Apache] In WebLogic Server 6.1 SP04, setting the <font face="Courier">WLLogFile</font> did not work when VirtualHosts were used. The log file defaulted to <font face="Courier">/tmp/wlproxy.log</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357119"></a><p class="table">CR100070, CR107200</p>


		</td>
		<td align="left" valign="top">
			<a name="1357121"></a><p class="table">[Apache] When two virtual hosts are used in Apache server, each virtual host has defined its own <font face="Courier">WLLogFile</font>. The value of this parameter keeps changing among two <font face="Courier">WLLogFile</font> values defined for two virtual hosts.</p>

<a name="1357122"></a><p class="table">There were two problems: one, WebLogic Server was only setting <font face="Courier">WLLogFile</font> once upon server startup; two, WebLogic Server set it before getting it from VirtualHost.</p>

<a name="1357123"></a><p class="table">Setting <font face="Courier">WLLogFile</font> for each virtual host in the Apache plugin fixed the problems.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357125"></a><p class="table">CR100601, CR105658, CR108747</p>


		</td>
		<td align="left" valign="top">
			<a name="1357127"></a><p class="table">(NSAPI) The plug-in that shipped with WebLogic Server 6.1 Service Pack 3 used the <font face="Courier">WL-Proxy-Client-IP</font> header to send client IP addresses. This caused problems in heterogeneous environments, because earlier servers expected the plug-in to use the <font face="Courier">X-Forwarded-For</font> and <font face="Courier">Proxy-Client-IP</font> headers to transmit client IP addresses.</p>

<a name="1357128"></a><p class="table">The code was fixed to include both the <font face="Courier">X-Forwarded-For</font> and <font face="Courier">Proxy-Client-IP</font> headers, as well as <font face="Courier">WL-Proxy-Client-IP</font>, so that heterogeneous environments can retrieve client addresses without modification.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357130"></a><p class="table">CR101937</p>


		</td>
		<td align="left" valign="top">
			<a name="1357132"></a><p class="table">(NSAPI) If an HTTP request contained an <font face="Courier">expect-continue</font> header, the plug-in would send a 100 (Continue) response even if the plug-in's client used HTTP/1.0. The code was fixed to comply with the HTTP/1.1 specification&#8212;the plug-in does not respond with a 100 (Continue) status if the client uses HTTP/1.0 or earlier (or if there was no <font face="Courier">expect-continue</font> header in the request).</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357134"></a><p class="table">CR102616</p>


		</td>
		<td align="left" valign="top">
			<a name="1357136"></a><p class="table">(NSAPI, Apache) The plug-in now supports dynamic DNS lookups on a DNS name when the name returns a list of IP addresses from the DNS server and the plug-in is configured with WebLogicHost = 'DNS name'.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357138"></a><p class="table">CR105123</p>


		</td>
		<td align="left" valign="top">
			<a name="1357140"></a><p class="table">(ISAPI) In all versions of WebLogic Server, <font face="Courier">DefaultFileName</font> does not work if <font face="Courier">iisforward.dll</font> is not used. The problem is exhibited when:</p>


			<ul><a name="1357141"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Virtual Directory is configured.</font>
<a name="1357142"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Mime type is configured to * (proxy everything).</font>
<a name="1357143"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li><font face="Courier">DefaultFileName</font> is added to <font face="Courier">iisproxy.ini</font></font>
			</ul>
<a name="1357144"></a><p class="table">On a request for a directory that has no filename, the <font face="Courier">DefaultFileName</font> is not used. The problem was corrected with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357146"></a><p class="table">CR105173</p>


		</td>
		<td align="left" valign="top">
			<a name="1357148"></a><p class="table">(WLS-NSAPI) In WebLogic Server 6.1 SP04, when a client stopped a response from being sent to it (for example, closing the browser before the response is completely received), a 500 [WRITE TOCLIENT ERROR] is logged in the webserver logs.</p>

<a name="1357149"></a><p class="table">This is unacceptable to our client who uses a webserver health monitoring tool to determine his server's health and this issue typically comes up when a request - &gt; response takes a fair amount of time.</p>

<a name="1357150"></a><p class="table">The webserver health monitoring tools use a 500 error to indicate that something is wrong with the server's health and that since this is not a server health issue but the client terminating the response, the error if any should not be 500.</p>

<a name="1357151"></a><p class="table">Request response path is as follows:</p>

<a name="1357152"></a><p class="table">client -&gt; proxyWebserver-&gt;plugin-&gt;wls </p>

<a name="1357153"></a><p class="table">and the expected response path is </p>

<a name="1357154"></a><p class="table">client &lt;- proxyWebserver&lt;-plugin&lt;-wls </p>

<a name="1357155"></a><p class="table">However, after the Weblogic server has successfully sent the response, but the webserver has not completely sent it to the client, the client aborts the communication and a 500 error is logged in the webserver's access.log which normally indicates that something is wrong with the server.</p>

<a name="1357156"></a><p class="table">The Customer is of the opinion that a different error or none at all should be logged for such a situation</p>

<a name="1357157"></a><p class="table">A code change was implemented so that 500 errors are not generated if the client breaks the connection.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357159"></a><p class="table">CR106764</p>


		</td>
		<td align="left" valign="top">
			<a name="1357161"></a><p class="table">(NSAPI) A thread in the plug-in could obtain a critical lock for a long duration (5 minutes by default, or configured using <font face="Courier">WLIOTimeoutSecs</font>), blocking all other threads and making WebLogic Server appear to hang. This problem was fixed with a code change to the plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357163"></a><p class="table">CR107254</p>


		</td>
		<td align="left" valign="top">
			<a name="1357165"></a><p class="table">(Apache) Because Hewlett-Packard ceased to support the HP Apache-based Web Server version 1.3.x, WebLogic Server removed the Apache 1.3 plug-in for HP.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357167"></a><p class="table">CR108092</p>


		</td>
		<td align="left" valign="top">
			<a name="1357169"></a><p class="table">(ISAPI) In WebLogic Server 6.1 Service Pack 4, the ISAPI plugin logged an unhandled exception error in the Windows event log when it encountered a modified cookie. The event text began with the line:</p>

<a name="1357170"></a><p class="table"><font face="Courier">The HTTP Server encountered an unhandled exception while processing the ISAPI Application.</font></p>

<a name="1357171"></a><p class="table">This problem was solved with a code fix to the ISAPI plugin.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357173"></a><p class="table">CR109755</p>


		</td>
		<td align="left" valign="top">
			<a name="1357175"></a><p class="table">[Apache] The plug-in ignored configuration parameters that contained regular expressions other than wildcard characters (*/?). This could cause 404 errors to occur when using parameters such as:</p>

<a name="1357176"></a><p class="table"><font face="Courier">LocationMatch "/weblogic/(abc|def)/ghi"</font></p>

<a name="1357177"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357179"></a><p class="table">CR110664</p>


		</td>
		<td align="left" valign="top">
			<a name="1357181"></a><p class="table">(NSAPI) The plug-in code failed to catch an exception, which in turn caused iPlanet server to crash during the <font face="Courier">sendResponse</font> phase. The plug-in code was changed to catch the exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357183"></a><p class="table">CR111167</p>


		</td>
		<td align="left" valign="top">
			<a name="1357185"></a><p class="table">(ISAPI) In WebLogic Server 6.1 Service Pack 2, using the ISAPI plugin resulted in HTTP responses having two Date headers: one inserted by WebLogic Server and one inserted by IIS. This duplication of Date headers caused problems with certain caching services that expected a single Date header.</p>

<a name="1357186"></a><p class="table">The problem was solved by updating the ISAPI plugin to filter out the Date header inserted by WebLogic Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357188"></a><p class="table">CR113033</p>


		</td>
		<td align="left" valign="top">
			<a name="1357190"></a><p class="table">(ISAPI) In WebLogic Server 6.1 Service Pack 4, the plug-in did not recognize the <font face="Courier">WLTempDir</font> flag for the <font face="Courier">_wl_proxy</font> folder. The code was fixed to use the flag.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357192"></a><p class="table">CR113093</p>


		</td>
		<td align="left" valign="top">
			<a name="1357194"></a><p class="table">[Apache] When using multiple <font face="Courier">MatchExpression</font> parameters in <font face="Courier">httpd.conf</font> to route requests to different locations, as in:</p>

<a name="1357195"></a><p class="table"><font face="Courier">MatchExpression *.jsp WebLogicHost=localhost|WebLogicPort=8001<br>MatchExpression *.html WebLogicCluster=localhost:8001,localhost:8003</font></p>

<a name="1357196"></a><p class="table">Each request overwrote the same global parameter info, which caused requests to go to the wrong location. In the above example, this problem resulted in <font face="Courier">*.jsp</font> requests going to the server at port 8003.</p>

<a name="1357197"></a><p class="table">The code was fixed to ensure that each request uses its own copy of the parameter information.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357199"></a><p class="table">CR121341</p>


		</td>
		<td align="left" valign="top">
			
<a name="1357201"></a><p></p>

	<a name="1357202"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03_39.00.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03_39.00.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357205"></a><p class="table">CR121688</p>


		</td>
		<td align="left" valign="top">
			<a name="1357207"></a><p class="table">(Apache) The plug-in failed to parse a cookie if the exclamation character, "!", was replaced by "%21" in a URL This replacement is commonly done by WAP gateways when using URL rewriting. The code was fixed to correctly parse the characters in the URL.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357209"></a><p class="table">CR121943</p>


		</td>
		<td align="left" valign="top">
			<a name="1357211"></a><p class="table">[Apache] The plug-in did not parse cookies when "%1" is replaced with "%21" in the URL. This replacement occurred when using a WAP gateway and URL rewriting. The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357213"></a><p class="table">CR122207</p>


		</td>
		<td align="left" valign="top">
			<a name="1357215"></a><p class="table">(NSAPI) If <font face="Courier">KeepAliveEnabled</font> and <font face="Courier">DynamicServerList</font> were both enabled, the plug-in could leave sockets in a <font face="Courier">CLOSE_WAIT</font> state. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357217"></a><p class="table">CR122754</p>


		</td>
		<td align="left" valign="top">
			<a name="1357219"></a><p class="table">(ISAPI) In WebLogic Server Service Pack 4, the plug-in parameter <font face="Courier">WLExludeByPathOrMimeType</font> did not work when forwarding by mime type. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357221"></a><p class="table">CR122755</p>


		</td>
		<td align="left" valign="top">
			<a name="1357223"></a><p class="table">(ISAPI) In WebLogic Server Service Pack 4, the plug-in filter was bypassed if "<font face="Courier">.wlforward</font>" was manually appended to a URL. The code was modified to throw a 404 error if the initial request has a mime type of <font face="Courier">.wlforward</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357225"></a><p class="table">CR123120, CR123775</p>


		</td>
		<td align="left" valign="top">
			<a name="1357227"></a><p class="table">(Apache, NSAPI) If the POST method was used through the plug-in and the <font face="Courier">Content-Length</font> was not defined, the proxy log file would contain message such as:</p>

<a name="1357228"></a><p class="table"><font face="Courier">POST and PUT requests *must* contain a Content-Length</font></p>

<a name="1357229"></a><p class="table">The code was modified to set a content length of zero (0) if <font face="Courier">Content-Length</font> is undefined.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357231"></a><p class="table">CR123925</p>


		</td>
		<td align="left" valign="top">
			<a name="1357233"></a><p class="table">(ISAPI) The plug-in would sometimes respond to the browser with a 500 error message. This problem had three additional symptoms:</p>

<ol>

<a name="1357234"></a><p><li>The IIS access log would show the message:

<a name="1357235"></a><blockquote><pre><font face="Courier" color="#0000FF">Out-of-process+ISAPI+extension+request+failed. 500 1726 
99122 2003 84078 
</font></pre></blockquote>


<a name="1357236"></a><p><li>The Windows Event Log would record Event ID 37:

<a name="1357237"></a><blockquote><pre><font face="Courier" color="#0000FF">Event Type: Warning
Event Source: W3SVC
Event Category: None
Event ID: 37
Date:  8/26/2003
Time:  6:45:03 PM
User:  N/A
Computer: <em>name
</em>Description:
Out of process application '/LM/W3SVC/2/Root/caf' 
terminated unexpectedly. 
For additional information specific to this message please 
visit the Microsoft Online Support site located at:
http://www.microsoft.com/contentredirect.asp.
</font></pre></blockquote>


<a name="1357238"></a><p><li>The <font face="Courier">wlproxy.log</font> entry showed:

<a name="1357239"></a><blockquote><pre><font face="Courier" color="#0000FF">Fri Nov 21 19:06:31 2003 Write to the browser failed: 
calling URL::close at line 1270 of .\iisproxy.cpp
Fri Nov 21 19:06:31 2003 *******Exception type 
[WRITE_ERROR_TO_CLIENT] raised at line 1271 of 
.\iisproxy.cpp
</font></pre></blockquote>

</ol>
<a name="1357240"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357242"></a><p class="table">CR124433</p>


		</td>
		<td align="left" valign="top">
			<a name="1357244"></a><p class="table">(ISAPI) If IIS was configured with <font face="Courier">WlForwardPath=/</font>, the plug-in would try forward requests even if the server was down. The error page was never served to clients. The plug-in was modified to properly exclude paths in this situation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1360583"></a><p class="table">CR124464</p>


		</td>
		<td align="left" valign="top">
			<a name="1363968"></a><p class="table">(NSAPI) A memory leak was detected that could cause the plug-in to crash. The problem occurred because the plug-in accessed an exception object after the object had been deleted. The code was fixed to retrieve the exception code from the exception object and then delete the object, which prevents the memory leak from occurring.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357246"></a><p class="table">CR125545</p>


		</td>
		<td align="left" valign="top">
			<a name="1357248"></a><p class="table">(NSAPI) When a client stopped a response from being sent to it (for example, by closing the browser before the response had completed), the plug-in wrote a 500 [WRITE TO CLIENT ERROR] to the Web server log file. This could cause problems with health monitoring tools that interpret the 500 error as a problem in the Web server.</p>

<a name="1357249"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357267"></a><p class="table">CR125690</p>


		</td>
		<td align="left" valign="top">
			<a name="1357269"></a><p class="table">(ISAPI) In a configuration that included nine IIS servers and nine clustered WebLogic Server instances, IIS crashed every a few hours, writing an Event 37 to the event log. The <font face="Courier">wlproxy</font> log contained this message:</p>

<a name="1357270"></a><p class="table"><font face="Courier">Thu Oct 09 13:01:46 2003 *******Exception type [WRITE_ERROR_TO_CLIENT] raised at line 1269 of .\iisproxy.cpp </font></p>

<a name="1357271"></a><p class="table">Diagnosis revealed that the <font face="Courier">Reader::fill()</font> method was not allocating enough memory while growing the initial buffer. 4 bytes to mark the end of buffer were getting lost and which resulted in the core dump. The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357273"></a><p class="table">CR126103	</p>


		</td>
		<td align="left" valign="top">
			<a name="1357275"></a><p class="table">(NSAPI) During load testing, when NSAPI running on HP11.00 proxying to a 6 node cluster on 2 Solaris boxes (3 WebLogic Server instances on each), memory consumption steadily increased, and after approximately 50 minutes, the <font face="Courier">ns-httpd</font> process crashed. </p>

<a name="1357276"></a><p class="table">The same load test did not crash on HP11.00 or Solaris. </p>

<a name="1357277"></a><p class="table">Analysis revealed that codes in <font face="Courier">proxy.cpp</font> used <font face="Courier">strdup()</font>, a native system call.   <font face="Courier">strdup()</font> allocates system memory to the program's heap space. WebLogic Server uses Iplanet's FREE macro to free previous allotted space when it is no longer needed. Because FREE does not free the allocated space by <font face="Courier">strdup()</font> call, the memory leak occurred.</p>

<a name="1357278"></a><p class="table">The problem was solved by replacing all native <font face="Courier">strdup()</font>system calls in <font face="Courier">proxy.cpp</font> with Iplanet's STRDUP macro so the FREE macro knows what to free.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357280"></a><p class="table">CR126568</p>


		</td>
		<td align="left" valign="top">
			<a name="1357282"></a><p class="table">(NSAPI) Plugin does not handle %0A in the post request gracefully </p>

<a name="1357283"></a><p class="table">A POST request %0A at the end sent to WebLogic Server through the NSAPI plug-in was not handled gracefully. The request added extraneous data into the body stream, and headers appeared at the end of the body. Requests sent directly to WebLogic Server were processed correctly it works fine. Customer needs a plugin which can handle %0A at the end gracefully. </p>

<a name="1357284"></a><p class="table">The problem was corrected by code change to the plug-in to detect and handle HTTP/0.9 responses correctly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358864"></a><p class="table">CR126982</p>


		</td>
		<td align="left" valign="top">
			<a name="1358866"></a><p class="table">(NSAPI) When <font face="Courier">WLExcludePathOrMimeType</font> was set, the file types were cut in the request to WebLogic Server, but iplanet failed to serve those files instead. </p>

<a name="1358867"></a><p class="table">For example, this request for a .jsp that contained a .jpg was made:  </p>

<a name="1358868"></a><p class="table"><font face="Courier">&lt;Object name="test5" ppath="*/weblogic/*"&gt; Service fn="wl_proxy" WebLogicHost="lorna" WebLogicPort="7001" PathTrim="/weblogic" Debug="ALL" DebugConfigInfo="ON" WLExcludePathOrMimeType="*.jpg" &lt;/Object&gt; </font></p>

<a name="1358869"></a><p class="table">The request for the .jsp was proxied to WebLogic Server, and the .jsp was displayed without the .jpg. Iplanet failed to server the jpg.The iplanet access log contained this message:</p>

<a name="1358870"></a><p class="table"><font face="Courier">10.40.4.117 - - [28/Oct/2003:11:45:34 -0500] "GET /weblogic/images/logo_tm_onwt.jpg HTTP/1.1" 500 305 I get the following in wlproxy.log: Tue Oct 28 11:45:35 2003 ============================= new request =============================== Tue Oct 28 11:45:35 2003 INFO: SSL is not configured Tue Oct 28 11:45:35 2003 URI=[/hello.jsp] Tue Oct 28 11:45:35 2003 attempt #0 out of a max of 5 Tue Oct 28 11:45:35 2003 general list: trying connect to '10.40.4.117'/7001/7001 at line 1224 for '/hello.jsp' Tue Oct 28 11:45:35 2003 INFO: New NON-SSL URL Tue Oct 28 11:45:35 2003 Going to check the general server list Tue Oct 28 11:45:35 2003 WLS info : 10.40.4.117:7001 recycled? 0 Tue Oct 28 11:45:35 2003 Hdrs from Client:[accept]=[*/*] Tue Oct 28 11:45:35 2003 Hdrs from Client:[accept-language]=[en-us] Tue Oct 28 11:45:35 2003 Hdrs from Client:[accept-encoding]=[gzip, deflate] Tue Oct 28 11:45:35 2003 Hdrs from Client:[user-agent]=[Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)]</font> </p>

<a name="1358871"></a><p class="table"><font face="Courier">WLExcludePathOrMimeType</font> should cause WebLogic Server to not service the request, and to pass control to the web server, allowing it to continue processing the request.</p>

<a name="1358872"></a><p class="table">The problem was solved with a code change. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1346161"></a><p class="head2">RMI
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1346127"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1346129"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346572"></a><p class="table">CR106281 </p>


		</td>
		<td align="left" valign="top">
			<a name="1346574"></a><p class="table">In WebLogic Server 6.1 SP04, replicated session beans under heavy load resulted in increasing heap usage and <font face="Courier">OutOfmemoryError</font>s. </p>

<a name="1346575"></a><p class="table">Analysis revealed that examples.ejb20.basic.statefulSession.TraderBean_5ysgq2_EOImpl objects were not being garbage-collected even when garbage collection was forced. For clustered stateful session beans, strong references were maintained to the <font face="Courier">EOImpl</font> object primary in the <font face="Courier">weblogic.rmi.cluster.PrimarySecondaryRemoteObject</font>. As a remove is never called on the bean, the reference to the EOImpl was never removed from the <font face="Courier">eoMap</font>. </p>

<a name="1346576"></a><p class="table">A code fix was implemented to unexport the EO when the passivated bean has been deleted, after <font face="Courier">session-timeout-seconds.</font></p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1346752"></a><p class="head2">RMI/IIOP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1346743"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1346745"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346888"></a><p class="table">CR112991 </p>


		</td>
		<td align="left" valign="top">
			<a name="1346890"></a><p class="table">IIOP calls from a WebLogic Server 6.1 SP04 instance to an EJB running on a WebLogic Server 7.0 SP02 instance resulted in an exception when the IIOP connection idle timed out. The exception occurred on the WebLogic Server 7.0 side, when it tried to send back the response&#8212;the connection was closed. The exception is not sent to the 6.1 server, and the client thread hangs.</p>

<a name="1346891"></a><p class="table">The WebLogic Server 7.0 SP02 exception was:</p>

<a name="1346892"></a><p class="table"><font face="Courier">&lt;Jul 29, 2003 5:21:55 PM PDT&gt; &lt;Error&gt; &lt;IIOP&gt; &lt;002013&gt; &lt;Complete failure to send exception class java.rmi.MarshalException: java.rmi.MarshalException: IOException while sending; nested exception is: java.io.IOException: Attempt to send message on closed socket. java.rmi.MarshalException: IOException while sending; nested exception is: java.io.IOException: Attempt to send message on closed socket java.io.IOException: Attempt to send message on closed socket at weblogic.iiop.MuxableSocketIIOP.send(MuxableSocketIIOP.java:362) at weblogic.iiop.EndPointImpl.send(EndPointImpl.java:1078) at weblogic.iiop.OutboundResponseImpl.sendThrowable(OutboundResponseImpl.java:194) at weblogic.rmi.internal.BasicServerRef.handleThrowable(BasicServerRef.java:473) at weblogic.rmi.internal.BasicServerRef.postInvoke(BasicServerRef.java:440) at weblogic.rmi.internal.BasicServerRef.handleRequest(BasicServerRef.java:328) at weblogic.rmi.internal.BasicExecuteRequest.execute(BasicExecuteRequest.java:30) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:213) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:189) &gt; </font></p>

<a name="1346893"></a><p class="table">Analysis revealed that close connection messages were not being handled properly. The error was solved with a code change. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1356615"></a><p class="table">CR124377</p>


		</td>
		<td align="left" valign="top">
			<a name="1356617"></a><p class="table">WebLogic Server sometimes threw a <font face="Courier">java.rmi.UnmarshalException</font> when a client application using the thin-client <font face="Courier">.jar</font> (<font face="Courier">wlclient.jar</font>) accessed an EJB. On the server, partial exception was:</p>

<a name="1356618"></a><p class="table"><font face="Courier">java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:<br>java.io.IOException: Serializable readObject method failed internally.<br>java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:<br>java.io.IOException: Serializable readObject method failed internally at com.ejb_cvps36_EOImpl_WLSkel.invoke(Unknown Source)<br>[...]</font></p>

<a name="1356619"></a><p class="table">On the client, the partial exception was:</p>

<a name="1356620"></a><p class="table"><font face="Courier">java.rmi.MarshalException: CORBA MARSHAL 0 No; nested exception is:<br>org.omg.CORBA.MARSHAL: vmcid: 0x0 minor code: 0 completed: No<br>at<br>com.sun.corba.se.internal.iiop.ShutdownUtilDelegate.mapSystemException(ShutdownUtilDelegate.java:97)<br>at javax.rmi.CORBA.Util.mapSystemException(Util.java:65)<br>[...]</font></p>

<a name="1356621"></a><p class="table">This problem did not occur when using <font face="Courier">weblogic.jar</font> on the client. The code was modified to address this problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358711"></a><p class="table">CR128594</p>


		</td>
		<td align="left" valign="top">
			<a name="1358713"></a><p class="table">Prior to this Service Pack, WebLogic Server could not handle typecode aliases when reading Java objects on AIX. The code was modified to discard the alias wrapper.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358723"></a><p class="table">CR128660</p>


		</td>
		<td align="left" valign="top">
			<a name="1358725"></a><p class="table">WebLogic Server used reflection on inbound contexts that it did not understand. This caused IIOP clients on AIX to fail, because the IBM ORB makes assumptions about the stream format based on the service contexts. The code was fixed to correctly handle service contexts so that IIOP clients can be used on AIX.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1346198"></a><p class="head2">Security
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1346164"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1346166"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346168"></a><p class="table">CR067670</p>


		</td>
		<td align="left" valign="top">
			<a name="1346170"></a><p class="table">If you configured WebLogic Server to use a custom security realm, and the realm was unavailable, WebLogic Server would not boot. This Service Pack introduces a new startup command, <font face="Courier">-Dweblogic.security.RealmFailureOk=true</font>, that allows the server to start if the realm is unavailable. The command forces the server to start using the file realm, rather than the configured custom realm.</p>

<a name="1346171"></a><p class="table">This command is available only for WebLogic Server 6.x, and is not implemented in other server versions.</p>


<a name="1346172"></a><p><strong>Warning:	</strong> Administrators must be cautious when using this command. If you have a custom realm that is configured only for authorization (not authentication) and the user store is the file realm, booting the server with <font face="Courier">-Dweblogic.security.RealmFailureOk=true</font> may result in having no security. </p>


<a name="1346173"></a><p class="notepara"><strong></strong> Use this option only to access the Administration Console and reconfigure the custom realm so that the server can boot normally. Do not allow applications to access the server you have booted with <font face="Courier">-Dweblogic.security.RealmFailureOk=true</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1364082"></a><p class="table">CR093292</p>


		</td>
		<td align="left" valign="top">
			<a name="1364084"></a><p class="table">When the CR093292 patch was applied to WebLogic Server Service Pack 5, the server began logging messages such as:</p>

<a name="1364085"></a><p class="table"><font face="Courier">java.io.IOException: Length is Zero<br>        at weblogic.security.SSL.GenericCipher.input(GenericCipher.java:196)<br>        at weblogic.security.SSL.SSLCiphertext.input(SSLCiphertext.java:68)<br>        at weblogic.security.SSL.SSLSocket.getRecord(SSLSocket.java:1147)<br>[...]</font></p>

<a name="1364086"></a><p class="table">These messages were intended only for debugging purposes. The code was fixed so that the messages are no longer logged.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346175"></a><p class="table">CR093813</p>


		</td>
		<td align="left" valign="top">
			<a name="1346177"></a><p class="table">The password used to access the encrypted private key in the Node Manager key file, <font face="Courier">weblogic.nodemanager.keyPassword</font>, was in plain text and accessible.</p>

<a name="1346178"></a><p class="table">The problem was resolved by the creation of the Node Manager properties file, <font face="Courier">nodemanager.properties</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1359429"></a><p class="table">CR100703</p>


		</td>
		<td align="left" valign="top">
			<a name="1359431"></a><p class="table">Authenticated users could become unable to access WebLogic Server 6.1 SP04 after another user had been locked out. This problem could occur with Novell eDirectory. After a user had entered an incorrect password enough times to become locked out, other, authenticated users would become unable to access the server, receiving a 500 error similar to:</p>

<a name="1359435"></a><blockquote><pre><font face="Courier" color="#0000FF">&lt;[WebAppServletContext(7814505,security,/security)] 
Servlet failed with Exception
netscape.ldap.LDAPException: error result (53); NDS error: 
login lockout 
(-197);
DSA is unwilling to perform
[...]
</font></pre></blockquote>

<a name="1359437"></a><p class="table">The problem was fixed in WebLogic Server by catching the <font face="Courier">LDAPException</font> thrown in this case, and destroying the connection to the LDAP server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1353195"></a><p class="table">CR102452</p>


		</td>
		<td align="left" valign="top">
			
<a name="1353197"></a><p></p>

	<a name="1353198"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/SA_BEA03_36.00.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/SA_BEA03_36.00.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346180"></a><p class="table">CR102712</p>


		</td>
		<td align="left" valign="top">
			<a name="1346182"></a><p class="table">Java clients that used HTTPS tunneling to access EJBs experienced poor performance and increased socket usage, as compared to clients that used HTTP tunneling. WebLogic Server created a new socket, rather than reusing sockets, for each request. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346184"></a><p class="table">CR105443</p>


		</td>
		<td align="left" valign="top">
			<a name="1346187"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/SA_BEA03_36.00.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/SA_BEA03_36.00.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1364029"></a><p class="table">CR105513</p>


		</td>
		<td align="left" valign="top">
			<a name="1364031"></a><p class="table">This Service Pack includes a new property, <font face="Courier">weblogic.security.SSL.trustManager</font>, that you can use to specify the custom trust manager if you are using <font face="Courier">HttpsURLConnection</font> to connect to another server. Using this property enables you to obtain the CA root in the SSL handshake for business logic purposes.</p>


<a name="1364032"></a><p><strong>Warning:	</strong> This feature is implemented only in WebLogic Server 6.1, and it <em>will not</em> be made available in WebLogic Server 7.x or later releases.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361031"></a><p class="table">CR108265</p>


		</td>
		<td align="left" valign="top">
			<a name="1361033"></a><p class="table">In WebLogic Server 6.1 SP04, HTTP requests occasionally failed when <font face="Courier">CachingRealm.refresh()</font> was called. This servlet synchronizes the cache and the database. The cluster used the RDBMS Realm as the Basic Realm. </p>

<a name="1361034"></a><p class="table">A simple health check HTTP request calling <font face="Courier">index.html</font> of an Web application occasionally failed with this exception. </p>

<a name="1361035"></a><p class="table"><font face="Courier">&lt;Error&gt; &lt;HTTP&gt; &lt;hanptl02&gt; &lt;managedServer2&gt; &lt;ExecuteThread: '9' for queue: '__weblogic_admin_rmi_queue'&gt; &lt;&gt; &lt;&gt; &lt;101020&gt; &lt;[WebAppServletContext(1014083,healthcheck02,/healthcheck02)] T_[ubg&Iacute; Exception &Eacute;&aelig;&egrave;_&#184;"s&#181;&Uuml;&#181;&#189;_B&gt; java.lang.NullPointerException: Start server side stack trace: java.lang.NullPointerException at weblogic.security.acl.GroupImpl.addMember(GroupImpl.java:46) at weblogic.security.acl.OwnerImpl.&lt;init&gt;(OwnerImpl.java:32) at weblogic.security.acl.AclImpl.&lt;init&gt;(AclImpl.java:164) at weblogic.servlet.security.internal.SecurityModule.auditPerm(SecurityModule.java:358) </font></p>

<a name="1361036"></a><p class="table">Analysis revealed that two threads were accessing the <font face="Courier">CachingRealm</font> simultaneously; for example, the refresh servlet has cleared the cache, but the request to the <font face="Courier">index.jsp</font> is attempting to find a user that has been cleared from the cache. </p>

<a name="1361037"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346189"></a><p class="table">CR111041</p>


		</td>
		<td align="left" valign="top">
			<a name="1346191"></a><p class="table">When a Web Application attempted to make an HTTPS connection and the handshake with the remote server stalled, WebLogic Server never timed out the associated SSL socket. This resulted in execute threads becoming "stuck" indefinitely, eventually locking the server. The code was fixed to ensure that timeout values are enforced with HTTPS connections.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346193"></a><p class="table">CR112563</p>


		</td>
		<td align="left" valign="top">
			<a name="1346195"></a><p class="table">WebLogic Server did not encrypt the private key password when storing the password to a file. The code was fixed to automatically encrypt the password when writing the password back to a file. Upon the first booting, WebLogic Server checks to verify that the password is encrypted, and encrypts it in the file if necessary. </p>

<a name="1346196"></a><p class="table">WebLogic Server uses the encryption service associated with the domain. This means that you can use the password file only with the domain in which it was created.</p>


<a name="1346197"></a><p><strong>Note:	</strong> Secure a plain text copy of the private key password before you allow WebLogic Server to write the password to a file. You will not be able to retrieve the plain text password from the file after booting the server at this Service Pack level.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361416"></a><p class="table">CR113459</p>


		</td>
		<td align="left" valign="top">
			<a name="1361418"></a><p class="table">In WebLogic Server 6.1 SP05, with <font face="Courier">CR093813_61sp5.jar</font>, removing the Node Manager properties file caused problems. </p>

<a name="1361419"></a><p class="table">The Node Manager properties file is always created in the <font face="Courier">&lt;saved logs dir&gt;/NodeManagerInternal</font> directory. This customer periodically archives and deletes the contents of <font face="Courier">NodeManagerInternal</font>. This removes the Node Manager properties file, so that the certificate password stored in the Node Manager properties file cannot be decrypted, and Node Manager will not work correctly. </p>

<a name="1361420"></a><p class="table">The problem was solved by a code change to create the Node Manager properties file in the directory specified by <font face="Courier">user.dir</font>, if the file is not found in <font face="Courier">NodeManagerInternal</font>, or in the <font face="Courier">user.dir</font> directory. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361101"></a><p class="table">CR120850</p>


		</td>
		<td align="left" valign="top">
			<a name="1361103"></a><p class="table">In WebLogic Server 6.1 SP05, weblogic.net.http.HttpsURLConnection did not honor https.nonProxyHosts environment variable. The problem was exhibited in this scenario: </p>

<a name="1361104"></a><p class="table">client &lt;--&gt; Proxy &lt;---&gt; Server </p>

<a name="1361105"></a><p class="table">The client can be running within WebLogic Server or be a stand-alone Java program Requests always went through the proxy even if the targeted host was specified in https.nonProxyHost<font face="Courier">s</font>. If instead, the host is specified in http.nonProxyHost<font face="Courier">s</font>, the problem does not occur: a direct connection to the host, not to the <font face="Courier">proxyHost</font> is established, not to the <font face="Courier">proxyHost</font>, if defined.</p>

<a name="1361106"></a><p class="table">Analysis revealed that logic for connecting directly to a host specified in <font face="Courier">https.nonProxyHosts</font>, even when a <font face="Courier">proxyHost</font> is defined. This problem did not exist for http.nonProxyHosts, only with https.nonProxyHosts.</p>

<a name="1361107"></a><p class="table">Appropriate logic was developed to connected directly to a host specified in <font face="Courier">https.nonProxyHosts</font>, even when a <font face="Courier">proxyHost</font> is defined.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1361113"></a><p class="table">CR121206	</p>


		</td>
		<td align="left" valign="top">
			<a name="1361115"></a><p class="table">In WebLogic Server 6.1 SP05, the number of open LDAP connections kept increasing when using an external LDAP server.</p>

<a name="1361116"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1356957"></a><p class="table">CR121920</p>


		</td>
		<td align="left" valign="top">
			<a name="1356959"></a><p class="table">In WebLogic Server 6.1 Service Pack 3, calling <font face="Courier">Socket.getSendBufferSize()</font> when using WebLogic Server JSSE caused the following error:</p>

<a name="1356960"></a><p class="table"><font face="Courier">java.net.SocketException: Socket closed<br>	at java.net.PlainSocketImpl.socketGetOption(Native Method)<br>	at java.net.PlainSocketImpl.getOption(PlainSocketImpl.java:190)<br>	at java.net.Socket.getSendBufferSize(Socket.java:527)<br>[...]</font></p>

<a name="1356961"></a><p class="table">The code was fixed to properly override and delegate <font face="Courier">getSendBufferSize()</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1356945"></a><p class="table">CR121921</p>


		</td>
		<td align="left" valign="top">
			<a name="1356947"></a><p class="table">The <font face="Courier">LDAPDelegate.groupContainsInternal()</font> method performed a recursive search of the list of groups without first checking if the list contained the desired group. This performance problem was fixed by updating <font face="Courier">groupContainsInternal()</font> to first iterate through the group list to determine if it contains the desired group.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1346322"></a><p class="head2">Servlets
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1346202"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1346204"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346206"></a><p class="table">CR080998</p>


		</td>
		<td align="left" valign="top">
			<a name="1346208"></a><p class="table">Versions of WebLogic Server 6.1 earlier that SP06 did not support the Range header field definition as described in section 14.35 of the HTTP/1.1 specification. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1347141"></a><p class="table">CR084455</p>


		</td>
		<td align="left" valign="top">
			<a name="1347143"></a><p class="table">When WebLogic Server 6.1 SP03 was configured to log all HTTP requests in extended format, at the rotation time, the following error is thrown at approximately one minute intervals after the rotation is scheduled (which is the log flush time interval setting):</p>

<a name="1347144"></a><p class="table"> <font face="Courier">####&lt;Aug 20, 2002 9:00:00 PM PDT&gt; &lt;Error&gt; &lt;HTTP myapp&gt; &lt;host2&gt; &lt;myserver&gt; &lt;ExecuteThread: '6' for queue: 'default'&gt; &lt;system&gt; &lt;&gt; &lt;000000&gt; &lt;Exception flushing HTTP log file&gt; java.io.IOException: Failed to rename log file on attempt to rotate logs at weblogic.servlet.logging.LogManagerHttp.rotateLog(LogManagerHttp.java:168) at weblogic.servlet.logging.LogManagerHttp.access$2(LogManagerHttp.java:148) at weblogic.servlet.logging.LogManagerHttp$RotateLogTrigger.trigger(LogManagerHttp.java:432) at weblogic.time.common.internal.ScheduledTrigger.executeLocally(ScheduledTrigger.java:238) at weblogic.time.common.internal.ScheduledTrigger.execute(ScheduledTrigger.java:229) at weblogic.time.server.ScheduledTrigger.execute(ScheduledTrigger.java:69) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120) ####&lt;Aug 20, 2002 9:00:05 PM PDT&gt; &lt;Error&gt; &lt;HTTP myapp&gt; &lt;host2&gt; &lt;myserver&gt; &lt;ExecuteThread: '7' for queue: 'default'&gt; &lt;system&gt; &lt;&gt; &lt;000000&gt; &lt;Exception flushing HTTP log file&gt;... </font></p>

<a name="1347145"></a><p class="table">Analysis revealed that the log had been flushed inappropriately. The problem was solved with a code change to ensure that the log is not flushed on rotation, and to check for a null value for the log file name. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346210"></a><p class="table">CR086234</p>


		</td>
		<td align="left" valign="top">
			<a name="1346212"></a><p class="table">The <font face="Courier">indexDirectories</font> feature of <font face="Courier">FileServlet</font> was not internationalized, and therefore could not list or use multi-byte file names. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346214"></a><p class="table">CR088785</p>


		</td>
		<td align="left" valign="top">
			<a name="1346216"></a><p class="table">In HTTP access logs, WebLogic Server recorded only the stem portion of the URI, rather than both the stem and query portions, when the <font face="Courier">cs-uri</font> field was specified. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346218"></a><p class="table">CR092625</p>


		</td>
		<td align="left" valign="top">
			<a name="1346220"></a><p class="table">WebLogic Server threw a <font face="Courier">NullPointerException</font> when you enabled HTTP logging on a Managed Server that was booted with HTTP logging disabled and had no existing log file. On each HTTP access to the Managed Server, the following exception was thrown:</p>

<a name="1346221"></a><p class="table"><font face="Courier">java.lang.NullPointerException<br>        at <br>weblogic.servlet.logging.LogManagerHttp.log(LogManagerHttp.java:292)<br>        at weblogic.servlet.internal.HttpServer.log(HttpServer.java:865)<br>        at <br>weblogic.servlet.internal.ServletResponseImpl.send(ServletResponseImpl.java:1044)<br>        at <br>weblogic.servlet.internal.ServletRequestImpl.execute(ServletRequestImpl.java:2265)<br>        at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139)<br>        at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)</font></p>

<a name="1346222"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1347159"></a><p class="table">CR095945</p>


		</td>
		<td align="left" valign="top">
			<a name="1347161"></a><p class="table">In WebLogic Server 6.1 SP05 running under Unix, <font face="Courier">CGIServlet</font>, which extracts the cgiscripts in a WAR so that it can execute them, was calling the scripts without setting the current working directory. </p>

<a name="1347162"></a><p class="table">A fix was implemented to ensure that the current working directory is set so that cgi scripts can call subscripts, even in WAR webapps. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346224"></a><p class="table">CR095981</p>


		</td>
		<td align="left" valign="top">
			<a name="1346226"></a><p class="table">In WebLogic Server 6.1 SP01, SP02, SP03, and SP04, <font face="Courier">&lt;charset-mapping&gt;</font> in <font face="Courier">weblogic.xml</font> is ignored when compiling JSP file with <font face="Courier">precompile=true</font>.</p>

<a name="1346227"></a><p class="table">As a result, some of double bytes characters are garbled because of the mismatch between the character's encoding specified in <font face="Courier">&lt;charset-mapping&gt;</font> and in the compiled classes. </p>

<a name="1346228"></a><p class="table">Analysis revealed an error in the precompiler. The problem was solved with a code fix. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346230"></a><p class="table">CR096459</p>


		</td>
		<td align="left" valign="top">
			<a name="1346232"></a><p class="table">When invoking a flush in a Servlet or JSP in HTTP 1.0, WebLogic Server sometimes failed to close the socket, causing the client to wait for a period of time until the socket timed out. The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346234"></a><p class="table">CR100590</p>


		</td>
		<td align="left" valign="top">
			<a name="1346236"></a><p class="table">An update to the <font face="Courier">HttpClusterServlet</font> implementation changed the default SSL port number in the <font face="Courier">WebLogicCluster</font> parameter to 443. The updated implementation also failed to report an error when the WebLogicCluster parameter was not specified correctly.</p>

<a name="1346237"></a><p class="table">A code fix was made to ensure that the <font face="Courier">HttpClusterServlet</font> implementation matched the earlier behavior:</p>


<ul type="square">
<a name="1346238"></a><p><li type="square">WebLogicCluster again uses the format <em>host</em><font face="Courier">:</font><em>port</em><font face="Courier">:</font><em>sslport</em> for specifying the SSL port number.

<a name="1346239"></a><p><li type="square">WebLogic Server logs an error if the SSL port is not specified, and uses the default SSL port of 7002.
</ul>

		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346241"></a><p class="table">CR100645</p>


		</td>
		<td align="left" valign="top">
			<a name="1346243"></a><p class="table">Objects that implement the <font face="Courier">HttpSessionAttributeListener</font> interface did not receive the correct value when calling <font face="Courier">HttpSessionBindingEvent.getValue()</font> on events received via <font face="Courier">attributeReplaced()</font>. Instead of returning the old attribute value, as stated in the Servlet 2.3 specification, <font face="Courier">getValue()</font> returned the newer value. The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1357914"></a><p class="table">CR101061</p>


		</td>
		<td align="left" valign="top">
			<a name="1357916"></a><p class="table">Prior to this Service Pack, a call to <font face="Courier">weblogic.version</font> did not show the correct version information if a patch had been applied to the WebLogic Server instance. The code was modified so that <font face="Courier">weblogic.version</font> now shows the correct version and patch information in the format:</p>

<a name="1357917"></a><p class="table"><font face="Courier">WebLogic Server version date build with patch [, patch] [...]</font></p>

<a name="1357918"></a><p class="table">For example:</p>

<a name="1357919"></a><p class="table"><font face="Courier">WebLogic Server 8.1 03/20/2003 246620 with CRXXXX, CRXXXX, CRXXXXX</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346245"></a><p class="table">CR101838</p>


		</td>
		<td align="left" valign="top">
			<a name="1346247"></a><p class="table">In WebLogic Server SP04, there was a change in the behavior of the <font face="Courier">CGIServlet</font> that could affect the execution of CGI scripts having no filename extension. For example, if a <font face="Courier">web.xml</font> file defined the CGI directory and Servlet mapping in the following way:</p>

<a name="1346248"></a><p class="table"><font face="Courier">&lt;param-name&gt;cgiDir&lt;/param-name&gt;<br>&lt;param-value&gt;/home/user/cgi-bin&lt;/param-value&gt;<br>&lt;/init-param&gt;<br>&lt;/servlet&gt;<br>&lt;servlet-mapping&gt;<br>   &lt;servlet-name&gt;CGIServlet&lt;/servlet-name&gt;<br>   &lt;url-pattern&gt;/cgi-bin/*&lt;/url-pattern&gt;<br>&lt;/servlet-mapping&gt;</font></p>

<a name="1346249"></a><p class="table">and stored a script named <font face="Courier">myscript</font> in the <font face="Courier">/home/user/cgi-bin</font> directory, a URL such as <font face="Courier">http://localhost/mywebapp/cgi-bin/myscript</font> would map to <font face="Courier">/home/user/cgi-bin</font> without specifying the script name. (This problem did not occur with scripts having an extension, such as <font face="Courier">myscript.ksh</font>). </p>

<a name="1346250"></a><p class="table">The code was fixed to make the behavior match earlier releases of <font face="Courier">CGIServlet</font>. Using the above example, the code fix ensures that the URL <font face="Courier">http://localhost/mywebapp/cgi-bin/myscript</font> maps to <font face="Courier">/home/user/cgi-bin/myscript</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346252"></a><p class="table">CR102262</p>


		</td>
		<td align="left" valign="top">
			<a name="1346254"></a><p class="table">After parsing an HTTP request containing a null HTTP-Version field, WebLogic Server would throw the following exception:</p>

<a name="1346255"></a><p class="table"><font face="Courier">java.lang.NullPointerException<br>        at <br>weblogic.servlet.internal.ServletRequestImpl.initInputEncoding(ServletRequestImpl.java:727)<br>        at <br>weblogic.servlet.internal.ServletRequestImpl.mergePostParams(ServletRequestImpl.java:565)<br>        at <br>weblogic.servlet.internal.ServletRequestImpl.parseQueryParams(ServletRequestImpl.java:489)<br>        at <br>weblogic.servlet.internal.ServletRequestImpl.getParameter(ServletRequestImpl.java:686)<br>        at <br>weblogic.servlet.internal.ServletRequestImpl.initSessionInfo(ServletRequestImpl.java:1481)<br>        at <br>weblogic.servlet.internal.ServletRequestImpl.getSession(ServletRequestImpl.java:1345)<br>        at <br>weblogic.servlet.internal.ServletContextImpl.invokeServlet(ServletContextImpl.java:1010)<br>        at <br>weblogic.servlet.internal.ServletContextImpl.invokeServlet(ServletContextImpl.java:910)<br>        at <br>weblogic.servlet.internal.ServletContextManager.invokeServlet(ServletContextManager.java:279)<br>        at <br>weblogic.socket.MuxableSocketHTTP.invokeServlet(MuxableSocketHTTP.java:403)<br>        at <br>weblogic.socket.MuxableSocketHTTP.execute(MuxableSocketHTTP.java:285)<br>        at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:130)</font></p>

<a name="1346256"></a><p class="table">The code was fixed to use HTTP/0.9 as the default version when none is specified in the request.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346258"></a><p class="table">CR102574</p>


		</td>
		<td align="left" valign="top">
			<a name="1346260"></a><p class="table">Forcibly shutting down a client to a servlet caused increased memory usage in WebLogic Server, potentially leading to an <font face="Courier">OutOfMemoryError</font>. The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358583"></a><p class="table">CR102689</p>


		</td>
		<td align="left" valign="top">
			<a name="1358585"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/SA_BEA03_36.00.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/SA_BEA03_36.00.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346262"></a><p class="table">CR102769</p>


		</td>
		<td align="left" valign="top">
			<a name="1346264"></a><p class="table">When logging HTTP transactions using extended log format, WebLogic Server did not record query parameters (<font face="Courier">cs-uri-query</font>) for requests made from one Servlet or JSP to another. Also, WebLogic Server recorded the URI (<font face="Courier">cs-uri-stem</font>) of the forwarded request, rather than the original request URI from the client.</p>

<a name="1346265"></a><p class="table">The code was fixed to ensure that the URI and query string of the original request are recorded in <font face="Courier">access.log</font> when logging forwarded HTTP transactions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1350203"></a><p class="table">CR103059</p>


		</td>
		<td align="left" valign="top">
			<a name="1350205"></a><p class="table">A <font face="Courier">&lt;url-pattern&gt;</font> value with a single character in a <font face="Courier">&lt;servlet-mapping&gt;</font> element was not honored in a <font face="Courier">web.xml</font> deployment descriptor. For example, <font face="Courier">&lt;url-pattern&gt;*.f&lt;/url-pattern&gt;</font> produced a 404 File Not Found error when attempting to access <font face="Courier">welcome.f</font>, but <font face="Courier">&lt;url-pattern&gt;*.oop&lt;/url-pattern&gt;</font> worked properly when attempting to access <font face="Courier">welcome.oop</font>.</p>

<a name="1350206"></a><p class="table">This problem has been resolved so that single character <font face="Courier">&lt;url-patterns&gt;</font> now work as expected.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1350216"></a><p class="table">CR103256</p>


		</td>
		<td align="left" valign="top">
			<a name="1350218"></a><p class="table">A code change resulted in performance improvement in JDBC regarding bubble caches in <font face="Courier">JDBCSessionContext</font> and <font face="Courier">JDBCSessionData</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1350232"></a><p class="table">CR103289</p>


		</td>
		<td align="left" valign="top">
			<a name="1350234"></a><p class="table">The <font face="Courier">HttpClusterServlet</font> was not correctly parsing the session id from post data.</p>

<a name="1350235"></a><p class="table">If you sent a request through <font face="Courier">HttpClusterServlet</font> to a cluster, establishing a session, and then sent a second request without a cookie but with the session id in the post parameters, the servlet did not recognize the session.</p>

<a name="1350236"></a><p class="table">The servlet is now able to extract the session id from the post data. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346267"></a><p class="table">CR103339</p>


		</td>
		<td align="left" valign="top">
			<a name="1346269"></a><p class="table">Servlet output capitalized the <font face="Courier">Transfer-Encode</font> value, <font face="Courier">Chunked,</font> instead of using lowercase <font face="Courier">chunked</font> as required by the HTTP/1.1 specification. The code was fixed to ensure that Servlets use the Transfer-Encode type of "<font face="Courier">chunked</font>" in lowercase.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1352682"></a><p class="table">CR103925</p>


		</td>
		<td align="left" valign="top">
			<a name="1352684"></a><p class="table">The <font face="Courier">setAttribute</font> method only checked for <font face="Courier">hashCode</font> equality. It now also checks the result of the equals method for the old and new objects.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346271"></a><p class="table">CR104975</p>


		</td>
		<td align="left" valign="top">
			<a name="1346273"></a><p class="table">If a log rotation failed, WebLogic Server failed to reopen the log file. When this occurred, the trigger to flush the log file could throw a <font face="Courier">java.io.IOException: Bad file descriptor</font>. The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1352698"></a><p class="table">CR105016</p>


		</td>
		<td align="left" valign="top">
			<a name="1352700"></a><p class="table"><font face="Courier">HttpClusterServlet</font> failed to increase its failure count if a WebLogic Server in the cluster was hung. This caused <font face="Courier">HttpClusterServlet</font> to go into an infinite loop if each server in a cluster slept for a time longer than <font face="Courier">HungServerRecoverSeconds</font>, or if 2 out of 3 servers in a cluster slept longer than <font face="Courier">HungServerRecoverSeconds</font>. The code was fixed to ensure that the failure count is properly incremented.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346275"></a><p class="table">CR105339</p>


		</td>
		<td align="left" valign="top">
			<a name="1346277"></a><p class="table">In Service Pack 5, WebLogic Server did not create variable definitions for tag calls that used the <font face="Courier">TagExtraInfo</font> class. The code was fixed to ensure that the variable definitions are again created (as they were in Service Pack 4 and earlier).</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1352726"></a><p class="table">CR106186</p>


		</td>
		<td align="left" valign="top">
			<a name="1352728"></a><p class="table">If you set the buffer size to zero in a servlet, it would fail to respond and would initiate an infinite loop in the server. WebLogic Server would ultimately display a warning similar to:</p>

<a name="1352729"></a><p class="table"><font face="Courier">"Suspend Checker Thread" prio=10 tid=0x23eb90 nid=0xfec runnable<br>&lt;May 14, 2003 10:53:34 AM PDT&gt; &lt;Warning&gt; &lt;WebLogicServer&gt; &lt;000337&gt; <br>&lt;ExecuteThread: '10' for queue: 'default' has been busy for "1,181" seconds working on the request "Http Request: servlet_uri", which is more than the configured time (StuckThreadMaxTime) of "600" seconds.&gt;</font></p>

<a name="1352730"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346279"></a><p class="table">CR107419</p>


		</td>
		<td align="left" valign="top">
			<a name="1346281"></a><p class="table">JSP code that intended to set double byte characters as a parameter's value&#8212;for example:</p>

<a name="1346282"></a><p class="table"><font face="Courier">&lt;jsp:include page="included.jsp"&gt;<br>&lt;jsp:param name="title"<br>value="&lt;%= java.net.URLEncoder.encode(\"[double byte characters]\")<br>%&gt;"/&gt;<br>&lt;/jsp:include&gt;</font></p>

<a name="1346283"></a><p class="table">&#8212;resulted in specified double byte characters being changed to their URL-encoded code. This problem has been resolved.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346285"></a><p class="table">CR108607</p>


		</td>
		<td align="left" valign="top">
			<a name="1346287"></a><p class="table">WebLogic Server produced errors when applications used XSL with the FOP output method to get an image from an archive file. This problem did not occur for applications deployed in exploded format. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1350090"></a><p class="table">CR108350</p>


		</td>
		<td align="left" valign="top">
			<a name="1350092"></a><p class="table">The Administration Console incorrectly indicated that the log file format could be dynamically changed between Common Log Format (CLF) and Extended Log Format (ELF), when such a change actually requires a server reboot. The code was changed to properly indicate the required server reboot when changing this configuration parameter.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346289"></a><p class="table">CR109958</p>


		</td>
		<td align="left" valign="top">
			<a name="1346291"></a><p class="table">When processing requests through a proxy servlet, WebLogic Server only honored the <font face="Courier">SecureProxy</font> setting for incoming requests that used HTTPS. If the incoming request used HTTP, WebLogic Server did not use an HTTPS connection even when <font face="Courier">SecureProxy</font> was enabled in the proxy servlet. This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346293"></a><p class="table">CR110798</p>


		</td>
		<td align="left" valign="top">
			<a name="1346295"></a><p class="table">Calling <font face="Courier">weblogic.servlet.security.ServletAuthentication.killCookie(req)</font> in a JSP caused the session to remain in WebLogic Server without ever being cleaned up. The code was fixed to ensure that the session is invalidated just before <font face="Courier">killCookie(req)</font> completes.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346297"></a><p class="table">CR110914</p>


		</td>
		<td align="left" valign="top">
			<a name="1346299"></a><p class="table">If <font face="Courier">TrackingEnabled</font> was set to false, WebLogic Server created a new session for each request, but the sessions were not getting invalidated.</p>

<a name="1346300"></a><p class="table">The code was modified to invalidate a session immediately if <font face="Courier">TrackingEnabled</font> is set to false. This is the correct behavior.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346302"></a><p class="table">CR111752</p>


		</td>
		<td align="left" valign="top">
			<a name="1346304"></a><p class="table">Under certain conditions, WebLogic Server threw a <font face="Courier">NullPointerException</font> when using <font face="Courier">CGIServlet</font> with the <font face="Courier">useByteStream</font> parameter set to true. The problem occurred when using framesets where one frame contained static URL links and another frame used <font face="Courier">CGIServlet</font>. If a user selected the frame containing static links before the other frame completed downloading a page, an IO exception was caught and presented to the user as:</p>

<a name="1346305"></a><p class="table"><font face="Courier">java.lang.NullPointerException<br> &#32; &#32; &#32;at<br>weblogic.utils.Executable$Drainer.run(Executable.java:366)</font></p>

<a name="1346306"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346308"></a><p class="table">CR112799</p>


		</td>
		<td align="left" valign="top">
			<a name="1346310"></a><p class="table">WebLogic Server attempted to write to an output stream even after an <font face="Courier">IOException</font> occurred. This led to 100% CPU utilization if an unexpected socket disconnection occurred with a Web Application that did not handle <font face="Courier">IOException</font>. </p>

<a name="1346311"></a><p class="table"><font face="Courier">org.apache.xml.serialize.XMLSerializer</font> ignores <font face="Courier">IOException</font> until the end of its process. This caused the problem to occur if an <font face="Courier">IOException</font> was thrown in the middle of returning XML documents as part of an HTTP response.</p>

<a name="1346312"></a><p class="table">The code was modified to ensure that writes to an output stream stop after an <font face="Courier">IOException</font> occurs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346314"></a><p class="table">CR120440</p>


		</td>
		<td align="left" valign="top">
			<a name="1346316"></a><p class="table">When multiple Web Applications were deployed in a Single Sign-On configuration and one application called <font face="Courier">weblogic.servlet.security.ServletAuthentication.invalidateAll(request)</font>, the <font face="Courier">HttpSessionListeners</font> in the other applications were not invoked until their session timeouts occurred. This happened because only the session associated with the first Web Applications was registered for invalidation; after the user was authenticated, subsequent sessions were not registered.</p>

<a name="1346317"></a><p class="table">The code was fixed to ensure that both the session ID and context path of all Web Applications are registered for invalidation as necessary by <font face="Courier">invalidateAll(request)</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1346319"></a><p class="table">CR122177</p>


		</td>
		<td align="left" valign="top">
			<a name="1346321"></a><p class="table">The fix for CR060023 in Service Pack 3 caused the <font face="Courier">FileServlet</font> to return a response code of 200 instead of 404 when a file is not found. The code was fixed to return 404 for when a file is not found.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1350081"></a><p class="table">CR121846</p>


		</td>
		<td align="left" valign="top">
			<a name="1350083"></a><p class="table">In WebLogic Server Service Pack 3, it was possible for the server to write standard log entries to a log file before the writing Extended Log Format headers. This situation could occur during a log rotation when multiple threads attempted to write to the new log file at the same time. </p>

<a name="1350084"></a><p class="table">The code was fixed to ensure that the thread handling the log rotation has exclusive access to the new log file until after the log headers are written.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1358596"></a><p class="table">CR125718</p>


		</td>
		<td align="left" valign="top">
			<a name="1358598"></a><p class="table">WebLogic Server Service Pack 5 could throw a <font face="Courier">NullPointerException</font> when used with Apache and Netegrity's SiteMinder. An initial request forwarded through Apache to SiteMinder, and authenticated by SiteMinder, would also be successfully authenticated by WebLogic Server. However, if the user used the browser's Back button to return to the login page and authenticated again using a different username and password, WebLogic Server threw a <font face="Courier">NullPointerException</font>:</p>

<a name="1358599"></a><p class="table"><font face="Courier">java.lang.NullPointerException<br>        at <br>weblogic.servlet.security.internal.SecurityModule.logoutSession(SecurityModule.java:386)<br>        at <br>weblogic.servlet.security.internal.SecurityModule.checkAuthenticate(SecurityModule.java:292)<br>        at <br>weblogic.servlet.security.ServletAuthentication.weak(ServletAuthentication.java:353)<br>        at com.uprr.security.weblogic.SiteMinderAuthFilter.doPreAuth(Unknown <br>Source)<br>        at weblogic.servlet.security.AuthFilter.service(AuthFilter.java:51)<br>        at <br>weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:262)<br>        at <br>weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:198)<br>        at <br>weblogic.servlet.internal.RequestDispatcherImpl.include(RequestDispatcherImpl.java:530)<br>        at <br>weblogic.servlet.internal.RequestDispatcherImpl.include(RequestDispatcherImpl.java:350)<br>        at <br>weblogic.servlet.security.internal.ServletSecurityManager.checkAccess<br>(ServletSecurityManager.java:144)<br>[...]</font></p>

<a name="1358600"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1347243"></a><p class="head2">SNMP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1347233"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1347235"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1347237"></a><p class="table">CR088000</p>


		</td>
		<td align="left" valign="top">
			<a name="1347239"></a><p class="table">When WebLogic Server 6.1 SP04, a SNMP shutdown trap was not received. </p>

<a name="1347240"></a><p class="table"><font face="Courier">8-Oct-02 15:57:24 FAILURE mytest!0[41]!oam/systest/snmp/oam_snmp!2[69]!if!3[86]!weblogic.qa.tests.oam.systest.snmp.trap.SNMPTrapTest.testServerShutdownTrap() wlsServerShutdownTrap wasn't received. PARAMETERS: managedServerName = oamserver1 adminServerName = adminServer</font></p>

<a name="1347241"></a><p class="table">Analysis revealed that SNMP traps were not generated for Managed Server if the listen address or listen port are overridden with command line option.</p>

<a name="1347242"></a><p class="table">The problem was resolved with a logic change to use the listen port value from ServerMBean, rather than the one in the URL.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1322016"></a><p class="head2">Web Services
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1355990"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1355992"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1355994"></a><p class="table">CR099255 </p>


		</td>
		<td align="left" valign="top">
			<a name="1355996"></a><p class="table">When using two-way SSL to invoke a Web Service, and the client code uses the WSDL of the Web Service in its invocation, the client API now correctly sends the certificates both when making the WSDL lookup <em>and</em> when invoking the operation. Previously, certificates were sent only for the WSDL lookup and not for the actual invocation of the operation.</p>

<a name="1355997"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1355999"></a><p class="table">CR099534</p>


		</td>
		<td align="left" valign="top">
			<a name="1356001"></a><p class="table">The <font face="Courier">wsgen</font> Ant task has been optimized to use a new classloader for every Web Service it assembles from a single <font face="Courier">build.xml</font> file. </p>

<a name="1356002"></a><p class="table">Previously, <font face="Courier">wsgen</font> would use a single classloader for its entire execution, even if there were multiple Web Services listed in the <font face="Courier">build.xml</font> file, and all auxiliary classes for each subsequent Web Service would be obtained from the single classloader and then copied, which was a sub-optimal way of generating all the needed class files. Depending on the number of Web Services in the <font face="Courier">build.xml</font> file that had to be assembled, a full execution of <font face="Courier">wsgen</font> could take over 30 minutes.</p>

<a name="1356003"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1356005"></a><p class="table">CR101383</p>


		</td>
		<td align="left" valign="top">
			<a name="1356007"></a><p class="table">WebLogic Web Services now correctly represent a null <font face="Courier">xsd:dateTime</font> value in the SOAP response as <font face="Courier">xsi:nil='true'</font>. </p>

<a name="1356008"></a><p class="table">Previously, if a WebLogic Web Service returned an <font face="Courier">xsd:dateTime</font> value that was null, it incorrectly represented it in the SOAP response as <font face="Courier">xsi:null='1'</font>, which is how the 1999 version of XML Schema defined null values. WebLogic Web Services support the 2001 version of XML Schema, which defines null values as <font face="Courier">xsi:nil='true'</font>.</p>

<a name="1356009"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1356011"></a><p class="table">CR102677</p>


		</td>
		<td align="left" valign="top">
			<a name="1356013"></a><p class="table">When using the XML Registry for external entity resolution, WebLogic Server no longer returns an error when resolving DTDs using the Public ID.</p>

<a name="1356014"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1356016"></a><p class="table">CR106892</p>


		</td>
		<td align="left" valign="top">
			<a name="1356018"></a><p class="table">The generated WebLogic Web Services client stubs, when sending an XML document to a Web service as an <font face="Courier">org.w3c.dom.Element</font> object, now correctly preserve any new-lines characters inside the body of an element in the XML file. Previously the client stubs would incorrectly convert these new-line characters to spaces.</p>

<a name="1356019"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1356021"></a><p class="table">CR111151</p>


		</td>
		<td align="left" valign="top">
			<a name="1356023"></a><p class="table">WebLogic Web Services now correctly send the utf-8 encoding header in SOAP Fault responses that are generated as a result of an exception in the invocation of the Web Service. The complete correct header is:</p>

<a name="1356024"></a><p class="table"> <font face="Courier">&lt;?xml version="1.0" encoding="utf-8"?&gt;</font></p>

<a name="1356025"></a><p class="table">Previously, WebLogic Web Services did not include this header in SOAP Fault responses. </p>

<a name="1356026"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1360698"></a><p class="head2">WTC-ATMI
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1360689"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1360691"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1360903"></a><p class="table">CR107323</p>


		</td>
		<td align="left" valign="top">
			<a name="1360905"></a><p class="table">In WebLogic Server 6.1 SP03 configured to use Tuxedo 8.0, when WebLogic Server shut down abnormally (CTRL-C) while there were uncommitted Tuxedo transactions, upon restart, the WebLogic Server instance hung. The problem was exhibited in this scenario:</p>


			<ol><a name="1360906"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WebLogic was killed while there are still uncommitted transactions with Tuxedo</font>
<a name="1360907"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WTC is configure to be started "ON_DEMAND"</font>
<a name="1360908"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Start WebLogic</font>
<a name="1360909"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WebLogic hangs with the reported problem</font>
			</ol>
<a name="1360910"></a><p class="table">The problem was not exhibited when:</p>


			<ol><a name="1360911"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WebLogic was killed while there are still uncommitted transactions with Tuxedo</font>
<a name="1360912"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WTC is configure to be started "ON_DEMAND"</font>
<a name="1360913"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Remove WebLogic tlog files "*.tlog"</font>
<a name="1360914"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Start WebLogic</font>
<a name="1360915"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WebLogic starts without any problem</font>
			</ol>
<a name="1360916"></a><p class="table">or when:</p>


			<ol><a name="1360917"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WebLogic was killed while there are still uncommitted transactions with Tuxedo</font>
<a name="1360918"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WTC is configure to be started "ON_STARTUP"</font>
<a name="1360919"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Start WebLogic</font>
<a name="1360920"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WebLogic starts without any problem</font>
			</ol>
<a name="1360921"></a><p class="table">When the hang occurs after a restart, all the threads in the default Group hang with the following stack trace:</p>

<a name="1360922"></a><p class="table"><font face="Courier">at java.lang.Object.wait(Native Method)<br>at java.lang.Object.wait(Object.java:415)<br>at weblogic.wtc.jatmi.TuxXidRply.get_specific_reply (TuxXidRply.java:203)at weblogic.wtc.gwt.TuxedoXA.internalCommit(TuxedoXA.java:259)<br>at weblogic.wtc.gwt.TuxedoXA.commit(TuxedoXA.java:328)<br>at weblogic.wtc.gwt.OatmialCommitter.execute(WTCStartup.java:2767)at...</font></p>

<a name="1360923"></a><p class="table">The problem was solved by modifying the <font face="Courier">weblogic.wtc.gwt.WTCStartup</font> method to sleep for one second after each <font face="Courier">Kernel.execute(myCommitter)</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1360925"></a><p class="table">CR120681</p>


		</td>
		<td align="left" valign="top">
			<a name="1360927"></a><p class="table">In WebLogic Server 6.1 SP02, WebLogic Tuxedo Connector did not properly translate local resource name to remote service name.</p>

<a name="1360928"></a><p class="table">A correction to the translation code solved the problem. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1359541"></a><p class="head2">XML
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr bgcolor="#CCCCCC">
		<th align="left" valign="top">
			<b><a name="1359504"></a><p class="table"><strong>Change Request Number</strong></p>


			</b>
		</th>
		<th align="left" valign="top">
			<b><a name="1359506"></a><p class="table"><strong>Description</strong></p>


			</b>
		</th>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1359735"></a><p class="table">CR102397</p>


		</td>
		<td align="left" valign="top">
			<a name="1359737"></a><p class="table">The Xerces parser always attempted a call to <font face="Courier">System.getProperty()</font>. This would throw an exception in an Applet, which does not have permission to retrieve properties. The following partial exception could be observed in an Applet making a JMS call:</p>

<a name="1359738"></a><p class="table"><font face="Courier">----------- Linked Exception -----------<br>java.rmi.MarshalException: failed to marshal <br>connectionCreate(Lweblogic.jms.dispatcher.DispatcherWrapper;); nested <br>exception is: <br>	java.rmi.UnexpectedException: Failed to parse descriptor file; nested <br>exception is: <br>	java.security.AccessControlException: access denied <br>(java.util.PropertyPermission weblogic.apache.xerces.maxentityrefs read)<br>[...]</font></p>

<a name="1359739"></a><p class="table">The code was modified so that the parser does not attempt to read system properties with Applet clients.</p>


		</td>

	</tr>

</table>


</center>
</p>

<p>&nbsp;</p>
<hr noshade>
<a name="1355978"></a><p class="head1">WebLogic <a name="SP05_Fixes"></a>Server 6.1 Service Pack 5 Solutions</p>

<a name="1322017"></a><p>The following sections describe problems resolved in WebLogic Server 6.1 Service Pack 5.</p>


<ul type="disc">
<ul type="disc">

<a name="1322021"></a><p><li type="disc"><a href="bugfixes2.html#1358152">Core</a>


<a name="1322025"></a><p><li type="disc"><a href="bugfixes2.html#1322198">Connector</a>


<a name="1322029"></a><p><li type="disc"><a href="bugfixes2.html#1322276">Console</a>


<a name="1322033"></a><p><li type="disc"><a href="bugfixes2.html#1322522">Core</a>


<a name="1322037"></a><p><li type="disc"><a href="bugfixes2.html#1322556">Deployment</a>


<a name="1322041"></a><p><li type="disc"><a href="bugfixes2.html#1322730">EJB</a>


<a name="1322045"></a><p><li type="disc"><a href="bugfixes2.html#1322749">Installer</a>


<a name="1322049"></a><p><li type="disc"><a href="bugfixes2.html#1322883">JDBC</a>


<a name="1322053"></a><p><li type="disc"><a href="bugfixes2.html#1322941">jDriver</a>


<a name="1322057"></a><p><li type="disc"><a href="bugfixes2.html#1323042">JMS</a>


<a name="1322061"></a><p><li type="disc"><a href="bugfixes2.html#1323075">JNDI</a>


<a name="1322065"></a><p><li type="disc"><a href="bugfixes2.html#1323140">JSP</a>


<a name="1322069"></a><p><li type="disc"><a href="bugfixes2.html#1323209">JTA</a>


<a name="1322073"></a><p><li type="disc"><a href="bugfixes2.html#1323233">Miscellaneous</a>


<a name="1322077"></a><p><li type="disc"><a href="bugfixes2.html#1323235">Plug-ins</a>


<a name="1322081"></a><p><li type="disc"><a href="bugfixes2.html#1365652">RMI</a>


<a name="1322085"></a><p><li type="disc"><a href="bugfixes2.html#1365627">RMI-IIOP</a>


<a name="1322089"></a><p><li type="disc"><a href="bugfixes2.html#1323568">Security</a>


<a name="1322093"></a><p><li type="disc"><a href="bugfixes2.html#1323887">Servlets</a>


<a name="1322097"></a><p><li type="disc"><a href="bugfixes2.html#1323939">WLS-Tour/Examples</a>


<a name="1322101"></a><p><li type="disc"><a href="bugfixes2.html#1324009">Web Services</a>


<a name="1322105"></a><p><li type="disc"><a href="bugfixes2.html#1324050">WebLogic Tuxedo</a>


<a name="1322109"></a><p><li type="disc"><a href="bugfixes2.html#1324077">XML</a>

</ul>
</ul>
<a name="1334163"></a><p class="head2">Cluster
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1334110"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1334112"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1334114"></a><p class="table">CR082443 </p>


		</td>
		<td align="left" valign="top">
			<a name="1334116"></a><p class="table">In an environment with multiple clusters using the same multicast address, large log files resulted, causing overly frequent file rollover. </p>

<a name="1334117"></a><p class="table">The debug messages are similar to: </p>

<a name="1334118"></a><p class="table"><font face="Courier">####&lt;Jul 23, 2002 4:06:26 PM EDT&gt; &lt;Debug&gt; &lt;Cluster&gt; &lt;ustrntda01&gt; &lt;wts-cluster_test&gt; &lt;ExecuteThread: '9' for queue: 'default'&gt; &lt;&gt; &lt;&gt; &lt;000000&gt; &lt;dropped fragment from foreign domain/cluster domainhash=95475927 clusterhash=-1674453961&gt; </font></p>

<a name="1334119"></a><p class="table">The problem occurred because, in <font face="Courier">weblogic.cluster.ClusterDebug.java</font>, the flag controlling whether or not debug messages are logged was set to true. The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1334121"></a><p class="table">CR087240</p>


		</td>
		<td align="left" valign="top">
			<a name="1334123"></a><p class="table">HTTP session failover resulted in a <font face="Courier">ClassCastException</font>, when the Managed Server hosting the session was shut down. Failover was successful when error message was ignored.</p>

<a name="1334124"></a><p class="table">This problem was reliably reproduced in this configuration:</p>

<a name="1334125"></a><p class="table">1) Two clustered server instances, running  6.1 SP02.</p>

<a name="1334126"></a><p class="table">2) Cluster hosted a WLP 4.0 sSP002 portal application.</p>

<a name="1334127"></a><p class="table">3) One IPlanet web server with WebLogic Server plug-in pointing to the two-node cluster.</p>

<a name="1334128"></a><p class="table">The problem was not consistently reproducible in other configurations.</p>

<a name="1334129"></a><p class="table">This problem was associated with a problem in the WebLogic Server shutdown sequence. </p>

<a name="1334130"></a><p class="table">This problem was resolved by a new service to shutdown <font face="Courier">RMIServerService.</font> </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1334132"></a><p class="table">CR092146</p>


		</td>
		<td align="left" valign="top">
			<a name="1334134"></a><p class="table">Failover did not work for a stateful session bean in a cluster. The request URL contained the local server name instead of the cluster DNS name. </p>

<a name="1334135"></a><p class="table"><font face="Courier">The following exception occurs: java.rmi.NoSuchObjectException: Unable to locate EJBHome: 'statefullCluster' on server: 't3://172.23.135.83:7600 at weblogic.ejb20.internal.HomeHandleImpl.getEJBHome(HomeHandleImpl.java:80) at weblogic.ejb20.internal.HandleImpl.getEJBObject(HandleImpl.java:204) at com.bea.cluster.testClusterEJBServlet.doGet(testClusterEJBServlet.java:137) at javax.servlet.http.HttpServlet.service(HttpServlet.java:740) at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) at weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:262) at weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:198) at weblogic.servlet.internal.WebAppServletContext.invokeServlet(WebAppServletContext.java:2637) at weblogic.servlet.internal.ServletRequestImpl.execute(ServletRequestImpl.java:2359) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120) </font></p>

<a name="1334136"></a><p class="table">Problem was solved by modifying the <font face="Courier">getURL()</font> method in  <font face="Courier">weblogic.ejb20.internal.BaseEJBHome.java </font>to provide the cluster address as the host portion for the URL<font face="Courier">.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1334138"></a><p class="table">CR093809</p>


		</td>
		<td align="left" valign="top">
			<a name="1334140"></a><p class="table">A stack trace resulted from a error looking up a session. A secondary server instance was being shutdown. While making a log entry for a request it served, the HTTP server tried to get the user information from the session. As a result it tried to look up the secondary server even though it was down, resulting in this stack trace.</p>

<a name="1334141"></a><p class="table"><font face="Courier">&lt;Dec 26, 2002 7:17:55 PM EST&gt; &lt;Error&gt; &lt;HTTP Session&gt; &lt;Error looking up session for id:2LcR6Ool2IC5qNtFZhThJClYVYEXt9KWG2ciXmAXZ4XiBAHPiHx4!-1379505194!stcasfi01b.usa-ed.net!8001!7002!-1127797657!stcasfi02b.usa-ed.net!8001!7002 java.rmi.ConnectIOException: Server is being shut down Start server side stack trace: java.rmi.ConnectIOException: Server is being shut down at weblogic.rjvm.RJVMImpl.dispatchRequest(RJVMImpl.java:692) at weblogic.rjvm.RJVMImpl.dispatch(RJVMImpl.java:666) at...</font></p>

<a name="1334142"></a><p class="table">The primary server correctly selected a new secondary from the available server list, and no session data was lost. </p>

<a name="1334143"></a><p class="table">This problem was resolved with a code fix. Now, the server obtains user information from <font face="Courier">ThreadLocal</font>, instead of the session.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1334146"></a><p class="table"><a name="CR094561"></a>CR094561</p>


		</td>
		<td align="left" valign="top">
			<a name="1334150"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-26.01.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-26.01.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1334152"></a><p class="table">CR101609</p>


		</td>
		<td align="left" valign="top">
			<a name="1334154"></a><p class="table">In WebLogic Server 6.1 SP04, session replication stopped working after a failure to replicate a non-serialized object. Invocation of a JSP that tried to set non-serialized data into the session object, resulted in the expected exception:</p>

<a name="1334155"></a><p class="table"><font face="Courier">&lt;Mar 19, 2003 2:58:23 PM PST&gt; &lt;Error&gt; &lt;Cluster&gt; &lt;All session objects should be serializable to replicate. Please check the objects in your session. Failed to replicate non serializable object&gt; </font></p>

<a name="1334156"></a><p class="table">Then, for all subsequent requests, sessions were not replicated, and this exception occurred:</p>

<a name="1334157"></a><p class="table"><font face="Courier">&lt;Mar 19, 2003 2:58:48 PM PST&gt; &lt;Debug&gt; &lt;Cluster&gt; &lt;Unable to create secondary for -8956818414963087828&gt;</font></p>

<a name="1334158"></a><p class="table">The problem was solved with a code change. Now, when a non-serializable object is encountered, the method returns, instead of trying other secondaries.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1334160"></a><p class="table">CR102655</p>


		</td>
		<td align="left" valign="top">
			<a name="1334162"></a><p class="table">Duplicate of CR101609. See above. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1322198"></a><p class="head2">Connector
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1322170"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1322172"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322174"></a><p class="table">CR086251</p>


		</td>
		<td align="left" valign="top">
			<a name="1322176"></a><p class="table">In WebLogic Server 6.1 SP03 the Messaging Bridge Adapter threw a <font face="Courier">NullPointerException</font> in unregisterResource during shutdown.  This occurred if messages have been sent but not consumed before the shutdown of the server has been initiated. The problem did not occur if Messaging Bridge is not deployed and the Adapter is.</p>

<a name="1322177"></a><p class="table">The configuration was:  jms-xa-adp.rar Messaging Bridge Adapter and a Messaging Bridge between MQSeries 5.2 and JMS</p>

<a name="1322178"></a><p class="table">The problem was corrected with a code fix to check wrappedXARes beforing attempting to unregister. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322180"></a><p class="table">CR090002</p>


		</td>
		<td align="left" valign="top">
			<a name="1322182"></a><p class="table">In WebLogic Server 6.1 SP03, <font face="Courier"> JCA-Connection.close</font> throws <font face="Courier">java.lang.reflect.UndeclaredThrowableException</font>  instead of <font face="Courier">ResourceException</font> </p>

<a name="1322183"></a><p class="table">A code fix was implemented to ensure that the resource adaptor's original exception is passed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322185"></a><p class="table">CR090792</p>


		</td>
		<td align="left" valign="top">
			<a name="1322187"></a><p class="table">In WebLogic Server 6.1 SP03 and SP04, RAR deployment failed after any of its descriptor parameters were changed in console.  </p>

<a name="1322188"></a><p class="table">Analysis revealed that any descriptor change in console caused reset of  pool parameters  if they had not been changed from default values.  Pool parameters were inappropriately defined:</p>

<a name="1322189"></a><p class="table"><font face="Courier">&lt;pool-params&gt;</font></p>

<a name="1322190"></a><p class="table"><font face="Courier">    &lt;initial-capacity&gt;0&lt;/initial-capacity&gt;</font></p>

<a name="1322191"></a><p class="table"><font face="Courier">    &lt;max-capacity&gt;0&lt;/max-capacity&gt;</font></p>

<a name="1322192"></a><p class="table"><font face="Courier">    &lt;capacity-increment&gt;0&lt;/capacity-increment&gt;</font></p>

<a name="1322193"></a><p class="table"><font face="Courier">    &lt;shrinking-enabled&gt;false&lt;/shrinking-enabled&gt;</font></p>

<a name="1322194"></a><p class="table"><font face="Courier">    &lt;shrink-period-minutes&gt;0&lt;/shrink-period-minutes&gt;</font></p>

<a name="1322195"></a><p class="table"><font face="Courier">  &lt;/pool-params&gt;</font></p>

<a name="1322196"></a><p class="table">This caused deployment failure due to max capacity value 0 which is prohibited. No activities could be performed on RA after that. </p>

<a name="1322197"></a><p class="table">In 6.1,<font face="Courier"> ResourceAdapterComponentMBean</font> was used when getting descriptor  values. However, <font face="Courier">ResourceAdapterComponentMBean</font> constructor did not automatically have defaults set (the way <font face="Courier">ConnectorComponentMBean</font> does) and also did not set defaults manually. The fix was to set them manually.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1322276"></a><p class="head2">Console
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1322202"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1322204"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322206"></a><p class="table">CR062102</p>


		</td>
		<td align="left" valign="top">
			<a name="1322208"></a><p class="table">A customer with large application (40 MB) migrating from 6.1 SP01 experienced network overload and slow WebLogic Server startup, as a result of WebLogic Server copying the application to Managed Servers at startup.</p>

<a name="1322209"></a><p class="table">A code change was made to address this problem. Now, unchanged applications are not copying to Managed Servers at startup.</p>

<a name="1322210"></a><p class="table">Use the <font face="Courier">forceApplicationCopy</font> parameter to cause applications to be copied to Managed Servers at startup, whether changed or unchanged. See <a href="new.html#1078329">New Parameter for Forced Application Update</a>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322215"></a><p class="table">CR069284</p>


		</td>
		<td align="left" valign="top">
			<a name="1322217"></a><p class="table">When the "Auto Deployment Enabled" attribute on the Domain -&gt; Configuration -&gt; Applications page was turned off,  application components were still deployed automatically when application file was copied to the applications directory.</p>

<a name="1322218"></a><p class="table">Investigation revealed that the "Auto Deployment Enabled" attribute  is not used in WebLogic Server.  Instead, auto deployment is controlled by the <font face="Courier">DomainMBean.setProductionModeEnabled</font> property, which is set at startup on the command line.   </p>

<a name="1322219"></a><p class="table">The <font face="Courier">AutoDeployedEnabled</font> attribute has been removed from the Administration Console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322221"></a><p class="table">CR084607</p>


		</td>
		<td align="left" valign="top">
			<a name="1322223"></a><p class="table">In WebLogic Server 6.1 SP03, an <font face="Courier">InstanceNotFoundException</font> occurred when creating a JMS Topic at runtime in a cluster. The Topic was created with <font face="Courier">JMSHelper.createPermanentTopicAsync</font>  in a startup class targeted to a Managed Server in a cluster.  After the Topic was created, when the user clicked Destination Link for the JMS Server in the Administration Console, this message was displayed :</p>

<a name="1322224"></a><p class="table"><font face="Courier">java.lang.reflect.UndeclaredThrowableException: javax.management.InstanceNotFoundException: mydomain:Name=testTopic12,Type=JMSTopic at com.sun.management.jmx.MBeanServerImpl.getMBean(MBeanServerImpl.java:1680) at com.sun.management.jmx.MBeanServerImpl.getAttribute(MBeanServerImpl.java:1152) at weblogic.management.internal.MBeanProxy.getAttribute(MBeanProxy.java:254) at weblogic.management.internal.MBeanProxy.invoke(MBeanProxy.java:187)</font> </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322226"></a><p class="table">CR088842</p>


		</td>
		<td align="left" valign="top">
			<a name="1322228"></a><p class="table">In WebLogic Server 6.1 SP02, in a configuration with an Administration Server and three Managed Servers, a  deadlock when one of the Managed Servers was restarted. </p>

<a name="1322229"></a><p class="table">Analysis revealed that <font face="Courier">lookupServerRuntime()</font> on a Managed Server resulted in unnecessary <font face="Courier">getMBean()</font> calls to the Administration Server.</p>

<a name="1322230"></a><p class="table">The problem was resolved with a code fix.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322232"></a><p class="table">CR089747</p>


		</td>
		<td align="left" valign="top">
			<a name="1322234"></a><p class="table">In WebLogic Server 6.1 SP03, on Solaris Sparc 2.8, the domain log file did not rotate by time.  Under Windows 2000, 3 log files were created, then rotation stopped. When old log files were deleted, rotation started again. For Windows 2000, log rotation worked after an upgrade from SP01 to SP03, but not with the fresh installation of SP03. The configuration for the domain log is:</p>

<a name="1322235"></a><p class="table"><font face="Courier">&lt;Log FileName="config/mydomain/logs/wl-domain.log" FileTimeSpan="1" Name="mydomain" RotationType="byTime" RotationTime=10:00/&gt; </font></p>

<a name="1322236"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322238"></a><p class="table">CR091359</p>


		</td>
		<td align="left" valign="top">
			<a name="1322240"></a><p class="table">In WebLogic Server 6.1 SP03 and SP04, the Administration Console option:</p>

<a name="1322241"></a><p class="table"><font face="Courier">Web Application-&gt;</font><em><font face="Courier">webapp1</font></em><font face="Courier">-&gt;Monitoring-&gt;Monitor all Active Web Applications...</font></p>

<a name="1322242"></a><p class="table">did not work for a web application inside an .ear file. </p>

<a name="1322243"></a><p class="table">The problem was resolved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322245"></a><p class="table">CR093409</p>


		</td>
		<td align="left" valign="top">
			<a name="1322247"></a><p class="table">A configuration with one Administration Server and five Managed Servers, running under WebLogic Server 6.1 SP02, Solaris 2.8, and JDK1.3.1_04, an attempt to deploy an EAR with 3 EJB components using <font face="Courier">weblogic.deploy</font> utility from a different machine caused the Administration Server to hang.  The thread dump reported a deadlock. The stack trace contained:</p>

<a name="1322248"></a><p class="table"><font face="Courier">Execute thread 4(admin_rmi queue) holds lock of the com.sun.management.jmx.MBeanServerImpl and waiting to acquire lock on weblogic.logging.LogManager. Execute thread 8(default queue) holds lock of the weblogic.logging.LogManager and waiting to acquire lock on com.sun.management.jmx.MBeanServerImpl</font>. </p>

<a name="1322249"></a><p class="table">Analysis revealed a deadlock in the <font face="Courier">LogManager</font> and <font face="Courier">FileStreamLogger.</font></p>

<a name="1322250"></a><p class="table">A code fix resolved the error.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322252"></a><p class="table">CR096726</p>


		</td>
		<td align="left" valign="top">
			<a name="1322254"></a><p class="table">In WebLogic Server 6.1 SP02, invocation of <font face="Courier">MBeanHome.deleteMBean()</font> resulted in a null point exception.</p>

<a name="1322255"></a><p class="table">The configuration was four managed servers, each on a different physical machine, with a JMX client running against each (on one-to-one basis). The JMX clients encounter  NullPointerException when doing a <font face="Courier">MBeanHome.deleteMBean</font>. </p>

<a name="1322256"></a><p class="table">Analysis revealed that the problem was related to the asynchronous deletion of multiple Managed Servers. One Managed Servers deleted its references in other mbeans before deleting itself, while another Managed Servers does the same thing, resulting in null pointer exception. </p>

<a name="1322257"></a><p class="table">The problem was resolved by implementing <font face="Courier">try/except</font> blocks around the code that obtains the metadata for an MBean (i.e., <font face="Courier">mbean.getMBeanInfo()</font>). When deleting an MBean, a  list of current MBeans in the MBeanServer is first obtained, then references to the bean being deleted are removed. The problem is, is that other delete threads are doing the same thing and thus may delete a bean in our (static) list, so when we go to get the meta-data on the bean to update it, we NPE. This patch ignores that NPE and we go to the next one in our list. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322259"></a><p class="table">CR096950</p>


		</td>
		<td align="left" valign="top">
			<a name="1322262"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-28.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-28.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322264"></a><p class="table">CR098623</p>


		</td>
		<td align="left" valign="top">
			<a name="1322266"></a><p class="table">When a portal application, such as <font face="Courier">&lt;beahome&gt;\wlportal4.0\applications\portal </font>was deployed as an EAR file, it was  not possible to modify parameters  in <font face="Courier">application-config.xml</font> with the Administration Console.  A code fix resolved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322268"></a><p class="table">CR098739</p>


		</td>
		<td align="left" valign="top">
			<a name="1322270"></a><p class="table">In WebLogic Server 6.1 SP02, a Java deadlock was detected in an Administration Server. The thread dump indicated a java level deadlock as follows, where Thread 8 holds the lock on<font face="Courier"> RemoteMBeanServerImpl</font> and tries to obtain one on <font face="Courier">LogManager</font>, which is held by Thread 6 who is in turn waiting on <font face="Courier">RemoteMBeanServerImpl</font>.</p>

<a name="1322271"></a><p class="table">Java Stack for "ExecuteThread: '8' for queue: <font face="Courier">'__weblogic_admin_rmi_queue'"</font>:</p>

<a name="1322272"></a><p class="table"><font face="Courier">at weblogic.logging.LogManager.addSubsystem(LogManager.java:<br>58) - waiting to lock &lt;f55b6358&gt; (a weblogic.logging.Log<br>Manager) at weblogic.logging.LogOutputStream.getLogManager<br>(LogOutputStream.java:32) at weblogic.logging.LogOutput<br>Stream.error(LogOutputStream.java:63) at weblogic.management.<br>internal.Helper.error(Helper.java:1391) at weblogic.<br>management.internal.Helper.error(Helper.java:1404) at weblogic.management.internal.ConfigurationMBeanImpl.<br>postDeregister(ConfigurationMBeanImpl.java:900) at com.sun.<br>management.jmx.MBeanServerImpl.postDeregisterInvoker<br>(MBeanServerImpl.java:2314) at com.sun.management.jmx.MBean<br>ServerImpl.unregisterMBean(MBeanServerImpl.java:967) - locked &lt;f550eec8&gt; (a weblogic.management.internal.RemoteMBean<br>ServerImpl) at weblogic.management.internal.RemoteMBeanServer<br>Impl.unregisterMBean(RemoteMBeanServerImpl.java:213) at ..</font></p>

<a name="1322273"></a><p class="table">Java Stack for "ExecuteThread: '6' for queue: 'default'":</p>

<a name="1322274"></a><p class="table"><font face="Courier">at com.sun.management.jmx.MBeanServerImpl.getMBean(MBean<br>ServerImpl.java:1672) at com.sun.management.jmx.MBeanServer<br>Impl.getAttribute(MBeanServerImpl.java:1150) at weblogic.<br>management.internal.MBeanProxy.getAttribute(MBeanProxy.java:254) at weblogic.management.internal.MBeanProxy.invoke<br>(MBeanProxy.java:187) at $Proxy7.isStdoutEnabled(Unknown Source) at weblogic.logging.ConsoleLogger.isLog(Console<br>Logger.java:81) at weblogic.logging.ConsoleLogger.log<br>(ConsoleLogger.java:70) at weblogic.logging.LogManager.log(Log<br>Manager.java:260) - locked &lt;f55b6358&gt; (a weblogic.logging.LogManager) at weblogic.logging.MessageLogger.log(MessageLogger.java:17) at weblogic.t3.srvr.T3SrvrLogger.logRemovingClientContextSoftDisconnect(T3SrvrLogger.java:1204) at weblogic.t3.srvr.ClientContext.dieIfTimedOut(ClientContext.java:512) at ... </font></p>

<a name="1322275"></a><p class="table">The problem was solved by a code change to remove unnecessary locks in <font face="Courier">LogManager.</font></p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1322522"></a><p class="head2">Core
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1322280"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1322282"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322284"></a><p class="table">CR036602</p>


		</td>
		<td align="left" valign="top">
			<a name="1322286"></a><p class="table">The <font face="Courier">ClusterMBean.setClusterAddress()</font>method accepted an illegal value and did not throw an <font face="Courier">IllegalArgumentException</font>.</p>

<a name="1322287"></a><p class="table">The problem was resolved by checking that the cluster address is during server startup.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322289"></a><p class="table">CR036603</p>


		</td>
		<td align="left" valign="top">
			<a name="1322291"></a><p class="table">The <font face="Courier">ClusterMBean.setMultiCustAddress()</font> method accepted an illegal value and did not throw an <font face="Courier">IllegalArgument Exception</font>.</p>

<a name="1322292"></a><p class="table">The problem was resolved by a code change.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322294"></a><p class="table">CR077170</p>


		</td>
		<td align="left" valign="top">
			<a name="1322296"></a><p class="table">In WebLogic Server 6.1 SP03, stopping a Managed Server after its Administration Server was shutdown caused an exception. The problem occurred with this sequence of actions:</p>


			<ol><a name="1322297"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Start an Administration Server and a Managed Server. </font>
<a name="1322298"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Shutdown the Administration Server. </font>
<a name="1322299"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Invoke the 'stop' method on the <font face="Courier">ServerConfigMBean</font> of the Managed Server.</font>
			</ol>
<a name="1322300"></a><p class="table">This exception resulted:</p>

<a name="1322301"></a><p class="table"><font face="Courier">Unexpected Exception Start server side stack trace: java.rmi.ConnectException: Unable to get direct or routed connection to: '-19546889165621794S:dwarkamai:[7001,7001,-1,-1,7001,-1,-1]:OAMdomain:adminServer' at weblogic.rmi.internal.BasicOutboundRequest.sendReceive(BasicOutboundRequest.java:109) at weblogic.rmi.internal.BasicRemoteRef.invoke(BasicRemoteRef.java:127) at... </font></p>

<a name="1322302"></a><p class="table">The shutdown command from <font face="Courier">weblogic.Admin</font> was successful. </p>

<a name="1322303"></a><p class="table">The problem was solved by catching the exception that occurs when shutting down Managed Server when Administration Server is down.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322305"></a><p class="table">CR079354</p>


		</td>
		<td align="left" valign="top">
			<a name="1322307"></a><p class="table">In WebLogic Server 6.1 SP02 a Java client accessing a DataSource via the Apache plug-in received a <font face="Courier">TunnelDeadResponse</font> . </p>

<a name="1322308"></a><p class="table">WebLogic Server was running under running under Windows2000, and had patch CR061847.  The plug-in was running under Solaris.</p>

<a name="1322309"></a><p class="table">The exception was: </p>

<a name="1322310"></a><p class="table"><font face="Courier">&lt;May 31, 2002 4:16:35 PM PDT&gt; &lt;Error&gt; &lt;HTTPClientJVMConnection&gt; &lt;java.net.ProtocolException: Tunneling result not OK, result: 'DEAD', id: '2' at weblogic.rjvm.http.HTTPClientJVMConnection.receiveAndDispatch (HTTPClientJVMConnection.java:413) at weblogic.rjvm.http.HTTPClientJVMConnection.execute (HTTPClientJVMConnection.java:296) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)&gt; </font></p>

<a name="1322311"></a><p class="table">When the plug-in was removed, the exception did not occur.</p>

<a name="1322312"></a><p class="table">Analysis revealed that WebLogic Server could not find an RJVM for the host/port combination, although one existed, because the rjvm manager's synonym cache did not maintain the port information. When WebLogic Server failed to find a match in the cache when bootstrapping, it created a new RJVM. </p>

<a name="1322313"></a><p class="table">After bootstrapping, WebLogic Server identified the new RJVM as a duplicate, and attempted to close it. In some cases, the message was not delivered to the server if queued. This caused the server to timeout on the RJVM and send a DEAD response.</p>

<a name="1322314"></a><p class="table">This problem was resolved by a code change to make the synonym cache maintain port information.   </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322316"></a><p class="table">CR089470</p>


		</td>
		<td align="left" valign="top">
			<a name="1322318"></a><p class="table">In WebLogic Server 6.1 SP03, Node Manager threw <font face="Courier">NumberFormatException</font> when a client socket connects and then closes:</p>

<a name="1322319"></a><p class="table"><font face="Courier">&lt;Oct 28, 2002 3:38:18 PM CST&gt; &lt;Info&gt; &lt;NodeManager@localhost:5555&gt; </font></p>

<a name="1322320"></a><p class="table"><font face="Courier">&lt;SecureSocketListener: listening on localhost:5555&gt;</font></p>

<a name="1322321"></a><p class="table"><font face="Courier">java.lang.NumberFormatException: null</font></p>

<a name="1322322"></a><p class="table"><font face="Courier">        at java.lang.Integer.parseInt(Integer.java:382)</font></p>

<a name="1322323"></a><p class="table"><font face="Courier">        at java.lang.Integer.parseInt(Integer.java:463)</font></p>

<a name="1322324"></a><p class="table"><font face="Courier">        at </font></p>

<a name="1322325"></a><p class="table"><font face="Courier">weblogic.nodemanager.SocketInputHandler.run(SocketInputHandler.java:109)</font></p>

<a name="1322326"></a><p class="table">There were no discernible side effects.  Node Manager could still start and stop Managed Servers after the error.</p>

<a name="1322327"></a><p class="table">A code fix was implemented to handle exceptions on sockets that are opened and closed with  out any transfer of data.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322329"></a><p class="table">CR070887</p>


		</td>
		<td align="left" valign="top">
			<a name="1322331"></a><p class="table">In WebLogic Server 6.1 with or without SP02, <font face="Courier">setInstanceFollowRedirects()</font> does not work.</p>

<a name="1322332"></a><p class="table">JDK1.3.1 introduced the following methods in <font face="Courier">java.net.HttpURLConnection: getInstanceFollowRedirects()</font> and <font face="Courier">setInstanceFollowRedirects()</font>.</p>

<a name="1322333"></a><p class="table">These methods can be used to disable URL redirects for a specific <font face="Courier">HttpURLConnection</font>. <font face="Courier">HttpURLConnection</font> was ignoring the flag set by  <font face="Courier">setInstanceFollowRedirects().   </font></p>

<a name="1322334"></a><p class="table">The problem was solved by a code fix to <font face="Courier">HttpURLConnection</font>'s redirect logic to ensure process redirects in accordance with the setting of <font face="Courier">InstanceFollow<br>Redirects</font>.    </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322336"></a><p class="table">CR077108</p>


		</td>
		<td align="left" valign="top">
			<a name="1322338"></a><p class="table">During load testing of a 35-plus node cluster, a null pointer exception was encountered at <font face="Courier">weblogic.utils.collections.NumericValueHashtable.<br>containsKey(NumericValueHashtable.java:138) </font></p>

<a name="1322339"></a><p class="table"><font face="Courier">&lt;May 9, 2002 5:08:22 PM BST&gt; &lt;Error&gt; &lt;Management&gt; &lt;InvocationTargetException getting attribute SecondaryDistributionNames on MBean bluemartini:Location<br>=WebConnectaw01,Name=WebConnectaw01,ServerRuntime=WebConnectaw01,Type=ClusterRuntime. Method: public java.lang.String[] weblogic.cluster.ClusterRuntime.getSecondaryDistributionNames() java.lang.NullPointerException at weblogic.utils.<br>collections.NumericValueHashtable.containsKey(NumericValueHashtable.java:138) at weblogic.cluster.replication.<br>ReplicationManager.getSecondaryDistributionNames(ReplicationManager.java:1245) at weblogic.cluster.ClusterRuntime.</font></p>

<a name="1322340"></a><p class="table"><font face="Courier">getSecondaryDistributionNames(ClusterRuntime.java:100) at java.lang.reflect.Method.invoke(Native Method) at weblogic.management.internal.DynamicMBeanImpl.getAttribute(DynamicMBeanImpl.java:511) at weblogic.management.internal.<br>DynamicMBeanImpl.getAttribute(DynamicMBeanImpl.java:477) at com.sun.management.jmx.MBeanServerImpl.getAttribute(MBeanServerImpl.java:1181) at com.sun.management.jmx.MBeanServer<br>Impl.getAttribute(MBeanServerImpl.java:1151) at weblogic.management.internal.RemoteMBeanServerImpl_WLSkel.invoke(Unknown Source) at weblogic.rmi.internal.BasicServer<br>Ref.invoke(BasicServerRef.java:298) at weblogic.rmi.<br>internal.BasicServerRef.handleRequest(BasicServerRef.java:267) at weblogic.rmi.internal.BasicExecuteRequest.execute<br>(BasicExecuteRequest.java:22) at weblogic.kernel.Execute<br>Thread.execute(ExecuteThread.java:139) at weblogic.kernel.<br>ExecuteThread.run(ExecuteThread.java:120) </font></p>

<a name="1322341"></a><p class="table">Analysis determined that the <font face="Courier">getSecondaryDistributedNames()</font> method should allow for null value from <font face="Courier">getOtherHost()</font>. Problem resolved.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322343"></a><p class="table">CR079354</p>


		</td>
		<td align="left" valign="top">
			<a name="1322345"></a><p class="table">In WebLogic Server 6.1 SP02 and patch CR061847, a Java swing client obtaining context and accessing a JDBC data source received a <font face="Courier">TunnelDeadResponse</font>. The client gets an initial context, gets a connection via a datasource, closes the initial context, closes the connection, and then repeats this sequence of processing.  This error results:     </p>

<a name="1322346"></a><p class="table">On the server, this exception was thrown:    </p>

<a name="1322347"></a><p class="table"><font face="Courier"> ####&lt;Nov 21, 2002 12:24:20 PM CST&gt; &lt;Debug&gt; &lt;HTTPServerJVMConnection&gt; &lt;hpwlinc03&gt; &lt;admin&gt; &lt;ExecuteThread: '14' for queue: 'default'&gt; &lt;&gt; &lt;&gt; &lt;000000&gt; &lt;Closing JVM socket: 'weblogic.rjvm.http.HTTPServerJVMConnection@4cfbd8 - id: '0', closed: 'true', lastRecv: '1037903025816''&gt; java.lang.<br>Throwable: Stack trace at weblogic.rjvm.http.HTTPServer<br>JVMConnection.close(HTTPServerJVMConnection.java:383) at weblogic.rjvm.ConnectionManager.removeConnection(ConnectionManager.java:879) at weblogic.rjvm.ConnectionManager.<br>shutdown(ConnectionManager.java:508) at weblogic.rjvm.<br>ConnectionManagerServer.shutdown(ConnectionManagerServer.java:443) at weblogic.rjvm.RJVMImpl.peerGone(RJVMImpl.java:804) at weblogic.rjvm.RJVMImpl.gotExceptionReceiving<br>(RJVMImpl.java:533) at weblogic.rjvm.ConnectionManager.got<br>ExceptionReceiving(ConnectionManager.java:736) at weblogic.rjvm.http.HTTPServerJVMConnection.checkIsDead(HTTPServerJVMConnection.java:238) at weblogic.rjvm.http.HTTPServer<br>JVMConnection$TunnelScavenger.trigger(HTTPServerJVMConnection.java:405) at weblogic.time.common.internal.<br>ScheduledTrigger.executeLocally(ScheduledTrigger.java:238) at weblogic.time.common.internal.ScheduledTrigger.<br>execute(ScheduledTrigger.java:229) at weblogic.kernel.Execute<br>Thread.execute(ExecuteThread.java:139) at weblogic.kernel.<br>ExecuteThread.run(ExecuteThread.java:120) </font></p>

<a name="1322348"></a><p class="table">The client threw this exception:</p>

<a name="1322349"></a><p class="table"><font face="Courier">&lt;Nov 21, 2002 12:24:18 PM CST&gt; &lt;Error&gt; &lt;HTTPClientJVM<br>Connection&gt; &lt; java.net.Protocol Exception: Tunneling <br>result not OK, result: 'DEAD', id: '0' at weblogic.rjvm.<br>http.HTTPClientJVMConnection.receiveAndDispatch(HTTPCli entJVMConnection.java:413) at weblogic.rjvm.http.HTTPClient<br>JVMConnection.execute(HTTPClientJVMConne ction.java:296) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139) at  weblogic.kernel.ExecuteThread.run(ExecuteThread.<br>java:120) </font></p>

<a name="1322350"></a><p class="table">Diagnosis revealed that a timeout occurred after WebLogic Server failed to find an RJVM for  host/port combination, although it existed. The RJVM's synonym cache did not maintain port information. The problem was solved with a code fix to maintain port information in the RJVM's synonym cache.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322352"></a><p class="table">CR080822</p>


		</td>
		<td align="left" valign="top">
			<a name="1322354"></a><p class="table">In the Solaris distribution with Performance Pack, log messages showed an  incorrect value for the file descriptor soft limit. The value of  file descriptor hard limit was shown for both the soft limit and hard limit.</p>

<a name="1322355"></a><p class="table">This is the error in <font face="Courier">weblogic.log</font>:</p>

<a name="1322356"></a><p class="table"><font face="Courier">####&lt;Mar 5, 2002 5:07:27 PM PST&gt; &lt;Info&gt; &lt;Posix Performance Pack&gt; &lt;bolinas&gt; &lt;myserver&gt; &lt;ListenThread&gt; &lt;system&gt; &lt;&gt; &lt;000000&gt; &lt;System has file descriptor limits of- soft: '1024', hard: '1024'&gt;</font></p>

<a name="1322357"></a><p class="table"><font face="Courier">####&lt;Mar 5, 2002 5:07:27 PM PST&gt; &lt;Info&gt; &lt;Posix Performance Pack&gt; &lt;bolinas&gt; &lt;myserver&gt; &lt;ListenThread&gt; &lt;system&gt; &lt;&gt; &lt;000000&gt; &lt;Using effective file descriptor limit of: '1024' open sockets/files.&gt;  </font></p>

<a name="1322358"></a><p class="table">This error was exhibited under Solaris 2.6 and  Solaris 2.8. </p>

<a name="1322359"></a><p class="table">The error was corrected by a syntax correction to associated  script template.  The incorrect syntax: </p>

<a name="1322360"></a><p class="table"><font face="Courier">[ !$? -a "$maxfiles" != 1024 ]; </font></p>

<a name="1322361"></a><p class="table">was replaced by:</p>

<a name="1322362"></a><p class="table"><font face="Courier">[ ! $? -a "$maxfiles" != 1024 ];  </font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322364"></a><p class="table">CR085259</p>


		</td>
		<td align="left" valign="top">
			<a name="1322366"></a><p class="table">Session data was replicated across two separate WebLogic Clusters, hosted in a  common domain, when each cluster used the same name for the session cookie.  </p>

<a name="1322367"></a><p class="table">Problem was solved by implementing a check to verify that the secondary host/port is in the same cluster as the primary host for the session.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322369"></a><p class="table">CR086425</p>


		</td>
		<td align="left" valign="top">
			<a name="1322371"></a><p class="table">Duplicate of CR085259.  See above.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322373"></a><p class="table">CR086758</p>


		</td>
		<td align="left" valign="top">
			<a name="1322375"></a><p class="table">In a multi-tier implementation, after ten hours of stress testing, the web tier hung. This occurred while the web tier (consisting of servlets, jsps, and custom classes that implement a custom cache) was communicating with the EJB tier (all stateless session beans), after the EJB tier closed the Connection Manager, due to missed RJVM heartbeats. </p>

<a name="1322376"></a><p class="table">Before the web tier hangs the following are the exceptions are thrown in the ejb tier. <font face="Courier">&lt;Sep 24, 2002 8:43:58 AM PDT&gt; &lt;Info&gt; &lt;RJVM&gt; &lt;Failure in heartbeat trigger for RJVM: '7831636024374910916S:10.10.10.187:[8001,8001,8002,8002,8001,8002,-1]:webserver:sourcingWebserver' java.rmi.ConnectException: The connection manager to ConnectionManager for: 'weblogic.rjvm.RJVMImpl@3bedf2 - id: '7831636024374910916S:10.10.10.187:[8001,8001,8002,8002,8001,8002,-1]:webserver:sourcingWebserver' connect time: 'Tue Sep 24 06:15:16 PDT 2002'' has already been shut down at weblogic.rjvm.ConnectionManager.getOutputStream(ConnectionManager.java:1348) at weblogic.rjvm.ConnectionManager.createHeartbeatMsg(ConnectionManager.java:1306) at weblogic.rjvm.ConnectionManager.sendHeartbeatMsg(ConnectionManager.java:497) at weblogic.rjvm.RJVMImpl$HeartbeatChecker.trigger(RJVMImpl.java:1032) at weblogic.time.common.internal.ScheduledTrigger.executeLocally(ScheduledTrigger.java:238) at weblogic.time.common.internal.ScheduledTrigger.execute(ScheduledTrigger.java:229) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120) </font></p>

<a name="1322377"></a><p class="table">Problem was solved by adding logic to assure that pending responses are notified of peer gone events.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322380"></a><p class="table"><a name="CR087808"></a>CR087808</p>


		</td>
		<td align="left" valign="top">
			<a name="1322382"></a><p class="table">In WebLogic Server 6.1 SP03 on a Sunblade 100 single-CUP Solaris machine, two independent server instances could not look up InitialContext on each other. After one server instance looked up <font face="Courier">InitialContext</font>, when a second server instance on the the same machine tried to look up <font face="Courier">InitialContext</font> on the same machine this exception resulted:</p>

<a name="1322383"></a><p class="table"><font face="Courier">&lt;2002/10/09 4:23:56:JST&gt; &lt;Debug&gt; &lt;ConnectionManager&gt; &lt;Attempt to sendMsg using a closed connection&gt; javax.naming.CommunicationException. Root exception is java.rmi.ConnectException: Attempt to sendMsg using a closed connection at weblogic.rmi.internal.BasicOutboundRequest.sendReceive(BasicOutboundRequest.java:85) at weblogic.rmi.cluster.ReplicaAwareRemoteRef.invoke(ReplicaAwareRemoteRef.java:262) at weblogic.rmi.cluster.ReplicaAwareRemoteRef.invoke(ReplicaAwareRemoteRef.java:229) at weblogic.rmi.internal.ProxyStub.invoke(ProxyStub.java:35) at $Proxy45.lookup(Unknown Source) at weblogic.jndi.internal.WLContextImpl.lookup(WLContextImpl.java:341) at javax.naming.InitialContext.lookup(InitialContext.java:345) at com.bea.samples.servlet.TestServlet.service(TestServlet.java:40) at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) at weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:265) at weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:200) at weblogic.servlet.internal.WebAppServletContext.invokeServlet(WebAppServletContext.java:2546) at weblogic.servlet.internal.ServletRequestImpl.execute(ServletRequestImpl.java:2260) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)  </font></p>

<a name="1322384"></a><p class="table">The problem was not replicated on Sun Enterprise.  The problem did not occur on Sun Blade, if the lookup was done using an IP address instead of localhost. </p>

<a name="1322385"></a><p class="table">Analysis indicated that client RJVM tried to close duplicate <font face="Courier">T3JVMConnections</font>. It issued a <font face="Courier">CMD_REQUEST_CLOSE</font> to the server and closed the RJVM. However, if the server queued this message, then the RJVM was marked as closed. </p>

<a name="1322386"></a><p class="table">The problem was solved by a code change to prevent RJVM shutdown when detecting duplicate connections and <font face="Courier">CMD_REQUEST_CLOSE</font> does not get delivered to server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322388"></a><p class="table">CR087944</p>


		</td>
		<td align="left" valign="top">
			<a name="1322390"></a><p class="table">Running under Windows XP resulted in a  <font face="Courier">java.lang.UnsatisfiedLinkError: no muxer in java.library.path</font> error.  </p>

<a name="1322391"></a><p class="table">This is because WebLogic Server does not correctly report Windows XP as the host operating system.  With   JDK 1.3.1_03, <font face="Courier">os.name</font> is returned "Windows 2000".</p>

<a name="1322392"></a><p class="table"> Modification of a method in the <font face="Courier">SocketMuxer </font>resolved the problem..</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322394"></a><p class="table">CR088022</p>


		</td>
		<td align="left" valign="top">
			<a name="1322396"></a><p class="table">After starting Managed Servers with Node Manager, information about communications between the Administration Server and Managed Servers, such as the network channel used and the JVM ID, could not be viewed by right-clicking the server name in the left pane of the Administration console and selecting "View connections".  </p>

<a name="1322397"></a><p class="table">Analysis revealed that the <font face="Courier">getConnections()</font> method of <font face="Courier">ServerRuntimeMBean</font> was returning zero connection object instances, due to an underlying bug in <font face="Courier">ConnectionManagerServer</font>. </p>

<a name="1322398"></a><p class="table">The problem was resolved by a a code fix to ensure that connection manager reports on connections for which the RJVM is null.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322400"></a><p class="table">CR088056 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322402"></a><p class="table">WebLogic Server muxer libraries did not have build dates, making it difficult to determine which version of a library was in use. Although <font face="Courier">NTSocketMuxe</font>r had the build date/time embedded, <font face="Courier">PosixSocketMuxer</font> did not. </p>

<a name="1322403"></a><p class="table">Problem solved by adding build date/time to  <font face="Courier">PosixSocketMuxer</font>.  Now, the following message will be displayed when the muxer initializes:</p>

<a name="1322404"></a><p class="table"> <font face="Courier">&lt;Oct 15, 2002 3:44:04 PM PDT&gt; &lt;Info&gt; &lt;socket&gt; &lt;000406&gt; &lt;PosixSocketMuxer was built on Oct 15 2002 15:05:11&gt; </font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322406"></a><p class="table">CR089060</p>


		</td>
		<td align="left" valign="top">
			<a name="1322408"></a><p class="table">Under OS/390 Linux (SuSE Linux Kernel 2.2),  <font face="Courier">libmuxer.so</font> threw this error:</p>

<a name="1322409"></a><p class="table"><font face="Courier">java.lang.UnsatisfiedLinkError: /opt/weblogic6/lib/linux/s390/libmuxer.so: /opt/weblogic6/lib/linux/s390/libmuxer.so: ELF file machine architecture not s390 at java.lang.ClassLoader$NativeLibrary.<br>load(Native Method) at java.lang.ClassLoader.loadLibrary0<br>(ClassLoader.java:1799)</font></p>

<a name="1322410"></a><p class="table">The problem was resolved by providing binaries for the Linux Kernel 2.2.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322412"></a><p class="table">CR089144</p>


		</td>
		<td align="left" valign="top">
			<a name="1322414"></a><p class="table">Deployment of an EJB with a custom call router in the jar failed with <font face="Courier">IllegalArgumentException</font>. The class failed to load because the <font face="Courier">classForName()</font> method of the <font face="Courier">ReplicaAwareInfo</font> class looked for classes in the system classloader instead of the <font face="Courier">ContextClassLoader</font> on the current thread.</p>

<a name="1322415"></a><p class="table">Stacktrace: </p>

<a name="1322416"></a><p class="table"><font face="Courier">java.lang.reflect.InvocationTargetException: java.lang.<br>IllegalArgumentException: Class weblogic.qa.tests.cluster.<br>ejb.callrouter.BaseCallRouterImpl not found at weblogic.rmi.<br>cluster.ReplicaAwareInfo.classForName(ReplicaAwareInfo.java:172) at weblogic.rmi.cluster.ReplicaAwareInfo.getCallRouter<br>(ReplicaAwareInfo.java:132) at weblogic.rmi.cluster.Basic<br>ReplicaHandler.newReplicaList(BasicReplicaHandler.java:78) at weblogic.rmi.cluster.BasicReplicaHandler.&lt;init&gt;(Basic<br>ReplicaHandler.java:72) at java.lang.reflect.Constructor.<br>newInstance(Native Method) at weblogic.rmi.cluster.Replica<br>AwareInfo.instantiate(ReplicaAwareInfo.java:186) at weblogic.rmi.cluster.ReplicaAwareInfo.getReplicaHandler(ReplicaAwareInfo.java:117) at weblogic.rmi.cluster.ReplicaAware<br>RemoteRef.initialize(ReplicaAwareRemoteRef.java:79) at weblogic.rmi.cluster.ClusterableRemoteRef.initialize(ClusterableRemoteRef.java:28) at weblogic.rmi.cluster.Clusterable<br>RemoteObject.initializeRef(ClusterableRemoteObject.java:275) at weblogic.rmi.cluster.ClusterableRemoteObject.onBind<br>(ClusterableRemoteObject.java:150) at weblogic.jndi.<br>internal.BasicNamingNode.bindHere(BasicNamingNode.java:346) at weblogic.jndi.internal.ServerNamingNode.bindHere(Server<br>NamingNode.java:105) at weblogic.jndi.internal.BasicNaming<br>Node.bind(BasicNamingNode.java:281) at ...</font></p>

<a name="1322417"></a><p class="table">Problem was resolved by setting the context classloader to the application classloader while calling <font face="Courier">deploy()</font> on <font face="Courier">ClientDrivenBeanInfoImpl</font> and checking in the context classloader to load the call router class.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322419"></a><p class="table">CR089454</p>


		</td>
		<td align="left" valign="top">
			<a name="1322421"></a><p class="table">A new ability to throttle incoming request traffic by configuring the maximum length of an execute queue has been provided. The maximum length of an execute queue can be set with the new <font face="Courier">-D</font> flag, <font face="Courier">weblogic.kernel.allowQueueThrottling.</font></p>

<a name="1322422"></a><p class="table">This capability is provided to help customers throttle "slow moving resource intensive" requests on a custom queue. Queue throttling is supported for custom application queues, not for default or WebLogic Server internal queues. </p>

<a name="1322423"></a><p class="table">When the configured queue length is exceeded calls to <font face="Courier">Kernel.execute()</font> will result in client receiving a recoverable remote exception, and a 503 response. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322425"></a><p class="table">CR090071 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322427"></a><p class="table">A high volume of assertion failed errors occurred in <font face="Courier">PosixSocketMuxer.cleanup()</font>, accompanied by a steady growth in the number of sockets in the CLOSE_WAIT state. <font face="Courier">ulimit</font> was reached, and server instance restart was  required. </p>

<a name="1322428"></a><p class="table">Problem was solved by implementing logic that checks if <font face="Courier">fdr.sock</font> is null before throwing an assertion error in cleanup.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322430"></a><p class="table">CR090341</p>


		</td>
		<td align="left" valign="top">
			<a name="1322432"></a><p class="table">Erroneous failure duration was reported in <font face="Courier">t3.srvr.ListenThread</font> calling <font face="Courier">logListenFailed()</font>.  This was a numeric error in a message generated when the server failed to listen due to an underlying IOException. Example of the message:</p>

<a name="1322433"></a><p class="table"><font face="Courier">&lt;Jun 11, 2002 2:37:33 PM PDT&gt; &lt;Critical&gt; &lt;WebLogicServer&gt; &lt;Failed to listen on port 7772, failure count: 3, failing for 1,023,831,450 seconds, java.net.SocketException: File table overflow&gt; </font></p>

<a name="1322434"></a><p class="table">The problem was fixed by correcting a typographical error in <font face="Courier">t3.srvr.ListenThread</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322436"></a><p class="table">CR090823 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322438"></a><p class="table">JSPs were recompiled unnecessarily for the e2e sample. The JSPs in e2edomain always got recompiled when running  b2c and b2b examples. The time stamps of those JSPs were properly backdated, however.</p>

<a name="1322439"></a><p class="table">This problem resulted from a bug in the <font face="Courier">JspStub.getClassLoader</font> method.  Problem resolved by fixing the bug. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322442"></a><p class="table">CR091420</p>


		</td>
		<td align="left" valign="top">
			<a name="1322444"></a><p class="table">WebLogic Server 6.1 SP04 failed to start if the "Enable Post-Bind UID" option for a Unix Machine was checked.  (This attribute can be configured in the Machines node of the Administration Console; its purpose is to return the Unix UID a server instance running a UNIX  machine will run under after it has carried out all privileged startup actions).  </p>

<a name="1322445"></a><p class="table">The problem was corrected with a code fix. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322447"></a><p class="table">CR092704</p>


		</td>
		<td align="left" valign="top">
			<a name="1322449"></a><p class="table">In WebLogic Server 6.1 SP02, hangs occurred frequently because socket reader threads were blocked. The thread that owned the POLL lock was attempting to close an SSL socket, but could not progress because it could not obtain the lock on the output stream required in the <font face="Courier">sendRecord()</font> method. </p>

<a name="1322450"></a><p class="table">Stack trace: </p>

<a name="1322451"></a><p class="table"><font face="Courier">"ExecuteThread: '23' for queue: 'default'" daemon prio=5 tid=0x6d6c40 nid=0x24 waiting for monitor entry [0xe4e81000..0xe4e81a28] at weblogic.security.SSL.SSLSocket.sendRecord(SSLSocket.java:1049) at weblogic.security.SSL.SSLSocket.sendAlert(SSLSocket.java:1007) at weblogic.security.SSL.SSLSocket.close(SSLSocket.java:1153) at weblogic.security.SSL.SSLSocket.close(SSLSocket.java:1141) at weblogic.socket.SocketMuxer.closeSocket(SocketMuxer.java:236</font></p>

<a name="1322452"></a><p class="table">A code fix was implemented to ensure that SSL sockets do not write data to sockets on close for abortive shutdowns.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322455"></a><p class="table"><a name="CR092933"></a>CR092933</p>


		</td>
		<td align="left" valign="top">
			<a name="1322457"></a><p class="table">Thread dump error occurred with this configuration:</p>


			<ul><a name="1322458"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>VM: java.version='1.3.1_02' </font>
<a name="1322459"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>os.name='windows 2000'</font>
<a name="1322460"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>java.vendor.url='http://java.sun.com/' </font>
			</ul>
<a name="1322461"></a><p class="table">Thread dumps failed because the <font face="Courier">JVM_DumpAllStacks</font> symbol had not been globally declared for Hotspot client and Version 1.3.1_x virtual machines.</p>

<a name="1322462"></a><p class="table">Thread dumps using <font face="Courier">weblogic.Admin</font> are now possible with 1.3.1_X hotspot client/server JVMs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322464"></a><p class="table">CR093416</p>


		</td>
		<td align="left" valign="top">
			<a name="1322466"></a><p class="table">An <font face="Courier">EmptyStackException</font> was thrown by a Managed Server when the Controller servlet was being deployed.</p>

<a name="1322467"></a><p class="table">The following error is thrown by a managed server when the Controller servlet is being deployed: </p>

<a name="1322468"></a><p class="table"><font face="Courier">[WebAppServletContext(35527,btn,/btn)] Servlet failed with Exception&gt; java.util.EmptyStackException at weblogic.utils.<br>collections.Stack.pop()Ljava.lang.Object;(Unknown Source) at weblogic.kernel.ResettableThreadLocalStack.pop()Ljava.lang.Object;(Unknown Source) at weblogic.jndi.internal.<br>ThreadEnvironment.pop()Lweblogic.jndi.Environment;(Unknown Source) at weblogic.jndi.internal.WLContextImpl.close()V<br>(Unknown Source) at weblogic.jndi.factories.java.ReadOnly<br>ContextWrapper.close()V(Unknown Source) at be.btn.util.<br>JndiUtil.getEnv(Ljava.lang.String;)Ljava.lang.Object;(Unknown Source) at be.btn.web.HttpControllerServlet.init()V(Unknown Source) at javax.servlet.GenericServlet.init(Ljavax.servlet.<br>ServletConfig;)V(Unknown Source) at weblogic.servlet.<br>internal.ServletStubImpl.createServlet()Ljavax.servlet.Serv let;(Unknown Source) at weblogic.servlet.internal.<br>ServletStubImpl.createInstances()V(Unknown Source) at... </font></p>

<a name="1322469"></a><p class="table">The problem was related to the <font face="Courier">btn.utils.JndiUtils.getEnv()</font> method&#8212;it closed the context that it got on lookup&#8212;<font face="Courier">java:com/env</font>&#8212;so <font face="Courier">javaURLContextFactory </font>was not pushing the environment.</p>

<a name="1322470"></a><p class="table">Problem resolved.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322472"></a><p class="table">CR094101</p>


		</td>
		<td align="left" valign="top">
			<a name="1322474"></a><p class="table">There was an interoperability issue between WebLogic Server 6.1 SP02 and WebLogic Server 7.0 SP01. An MDB in WebLogic Server 6.1 called an EJB in WebLogic Server7.0. The EJB is timed out and threw a  <font face="Courier">weblogic.transaction.TimedOut<br>Exception</font>, which is new in WebLogic Server 7.0 and not available in WebLogic Server 6.1. The WebLogic Server 6.1 MDB<font face="Courier"> onMessage()</font> method caught the exception, and threw a <font face="Courier">ClassNotFoundException</font> when the code <font face="Courier">Exception.<br>printStackTrace()</font> was executed. </p>

<a name="1322475"></a><p class="table">The problem was solved by adding a <font face="Courier">weblogic.transaction.Timed<br>OutException</font> class to prevent <font face="Courier">ClassNotFoundException</font> when interoperating with WebLogic Server 7.0 servers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322477"></a><p class="table">CR094724</p>


		</td>
		<td align="left" valign="top">
			<a name="1322479"></a><p class="table">In WebLogic Server 6.1 SP03 and later, WebLogic Server native libraries on HPUX were not being compiled using <font face="Courier">cfront,</font> instead of <font face="Courier">aCC</font>. <font face="Courier">aCC </font>is the ANSI C compiler which replaced <font face="Courier">cfront</font> in 1998. </p>

<a name="1322480"></a><p class="table">As a result incompatible runtime libraries were loaded<font face="Courier">(libC.2</font> from <font face="Courier">cfront </font>compilation, and <font face="Courier">libCsup.2</font> from SUN's Java, compiled with <font face="Courier">aCC</font>). Incompatible runtime libraries can cause crashes.   </p>

<a name="1322481"></a><p class="table">The problem was solved by changing WebLogic Server builds to use <font face="Courier">aCC</font> for hpux11</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322483"></a><p class="table">CR095267</p>


		</td>
		<td align="left" valign="top">
			<a name="1322486"></a><p class="table">Duplicate of <a href="../notes/bugfixes2.html#CR094561">"CR094561"</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322488"></a><p class="table">CR095487</p>


		</td>
		<td align="left" valign="top">
			<a name="1322491"></a><p class="table">Duplicate of <a href="../notes/bugfixes2.html#CR087808">"CR087808"</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322493"></a><p class="table">CR095949</p>


		</td>
		<td align="left" valign="top">
			<a name="1322495"></a><p class="table">In WebLogic Server 6.1 SP04,when <font face="Courier">FailureIsFatal</font> option for a startup class is true and and the startup class fails, WebLogic Server was not shutdown as expected. </p>

<a name="1322496"></a><p class="table">The <font face="Courier">StartupClassRunner</font> is invoked before and after applications are deployed . Analysis revealed that if a startup class failed before application deployment, and was marked <font face="Courier">failureIsFatal</font>, the <font face="Courier">fatalException</font> was lost. </p>

<a name="1322497"></a><p class="table">The problem was solved by a code fix to ensure that the <font face="Courier">fatalException</font> is not lost, and the the server instance is shutdown appropriately.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322499"></a><p class="table">CR096114</p>


		</td>
		<td align="left" valign="top">
			<a name="1322502"></a><p class="table">The change associated with <a href="../notes/bugfixes2.html#CR092933">"CR092933"</a> which enables thread dump redirection in 1.3.1_x versions of Sun JDK, did not work in NT Services because the <font face="Courier">stdio</font> handles were invalid. </p>

<a name="1322503"></a><p class="table">The problem was resolved by a code change, to create <font face="Courier">stdio</font> handles in <font face="Courier">beasvc</font>.   </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322505"></a><p class="table">CR101322</p>


		</td>
		<td align="left" valign="top">
			<a name="1322507"></a><p class="table">A customer used a custom realm that makes an outbound RMI call. This happens from <font face="Courier">BootServicesImpl.invoke() </font>from within the RJVM layer on a reader thread. when many such calls are made, reader threads were blocked making outbound calls leaving no threads for reading the response. </p>

<a name="1322508"></a><p class="table">The problem was solved by moving<font face="Courier"> BootServices</font> into the RMI layer so that it can dispatch to the default execute queue.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322510"></a><p class="table">CR102021</p>


		</td>
		<td align="left" valign="top">
			<a name="1322512"></a><p class="table">In WebLogic Server 6.1 SP04, under load test, PosixMuxer threw the following exceptions</p>

<a name="1322513"></a><p class="table"><font face="Courier">&lt;Nov 21, 2002 9:38:29 AM EST&gt; &lt;Error&gt; &lt;socket&gt; &lt;000421&gt; &lt;Uncaught Throwable in processSockets java.io.IOException: unexpected exception in poll: (4) Interrupted system call java.io.IOException: unexpected exception in poll: (4) Interrupted system call at weblogic.socket.PosixSocketMuxer.poll(Native Method) at...</font></p>

<a name="1322514"></a><p class="table">The problem was solved with a code change to restart poll if interrupted.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322516"></a><p class="table">CR102058</p>


		</td>
		<td align="left" valign="top">
			<a name="1322518"></a><p class="table">Use of <font face="Courier">URLClassLoader</font> on the client on a remote method call resulted in a <font face="Courier">NoClassDefFoundError</font>. </p>

<a name="1322519"></a><p class="table"><font face="Courier">c:\java\java131_07\bin\java -classpath ".;client.jar;C:\home\ravia\weblogic\dev\src700\3rdparty\weblogicaux.jar" URLTest qa146 9901 ejb20-statefulSession- TraderHome installadministrator installadministrator java.lang.NoClassDefFoundError: weblogic/rmi/extensions/server/Stub at java.lang.ClassLoader.defineClass0(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:488) at...</font></p>

<a name="1322520"></a><p class="table">Analysis revealed that when creating <font face="Courier">AugmentableSystemClassLoader</font>, it was always set to <font face="Courier">SystemClassLoader.</font> This caused the client to use its system classloader, resulting in the <font face="Courier">NoClassDefFoundError</font>.</p>

<a name="1322521"></a><p class="table">The problem was solved by setting <font face="Courier">ThreadContextClassLoader</font> as parent for <font face="Courier">AugmentableSystemClassLoader.</font></p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1322556"></a><p class="head2">Deployment
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1322526"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1322528"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322530"></a><p class="table">CR089031 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322532"></a><p class="table">After an upgrade from 6.1 SP02 with cr058358_61sp2.jar to SP03, a degradation in deployment performance occurred on a Managed Server. Degradation was not exhibited on the Administration Server.  </p>

<a name="1322533"></a><p class="table">The problem was related to the  <font face="Courier">weblogic.j2ee.Component.getModuleMBean()</font> method , which was implemented for CR058358.  Because <font face="Courier">ApplicationDescriptorMBean</font> is only registered in the Administration Server, any requests to that mbean from a Managed Server  resulted in RMI calls to the Administration Server.  </p>

<a name="1322534"></a><p class="table">Problem was solved by building a local cache mbean (<font face="Courier">ApplicaitonDescriptorMBeanImpl_Cached)</font> on the Managed Server. Now, the first method request goes to the Administration Server to retrieve the information and save locally. Subsequent requests are served locally, and the cache is invalidated when the application is undeployed.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322536"></a><p class="table">CR089765 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322538"></a><p class="table">Executing <font face="Courier">weblogic.refresh</font> on Windows 2000 to update files (JSP or HTML) to WebLogic Server Administration Server and Managed Server running on Linux caused a <font face="Courier"> java.util.zip.ZipException</font>.</p>

<a name="1322539"></a><p class="table">The ZIP exception happens when WebLogic Server is configured as an Administration Server or Managed Server and the Web Application for which the <font face="Courier">weblogic.refresh</font> is done is targeted to the Managed Server.</p>

<a name="1322540"></a><p class="table">When the Managed Server tries to get the refreshed files from the Administration Server,  exceptions are thrown by both server instances.</p>

<a name="1322541"></a><p class="table">Exhibited in this configuration:</p>


			<ul><a name="1322542"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WebLogic Server 61SP03 on Linux (Redhat, JDK1.3.1) (1 admin, 1 managed)</font>
<a name="1322543"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Win2K, calling <font face="Courier">weblogic.refresh</font> (WebLogic Server61SP3, JDK1.3.1)</font>
			</ul>
<a name="1322544"></a><p class="table">Problem diagnosis revealed an error in the file location path for the refreshed file from Managed Server to Administration Server,  The problem was corrected by a correction to <font face="Courier">FileDistributionServlet.doGetMultipleJspRefreshRequest.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322546"></a><p class="table">CR091897 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322548"></a><p class="table">In WebLogic Server 6.1 SP04, deployment failed for a web application with a short name, such as like <font face="Courier">ab.war</font> or <font face="Courier">i.war</font>.  This error occurred:</p>

<a name="1322549"></a><p class="table"><font face="Courier">java.lang.IllegalArgumentException: Prefix string too short at java.io.File.createTempFile(File.java:1232 at weblogic.j2ee.Component.retrieveComponent(Component.java:296  at weblogic.j2ee.Component.&lt;init&gt;(Component.java:188)at weblogic.j2ee.WebAppComponent.&lt;init&gt;(WebAppComponent.java:45at  weblogic.j2ee.Application.addComponent(Application.<br>java:149)at weblogic.j2ee.J2EEService.addDeployment<br>(J2EEService.java:117)...</font></p>

<a name="1322550"></a><p class="table">The bug was corrected.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322552"></a><p class="table">CR097560</p>


		</td>
		<td align="left" valign="top">
			<a name="1322554"></a><p class="table">In WebLogic Server 6.1 SP04, when custom <font face="Courier">InitialContextFactory</font> was set to <font face="Courier">weblogic.jndi.Environment</font>, <font face="Courier">getInitialContext()</font> instead used  <font face="Courier">DEFAULT_INITIAL_CONTEXT_FACTORY </font>.</p>

<a name="1322555"></a><p class="table">The problem was corrected by a code fix to ensure that the  <font face="Courier">weblogic.jndi.Environment</font> object considers <font face="Courier">InitialContextFactory</font>, if specified.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1322730"></a><p class="head2">EJB
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1322560"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1322562"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322564"></a><p class="table">CR063275 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322566"></a><p class="table">WebLogic Server EJB did not provide the ability to write a finder method on a <font face="Courier">byte [] </font>field. This was non-compliant with the J2EE EJB-QL definition: "The allowable types in EJB QL are the abstract schema types of entity beans and dependent objects, the defined types of cmp-fields, and the entity object types of remote entity beans."  This problem was identified in WebLogic Server 6.1 SP01. This error occurred at build time:</p>

<a name="1322567"></a><p class="table"><font face="Courier">ejbc:</font></p>

<a name="1322568"></a><p class="table">     <font face="Courier">[java]</font></p>

<a name="1322569"></a><p class="table"><font face="Courier">  [java] ERROR: Error from ejbc: Error while reading 'META-INF/weblogic-cmp-rdbms-jar.xml'. The error was:</font></p>

<a name="1322570"></a><p class="table"><font face="Courier">  [java]</font></p>

<a name="1322571"></a><p class="table"><font face="Courier">  [java] invalid query: In EJB containerManaged, for a query defined in the ejb-jar.xml file with a method signature, findFk(byte[]), we failed to find a corresponding method in the remote home interface, local home interface, or bean class that matches this signature. Note that class parameters such as java.lang.String must be fully qualified, thus 'String' would not match 'java.lang.String'.[java]</font></p>

<a name="1322572"></a><p class="table">This problem has been fixed. WebLogic Server EJB now supports finder methods on a <font face="Courier">byte []</font> field. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322574"></a><p class="table">CR063837 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322576"></a><p class="table">In WebLogic Server 6.1 SP02, the following error was thrown when the EJB Container tried to verify the existence of database tables and columns that did not exist: </p>

<a name="1322577"></a><p class="table"><font face="Courier">weblogic.utils.AssertionError: ***** ASSERTION FAILED *****[ Table: Cmp_Birthday Full Table Check failed, but table all columns were found! ] at weblogic.ejb20.utils.TableVerifier.verifyTableAndColumnsExist(TableVe rifier.java:371) at weblogic.ejb20.utils.TableVerifier.verifyTableExistsAndCreateMaybe(Ta bleVerifier.java:391) </font></p>

<a name="1322578"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322580"></a><p class="table">CR076272</p>


		</td>
		<td align="left" valign="top">
			<a name="1322582"></a><p class="table">When hot deploying an EJB, compilation errors were not helpful. For instance:</p>

<a name="1322583"></a><p class="table"><font face="Courier">&lt;30 avr. 02 11:03:14 BST&gt; &lt;Error&gt; &lt;Management&gt; &lt;Error deploying application.\config\mydomain\applications\ldapprofile.jar:java.lang.reflect.UndeclaredThrowableException&gt; </font></p>

<a name="1322584"></a><p class="table">Error reporting is now improved for hot-deployed EJBs. Now, run-time exceptions and errors are reported similarly to the method used in standalone ejbc. The server log and stdout will provide information to help the user understand the failure. For instance:</p>

<a name="1322585"></a><p class="table"><font face="Courier">&lt;Oct 1, 2002 4:37:18 PM PDT&gt; &lt;Error&gt; &lt;J2EE&gt; &lt;Error deploying application ldapprofile: Unable to deploy EJB: ldapprofile.jar from ldapprofile.jar: java.lang.NoClassDefFoundError: com/bea/p13n/property/EntityPropertyManager at java.lang.ClassLoader.defineClass0(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:486) at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:111) at weblogic.utils.classloaders.GenericClass<br>Loader.findLocalClass(GenericClassLoader.java:394) at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:157) at java.lang.ClassLoader.loadClass(ClassLoader.java:297) at java.lang.ClassLoader.loadClass(ClassLoader.java:253) at............</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322587"></a><p class="table">CR076386</p>


		</td>
		<td align="left" valign="top">
			<a name="1322589"></a><p class="table">In 6.1 SP03, using a <font face="Courier">cmp-ejb</font> with <font face="Courier">cmr-fields</font> only generated incorrect SQL insert statements. This problem was exhibited with MS-SQL Server 2000 with <font face="Courier">Automatic-Primary-Key-Generation-TPYE : SQL_SERVER.</font> The Container Generated SQL-Statement: </p>

<a name="1322590"></a><p class="table"><font face="Courier">Insert into tblLicence(, 5 , 7) values (,licCompID,licOrgID)</font></p>

<a name="1322591"></a><p class="table">where <font face="Courier">compID</font> and <font face="Courier">orgID </font>are foreign keys in the table which corresponds to this entity bean. After  adding an cmp-field, the unmodified (empty) <font face="Courier">ejbCreate-Method </font>generates the correct SQL:</p>

<a name="1322592"></a><p class="table"><font face="Courier">Insert into tblLicence(licArchivNR,licCompID,licOrgID)values (null , 5 , 7)</font> </p>

<a name="1322593"></a><p class="table">The problem has been resolved, the container no longer generates an incorrect SQL Insert statement when the bean has only (pk) field and cmr fields.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322595"></a><p class="table">CR080331</p>


		</td>
		<td align="left" valign="top">
			<a name="1322597"></a><p class="table">In 6.1 SP03, deploying a version 5.1 EJB jar using the Administration Console resulted in a <font face="Courier">ProcessorFactoryException:</font> </p>

<a name="1322598"></a><p class="table"><font face="Courier">Unable to deploy EJB: TxRolledbackExceptionBean.jar from TxRolledbackExceptionBean.jar:</font></p>

<a name="1322599"></a><p class="table"><font face="Courier">The XML parser encountered an error in your deployment descriptor. Please ensure that your DOCTYPE is correct. You may wish to compare your deployment descriptors with the WebLogic Server examples to ensure the format is correct. The error was:</font></p>

<a name="1322600"></a><p class="table"><font face="Courier">weblogic.xml.process.ProcessorFactoryException: The public id, "-//BEA Systems, Inc.//DTD WebLogic 5.1.0 EJB//EN ", specified in the XML document is invalid.  Use one of the following valid public ids:</font></p>

<a name="1322601"></a><p class="table"><font face="Courier">"-//BEA Systems, Inc.//DTD WebLogic 5.1.0 EJB//EN"</font></p>

<a name="1322602"></a><p class="table"><font face="Courier">"-//BEA Systems, Inc.//DTD WebLogic 6.0.0 EJB//EN"</font></p>

<a name="1322603"></a><p class="table">This problem occurred because WebLogic Server 5.1 supported white space in the DTD declaration for deployment descriptors. </p>

<a name="1322604"></a><p class="table">The problem was solved by a code change to trim the extra spaces in the key string before searching for the parser in the hash table with this key. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322606"></a><p class="table">CR083239 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322608"></a><p class="table">The EJB QL NOT MEMBER clause no longer causes infinite looping.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322610"></a><p class="table">CR083240 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322612"></a><p class="table">The EJB QL NOT MEMBER clause in conjunction with WHERE no longer creates a bad query.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322614"></a><p class="table">CR084978 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322616"></a><p class="table">Added the Extra EJBC Options field to the Administration Console, so that heap size and other options can now be passed to <font face="Courier">ejbc</font> via the Console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322618"></a><p class="table">CR087151</p>


		</td>
		<td align="left" valign="top">
			<a name="1322620"></a><p class="table">For a stateless session bean, when the <font face="Courier">weblogic-ejb-jar.xml</font> contains:</p>

<a name="1322621"></a><p class="table"><font face="Courier">&lt;stateless-bean-is-clusterable&gt;False&lt;/stateless-bean-is-clusterable&gt;</font></p>

<a name="1322622"></a><p class="table">and the bean was deployed on a cluster, this error was generated:</p>

<a name="1322623"></a><p class="table"><font face="Courier">&lt;Mar 14, 2003 3:35:00 PM PST&gt; &lt;Error&gt; &lt;Cluster&gt; &lt;Conflict start: You tried to bind an object under the name ejb20-statelessSession-TraderHome_EO in the JNDI tree. The object you have bound from 172.17.24.112 is non clusterable and you have tried to bind more than once from two or more servers. Such objects can only deployed from one server.&gt; </font></p>

<a name="1322624"></a><p class="table">This problem was resolved by a code fix to ensure that JNDI bindings for  non-clustered stubs are note replicated. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322626"></a><p class="table">CR088526</p>


		</td>
		<td align="left" valign="top">
			<a name="1322628"></a><p class="table">In WebLogic Server 6.1 SP03, the EJB container breaks the EJB2.0 contract: "Tx not set to rollback when using BMT and exception is thrown".</p>

<a name="1322629"></a><p class="table">Problem was exhibited with an MDB with BMT where the <font face="Courier">onMessage </font>method throws an exception. The container did not handle the exception in accordance with the EJB2.0 specifications (Section 18.3.2 Table 18.) The container should log the exception (done) delete the bean instance (done), and mark the transaction for rollback (NOT done). As a result a transaction remained associated with the thread.</p>

<a name="1322630"></a><p class="table">A code fix was implemented to resolve this problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322632"></a><p class="table">CR089759</p>


		</td>
		<td align="left" valign="top">
			<a name="1322634"></a><p class="table">WebLogic Server 6.1:SP03: [EJB] : When calling <font face="Courier">context.getCallerPrincipal()</font> from <font face="Courier">ejbStore()</font> using<font face="Courier"> UserTransaction</font> context, the following exception is thrown:</p>

<a name="1322635"></a><p class="table"><font face="Courier">&lt;Oct 24, 2002 5:52:24 AM PDT&gt; &lt;Info&gt; &lt;EJB&gt; &lt;Exception from ejbStore:javax.ejb.EJBException: ejbStore: nulljavax.ejb.<br>EJBException: ejbStore: null at AccountBean.ejbStore(Account<br>Bean.java:99)atAccountBean_t4qrab_Impl.ejbStore<br>(AccountBean_t4qrab_Impl.java:131)at weblogic.ejb20.manager.<br>DBManager.storeBean(DBManager.java:266) at weblogic.ejb20.<br>manager.DBManager.beforeCompletion(DBManager.java:397) at weblogic.ejb20.internal.TxManager$TxListener.beforeCompletion(TxManager.java:494) at weblogic.transaction.internal.<br>ServerSCInfo.callBeforeCompletions(ServerSCInfo.java:551)  at weblogic.transaction.internal.ServerSCInfo.startPrePrepareAndChain(ServerSCInfo.java:88)at weblogic.transaction.<br>internal.ServerTransactionImpl.localPrePrepareAndChain(ServerTransactionImpl.java:979)at weblogic.transaction.<br>internal.ServerTransactionImpl.globalPrePrepare(ServerTransactionImpl.java:1503) at weblogic.transaction.internal.<br>ServerTransactionImpl.internalCommit(ServerTransactionImpl.java:215) at weblogic.transaction.internal.Server<br>TransactionImpl.commit(ServerTransactionImpl.java:189)at weblogic.transaction.internal.CoordinatorImpl.commit(CoordinatorImpl.java:68) at weblogic.transaction.internal.<br>CoordinatorImpl_WLSkel.invoke(Unknown Source)at weblogic.rmi.<br>internal.BasicServerRef.invoke(BasicServerRef.java:305)at weblogic.rmi.internal.BasicServerRef.handleRequest(BasicServerRef.java:274) at weblogic.rmi.internal.BasicExecute<br>Request.execute(BasicExecuteRequest.java:22) atweblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139) at weblogic.kernel.ExecuteThread.run(Execute<br>Thread.java:120)&gt;&lt;Oct 24, 2002 5:54:53 AM PDT&gt; &lt;Info&gt; &lt;Management&gt; &lt;Configuration changes for domain saved to the repository.&gt;</font></p>

<a name="1322636"></a><p class="table">This problem was a result of changes introduced in SP03 to comply with section 21.2.5.1 of the EJB specification. The problem was corrected. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322638"></a><p class="table">CR089953</p>


		</td>
		<td align="left" valign="top">
			<a name="1322640"></a><p class="table">In SP03, BEA tests of e<font face="Courier">jb20.locks.ExclusiveLockManager</font> indicated a memory leak. The memory leak appears as a result of deploying and undeploying.Analysis revealed that the timer/trigger in <font face="Courier">DiskSwap</font> was not cancelled when an EJB was undeployed, leaving a reference in <font face="Courier">TimeGenerator</font>, and that <font face="Courier">ExclusiveLockManager</font> buckets were not being garbage collected.</p>

<a name="1322641"></a><p class="table">Problem was solved by code fix to cancel the time/trigger appropriately and ensure proper garbage collection.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322643"></a><p class="table">CR090143 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322645"></a><p class="table">The default pool-size for MDBs was larger than the thread pool size default, resulting in MDB instances consuming the entire default thread pool and blocking waiting for non-MDB work to complete&#8212;leaving no threads left to do the unblocking work.   </p>

<a name="1322646"></a><p class="table">Problem was resolved by, when an MDB is assigned to the main thread pool, limiting MDB pool size to a percentage of ((thread pool size) - (socket reader threads)).  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322648"></a><p class="table">CR090515 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322650"></a><p class="table">The Administration Console  reported incorrect value for the number of waiters for Entity beans. After clients had timed out, the console reported that there were waiters.</p>

<a name="1322651"></a><p class="table">The problem was resolved by by a correction to <font face="Courier">ExclusiveLockManager</font> to decrement the <font face="Courier">waiterTotalCount</font> when it is done waiting.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322653"></a><p class="table">CR091436 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322655"></a><p class="table">In SP03, <font face="Courier">JMSConnectionPoller</font> did not close its initial contexts. When an MDB used external <font face="Courier">InitialContextFactory</font> for lookups and the JMS provider was not accessible, the connections and other resources accumulated rapidly. </p>

<a name="1322656"></a><p class="table">The problem was corrected with a code fix to close the context when it is done for active memory clean up.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322658"></a><p class="table">CR091722  </p>


		</td>
		<td align="left" valign="top">
			<a name="1322660"></a><p class="table">In SP03, under heavy loads, an MDB threw an <font face="Courier">IllegalStateException</font> when resuming a transaction after invoking a business method; the JVM crashes when the transaction is being resumed. </p>

<a name="1322661"></a><p class="table">This behavior was exhibited with  these application characteristics:  a client sends messages to a Queue and an MDB listens on it. The tx.attribute for this MDB is "Required". The create method of the MDB is doing a <font face="Courier">home.create</font> for creating some BMT SLSBs and the<font face="Courier"> onMessage</font> method  is invoking the business method for this SLSB. The business method of this SLSB is sends messages to two different queues.</p>

<a name="1322662"></a><p class="table">The following error was observed:</p>

<a name="1322663"></a><p class="table"><font face="Courier">&lt;EJB Exception during invocation from home: com.gfs.corp.batch.cost.costupdate.ejb.NextOrderCostUpdateProcessorEJB_xtvwzj_LocalHomeImpl@54b120 threw exception: java.lang.StackOverflowError&gt; java.lang.StackOverflowError         &lt;&lt;no stack trace available&gt;&gt;</font></p>

<a name="1322664"></a><p class="table">The local interface was not handing exceptions properly.  </p>

<a name="1322665"></a><p class="table">The problem was solved by a code fix to correct the error handling so that the container properly rolls back the transaction when exception occurs. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322667"></a><p class="table">CR093850</p>


		</td>
		<td align="left" valign="top">
			<a name="1322669"></a><p class="table">In SP04, runtime monitoring of the entity beans in reported an incorrect value for the use   the cached beans current count&#8212;the value exceeded the max beans in cache specified in the deployment descriptor and also the cached beans current count.</p>

<a name="1322670"></a><p class="table">The value reported was incorrect, and new beans were being created inappropriately.  </p>

<a name="1322671"></a><p class="table">A code correction was made to release beans to the pool after removal from cache.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322673"></a><p class="table">CR095173</p>


		</td>
		<td align="left" valign="top">
			<a name="1322675"></a><p class="table">The <font face="Courier">idle-timeout-seconds</font> element in <font face="Courier">weblogic-ejb-jar.xml</font> determines how long the EJB container waits before passivating stateful session beans, that is, removing them from cache and writing them to disk. The EJB container also used to use this element to determine how long to wait before removing passivated EJBs from the disk. Some users wanted stateful session beans to remain on disk longer than <font face="Courier">idle-timeout-seconds</font>. In other words, they want to specify how long stateful session beans stay idle in the cache and how long they stay idle on disk using two different elements.</p>

<a name="1322676"></a><p class="table">A  new element has been added, <font face="Courier">session-timeout-seconds</font>, which specifies how long the EJB container waits before removing an idle stateful session bean from disk.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322678"></a><p class="table">CR094524</p>


		</td>
		<td align="left" valign="top">
			<a name="1322680"></a><p class="table">In WebLogic Server 6.1 SP03 and SP04, read-only EJBs with a many:one container-managed relationship CMR caused a <font face="Courier">LockTimedOutException. </font></p>

<a name="1322681"></a><p class="table"><font face="Courier">avant getCustomerVO.getCountryVO() [ExclusiveLockManager$Lock<br>Bucket] : ** LOCK ACQUIRE --&gt; WAITING -- ejb-name: Country primary key: 002 lockClient: Name=[EJB charu.ejbrelations<br>final.CountryBean.getCountryVO()],Xid=11:1d0d46b2(3053175),Status=Active,numRepliesOwedMe=0,numRepliesOwedOthers=0,seconds since begin=0,seconds left=30,activeThread=Thread<br>[ExecuteThread: '2' for queue: 'default',5,Thread Group for Queue: 'default'],SCInfo[mydomain+myserver]=(state=<br>active),properties=({weblogic.transaction.name=[EJB charu.ejbrelationsfinal.CountryBean.getCountryVO()], LOCAL_ENTITY_TX=true}),OwnerTransactionManager=ServerTM[ServerCoordinatorDescriptor=(CoordinatorURL=myserver+172.23.135.56:7011+mydomain+, Resources={})]) wait (MS): 30000 [ExclusiveLockManager$LockBucket] : ** LOCK TIME OUT AFTER WAITING -- ejb-name: Country primary key: 002 lockClient: Name=[EJB charu.ejbrelationsfinal.CountryBean.get<br>CountryVO()],Xid=11:1d0d46b2(3053175),Status=Marked rollback. [Reason=weblogic.transaction.internal.TimedOut<br>Exception: Transaction timed out after 29 seconds Name=[EJB charu.ejbrelationsfinal.CountryBean.getCountryVO()],Xid=11:1d0d46b2(3053175),Status=Active,numRepliesOwedMe=0,numRepliesOwedOthers=0,seconds since begin=29,seconds left=30,active<br>Thread=Thread[ExecuteThread: '2' for queue:'default',5,Thread Group for Queue: 'default'],SCInfo[mydomain+myserver]=<br>(state=active),properties=({weblogic.transaction.name=[EJB charu.ejbrelationsfinal.CountryBean.getCountryVO()], LOCAL_ENTITY_TX=true}),OwnerTransactionManager=ServerTM[ServerCoordinatorDescriptor=(CoordinatorURL=myserver+172.23.135.56:7011+mydomain+, Resources={})])],numRepliesOwedMe=0,<br>numRepliesOwedOthers=0,seconds since begin=30,seconds left=10,activeThread=Thread[ExecuteThread: '2' for queue: 'default',5,Thread Group for Queue:'default'],SCInfo [mydomain+ myserver]=(state=active),properties=({weblogic. transaction.name=[EJB charu.ejbrelationsfinal.CountryBean. getCountryVO()], LOCAL_ENTITY_TX=true}),OwnerTransaction Manager=ServerTM[ServerCoordinatorDescriptor=(CoordinatorURL=myserver+172.23.135.56:7011+mydomain+, Resources={})]) wait (MS): 30000  </font></p>

<a name="1322682"></a><p class="table">The problem was resolved by modifying the<font face="Courier"> if condition</font> check from <font face="Courier">rbd.isReadOnly() </font>to <font face="Courier">READONLY_EXCLUSIVE_CONCURRENCY</font> check.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322684"></a><p class="table">CR095545</p>


		</td>
		<td align="left" valign="top">
			<a name="1322686"></a><p class="table">When attempting to deploy two message-driven beans with the same <font face="Courier">ejb-name</font> but different JNDI mappings on the same Weblogic Server instance, the first bean was deployed successfully, but the deployment of the second bean failed with this exception:</p>

<a name="1322687"></a><p class="table"><font face="Courier">weblogic.management.ManagementException: - with nested exception:</font></p>

<a name="1322688"></a><p class="table"><font face="Courier">[javax.management.InstanceAlreadyExistsException:</font></p>

<a name="1322689"></a><p class="table"><font face="Courier">jpdomain:Location=jpserver,Name=MessageQueueHandlerBean,ServerRuntime=jpserver,Type=EJBMessageDrivenRuntime] at</font></p>

<a name="1322690"></a><p class="table"><font face="Courier">weblogic.management.runtime.RuntimeMBeanDelegate.register(RuntimeMBeanDelegate.java:96) at</font></p>

<a name="1322691"></a><p class="table"><font face="Courier">weblogic.management.runtime.RuntimeMBeanDelegate.&lt;init&gt;(RuntimeMBeanDelegate.java:83) at</font></p>

<a name="1322692"></a><p class="table"><font face="Courier">weblogic.management.runtime.RuntimeMBeanDelegate.&lt;init&gt;(RuntimeMBeanDelegate.java:53) at</font></p>

<a name="1322693"></a><p class="table"><font face="Courier">weblogic.management.runtime.RuntimeMBeanDelegate.&lt;init&gt;(RuntimeMBeanDelegate.java:63) at</font></p>

<a name="1322694"></a><p class="table"><font face="Courier">weblogic.ejb20.deployer.MessageDrivenRuntimeMBean.&lt;init&gt;(MessageDrivenRuntimeMBean.java:18) at</font></p>

<a name="1322695"></a><p class="table"><font face="Courier">weblogic.ejb20.deployer.MessageDrivenBeanInfoImpl.deploy(MessageDrivenBeanInfoImpl.java:450) at</font></p>

<a name="1322696"></a><p class="table"><font face="Courier">weblogic.ejb20.deployer.Deployer.deployDescriptor(Deployer.java:1299) at</font></p>

<a name="1322697"></a><p class="table"><font face="Courier">weblogic.ejb20.deployer.Deployer.deploy(Deployer.java:1005)</font></p>

<a name="1322698"></a><p class="table">The problem was due to non-unique <font face="Courier">MessageDrivenRuntimeMBean</font> names. The problem was solved by  code change to ensure creation of unique names. .</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322700"></a><p class="table">CR096848</p>


		</td>
		<td align="left" valign="top">
			<a name="1322702"></a><p class="table">In 6.1 SP04, <font face="Courier">&lt;is-modified-method-name&gt;</font> was not called on CMP 2.0 beans.  <font face="Courier">ejbStore</font> was called at every bean method invocation and WebLogic Server determined afterwards if the store is to avoid. This caused performance issues in applications that frequently used  <font face="Courier">&lt;is-modified-method-name&gt;.</font></p>

<a name="1322703"></a><p class="table">The problem was solved by implementing the <font face="Courier">&lt;is-modified-method-name&gt;</font> function for CMP EJB 2.0.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322705"></a><p class="table">CR099420</p>


		</td>
		<td align="left" valign="top">
			<a name="1322707"></a><p class="table">The <font face="Courier">ejbc</font> compiler failed with the following error when a two-dimensional array was specified as an argument:</p>

<a name="1322708"></a><p class="table"><font face="Courier">Unable to set the method permission for method "isAuthorized(java.lang.String,[[java.lang.String)". No matching method could be found. Please verify the method signature specified in the ejb-jar.xml file matches that of your EJB. ERROR:ejbc found errors.</font></p>

<a name="1322709"></a><p class="table">The problem was solved by modifying the <font face="Courier">makeMethodParameter()</font> method of the <font face="Courier">eblogic.ejb20.deployer.mbimpl.MethodDescriptorImpl</font> class to generate the appropriate method parameter signature depending on the dimension of the array passed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322711"></a><p class="table">CR101384 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322713"></a><p class="table">When a <font face="Courier">UserTransaction.commit</font> failed in <font face="Courier">MDListener</font>, subsequent invocations of the MDB from JMS failed in <font face="Courier">UserTransaction.begin</font> because there was already a transaction on the thread. This series of events occurred:</p>


			<ol><a name="1322714"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>an MDB was consuming from a JMS queue on another server</font>
<a name="1322715"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>JMS server died </font>
<a name="1322716"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Inside <font face="Courier">weblogic.ejb20.internal.MDListener</font>, <font face="Courier">UserTransaction.commit</font> threw an exception </font>
<a name="1322717"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>MDListener goes on with its life </font>
<a name="1322718"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Subsequent invocations of the MDB from JMS failed in <font face="Courier">UserTransaction.begin</font> </font>
			</ol>
<a name="1322719"></a><p class="table">This problem was solved with a code change to make <font face="Courier">MDListener</font> suspend the current transaction before starting a new one in the event that an unexpected exception prevented the prior transaction from completing. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322721"></a><p class="table">CR101315</p>


		</td>
		<td align="left" valign="top">
			<a name="1322723"></a><p class="table">It was reported that <font face="Courier">jsp:setProperty</font> parameter conversions failed.</p>

<a name="1322724"></a><p class="table">When the <font face="Courier">jsp:setProperty</font> action sets the values of properties in a bean, the parameters are converted per JSP.2.13.2.1 using the target property to determine the target type. The jsp file with the <font face="Courier">jsp:setProperty</font> action fails to compile with the error messages below: </p>

<a name="1322725"></a><p class="table"><font face="Courier">... setCount(int) in weblogic.qa.xmlbasedtests.webapp_jsp_tests.FooBean cannot be applied to (java.lang.String) ... setBool(boolean) in weblogic.qa.xmlbasedtests.webapp_jsp_tests.FooBean cannot be applied to (java.lang.String) ... setmyDouble(double) in weblogic.qa.xmlbasedtests.webapp_jsp_tests.FooBean cannot be applied to (java.lang.String) ... setFloat(float) in weblogic.qa.xmlbasedtests.webapp_jsp_tests.FooBean cannot be applied to (java.lang.String) ... setmyLong(long) in weblogic.qa.xmlbasedtests.webapp_jsp_tests.FooBean cannot be applied to (java.lang.String) </font></p>

<a name="1322726"></a><p class="table">This behavior was the result of the changes associated with "CR098402". (Fixed a problem with <font face="Courier">jsp:setProperty</font>, request-time expression in the property value was converted to String. When assigning from a value given as a request-time attribute, no type conversions are applied.) </p>

<a name="1322727"></a><p class="table">Investigation revealed that the specification says:</p>

<a name="1322728"></a><p class="table">"When assigning from a value given as a request-time attribute, no type conversions are applied, as indicated in Section JSP.2.13.2.3." </p>

<a name="1322729"></a><p class="table">The code was determined to be functioning in accordance with the specification, and no changes were required to close this CR.   </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1322749"></a><p class="head2"> Installer
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1322734"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1322736"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322739"></a><p class="table">CR092156</p>


		</td>
		<td align="left" valign="top">
			<a name="1322741"></a><p class="table">The WebLogic Server 6.1 SP04 upgrade installer build did not include latest <font face="Courier">beasvc.exe</font>. For related CRs, see See <a href="bugfixes2.html#1322442">CR091420</a>, and <a href="issues.html#1098285">091420</a>. </p>

<a name="1322748"></a><p class="table">The SP05 upgrade installer does not exhibit this problem. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1322883"></a><p class="head2">JDBC
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1322753"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1322755"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322757"></a><p class="table">CR085559</p>


		</td>
		<td align="left" valign="top">
			<a name="1322759"></a><p class="table">When a user transaction failed to rollback because Oracle database was down, the JDBC connections used in the transaction were not released, resulting in connection pool depletion. </p>

<a name="1322760"></a><p class="table">This problem was exhibited under WebLogic Server 6.1 SP02, Oracle8.1.6, 8.1.7 jDriver for Oracle, and Oracle thin driver. </p>

<a name="1322761"></a><p class="table">Analysis revealed that the <font face="Courier">internalrollback</font> method in the JTS connection was not calling the <font face="Courier">internalclose()</font> method, so if the rollback failed the connection leaked.</p>

<a name="1322762"></a><p class="table">A code fix solved the problem. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322764"></a><p class="table">CR089713</p>


		</td>
		<td align="left" valign="top">
			<a name="1322766"></a><p class="table">In WebLogic Server 6.1 SP03,<font face="Courier"> weblogic.Admin RESET_POOL</font> did not re-initialize connections to not-reserved.</p>

<a name="1322767"></a><p class="table">After using <font face="Courier">weblogic.Admin RESET_POOL</font>, the log indicated that all connections were refreshed, but if they were reserved before the reset, they are still reserved after the reset. </p>

<a name="1322768"></a><p class="table">The problem was solved with a code change to put reserved resource back on <font face="Courier">resourcesFree</font> list and clear the associated flag.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322770"></a><p class="table">CR090379</p>


		</td>
		<td align="left" valign="top">
			<a name="1366805"></a><p class="table">In previous releases of WebLogic Server, if application code created JDBC objects that were abandoned without being closed, the objects would be lost but would still hold memory or open cursors, even after being garbage collected. If too many such objects were created, the server would eventually run out of memory and the database may run out of cursors.</p>

<a name="1366806"></a><p class="table">In WebLogic Server 6.1SP5, the code was changed so that abandoned JDBC objects are closed before being garbage collected. </p>

<a name="1366798"></a><p class="table"><strong>Note:	</strong> If you immediately create a JDBC object that is identical to an abandoned object, WebLogic Server creates a clone of the original JDBC object. However, when the original leaked object is closed, the clone will also be affected. <br><br>You can avoid abandoning JDBC objects by following the best practices described in "<a href="../jdbc/troubleshooting.html#closing_jdbc_objects">Closing JDBC Objects</a>" in <em>Programming WebLogic JDBC</em>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322776"></a><p class="table">CR090761</p>


		</td>
		<td align="left" valign="top">
			<a name="1322778"></a><p class="table">A <font face="Courier">StringIndexOutOfBoundsException</font> occurred in the OCI driver. The problem occurred occasionally in multiple queries when running a CMP entity bean, always when  dealing with an integral  at or near (depending on the precision of the number in the database) <font face="Courier">weblogic.jdbc.pool.ResultSet.getLong(ResultSet.<br>java:107</font>)</p>

<a name="1322779"></a><p class="table">The full exception is:<font face="Courier">java.sql.SQLException: java.lang.StringIndex<br>OutOfBoundsException - String index out of range: 0</font> </p>

<a name="1322780"></a><p class="table">Analysis revealed that in <font face="Courier">weblogic.db.oci.OciCurser.getValue<br>(OciColumn,int,int,boolean,boolean)</font>, the methods  <font face="Courier">new Long(string)</font> and  <font face="Courier">new BigInteger(string)</font>' were being called without appropriate checks, resulting in the  <font face="Courier">StringIndexOutOfBoundsException.</font></p>

<a name="1322781"></a><p class="table">A code fix solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322783"></a><p class="table">CR091577</p>


		</td>
		<td align="left" valign="top">
			<a name="1322785"></a><p class="table">In WebLogic Server 6.1 SP03, connection pool reset methods were unnecessarily synchronized. The <font face="Courier">ResourceAllocator</font> method <font face="Courier">resetThisOne()</font>was synchronized. As a result, when all execute threads performed a <font face="Courier">testConnOnReserve</font>, and replaced a dead connection, they queued up, instead of establishing connections in parallel. </p>

<a name="1322786"></a><p class="table">A code fix solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322788"></a><p class="table">CR092453</p>


		</td>
		<td align="left" valign="top">
			<a name="1322790"></a><p class="table">In WebLogic Server 6.1 SP04, with Oracle Thin XA with the CLASSES12.zip from Oracle 9.2, a stateless session bean calling EJB caused<font face="Courier"> XAER_PROTO</font> after "Configuration Changes saved to the repository" message appeared.   </p>

<a name="1322791"></a><p class="table"><font face="Courier">START SLEEP 2: After updating thevalue to 1... </font></p>

<a name="1322792"></a><p class="table"><font face="Courier">DONE SLEEP 2: After updating thevalue to 1... </font></p>

<a name="1322793"></a><p class="table"><font face="Courier">START SLEEP 2: After updating thevalue to 2... </font></p>

<a name="1322794"></a><p class="table"><font face="Courier">DONE SLEEP 2: After updating thevalue to 2... </font></p>

<a name="1322795"></a><p class="table"><font face="Courier">START SLEEP 2: After updating thevalue to 3... </font></p>

<a name="1322796"></a><p class="table"><font face="Courier">DONE SLEEP 2: After updating thevalue to 3... </font></p>

<a name="1322797"></a><p class="table"><font face="Courier">START SLEEP 2: After updating thevalue to 4...</font></p>

<a name="1322798"></a><p class="table"><font face="Courier">DONE SLEEP 2: After updating thevalue to 4... </font></p>

<a name="1322799"></a><p class="table"><font face="Courier">START SLEEP 2: After updating thevalue to 5... </font></p>

<a name="1322800"></a><p class="table"><font face="Courier">DONE SLEEP 2: After updating thevalue to 5... Current value is 5 &lt;</font></p>

<a name="1322801"></a><p class="table"><font face="Courier">Dec 6, 2002 10:26:59 PM MST&gt; &lt;Info&gt; &lt;Management&gt; &lt;Configuration changes for domain saved to the repository.&gt; SQLException -- XA error: XAER_PROTO : Routine was invoked in an improper context start() failed on resource 'OracleXA' null Current value is 0 </font></p>

<a name="1322802"></a><p class="table">The problem caused by a known problem in Oracle client 9.2.0.[01], that is solved in 9.2.0.2. A code change to in WebLogic Server was implemented to work-around the 9.2.0.[01] issue. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322804"></a><p class="table">CR092791</p>


		</td>
		<td align="left" valign="top">
			<a name="1322806"></a><p class="table">In WebLogic Server 6.1 (any SP), it was not possible to use specific Oracle objects (<font face="Courier">Array</font>, <font face="Courier">Struct</font>, ...) through a connection pool based on the Oracle Thin Driver. The objects returned by the Oracle thin driver were not serializable nor remote and therefore could not be passed over RMI.</p>

<a name="1322807"></a><p class="table">A new package has been introduced : <font face="Courier">weblogic.jdbc.vendor.oracle</font> that contains "proxies" for these objects and allow them to be passed through the connection pool. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322809"></a><p class="table">CR093245</p>


		</td>
		<td align="left" valign="top">
			<a name="1322811"></a><p class="table">After calling <font face="Courier">JDBCConnectionPoolRuntimeMBean.resetStatement<br>Profile</font>, it was not possible to display SQL traces. Calling <font face="Courier">resetStatement<br>Profile()</font>cleared the trace file, but it was not possible to do traces, even after tracing was enabled with the <font face="Courier">JdbcSqlTraceAdmin</font> tool.  It was necessary to restart the server instance to re-enable tracing. </p>

<a name="1322812"></a><p class="table">A code fix solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322814"></a><p class="table">CR093563</p>


		</td>
		<td align="left" valign="top">
			<a name="1322816"></a><p class="table">A deadlock occurred between "Finalizer" and <font face="Courier">weblogic/jdbc/jta/Statement.<br>java</font>. </p>

<a name="1322817"></a><p class="table">The problem was exhibited under Solaris 5.8 - WebLogic Server 6.1SP3 - java v1.3.1_03 (build 1.3.1_03-b03), Java HotSpot(TM) Client VM (build 1.3.1_03-b03, mixed mode).  This error occurred: </p>

<a name="1322818"></a><p class="table"><font face="Courier">"ExecuteThread: '5' for queue: 'default'": waiting to lock monitor 0xe1ba8 (object 0xf1327fb0, a java.util.HashSet), which is locked by "Finalizer" "Finalizer": waiting to lock monitor 0xe1b70 (object 0xf1327fe8, a weblogic.jdbc.jta.<br>ResultSet), which is locked by "ExecuteThread: '5' for queue: 'default'"  </font></p>

<a name="1322819"></a><p class="table">The problem occurred on a server instance that runs a web application that queries and  updates an Oracle database.  The code where the deadlock was encountered was part of a common user management interface that gathers user information when the user is logging in. It uses the <font face="Courier">oracle.jdbc.xa.client.OracleXADataSource</font> from a connection pool configured in WebLogic Server.</p>

<a name="1322820"></a><p class="table">Analysis revealed that connection tests were synchronized, causing waits to obtain a lock, even when none was available.  </p>

<a name="1322821"></a><p class="table">A code fix solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322823"></a><p class="table">CR093734</p>


		</td>
		<td align="left" valign="top">
			<a name="1322825"></a><p class="table">Under WebLogic Server 6.1, an error code was not returned correctly when a client tried to get a connection to an unavailable database using Oracle Thin Driver. </p>


			<ul><a name="1322826"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>When using <font face="Courier">Driver.connect()</font> to get the connection directly, <font face="Courier">SQLExcetpion.getErrorCode()</font> returned 17002.  </font>
<a name="1322827"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>When using a data source to get a connection from a connection pool, configured with Oracle Thin Driver, whose <font face="Courier">TestConnectionsOnReserve</font> setting was true,<font face="Courier"> SQLExcetpion.getErrorCode()</font> returned 0. </font>
			</ul>
<a name="1322828"></a><p class="table">Analysis revealed that <font face="Courier">weblogic.jdbc.common.internal.ConnectionEnv<br>Factory</font> swallowed the error code.</p>

<a name="1322829"></a><p class="table">A code fix solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322831"></a><p class="table">CR094645</p>


		</td>
		<td align="left" valign="top">
			<a name="1322833"></a><p class="table">When a non-zero starting index was passed to the <font face="Courier">getStatementProfiles()</font> method, the traces returned start from the top of the .tsf file, instead at the specified starting index. </p>

<a name="1322834"></a><p class="table">A code fix solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322836"></a><p class="table">CR095059</p>


		</td>
		<td align="left" valign="top">
			<a name="1322838"></a><p class="table">In WebLogic Server 6.1 SP04, the the value returned by the  <font face="Courier">JDBCStatement<br>Profile.getTimeTaken()</font> method in the <font face="Courier">JDBCStatementProfile</font> interface was always zero.  </p>

<a name="1322839"></a><p class="table">A code fix to <font face="Courier">weblogic/jdbc/common/internal/ProfileStorage.java </font>solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322841"></a><p class="table">CR095994</p>


		</td>
		<td align="left" valign="top">
			<a name="1322843"></a><p class="table"><font face="Courier">weblogic.jdbc.rmi.internal.ConnectionImpl</font> lacked connection leak profiling and connection leak detection logic.</p>

<a name="1322844"></a><p class="table">Three events can trigger the release of a connection back to the pool. </p>


			<ol><a name="1322845"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>peerGone from the client. </font>
<a name="1322846"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>un-referenced call from the <font face="Courier">BasicServerRef</font> during DGC. </font>
<a name="1322847"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Remote client code properly closes the connection. </font>
			</ol>
<a name="1322848"></a><p class="table">The first two events should trigger a warning to the user to that there is a potential connection leak. </p>

<a name="1322849"></a><p class="table">This logic was added to<font face="Courier"> SerialConnection.java</font> and <font face="Courier">ConnectionImpl.java</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322851"></a><p class="table">CR096710</p>


		</td>
		<td align="left" valign="top">
			<a name="1322853"></a><p class="table">Weblogic Server 6.1 SP04 did not throw an ORA-00020 message to the log when a connection pool failed to create with the given initial capacity due to not having sufficient number of processes (<font face="Courier">max_processes</font>) for the database.</p>

<a name="1322854"></a><p class="table">The problem was solved by a code change to log the message.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322856"></a><p class="table">CR096922</p>


		</td>
		<td align="left" valign="top">
			<a name="1322858"></a><p class="table">Under load conditions, when WebLogic Server was calling <font face="Courier">ResourceAllocator.markBorrowed()</font> and JMX was calling <font face="Courier">ConnectionPoolRuntimeMBeanImpl.getConnectionDelayTime()</font>, a deadlock condition resulted.</p>

<a name="1322859"></a><p class="table">A code fix to <font face="Courier">ResourceAllocator.java</font> solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322861"></a><p class="table">CR097832</p>


		</td>
		<td align="left" valign="top">
			<a name="1322863"></a><p class="table">Weblogic Server 6.1 SP04 thin driver, Solaris 8, JDK 1.3.1_04, and Oracle 8.1.7.4., deadlocks occurred when connection refresh is turned on. </p>

<a name="1322864"></a><p class="table">Customer stack trace: </p>

<a name="1322865"></a><p class="table">"<font face="Courier">ExecuteThread: '35' for queue: 'default'" daemon prio=5 tid=0x45ac68 nid=0x30 waiting for monitor entry [0xce901000..0xce9019d8] at weblogic.jdbc.common.internal.ConnectionEnv.destroy(ConnectionEnv.java:571) at weblogic.common.internal.ResourceAllocator</font></p>

<a name="1322866"></a><p class="table">Both the <font face="Courier">weblogic.jdbc.common.internal.ConnectionEnv.destroy</font> and <font face="Courier">weblogic.common.internal.ResourceAllocator.release</font> are synchronized methods ().</p>

<a name="1322867"></a><p class="table">The problem was solved with a code fix to <font face="Courier">weblogic/jdbc/common/internal/ConnectionEnv.java</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322869"></a><p class="table">CR099363</p>


		</td>
		<td align="left" valign="top">
			<a name="1322871"></a><p class="table">In WebLogic Server 6.1 SP04, under load testing, a connection pool with the refresh minutes set to 15, and <font face="Courier">TestConnsOnReserve</font> and <font face="Courier">TestConnsOnRelease</font> set to false threw the following exception: </p>

<a name="1322872"></a><p class="table"><font face="Courier">weblogic.common.ResourceException: No available connections in pool ODSConnectionPool </font></p>

<a name="1322873"></a><p class="table">This problem occurred  because when only a few of the connections in the pool are used, all the other connections in the pool are reserved for testing at the expiration of the refresh test minutes. At that point, if client asked for a connection the exception was thrown. </p>

<a name="1322874"></a><p class="table">The problem was resolved with a code fix that implements two things: </p>


			<ul><a name="1322875"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>When used as-is without any other change, refresh will only reserve and test one connection at a time, and will release it immediately. This addresses the locking-all-connections issue. </font>
<a name="1322876"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>If the customer adds a driver property to the pool definition, <font face="Courier">secondsToTrustAnIdlePoolConnection</font>, with a positive integer value, such as 1, 2, 30 etc., then the pool will avoid testing pool connections that are known to have successfully connected to the DBMS within that period. This will  speed up refresh and <font face="Courier">testConnsOnReserve</font>. </font>
			</ul>

		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322878"></a><p class="table">CR101093</p>


		</td>
		<td align="left" valign="top">
			<a name="1322880"></a><p class="table">In WebLogic Server 6.1 SP04, when the incorrect password is set in the connection pool properties, the following exception is thrown:</p>

<a name="1322881"></a><p class="table"><font face="Courier">&lt;Mar 13, 2003 10:35:45 AM IST&gt; &lt;Info&gt; &lt;JDBC&gt; &lt;Sleeping in createResource()&gt; &lt;Mar 13, 2003 10:35:46 AM IST&gt; &lt;Info&gt; &lt;JDBC Pool DemPool&gt; &lt;Pool DemPool is created with initial capacity 0&gt; In the earlier versions of WLS. The exception was more descriptive. The following exception is thrown when the incorrect password is specified in sp 3. &lt;Mar 12, 2003 9:41:38 AM IST&gt; &lt;Error&gt; &lt;JDBC&gt; &lt;Cannot startup connection pool "Dpool" weblogic.common.ResourceException: Could not create pool connection. The DBMS driver exception was: java.sql.SQLException: ORA-01017: invalid username/password; logon denied </font></p>

<a name="1322882"></a><p class="table">The problem was resolved with a modification to <font face="Courier">weblogic/common/internal/ResourceAllocator.java.</font></p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1322941"></a><p class="head2">jDriver
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1322887"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1322889"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322891"></a><p class="table">CR083694</p>


		</td>
		<td align="left" valign="top">
			<a name="1322893"></a><p class="table">Calling <font face="Courier">getTimeStamp()</font>, <font face="Courier">getTime()</font>, <font face="Courier">getDate()</font> or <font face="Courier">getJavaDate()</font> on w<font face="Courier">eblogic.db.oci.OciCursor</font> with a null Calendar object, resulted in creation of a new calendar.   </p>

<a name="1322894"></a><p class="table">To improve performance, now a single calendar is created and stored in the cursor the first time one of these methods is called. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322896"></a><p class="table">CR088387</p>


		</td>
		<td align="left" valign="top">
			<a name="1322898"></a><p class="table">Using a XADataSource on top of jDriver resulted in shrinking heap size until <font face="Courier">OutOfMemoryError</font> was encountered.</p>

<a name="1322899"></a><p class="table">In the <font face="Courier">weblogic.jdbc.oci.Connection</font> class, LOB fields of result sets in a transaction are registered under a connection through the <font face="Courier">Connection.addLob()</font> method.  The registered LOBs are freed (along with the corresponding object in native jDriver library) when one of these conditions occurs:</p>


			<ul><a name="1322900"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li><font face="Courier">Connection.commit()/Connection.rollback()/Connection.close<br>() </font>is called at the connection level (this Connection is <font face="Courier">weblogic.jdbc.<br>oci.Connection</font>).</font>
<a name="1322901"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>A SQL statement is executed and the connection is set to <font face="Courier">autoCommit</font> mode (i.e., non-TX Data Source or a direct connection from the pool). </font>
<a name="1322902"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>The return code from an OCI SQL call indicates that a commit/rollback at database level has occurred. </font>
			</ul>
<a name="1322903"></a><p class="table">When an XADataSource is being used, none of the above conditions apply. As a result,  LOB fields of jDriver in result sets were never released in the JVM heap.</p>

<a name="1322904"></a><p class="table">This problem was corrected by a code change in  <font face="Courier">weblogic.jdbc.oci.xa.DataSrcThreadInfo.java</font> to call <font face="Courier">closelob ().</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322906"></a><p class="table">CR090025</p>


		</td>
		<td align="left" valign="top">
			<a name="1322908"></a><p class="table">In WebLogic Server 6.1 SP04  jDriver for Oracle 9.2 does not support the AL32UTF8 character set (unicode version 3.1). When <font face="Courier">NLS_LANG</font> is set to <font face="Courier">AMERICAN_AMERICA.AL32UTF8,</font> the following error is generated by  <font face="Courier">weblogic.jdbc.oci.Connection.&lt;init&gt;(Connection.java:246):</font></p>

<a name="1322909"></a><p class="table"><font face="Courier">java.sql.SQLException: Unsupported Oracle codeset: al32utf8. Set weblogic.codeset in your connection Properties to a valid JDK codeset which is compatible with the Oracle codeset defined in your NLS_LANG setting</font>.</p>

<a name="1322910"></a><p class="table">When <font face="Courier">NLS_LANG=AMERICAN_AMERICA.UTF8</font>, this error occurs: <font face="Courier">ORA-01461: can bind a LONG value only for insert into a LONG column</font>, indicating a mismatch between the character set on the client and database. </p>

<a name="1322911"></a><p class="table">This problem was corrected by a code fix to <font face="Courier">weblogic/db/oci/OciConnection</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322913"></a><p class="table">CR091151</p>


		</td>
		<td align="left" valign="top">
			<a name="1322915"></a><p class="table">In WebLogic Server 6.1 SP03 and SP04, jDriver for Oracle <font face="Courier">ResultSet#getBigDecimal()</font> method did not return correct value.  For example, value of 9999999999.999999 was rounded to 9999999999.999998.</p>

<a name="1322916"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322918"></a><p class="table">CR093795</p>


		</td>
		<td align="left" valign="top">
			<a name="1322920"></a><p class="table">The "Euro" currency symbol was retrieved as "?" using <font face="Courier">statement.getString()</font> with WebLogic jDriver for MSSQL Server 2000.</p>

<a name="1322921"></a><p class="table">The problem was solved by a code fix to use new String constructor to handle character set correctly</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322923"></a><p class="table">CR098071 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322925"></a><p class="table">The version of the Oracle Thin driver 9.2.0 bundled with previous releases of WebLogic Server contained errors that occasionally resulted in data errors. The driver was replaced with a new version from Oracle.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322927"></a><p class="table">CR101517</p>


		</td>
		<td align="left" valign="top">
			<a name="1322929"></a><p class="table">Oracle's SQL DATE type supports date values between 4712 B.C. and 4712 A.D., but jDriver for Oracle can not handle dates '1899-12-31' and before. Such dates that are stored by jDriver cannot be queried by other tools, like Oracle Thin Driver or SQL*Plus. This issue happens only if you use a prepared statement, and bind such date to DATE column using <font face="Courier">setDate()</font> method.</p>

<a name="1322930"></a><p class="table">The problem was solved by a code fix to <font face="Courier">weblogic/db/oci/OciColumn.java</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322932"></a><p class="table">CR102060</p>


		</td>
		<td align="left" valign="top">
			<a name="1322934"></a><p class="table">In WebLogic Server 6.1 SP02, with jDriver for Oracle, and Oracle 8.1.7, the <font face="Courier">PreparedStatement</font> for sql <font face="Courier">UPDATE</font> did not work after using<font face="Courier"> CallableStatement</font> on the same connection. This was a regression of <a href="../notes/bugfixes2.html#CR080931">"CR080931"</a>.</p>

<a name="1322936"></a><p class="table"><font face="Courier">getUpdateCount()</font> returned zero, and nothing was changed in the database. This occurred when setting the <font face="Courier">weblogic.oci.min_bind_siz</font>e property for the jdbc connection. </p>

<a name="1322937"></a><p class="table"><font face="Courier">props.put("weblogic.oci.min_bind_size", "660")</font></p>

<a name="1322938"></a><p class="table">Analysis revealed that jDriver was using <font face="Courier">min_bind_size=33000</font> for the statement.</p>

<a name="1322939"></a><p class="table"><font face="Courier">weblogic.jdbc.oci.Connection#prepareCall</font> internally set <font face="Courier">min_bind_size</font> to 33000. </p>

<a name="1322940"></a><p class="table">The problem was solved with a code fix to <font face="Courier">db\oci\OciConnection.java</font>.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1323042"></a><p class="head2">JMS
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1322945"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1322947"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322949"></a><p class="table">CR080296</p>


		</td>
		<td align="left" valign="top">
			<a name="1322951"></a><p class="table">In WebLogic Server 6.1 SP02, the messaging bridge did not work properly with null <font face="Courier">UserPassword.</font> When a bridge is configured with a non-null <font face="Courier">UserName</font> and null <font face="Courier">UserPassword</font>, the bridge failed to start with no clear error messages.</p>

<a name="1322952"></a><p class="table">This problem was resolved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322954"></a><p class="table">CR083933</p>


		</td>
		<td align="left" valign="top">
			<a name="1322956"></a><p class="table">In WebLogic Server 6.1 SP03., a JMS Server threw a <font face="Courier">NullPointerException </font>under heavy loads: </p>

<a name="1322957"></a><p class="table"><font face="Courier">&lt;Aug 2, 2002 65438 PM EDT&gt; &lt;Warning&gt; &lt;JTA&gt; &lt;XA resource [JMS_JMSServer1JDBCStore] has not responded in the last 120 second(s).&gt;</font></p>

<a name="1322958"></a><p class="table"><font face="Courier">&lt;Aug 2, 2002 65438 PM EDT&gt; &lt;Warning&gt; &lt;JTA&gt; &lt;Resource JMS_JMSServer1JDBCStore was not assigned to any of these servers JMSServer1 &gt;</font></p>

<a name="1322959"></a><p class="table"><font face="Courier">&lt;Aug 2, 2002 65438 PM EDT&gt; &lt;Warning&gt; &lt;JTA&gt; &lt;Resource JMS_JMSServer1JDBCStore was not assigned to any of these servers JMSServer1 &gt;</font></p>

<a name="1322960"></a><p class="table"><font face="Courier">&lt;Aug 2, 2002 65438 PM EDT&gt; &lt;Warning&gt; &lt;JTA&gt; &lt;Resource JMS_JMSServer1JDBCStore was not assigned to any of these servers JMSServer1 &gt;</font></p>

<a name="1322961"></a><p class="table"><font face="Courier">&lt;Aug 2, 2002 65438 PM EDT&gt; &lt;Warning&gt; &lt;JTA&gt; &lt;Resource JMS_JMSServer1JDBCStore was not assigned to any of these servers JMSServer1 &gt;</font></p>

<a name="1322962"></a><p class="table"><font face="Courier">&lt;Aug 2, 2002 65438 PM EDT&gt; &lt;Warning&gt; &lt;JTA&gt; &lt;Resource JMS_JMSServer1JDBCStore was not assigned to any of these servers JMSServer1 &gt;</font></p>

<a name="1322963"></a><p class="table"><font face="Courier">&lt;Aug 2, 2002 65438 PM EDT&gt; &lt;Alert&gt; &lt;JMS&gt; &lt;JMSServer "JMSServer1",unhandled exception during rollback, java.lang.NullPointerException.java.lang.NullPointerException at weblogic.jms.backend.BEDurableTopicMessageInfo.rollbackReceiveTran(BEDurableTopicMessageInfo.java352) atweblogic.jms.backend.BEXATranEntrySubscribe.startRollback(BEXATranEntrySubscribe.java145)at weblogic.jms.backend.BEXATranEntry.execute(BEXATranEntry.java127) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java139)        at weblogic.kernel.ExecuteThread.run(ExecuteThread.java120)</font></p>

<a name="1322964"></a><p class="table">The problem was exhibited in this configuration:  400 execute threads, 200 JMS threads, and  100 connections for the connection pool. Exception occurred under  a load test while publishing approximately 10 messages (around 2K) to a durable subscriber every second to the JMS Server. There were no  distributed transactions. Sybase driver  was used for the connection pool for the JDBCStore.</p>

<a name="1322965"></a><p class="table">The problem was solved by a code fix to check <font face="Courier">prepareStoreRequest </font>before callin<font face="Courier">g rollbackReceiveTran().</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322967"></a><p class="table">CR086976</p>


		</td>
		<td align="left" valign="top">
			<a name="1322969"></a><p class="table">In WebLogic Server 6.1 SP02, JMS JDBS store creation on an AS400 machine with DB2 failed. </p>

<a name="1322970"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322972"></a><p class="table">CR089114</p>


		</td>
		<td align="left" valign="top">
			<a name="1322974"></a><p class="table">A JMS selector performance enhancement has been implemented. The customer use case is publishing a message to a small subset of 20,000 subscribers, where each subscriber has a unique identifier.  This was CPU-intensive, as it was necessary to evaluate the selector of every subscriber to determine which subset matches.</p>

<a name="1322975"></a><p class="table">To improve performance under such circumstances, a limited subscriber index capability was added to JMS.  With this enhancement, each subscriber informs JMS of its "uniqueness" in a way that JMS knows it can index the subscriber. The uniqueness is specified by using a JMS selector of the form:</p>

<a name="1322976"></a><p class="table"><font face="Courier">xxxxx IS NOT NULL </font></p>

<a name="1322977"></a><p class="table">Where <font face="Courier">xxxxx </font>is an arbitrary identifier that is not a known JMS message attribute, and where multiple subscribers may specify the same value for "xxxxx".  This is standard JMS syntax.  WebLogic JMS sees this selector as an indication that it can optimize  by indexing the subscriber.</p>

<a name="1322978"></a><p class="table">When a message is published to a topic which has indexed subscribers, JMS now iterates over each of the message's user properties and passes the message to those indexed subscribers that match the user property name.  JMS will also continue old behavior when a message is published, as it will continue to also iterate over unindexed subscribers (those with selectors that don't match the special pattern above).</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322980"></a><p class="table">CR089583 </p>


		</td>
		<td align="left" valign="top">
			<a name="1322982"></a><p class="table">In WebLogic Server SP02, a JMSException occurred when unsubscribing the Durable subscriber:</p>

<a name="1322983"></a><p class="table"><font face="Courier">weblogic.jms.common.JMSException: Subscription clientID.vIJAY in use, uncommitted/unacknowledged messages at weblogic.jms.backend.BEConsumer.delete(BEConsumer.java:1784) at weblogic.jms.backend.BEManager.removeSubscription(BEManager.java:204) at weblogic.jms.backend.BEManager.invoke(BEManager.java:216) at weblogic.jms.dispatcher.Request.wrappedFiniteStateMachine(Request.java:510) at weblogic.jms.dispatcher.DispatcherImpl.dispatchAsync     (DispatcherImpl.java:149) at weblogic.jms.dispatcher.Request.dispatchAsync(Request.java:734) at weblogic.jms.frontend.FEManager.removeSubscription(FEManager.java:288) at weblogic.jms.frontend.FEManager.invoke(FEManager.java:320) at weblogic.jms.dispatcher.Request.wrappedFiniteStateMachine(Request.java:510) at weblogic.jms.dispatcher.DispatcherImpl.dispatchAsync    (DispatcherImpl.java:149) at weblogic.jms.dispatcher.DispatcherImpl.dispatchSyncFuture</font></p>

<a name="1322984"></a><p class="table"><font face="Courier">    (DispatcherImpl.java:300) at weblogic.jms.dispatcher.DispatcherImpl_WLSkel.invoke(Unknown Source) at weblogic.rmi.internal.BasicServerRef.invoke(BasicServerRef.java:298) at weblogic.rmi.internal.BasicServerRef.handleRequest(BasicServerRef.java:267) at weblogic.rmi.internal.BasicExecuteRequest.execute    (BasicExecuteRequest.java:22) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)</font></p>

<a name="1322985"></a><p class="table">Analysis revealed that WebLogic Server was  incrementing the unack'ed message count twice for every message and  decrementing it only once. This always left the unack'ed messagecount &gt; 0 and thus the exception when we try to unsubscribe the durable subscriber. </p>

<a name="1322986"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1322988"></a><p class="table">CR089682</p>


		</td>
		<td align="left" valign="top">
			<a name="1322990"></a><p class="table">In WebLogic Server SP03, retry values (min, max and increment) do not work correctly for MessagingBridge.  The problem occurred with a MessagingBridge configured to send messages from one WebLogic Server JMS server to another. All run on the same WebLogic Server instance. Untargeting one of the JMS resulted in this error:</p>

<a name="1322991"></a><p class="table"><font face="Courier">&lt;30-Oct-02 15:13:34 GMT&gt; &lt;Error&gt; &lt;Connector&gt; &lt;Error granting connection request.&gt;</font></p>

<a name="1322992"></a><p class="table">Retry attempts should occur at intervals controlled by the Connection Retry parameters.  However, with the following startup default values:  min=15, max=60, inc=5. The observed behavior was:</p>


			<ol><a name="1322993"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>A connection is attempted which fails - OK</font>
<a name="1322994"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>A second connection is attempted 15 seconds later - OK</font>
<a name="1322995"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>The subsequent connection attempts are at an interval of 5 seconds - NOT OK</font>
			</ol>
<a name="1322996"></a><p class="table"><font face="Courier">&lt;30-Oct-02 15:13:09 GMT&gt; &lt;Error&gt; &lt;Connector&gt; &lt;Error granting connection request.&gt;</font></p>

<a name="1322997"></a><p class="table"><font face="Courier">&lt;30-Oct-02 15:13:14 GMT&gt; &lt;Error&gt; &lt;Connector&gt; &lt;Error granting connection request.&gt;</font></p>

<a name="1322998"></a><p class="table"><font face="Courier">&lt;30-Oct-02 15:13:19 GMT&gt; &lt;Error&gt; &lt;Connector&gt; &lt;Error granting connection request.&gt;</font></p>

<a name="1322999"></a><p class="table"><font face="Courier">&lt;30-Oct-02 15:13:24 GMT&gt; &lt;Error&gt; &lt;Connector&gt; &lt;Error granting connection request.&gt;</font></p>

<a name="1323000"></a><p class="table"><font face="Courier">&lt;30-Oct-02 15:13:29 GMT&gt; &lt;Error&gt; &lt;Connector&gt; &lt;Error granting connection request.&gt;</font></p>

<a name="1323001"></a><p class="table">After one of the default parameters was changed, increments are correct.  However, the max value is never reached. With the default values, the maximum reached is 55.</p>

<a name="1323002"></a><p class="table">This problem was solved with a code fix to correct the logic for the retry values.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323004"></a><p class="table">CR091195</p>


		</td>
		<td align="left" valign="top">
			<a name="1323006"></a><p class="table">In WebLogic Server SP04, persistent queue messages received by MDB were not acknowledged properly, causing the Administration Console monitoring function to show "BYTES PENDING". Messages that had been received by the MDB were  redelivered when WebLogic Server was shutdown and restarted.</p>

<a name="1323007"></a><p class="table">This problem was solved with a code fix MDB acks when the EJB transaction descriptor is NotSupported.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323009"></a><p class="table">CR091827</p>


		</td>
		<td align="left" valign="top">
			<a name="1323011"></a><p class="table">In WebLogic Server SP02, JDBC logging threw a  <font face="Courier">java.sql.SQLException: Connection has already been closed</font> with OracleThinDriver for XA, Windows-NT, JDK 1.3.1,and  Oracle 9011. After this error message, nothing got logged in JDBC log file.</p>

<a name="1323012"></a><p class="table">This problem was solved with a code fix to prevent JDBC logging errors. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323014"></a><p class="table">CR092464</p>


		</td>
		<td align="left" valign="top">
			<a name="1323016"></a><p class="table">In WebLogic Server SP02 and SP04, when a durable topic subscriber was connected to a JMS server and there is a message sent to the topic, WebLogic Server increased the value of "Bytes Current Count" by message size even though the message had been received and committed by the receiver. The corresponding value of "Messages Current Count" is not affected. When the durable topic subscriber was not connected to a JMS server and there was a message sent to the topic, WebLogic Server increases both "Messages Current Count" and "Bytes Current Count". If the durable topic subscriber is connected back to the JMS server, WebLogic Server decreased both "Messages Current Count" and "Bytes Current Count" correspondingly. As a result of this inconsistency, the value "Bytes Current Count" cannot be zero even though there is no outstanding message for the durable topic subscriber. </p>

<a name="1323017"></a><p class="table">Analysis revealed that in <font face="Courier">backend/BEConsumer.java addMessages()</font>, <font face="Courier">bytesCurrentCount</font> was updated inappropriately, resulting in display of incorrect statistics in the Administration Console. </p>

<a name="1323018"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323020"></a><p class="table">CR093712</p>


		</td>
		<td align="left" valign="top">
			<a name="1323022"></a><p class="table">In WebLogic Server SP04, after the maximum idle time out for the messaging bridge, the messages shown below are written to the server  log file. If many messaging bridges are configured, the log file grows quickly to a large size.   </p>

<a name="1323023"></a><p class="table"><font face="Courier">####&lt;Dec 19, 2002 12:44:42 PM EST&gt; &lt;Info&gt; &lt;MessagingBridge&gt; &lt;dws-stage&gt; &lt;DwsStageServer&gt; &lt;ExecuteThread: '3' for queue: 'MessagingBridge'&gt; &lt;&gt; &lt;&gt; &lt;200027&gt; &lt;Bridge "DWSBackend Inbound Bridge" works in asynchronous mode and has not received messages for the predefined maximum idle time. The connections to the adapters will be interrupted and re-established.&gt; </font></p>

<a name="1323024"></a><p class="table"><font face="Courier">####&lt;Dec 19, 2002 12:44:42 PM EST&gt; &lt;Info&gt; &lt;MessaginBgridge&gt; &lt;dws-stage&gt; &lt;DwsStageServer&gt; &lt;ExecuteThread: '3' for queue: 'MessagingBridge'&gt; &lt;&gt; &lt;&gt; &lt;200020&gt; &lt;Bridge "DWSBackend Inbound Bridge" is stopped.&gt; ####&lt;Dec 19, 2002 12:44:42 PM EST&gt; &lt;Info&gt; &lt;MessagingBridge&gt; &lt;dws-stage&gt; &lt;DwsStageServer&gt; &lt;ExecuteThread: '3' for queue: 'MessagingBridge'&gt; &lt;&gt; &lt;&gt; &lt;200033&gt; &lt;Bridge "DWSBackend Inbound Bridge" is getting the connections to the two adapters.&gt; ####&lt;Dec 19, 2002 12:44:42 PM EST&gt; &lt;Info&gt; &lt;MessagingBridge&gt; &lt;dws-stage&gt; &lt;DwsStageServer&gt; &lt;ExecuteThread: '3' for queue: 'MessagingBridge'&gt; &lt;&gt; &lt;&gt; &lt;200032&gt; &lt;Bridge "DWSBackend Inbound Bridge" is configured not to allow degradation of its quality of service in cases where the configured quality of service is not reachable.&gt; </font></p>

<a name="1323025"></a><p class="table"><font face="Courier">####&lt;Dec 19, 2002 12:44:42 PM EST&gt; &lt;Info&gt; &lt;MessagingBridge&gt; &lt;dws-stage&gt; &lt;DwsStageServer&gt; &lt;ExecuteThread: '3' for queue: 'MessagingBridge'&gt; &lt;&gt; &lt;&gt; &lt;200030&gt; &lt;Bridge "DWSBackend Inbound Bridge" is configured to work in "Exactly-once" mode and it is actually working in "Exactly-once" mode.&gt; ####&lt;Dec 19, 2002 12:44:42 PM EST&gt; &lt;Info&gt; &lt;MessagingBridge&gt; &lt;dws-stage&gt; &lt;DwsStageServer&gt; &lt;ExecuteThread: '3' for queue: 'MessagingBridge'&gt; &lt;&gt; &lt;&gt; &lt;200028&gt; &lt;Bridge "DWSBackend Inbound Bridge" starts transferring messages.&gt; </font></p>

<a name="1323026"></a><p class="table">This problem was resolved by providing the ability to hide the log messages with <font face="Courier">DebugMessagingBridgeRuntime</font> debug flag. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323028"></a><p class="table">CR099455</p>


		</td>
		<td align="left" valign="top">
			<a name="1323030"></a><p class="table">JMS messages were getting lost due to race conditions.</p>

<a name="1323031"></a><p class="table">This problem was corrected with a code fix. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323033"></a><p class="table">CR101374</p>


		</td>
		<td align="left" valign="top">
			<a name="1323035"></a><p class="table">JMS messages were lost. A JMS Server had an inbound and an outbound queue. An MDB located on another server consumed messages from the inbound queue and produced messages to the outbound queue in a one-for-one relationship. This was done within a transaction initiated by the MDB. The end of the transaction is when the MDB enqueued a message on the outbound queue. If the JMS Server was killed and restarted, messages were lost. Over a load of 10,000 messages, a small number of messages were lost. </p>

<a name="1323036"></a><p class="table">The problem was solved by a code change to force transacted <font face="Courier">XAConnection</font> to <font face="Courier">CLIENT_ACK.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323038"></a><p class="table">CR101670</p>


		</td>
		<td align="left" valign="top">
			<a name="1323040"></a><p class="table">During tests, a JMS client session that never committed or acknowledged leaked memory. The test used startup classes that act as Asynchronous receivers for both queues and topics. The receiver was created using a transacted session and <font face="Courier">AUTO-ACKNOWLEDGE</font> mode. On receipt of messages, the receiver did a <font face="Courier">Rollback</font> on the session. Diagnostics revealed a memory leak in <font face="Courier">weblogic.jms.client.JMSSession$UnackedMessage</font>. </p>

<a name="1323041"></a><p class="table">The problem was solved with a code fix to <font face="Courier">weblogic/jms/client/JMSSession.java</font>.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1323075"></a><p class="head2">JNDI
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1323046"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1323048"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323050"></a><p class="table">CR087237</p>


		</td>
		<td align="left" valign="top">
			<a name="1323052"></a><p class="table">In WebLogic Server 6.1 SP03, in a two node cluster running under Solaris, failover of a stateless session bean was delayed by about five minutes.  The server froze  and the client hung.</p>

<a name="1323053"></a><p class="table">The time to failover was reduced to 45 seconds with multiple code and configuration changes: </p>


<ul type="square">
<a name="1323054"></a><p><li type="square"><font face="Courier">RJVMFinder</font> was made as <font face="Courier">PeerGoneListener</font> to remember the unavailable server and not try the server until the replica list is empty.

<a name="1323055"></a><p><li type="square">Fix to <font face="Courier">BasicReplicaHandler</font> to avoid <font face="Courier">refreshReplicalist</font> calls during failover, when it finds the replica list has more servers.

<a name="1323056"></a><p><li type="square"><font face="Courier">T3JVMConnection</font> has new functionality, to create the socket on a  worker thread.  In addition, the same timeout is used for the <font face="Courier">so_timeou</font>t, so on solaris8 clients, read will not block for one minute. The new flag is  <font face="Courier">-Dweblogic.client.SocketConnectTimeoutInSecs</font>=15 flag.

<a name="1323057"></a><p><li type="square">Control heartbeat period on server and client using the existing <font face="Courier">-D</font> values. Increase the default execute queue on server to take care of extra heartbeat load. Client heartbeat time is controlled by <font face="Courier">-Dweblogic.PeriodLength</font>=10000 flag. Server heartbeat is controlled by <font face="Courier">PeriodLength</font>="10000" flag in the <font face="Courier">ServerMBean</font> in the <font face="Courier">config.xml</font>.
</ul>

		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323059"></a><p class="table">CR093700</p>


		</td>
		<td align="left" valign="top">
			<a name="1323061"></a><p class="table">When (re)binding and unbinding clusterable RMI objects from JNDI tree, the unbind operation was sometimes making the object null, setting it up for garbage collection, but still holding a reference to the null object when the object was hosted locally on the server.</p>

<a name="1323062"></a><p class="table">A code fix was implemented to ensure that the object it is set for garbage collection only when no other replica of this object is available in the cluster.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323064"></a><p class="table">CR093799</p>


		</td>
		<td align="left" valign="top">
			<a name="1323066"></a><p class="table">When performing a  <font face="Courier">Context.lookup</font> on a composite name, a <font face="Courier">NameNotFoundException</font> occurs if the name was not resolved, either fully or partially. </p>

<a name="1323067"></a><p class="table">Name <font face="Courier">remainingName = nnfe.getRemainingName(); </font> should obtain the components that were not resolved from the name. These are the subcontexts that need to be created in the JNDI tree. </p>

<a name="1323068"></a><p class="table">So when enumeration <font face="Courier">e = remainingName.getAll()</font> is called, the enumeration obtained should contain the unresolved components as string  elements. e.g ("Unresolved1","Unresolved2","Unresolved3"). However, the Enumeration contains only one string, "Unresolved1.Unresolved2.Unresolved3"</p>

<a name="1323069"></a><p class="table">The problem was solved by a change to <font face="Courier">BasicNamingNode.java</font> to ensure that <font face="Courier">CompositeName</font> is constructed with the '/'  separator.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323071"></a><p class="table">CR096838</p>


		</td>
		<td align="left" valign="top">
			<a name="1323073"></a><p class="table">In WebLogic Server 6.1 SP03 and SP04 <font face="Courier">weblogic.jndi.Environment</font> objects were not released on a timely basis, causing an <font face="Courier">OutOfMemoryError</font> error during lookups for  <font face="Courier">ejb-ref-name</font> on the <font face="Courier">InitialContext</font>.</p>

<a name="1323074"></a><p class="table">A code fix was implemented to correctly close the context.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1323140"></a><p class="head2">JSP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1323079"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1323081"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323083"></a><p class="table">CR092039</p>


		</td>
		<td align="left" valign="top">
			<a name="1323085"></a><p class="table">WebLogic Server 6.1 SP03,the <font face="Courier">JspParser</font> threw an <font face="Courier">UnsupportedEncodingException</font> for the extra quoted value in charset with JSP tag: </p>

<a name="1323086"></a><p class="table"><font face="Courier">&lt;%@ page contentType="text/html; charset=\"Shift_JIS\"" %&gt;</font></p>

<a name="1323087"></a><p class="table">resulted in this error:</p>

<a name="1323088"></a><p class="table"><font face="Courier">java.lang.RuntimeException: Unknown/unsupported charset: "Shift_JIS" - java.io.UnsupportedEncodingException: Charset: '"Shift_JIS"' not recognized, and there is no alias for it in the WebServerMBean</font></p>

<a name="1323089"></a><p class="table">WebLogic Server did not correctly support the HTTP specification. </p>

<a name="1323090"></a><p class="table">The problem was resolved by adding support for quoted strings and comments to <font face="Courier">Content-Type</font> header charset attribute value. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323092"></a><p class="table">CR088019</p>


		</td>
		<td align="left" valign="top">
			<a name="1323094"></a><p class="table">In WebLogic Server 6.1 SP03, a generated java file failed to compile on HP-UX 11with virtual host.The .ear file deployed correctly when not targeted to a virtual host.  When accessed, <font face="Courier">login.jsp</font> generated the java file and compiled it.</p>

<a name="1323095"></a><p class="table">A virtual host was configured, and the webapp part of the .ear was targeted to the  virtual host.  </p>

<a name="1323096"></a><p class="table">After restart of the server, when accessed, <font face="Courier">login.jsp</font> generated the java file but failed to compile it into a class file.  </p>

<a name="1323097"></a><p class="table">The problem was solved with a code fix. The temporary directory now contains an element identifying the WebServer component so as to distinguish between virtual hosts and/or the default web-server. This prevents deployment file clashes when WebApps are deployed and the temporary directory is cleaned out.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323099"></a><p class="table">CR092089</p>


		</td>
		<td align="left" valign="top">
			<a name="1323101"></a><p class="table">A JSP file with multibyte name did not compile, and the directory returned its contents.</p>

<a name="1323102"></a><p class="table">Analysis revealed that the JSP file path was not correctly detected when the file name contained multibyte characters. WebLogic Server decoded the path by VM default, then the path was decoded again using 'input-charset'.</p>

<a name="1323103"></a><p class="table">Browser decoding implementation was a related issue. Internet Explorer performs <font face="Courier">URLencode</font> based on UTF-8. Netscape does it based on platform default. </p>

<a name="1323104"></a><p class="table">The problem was resolved by a code fix to decode <font face="Courier">ContextPath</font>, <font face="Courier">ServletPath</font>, and <font face="Courier">PathInfo</font>  based on UTF-8.</p>

<a name="1323105"></a><p class="table">Decoding method can be configured with <font face="Courier">weblogic.http.URIDecodeEncoding</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323107"></a><p class="table">CR092366</p>


		</td>
		<td align="left" valign="top">
			<a name="1323109"></a><p class="table">The <font face="Courier">javax.servlet.jsp.PageContext.out</font> attribute was notcleaned up correctly for body content tags.</p>

<a name="1323110"></a><p class="table">The problem was solved with a code fix. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323112"></a><p class="table">CR093014</p>


		</td>
		<td align="left" valign="top">
			<a name="1323114"></a><p class="table">Java comments that start in one scriptlet and end in the next one cause an  error:</p>

<a name="1323115"></a><p class="table"><font face="Courier">&lt;22.07.2002 14:12:24 CEST&gt; &lt;Error&gt; &lt;HTTP&gt; </font></p>

<a name="1323116"></a><p class="table"><font face="Courier">&lt;[WebAppServletContext(7422744,DefaultWebApp,/DefaultWebApp)] Servlet failed with Exception weblogic.servlet.jsp.JspException: (line 12): scriptlet close brace '}' unbalanced at line 12 which breaks scope '_base_service_scope_'  at ....</font></p>

<a name="1323117"></a><p class="table">The problem was solved by back-porting grammar from WebLogic Server 7.0 that caused the ScriptletScopeLexer to skip an entire Java comment. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323119"></a><p class="table">CR093291</p>


		</td>
		<td align="left" valign="top">
			<a name="1323121"></a><p class="table">JSP compile by the server did not include the system classpath. On server startup, JSPs that referenced a  jar in CLASSPATH did not compile.</p>

<a name="1323122"></a><p class="table">This message occurred:  </p>

<a name="1323123"></a><p class="table"><font face="Courier">package com.bea.p13n.util.debug does not exist probably occurred due to an error in /devtools/debug.jsp line 1:&lt;%@ page import="com.bea.p13n.util.debug.Debug" %&gt;</font></p>

<a name="1323124"></a><p class="table">Analysis revealed that the problem occurred when the jar in system classpath began with "../..".  </p>

<a name="1323125"></a><p class="table">The problem was solved with a codefix to support consider ./ and ../ cases when cleaning the classpath.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323127"></a><p class="table">CR093625</p>


		</td>
		<td align="left" valign="top">
			<a name="1323129"></a><p class="table">In WebLogic Server 6.1 SP03 and SP04, server misdirected output for JSP includes in JSP pages.   The problem was solved with changes to the servlet engine to  unify handling of  includes, forwards, wrapped-responses, and JSP BodyTags.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323131"></a><p class="table">CR094190</p>


		</td>
		<td align="left" valign="top">
			<a name="1323133"></a><p class="table">According to the JVM specification, the size limit for a method size is 64K. In WebLogic Server 6.1 SP03, a customer has JSPs with many body tags for which the generated java code exceeded the 64K limit for the <font face="Courier">__jspService</font> method. </p>

<a name="1323134"></a><p class="table">The problem was solved by a code change. Now, when an empty BodyTag of the form <font face="Courier">&lt;my:tag ... /&gt;</font> is encountered, the generated code that would normally set up scope for the body is replaced by a single call to a static method in <font face="Courier">StandardTagLib.java </font>that tricks the BodyTag into thinking it is being invoked as usual from the JSP source. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323137"></a><p class="table"><a name="CR098402"></a>CR098402</p>


		</td>
		<td align="left" valign="top">
			<a name="1323139"></a><p class="table">In WebLogic Server 6.1 SP04, <font face="Courier">jsp:setProperty</font> converted a request-time expression in the property value to String.  The problem was solved with a code fix. When assigning from a value given as a request-time attribute, no type conversions are applied. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1323209"></a><p class="head2">JTA
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1323144"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1323146"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323148"></a><p class="table">CR088171</p>


		</td>
		<td align="left" valign="top">
			<a name="1323150"></a><p class="table">In WebLogic Server 6.1SP02 when a transaction is in unknown state the transaction is lost </p>

<a name="1323151"></a><p class="table">Given the following cluster configuration:</p>

<a name="1323152"></a><p class="table">MS-1</p>


			<ul><a name="1323153"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Queue1 - MDB1 TX Required</font>
<a name="1323154"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Queue2 - MDB2 TX Required</font>
<a name="1323155"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>SLSB</font>
			</ul>
<a name="1323156"></a><p class="table">MS-2</p>


			<ul><a name="1323157"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Queue3 - MDB3 TX required</font>
<a name="1323158"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>SLSB - <font face="Courier">send() </font>- TX required</font>
<a name="1323159"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li><font face="Courier">sendImmediate()</font> - TX RequiresNew</font>
			</ul>
<a name="1323160"></a><p class="table">The queues are persisted to a DB, MDBs transactionally de-queueing messages.  The following occurs:</p>


			<ol><a name="1323161"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>MDB3 -&gt;<font face="Courier"> SLSB.send()</font> and then <font face="Courier">SLSB.sendImmediate()</font></font>
<a name="1323162"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>the SLSB.send does: <font face="Courier">SLSB.send()</font> ...&gt;MDB2-&gt; MDB1 -&gt; <font face="Courier">SLSB.sendImmediate()</font> called twice</font>
<a name="1323163"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Send 100 messages to Queue3, allow processing to commence. Kill MS-1 after all  messages have been enqueued but prior to all the messages being consumed from  Queue3. </font>
<a name="1323164"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Restart MS-1.</font>
			</ol>
<a name="1323165"></a><p class="table">When  MS-2 is killed, the MS-1  receives a peergone exception and the transaction which is  ready to commit its status goes from prepared to unknown.  When the second server is brought back up the transaction is lost because it does not know what to do is commit or rollback because of the UNKNOWN state.</p>

<a name="1323166"></a><p class="table">The problem was solved with a code fix to rollback a transaction when an unknown exception is received during commit. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323168"></a><p class="table">CR088844</p>


		</td>
		<td align="left" valign="top">
			<a name="1323170"></a><p class="table">In WebLogic Server 6.1 SP02, a deadlock between LogManager and JTA occurred on server startup. Thread dump analysis revealed:</p>

<a name="1323171"></a><p class="table">Execute thread 7: This thread is  trying to enlist a resource.  It calls <font face="Courier">ResourceDescriptor.startResourceUse</font>. Inside the synchronized block of this method is a trace statement.</p>

<a name="1323172"></a><p class="table">Execute Thread 6: The Audit Bean is trying to make a call to <font face="Courier">LogBroadcaster.</font> This makes an RMI call that causes the transaction to be suspended and delist the resources.  Delist makes also a call on <font face="Courier">ResourceDescriptor.startResourceUs</font>e.</p>

<a name="1323173"></a><p class="table">The trace statement inside the <font face="Courier">startResourceUse</font> in thread 7  is blocking waiting on the <font face="Courier">LogBroadcast</font> in thread 6 and  the enlist of thread 7 is waiting for the delist in thread 6.</p>

<a name="1323174"></a><p class="table">The problem was solved by moving the trace  statement in <font face="Courier">startResourceUse</font> outside the synchronized block.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323176"></a><p class="table">CR091628</p>


		</td>
		<td align="left" valign="top">
			<a name="1323178"></a><p class="table">The <font face="Courier">javax.transaction.xa.XAResource</font> interface defines a method, <font face="Courier">setTransactionTimeout()</font>, that allows the transaction manager to set the transaction timeout in the resource manager for operations associated with the <font face="Courier">XAResource</font> instance.  The WebLogic Server transaction manager did not invoke this method when a resource manager is accessed by an application in a global transaction.</p>

<a name="1323179"></a><p class="table">This problem was solved by adding a <font face="Courier">XATransactionTimeout</font> property to be used when <font face="Courier">XASetTransactionTimeout</font> is  "true".  This is because, if the JTA Transaction Timeout value is used and that value is high, if WebLogic Server crashes in mid- transaction, Oracle locks the rows and no one can access them unless Oracle is cycled.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323181"></a><p class="table">CR091882</p>


		</td>
		<td align="left" valign="top">
			<a name="1323183"></a><p class="table">In WebLogic Server 6.1SP03 a transaction timeout occurred when calling a stateless EJB in a remote   6. 1SP03 Cluster.</p>

<a name="1323184"></a><p class="table">The problem was solved by a code fix to <font face="Courier">transaction/internal/TransactionImpl.java</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323186"></a><p class="table">CR092301</p>


		</td>
		<td align="left" valign="top">
			<a name="1323188"></a><p class="table">In WebLogic Server 6.1 SP04, a null point exception was thrown by  <font face="Courier">weblogic.transaction.internal.ServerResourceInfo.isAccessibleAtAndAssignableTo.</font> The problem occurred intermittently even when the server is idle, and could not be reliably reproduced.  </p>

<a name="1323189"></a><p class="table">The problem was resolved with a code fix to <font face="Courier">weblogic/transaction/internal/ServerResourceInfo.java</font> . </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323191"></a><p class="table">CR093045</p>


		</td>
		<td align="left" valign="top">
			<a name="1323193"></a><p class="table">In WebLogic Server 6.1 SP02 and later, the Oracle 8.1.7.4 thin driver XA connection pool became unusable after the database stopped and started under WebLogic Server load. </p>

<a name="1323194"></a><p class="table">The test application used XA connection pool to update columns in Oracle 8.1.7.4 via MDBs. When WebLogic Server is processing the MDB messages and the Oracle database is stopped/restarted the XA connections are not refreshed and distributed locks in Oracle are not recovered (ORA-01591). WebLogic Server goes into a cyclic "hang" situation and tries to refresh the XA connections. WebLogic Server log file shows following when "cycling" to refresh/use XA connections: </p>

<a name="1323195"></a><p class="table"><font face="Courier">... ####&lt;13.12.2002 12:09:54 CET&gt; &lt;Info&gt; &lt;JDBC Pool FoundationThinXAPool&gt; &lt;A4PMA9ALX&gt; &lt;myserver&gt; &lt;ExecuteThread: '9' for queue: 'default'&gt; &lt;guest&gt; &lt;484:6c709abb7f28edb9&gt; &lt;000000&gt; &lt;javax.transaction.SystemException: start() failed on resource 'weblogic.jdbc.jta.VendorXAResource' null at weblogic.transaction.internal.ServerResourceInfo.xaStart(ServerResourceInfo.java:1010) at ... </font></p>

<a name="1323196"></a><p class="table">WebLogic Server never recovered from this situation (cycles). All threads of the server seemed blocked and server had to be killed (<font face="Courier">weblogic.Admin SHUTDOWN</font> not working). Only restarting the WebLogic Server resolved the distributed locks in Oracle as soon as JTA recovery takes place. Before the recovery is done many ORA-01591 exceptions were thrown as the MDBs try to re-deliver their outstanding messages. After JTA recovered the in-doubt distributed transactions, processing of outstanding JMS messages completes successfully. </p>

<a name="1323197"></a><p class="table">The problem was solved with code fixes to <font face="Courier">weblogic\jdbc\oci\xa\XADataSource.java</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323199"></a><p class="table">CR100357</p>


		</td>
		<td align="left" valign="top">
			<a name="1323201"></a><p class="table">When servers participating in a transaction were killed and restarted, recovery was slow, or deadlock occurred. The configuration included four JMSServers with pinned connection factories and distributed inbound and outbound queues, four MDB Servers (each with four MDBs deployed, five beans in pool listening to each distributed member in the inbound queue), 40,000 messages of size 2K in the inbound queue. </p>

<a name="1323202"></a><p class="table">When JMS and MDB servers were restarted, the JMS servers used up all default queue threads and the Execute Queue continued to grow. </p>

<a name="1323203"></a><p class="table"><font face="Courier">ServerTransactionImpl.java</font> was modified to fix the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323205"></a><p class="table">CR100898</p>


		</td>
		<td align="left" valign="top">
			<a name="1323207"></a><p class="table">If a transaction was rolled back, and there was a server participant that had no resource participants, it was possible that the transaction would never be completed. The transaction would continue to exist on the coordinating server and continually retry notifying the server with no resources to roll back.  Eventually, the transaction would be abandoned. Although all resource participants were informed of the rollback, it was possible that after completion callbacks would not be processed on the coordinating server.</p>

<a name="1323208"></a><p class="table">This problem was resolved by logic changes in rollback async reply processing to accommodate servers with no resources and to immediately set state to rolled back when all servers/resources are accounted for.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1323233"></a><p class="head2">Miscellaneous
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1323213"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1323215"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323217"></a><p class="table">CR094764</p>


		</td>
		<td align="left" valign="top">
			<a name="1323219"></a><p class="table">In WebLogic Server 6.1 SP04, <font face="Courier">beasvc.exe</font> did not shut down gracefully when Windows-NT was restarted.  The problem occurred when the user:</p>


			<ol><a name="1323220"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Configured WebLogic Server to run as NT service.</font>
<a name="1323221"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Started WebLogic Server from the Windows Control Panel.</font>
<a name="1323222"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Restarted Windows-NT from the Windows Start menu.</font>
			</ol>
<a name="1323223"></a><p class="table">The server log was empty, and the event viewer contained this message:</p>

<a name="1323224"></a><p class="table"><font face="Courier">The myserver service terminated unexpectedly.  It has done this 1 time(s).  </font></p>

<a name="1323225"></a><p class="table"><font face="Courier">The following corrective action will be taken in 0 milliseconds: No action. </font></p>

<a name="1323226"></a><p class="table">Analysis revealed that the Windows Service Control Manager (SCM)  should be notified of<font face="Courier"> SERVICE_ACCEPT_SHUTDOWN</font> so that it will inform <font face="Courier">beasvc.exe</font> of <font face="Courier">SERVICE_CONTROL_SHUTDOWN</font> during system shutdown. </p>

<a name="1323227"></a><p class="table">A code change to implement the required processing solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323229"></a><p class="table">CR099590</p>


		</td>
		<td align="left" valign="top">
			<a name="1323231"></a><p class="table">In WebLogic Server 6.1 SP02, using a JMX client to delete a managed server resulted in a null pointer exception at <font face="Courier">weblogic.management.internal.MBeanHomeImpl.getInterface(MBeanHomeImpl.java:431) </font></p>

<a name="1323232"></a><p class="table">The problem was solved with a correction to the mbean delete.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1323235"></a><p class="head2">Plug-ins</p>

<a name="1365340"></a><p>The plug-in(s) in which the problem was resolved is shown in parentheses in the Description column.
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1365343"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1365345"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365347"></a><p class="table">091740</p>


		</td>
		<td align="left" valign="top">
			<a name="1365349"></a><p class="table">(HttpClusterServlet) During benchmark tests,  503 and 500 HTTP error were being returned by the  proxy server running the  HttpClusterServlet. The errors were random and occasional. The configuration was  JRockit 7.0 SP2 Load 2 and the Sun JDK 1.3.1_06. <font face="Courier">AcceptBacklog</font> and the thread count were increased to 1000 and 50 respectively. The benchmark was run with 100-200 client threads.</p>

<a name="1365350"></a><p class="table">This problem occurred when the servlet's dynamic server list contained no entries. </p>

<a name="1365351"></a><p class="table">The problem was solved with a code fix to check the size of the dynamic server list of servers before creating an array out of that list. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365353"></a><p class="table">CR084625</p>


		</td>
		<td align="left" valign="top">
			<a name="1365355"></a><p class="table">(NSAPI) All version of the iPlanet plugin had <font face="Courier">/_wl_proxy/_post </font>hardcoded:</p>

<a name="1365356"></a><p class="table"><font face="Courier">#else /* UNIX */</font></p>

<a name="1365357"></a><p class="table"><font face="Courier">sprintf(name,"/tmp/_wl_proxy/_post__%d_%d", pid, postCounter);</font></p>

<a name="1365358"></a><p class="table"><font face="Courier">fsep = '/';</font></p>

<a name="1365359"></a><p class="table"><font face="Courier">#endif</font></p>

<a name="1365360"></a><p class="table">This poses problems for customers that have  multiple servers using different user IDs and groups.</p>

<a name="1365361"></a><p class="table">For example, uploaded files from clients are saved temporarily in<font face="Courier"> /tmp/_wl_proxy</font> of web servers that proxy to WebLogic Server. The <font face="Courier">_wl_proxy</font> directory is removed each time the web server is rebooted. If the environment is shared  (multiple instances on the same physical servers) the user process that creates this directory blocks other users from writing to it, because it uses its default umask to create the permissions (i.e., application A [running as User ID A] creates <font face="Courier">/tmp/_wl_proxy/&lt;some temp file&gt;</font> and then application B tries to upload a file and gets the following error in the error file:</p>

<a name="1365362"></a><p class="table"><font face="Courier">[27/Aug/2002082140] failure (14367) for host 172.18.5.122 trying to POST /filetransfer/TransferUtility.do, wl-proxy reports exception occurred 'READ_ERROR [os error=13, line 501 of proxy.cpp] Cannot open TEMP file '/tmp/_wl_proxy/_post__14367_5' in $TMP/_wl_proxy for POST of 2867 bytes</font></p>

<a name="1365363"></a><p class="table">This problem was solved by adding a configurable <font face="Courier">WLTempDir</font> argument. This argument applies to both <font face="Courier">wlproxy.log</font> and <font face="Courier">_wl_proxy</font>. For backward compatibility, <font face="Courier">WLLogFile</font> overrides <font face="Courier">WLTempDir</font> during log file creation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365365"></a><p class="table">CR085192</p>


		</td>
		<td align="left" valign="top">
			<a name="1365367"></a><p class="table">(NSAPI and ISAPI) Performance degradation occurred when connection pooling was turned off.  </p>

<a name="1365368"></a><p class="table">Resource requirements for URL creation were high.  </p>

<a name="1365369"></a><p class="table">WebLogic closed the connection before the plug-in did, resulting in "half-open" connections, and PROTOCOL_EXCEPTIONS in the plug-in.</p>

<a name="1365370"></a><p class="table">The problems were addressed by multiple code changes:</p>


<ul type="disc">
<ul type="disc">

<a name="1365371"></a><p><li type="disc"><font face="Courier">Keep-Alive</font> is enabled by default for ISAPI and NSAPI.


<a name="1365372"></a><p><li type="disc">WebLogic Server now sends the <font face="Courier">keepAliveSecs</font> value to the plug-in a special header.

</ul>
</ul>

		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365374"></a><p class="table">CR085285</p>


		</td>
		<td align="left" valign="top">
			<a name="1365376"></a><p class="table">(NSAPI) The web application container returned 404 messages for <font face="Courier">InitJVMID</font> requests from the plugins, resulting in log files filling up with messages:</p>

<a name="1365377"></a><p class="table"> <font face="Courier">####&lt;Sep 6, 2002 4:56:43 PM EDT&gt; &lt;Debug&gt; &lt;HTTP&gt; &lt;petunia&gt; &lt;ms1petunia&gt; &lt;ExecuteThread: '13' for queue: 'default'&gt; &lt;kernel identity&gt; &lt;&gt; &lt;101147&gt; &lt;HttpServer(887891,null default ctx,ms1petunia) found no context for "/WLDummyInitJVMIDs".</font></p>

<a name="1365378"></a><p class="table">The problem was solved by sending <font face="Courier">InitJVMID</font> requests to the internal web application which is always deployed on WebLogic Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365380"></a><p class="table">CR085541</p>


		</td>
		<td align="left" valign="top">
			<a name="1365382"></a><p class="table">(all plug-ins) <font face="Courier">__WebLogicBridgeConfig</font> returned internal representation of Debug&#8212;a confusing 10 character code.  </p>

<a name="1365383"></a><p class="table">A code fix was made to return the value represented by the code. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365385"></a><p class="table">CR085695</p>


		</td>
		<td align="left" valign="top">
			<a name="1365387"></a><p class="table">(ISAPI) When <font face="Courier">KeepAlive </font>was enabled, the time to close the connection is about 30 seconds with a HEAD HTTP request.</p>

<a name="1365388"></a><p class="table">This problem was exhibited under 6.1 SP01, Windows 2000, IIS 5.0.</p>

<a name="1365389"></a><p class="table">This problem was corrected with a code fix to close the connection immediately for HEAD request.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365391"></a><p class="table">CR085921</p>


		</td>
		<td align="left" valign="top">
			<a name="1365393"></a><p class="table">(ISAPI) For all plug-ins, it was not possible to differentiate between <font face="Courier">WRITE_ERRORS</font> that occurred while writing to the request/post-data to WebLogic Server and  WRITE_ERRORS that occurred while writing response headers/data to the browser in the <font face="Courier">__WebLogicBridgeConfig</font> statistics.  This deficiency made it more difficult to use the statistics displayed by <font face="Courier">__WebLogicBridgeConfig</font> for  plug-in/cluster health monitoring. </p>

<a name="1365394"></a><p class="table">This deficiency was corrected by implementing two new error types <font face="Courier">WRITE_ERROR_TO_CLIENT</font> and <font face="Courier">WRITE_ERROR_TO_SERVER</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365396"></a><p class="table">CR085923</p>


		</td>
		<td align="left" valign="top">
			<a name="1365398"></a><p class="table">(ISAPI) For all plug-ins, setting Debug=ERR caused INF messages to also be logged. </p>

<a name="1365399"></a><p class="table">This problem was corrected by a code fix.   Now, only ERR messages are logged when Debug=ERR.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365401"></a><p class="table">CR086224</p>


		</td>
		<td align="left" valign="top">
			<a name="1365403"></a><p class="table">(NSAPI) Plug-in did not read the <font face="Courier">SESSIONID</font> from post data.</p>

<a name="1365404"></a><p class="table">Analysis revealed a problem in <font face="Courier">getPreferredServersFromCookie()</font>. When <font face="Courier">session.getId()</font> was kept as post data. <font face="Courier">getId() </font>included an extra string: <font face="Courier">|time</font>. </p>

<a name="1365405"></a><p class="table">The problem was solved by a code fix:,</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365407"></a><p class="table">CR086490 </p>


		</td>
		<td align="left" valign="top">
			<a name="1365409"></a><p class="table">(ISAPI) For all plug-ins and <font face="Courier">HttpClusterServlet</font>, the <font face="Courier">MaxSkips</font> feature was disabled, because its default value of 10 proved to make the feature less useful than desired. The lack of this feature posed potential performance degradation when one or more servers in the cluster are unresponsive. </p>

<a name="1365410"></a><p class="table">This problem was resolved by providing a new parameter, <font face="Courier">MaxSkipTime.</font> </p>

<a name="1365411"></a><p class="table"><font face="Courier">MaxSkipTime</font> can be used to specify the time in seconds to wait after marking a server bad until forcing a new server list.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365413"></a><p class="table">CR086518</p>


		</td>
		<td align="left" valign="top">
			<a name="1365415"></a><p class="table">(NSAPI) If performing a redirect using a URL that contains both a query string and an anchor, the anchor was incorrectly considered part of the value portion of the last query string member. This problem only occurred when using Internet Explorer in a three-tier environment, using iPlanet 6.0 for the HTTP server).  Using Netscape or Mozilla, or if running the server in a two-tier environment, the problem did not occur.</p>

<a name="1365416"></a><p class="table">To replicate, invoke foo.jsp.</p>

<a name="1365417"></a><p class="table"><font face="Courier">foo.jsp:</font></p>

<a name="1365418"></a><p class="table"><font face="Courier">    &lt;%</font></p>

<a name="1365419"></a><p class="table"><font face="Courier">        String redirectURL = "http://hostname/T/foo2.jsp?a=b#foo";;</font></p>

<a name="1365420"></a><p class="table"><font face="Courier">        response.sendRedirect(redirectURL);</font></p>

<a name="1365421"></a><p class="table"><font face="Courier">    %&gt;</font></p>

<a name="1365422"></a><p class="table"><font face="Courier">foo2.jsp:</font></p>

<a name="1365423"></a><p class="table"><font face="Courier">&lt;%= request.getParameter("a") %&gt;</font></p>

<a name="1365424"></a><p class="table">The Administration Console displayed the value for "a" as "b#foo"., instead of  "b".</p>

<a name="1365425"></a><p class="table">The problem was solved by a code fix to trim the anchor from the query string, because Internet Explorer does not do so for sendRedirected URL</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365427"></a><p class="table">CR088914</p>


		</td>
		<td align="left" valign="top">
			<a name="1365432"></a><p class="table">(NSAPI) See <a href="bugfixes2.html#1365435">CR088915</a></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365435"></a><p class="table">CR088915</p>

<a name="1365436"></a><p class="table">CR088914</p>


		</td>
		<td align="left" valign="top">
			<a name="1365438"></a><p class="table">(ISAPI, NSAPI) A changed was made to reduce vulnerability to SSL certificate chain attacks.  Code to check <font face="Courier">BasicConstraints</font> for CA certificates was added. Constraint checking is controlled with the plug-in parameter <font face="Courier">EnforceBasicConstraints</font>. The parameter settings are now: </p>


			<ul><a name="1365439"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>OFF&#8212;disables the enforcement entirely is not recommended as a solution unless you really have no other choice. For example, a customer has bought certificates from a commercial CA and the chain doesn't pass the new check. Note that most current commercial CA certificates should work under the default STRONG setting.</font>
<a name="1365440"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>STRONG&#8212;<font face="Courier">BasicConstraints</font> for V3 CA certificates are checked and the certificates are verified to be CA certificates. This is the default.</font>
<a name="1365441"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>STRICT&#8212;This level does the same checking as the STRONG level, but in addition it also strictly enforces IETF RFC 2459 which specifies the <font face="Courier">BasicConstraints</font> for CA certificates also must be marked as "critical". Set this if you want to strict conformance to RFC 2459.</font>
			</ul>
<a name="1365442"></a><p class="table">This change may result in security exceptions that did not occur in WebLogic Server 6.1 SP04.  For example, an attempt to make an outbound SSL call, resulted in this error when the certificate presented by the remote server instance did not have a basic constraint:</p>

<a name="1365443"></a><p class="table"><font face="Courier">&lt;May 8, 2003 4:36:18 PM MDT&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;SSLListenThread listening on port 7002&gt; &lt;May 8, 2003 4:36:19 PM MDT&gt; &lt;Notice&gt; &lt;Management&gt; &lt;Starting discovery of Managed Server... This feature is on by default, you may turn this off by passing -Dweblogic. &lt;May 8, 2003 4:36:19 PM MDT&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;Started WebLogic Admin Server "myserver" for domain "412253" running in Production Mode&gt; EXCEPTION: Socket Closed java.io.IOException: Socket Closed at weblogic.security.SSL.SSLSocket.sendAlert(SSLSocket.java:1086) at... </font></p>

<a name="1365444"></a><p class="table">Such errors may be prevented by setting the plug-in parameter <font face="Courier">EnforceBasicConstraints</font> to false. You can set disable checking of basic constraints at the command line with this command:</p>

<a name="1365445"></a><p class="table"><font face="Courier">-Dweblogic.security.SSL.enforceConstraints=false</font> </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365447"></a><p class="table">CR089746</p>


		</td>
		<td align="left" valign="top">
			<a name="1365449"></a><p class="table">(NSAPI) WebLogic Server supported the following scenarios:</p>


			<ul><a name="1365450"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>plug-in via T3s to application server. (No SSL Session caching and NO Keep-Alive)</font>
<a name="1365451"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>plug-in via HTTPS to application server. (No SSL Session caching and NO Keep-Alive)Customer is asking for SSL session resumption between plug-in and Weblogic Server.</font>
			</ul>
<a name="1365452"></a><p class="table">A customer requested support for SSL session caching and keep-alives between the plug-in and and WebLogic Server, for T3s and HTTPS.</p>

<a name="1365453"></a><p class="table">The request was satisfied by adding the <font face="Courier">KeepAliveEnabled</font> flag , and adding SSL session cache.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365455"></a><p class="table">CR091635</p>


		</td>
		<td align="left" valign="top">
			<a name="1365457"></a><p class="table">(NSAPI) The SP03 version of the plug-in failed to parse the the JVMIDs for the following request:</p>

<a name="1365458"></a><p class="table"><font face="Courier">2002 Found Encoded </font></p>

<a name="1365459"></a><p class="table"><font face="Courier">Session=[JSESSIONID=9dq5Z081!805492834!174332983!7001!7002?_JASPER=1000/r/1037920979629&amp;PAGE=HOME_TEMPLATE&amp;INTEGRATION=YES]</font></p>

<a name="1365460"></a><p class="table"><font face="Courier">Thu Nov 21 15:16:09 2002 Parsing cookie </font></p>

<a name="1365461"></a><p class="table"><font face="Courier">JSESSIONID=9dq5Z081!805492834!174332983!7001!7002?_JASPER=1000/r/1037920979629&amp;PAGE=HOME_TEMPLATE&amp;INTEGRATION=YES</font></p>

<a name="1365462"></a><p class="table"><font face="Courier">Thu Nov 21 15:16:09 2002 getpreferredServersFromCookie: </font></p>

<a name="1365463"></a><p class="table"><font face="Courier">805492834!174332983!7001!7002?_JASPER=1000/r/1037920979629&amp;PAGE=HOME_TEMPLATE&amp;INTEGRATION=YES</font></p>

<a name="1365464"></a><p class="table"><font face="Courier">Thu Nov 21 15:16:15 2002 parseJVMID: could not resolve hostname 'r', treating it as invalid</font></p>

<a name="1365465"></a><p class="table">The problem was solved with a code fix to check JVMID portion of session cookie contains  '/'  instead of the whole <font face="Courier">sessionid.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365467"></a><p class="table">CR092756</p>


		</td>
		<td align="left" valign="top">
			<a name="1365469"></a><p class="table">(ISAPI) ISAPI plug-in was not failing over on receipt of a HTTP 503 response from the backend.  A code fix was implemented to solve this problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365471"></a><p class="table">CR093196</p>


		</td>
		<td align="left" valign="top">
			<a name="1365473"></a><p class="table">(NSAPI) JSP <font face="Courier">sendRedirect()</font> failed  when web application is deployed on a cluster and the JSP is accessed through the iPlanet proxy plug-in. </p>

<a name="1365474"></a><p class="table">An IE browser returns the message <font face="Courier">The page cannot be displayed...</font> and Netscape returns <font face="Courier">The document contained no data...</font> </p>

<a name="1365475"></a><p class="table">The problem was solved with a code fix to check for null value of secondary session.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365477"></a><p class="table">CR093530</p>


		</td>
		<td align="left" valign="top">
			<a name="1365479"></a><p class="table">(ISAPI) The<font face="Courier"> PathTrim</font> value was case-sensitive, causing problems for environments that prefer to allow clients to access an application with a case-insensitive URL. </p>

<a name="1365480"></a><p class="table">This problem was resolved by changing the <font face="Courier">PathTrim</font> value to be case-insensitive.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365482"></a><p class="table">CR093662</p>


		</td>
		<td align="left" valign="top">
			<a name="1365484"></a><p class="table">(NSAPI) A call to <font face="Courier">encodeRedirectURL()</font> failed when: </p>

<a name="1365485"></a><p class="table">(a) A webapp is deployed as a .war file on a cluster; </p>

<a name="1365486"></a><p class="table">(b) A JSP in the webapp is accessed through the iPlanet proxy plug-in; and </p>

<a name="1365487"></a><p class="table">(c) The JSP invokes encodeRedirectURL() in a FORM using the HTTP GET method </p>

<a name="1365488"></a><p class="table">A core dump occurs on the iPlanet Web Server. An Internet Explorer browser returns <font face="Courier">The page cannot be displayed...Cannot find server or DNS Error</font> and Netscape returns <font face="Courier">The document contained no data... </font>1. </p>

<a name="1365489"></a><p class="table">Analysis revealed that the problem was caused by storing primary or secondary jvmid in a fixed length buffer without trimming the query string.   </p>

<a name="1365490"></a><p class="table">The problem was solved by a code change to should trim the query string before parsing the session cookie</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365492"></a><p class="table">CR094109</p>


		</td>
		<td align="left" valign="top">
			<a name="1365494"></a><p class="table">(Apache) Failover from primary server did not occur when response time exceeded the time limit set by <font face="Courier">HungServerRecoverSecs</font>, and the Indempotent primitive is on.</p>

<a name="1365495"></a><p>Analysis revealed that the problem was related to an error in the exception handling source code in <font face="Courier">ap_proxy.cpp.</font></p>

<a name="1365496"></a><p class="table">The problem was solved by rewriting the failover code. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365498"></a><p class="table">CR094282 </p>


		</td>
		<td align="left" valign="top">
			<a name="1365500"></a><p class="table">(NSAPI) If the server listed in <font face="Courier">WebLogicHost</font> and <font face="Courier">WebLogicPort</font> or in <font face="Courier">WebLogicCluster</font> was not up and running, or for example, Solaris started in single user mode, the plug-in hung until the operating system timed out the connection.</p>

<a name="1365501"></a><p class="table">By default, this timeout is lengthy.</p>

<a name="1365502"></a><p class="table">A new introduce plug-in parameter, <font face="Courier">WLSocketTimeoutSecs</font>, was added.  Use of this parameter prevents long delays when a machine is down. This default value is 2 seconds.  The value must be greater than 0.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365504"></a><p class="table">CR094663</p>


		</td>
		<td align="left" valign="top">
			<a name="1365509"></a><p class="table">Same problem and resolution as <a href="bugfixes2.html#1365533">CR095166</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365511"></a><p class="table">CR094768</p>


		</td>
		<td align="left" valign="top">
			<a name="1365513"></a><p class="table">(ISAPI) Parsing post data for cookies not implemented correctly in plugins.  This error resulted </p>

<a name="1365514"></a><p class="table"><font face="Courier">"Bad request in the post data [NameField=aaaaa&amp;ValueField=111111111111&amp;AddValue=+Add+]"</font></p>

<a name="1365515"></a><p class="table">The <font face="Courier">UrlUnescape()</font> method was returning incorrect return type, and parsing post data for content-types other than <font face="Courier">application/x-www-form-urlencoded</font>.</p>

<a name="1365516"></a><p class="table">The bug was corrected with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365518"></a><p class="table">CR095009</p>


		</td>
		<td align="left" valign="top">
			<a name="1365520"></a><p class="table">(ISAPI) The plug-in could not successfully resolve to the appropriate server instance. The error in the log files was: <font face="Courier">Primary JVMID not found in the server list, ignore preferred servers</font>.</p>

<a name="1365521"></a><p class="table">Analysis revealed an error in <font face="Courier">getPreferredServersFromCookie()</font>.  The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365523"></a><p class="table">CR095558</p>


		</td>
		<td align="left" valign="top">
			<a name="1365525"></a><p class="table">(ISAPI) The plug-in did not differentiate properly between read failures from the browser and write failures to the server. A code change was made to process connection aborted messages (10053/10054) only when failure is between the client and the plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365527"></a><p class="table">CR095559</p>


		</td>
		<td align="left" valign="top">
			<a name="1365529"></a><p class="table">(Apache) After failover of primary server, the plug-in continued to search for the primary server instance, instead of search for the secondary server instance and sending the it the request upon which the primary server failed.  </p>

<a name="1365530"></a><p class="table">The problem was solved by a rewrite of the failover code.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365533"></a><p class="table">CR095166</p>


		</td>
		<td align="left" valign="top">
			<a name="1365535"></a><p class="table">(ISAPI) The IIS plug-in parsed cookies incorrectly when the client sent multiple cookies, resulting in the plug-in not sticking to the primary server instance. </p>

<a name="1365536"></a><p class="table">Analysis revealed an error in the string checking logic, <font face="Courier">strstr()</font> did not correctly parse the session cookie name.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365538"></a><p class="table">CR096625</p>


		</td>
		<td align="left" valign="top">
			<a name="1365540"></a><p class="table">(Apache) The <font face="Courier">X_WEBLOGIC_FORCE_JVMID</font> header was sent to to a server instance in a cluster.  </p>

<a name="1365541"></a><p class="table"><font face="Courier">X_WEBLOGIC_FORCE_JVMID</font> should only be sent when the server list is non-clustered and the current server does not have a jvmid yet. </p>

<a name="1365542"></a><p class="table">This problem was solved by a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365545"></a><p class="table"><a name="CR097202"></a>CR097202</p>


		</td>
		<td align="left" valign="top">
			<a name="1365547"></a><p class="table">(All plug-ins) A customer need to determine a browser's cipher strength on the WebLogic side, in a configuration that included a plug-in with 128 bit step up certs between WebLogic Server and the browser. The browser had 40 bit or 128 bit strength. The customer used this code to obtain the browsers cipher strength: <font face="Courier">(Integer)httpRequest.getAttribute("javax.servlet.request.key-size") to get the browser's strength. </font></p>

<a name="1365548"></a><p class="table">The value returned was always 128, although the browser was set to use a cipher size less than 128 bit. The <font face="Courier">https_keysize</font> determines the strength of the connection that is made. Because 128 bit certs were used on plug-in, 128 was returned, regardless of the strength used by the browser. When the request was directed to WLS, 40 or 128 was returned, depending on the browser strength. </p>

<a name="1365549"></a><p class="table">The plug-in does not modify the <font face="Courier">HTTPS_KeySIZE</font> or <font face="Courier">HTTPS_SECRETKEYSIZE</font> headers. </p>

<a name="1365550"></a><p class="table">To meet this need, to new headers were implemented: <font face="Courier">WL-Proxy-Client-Keysize</font> and <font face="Courier">WL-Proxy-Client-Secretkeysize</font>. Both headers values can be obtained with <font face="Courier">request.getHeader()</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365552"></a><p class="table">CR096850</p>


		</td>
		<td align="left" valign="top">
			<a name="1365554"></a><p class="table">(NSAPI) The iPlanet server, running under Windows2000, crashed when a load testing application is trying to make multiple connections to the server. The iPlanet server crashes after multiple attempts are made to connect to the server.</p>

<a name="1365555"></a><p class="table">Analysis revealed the iPlanet server crashed because of access violation and it points to <font face="Courier">MSVCRT!CxxThrowException</font>. </p>

<a name="1365556"></a><p class="table">The problem was solved by a code fix to <font face="Courier">sendResponse</font>, to return and handle the exception, instead of throwing the exception. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365558"></a><p class="table">CR100361</p>


		</td>
		<td align="left" valign="top">
			<a name="1365560"></a><p class="table">The following new exception types were added: </p>

<a name="1365561"></a><p class="table"><font face="Courier">READ_ERROR_FROM_CLIENT&#8212;</font>error when reading data from client </p>

<a name="1365562"></a><p class="table"><font face="Courier">READ_ERROR_FROM_SERVER</font>&#8212;error when reading data from backend server </p>

<a name="1365563"></a><p class="table"><font face="Courier">READ_ERROR_FROM_FILE&#8212;</font>error when reading from temporary file which stores post data</p>

<a name="1365564"></a><p class="table"><font face="Courier">WRITE_ERROR_TO_FILE&#8212;</font>error when writing post data to the temporary file</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365566"></a><p class="table">CR101222</p>


		</td>
		<td align="left" valign="top">
			<a name="1365568"></a><p class="table">(NSAPI and Apache) Failover to a secondary server instance when the primary server instance hung did not occur reliably. After establishing a primary and a secondary session, the client sent a recovery request that slept for longer then the value of <font face="Courier">HungServerRecoverySecs </font>if the <font face="Courier">request.getParameter("primary")</font> was equal to the server name. The web server did not detect that the primary server was hung and fail over the request to the secondary. </p>

<a name="1365569"></a><p class="table">Analysis revealed that the secondary server was marked bad, which caused the plug-in to skip it, and use the general server list. </p>

<a name="1365570"></a><p class="table">The problem was solved by a code change to reset the server to good after <font face="Courier">MaxSkipTime</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365572"></a><p class="table">CR101428</p>


		</td>
		<td align="left" valign="top">
			<a name="1365574"></a><p class="table">(ISAPI) When requests contained multiple cookies, if cookies not named JSESSIONID were after the JSESSIONID cookie, they were stripped off and not delivered to WebLogic Server. </p>

<a name="1365575"></a><p class="table">The problem was solved be a code change. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365577"></a><p class="table">CR101596 </p>


		</td>
		<td align="left" valign="top">
			<a name="1365579"></a><p class="table">(NSAPI) In WebLogic Server 6.1 SP04, <font face="Courier">ssl_certchain_verify_callback() </font>incorrectly returned <font face="Courier">SSLNoErr</font> for certain error conditions. </p>

<a name="1365580"></a><p class="table">The problem was solved be a code change to return <font face="Courier">X509CertChainInvalidErr</font> when the error conditions are encountered.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365582"></a><p class="table">CR103126</p>


		</td>
		<td align="left" valign="top">
			<a name="1365584"></a><p class="table">(Apache) When starting Apache using the plugin on Linux for ssl128, this error occurred:</p>

<a name="1365585"></a><p class="table"><font face="Courier">Cannot load /usr/local/apache/libexec/mod_wl_ssl128.so into server: /usr/local/apache/libexec/mod_wl_ssl128.so: undefined symbol: pthread_mutexattr_init</font></p>

<a name="1365586"></a><p class="table">Analysis revealed a build problem, which was solved by rebuilding the plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365588"></a><p class="table">CR103161</p>


		</td>
		<td align="left" valign="top">
			<a name="1365591"></a><p class="table">Duplicate of <a href="../notes/bugfixes2.html#CR097202">"CR097202".</a></p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1365627"></a><p class="head2">RMI-IIOP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1365595"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1365597"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365599"></a><p class="table">CR090010</p>


		</td>
		<td align="left" valign="top">
			<a name="1365601"></a><p class="table">Under WebLogic Server 6.1 SP03, <font face="Courier">BoxedRMI</font> IDL file <font face="Courier">seq2_seq1_octet.idl</font> for multi dimensional arrays, generated with <font face="Courier">weblogic.ejbc</font> contained module/path declaration <font face="Courier">org.omg.boxedRMI</font> twice. </p>

<a name="1365602"></a><p class="table">The problem was solved with a code fix to correct the IDL declaration for multidimensional <font face="Courier">boxedRMI</font> sequences.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365604"></a><p class="table">CR093988</p>


		</td>
		<td align="left" valign="top">
			<a name="1365606"></a><p class="table">Under WebLogic Server 6.1 SP04, accessing an EJB over IIOP from an ActiveX component caused  WebLogic Server to hangs.  The thread dump indicated a dead lock in the java layer. </p>

<a name="1365607"></a><p class="table">The problem occurred with  SUN JDK 1.3.1, under Red Hat Linux 7.2 and Windows2000.</p>

<a name="1365608"></a><p class="table">Analysis revealed that IIOP socket timeout trigger closing sockets could cause deadlocks. </p>

<a name="1365609"></a><p class="table">A code fix was implemented to prevent this scenario.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365611"></a><p class="table">CR100334</p>


		</td>
		<td align="left" valign="top">
			<a name="1365613"></a><p class="table">In previous releases of WebLogic Server 6.1 dispatching methods with no arguments or invoking methods with a void return type would cause WebLogic Server to try and read data that potentially was not there. </p>

<a name="1365614"></a><p class="table">The data is not there when delivered from 7.0sp2, for other releases we try and accommodate 6.1 by delivering the extra (unnecessary) data.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365616"></a><p class="table">CR100430</p>


		</td>
		<td align="left" valign="top">
			<a name="1365618"></a><p class="table">WebLogic Server 6.1 SP04 and earlier does not interoperate with WebLogic Server 8.1. Transactions between 6.1 and 8.1 server instances timeout with an <font face="Courier">ArrayIndexOutOfBoundsException</font> on the 6.1 server instance. </p>

<a name="1365619"></a><p class="table">This problem is solved in WebLogic Server 6.1 SP05.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365621"></a><p class="table">CR100334</p>


		</td>
		<td align="left" valign="top">
			<a name="1365667"></a><p class="table">This release solves an interoperability problem between WebLogic Server 6.1 SP04 and WebLogic Server 7.0 SP02. </p>

<a name="1365668"></a><p class="table">WebLogic Server 6.1 SP04 erroneously tried to read void parameters that were returned to it, resulting in an <font face="Courier">UnmarshalException</font>. This occurred when: </p>


			<ul><a name="1365669"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WebLogic Server 6.1 SP04 received a void return value as a result of a call to a WebLogic Server 7.0 SP02 server instance</font>
<a name="1365670"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>A method with no arguments was invoked on a 6.1 server instance by a WebLogic Server 7.0 SP02 server instance </font>
			</ul>
<a name="1365671"></a><p class="table">This problem prevented interoperability with other ORBs. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1365652"></a><p class="head2">RMI
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1365631"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1365633"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365635"></a><p class="table">CR096511 </p>


		</td>
		<td align="left" valign="top">
			<a name="1365637"></a><p class="table">Under WebLogic Server 6.1 SP03 and SP04, out of memory messages occurred on repeated creation and close of InitialContext. </p>

<a name="1365638"></a><p class="table">This problem was diagnosed as a memory leak on the<font face="Courier"> DGCServerHelper</font> class. </p>

<a name="1365639"></a><p class="table">This problem was resolved with a code change to register<font face="Courier"> LocalServerRef</font> only if the <font face="Courier">dgcpolicy</font> on descriptor is not "Managed".  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365641"></a><p class="table">CR089481</p>


		</td>
		<td align="left" valign="top">
			<a name="1365643"></a><p class="table">Under WebLogic Server 6.1 SP03, a client JDBC connection that was not closed properly by the client, was not closed by WebLogic Server and garbage collected. </p>

<a name="1365644"></a><p class="table">This problem was solved by a code fix to ensure that connections are  be closed properly even when the remote client does not close the connection properly. </p>


<a name="1365645"></a><p><strong>Notes:	</strong> Client-side code should properly close connections.  Although WebLogic Server will close unclosed connections, the process may be protracted, depending on the use and the distributed garbage collection behavior. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1365647"></a><p class="table">CR100430</p>


		</td>
		<td align="left" valign="top">
			<a name="1365649"></a><p class="table">In WebLogic Server 6.1 SP04, with a WebLogic Server 8.1 server instance as client of a WebLogic Server 6.1 SP04 server instance, a transaction timed out with this exception:</p>

<a name="1365650"></a><p class="table"><font face="Courier">java.rmi.RemoteException: Exception while committing Tx: Name=[EJB weblogic.qa.tests.interop.ejb11.txcrossdomain.TravelPlannerBean.planItinerary_Required(java.lang.String,java.util.Properties)],Xid=BEA1-000147799CCFA039D1D7(2653792),Status=Committing,numRepliesOwedMe=0,numRepliesOwedOthers=0,seconds since begin=120,seconds </font></p>

<a name="1365651"></a><p class="table">This interoperability issues was solved with a code fix. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1323568"></a><p class="head2">Security
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1323552"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1323554"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1366966"></a><p class="table">CR090101</p>


		</td>
		<td align="left" valign="top">
			<a name="1366978"></a><p class="table">WebLogic Server did not ensure each certificate in a certificate chain was issued by a certificate authority. This problem meant anyone could get a personal certificate from a trusted certificate authority, use that certificate to issue other certificates, and WebLogic Server would not detect the invalid certificates. Now all X509 V3 CA certificates used with WebLogic Server must have the Basic Constraint extension defined as CA thus ensuring all certificates in a certificate chain were issued by a certificate authority. By default, any certificates for certificate authorities not meeting this criteria are rejected. If WebLogic Server is booted with a certificate chain that will not pass the certificate validation, an information message is logged noting that clients could reject it.</p>

<a name="1366968"></a><p class="table">For more information, see SSL Certifi<!a href="%7bDOCROOT%7d/notes/bugfixes2.html#"> 
.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323556"></a><p class="table">CR051018</p>


		</td>
		<td align="left" valign="top">
			<a name="1323558"></a><p class="table">In previous releases of WebLogic Server, the system password was stored in clear text. The password is now encrypted and stored in <font face="Courier">password.ini.</font> </p>

<a name="1323559"></a><p class="table"><strong>Note:	</strong> <font face="Courier">password.ini</font> cannot be upgraded to the <font face="Courier">boot.properties</font> file used in WebLogic Server version 7.0.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323561"></a><p class="table">CR100592</p>


		</td>
		<td align="left" valign="top">
			<a name="1323563"></a><p class="table">WebLogic Server 6.1 SP04 became unusable after IPlanet LDAP realm disabled a user. The problem appeared with this sequence of events:</p>

<a name="1323564"></a><p class="table">Bring up an LDAP realm with the server. Deploy a webapp that uses form authentication. For any user in the LDAP realm, use the wrong password until you reach the user lockout threshold. Client receives a 500 error, and the server will show: </p>

<a name="1323565"></a><p class="table"><font face="Courier">&lt;Mar 9, 2003 7:17:22 PM PST&gt; &lt;Error&gt; &lt;HTTP&gt; &lt;[WebAppServletContext(3017390,security,/security)] Servlet failed with Exception netscape.ldap.LDAPException: error result (19); Exceed password retry limit. Please try later.; Constraint violation </font></p>

<a name="1323566"></a><p class="table">After this error, the server becomes unusable with respect to authentication; for example, no other user can log into the web application, and the console is inaccessible.</p>

<a name="1323567"></a><p class="table">The problem was solved with a code fix to check for LDAP exceptions when user enters an invalid password.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1323887"></a><p class="head2">Servlets
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1323572"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1323574"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323576"></a><p class="table">CR077922</p>


		</td>
		<td align="left" valign="top">
			<a name="1323578"></a><p class="table">During testing, the session binding listener's (<font face="Courier">HttpSessionBindingListener)</font> <font face="Courier">valueBound()</font> and <font face="Courier">valueUnBound()</font> methods were called multiple times for a single invocation. </p>

<a name="1323579"></a><p class="table">A code fix was implemented to prevent duplicate method calls.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323581"></a><p class="table">CR083624</p>


		</td>
		<td align="left" valign="top">
			<a name="1323583"></a><p class="table">A new configuration parameter, <font face="Courier">UseHighestCompatibleHTTPVersion</font>, was added to the  <font face="Courier">WebServer</font> element in <font face="Courier">config.xml.</font>This parameter causes WebLogic Server to send responses in the highest version of  the  HTTP protocol that is compatible with the version used in the request.  For instance, setting this parameter to be true causes WebLogic Server to respond to an HTTP/1.0 request with an HTTP/1.1  response. This affects only the version-string portion of the response. The default setting for the parameter is false in WebLogic Server 6.1</p>

<a name="1323584"></a><p class="table">The parameter value can be changed by editing <font face="Courier">config.xml</font>.  The Administration Console does not provide an interface for setting the parameter value.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323586"></a><p class="table">CR086579</p>


		</td>
		<td align="left" valign="top">
			<a name="1323588"></a><p class="table">Using the NSAPI proxy plug-in with form-based authentication through iPlanet listening on port 80, <font face="Courier">j_security_check</font> was not redirecting correctly, and authentication failed.</p>

<a name="1323589"></a><p class="table">Analysis revealed that the form based authentication module did not call <font face="Courier">processRedirectedURL</font> in the case of default port. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323591"></a><p class="table">CR086587</p>


		</td>
		<td align="left" valign="top">
			<a name="1323593"></a><p class="table">In WebLogic Server 6.1 SP03, the web server log  (<font face="Courier">access.log</font>), and the JDBC sub-system log (<font face="Courier">jdbc.log</font>) were created relative to the product installation directory, instead to the RootDirectory.  </p>

<a name="1323594"></a><p class="table">This problem was corrected with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323596"></a><p class="table">CR087573</p>


		</td>
		<td align="left" valign="top">
			<a name="1323598"></a><p class="table">In WebLogic Server 6.1 SP01, when using JDBC persistence for a session and storing a complex object that contained nested <font face="Courier">hashMaps</font> and <font face="Courier">TreeMaps</font>, a subsequent request came before the session was persisted, resulting in loss of session data.  </p>

<a name="1323599"></a><p class="table">The problem was solved with a code fix to move <font face="Courier">removeSession(id)</font> to the end of <font face="Courier">method sync()</font> in <font face="Courier">FileSessionContext.java.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323601"></a><p class="table">CR087647</p>


		</td>
		<td align="left" valign="top">
			<a name="1323604"></a><p class="table">The fix associated with "<a href="../notes/bugfixes2.html#055987">CR055987</a>" introduced a timeout to solve the connection not being released problem. The fix introduced an <font face="Courier">InterruptedIOException</font> that was not handled. When the exception was encountered, unwanted retries occurred. </p>

<a name="1323605"></a><p class="table">The problem was resolved with a code fix to catch <font face="Courier">InterruptedIOException </font>and re-throw the exception to prevent retries.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323607"></a><p class="table">CR087984</p>


		</td>
		<td align="left" valign="top">
			<a name="1323609"></a><p class="table">In WebLogic Server 6.1SP02, <font face="Courier">ServletContextListener</font> was invoked before <font face="Courier">HttpSessionListener.</font> According to the 2.3 servlet specifications, session listeners must be notified of session invalidations prior to context listeners being notified of application shutdown. </p>

<a name="1323610"></a><p class="table">A code fix was made to ensure compliance with the specification.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323612"></a><p class="table">CR088166</p>


		</td>
		<td align="left" valign="top">
			<a name="1323614"></a><p class="table">In WebLogic Server 6.1SP03, a web application generated a  <font face="Courier">java.lang.ClassNotFoundException</font> without indicated the name if the missing file:</p>

<a name="1323615"></a><p class="table"><font face="Courier">&lt;[WebAppServletContext(4730538,olam,/olam)] Error loading servlet: ""&gt; java.lang.ClassNotFoundException: </font></p>

<a name="1323616"></a><p class="table">Analysis revealed that WebLogic Server did not correctly handle a null or empty string value for the <font face="Courier">auth-filter</font> tag. The problem was resolved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323618"></a><p class="table">CR088350</p>


		</td>
		<td align="left" valign="top">
			<a name="1323620"></a><p class="table">Using <font face="Courier">HttpProxyServlet</font> to proxy to a 3rd party event server from KnowNow caused Internet Explorer 6 to wait indefinitely with no response.</p>

<a name="1323621"></a><p class="table">Analysis revealed that the KnowNow server :</p>


			<ul><a name="1323622"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>only responds to HTTP 1.0 requests</font>
<a name="1323623"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>does not send the <font face="Courier">ContentLength</font> </font>
			</ul>
<a name="1323624"></a><p class="table">If there is no content length, and the data is not chunk transferred, WebLogic Server reads until the end of stream. If the KnowNow server keeps sending data, <font face="Courier">HttpProxyServlet</font> keeps reading data. </p>

<a name="1323625"></a><p class="table">The problem was resolved with a new configuration parameter, <font face="Courier">UseKnowNow</font>, that causes <font face="Courier">HttpProxyServlet</font> to: </p>


			<ul><a name="1323626"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>read and write byte by byte, and </font>
<a name="1323627"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>use HTTP/1.0 to send requests to KnowNow </font>
			</ul>
<a name="1323628"></a><p class="table">To use this parameter, add this syntax to the <font face="Courier">web.xml</font> for the <font face="Courier">HttpClusterServlet</font> webapp. </p>

<a name="1323629"></a><p class="table"><font face="Courier">&lt;init-param&gt; &lt;param-name&gt;UseKnowNow&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; </font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323631"></a><p class="table">CR088384</p>


		</td>
		<td align="left" valign="top">
			<a name="1323633"></a><p class="table">In WebLogic Server 6.1SP02, <font face="Courier">getContextPath</font> from <font face="Courier">HttpServletRequest</font> returned incorrect value. For instance, for the request </p>

<a name="1323634"></a><p class="table"><font face="Courier">http://localhost//webapp/foo</font> </p>

<a name="1323635"></a><p class="table"><font face="Courier">getContextPath</font> returned</p>

<a name="1323636"></a><p class="table"><font face="Courier">/webap </font></p>

<a name="1323637"></a><p class="table">This error was corrected with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323639"></a><p class="table">CR088478</p>


		</td>
		<td align="left" valign="top">
			<a name="1323641"></a><p class="table">The <font face="Courier">MaxSkips</font> parameter for <font face="Courier">HttpClusterServlet</font> and all plug-ins has been deprecated, and replaced with the <font face="Courier">MaxSkipTime</font> parameter.</p>

<a name="1323642"></a><p class="table">With this parameter,</p>


			<ul><a name="1323643"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>when the plug-in marks a server "bad", it notes the time</font>
<a name="1323644"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>the bad server is skipped in load balancing cycles until <font face="Courier">MaxSkipTime</font> is reached</font>
<a name="1323645"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>then, a new server list is forced  </font>
			</ul>

		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323647"></a><p class="table">CR088747</p>


		</td>
		<td align="left" valign="top">
			<a name="1323649"></a><p class="table">Session was lost when trying to re-establish a WebLogic Server session after a request to a web application that did not explicitly set <font face="Courier">CookiePath</font> in <font face="Courier">weblogic.xml</font>. </p>

<a name="1323650"></a><p class="table">Analysis revealed the browser (IE6) sent back two session cookies with different paths: </p>


			<ul><a name="1323651"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>JSESSIONID with /webapp as the path </font>
<a name="1323652"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>JSESSIONID with / as the path </font>
			</ul>
<a name="1323653"></a><p class="table">According to J2EE, multiple cookies in the header are ordered such that those with more specific Path attributes precede those with less specific. WebLogic Server searched the cookie vector backwards for the JSESSIONID, for performance reasons, and hence encountered the less specific path .  </p>

<a name="1323654"></a><p class="table">A code change was implemented to ensure that WebLogic Server uses the first cookie in the header. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323656"></a><p class="table">CR088759</p>


		</td>
		<td align="left" valign="top">
			<a name="1323658"></a><p class="table">In WebLogic Server 6.1 SP03, <font face="Courier">redirect-with-absolute-url = false</font> did not work for <font face="Courier">j_security_check</font>.</p>

<a name="1323659"></a><p class="table">This is because <font face="Courier">j_security_check</font> stores a absolute path and passes it to the  <font face="Courier">sendRedirect()</font> method. </p>

<a name="1323660"></a><p class="table"><font face="Courier">j_security_check </font>also should be aware of <font face="Courier">redirect-with-absolute-url</font>.</p>

<a name="1323661"></a><p class="table">A code change was implemented to make <font face="Courier">FormSecurityModule</font> redirect requests in accordance with the setting of <font face="Courier">redirect-with-absolute-url</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323663"></a><p class="table">CR089582</p>


		</td>
		<td align="left" valign="top">
			<a name="1323665"></a><p class="table">In WebLogic Server 6.1 SP03 under Solaris 8, when receiving a HTTP/1.1 request that did not have a Host header field, the value of Date header field that WebLogic Server  returned was "Date: Thu, 01 Jan 1970 00:00:00 GMT". This made it impossible to determine when the erroneous request was generated.</p>

<a name="1323666"></a><p class="table">The problem was solved by a code change to set the request invoke time before sending the bad request error.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323668"></a><p class="table">CR089868</p>


		</td>
		<td align="left" valign="top">
			<a name="1323672"></a><p class="table">A performance fix introduced in WebLogic Server 6.1 Service Pack 3 (<a href="bugfixes2.html#1324677">083654</a>) caused multi-byte headers to become garbled. A work-around is available, but in SP03 and SP04, a patch was required to employ the work-around. (See <a href="issues.html#1088520">089868</a> for details.)</p>

<a name="1323677"></a><p class="table">In SP05, the CR089868 patch is no longer necessary.   </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323679"></a><p class="table">CR090033</p>


		</td>
		<td align="left" valign="top">
			<a name="1323681"></a><p class="table">WebLogic Server 6.1 SP03 threw a null pointer exception while parsing request when the WL-Proxy-SSL header precedes the Host header.  This occurred with client running over HTTPS, and  SSL accelerator, IPlanet, and WebLogic Server running over HTTP. The problem was only replicated when configuration included the SSL accelerator.</p>

<a name="1323682"></a><p class="table"><font face="Courier">java.lang.NullPointerException at weblogic.servlet.internal.ServletRequestImpl.setField(ServletRequestImpl.java:1903) at weblogic.servlet.internal.RequestParser.parse(RequestParser.java:254) at weblogic.servlet.internal.MuxableSocketHTTP.dispatch(MuxableSocketHTTP.java:390) at weblogic.socket.MuxableSocketDiscriminator.dispatch(MuxableSocketDiscriminator.java:275) at weblogic.socket.NTSocketMuxer.processSockets(NTSocketMuxer.java:633) at weblogic.socket.SocketReaderRequest.execute(SocketReaderRequest.java:23) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:152) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:133) </font></p>

<a name="1323683"></a><p class="table">The error occurred because the context is null, as the request was still being parsed, and context was  not yet known.  The WL-Proxy-SSL went before the HOST header.</p>

<a name="1323684"></a><p class="table">Problem was resolved with a code fix. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323686"></a><p class="table">CR090188</p>


		</td>
		<td align="left" valign="top">
			<a name="1323688"></a><p class="table">For chunked data transfer WebLogic Server 6.1 SP03 prepended the chunk size to the data to bet transferred, hence adding extra characters to the data transferred. </p>

<a name="1323689"></a><p class="table">The problem was resolved with a code change, to move <font face="Courier">setChunking</font> out of <font face="Courier">mergePostParams</font> of <font face="Courier">ServletRequestImpl</font> to <font face="Courier">MuxableSocketHttp</font>  after <font face="Courier">request.setInputStream</font>.</p>

<a name="1323690"></a><p class="table">With this change, servlets and JSPs no long needs to decode chunk data. The WebLogic Server servlet engine will merge chunk data automatically.   </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323693"></a><p class="table"><a name="CR090225"></a>CR090225</p>


		</td>
		<td align="left" valign="top">
			<a name="1323697"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-14.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-14.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323699"></a><p class="table">CR090465</p>


		</td>
		<td align="left" valign="top">
			<a name="1323701"></a><p>When hosting a  web application with user-defined error pages, WebLogic Server returned the following response for 400 error and closed the connection immediately, with no <font face="Courier">Connection: close</font> header: </p>

<a name="1323702"></a><p class="table"><font face="Courier">HTTP/1.1 400 Bad Request Date: Thu, 01 Jan 1970 00:00:00 GMT Content-Length: 463 Content-Type: text/html Last-Modified: Thu, 07 Nov 2002 21:56:52 GMT &lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN"&gt; &lt;html&gt; </font></p>

<a name="1323703"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323705"></a><p class="table">CR090555</p>


		</td>
		<td align="left" valign="top">
			<a name="1323707"></a><p class="table">WebLogic Server threw a null pointer exception to <font face="Courier">HttpClusterServlet</font> when  checking for X_WEBLOGIC_CLUSTER_HASH.  Stack trace: </p>

<a name="1323708"></a><p class="table"><font face="Courier">&lt;Tue Nov 05 15:58:00 PST 2002&gt;: Start connection timeout scheduler &lt;Tue Nov 05 15:58:00 PST 2002&gt;: GenericProxyServelt: init() &lt;Tue Nov 05 15:58:00 PST 2002&gt;: HttpClusterServlet:init() &lt;Tue Nov 05 15:58:00 PST 2002&gt;: ===New Request===GET /base;JSESSIONID=9G8ZGUTNwnNTXm8B5V5z41e hG0T3oChTPvhnXe7EHCZ1IQI5lgF4!822557425 HTTP/1.1 &lt;Tue Nov 05 15:58:00 PST 2002&gt;: Found cookie: 822557425 &lt;Tue Nov 05 15:58:00 PST 2002&gt;: Trying to get JVMID id from server: coolant!7003!443 &lt;Tue Nov 05 15:58:00 PST 2002&gt;: Update dynmaic hash: WakHYk8LlxQ7XrnhkSXEohfZMAw &lt;Tue Nov 05 15:58:00 PST 2002&gt;: java.lang.NullPointerException at weblogic.servlet.proxy.HttpClusterServlet.initDynamicServerList(HttpClusterServlet .java:761) at weblogic.servlet.proxy.HttpClusterServlet.getPreferred(HttpClusterServlet.ja va:622 ) at weblogic.servlet.proxy.HttpClusterServlet.service(HttpClusterServlet.java:21 <br></font>Analysis revealed that response headers are stored in the HashMap in random order.  A code fix was implemented to set the server list before setting hash.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323710"></a><p class="table">CR090665</p>


		</td>
		<td align="left" valign="top">
			<a name="1323712"></a><p class="table">WebLogic Server 6.1 SP03, servlet filters had to explicitly call <font face="Courier">flushBuffer(</font>) on the response wrappers after having called <font face="Courier">chain.doFilter()</font> to send the response to the client. This caused  customers to have to write separate versions of the filter for different application servers. Not doing so causes the response to contain no data. This happens because of bytes being buffered in the printWriter's <font face="Courier">OutputStreamWriter</font> object. </p>

<a name="1323713"></a><p class="table">A code change was implemented to ensure that user code does not need to explicitly call <font face="Courier">flushBuffer().</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323715"></a><p class="table">CR091410</p>


		</td>
		<td align="left" valign="top">
			<a name="1323717"></a><p class="table">When "extended format" is selected for the HTTP logging option and the server  is restarted, the following Null Pointer Exception was thrown:</p>

<a name="1323718"></a><p class="table"><font face="Courier">&lt;Oct 9, 2002 6:45:48 PM PDT&gt; &lt;Error&gt; &lt;kernel&gt; &lt;000802&gt; &lt;ExecuteRequest failed</font></p>

<a name="1323719"></a><p class="table"><font face="Courier"> java.lang.NullPointerException</font></p>

<a name="1323720"></a><p class="table"><font face="Courier">java.lang.NullPointerException</font></p>

<a name="1323721"></a><p class="table">The problem was solved with a code fix to open <font face="Courier">access.log</font> file if filename is null</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323723"></a><p class="table">CR091759</p>


		</td>
		<td align="left" valign="top">
			<a name="1323725"></a><p class="table"><font face="Courier">RequestDispatcher.forward</font> dropped the version number at the end of the URL header.  The request should have been forwarded as:  </p>

<a name="1323726"></a><p class="table"><font face="Courier">Request URI: /RequestDispatcher/SnoopServlet/myTest.txt;37</font></p>

<a name="1323727"></a><p class="table">Instead, it was forwarded as:</p>

<a name="1323728"></a><p class="table"><font face="Courier">Request URI: /RequestDispatcher/ProxySnoopServlet/myTest.txt </font></p>

<a name="1323729"></a><p class="table">The problem was resolved to a code fix to set <font face="Courier">processPathParameters</font> to false in <font face="Courier">setRequestURI()</font> when doing <font face="Courier">forward().</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323731"></a><p class="table">CR091878</p>


		</td>
		<td align="left" valign="top">
			<a name="1323733"></a><p class="table">When <font face="Courier">HttpClusterServlet</font> was  undeployed during a load test, an <font face="Courier">.IndexOutOfBoundsException</font> resulted:</p>

<a name="1323734"></a><p class="table"><font face="Courier">&lt;Nov 27, 2002 4:05:11 PM PST&gt; &lt;Error&gt; &lt;HTTP&gt; &lt;101268&gt; </font></p>

<a name="1323735"></a><p class="table"><font face="Courier">&lt;ServletContext(id=5220998,name=proxywebapp,context-path=): Failed while destroying servlet: </font></p>

<a name="1323736"></a><p class="table"><font face="Courier">java.lang.IndexOutOfBoundsException: Index: 2, Size: 2</font></p>

<a name="1323737"></a><p class="table"><font face="Courier">IndexOutOfBoundsException while destroying HttpClusterServlet </font></p>

<a name="1323738"></a><p class="table">Analysis revealed an error occurred when removing the last element in the connection pool with <font face="Courier">pool.remove(i)</font>.</p>

<a name="1323739"></a><p class="table">The problem was resolved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323741"></a><p class="table">CR092255</p>


		</td>
		<td align="left" valign="top">
			<a name="1323743"></a><p class="table">WebLogic Server 6.1 SP04 ignored the quote character (") if cookie valued includes a quote character. For example, this syntax: </p>

<pre><a name="1323744"></a><font face="Courier">Cookie cookieWithQuotedValue = new Cookie("TestQuotedCookie", 
"\"TestValue\"");
</font></pre>

<a name="1323745"></a><p class="table">assigned TestValue is added as cookie value, not "TestValue".</p>

<a name="1323746"></a><p class="table">A code change was made to preserve quote characters in cookie values.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323748"></a><p class="table">CR092428</p>


		</td>
		<td align="left" valign="top">
			<a name="1323750"></a><p class="table">In WebLogic Server 6.1 SP04,  comma character (,) in a Netscape cookie resulted in a <font face="Courier">Got bad cookie header</font> error message.    </p>

<a name="1323751"></a><p class="table">A code fix resolved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323753"></a><p class="table">CR092778</p>


		</td>
		<td align="left" valign="top">
			<a name="1323755"></a><p class="table">In WebLogic Server 6.1 SP04, <font face="Courier">JISAutoDetect</font> encoding for <font face="Courier">HttpRequest</font> resulted in this <font face="Courier">UnsupportedEncodingException</font>:</p>

<a name="1323756"></a><p class="table"><font face="Courier">java.io.UnsupportedEncodingException: JISAutoDetect at sun.io.Converters.getConverterClass(Converters.java:102) at sun.io.Converters.newConverter(Converters.java:133) at sun.io.CharToByteConverter.getConverter(CharToByteConverter.java:62) at weblogic.servlet.internal.ServletRequestImpl.setCharacterEncoding(ServletRequestImpl.java:344) ... </font></p>

<a name="1323757"></a><p class="table">This problem did not occur with WebLogic Server 6.1 SP03. </p>

<a name="1323758"></a><p class="table">The problem occurred because <font face="Courier">ServletRequestImpl.java</font> used the <font face="Courier">CharToByteConverter</font> class instead of <font face="Courier">sun.io.ByteToCharConverter.</font> <font face="Courier">CharToByteConverter</font> is the one for input converter. <font face="Courier">CharToByte</font> is for output converter. <font face="Courier">JISAutoDetect</font> is only available for input stream. </p>

<a name="1323759"></a><p class="table">The problem was corrected with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323761"></a><p class="table">CR093167</p>


		</td>
		<td align="left" valign="top">
			<a name="1323763"></a><p class="table">In WebLogic Server 6.1 SP03, when using the <font face="Courier">HTTPClusterServlet</font> to access a secure webapp on a backend cluster, Internet Explorer 5.5 hung for 30 seconds after the username and password were entered.  The problem was not replicated in other browsers, and did not occur under Internet Explorer when accessing a back end server directly, rather than through the plug-in.</p>

<a name="1323764"></a><p class="table">The problem occurred because Internet Explorer  does not close the connection when it gets a <font face="Courier">Connection: Close</font> header from the server. When accessing WebLogic Server directly, WebLogic Server closes the connection when it throws a 401 error.  However through the <font face="Courier">HttpProxyServlet</font>, the browser-to-ProxyServlet connection was kept alive even though the backend server had closed the connection. </p>

<a name="1323765"></a><p class="table">The problem was solved by a code fix to <font face="Courier">GenericProxyServlet</font> which causes the front end connection to disable KeepAlives when a <font face="Courier">Connection: Close</font> header is returned from the back end server. This causes Internet Explorer to send the authentication details back straight away instead of hanging while waiting for WebLogic Server to timeout the connection. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323767"></a><p class="table">CR093209</p>


		</td>
		<td align="left" valign="top">
			<a name="1323769"></a><p class="table">A new installation of WebLogic Server 6.1 SP04 threw a null pointer exception when a successfully deployed web app that has a property set to java protocol is accessed. The browser returned Error 500--Internal Server Error.  The problem did not occur with an upgrade installation.</p>

<a name="1323770"></a><p class="table"><font face="Courier">&lt;Dec 16, 2002 11:59:05 AM PST&gt; &lt;Error&gt; &lt;HTTP&gt; </font></p>

<a name="1323771"></a><p class="table"><font face="Courier">&lt;[WebAppServletContext(2092664,sampleApp,/sampleApp)] Servlet failed with </font></p>

<a name="1323772"></a><p class="table"><font face="Courier">Exception</font></p>

<a name="1323773"></a><p class="table"><font face="Courier">java.lang.NullPointerException</font></p>

<a name="1323774"></a><p class="table"><font face="Courier">        at weblogic.servlet.JSPServlet.service(JSPServlet.java:132)</font></p>

<a name="1323775"></a><p class="table"><font face="Courier">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)</font></p>

<a name="1323776"></a><p class="table"><font face="Courier">        at </font></p>

<a name="1323777"></a><p class="table"><font face="Courier">weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:262)</font></p>

<a name="1323778"></a><p class="table"><font face="Courier">        at </font></p>

<a name="1323779"></a><p class="table"><font face="Courier">weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:198)</font></p>

<a name="1323780"></a><p class="table"><font face="Courier">        at </font></p>

<a name="1323781"></a><p class="table"><font face="Courier">weblogic.servlet.internal.WebAppServletContext.invokeServlet(WebAppServletContext.java:2637)</font></p>

<a name="1323782"></a><p class="table"><font face="Courier">        at </font></p>

<a name="1323783"></a><p class="table"><font face="Courier">weblogic.servlet.internal.ServletRequestImpl.execute(ServletRequestImpl.java:2359)</font></p>

<a name="1323784"></a><p class="table"><font face="Courier">        at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139)</font></p>

<a name="1323785"></a><p class="table"><font face="Courier">        at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:120)</font></p>

<a name="1323786"></a><p class="table">&gt;</p>

<a name="1323787"></a><p class="table">Analysis revealed an error in<font face="Courier"> ZipSource.getURL().</font> The problem was resolved by adding logic to check for null value of <font face="Courier">source.getURL().</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323789"></a><p class="table">CR093634</p>


		</td>
		<td align="left" valign="top">
			<a name="1323791"></a><p class="table">In WebLogic Server 6.1 SP03  the <font face="Courier">HttpRequest.getRemoteAddr()</font> method  returned the IP address of <font face="Courier">HttpClusterServlet</font> instead of the client browser's IP address.</p>

<a name="1323792"></a><p class="table">Analysis revealed that <font face="Courier">HttpClusterServlet</font> does not set the proprietary header, "WL-Proxy-Client-IP", and instead returns the  IP address of the socket upon which it is listening.  </p>

<a name="1323793"></a><p class="table">The problem was solved by a code fix to <font face="Courier">HttpClusterServlet</font> to set the "WL-Proxy-Client-IP" header when <font face="Courier">WebLogic Plugin Enabled</font> parameter is  enabled.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323795"></a><p class="table">CR093755</p>


		</td>
		<td align="left" valign="top">
			<a name="1323797"></a><p class="table">The error message:</p>

<a name="1323798"></a><p class="table"><font face="Courier">&lt;Warning&gt; &lt;HTTP&gt; &lt;WebAppServletContext(5294080,blue,/blue) One of the getParameter family of methods called after reading from the ServletInputStream, not merging post parameters&gt;</font>  </p>

<a name="1323799"></a><p class="table">was erroneously generated.  </p>

<a name="1323800"></a><p class="table">A code fix was implemented to ensure that the message is not generated erroneously.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323802"></a><p class="table">CR094488</p>


		</td>
		<td align="left" valign="top">
			<a name="1323804"></a><p class="table">A new capability was added to allow a user to securely access HTTPS resources in a session that was initiated using HTTP, without loss of session data.  To enable this new feature,  add <font face="Courier">AuthCookieEnabled="true"</font> to the <font face="Courier">WebServer</font> element in <font face="Courier">config.xml</font>:</p>

<a name="1323805"></a><p class="table"><font face="Courier">&lt;WebServer Name="myserver" AuthCookieEnabled="true"/&gt;</font> </p>

<a name="1323806"></a><p class="table">This will cause an new secure cookie to be sent to the browser when authenticating via an HTTPS connection. Once set, the session can access other security-constrained HTTPS resources only if the cookie is sent from the browser. </p>

<a name="1323807"></a><p class="table"><strong>Note:	</strong> If authenticating via plain HTTP, the secure cookie will not be set or required for any HTTPS resources. When accessing a non-protected HTTPS resource, the cookie will not be verified (since it will not have been sent from the browser). This allows the browser to access non-protected HTTPs resources without the user logging in. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323809"></a><p class="table">CR094773</p>


		</td>
		<td align="left" valign="top">
			<a name="1410347"></a><p class="table">Duplicate of <a href="../notes/bugfixes2.html#CR094561">"CR094561"</a>. </p>

<a name="1323815"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-26.01.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-26.01.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323817"></a><p class="table">CR094997</p>


		</td>
		<td align="left" valign="top">
			<a name="1323819"></a><p class="table">In WebLogic Server SP02, when two interacting web applications use different session cookie names, the session ID was lost. </p>

<a name="1323820"></a><p class="table">Analysis revealed that session attributes were not updated correctly when a web application specifies <font face="Courier">cookieName</font>, a resource from another web application is included, and a <font face="Courier">RemoteUser</font> exists in the request prior to the inclusion of the external resource. </p>

<a name="1323821"></a><p class="table">The problem was solved by a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323823"></a><p class="table">CR095548</p>


		</td>
		<td align="left" valign="top">
			<a name="1323825"></a><p class="table">During testing, session data was lost intermittently, when the persistence type was JDBC. The following exception occurred:</p>

<a name="1323826"></a><p class="table"><font face="Courier">weblogic.qa.tests.cluster.webapp.plugins.RequestSessionBeforeInvalidateTest.testRequestSessionBeforeInvalidationTest()                </font></p>

<a name="1323827"></a><p class="table"><font face="Courier">Session Was Invalidated</font></p>

<a name="1323828"></a><p class="table"><font face="Courier">Sent: http://qa47-1:7771/pluginsjdbc/SessionBeforeInvalidate.jsp?count=1</font></p>

<a name="1323829"></a><p class="table"><font face="Courier">Received: &lt;html&gt;&lt;body&gt;PROBLEM: session is not the same as the first </font></p>

<a name="1323830"></a><p class="table"><font face="Courier">request!FirstRequest sid: </font></p>

<a name="1323831"></a><p class="table"><font face="Courier">2tjgF02nPIGgHGyojFubyOIjqt0ZAVK4no1Ny0afTxGKMrOj25z5!2356550501043194848402Sid</font></p>

<a name="1323832"></a><p class="table">The problem was resolved with a code fix to the <font face="Courier">isRequestedSessionIdValid()</font> method.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323834"></a><p class="table">CR095570</p>


		</td>
		<td align="left" valign="top">
			<a name="1323836"></a><p class="table">WebLogic Server 6.1 SP04 threw a <font face="Courier">NullPointerException</font> when a null value was set in a servlet HTTP header: </p>

<a name="1323837"></a><p class="table"><font face="Courier">&lt;Jan 22, 2003 11:11:53 AM KST&gt; &lt;Error&gt; &lt;Kernel&gt; &lt;Execute Request failed java.lang.NullPointerException: Start server side stack trace: java.lang.NullPointerException at weblogic.servlet.internal.ResponseHeaders.writeHeaders(ResponseHeaders.java:360) at weblogic.servlet.internal. ServletResponseImpl.writeHeaders(ServletResponseImpl.java:902) at weblogic.servlet.internal.ServletOutputStreamImpl. sendHeaders(ServletOutputStreamImpl.java:239) at weblogic. servlet.internal.ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:121) at weblogic.servlet.internal. ServletOutputStreamImpl.commit(ServletOutputStreamImpl.java:484) at weblogic.servlet.internal.ServletOutputStream Impl.finish(ServletOutputStreamImpl.java:531) at weblogic. servlet.internal.ServletResponseImpl.send(ServletResponseImpl.java:1091) at weblogic.servlet.internal.Servlet RequestImpl.execute(ServletRequestImpl.java:2364) at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:139) at weblogic.kernel.ExecuteThread.run(ExecuteThread. java:120) End server side stack trace at weblogic.servlet. internal.ResponseHeaders.writeHeaders(ResponseHeaders.java:360) at weblogic.servlet.internal.ServletResponseImpl. writeHeaders(ServletResponseImpl.java:902) at weblogic. servlet.internal.ServletOutputStreamImpl.sendHeaders(ServletOutputStreamImpl.java:239) at weblogic.servlet.internal. ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:121) at weblogic.servlet.internal.ServletOutputStream Impl.commit(ServletOutputStreamImpl.java:484) at weblogic.servlet.internal.ServletOutputStreamImpl.finish(ServletOutputStreamImpl.java:531) at weblogic.servlet.internal. ServletResponseImpl.send(ServletResponseImpl.java:1091) at weblogic.servlet.internal.ServletRequestImpl.execute(ServletRequestImpl.java:2364) at weblogic.kernel.ExecuteThread. execute(ExecuteThread.java:139) at weblogic.kernel.Execute Thread.run(ExecuteThread.java:120) </font></p>

<a name="1323838"></a><p class="table">The problem was resolved by added logic to check for null values in <font face="Courier">ResponseHeaders.java</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323840"></a><p class="table">CR096459</p>


		</td>
		<td align="left" valign="top">
			<a name="1323842"></a><p class="table">Response time for a web application deployed to WebLogic Server 6.1 SP02, when accessed from a browser set to HTTP Version 1.0 with <font face="Courier">flushRes=true</font>. The problem did not occur with <font face="Courier">flushRes=false</font>. </p>

<a name="1323843"></a><p class="table">Analysis revealed that <font face="Courier">useKeepAlive</font> was reinitialized inappropriately. The socket connection was not closed when it should have been, and the client waited for the socket to time out.</p>

<a name="1323844"></a><p class="table">A code fix was implemented to initialize <font face="Courier">useKeepAlive</font> when setting request and response. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323846"></a><p class="table"> CR097719 </p>


		</td>
		<td align="left" valign="top">
			<a name="1323848"></a><p class="table">In WebLogic Server SP02, SP03, and SP04, when getting certain POST requests from WAP devices, a web application encountered a <font face="Courier">java.util.ConcurrentModificationException </font></p>

<a name="1323849"></a><p class="table"><font face="Courier">&lt;29.jan.03 13:03:05 WET&gt; &lt;Error&gt; &lt;HTTP&gt; &lt;[WebAppServletContext(2810713,TnMFF,/TnMFF)] Servlet failed with Exception java.util.ConcurrentModificationException at java.util.HashMap$HashIterator.next(HashMap.java:736) at weblogic.utils.enumerations.IteratorEnumerator.nextElement(IteratorEnumerator.java:25) at com.colibria.core.xmlswitch.XMLSwitch.getQueryStringXML(XMLSwitch.java:347) at ...</font></p>

<a name="1323850"></a><p class="table">Analysis revealed that when a charset is associated with the request's <font face="Courier">content-type</font>, the code read the data again using the encoding, and reset the query parameters, in the application. The application already has the enumeration object and iterates it <font face="Courier">(request.getParameterNames</font>), and then tries to get the value of the parameter (<font face="Courier">request.getParameterValues(k)</font>). At that point, the query parameters are wiped out and <font face="Courier">getParameterValues</font> method tries to set it, resulting in the exception. </p>

<a name="1323851"></a><p class="table">The problem was resolved by a code change to set query parameters after they are wiped, so that the data can be read again when a charset is associated with the request's content-type</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323853"></a><p class="table">CR098955</p>


		</td>
		<td align="left" valign="top">
			<a name="1323855"></a><p class="table">The scheduled log rotation time for a WebLogic Server HTTP server log was calculated incorrectly when <font face="Courier">weblogic.httpd.logRotationBeginTime</font> was a date in the past. </p>

<a name="1323856"></a><p class="table">The error was corrected by changing the data type of operands used in the calculation from <font face="Courier">INT</font> to <font face="Courier">LONG. </font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323858"></a><p class="table">CR099984</p>


		</td>
		<td align="left" valign="top">
			<a name="1323860"></a><p class="table">The input stream was consumed by the servlet engine before the servlet code could access it. This problem was resolved by a code change to ensure that internal reads do not consume the input stream.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323862"></a><p class="table">CR100265</p>


		</td>
		<td align="left" valign="top">
			<a name="1323864"></a><p class="table">If the request received has no cookie but does have valid credentials WebLogic Server should allow access to the protected resource. Instead, this exception occurred:</p>

<a name="1323865"></a><p class="table"><font face="Courier">java.lang.NullPointerException at weblogic.servlet.security.internal.SecurityModule.checkAuthCookie(SecurityModule.java:579) at weblogic.servlet.security.internal.BasicSecurityModule.checkUserPerm(BasicSecurityModule.java:157) at ...</font></p>

<a name="1323866"></a><p class="table">The problem was solved with a code fix. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323868"></a><p class="table">CR100572</p>


		</td>
		<td align="left" valign="top">
			<a name="1323870"></a><p class="table">When a request with an incorrect URI was received from a from plug-in, WebLogic Server threw this stack trace </p>

<a name="1323871"></a><p class="table"><font face="Courier">&lt;Mar 8, 2003 3:27:20 PM PST&gt; &lt;Error&gt; &lt;Socket&gt; &lt;BEA-000421&gt; &lt;Uncaught Throwable i n processSockets java.lang.NullPointer Exception. java.lang.NullPointerException at weblogic. servlet.internal.ServletResponseImpl.writeHeaders(ServletResponseImpl.java:968) at weblogic.servlet.internal.Servlet OutputStreamImpl.sendHeaders(ServletOutputStreamImpl.java:244) at weblogic.servlet.internal.ServletOutputStreamImpl. flush(ServletOutputStreamImpl.java:121) at weblogic.servlet. internal.ServletOutputStreamImpl.commit(ServletOutputStreamImpl.java:486) at weblogic.servlet.internal.ChunkOutput. commit(ChunkOutput.java:269) at weblogic.servlet.internal. ChunkOutputWrapper.write(ChunkOutputWrapper.java:91) at weblogic.servlet.internal.ChunkWriter.write(ChunkWriter.java:37) at java.io.Writer.write(Writer.java:150) at java.io.PrintWriter.write(PrintWriter.java:230) at java.io.PrintWriter.write(PrintWriter.java:247) at java.io.PrintWriter.print(PrintWriter.java:378) at weblogic.servlet.internal.ServletResponseImpl.sendError(ServletResponseImpl.java:420) at weblogic.servlet.internal. ServletResponseImpl.sendError(ServletResponseImpl.java:373) at weblogic.servlet.internal.MuxableSocketHTTP.dispatch (MuxableSocketHTTP.java:512) at weblogic.socket.MuxableSocket Discriminator.dispatch(MuxableSocketDiscriminator.java:281) at weblogic.socket.NTSocketMuxer.processSockets(NTSocket Muxer.java:102) at weblogic.socket.SocketReaderRequest. execute(SocketReaderRequest.java:32) at weblogic.kernel. ExecuteThread.execute(ExecuteThread.java:178) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:151) </font></p>

<a name="1323872"></a><p class="table">This problem was solved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323874"></a><p class="table">CR100172</p>


		</td>
		<td align="left" valign="top">
			<a name="1323876"></a><p class="table">When multiple chunked requests are posted to a servlet a number of the requests fail with a <font face="Courier">NumberFormationException</font>. Mostly of the time alternate requests are fulfilled and the next request fails. It seems to be occurring as the requests are being made on the same connection. The exception stack trace is: </p>

<a name="1323877"></a><p class="table"><font face="Courier">&lt;ExecuteThread: '11' for queue: 'default'&gt; &lt;kernel identity&gt; &lt;&gt; &lt;101017&gt; &lt;[ServletContext(id=4864139,name=387551,context-path=)] Root cause of ServletException&gt; java.lang.NumberFormatException: at java.lang.Integer.parseInt(Integer.java:430) at weblogic.utils.http.HttpChunkInputStream.readChunkSize(HttpChunkInputStream.java:118) at weblogic.utils.http.HttpChunkInputStream.initChunk(HttpChunkInputStream.java:72) </font></p>

<a name="1323878"></a><p class="table">Analysis revealed two problems in <font face="Courier">PostInputStream</font>: </p>


			<ul><a name="1323879"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>did not reset control variable <font face="Courier">readAllChunks</font> when recycling <font face="Courier">PostInputStream</font>, </font>
<a name="1323880"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li><font face="Courier">isChunkComplete</font> did not detect the end of chunk correctly</font>
			</ul>
<a name="1323881"></a><p class="table">The problem was solved by a code fix to read until end of stream in<font face="Courier"> PostInputStream</font> and correctly detect end of chunk in <font face="Courier">HttpChunkInputStream.</font> </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323883"></a><p class="table">CR100837</p>


		</td>
		<td align="left" valign="top">
			<a name="1323885"></a><p class="table">WebLogic Server 6.1 SP04 misdirected output for JSP <font face="Courier">includes</font> in JSP pages. </p>

<a name="1323886"></a><p class="table">The problem was corrected with a code fix. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1323888"></a><p></p>

<a name="1323939"></a><p class="head2">      WLS-Tour/Examples
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1323892"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1323894"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323896"></a><p class="table">CR087117</p>


		</td>
		<td align="left" valign="top">
			<a name="1323898"></a><p class="table">In WebLogic Server 6.1 SP04, a password error occurred when starting the Administration Server, the Petstore server and the Example server, before the user entered a password:</p>

<a name="1323899"></a><p class="table"><font face="Courier">Starting WebLogic Server ....</font></p>

<a name="1323900"></a><p class="table"><font face="Courier">&lt;Oct 1, 2002 9:22:10 AM EDT&gt; &lt;Notice&gt; &lt;Management&gt; &lt;Loading configuration file .\config\petstore\config.xml ...&gt;</font></p>

<a name="1323901"></a><p class="table"><font face="Courier">&lt;Oct 1, 2002 9:22:13 AM EDT&gt; &lt;Emergency&gt; &lt;Security&gt; &lt;Authentication failure - reenter password to boot weblogic server:&gt;</font></p>

<a name="1323902"></a><p class="table">A code fix solved this problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323904"></a><p class="table">CR087366</p>


		</td>
		<td align="left" valign="top">
			<a name="1323906"></a><p class="table">In WebLogic Server 6.1 SP04, the "WebLogic Server Code Examples Index" link in the samples server index page (<font face="Courier">index.jsp</font>) did not work. When a the user clicked the link, the following message was displayed:</p>

<a name="1323907"></a><p class="table"><font face="Courier">"Netscape is unable to find the file or directory named </font></p>

<a name="1323908"></a><p class="table"><font face="Courier">/D:/bea61. Check filename and try again.</font></p>

<a name="1323909"></a><p class="table">Analysis revealed that WebLogic Server had been installed with a BEAHOME that contained a blank space.</p>

<a name="1323910"></a><p class="table">The problem was resolved by adding double quotes to the relevant <font face="Courier">href</font> in <font face="Courier">index.jsp</font> to allow for space characters in BEAHOME.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323912"></a><p class="table">CR090776</p>


		</td>
		<td align="left" valign="top">
			<a name="1323914"></a><p class="table">An error occurred when deploying Petstore applications during an upgrade from WebLogic Server 6.1 SP04 to WebLogic Server 8.1.</p>

<a name="1323915"></a><p class="table">Analysis revealed that deployment descriptors lacked EJB references. The missing references were caught by the WebLogic Server 8.1, but not by WebLogic Server 6.1</p>

<a name="1323916"></a><p class="table">This problem was resolved by corrections to the Petstore deployment descriptors.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323918"></a><p class="table">CR092881</p>


		</td>
		<td align="left" valign="top">
			<a name="1323920"></a><p class="table">In WebLogic Server 6.1 SP04 on Unix AIX, When a user tried to start petstore with <font face="Courier">StartPetStore.sh</font> this error resulted:</p>

<a name="1323921"></a><p class="table"><font face="Courier">java.lang.SecurityException: Unable to locate a login configuration</font>.</p>

<a name="1323922"></a><p class="table"> The problem was solved with a correction to <font face="Courier">StartPetStore.sh.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323924"></a><p class="table">CR096147</p>


		</td>
		<td align="left" valign="top">
			<a name="1323926"></a><p class="table"><font face="Courier">dmloadcf</font> failed for <font face="Courier">dom1config</font> for WebLogic Server Samples <font face="Courier">simpFML32</font></p>

<a name="1323927"></a><p class="table">Analysis revealed that <font face="Courier">*DM_LOCAL_SERVICES</font> contained: </p>

<a name="1323928"></a><p class="table"><font face="Courier">*DM_LOCAL_SERVICES</font></p>

<a name="1323929"></a><p class="table"><font face="Courier">REVERSE_STRING RDOM="TDOM1" </font></p>

<a name="1323930"></a><p class="table">instead of: </p>

<a name="1323931"></a><p class="table"><font face="Courier">*DM_LOCAL_SERVICES</font></p>

<a name="1323932"></a><p class="table"><font face="Courier">REVERSE_STRING LDOM="TDOM1"</font> </p>

<a name="1323933"></a><p class="table">An error in the Tuxedo <font face="Courier">dom1config</font> configuration file was corrected to allow Tuxedo to export the local service, <font face="Courier">REVERSE_STRING</font>, provided by local domain <font face="Courier">TDOM1</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323935"></a><p class="table">CR102138</p>


		</td>
		<td align="left" valign="top">
			<a name="1323937"></a><p class="table">The documentation for the SSL Client example were incorrect. The instructions directed the user to copy the <font face="Courier">WL_HOME\lib\cacerts</font> to J<font face="Courier">AVA_HOME\jre\lib\security\jssecacerts</font>.</p>

<a name="1323938"></a><p class="table">This problem was solved by correcting the instructions, adding the <font face="Courier">jssecacerts</font> file to the <font face="Courier">sslclient </font>sample directory, and adding sample output to the instructions for the JSSE sample. </p>


		</td>

	</tr>

</table>


</center>
 </p>

<a name="1324009"></a><p class="head2">Web Services
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1323943"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1323945"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323947"></a><p class="table">CR087529</p>


		</td>
		<td align="left" valign="top">
			<a name="1323949"></a><p class="table">In WebLogic Server 6.1SP03, the client for the sample web service at <font face="Courier">samples\examples\webservices\rpc\weatherEJB</font> was built by <font face="Courier">wsgen</font> and deployed using only the client.jar (no<font face="Courier"> weblogic.jar</font>). When the non-SSL web service was invoked by the Java client, the following exception was thrown: </p>

<a name="1323950"></a><p class="table"><font face="Courier">&lt;&lt; Missing class files in servicegen client.jar. Getting Exception in thread "main" java.lang.NoClassDefFoundError: weblogic/net/http/HttpsURLConnection at weblogic.soap.http.SoapContext.lookup(SoapContext.java:87) at javax.naming.InitialContext.lookup(InitialContext.java:350) at com.verizon.client.client.main(client.java:72) &gt;&gt; </font></p>

<a name="1323951"></a><p class="table">Analysis revealed that the <font face="Courier">weblogic.net.http.HttpsURLConnection</font> class is necessary for minimal out-of-the-box functionality and should be included in the client.jar. </p>

<a name="1323952"></a><p class="table">The problem was solved by adding <font face="Courier">weblogic.net.http.HttpsURLConnection</font> to <font face="Courier">client.txt</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323954"></a><p class="table">CR091862</p>


		</td>
		<td align="left" valign="top">
			<a name="1323972"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-23.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-23.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323974"></a><p class="table">CR095044</p>


		</td>
		<td align="left" valign="top">
			<a name="1323976"></a><p class="table">In WebLogic 6.1 SP03, when <font face="Courier">org.apache.soap.Fault</font> was used (to represent the contents and semantics of a <font face="Courier">&lt;SOAP-ENV:Fault&gt;</font> element), the <font face="Courier">Fault.getDetailEntries()</font> method call should result in a Vector of exceptions, when the web service operation throws an exception. </p>

<a name="1323977"></a><p class="table">Instead, in WebLogic 6.1 SP03, this call returns a null and the client does not get to see the exception stack trace. This problem does not exist in SP02.</p>

<a name="1323978"></a><p class="table">The client runs with the same CLASSPATH while hitting either the WebLogic 6.1 SP02 or WebLogic 6.1 SP03 server instances. The problem was reproduced with the client CLASSPATH:  </p>

<a name="1323979"></a><p class="table"><font face="Courier">CLASSPATH=.;.\soap.jar;.\xerces.jar;.\j2ee.jar</font> </p>

<a name="1323980"></a><p class="table">The difference in behavior is that in SP03, the content of the fault detail is wrapped in <font face="Courier">&lt;![CDATA[ ]]&gt;</font>. This is done to prevent the parser from failing if the stack trace contains something like </p>

<a name="1323981"></a><p class="table"><font face="Courier">&lt;&lt;no stacktrace available&gt;&gt;</font> </p>

<a name="1323982"></a><p class="table">The problem was resolved by the addition of a new servlet initialization parameter,   <font face="Courier">cdata-fault-detail</font>, which if set to false, causes fault detail to not be wrapped in <font face="Courier">&lt;![CDATA[ ]]&gt;</font> </p>

<a name="1323983"></a><p class="table"><font face="Courier">&lt;servlet&gt; ... &lt;servlet-class&gt;weblogic.soap.server.servlet.StatelessBeanAdapter&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;cdata-fault-detail&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; ... </font></p>

<a name="1323984"></a><p class="table">If <font face="Courier">cdata-fault-detail</font> to false, if the stack trace contains something like</p>

<a name="1323985"></a><p class="table"><font face="Courier">&lt;&lt;no stacktrace available&gt;&gt;</font> </p>

<a name="1323986"></a><p class="table">a parser error will result. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323988"></a><p class="table">CR096906</p>


		</td>
		<td align="left" valign="top">
			<a name="1323990"></a><p class="table">WebLogic 6.1 SP04, did not return <font face="Courier">dateTime</font> entries correctly when a web service generated by WebLogic Server was called. The "+" char was omitted from the time zone offset part of the <font face="Courier">dateTime</font> entry, when the time zone offset is positive (i.e., GMT+1 = CET [time zone for Denmark]). Example: </p>

<a name="1323991"></a><p class="table">February 3rd, 2003 09:12:04 CET should be <font face="Courier">dateTime</font>: </p>

<a name="1323992"></a><p class="table"><font face="Courier">&lt;date xsi:type="xsd:dateTime"&gt;2003-02-03T09:12:04.000+01:00<br>&lt;/date&gt;</font> </p>

<a name="1323993"></a><p class="table">Weblogic sent it as: </p>

<a name="1323994"></a><p class="table"><font face="Courier">&lt;date xsi:type="xsd:dateTime"&gt;2003-02-03T09:12:04.00001:00<br>&lt;/date&gt;</font></p>

<a name="1323995"></a><p class="table">The problem was resolved with a code fix.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1323997"></a><p class="table">CR098364</p>


		</td>
		<td align="left" valign="top">
			<a name="1323999"></a><p class="table">In WebLogic 6.1 SP03, when Ant was used to generate a .war file with Web Services using this WebLogic task: </p>

<a name="1324000"></a><p class="table">&lt;<font face="Courier">taskdef name="wsgen" classname="weblogic.ant.taskdefs.ejb.WSGen"/&gt;</font>  </p>

<a name="1324001"></a><p class="table">and the <font face="Courier">Transactions.jar</font> file had more than 155 EJBs, the <font face="Courier">wsgen</font> failed.</p>

<a name="1324002"></a><p class="table">The problem was resolved by a code fix to <font face="Courier">CompilerInvoker.</font> </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324004"></a><p class="table">CR099255</p>


		</td>
		<td align="left" valign="top">
			<a name="1324006"></a><p class="table">In WebLogic 6.1 SP04, in the <font face="Courier">weblogic.soap.WebServiceProxy</font> class, the <font face="Courier">invoke()</font> method did not check if certs had been set in the class. </p>

<a name="1324007"></a><p class="table">This caused two-way authentication to fail, or alternatively if the certs are passed to the <font face="Courier">InitialContext</font> the http protocol did not work.</p>

<a name="1324008"></a><p class="table">The problem was solved with a code fix.</p>


		</td>

	</tr>

</table>


</center>
 </p>

<a name="1324050"></a><p class="head2">WebLogic Tuxedo
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324013"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324015"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324017"></a><p class="table">CR084435</p>


		</td>
		<td align="left" valign="top">
			<a name="1324019"></a><p class="table">In WebLogic 6.1 SP02 WTC connection policies did not work properly in failover and failback situations when the connection policy was set to <font face="Courier">ON_DEMAND</font> and <font face="Courier">ON_STARTUP</font>. When the connection policy was set to <font face="Courier">ON_STARTUP</font>, failover doesn't work. Attempts to reproduce the problem revealed related errors: </p>


			<ol><a name="1324020"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>The WTC service request failed over to the secondary domain listed in the services section for the <font face="Courier">bdmconfig</font> file. </font>
<a name="1324021"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>The WTC service request did not check the primary domain listed in the services section of the <font face="Courier">bdmconfig</font> file; the request went to the secondary domain. </font>
			</ol>
<a name="1324022"></a><p class="table">When the primary node became unavailable as configured in <font face="Courier">bdmconfig.xml</font>, the service request failed over to the secondary server in the imported services section: <font face="Courier">&lt;T_DM_IMPORT </font></p>

<a name="1324023"></a><p class="table"><font face="Courier">ResourceName="TOUPPER" </font></p>

<a name="1324024"></a><p class="table"><font face="Courier">LocalAccessPoint="WLSDOM" </font></p>

<a name="1324025"></a><p class="table"><font face="Courier">RemoteAccessPointList="SIMPDOM,TESTDOM"&gt; </font></p>

<a name="1324026"></a><p class="table"><font face="Courier">&lt;TranTime&gt;600&lt;/TranTime&gt; &lt;</font></p>

<a name="1324027"></a><p class="table"><font face="Courier">/T_DM_IMPORT&gt;</font></p>

<a name="1324028"></a><p class="table">When <font face="Courier">SIMPDOM</font> became unavailable, the service request was fulfilled by <font face="Courier">TESTDOM&#8212;</font>this should not happen when the connection policy is <font face="Courier">ON_DEMAND</font>. </p>

<a name="1324029"></a><p class="table">Analysis indicated that the connection policy wasn't being checked. The problem was resolved with a code fix to <font face="Courier">weblogic/wtc/gwt/TuxedoConnection.java.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324031"></a><p class="table">CR095588</p>


		</td>
		<td align="left" valign="top">
			<a name="1324033"></a><p class="table">In the <font face="Courier">simpconv</font> example, the Tuxedo client failed to contact WebLogic Server. The client hit the local Tuxedo server instead of WebLogic Server. </p>

<a name="1324034"></a><p class="table">Code changes were made to the Tuxedo client so that it does not look for padding. In addition, a remote services section was added to <font face="Courier">dubb</font>, and an export section was added to <font face="Courier">bmdconfig.xml</font> file. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324036"></a><p class="table">CR092860</p>


		</td>
		<td align="left" valign="top">
			<a name="1324038"></a><p class="table">Using WTC to access Tuxedo 8 Corba objects resulted ia n <font face="Courier">JavaIDL Reader</font> thread leak. Running a simple example application resulted in a build-up of <font face="Courier">JavaIDL Reader</font> threads in the JVM running WebLogic Server. The threads were not destroyed until the server was shut down.</p>

<a name="1324039"></a><p class="table">Analysis revealed the <font face="Courier">finalize()</font> was not called at the correct time. A code fix to add a call to <font face="Courier">ORB.destroy()</font> was implemented to resolve the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324041"></a><p class="table">CR090137</p>


		</td>
		<td align="left" valign="top">
			<a name="1324043"></a><p class="table">In WebLogic Server 6.1 SP02, the Xalan engine in WebLogic Server produced an invalid XML file, containing an unmatched &lt;META&gt; tag.</p>

<a name="1324044"></a><p class="table">A code fix to apache/xalan code solved the problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324046"></a><p class="table">CR074963</p>


		</td>
		<td align="left" valign="top">
			<a name="1324048"></a><p class="table">When creating large FML tables (on the order of 4K entries), <font face="Courier">mkfldclass[32]</font> generated a method to instantiate each entry into a hash table. For large FML tables, this single method exceeds the size limitation in the JVM.</p>

<a name="1324049"></a><p class="table">This problem was resolved by implementing a dynamic load field table mechanism.</p>


		</td>

	</tr>

</table>


</center>
 </p>

<a name="1324077"></a><p class="head2">XML
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324054"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324056"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324058"></a><p class="table">CR091862</p>


		</td>
		<td align="left" valign="top">
			<a name="1324076"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-23.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-23.jsp</a>.</p>


		</td>

	</tr>

</table>


</center>
 </p>

<p>&nbsp;</p>
<hr noshade>
<a name="1324080"></a><p class="head1">WebLogic S<a name="SP4"></a>erver 6.1 Service Pack 4 Solutions</p>

<a name="1324081"></a><p>The following sections describe problems that have been resolved with WebLogic Server 6.1 Service Pack 4.</p>


<ul type="disc">
<ul type="disc">

<a name="1324085"></a><p><li type="disc"><a href="bugfixes2.html#1324160">Classloader</a>


<a name="1324089"></a><p><li type="disc"><a href="bugfixes2.html#1324195">Cluster</a>


<a name="1324093"></a><p><li type="disc"><a href="bugfixes2.html#1324254">Console</a>


<a name="1324097"></a><p><li type="disc"><a href="bugfixes2.html#1324349">EJB</a>


<a name="1324101"></a><p><li type="disc"><a href="bugfixes2.html#1324374">Examples</a>


<a name="1324105"></a><p><li type="disc"><a href="bugfixes2.html#1324418">JDBC and jDriver</a>


<a name="1324109"></a><p><li type="disc"><a href="bugfixes2.html#1324481">JMS</a>


<a name="1324113"></a><p><li type="disc"><a href="bugfixes2.html#1324748">Miscellaneous</a>


<a name="1324117"></a><p><li type="disc"><a href="bugfixes2.html#1324836">Plug-ins</a>


<a name="1324121"></a><p><li type="disc"><a href="bugfixes2.html#1325088">Servlets, JSPs, and Web Applications</a>


<a name="1324125"></a><p><li type="disc"><a href="bugfixes2.html#1325168">Security</a>


<a name="1324129"></a><p><li type="disc"><a href="bugfixes2.html#1325267">System Administration</a>

</ul>
</ul>
<a name="1324160"></a><p class="head2">Classloader
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324133"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324135"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324137"></a><p class="table">077067</p>


		</td>
		<td align="left" valign="top">
			<a name="1324139"></a><p class="table">Setting the property <font face="Courier">PreferWebInfClasses</font> in the <font face="Courier">config.xml</font> now works correctly for resource files; if set, the files will now be taken from the users Web Application.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324141"></a><p class="table">077344</p>


		</td>
		<td align="left" valign="top">
			<a name="1324143"></a><p class="table">When a class file was in a JAR file in the <font face="Courier">WEB-INF\lib</font> folder, the <font face="Courier">java.lang.ClassNotFoundException: org.apache.commons.logging.impl.LogFactoryImpl</font> was being thrown. This problem has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324145"></a><p class="table">079738</p>


		</td>
		<td align="left" valign="top">
			<a name="1324147"></a><p class="table">Fixed potential memory leaks when a web application with static references to a large  memory structure is deployed or undeployed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324149"></a><p class="table">081377</p>


		</td>
		<td align="left" valign="top">
			<a name="1324151"></a><p class="table">Fixed a problem that resulted when classes were loaded via the context class loader at deployment time.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324153"></a><p class="table">083752</p>


		</td>
		<td align="left" valign="top">
			<a name="1324155"></a><p class="table">If a class tried to create an <font face="Courier">InitialContext</font> and the java command line specified <font face="Courier">weblogic.jar</font> using the <font face="Courier">-Xbootclasspath</font> argument, a <font face="Courier">NullPointerException</font> was being thrown from <font face="Courier">weblogic.i18ntools.L10nLookup.loadProps</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324157"></a><p class="table">084236</p>


		</td>
		<td align="left" valign="top">
			<a name="1324159"></a><p class="table">The example <font face="Courier">samples.examples.iiop.wls2wls.package-summary.html </font>now contains correct URL information.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1324195"></a><p class="head2">Cluster
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324164"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324166"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324168"></a><p class="table">CR043366</p>


		</td>
		<td align="left" valign="top">
			<a name="1324170"></a><p class="table">Comma delimited ip addresses can now be specified for the cluster address when the server is started  in development mode.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324172"></a><p class="table">CR078455, CR081750</p>


		</td>
		<td align="left" valign="top">
			<a name="1324174"></a><p class="table">In WebLogic Server 6.1 SP02 and SP03, a WebLogic Server cluster hung in session replication. The configuration included the F5 load balancer, Internet Information Server, and WebLogic Server ISAPI plug-in.</p>

<a name="1324175"></a><p class="table">Thread dumps referred to a never-before-reported path in the RJVM subsystem. </p>

<a name="1324176"></a><p class="table"><font face="Courier">ExecuteThread: '33' for queue: 'default'" daemon prio=5 tid=0x49edf0 nid=0x2b waiting for monitor entry [0xd527f000..0xd527fc68]^M at weblogic.rjvm.RJVMManager. findOrCreateRemoteInternal(RJVMManager.java:213)^M at weblogic.rjvm.RJVMManager.findOrCreate(RJVMManager.java:188)^M at weblogic.rjvm.RJVMFinder.findOrCreateRemoteServer (RJVMFinder.java:178)^M at weblogic.rjvm.RJVMFinder. findOrCreate(RJVMFinder.java:149)^M at weblogic.rjvm. ServerURL.findOrCreateRJVM(ServerURL.java:207)^M at weblogic.jndi.WLInitialContextFactoryDelegate.getInitialContext(WLInitialContextFactoryDelegate.java:311)^M at weblogic.jndi.Environment.getContext(Environment.java:156)^M at weblogic.jndi.Environment.getInitialContext( Environment.java:139)^M at weblogic.servlet.internal. HttpServer.lookupROIDS(HttpServer.java:751)^M at... </font></p>

<a name="1324177"></a><p class="table">Analysis revealed that the ISAPI plugin directed requests to a server other than that primary or secondary. THen calls were made on the remote <font face="Courier">ROIDImpl</font>. </p>

<a name="1324178"></a><p class="table">This problem was resolved with a code fix in WebLogic Server 6.1 SP04.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324180"></a><p class="table">CR078677</p>


		</td>
		<td align="left" valign="top">
			<a name="1324182"></a><p class="table"><font face="Courier">HttpClusterServlet</font> now performs failover during the graceful shutdown of the managed server. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324184"></a><p class="table">CR081908</p>


		</td>
		<td align="left" valign="top">
			<a name="1324186"></a><p class="table">Fixed a problem with HTTP session replication when the secondary server is unavailable at the TCP level.  This solves a long delay when the server tries to connect to a secondary server that can obviously not receive a TCP request and has already been removed from the cluster view.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324188"></a><p class="table">CR083532</p>


		</td>
		<td align="left" valign="top">
			<a name="1324190"></a><p class="table">Fixed a Null Pointer Exception at <font face="Courier">weblogic.rmi.cluster.ReplicaAwareRemoteRef.getCurrentReplica</font> that was causing the server's shutdown sequence to be aborted prematurely.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324192"></a><p class="table">CR087870</p>


		</td>
		<td align="left" valign="top">
			<a name="1324194"></a><p class="table">When using high-availability multi-pools, Weblogic now correctly fails over upon hardware failure when the pools have been created with an initial capacity equal to zero. The ResourceException that was being thrown was not the type that the multipool interpreted as reason to fail over--that was the problem.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1324254"></a><p class="head2">Console
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324199"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324201"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324203"></a><p class="table">057307</p>


		</td>
		<td align="left" valign="top">
			<a name="1324205"></a><p class="table">There is no longer an <font face="Courier">NullPointerException</font> thrown when an attempt to change user password in the RDBMS realm is made.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324207"></a><p class="table">061975</p>


		</td>
		<td align="left" valign="top">
			<a name="1324209"></a><p class="table">Fixed a problem in <font face="Courier">createColumnsSql</font> when auto key gen is used.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324211"></a><p class="table">073536</p>


		</td>
		<td align="left" valign="top">
			<a name="1324213"></a><p class="table">It is now possible to choose optional two-way SSL in the console by checking the check box.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324215"></a><p class="table">074998</p>


		</td>
		<td align="left" valign="top">
			<a name="1324217"></a><p class="table">Fixed a problem receiving authentication errors when using form-based authentication and multiple locales. Credentials in languages other than English could be successfully added to the <font face="Courier">fileRealm.prorperties </font>file but could not be used to authenticate via the servlet form-based authentication. The credentials can now be used to authenticate via the servlet form-based authentication.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324219"></a><p class="table">079130</p>


		</td>
		<td align="left" valign="top">
			<a name="1324221"></a><p class="table">It is now possible to browse the JNDI tree for EJBs that are Deployed on the Managed Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324223"></a><p class="table">079805</p>


		</td>
		<td align="left" valign="top">
			<a name="1324225"></a><p class="table">Now Web Applications that are targeted to the source server show up as targeted to the cloned server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324227"></a><p class="table">082578</p>


		</td>
		<td align="left" valign="top">
			<a name="1324229"></a><p class="table">Added a WAP-Enabled flag on the server config-&gt;http tab.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324231"></a><p class="table">083107</p>


		</td>
		<td align="left" valign="top">
			<a name="1324233"></a><p class="table">The console now supports Mozilla 1.0 browsers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324235"></a><p class="table">083330</p>


		</td>
		<td align="left" valign="top">
			<a name="1324237"></a><p class="table">It is now possible to target a Multipool to a cluster via the console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324239"></a><p class="table">083377</p>


		</td>
		<td align="left" valign="top">
			<a name="1324241"></a><p class="table">If you specify each cluster node with a DNS name at <font face="Courier">WebLogicCluster</font>, <font face="Courier">HttpClusterServlet</font> is now able to maintain the stickiness of HTTP requests with references to the static server list.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324243"></a><p class="table">083578</p>


		</td>
		<td align="left" valign="top">
			<a name="1324245"></a><p class="table">Increased the text field size for max message size on the server protocols tab.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324247"></a><p class="table">084114</p>


		</td>
		<td align="left" valign="top">
			<a name="1324249"></a><p class="table">When trying to monitor the web applications in the console via the <font face="Courier">mydomain</font> --&gt; <font face="Courier">Servers</font> --&gt; <font face="Courier">myserver</font> --&gt; <font face="Courier">Deployments</font> tab --&gt; <font face="Courier">WebApplications</font> tab --&gt; <font face="Courier">monitor all active Web Applications</font> link, an exception was being thrown. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324251"></a><p class="table">086652</p>


		</td>
		<td align="left" valign="top">
			<a name="1324253"></a><p class="table">Now if you create a new domain within the console, the file realm tab will work in the left hand pane of the console.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1324349"></a><p class="head2">EJB
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324258"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324260"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324262"></a><p class="table">069899</p>


		</td>
		<td align="left" valign="top">
			<a name="1324264"></a><p class="table">Many-to-many CMR no longer throws an SQL exception if both tables have the same column as the foreign key.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324266"></a><p class="table">076112</p>


		</td>
		<td align="left" valign="top">
			<a name="1324268"></a><p class="table">When a stateless session bean is deployed with the <font face="Courier">&lt;max-beans-in-free-pool&gt;</font> parameter in the <font face="Courier">weblogic-ejb-jar.xml</font> file, this value is not respected when concurrent calls are made to stateless session bean. WebLogic Server was creating further new instances of stateless session beans than the value specified in the parameter. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324270"></a><p class="table">076597</p>


		</td>
		<td align="left" valign="top">
			<a name="1324272"></a><p class="table">The <font face="Courier">ejbRemove()</font> method was never being called when undeploying a stateless EJB with <font face="Courier">&lt;max-beans-in-free-pool&gt;</font> to 0. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324274"></a><p class="table">077049</p>


		</td>
		<td align="left" valign="top">
			<a name="1324276"></a><p class="table">If an application uses dynamic proxies as parameters in EJB methods, a remote client can now use the interface even when the parameter interfaces are put on the server classpath. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324278"></a><p class="table">078456</p>


		</td>
		<td align="left" valign="top">
			<a name="1324280"></a><p class="table">The client and server output that is documented in some of the EJB examples was difficult to read because the text was not wrapping. Now, the text does not wrap and is easier to read.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324282"></a><p class="table">079745</p>


		</td>
		<td align="left" valign="top">
			<a name="1324284"></a><p class="table">EJBC no longer fails to deploy when another XML file is included in the <font face="Courier">weblogic-ejb-jar.xml</font> file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324286"></a><p class="table">080569</p>


		</td>
		<td align="left" valign="top">
			<a name="1324288"></a><p class="table">After running ECperf, the <font face="Courier">EJBCacheRuntime</font> statistics appeared with the <font face="Courier">CachedBeansCurrentCount</font> on one stateful session bean (CartSes) printing out an incorrect (and negative) number. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324290"></a><p class="table">081355</p>


		</td>
		<td align="left" valign="top">
			<a name="1324292"></a><p class="table">EJBC no longer throws a <font face="Courier">NullPointerException</font> when traversing relationships in an EJB 2.0 JAR file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324294"></a><p class="table">081807</p>


		</td>
		<td align="left" valign="top">
			<a name="1324296"></a><p class="table">EJB Deployer hard wired the <font face="Courier">replicateBindings</font> to 'true' on context object before binding home to the JNDI tree so that even if the user set the <font face="Courier">home-is-clusterable</font> to 'False' in the <font face="Courier">weblogic-ejb-jar.xml</font> file, announcements to the rest of the nodes in the cluster are still being attempted a <font face="Courier">NameAlreadyBoundException</font> is being thrown. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324298"></a><p class="table">081817</p>


		</td>
		<td align="left" valign="top">
			<a name="1324300"></a><p class="table">Provided an option to set <font face="Courier">dispatchPolicy</font> at bean level in the <font face="Courier">weblogic-ejb-jar.xml</font> file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324302"></a><p class="table">081991</p>


		</td>
		<td align="left" valign="top">
			<a name="1324304"></a><p class="table">A Message Driven Bean no longer fails to reconnect to MQSeries after "inhibited" and then "allowed" is selected for getting messages from the queue.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324306"></a><p class="table">082029</p>


		</td>
		<td align="left" valign="top">
			<a name="1324308"></a><p class="table">Fixed a problem using EJB's and connecting to a database with an XA driver when using an <font face="Courier">openString</font> property for the connection pool.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324310"></a><p class="table">082451</p>


		</td>
		<td align="left" valign="top">
			<a name="1324312"></a><p class="table">There is no longer a <font face="Courier">ClassNotFoundException</font> thrown for third party JAR files for a Message Driven Bean that has a JMS provider that is not WebLogic Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324314"></a><p class="table">083050</p>


		</td>
		<td align="left" valign="top">
			<a name="1324316"></a><p class="table">When calling <font face="Courier">context.getCallerPrincipal()</font> from <font face="Courier">ejbRemove()</font>, an exception is no longer thrown.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324318"></a><p class="table">083098</p>


		</td>
		<td align="left" valign="top">
			<a name="1324320"></a><p class="table">The number of connections to MQSeries increases when the Queue is closed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324322"></a><p class="table">083689</p>


		</td>
		<td align="left" valign="top">
			<a name="1324324"></a><p class="table">CMP Entity beans with automatic key generation using SQLServer no longer results in a <font face="Courier">javax.ejb.NoSuchEntityException</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324326"></a><p class="table">083896</p>


		</td>
		<td align="left" valign="top">
			<a name="1324328"></a><p class="table">When setting the max-beans-in-cache to 10 and then running the client to access the bean with the same primary key 200 times get 200 beans in the cache, if <font face="Courier">concurrency-strategy</font> was set to exclusive, the database cache was ignored. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324330"></a><p class="table">083896</p>


		</td>
		<td align="left" valign="top">
			<a name="1324332"></a><p class="table">Fixed problems where the property <font face="Courier">max-beans-in-cache </font>was being ignored.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324334"></a><p class="table">084224</p>


		</td>
		<td align="left" valign="top">
			<a name="1324336"></a><p class="table">The <font face="Courier">invalidate()</font> method was not being called by the container when a Read-mostly pattern was being used.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324338"></a><p class="table">084978</p>


		</td>
		<td align="left" valign="top">
			<a name="1324340"></a><p class="table">You can now add and change EJBC parameters from the Administration Console. This allows you, for example, to change the amount of memory allocated to stub compilation.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324342"></a><p class="table">085320</p>


		</td>
		<td align="left" valign="top">
			<a name="1324344"></a><p class="table">Fixed a problem with stateless session beans and the server; the 'idle beans count' displayed in the Administration Console was incorrectly continually increasing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324346"></a><p class="table">085659</p>


		</td>
		<td align="left" valign="top">
			<a name="1324348"></a><p class="table">Fixed some problems and delays with EJB failover when a machine is disconnected from the network.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1324374"></a><p class="head2">Examples
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324353"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324355"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324358"></a><p class="table"><a name="053356"></a>053356</p>


		</td>
		<td align="left" valign="top">
			<a name="1324360"></a><p class="table">The example<font face="Courier"> samples/examples/wtc/corba/simpappcns</font> did not have a <font face="Courier">run.sh</font> UNIX script and did not work on UNIX machines. </p>

<a name="1324361"></a><p class="table">This problem was solved by providing <font face="Courier">ubbdomain,</font> <font face="Courier">dom1config</font>, and <font face="Courier">run.sh</font> files, and instruction in the javadoc on how to build the tuxedo side. This solution provides multi-platform/machine support. The old build script assumed a single machine environment. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324363"></a><p class="table">079543</p>


		</td>
		<td align="left" valign="top">
			<a name="1324365"></a><p class="table">The example server did not start when <font face="Courier">BEAHOME</font> had a space in the name. This has been fixed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324367"></a><p class="table">084236</p>


		</td>
		<td align="left" valign="top">
			<a name="1324369"></a><p class="table">The example <font face="Courier">samples.examples.iiop.wls2wls.package-summary.html </font>now contains incorrect URL information.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324371"></a><p class="table">084903</p>


		</td>
		<td align="left" valign="top">
			<a name="1324373"></a><p class="table">The WTC simpappcns example has been fixed to work over the network and not just on a single machine.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1324418"></a><p class="head2">JDBC and jDriver
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324378"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324380"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324382"></a><p class="table">077974</p>


		</td>
		<td align="left" valign="top">
			<a name="1324384"></a><p class="table">Added OS authentication for Solaris because the OCI bug is fixed in Oracle 8.1.7 OCI.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324386"></a><p class="table">080487</p>


		</td>
		<td align="left" valign="top">
			<a name="1324388"></a><p class="table">The JTS driver no longer leaks a pool connection if the DBMS rollback fails.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324391"></a><p class="table"><a name="CR080931"></a>CR080931</p>


		</td>
		<td align="left" valign="top">
			<a name="1324393"></a><p class="table">Fixed an Oracle jDriver problem in which, when the <font face="Courier">weblogic.oci.min_bind_size</font> property was set for the JDBC connection, a <font face="Courier">SQL UPDATE</font> prepared statement issued after using <font face="Courier">CallableStatement</font> on the same connection resulted in failure.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324395"></a><p class="table">082438</p>


		</td>
		<td align="left" valign="top">
			<a name="1324397"></a><p class="table">Whereas statically defined pools absorb a property to define the prepared statement cache size, a pool created dynamically, via the console, <font face="Courier">weblogic.Admin</font>, or an API was unable to do so. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324399"></a><p class="table">082484</p>


		</td>
		<td align="left" valign="top">
			<a name="1324401"></a><p class="table">The JDriver for Oracle no longer raises an <font face="Courier">ArrayIndexOutOfBoundsException</font> if more than 511 parameters in a <font face="Courier">PreparedStatement</font> are set.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324403"></a><p class="table">086557</p>


		</td>
		<td align="left" valign="top">
			<a name="1324405"></a><p class="table">We have included the windows, HP, and Solaris jDrivers for Oracle 9.2 and updated the 8.1.7 and 9.0.1 drivers as well.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324407"></a><p class="table">087005</p>


		</td>
		<td align="left" valign="top">
			<a name="1324409"></a><p class="table">A thin driver for Oracle 9.2.0 has been added/</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324411"></a><p class="table">087803</p>


		</td>
		<td align="left" valign="top">
			<a name="1324413"></a><p class="table">Fixed problems creating a JDBC store configured for a JMSServer using Oracle 9.0.1; the updated thin driver for 9.0.1 has been provided and solves this issue.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324415"></a><p class="table">088156</p>


		</td>
		<td align="left" valign="top">
			<a name="1324417"></a><p class="table">Fixed a potential JDBC deadlock condition caused by the EJB persistence manager.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1324481"></a><p class="head2">JMS
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324422"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324424"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324426"></a><p class="table">063743</p>


		</td>
		<td align="left" valign="top">
			<a name="1324428"></a><p class="table">Fixed a problem that was resulting in Message Driven Beans not acknowledging object messages </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324430"></a><p class="table">079547</p>


		</td>
		<td align="left" valign="top">
			<a name="1324432"></a><p class="table">Fixed a deadlock that created problems while creating Durable Subscribers to JMS servers deployed in a clustered environment.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324434"></a><p class="table">081525</p>


		</td>
		<td align="left" valign="top">
			<a name="1324436"></a><p class="table">Calling <font face="Courier">TopicSubscriber.close()</font> in a cluster no longer throws a <font face="Courier">weblogic.management.NoAccessRuntimeException</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324438"></a><p class="table">080668</p>


		</td>
		<td align="left" valign="top">
			<a name="1324440"></a><p class="table">In a clustered environment that sets listeners for the JMS Server, a NoSuchObjectException was being thrown if one of the nodes of the server was started after some time, rather than immediately. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324442"></a><p class="table">082298</p>


		</td>
		<td align="left" valign="top">
			<a name="1324444"></a><p class="table">The number of durable JMS subscribers was incorrect. An extra increment was occurring each time a consumer attached to a durable subscription. The number is now incremented when the subscribers are created and decremented when they are deleted. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324446"></a><p class="table">082438</p>


		</td>
		<td align="left" valign="top">
			<a name="1324448"></a><p class="table">Prior to Service Pack 4, for JDBC connection pools that were created dynamically, the <font face="Courier">STATEMENT_CACHE_SIZE</font> parameter was not implemented. This is corrected in SP04, so that dynamic connection pools can use the Statement Cache to cache and reuse prepared and callable statements.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324450"></a><p class="table">083290</p>


		</td>
		<td align="left" valign="top">
			<a name="1324452"></a><p class="table">Fixed problems with JMS recovery in managed servers when the primary server goes down and then is restarted.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324454"></a><p class="table">083503</p>


		</td>
		<td align="left" valign="top">
			<a name="1324456"></a><p class="table">Fixed a problem with JMS and Message-Driven-Bean recovery when starting and stopping managed servers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324458"></a><p class="table">084175</p>


		</td>
		<td align="left" valign="top">
			<a name="1324460"></a><p class="table">Messages were being lost when sent through <font face="Courier">MessagingBridge</font> and interrupted by a server re-start. If while messages were being processed by the <font face="Courier">MessagingBridge</font> (messages being processed from MQ Queue to WebLogic JMS Queue), and the WebLogic server was stopped and then re-started, then in some cases, some messages were lost. The number of messages lost corresponded to the <font face="Courier">BatchSize</font> of the <font face="Courier">MessagingBridge</font>. This problem has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324462"></a><p class="table">084182</p>


		</td>
		<td align="left" valign="top">
			<a name="1324464"></a><p class="table">The <font face="Courier">setExceptionListener</font> method no longer throws a <font face="Courier">NullPointerException</font> when <font face="Courier">exceptionListener</font> is set to null.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324467"></a><p class="table"><a name="CR084374"></a>CR084374</p>


		</td>
		<td align="left" valign="top">
			<a name="1324471"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-24.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-24.jsp.</a></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324473"></a><p class="table">CR086487</p>


		</td>
		<td align="left" valign="top">
			<a name="1324475"></a><p class="table">see CR83503</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324477"></a><p class="table">CR093060</p>


		</td>
		<td align="left" valign="top">
			<a name="1324480"></a><p class="table">Duplicate of <a href="../notes/bugfixes2.html#CR084374">"CR084374"</a> above.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1324748"></a><p class="head2">Miscellaneous
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324485"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324487"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324489"></a><p class="table">049340</p>


		</td>
		<td align="left" valign="top">
			<a name="1324491"></a><p class="table">The <font face="Courier">DeploymentOrder</font> on the <font face="Courier">ComponentMBeans</font> can now be initially set based on the ordering in the <font face="Courier">application.xml</font> file making re-deployment consistent with initial deployment.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324493"></a><p class="table">053054</p>


		</td>
		<td align="left" valign="top">
			<a name="1324495"></a><p class="table">Fixed a problem where the server was not copying the transaction context. There were rjvm errors when a client that spawned a new JVM after binding an implementation class into the JNDI tree; the new JVM was not able to make RMI calls on the method.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324497"></a><p class="table">053957, 071626, 075394, 076265, 078527, 079652, 079655, 082693, 082830</p>


		</td>
		<td align="left" valign="top">
			<a name="1324499"></a><p class="table">This Service Pack improves WebLogic's handling of RJVMs in multiple ways. Fixes include:</p>

<a name="1324500"></a><p class="table">WebLogic Server now ensures that a valid connection has been fully established between servers running on local and remote Java virtual machines before it attempts to send a message to an RJVM.</p>

<a name="1324501"></a><p class="table">Possible deadlocks resulting from establishing a valid connection between servers running on local and remote Java virtual machines have now been fixed.  </p>

<a name="1324502"></a><p class="table">Previously, it was possible for RJVMs to get into an infinite-wait state while waiting for the connection to be established because the notification of a successful connection was issued before the RJVMs went into a wait state.  The fix makes it possible for a success notification to be detected, even if it happens before a wait.</p>

<a name="1324503"></a><p class="table">Multiple threads trying to establish a connection to an RJVM at the same time now rely on the success or failure of the first thread that actually manages to establish the connection.</p>

<a name="1324504"></a><p class="table">Previously, each thread would always attempt to establish a connection in turn, rather than using the connection established by the first thread that succeeded.  </p>

<a name="1324505"></a><p class="table">Peer WebLogic Servers running on different computers now correctly detect when a peer server with which it has previously established a connection has gone, and correctly cleans up the broken connection.</p>

<a name="1324506"></a><p class="table">The Remote Method Invocation (RMI) layer now receives proper exceptions to failover when an attempt to get an OutputStream fails.  </p>

<a name="1324507"></a><p class="table">Previously, when two peer servers where trying to establish a connection but failed to, an exception was not thrown to the RMI layer, causing improper failovers or delays to a proper failover.</p>

<a name="1324508"></a><p class="table">Possible deadlocks have been fixed between 2-way calls from T3JVMConnection to ConnectionManager to RJVM.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324510"></a><p class="table">056403, 063910,  076409, 076903,  078288, 078918, 079599, 080292, 080744, 081010, 081116, 081856, 082700,083623,  086362.</p>


		</td>
		<td align="left" valign="top">
			<a name="1324512"></a><p class="table">We fixed multiple muxer problems and added improvements including: </p>

<a name="1324513"></a><p class="table">Collections in all muxers (Java and native-code) that map to sockets now have unique keys. This has solved a variety of problems, including data corruption, bad pointer references, WebLogic Server hangings and crashes. </p>

<a name="1324514"></a><p class="table">Data structures and state machines in muxers now have proper synchronization.  This fixed certain classic deadlocks caused by conflicting order of locking.</p>

<a name="1324515"></a><p class="table">The call stacks between the muxer and the protocol layers above the muxer are now 2-way, which means a close of a socket or connection can be initiated from any point in the stack.   Safeguards have been added to prevent deadlocks.</p>

<a name="1324516"></a><p class="table">State machine transitions in the muxer have been fixed, resulting in sockets no longer remaining in a CLOSE_WAIT state.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324518"></a><p class="table">064301</p>


		</td>
		<td align="left" valign="top">
			<a name="1324520"></a><p class="table">If the application server is killed abruptly, there is a high probability of creating a distributed in-doubt transaction. In WebLogic Server 6.1 SP01, the distributed in-doubt transaction still continued to exist and needed to be resolved by manual DBA intervention. In WebLogic Server 6.1 service pack 4, the transaction log file is re-scanned and a recovery process is initiated after re-starting the application server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324522"></a><p class="table">071510</p>


		</td>
		<td align="left" valign="top">
			<a name="1324524"></a><p class="table">It was not possible to start the server using JMX through the <font face="Courier">NodeManagerMBean</font>. In WebLogic Server 6.1 service pack 4, new methods were added in the <font face="Courier">ServerMBean</font> to start and kill <font face="Courier">ManagedServers</font> via the JMX client.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324526"></a><p class="table">072188</p>


		</td>
		<td align="left" valign="top">
			<a name="1324528"></a><p class="table">The admin server was not closing the network connection that it established with <font face="Courier">NodeManager</font> after completing the task. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324530"></a><p class="table">073023</p>


		</td>
		<td align="left" valign="top">
			<a name="1324532"></a><p class="table">Node manager no longer randomly throws the <font face="Courier">OutputHandler</font> error when trying to start a remote server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324534"></a><p class="table">074844</p>


		</td>
		<td align="left" valign="top">
			<a name="1324536"></a><p class="table">Fixed a problem that was causing an assertion error when using dynamic proxies.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324538"></a><p class="table">075406, 076002</p>


		</td>
		<td align="left" valign="top">
			<a name="1324540"></a><p class="table">Fixed problems occurring under heavy load where <font face="Courier">NullPointer</font> and <font face="Courier">ClassCast</font> exceptions were occurring; also made some improvements to the NT muxer.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324542"></a><p class="table">076605</p>


		</td>
		<td align="left" valign="top">
			<a name="1324544"></a><p class="table">Fixed a problem that was causing the message: <font face="Courier">&lt;ExecuteThread: '12' for queue: 'default'&gt; &lt;&gt; &lt;&gt; &lt;000000&gt; &lt;No IORecord present for fd&gt;</font> to appear.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324546"></a><p class="table">076705</p>


		</td>
		<td align="left" valign="top">
			<a name="1324548"></a><p class="table">Message Driven Bean deployment no longer fails and results in a <font face="Courier">NoAccessRuntimeException</font> for guest if the destination is remote.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324550"></a><p class="table">076997</p>


		</td>
		<td align="left" valign="top">
			<a name="1324552"></a><p class="table">Now, when deploying an EAR component to a cluster through MBeans, the JNDI bindings appear in all managed servers without the need to re-start the servers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324554"></a><p class="table">077248</p>


		</td>
		<td align="left" valign="top">
			<a name="1324556"></a><p class="table">Fixed problems connecting to EJB's over IIOP when native IO is turned off.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324558"></a><p class="table">077831</p>


		</td>
		<td align="left" valign="top">
			<a name="1324560"></a><p class="table">When the <font face="Courier">AppletArchiver</font> utility was used to generate a client JAR file and if the applet in question used the <font face="Courier">javax.swing.JApplet</font> class in its code, then the <font face="Courier">AppletViewer</font> was producing an error. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324562"></a><p class="table">077919</p>


		</td>
		<td align="left" valign="top">
			<a name="1324564"></a><p class="table">Using patch CR064447_61sp2.jar was causing an error in the log file after calling <font face="Courier">ObjectOutputStream.writeObject()</font> on <font face="Courier">EJBHandle</font>. The output of the <font face="Courier">EJBObject</font> in the log was changing from <font face="Courier">LocalServerRef</font> to <font face="Courier">LeasedRemoteRef</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324566"></a><p class="table">078431</p>


		</td>
		<td align="left" valign="top">
			<a name="1324568"></a><p class="table">Fixed a problem that was causing a deadlock between <font face="Courier">MuxableSocketHTTP</font> and <font face="Courier">PosixSocketMuxer</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324570"></a><p class="table">078952</p>


		</td>
		<td align="left" valign="top">
			<a name="1324572"></a><p class="table">An <font face="Courier">org.omg.CORBA.MARSHAL</font> exception is no longer thrown while a null value in a serializable object from an EJB's remote method is being returned.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324574"></a><p class="table">079220</p>


		</td>
		<td align="left" valign="top">
			<a name="1324576"></a><p class="table">When running JMS, the client was getting the exception:<br><font face="Courier">Could not find RJVM for $Proxy68.. (IllegalArgumentException)</font> in a cluster environment. The client was contacting one of the managed servers to drive. This has been fixed</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324578"></a><p class="table">079672</p>


		</td>
		<td align="left" valign="top">
			<a name="1324580"></a><p class="table">A VM crash is possible when <font face="Courier">WarClassFinder.getSource</font> is invoked. Sun's fix for this problem are in JDK's 1.4.1_02 and 1.3.1_07. The Sun bug is: http://developer.java.sun.com/developer/bugParade/bugs/4369396.html.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324582"></a><p class="table">080177</p>


		</td>
		<td align="left" valign="top">
			<a name="1324584"></a><p class="table">Using weblogic.deploy no longer causes memory leaks if you continually deploy and delete the same EJBs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324586"></a><p class="table">080740</p>


		</td>
		<td align="left" valign="top">
			<a name="1324588"></a><p class="table">If a web application that creates a file that got deleted when the server was shutdown, when running as a Windows Service, this file got deleted as expected when the server was shutdown from the command line (using the <font face="Courier">java weblogic.Admin SHUTDOWN</font> command) or from the administration console. However, this file did not get deleted when the server was shut down by going to:</p>

<a name="1324589"></a><p class="table">Start Menu --&gt; Settings --&gt; Control Panel  --&gt; Services --&gt; Press Stop button for the service.</p>

<a name="1324590"></a><p class="table">This capability is now implemented.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324592"></a><p class="table">080895</p>


		</td>
		<td align="left" valign="top">
			<a name="1324594"></a><p class="table">When a stand-alone java client was calling a stateless session EJB, after about 500000 iterations, the following exception was being thrown on the client side:<br><font face="Courier">Exception in thread "main" java.lang.ClassCastException: Assigning instance of class java.io.ObjectStreamClass to field weblogic.rmi.internal.ClientMethodDescriptor#signature at java.io.ObjectInputStream.inputClassFields(ObjectInputStream.java:2271)</font></p>

<a name="1324595"></a><p class="table">This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324597"></a><p class="table">080901</p>


		</td>
		<td align="left" valign="top">
			<a name="1324600"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-19.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-19.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324602"></a><p class="table">080929</p>


		</td>
		<td align="left" valign="top">
			<a name="1324604"></a><p class="table">Now, if using wildcards, <font face="Courier">weblogic.refresh</font> can refresh files.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324606"></a><p class="table">081311</p>


		</td>
		<td align="left" valign="top">
			<a name="1324608"></a><p class="table">A <font face="Courier">SAXParseException</font> on the DTD now has a severity of <font face="Courier">&lt;Warn&gt;</font> instead of <font face="Courier">&lt;Info&gt;</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324610"></a><p class="table">081404</p>


		</td>
		<td align="left" valign="top">
			<a name="1324612"></a><p class="table">The JMS Bridge Resource Connectors (<font face="Courier">jms-xa-adp.rar</font>, <font face="Courier">jms-notran-adp.rar</font>, <font face="Courier">jms-notan-adp51.jar</font>) for Messaging Bridge are packaged with WebLogic Server 6.1 Service Pack 4.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324614"></a><p class="table">081568</p>


		</td>
		<td align="left" valign="top">
			<a name="1324616"></a><p class="table">SNMP Agent can now monitor the <font face="Courier">ServletRuntime</font> of Servlets.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324618"></a><p class="table">081732</p>


		</td>
		<td align="left" valign="top">
			<a name="1324620"></a><p class="table">Using WebLogic Server 6.1 SP03, an exception was being thrown when using the Sybase database while trying to start the server. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324622"></a><p class="table">081765</p>


		</td>
		<td align="left" valign="top">
			<a name="1324624"></a><p class="table">There were problems with SSL closing sockets prematurely and causing muxer errors.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324626"></a><p class="table">081853</p>


		</td>
		<td align="left" valign="top">
			<a name="1324628"></a><p class="table">Fixed some complicated problems with RMI-IIOP and the marshalling of complex objects, notably in environments using a mixture of JDKs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324630"></a><p class="table">081868</p>


		</td>
		<td align="left" valign="top">
			<a name="1324632"></a><p class="table">In WebLogic Server 6.1 service pack 2, when the admin server was shutdown using <font face="Courier">java weblogic.Admin SHUTDOWN</font>, the SNMP agent was not generating the <font face="Courier">serverShutDown</font> trap. It was able to generate <font face="Courier">serverStart</font> trap when the server started up. Now, when the admin server is shutdown, the SNMP Agent will issue a self shutdown trap.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324634"></a><p class="table">CR081870</p>


		</td>
		<td align="left" valign="top">
			<a name="1324636"></a><p class="table">In the WebLogic Server distribution of Xalan, when the XSLT output method was set to HTML (required):</p>

<a name="1324637"></a><p class="table">  <font face="Courier">&lt;xsl:output method="html"/&gt;</font></p>

<a name="1324638"></a><p class="table">the spaces in HREF attributes in anchor tags are encoded to "%20". For example:</p>

<a name="1324639"></a><p class="table">  <font face="Courier">&lt;a href="javascript: var win = openWindow()"&gt;Link&lt;/a&gt;</font></p>

<a name="1324640"></a><p class="table">erroneously outputs as:</p>

<a name="1324641"></a><p class="table">  <font face="Courier">&lt;ahref="javascript:%20var%20win%20=%20openWindow()"&gt;Link&lt;/a&gt;</font> </p>

<a name="1324642"></a><p class="table">Netscape fails to interpret the "%20" as a space, breaking the link. If the output type is changed to "XML" (not an applicable workaround in this case), the attribute outputs correctly.</p>

<a name="1324643"></a><p class="table">The vanilla Xalan distribution (i.e. not the BEA-enhanced version) performs the transformation correctly with identical input.</p>

<a name="1324644"></a><p class="table">WebLogic Server distribution of Xalan performed inappropriate URL encoding on the HREF attribute. This works fine for normal URLs (i.e., http://somehost/...) where spaces are not allowed, however javascript URLs (i.e. javascript: doSomething()) are also valid and should not be encoded. The XSLT transformer should not be doing anything to the URL as there are already ways to explicitly encode URL's in stylesheets.</p>

<a name="1324645"></a><p class="table">Problem occurred in WebLogic Server 6.1 SP2, SP3, and SP4.</p>

<a name="1324646"></a><p class="table">Problem was solved by modifying the XSLT transformer to not encode the URL. .</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324648"></a><p class="table">082004</p>


		</td>
		<td align="left" valign="top">
			<a name="1324650"></a><p class="table">The <font face="Courier">CR073910_61sp2.jar</font> patch on WebLogic Server 6.1 service pack 2 was resulting in a memory leak. when getting a new <font face="Courier">InitialContext()</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324652"></a><p class="table">082263</p>


		</td>
		<td align="left" valign="top">
			<a name="1324654"></a><p class="table">The <font face="Courier">weblogic.deploy</font> tool is now able to update the web application .war file from Win2k to a server running on Solaris. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324656"></a><p class="table">082533</p>


		</td>
		<td align="left" valign="top">
			<a name="1324658"></a><p class="table">Debug messages were being written to <font face="Courier">std.out</font> when using the Xerces Parser. These messages have been removed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324660"></a><p class="table">082693</p>


		</td>
		<td align="left" valign="top">
			<a name="1324662"></a><p class="table">In WebLogic Server 6.1 service pack 1 and 2, if the server received a call from the old generation stubs, the server correctly sent <font face="Courier">peerGone</font> to the client and logged an error. In WebLogic Server 6.1 service pack 3, the server printed a <font face="Courier">NullPointeException</font> and the client waited until timeout. Now we have restored the earlier, correct, behavior.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324664"></a><p class="table">083102</p>


		</td>
		<td align="left" valign="top">
			<a name="1324666"></a><p class="table">When deploying a couple of EJBs (that conform to the EJB 2.0 specification) with             <font face="Courier">J2EE12OnlyModeEnabled="true"</font>, the server was throwing a couple of warning messages for a few beans and then crashing with a <font face="Courier">DistributedManagementException</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324668"></a><p class="table">083485</p>


		</td>
		<td align="left" valign="top">
			<a name="1324670"></a><p class="table">When invoking a t3 client, the client no longer hangs in <font face="Courier">JavaSocketMuxer</font> with t3 as the default protocol.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324672"></a><p class="table">083652</p>


		</td>
		<td align="left" valign="top">
			<a name="1324674"></a><p class="table">In WebLogic Server 6.1 service pack 3, applications were undeployed at startup and then redeployed twice. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324677"></a><p class="table">083654</p>


		</td>
		<td align="left" valign="top">
			<a name="1324679"></a><p class="table">Improved the performance of WebLogic Server 6.1 service pack 3, when continuous requests are issued from the Microsoft WAS tool. International users, see <a href="issues.html#1088520">089868</a> for related information.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324684"></a><p class="table">083721</p>


		</td>
		<td align="left" valign="top">
			<a name="1324686"></a><p class="table">The <font face="Courier">FailureIsFatal</font> option of the startup class no longer suppresses the runtime exception on a Solaris Environment.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324688"></a><p class="table">083920</p>


		</td>
		<td align="left" valign="top">
			<a name="1324690"></a><p class="table">Suppressed any startup traps when the admin server is re-started and it discovers that managed servers are up to avoid redundant traps being sent when the admin server is re-started.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324692"></a><p class="table">084127</p>


		</td>
		<td align="left" valign="top">
			<a name="1324694"></a><p class="table">In production mode, even with auto-deployment turned off, WebLogic Server was still validating some application files that were not configured in the <font face="Courier">config.xml</font> file. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324696"></a><p class="table">084622</p>


		</td>
		<td align="left" valign="top">
			<a name="1324698"></a><p class="table">Using ZAC no longer results in an assertion error when <font face="Courier">getInitialContext()</font> is called.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324700"></a><p class="table">085463</p>


		</td>
		<td align="left" valign="top">
			<a name="1324702"></a><p class="table">JNDI lookup failover now no longer takes such a long time when the network plug is pulled.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324704"></a><p class="table">085914</p>


		</td>
		<td align="left" valign="top">
			<a name="1324706"></a><p class="table">SNMP request was timing out after a managed server was dropped. The SNMP agent no longer becomes unresponsive for a while on <font face="Courier">getnext</font> requests when a managed server is down.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324708"></a><p class="table">085979</p>


		</td>
		<td align="left" valign="top">
			<a name="1324710"></a><p class="table">Fixed a problem with <font face="Courier">MBeanHome.getAllMBeans()</font> unnecessarily throwing an exception when a custom Mbean is defined.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324712"></a><p class="table">086108</p>


		</td>
		<td align="left" valign="top">
			<a name="1324714"></a><p class="table">We improved performance; the ListenThread now consumes less memory than in Service Pack three.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324716"></a><p class="table">086248</p>


		</td>
		<td align="left" valign="top">
			<a name="1324718"></a><p class="table">The component type for boxed RMI sequences was being forwardly declared twice-once correctly and once as an interface; the wrong type for sequences of valuetypes.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324720"></a><p class="table">086350</p>


		</td>
		<td align="left" valign="top">
			<a name="1324722"></a><p class="table">Fixed a problem where if an exception's classname ended in a capital 'I' the IDL generated from it is mangled and corrupt.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324724"></a><p class="table">CR086362 </p>


		</td>
		<td align="left" valign="top">
			<a name="1324726"></a><p class="table">Under heavy loads  <font face="Courier">SocketException: Connection timed out</font> errors occurred. Stack trace:</p>

<a name="1324727"></a><p class="table"><font face="Courier">####&lt;Sep 18, 2002 9:37:07 AM EDT&gt; &lt;Error&gt; &lt;Posix Performance Pack&gt; &lt;lpsapp01&gt; &lt;LPSAPP01_C&gt; &lt;ExecuteThread: '34' for queue: 'default'&gt; &lt;&gt; &lt;&gt; &lt;000000&gt; &lt;IOException on socket: 'weblogic.rjvm.t3.T3JVMConnection@67cf01', fd: '1046'&gt; java.net.SocketException: Connection timed out: Connection timed out Start server side stack trace: java.net.SocketException: Connection timed out: Connection timed out at java.net.SocketInputStream.socketRead(Native Method) at java.net.SocketInputStream.read(SocketInputStream.java:86) at weblogic.socket.PosixSocketMuxer.readBytesProblem(PosixSocketMuxer.java:824) at weblogic.socket.PosixSocketMuxer.<br>deliverGoodNews(PosixSocketMuxer.java:712) at weblogic.<br>socket.PosixSocketMuxer.processSockets(PosixSocketMuxer.java:637) at weblogic.socket.SocketReaderRequest.execute(Socket<br>ReaderRequest.java:24) at weblogic.kernel.ExecuteThread.<br>execute(ExecuteThread.java:139) at weblogic.kernel.<br>ExecuteThread.run(ExecuteThread.java:120) End server side stack trace </font></p>

<a name="1324728"></a><p class="table">and the server instance hung with sockets in the <font face="Courier">CLOSE_WAIT</font> state.  Thread dump:</p>

<a name="1324729"></a><p class="table"><font face="Courier">"ExecuteThread: '3' for queue: 'default'" daemon prio=5 tid=0x7f79a8 nid=0x10 waiting for monitor entry [0xa6101000..0xa6101a40] at weblogic.socket.PosixSocketMuxer.<br>read(PosixSocketMuxer.java:542) at weblogic.socket.<br>JVMSocketManager.accept(JVMSocketManager.java:185) at weblogic.t3.srvr.ListenThread$RJVMListenRequest.execute(ListenThread.java:594) at weblogic.kernel.ExecuteThread.<br>execute(ExecuteThread.java:139) at weblogic.kernel.<br>ExecuteThread.run(ExecuteThread.java:120) </font></p>

<a name="1324730"></a><p class="table">Thread dump analysis indicated that the thread in native <font face="Courier">AddFdToPollSet</font> did not finish writing to <font face="Courier">PollSet Loopback FD</font>, and release <font face="Courier">POLLSET_LOCK</font> properly. </p>

<a name="1324731"></a><p class="table">Problem was resolved by tracking  the number of bytes written to pipe, and waiting to write more to pipe (using an array instead) until thread reader notification that it is OK to write to the pipe. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324733"></a><p class="table">086761</p>


		</td>
		<td align="left" valign="top">
			<a name="1324735"></a><p class="table">The <font face="Courier">Weblogic.admin</font> tool now correctly creates an execute queue so that it will be functional on server start-up.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324737"></a><p class="table">087265</p>


		</td>
		<td align="left" valign="top">
			<a name="1324739"></a><p class="table">Fixed several incompatible serialVersionUID's so as to keep interoperability between WebLogic versions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324741"></a><p class="table">088372</p>


		</td>
		<td align="left" valign="top">
			<a name="1324743"></a><p class="table">Now, under load, we have fixed the problem that was generating multiple exceptions like: <font face="Courier">ArrayIndexOutOfBoundsException</font> in <font face="Courier">weblogic.security.acl.TTLCache.cleanup</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324745"></a><p class="table">089044</p>


		</td>
		<td align="left" valign="top">
			<a name="1324747"></a><p class="table">Loading the Administration Console no longer causes a browser/OS compatibility check. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1324836"></a><p class="head2">Plug-ins
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324752"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324754"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324756"></a><p class="table">074128</p>


		</td>
		<td align="left" valign="top">
			<a name="1324758"></a><p class="table">In a cluster, after Internet Explorer 10053 displayed a socket error message, the proxy plug-in inappropriately failed over&#8212;the primary server was healthy.  The problem  was exhibited in this configuration:</p>


			<ul><a name="1324759"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>WebLogic Server 6.1.0 with SP02</font>
<a name="1324760"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>IIS plugin</font>
<a name="1324761"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Windows 2000 SP2</font>
<a name="1324762"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>IIS 5.0</font>
			</ul>
<a name="1324763"></a><p class="table">Error 10053 is a winsock error and is defined in <font face="Courier">winsock.h</font> as <font face="Courier">WSAECONNABORTED</font>.  The error occurs when a page is reloaded before the ISAPI extension is done sending data back.  When the page is reloaded, the browser closes the existing connection and then creates a new connection to resubmit the request. Same condition can be caused by  using the "Stop" button in the browser before the extension is done sending data.</p>

<a name="1324764"></a><p class="table">This is a normal event that means that the browser isn't listening any more. After the error, plug-in should simply clean up and return from <font face="Courier">HttpExtensionProc</font>.</p>

<a name="1324765"></a><p class="table">The inappropriate failover case has been solved by changes to the IIS plugin.  Failover not longer occurs when processing fails during the <font face="Courier">sendRequst</font> phase if timeout occurs reading POST data. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324767"></a><p class="table">076936</p>


		</td>
		<td align="left" valign="top">
			<a name="1324769"></a><p class="table">When specifying a multiple-level path at <font face="Courier">PathTrim</font> under the ISAPI environment using <font face="Courier">WlForwardPath</font> together such as:</p>

<a name="1324770"></a><p class="table"><font face="Courier">WlForwardPath=/<br>PathTrim=/path/to/weblogic</font></p>

<a name="1324771"></a><p class="table">ISAPI plug-in was not able to trim the specified path. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324773"></a><p class="table">078713</p>


		</td>
		<td align="left" valign="top">
			<a name="1324775"></a><p class="table">Added a new parameter set <font face="Courier">FilterPriorityLevel</font> in the <font face="Courier">iisforward.ini</font> file. The value for this parameter is 0, 1, and 2, which means low, medium and high for the filter priority. The default value is 2. If it is not possible to use a virtual host to set this property, use the <font face="Courier">iisforward.ini</font> file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324777"></a><p class="table">079186</p>


		</td>
		<td align="left" valign="top">
			<a name="1324779"></a><p class="table">In accordance with the HTTP 1.1 specification, all plug-ins will now parse folded headers properly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324781"></a><p class="table">079683</p>


		</td>
		<td align="left" valign="top">
			<a name="1324783"></a><p class="table">Chunked Transfer Encoding HEX numbers were displayed to the browser when using <font face="Courier">mod_wl_ssl.so</font>. This only happened when using <font face="Courier">jsp:include</font> on Weblogic. The <font face="Courier">mod_wl.so</font> worked correctly, but there was a long delay before the browser rendered the page completely. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324785"></a><p class="table">079973</p>


		</td>
		<td align="left" valign="top">
			<a name="1324787"></a><p class="table">In WebLogic Server 6.1 service pack 4, if <font face="Courier">Idempotent</font> is off, failover is prevented and  if <font face="Courier">ConnectTimeoutSecs=0</font>, core dump is prevented. Retries are no longer attempted after <font face="Courier">ConnecyTimeoutSecs</font> is set to 0 in the iPlanet config. The retries were attempted either with the default setting, which is 10, or with 0. Furthermore, when <font face="Courier">Idempotent</font> was set to ON, the retries occurred five times, instead of two when it was set to OFF.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324789"></a><p class="table">080219</p>


		</td>
		<td align="left" valign="top">
			<a name="1324791"></a><p class="table">There is no longer an iPlanet core dump when shutting down all WebLogic Server instances.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324793"></a><p class="table">080382</p>


		</td>
		<td align="left" valign="top">
			<a name="1324795"></a><p class="table">An unexpected error message is no longer logged in the WebLogic Server error log when using the NSAPI plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324797"></a><p class="table">080746</p>


		</td>
		<td align="left" valign="top">
			<a name="1324799"></a><p class="table">A 64-bit platform on native webserver plug-in is now supported.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324801"></a><p class="table">081185</p>


		</td>
		<td align="left" valign="top">
			<a name="1324803"></a><p class="table">The CPU load no longer increases when cancelling the uploading of files. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324805"></a><p class="table">081493</p>


		</td>
		<td align="left" valign="top">
			<a name="1324807"></a><p class="table">Fixed a problem that was resulting in HPUX-11 iPLanet crashing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324809"></a><p class="table">082093</p>


		</td>
		<td align="left" valign="top">
			<a name="1324811"></a><p class="table">When WebLogic Server is being hit via an iPlanet proxy with an NSAPI plug-in and a QALoad is used to generate a number of concurrent client connections, extra calls are no longer being made by the proxy plug-in to the app server under a heavy load.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324813"></a><p class="table">082096 &amp; 083386</p>


		</td>
		<td align="left" valign="top">
			<a name="1324815"></a><p class="table">With <font face="Courier">Idempotent=OFF</font>, the IIS proxy plug-in no longer still attempts one re-try (two requests = one original + one re-try) for all POST requests after <font face="Courier">HungServerRecoverSecs</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324817"></a><p class="table">082113</p>


		</td>
		<td align="left" valign="top">
			<a name="1324819"></a><p class="table">If the plug-in receives an error while reading data from the client, it no longer tries to send the incomplete data (request) to the back-end WebLogic Server. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324821"></a><p class="table">082206</p>


		</td>
		<td align="left" valign="top">
			<a name="1324823"></a><p class="table">You can now exclude certain pages from being forwarded to WebLogic and have them be served by an IPlanet front-end. Add <font face="Courier">WLExcludePathOrMimeType</font> to your <font face="Courier">obj.conf</font> to exclude certain requests that match with the expressions you define (i.e: <font face="Courier">WLExcludePathOrMimeType="/test,/*.html</font>") </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324825"></a><p class="table">083174</p>


		</td>
		<td align="left" valign="top">
			<a name="1324827"></a><p class="table">Using the latest IIS plugin, failover was not working when new values were being added to the session.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324829"></a><p class="table">083643</p>


		</td>
		<td align="left" valign="top">
			<a name="1324831"></a><p class="table">Fixed a performance problem in NSAPI. The netbuf_getc function was very slow and not able to distinguish between '\0' and 0 in the postdata.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324833"></a><p class="table">083558</p>


		</td>
		<td align="left" valign="top">
			<a name="1324835"></a><p class="table">Certified the newest Apache-Apache 2.0.42.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325088"></a><p class="head2">Servlets, JSPs, and Web Applications
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1324840"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1324842"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324844"></a><p class="table">042655</p>


		</td>
		<td align="left" valign="top">
			<a name="1324846"></a><p class="table">When using the <font face="Courier">access.log</font> in the extended log format, the times at which the http requests are made are no longer given as the local time, instead of the GMT time. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324848"></a><p class="table">053974</p>


		</td>
		<td align="left" valign="top">
			<a name="1324850"></a><p class="table">Besides being able to configure the name of the <font face="Courier">access.log</font>, users can now select the convention for the rotated log for manageability.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324852"></a><p class="table">058389</p>


		</td>
		<td align="left" valign="top">
			<a name="1324854"></a><p class="table">When <font face="Courier">getInputStream()</font> is called against <font face="Courier">javax.servlet.http.HttpServletRequestWrapper</font>, it no longer returns null.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324856"></a><p class="table">063630</p>


		</td>
		<td align="left" valign="top">
			<a name="1324858"></a><p class="table">If a Web Application failed to deploy, then no other applications were getting deployed to a cluster. This problem has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324860"></a><p class="table">065967</p>


		</td>
		<td align="left" valign="top">
			<a name="1324862"></a><p class="table">Taglibs no longer fail when <font face="Courier">&lt;type&gt;</font> is specified and the type is an array. Weblogic Server no longer sees it as a string when it is actually an array.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324864"></a><p class="table">068577</p>


		</td>
		<td align="left" valign="top">
			<a name="1324866"></a><p class="table">In the generated code, the <font face="Courier">method _releaseTags()</font> was not being called upon a <font face="Courier">&lt;jsp:forward&gt;</font> although according to the JSP specification 1.2, all tag handlers need to be released upon <font face="Courier">DO_END_TAG</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324868"></a><p class="table">069731</p>


		</td>
		<td align="left" valign="top">
			<a name="1324870"></a><p class="table">When using JSPs in a webapp, the <font face="Courier">.java</font> files that get created from the JSPs live under <font face="Courier">_tmp_war</font> (under the webapp root). If it does not exist already, the <font face="Courier">_tmp_war</font> directory is created at the time of WebApp deployment (during the initialization period after you start the server). If the server is run as root, the <font face="Courier">_tmp_war</font> directory gets created by, and is owned by, root. At the end of initialization, <font face="Courier">nonPrivUser</font> was being used to switch to a nonpriviledged user and the <font face="Courier">_tmp_war</font> directory was inaccessible by the JSP servlet and WebLogic. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324872"></a><p class="table">071513</p>


		</td>
		<td align="left" valign="top">
			<a name="1324874"></a><p class="table">WebLogic Server is now validating the <font face="Courier">weblogic.xml</font> file in the webapp.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324876"></a><p class="table">073780</p>


		</td>
		<td align="left" valign="top">
			<a name="1324878"></a><p class="table">Improved the performance of JSP tags when using WebLogic Server 6.1 service pack 2 and the following three patches: <font face="Courier">CR065452A_610sp2.jar</font>, <font face="Courier">CR063457A_610sp2.jar</font>, and <font face="Courier">CR063829_610sp2.jar</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324880"></a><p class="table">073791</p>


		</td>
		<td align="left" valign="top">
			<a name="1324882"></a><p class="table">Fixed problems were customers were getting a <font face="Courier">NullPoinerException</font> in the <font face="Courier">ChunkUtils.getEnd</font> method after calling <font face="Courier">ServletOutputStreamImpl.write</font> from their servlet code.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324884"></a><p class="table">074265</p>


		</td>
		<td align="left" valign="top">
			<a name="1324886"></a><p class="table">The ServerMBean has a new attribute called <font face="Courier">MaxBackoffBetweenFailures</font>. The default is 10 seconds. Set this to change the time period in which the server listen thread will send a "Failed to listen on port" if it is still trying to accept the socket connection.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324888"></a><p class="table">074940</p>


		</td>
		<td align="left" valign="top">
			<a name="1324890"></a><p class="table">A <font face="Courier">NullPointerException</font> is no longer thrown when using the <font face="Courier">size</font> Cache Tag Attribute of the Cache Tag of the <font face="Courier">weblogic-tags.jar</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324892"></a><p class="table">075471</p>


		</td>
		<td align="left" valign="top">
			<a name="1324894"></a><p class="table">JRun tag libraries are working on WebLogic Server service pack 4.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324896"></a><p class="table">075721</p>


		</td>
		<td align="left" valign="top">
			<a name="1324898"></a><p class="table">The <font face="Courier">jsp:useBean</font> tag with the <font face="Courier">beanName</font> of <font face="Courier">TimeExpression</font> is no longer interpreted incorrectly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324900"></a><p class="table">076375</p>


		</td>
		<td align="left" valign="top">
			<a name="1324902"></a><p class="table"><font face="Courier">weblogic.log</font> and <font face="Courier">access.log</font> (HTTP Logs) will now be renamed based on the configuration of the log filename. Usage of % symbols in the logfile name will invoke the logic which renames log files based on the date/time when it gets rotated. The file being currently logged into will be the log filename stripped off its % symbols if they exist. Examples of valid formats: </p>

<a name="1324903"></a><p class="table"><font face="Courier">weblogic_%yyyyMMdd%_%HH%_%mm%.log foobar_%yyyy%-%MM%-%dd%_%HH%_%mm%.log </font></p>

<a name="1324904"></a><p class="table"><strong>Note:	</strong> Y (capital) does not represents anything in the SimpleDateFormat. Use lower case y (small) to represent the year. Invalid formats will fall back to WebLogic Server default log file names. A string enclosed between percentage signs (%) will be decoded based on SimpleDateFormat. This format applies to the filename, not the directories.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324906"></a><p class="table">077018</p>


		</td>
		<td align="left" valign="top">
			<a name="1324908"></a><p class="table">Prevented a <font face="Courier">ClassCastException</font> in <font face="Courier">ServletAuthentication</font> when using request/response wrappers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324910"></a><p class="table">077306</p>


		</td>
		<td align="left" valign="top">
			<a name="1324912"></a><p class="table">Temporary patches no longer cause recompilation of included (precompiled) JSP classes.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324914"></a><p class="table">077422</p>


		</td>
		<td align="left" valign="top">
			<a name="1324916"></a><p class="table">The <font face="Courier">CookieParser.cookieToString</font> creates the <font face="Courier">expires</font> cookie with a  <font face="Courier">SimpleDateFormat</font> that contains a comma, ','. The comma in the expires date is causing the cookie to be parsed incorrectly when it is returned in the request. The comma is interpreted as a cookie separator and breaks the parse of the expires date. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324918"></a><p class="table">077888</p>


		</td>
		<td align="left" valign="top">
			<a name="1324920"></a><p class="table"><font face="Courier">setCharacterEncoding</font> will now throw <font face="Courier">UnsupportedEncodingException</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324922"></a><p class="table">078090</p>


		</td>
		<td align="left" valign="top">
			<a name="1324924"></a><p class="table">According to the JSP specification, if you use <font face="Courier">jsp_precompile</font> in the request parameter, the container should compile the JSP (if not compiled), but must not display the JSP. Since WebLogic Server parses the query string and finds the <font face="Courier">jsp_precompile</font>, it was not displaying the page on the browser.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324926"></a><p class="table">078262</p>


		</td>
		<td align="left" valign="top">
			<a name="1324928"></a><p class="table">Added <font face="Courier">getResourcePaths(String)</font> to the <font face="Courier">ServletContext</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324930"></a><p class="table">078325</p>


		</td>
		<td align="left" valign="top">
			<a name="1324932"></a><p class="table">Fixed a problem that was resulting in an UnsupportedEncodingException if there were extra quotes around the charset value.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324934"></a><p class="table">078698</p>


		</td>
		<td align="left" valign="top">
			<a name="1324936"></a><p class="table">The <font face="Courier">access.log</font> file is now rotating by size when the log size exceeds 2MB.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324938"></a><p class="table">079582</p>


		</td>
		<td align="left" valign="top">
			<a name="1324940"></a><p class="table">WebLogic Server 6.1 service pack 3 threw a SocketException during data sync. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324942"></a><p class="table">079767</p>


		</td>
		<td align="left" valign="top">
			<a name="1324944"></a><p class="table">When redeploying EAR, WAR, or JAR files to WebLogic Server, with every redeployment of an application or component, the <font face="Courier">.wlnotdelete</font> directory of the managed server no longer increases in size.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324946"></a><p class="table">079892</p>


		</td>
		<td align="left" valign="top">
			<a name="1324948"></a><p class="table">The CPU usage no longer pegs to 100% while executing a CGI script and hitting the stop button in the middle.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324950"></a><p class="table">080090</p>


		</td>
		<td align="left" valign="top">
			<a name="1324952"></a><p class="table">When re-directing, the location header will always use the following parameters, if they are specified:</p>

<a name="1324953"></a><p class="table"><font face="Courier">FrontendHTTPPort<br>FrontEndHTTPSPort<br>FrontEndHost</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324955"></a><p class="table">080384</p>


		</td>
		<td align="left" valign="top">
			<a name="1324957"></a><p class="table">The HttpClusterServlet was marking a server as bad, even if just one response had been scrambled in the status code header. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324959"></a><p class="table">080751</p>


		</td>
		<td align="left" valign="top">
			<a name="1324961"></a><p class="table">Custom exceptions extending servlet exceptions will now be redirected to error page if configured.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324963"></a><p class="table">080791</p>


		</td>
		<td align="left" valign="top">
			<a name="1324965"></a><p class="table">Folded headers in the cluster/proxy servlets are now considered.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324967"></a><p class="table">080837</p>


		</td>
		<td align="left" valign="top">
			<a name="1324969"></a><p class="table">Added a new element in the weblogic.xml file:</p>

<a name="1324970"></a><p class="table">&lt;!--<br>The <font face="Courier">wl-dispatch-policy</font> can be used to assign the webapp to a configured execute queue by identifying the execute queue name. This webapp level param can be overridden at the individual servlet/jsp level. eg:<br><font face="Courier">&lt;servlet&gt; <br>...   <br>&lt;init-param&gt;<br>&lt;param-name&gt;wl-dispatch-policy&lt;/param-name&gt;<br>&lt;param-value&gt;CriticalAppQueue&lt;/param-value&gt;<br>&lt;/init-param&gt;<br>&lt;/servlet&gt;<br> --&gt;<br>&lt;!ELEMENT wl-dispatch-policy (#PCDATA)&gt;</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324972"></a><p class="table">081071</p>


		</td>
		<td align="left" valign="top">
			<a name="1324974"></a><p class="table">There is no longer a NullPointerException thrown at <font face="Courier">weblogic.servlet.internal.ServletContextManager.trimAbsUrl</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324976"></a><p class="table">081484</p>


		</td>
		<td align="left" valign="top">
			<a name="1324978"></a><p class="table">Session attributes are no longer lost when using the <font face="Courier">HttpSessionListener</font> with <font face="Courier">PersistentStoreType</font> as replicated but able to retrieve the session attributes when non-replicated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324980"></a><p class="table">081521</p>


		</td>
		<td align="left" valign="top">
			<a name="1324982"></a><p class="table">It is now possible to call a CGI script from a JSP.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324984"></a><p class="table">082156</p>


		</td>
		<td align="left" valign="top">
			<a name="1409714"></a><p class="table">isRequestedSessionIdValid() always returned the value, true, which means that the request session ID is valid, even if you changed the session ID in the URL.</p>

<a name="1324986"></a><p class="table">Invalid sessions are now correctly detected and reported as invalid.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324988"></a><p class="table">082238</p>


		</td>
		<td align="left" valign="top">
			<a name="1324990"></a><p class="table">CreateSessionServlet was checking for the existence of the Cache-Control header, setting it to a valid value if it exists, or adding it to the header list if it does not exist. In both cases,  it added another bogus header. This problem was fixed by setting <font face="Courier">CacheSessionCookie</font> to true in <font face="Courier">weblogic.xml</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324992"></a><p class="table">082310</p>


		</td>
		<td align="left" valign="top">
			<a name="1324994"></a><p class="table">JSPs with a page <font face="Courier">contentType</font> directive can now be deleted or overwritten in an exploded WAR file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1324996"></a><p class="table">082580</p>


		</td>
		<td align="left" valign="top">
			<a name="1324998"></a><p class="table">HTTP POST parameters were not preserved if a form-based authentication is invoked and authentication is successful when accessing a URL in WebLogic Server 6.1 service pack 3.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325000"></a><p class="table">082671</p>


		</td>
		<td align="left" valign="top">
			<a name="1325002"></a><p class="table">Made <font face="Courier">HttpSession.getServletContext()</font> public in the internal implementation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325004"></a><p class="table">083191</p>


		</td>
		<td align="left" valign="top">
			<a name="1325006"></a><p class="table">The console is no longer displaying incorrect values for Servlet Average Execution Time.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325008"></a><p class="table">083200</p>


		</td>
		<td align="left" valign="top">
			<a name="1325010"></a><p class="table">WebLogic Server is now filtering correctly with <font face="Courier">nonProxyHosts</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325012"></a><p class="table">083487</p>


		</td>
		<td align="left" valign="top">
			<a name="1325014"></a><p class="table"><font face="Courier">CGIServlet</font> now works with exact match <font face="Courier">&lt;url-pattern&gt;</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325016"></a><p class="table">083517</p>


		</td>
		<td align="left" valign="top">
			<a name="1325018"></a><p class="table"><font face="Courier">HttpClusterServlet</font> was not proxying a request to SSL even when <font face="Courier">SecureProxy</font> was ON. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325020"></a><p class="table">083597</p>


		</td>
		<td align="left" valign="top">
			<a name="1325022"></a><p class="table">In WebLogic Server 6.1 service pack 3, if the content type using the page directive is set as:<br><font face="Courier">&lt;%@ page contentType="text/html;charset=UTF-8" %&gt;<br></font>the content type was not set properly and the desired output was not obtained. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325024"></a><p class="table">083912</p>


		</td>
		<td align="left" valign="top">
			<a name="1325026"></a><p class="table">An ORA-01461 error no longer occurs while the server is trying to write the session data in the JDBC managed persistence when using the Oracle thin Driver.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325028"></a><p class="table">084002</p>


		</td>
		<td align="left" valign="top">
			<a name="1325030"></a><p class="table">When WebLogic Server returned an HTTP code 204, it set the Content-length to 886 with an HTML error page. Therefore, the load runner client was failing and generating an error stating that "204 responses codes should not have a body but the Content-length was set to 886 (with an HTML error page)". This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325032"></a><p class="table">084030</p>


		</td>
		<td align="left" valign="top">
			<a name="1325034"></a><p class="table">When an exploded web-app was shared by two servers, the generated tmp lib directory got deleted at the second server's start. The directory is no longer deleted.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325036"></a><p class="table">084058</p>


		</td>
		<td align="left" valign="top">
			<a name="1325038"></a><p class="table">The <font face="Courier">request.getUserPrincipal()</font> method was returning guest after <font face="Courier">ServletAuthentication.logout()</font>. Now, the <font face="Courier">getRemoteuser()</font> returns null.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325040"></a><p class="table">084536</p>


		</td>
		<td align="left" valign="top">
			<a name="1325042"></a><p class="table">Fixed a problem where the patch for CR083377 was causing problems with security and the SSL connection.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325044"></a><p class="table">084649</p>


		</td>
		<td align="left" valign="top">
			<a name="1325046"></a><p class="table">There are certain environment variables that a CGI server is expected to provide to scripts that run within it. <font face="Courier">SERVER_URL</font>, <font face="Courier">HTTP_COOKIE</font>, and <font face="Courier">QUERY_STRING</font>, which are present in Netscape's CGI server, were unavailable when running the same CGI program inside of WebLogic's CGI servlet. When a request was made for one of these variables, NULL was returned instead of a value. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325048"></a><p class="table">084785</p>


		</td>
		<td align="left" valign="top">
			<a name="1325050"></a><p class="table">The GenericProxyServlet can now handle wrapped responses.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325052"></a><p class="table">084847</p>


		</td>
		<td align="left" valign="top">
			<a name="1325054"></a><p class="table">For chunked transfer, WebLogic Server was including a hexadecimal number which other servlet engines used to ignore. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325056"></a><p class="table">085754</p>


		</td>
		<td align="left" valign="top">
			<a name="1325058"></a><p class="table">If newlines/comments were put in the intermediate JSP <font face="Courier">BEATestCase2.jsp</font>, when used with a request dispatcher, the client got a blank page. There was no exception thrown on the server side. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325060"></a><p class="table">086026</p>


		</td>
		<td align="left" valign="top">
			<a name="1325062"></a><p class="table">The parameter, CacheSessionCookie, used to default to false. Now, it defaults to true.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325064"></a><p class="table">086052</p>


		</td>
		<td align="left" valign="top">
			<a name="1325066"></a><p class="table">HTTPS connections outbound from WebLogic Server did not work without a trailing slash '/' on the URL. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325068"></a><p class="table">086280</p>


		</td>
		<td align="left" valign="top">
			<a name="1325070"></a><p class="table">There is no longer a <font face="Courier">NullPointerException</font> thrown when accessing a servlet over a Keep alive connection.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325072"></a><p class="table">086481</p>


		</td>
		<td align="left" valign="top">
			<a name="1325074"></a><p class="table">Fixed some problems when a web application downloads a larger file and the buffer overflows while reading the multi-part form data.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325076"></a><p class="table">088301</p>


		</td>
		<td align="left" valign="top">
			<a name="1325078"></a><p class="table">Fixed problem where an included resource was not sent to the servlet output stream when dispatched from another resource that was Forward dispatched inside a JSP BodyTag.</p>

<a name="1325079"></a><p class="table">NOTE: The nested BodyTag tag output stream was not being flushed since the forward dispatched request caused the tag to exit - but WebLogic still presumed the output should go to the Tag's nested output stream. This was resolved by clearing out reference to the BodyTag nested output stream when the Forward request was dispatched.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325081"></a><p class="table">CR089803</p>


		</td>
		<td align="left" valign="top">
			<a name="1410600"></a><p class="table">Duplicate of <a href="../notes/bugfixes2.html#CR090225">"CR090225"</a>. </p>

<a name="1325087"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-14.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA03-14.jsp</a>.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325168"></a><p class="head2">Security
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325092"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325094"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325096"></a><p class="table">058355</p>


		</td>
		<td align="left" valign="top">
			<a name="1325098"></a><p class="table">When a user called <font face="Courier">login()</font> on the <font face="Courier">LoginContext</font>, this call was directly mapped to the LoginModule's <font face="Courier">login()</font>, but the <font face="Courier">logout()</font> method was not implemented. Therefore, a call to this method could not be mapped to the LoginModule's <font face="Courier">logout()</font>. In WebLogic Server 6.1 service pack 4, <font face="Courier">LoginModule.logout()</font> is implemented.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325100"></a><p class="table">057950</p>


		</td>
		<td align="left" valign="top">
			<a name="1325102"></a><p class="table">For security reasons, the Random String field was removed from the Certificate Request Generator servlet. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325104"></a><p class="table">068729</p>


		</td>
		<td align="left" valign="top">
			<a name="1325106"></a><p class="table">The <font face="Courier">weblogic.security.SSL.SSLCertificate</font> class is now documented.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325108"></a><p class="table">075109</p>


		</td>
		<td align="left" valign="top">
			<a name="1325110"></a><p class="table"> LDAPRealV2 now caches memberships.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325112"></a><p class="table">075451</p>


		</td>
		<td align="left" valign="top">
			<a name="1325114"></a><p class="table">When trying to obtain an <font face="Courier">InitialContext</font> to a remote WebLogic Server from within a WebLogic Server, after making an SSL connection with <font face="Courier">weblogic.net.http.HttpsURLConnection</font>, an exception is no longer thrown.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325116"></a><p class="table">076783</p>


		</td>
		<td align="left" valign="top">
			<a name="1325118"></a><p class="table">Using the RDBMS realm, extra calls were being made. The caching realm is now fixed to avoid having these extra calls made.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325120"></a><p class="table">077233</p>


		</td>
		<td align="left" valign="top">
			<a name="1325122"></a><p class="table">The absolute path of SSL certificates is now given.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325124"></a><p class="table">077288</p>


		</td>
		<td align="left" valign="top">
			<a name="1325126"></a><p class="table">In WebLogic Server 6.1 SP02,  "=" is included in username when parsing CN for a user in a group. </p>

<a name="1325127"></a><p class="table">This problem was resolved by a correction to the lexing code in the LDAPRealmv2.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325129"></a><p class="table">077425</p>


		</td>
		<td align="left" valign="top">
			<a name="1325131"></a><p class="table">When a custom realm was used with a caching realm and the case insensitive cache was set to a default of true, the caching realm was throwing an error message, "Server cannot check in a case-insensitive way". This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325133"></a><p class="table">078893</p>


		</td>
		<td align="left" valign="top">
			<a name="1325135"></a><p class="table">If <font face="Courier">weblogic.management.password</font> is not blank, the custom login module never got called. For <font face="Courier">j_security_check</font> to use the JAAS loginmodule, it is necessary to use programatic authentication (<font face="Courier">servletauthentication.weak()</font>) in combination with JAAS loginmodule.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325137"></a><p class="table">079183</p>


		</td>
		<td align="left" valign="top">
			<a name="1325139"></a><p class="table">After calling <font face="Courier">weblogic.security.acl.ManageableRealm.setName</font>,  <font face="Courier">weblogic.security.acl.ManageableRealm.getAcl</font> no longer returns null.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325141"></a><p class="table">079364</p>


		</td>
		<td align="left" valign="top">
			<a name="1325143"></a><p class="table">deleteAcl was only working with the getACLOwner principal. This has been fixed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325145"></a><p class="table">079637</p>


		</td>
		<td align="left" valign="top">
			<a name="1325147"></a><p class="table">Added the pkpassfiile property to specify the name of the file containing the private key password.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325149"></a><p class="table">082003, 087419</p>


		</td>
		<td align="left" valign="top">
			<a name="1325151"></a><p class="table">Using an LDAP realm configured for Microsoft Active Directory Server, basic authentication was failing while form-based authentication worked fine. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325153"></a><p class="table">082098</p>


		</td>
		<td align="left" valign="top">
			<a name="1325155"></a><p class="table">Credentials are now used / verified against the remote server realm.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325157"></a><p class="table">083478</p>


		</td>
		<td align="left" valign="top">
			<a name="1325159"></a><p class="table">Even though the email is not required in the certificate form, <font face="Courier">EMAIL=</font> was appearing in the certificate. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325161"></a><p class="table">084166</p>


		</td>
		<td align="left" valign="top">
			<a name="1325163"></a><p class="table">Fixed the caching of delegate groups so that with a nested group there is improved server performance.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325165"></a><p class="table">087485</p>


		</td>
		<td align="left" valign="top">
			<a name="1325167"></a><p class="table">With WebLogic Server 6.1 SP03, LDAP was calling <font face="Courier">Group.isMember()</font> for every member of group. In this Service Pack we restored the original behavior of an LDAP realm: now if the <font face="Courier">groupmembershipcache</font> value is set to 0 then WebLogic checks the LDAP realm for group membership, thus preventing loading all members() if the group contains many members.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325267"></a><p class="head2">System Administration
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325172"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325174"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325176"></a><p class="table">059779</p>


		</td>
		<td align="left" valign="top">
			<a name="1325178"></a><p class="table">Data sources can now be bound to the same JNDI name on different servers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325180"></a><p class="table">062102</p>


		</td>
		<td align="left" valign="top">
			<a name="1325182"></a><p class="table">Applications are no longer copied to the managed servers upon startup if they do not need to be copied which results in increased disc space.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325184"></a><p class="table">063630</p>


		</td>
		<td align="left" valign="top">
			<a name="1325186"></a><p class="table">It is now possible deploy remaining applications to the managed servers upon a failed deployment.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325188"></a><p class="table">072833</p>


		</td>
		<td align="left" valign="top">
			<a name="1325190"></a><p class="table">When a managed server was configured from the admin console with the listenAddress field blank, WebLogic Server was allowing the multiple instances of this managed server with the same name to be run from different machines. This is no longer possible.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325192"></a><p class="table">074370</p>


		</td>
		<td align="left" valign="top">
			<a name="1325194"></a><p class="table">When using WebLogic Server 6.1 service pack 2,  a <font face="Courier">javax.management.AttributeNotFoundException</font> was being thrown when using the EJB descriptor editor in the admin console. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325196"></a><p class="table">074653</p>


		</td>
		<td align="left" valign="top">
			<a name="1325198"></a><p class="table">The Admin console Deployment Descriptor Editor now replaces "&amp;" with "&amp;amp;" when writing to memory/disk because "&amp;" is a special character which must be escaped as "&amp;amp;" in XML files.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325200"></a><p class="table">075949</p>


		</td>
		<td align="left" valign="top">
			<a name="1325202"></a><p class="table">Fixed a problem that was causing <font face="Courier">weblogic.deploy</font> to undeploy the JAR file immediately after deployment. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325204"></a><p class="table">076539</p>


		</td>
		<td align="left" valign="top">
			<a name="1325206"></a><p class="table">Web apps with <font face="Courier">load-on-startup</font> are now loaded in the correct order according to <font face="Courier">DeploymentOrder</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325208"></a><p class="table">078257</p>


		</td>
		<td align="left" valign="top">
			<a name="1325210"></a><p class="table">The admin server JNDI was not showing the managed servers' MBeanHome causing a <font face="Courier">NameNotFoundExceptions</font> to be thrown. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325212"></a><p class="table">079270</p>


		</td>
		<td align="left" valign="top">
			<a name="1325214"></a><p class="table">The application redeployment (delete &amp; deploy) operation was not always successful when some of the targeted managed servers were down. For example, the JNDI entries for EJB were not registered in running servers, or "Targets" attributes in the <font face="Courier">config.xml</font> file were lost because of a warning message. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325216"></a><p class="table">079455</p>


		</td>
		<td align="left" valign="top">
			<a name="1325218"></a><p class="table">A <font face="Courier">ConfigurationError</font> is no longer thrown upon deployment failures.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325220"></a><p class="table">079819</p>


		</td>
		<td align="left" valign="top">
			<a name="1325222"></a><p class="table">The time it takes managed servers to start up with a large number of deployed applications has been shortened.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325224"></a><p class="table">080016</p>


		</td>
		<td align="left" valign="top">
			<a name="1325226"></a><p class="table">There is no longer an error deploying an application while starting the admin server if the application targeted to the virtual host (which has been targeted to managed server) and the admin server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325228"></a><p class="table">080324</p>


		</td>
		<td align="left" valign="top">
			<a name="1325230"></a><p class="table">Exposed the <font face="Courier">setParent</font> method to a public API.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325232"></a><p class="table">080690</p>


		</td>
		<td align="left" valign="top">
			<a name="1325234"></a><p class="table">If the admin server was bounced and re-started, it re-established a connection to the managed server, but the JNDI tree did not show the managed servers. As a result, the application was getting a <font face="Courier">NameNotFoundExceptions</font>. It would only show up in the admin JNDI tree once the managed servers were re-started. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325236"></a><p class="table">080778</p>


		</td>
		<td align="left" valign="top">
			<a name="1325238"></a><p class="table">Turning on session monitoring no longer causes traffic to the admin server every time a new session is created.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325240"></a><p class="table">081736</p>


		</td>
		<td align="left" valign="top">
			<a name="1325242"></a><p class="table">After <font face="Courier">weblogic.Admin -help</font> prompts for a guest password, it no longer ignores the password.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325244"></a><p class="table">082765</p>


		</td>
		<td align="left" valign="top">
			<a name="1325246"></a><p class="table">When calling shutdown to shutdown a managed server, <font face="Courier">removeManagedHome</font> is also called to remove the managed server from the cache. Otherwise, needless RMI calls would be made when any other managed server boots causing startup delays.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325248"></a><p class="table">082910</p>


		</td>
		<td align="left" valign="top">
			<a name="1325250"></a><p class="table">It is now possible to remove a JDBC Connection Pool using MBeans when a customer MBean is registered from within an EAR file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325252"></a><p class="table">083400</p>


		</td>
		<td align="left" valign="top">
			<a name="1325254"></a><p class="table">There is no longer a <font face="Courier">StackOverflow</font> during managed server startup using T3s as the default protocol.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325256"></a><p class="table">084484</p>


		</td>
		<td align="left" valign="top">
			<a name="1325258"></a><p class="table">When starting a server from a directory other than the domain directory, the option <font face="Courier">-Dweblogic.RootDirectory=&lt;root directory&gt;</font> can be specified. If the start script is changed to go to the root directory, it would find the application, but the <font face="Courier">config.xml</font> path got modified to be an absolute path with the <font face="Courier">RootDirectory</font> appended. The <font face="Courier">config.xml</font> path no longer gets changed to an absolute path.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325260"></a><p class="table">084740</p>


		</td>
		<td align="left" valign="top">
			<a name="1325262"></a><p class="table">When deploying an application on a cluster using <font face="Courier">weblogic.deploy</font>, the deployment was not effective until the server was restarted. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325264"></a><p class="table">086235</p>


		</td>
		<td align="left" valign="top">
			<a name="1325266"></a><p class="table">When trying to get the server version out of the <font face="Courier">ServerRuntimeMBean.getWeblogicVersion</font> method, only the version info for the patch that was the first in the classpath was returned. In WebLogic Server 6.1 service pack 4, the whole version information is returned by the <font face="Courier">weblogic.Admin</font> command.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325291"></a><p class="head2">Web Services
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325270"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325272"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325274"></a><p class="table">076510</p>


		</td>
		<td align="left" valign="top">
			<a name="1325276"></a><p class="table">When there was a webservice that had a method that received a String as a parameter that is actually an XML document with CDATA sections, after invoking the method, the following response was sent:</p>

<a name="1325277"></a><p class="table"><font face="Courier">weblogic.soap.SoapFault: Connector - Bad request to the server.</font></p>

<a name="1325278"></a><p class="table">This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325280"></a><p class="table">082661</p>


		</td>
		<td align="left" valign="top">
			<a name="1325282"></a><p class="table">Now, <font face="Courier">wsgen</font> handles an extra classpath.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325284"></a><p class="table">084960</p>


		</td>
		<td align="left" valign="top">
			<a name="1325286"></a><p class="table">Fixed a problem using the <font face="Courier">URLConnection</font> method to make an HTTP connection to a Web Service. Weblogic overrides <font face="Courier">java.net.HttpURLConnection</font> with its own version which will throw an exception from the <font face="Courier">getInputStream</font> method if a status code is greater than 400. When the exception is thrown there is no way for the WebService client to retrieve the input stream, and thus the HTTP SOAP Binding is broken.  If you have this problem, set the new command line option <font face="Courier">-Dweblogic.net.http.ignore500status</font> to true.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325288"></a><p class="table">085214</p>


		</td>
		<td align="left" valign="top">
			<a name="1325290"></a><p class="table">Fixed a problem that occurred with webservices when he passing dates as parameters. A <font face="Courier">java.lang.IllegalArgumentException</font> is no longer being thrown.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325303"></a><p class="head2">WebLogic Tuxedo
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325294"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325296"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325299"></a><p class="table"><a name="077553"></a>077553</p>


		</td>
		<td align="left" valign="top">
			<a name="1325301"></a><p class="table">Integer array object passed by value from Tuxedo to WebLogic Server threw a <font face="Courier">weblogic.utils.AssertionError</font>.</p>

<a name="1325302"></a><p class="table">The problem was resolved with a code fix. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325327"></a><p class="head2">XML
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325306"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325308"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325310"></a><p class="table">080756</p>


		</td>
		<td align="left" valign="top">
			<a name="1325312"></a><p class="table">When converting Japanese characters by using the built-in XSLT processor, the characters got changed into the unexpected code. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325314"></a><p class="table">080961</p>


		</td>
		<td align="left" valign="top">
			<a name="1325316"></a><p class="table">Fixed a Xerces 1.3.1 bug in <font face="Courier">org.xml.sax.helpers.AttributesImpl.removeAttribute()</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325318"></a><p class="table">081372</p>


		</td>
		<td align="left" valign="top">
			<a name="1325320"></a><p class="table"><font face="Courier">DocumentBuilder.parse()</font> is no longer multi-thread unsafe when input encoding is 'Unicode'.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325322"></a><p class="table">081870</p>


		</td>
		<td align="left" valign="top">
			<a name="1325324"></a><p class="table">When the XSLT output method was set to HTML (required):</p>

<a name="1325325"></a><p class="table"><font face="Courier">&lt;xsl:output method="html"/&gt;</font></p>

<a name="1325326"></a><p class="table">the spaces in HREF attributes in anchor tags were encoded to "%20". Netscape failed to interpret the "%20" as a space, breaking the link. This has been fixed.</p>


		</td>

	</tr>

</table>


</center>
</p>

<p>&nbsp;</p>
<hr noshade>
<a name="1325330"></a><p class="head1">WebLogic S<a name="SP3"></a>erver 6.1 Service Pack 3 Solutions</p>

<a name="1325331"></a><p>The following sections describe problems that were resolved for the release of WebLogic Server 6.1 Service Pack 3.</p>


<ul type="disc">
<ul type="disc">

<a name="1325335"></a><p><li type="disc"><a href="bugfixes2.html#1325427">Classloader</a>


<a name="1325339"></a><p><li type="disc"><a href="bugfixes2.html#1325458">Cluster</a>


<a name="1325343"></a><p><li type="disc"><a href="bugfixes2.html#1325553">Console</a>


<a name="1325347"></a><p><li type="disc"><a href="bugfixes2.html#1325778">EJB</a>


<a name="1325351"></a><p><li type="disc"><a href="bugfixes2.html#1325827">Examples</a>


<a name="1325355"></a><p><li type="disc"><a href="bugfixes2.html#1325900">JDBC</a>


<a name="1325359"></a><p><li type="disc"><a href="bugfixes2.html#1325942">jDriver</a>


<a name="1325363"></a><p><li type="disc"><a href="bugfixes2.html#1326005">JMS</a>


<a name="1325367"></a><p><li type="disc"><a href="bugfixes2.html#1326052">JTA</a>


<a name="1325371"></a><p><li type="disc"><a href="bugfixes2.html#1326406">Miscellaneous</a>


<a name="1325375"></a><p><li type="disc"><a href="bugfixes2.html#1326597">Plug-Ins</a>


<a name="1325379"></a><p><li type="disc"><a href="bugfixes2.html#1326632">RMI over IIOP</a>


<a name="1325383"></a><p><li type="disc"><a href="bugfixes2.html#1326741">Security</a>


<a name="1325387"></a><p><li type="disc"><a href="bugfixes2.html#1327137">Servlets, JSPs and Web Applications</a>


<a name="1325391"></a><p><li type="disc"><a href="bugfixes2.html#1327272">System Administration</a>


<a name="1325395"></a><p><li type="disc"><a href="bugfixes2.html#1327320">Web Services</a>


<a name="1325399"></a><p><li type="disc"><a href="bugfixes2.html#1327352">WebLogic Tuxedo Connector</a>


<a name="1325403"></a><p><li type="disc"><a href="bugfixes2.html#1327395">XML</a>

</ul>
</ul>
<a name="1325427"></a><p class="head2">Classloader
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325408"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325410"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325412"></a><p class="table">063742</p>


		</td>
		<td align="left" valign="top">
			<a name="1325414"></a><p class="table">There was a <font face="Courier">java.lang.VerifyError</font> thrown during skeleton generation for the Remote interface of Entity bean. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325416"></a><p class="table">064273</p>


		</td>
		<td align="left" valign="top">
			<a name="1325418"></a><p class="table">In the Classloader, <font face="Courier">weblogic.utils.classloaders.GenericClassLoader</font>, the <font face="Courier">definePackage()</font> method now sets the package information according to the manifest.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325420"></a><p class="table">069506</p>


		</td>
		<td align="left" valign="top">
			<a name="1325422"></a><p class="table"><font face="Courier">ClassLoader.getResources</font> is now working when trying to access an XML file which is in the Class-Path: entry of the EJB's manifest file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325424"></a><p class="table">075553</p>


		</td>
		<td align="left" valign="top">
			<a name="1325426"></a><p class="table">Fixed a memory leak that was occurring because the core classloader was being stored unnecessarily.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325458"></a><p class="head2">Cluster
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325431"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325433"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325435"></a><p class="table">072281</p>


		</td>
		<td align="left" valign="top">
			<a name="1325437"></a><p class="table"><font face="Courier">HttpClusterServlet</font> now works properly when <font face="Courier">WAPEnabled=true</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325439"></a><p class="table">072464</p>


		</td>
		<td align="left" valign="top">
			<a name="1325441"></a><p class="table">A <font face="Courier">NullPointerException</font> no longer occurs during failover using SFSB handles created within the server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325443"></a><p class="table">073917</p>


		</td>
		<td align="left" valign="top">
			<a name="1325445"></a><p class="table"><font face="Courier">NoSuchObjectException</font> was being thrown on failover from SFSB's handles in a cluster. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325447"></a><p class="table">073920</p>


		</td>
		<td align="left" valign="top">
			<a name="1325449"></a><p class="table">The Execute Queue length doesn't appear in the console and this functionality is not implemented with WebLogic Server 6.1.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325451"></a><p class="table">074058</p>


		</td>
		<td align="left" valign="top">
			<a name="1325453"></a><p class="table">When using the IP name instead of the DNS name for the <font face="Courier">WebLogicCluster</font> parameter, the secondary was marked NONE if the primary went down. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325455"></a><p class="table">074236</p>


		</td>
		<td align="left" valign="top">
			<a name="1325457"></a><p class="table">Added the attribute, <font face="Courier">MemberWarmupTimeoutSeconds</font>, to <font face="Courier">ClusterMBean</font>.The default value is 0 which results in no cluster warm-up. By default, the cluster start-up sequence remains unchanged. If a value &gt; 0 is set, the cluster members wait for that period of time to synchronize with other members during start-up. All <font face="Courier">MessageDriven Beans</font> are deployed after the warm-up time. Only then do we start accepting client requests. There is no separate property for delayed <font face="Courier">MessageDriven Bean</font> deployment. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325553"></a><p class="head2">Console
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325462"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325464"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325466"></a><p class="table">051136</p>


		</td>
		<td align="left" valign="top">
			<a name="1325468"></a><p class="table">Broken monitoring link removed from the console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325470"></a><p class="table">055821</p>


		</td>
		<td align="left" valign="top">
			<a name="1325472"></a><p class="table">Forced the Public ID to be non-null for editing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325474"></a><p class="table">056161</p>


		</td>
		<td align="left" valign="top">
			<a name="1325476"></a><p class="table">Using the console EJB runtime monitoring customization, it is now possible to view the machine on which the EJB is deployed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325478"></a><p class="table">058271</p>


		</td>
		<td align="left" valign="top">
			<a name="1325480"></a><p class="table">Using the console to modify the deployment descriptor no longer changes the bean's manifest file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325482"></a><p class="table">059784</p>


		</td>
		<td align="left" valign="top">
			<a name="1325484"></a><p class="table"><font face="Courier">wls_management_internal{1,2}</font> is no longer selectable as a <font face="Courier">DefaultWebApp</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325486"></a><p class="table">059963</p>


		</td>
		<td align="left" valign="top">
			<a name="1325488"></a><p class="table">Added Max Open Sock Count to server-&gt;config screen in the console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325490"></a><p class="table">060116</p>


		</td>
		<td align="left" valign="top">
			<a name="1325492"></a><p class="table">The admin console no longer displays the Automatic Deployment checkbox when you startup WebLogic Server in production mode.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325494"></a><p class="table">061664</p>


		</td>
		<td align="left" valign="top">
			<a name="1325496"></a><p class="table">The server shutdown message is now correctly displayed using a Netscape browser.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325498"></a><p class="table">061686</p>


		</td>
		<td align="left" valign="top">
			<a name="1325500"></a><p class="table">Fixed broken deployment descriptor help links.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325502"></a><p class="table">061838</p>


		</td>
		<td align="left" valign="top">
			<a name="1325504"></a><p class="table">It is now possible to start the managed server without restarting the admin server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325506"></a><p class="table">062020</p>


		</td>
		<td align="left" valign="top">
			<a name="1325508"></a><p class="table">The console XML editor is now aware of <font face="Courier">&lt;validate-db-schema-with&gt;</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325510"></a><p class="table">062788</p>


		</td>
		<td align="left" valign="top">
			<a name="1325512"></a><p class="table">Fixed the Netscape default value for the refresh button so that a page in the security console was not re-appearing every time you clicked the OK button.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325514"></a><p class="table">062991</p>


		</td>
		<td align="left" valign="top">
			<a name="1325516"></a><p class="table">Added information to the console help files to explain how to set up the five fields for using Node Manager to remotely start the managed server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325518"></a><p class="table">063543</p>


		</td>
		<td align="left" valign="top">
			<a name="1325520"></a><p class="table">The <font face="Courier">ConsoleMainAttribute</font> for servlet monitoring in the console is now enabled.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325522"></a><p class="table">064849</p>


		</td>
		<td align="left" valign="top">
			<a name="1325524"></a><p class="table">Modified the <font face="Courier">weblogic.xml</font> descriptor editor to handle the <font face="Courier">PersistentStoreTable</font> parameter.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325526"></a><p class="table">067101 &amp; 073625</p>


		</td>
		<td align="left" valign="top">
			<a name="1325528"></a><p class="table">Remote context viewing the local JNDI tree via the console is now possible.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325530"></a><p class="table">067362</p>


		</td>
		<td align="left" valign="top">
			<a name="1325532"></a><p class="table">The console no longer references the wrong login timeout attribute.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325534"></a><p class="table">070018</p>


		</td>
		<td align="left" valign="top">
			<a name="1325536"></a><p class="table">Start Default Console no longer fails when default browser is Netscape 6.2.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325538"></a><p class="table">072909</p>


		</td>
		<td align="left" valign="top">
			<a name="1325540"></a><p class="table">The correct JMS pool name is now displayed in the runtime table.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325542"></a><p class="table">073536</p>


		</td>
		<td align="left" valign="top">
			<a name="1325544"></a><p class="table">The console now has a check box that allows for optional mutual authentication.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325546"></a><p class="table">074693</p>


		</td>
		<td align="left" valign="top">
			<a name="1325548"></a><p class="table">The link used to save realm implementation changes is now more explicit.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325550"></a><p class="table">075338</p>


		</td>
		<td align="left" valign="top">
			<a name="1325552"></a><p class="table">The console now displays the correct information during monitoring of a Web Application.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325566"></a><p class="head2">Core
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325556"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325558"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325560"></a><p class="table">CR073529</p>


		</td>
		<td align="left" valign="top">
			<a name="1325565"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-20.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-20.jsp</a>.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325778"></a><p class="head2">EJB
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325570"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325572"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325574"></a><p class="table">047305</p>


		</td>
		<td align="left" valign="top">
			<a name="1325576"></a><p class="table">Fixed an error in the <font face="Courier">TxCommits</font> value in Console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325578"></a><p class="table">054789</p>


		</td>
		<td align="left" valign="top">
			<a name="1325580"></a><p class="table">The message-driven bean no longer throws a <font face="Courier">NoSuchElementException</font> and the message listener is no longer being removed from the list before the listener was finished processing it. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325582"></a><p class="table">056081</p>


		</td>
		<td align="left" valign="top">
			<a name="1325584"></a><p class="table">Deployment of EAR stops short of setting component target.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325586"></a><p class="table">057608</p>


		</td>
		<td align="left" valign="top">
			<a name="1325588"></a><p class="table">Now able to save more than 4K of data with CMP beans.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325590"></a><p class="table">059045</p>


		</td>
		<td align="left" valign="top">
			<a name="1325592"></a><p class="table"><font face="Courier">run-as</font> works in <font face="Courier">ejbCreate()</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325594"></a><p class="table">059250</p>


		</td>
		<td align="left" valign="top">
			<a name="1325596"></a><p class="table">A <font face="Courier">NullPointerException</font> no longer occurs in ejbc when the persistence element is missing in WLDD.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325598"></a><p class="table">060720</p>


		</td>
		<td align="left" valign="top">
			<a name="1325600"></a><p class="table">In 6.1 service pack 2, if you are using Blob/Clob, you have to set <font face="Courier">&lt;isolation-level&gt;</font> to <font face="Courier">TRANSACTION_READ_COMMITTED_FOR_UPDATE</font>. Otherwise, you will get the following exception:<br><font face="Courier">java.io.IOException: ORA-22920: row containing the LOB value is not locked<br></font>If this happens, when using Blob/Clob, the container will lock all the tables within the transaction. In 6.1 service pack 3, you don't need to set <font face="Courier">&lt;isolation-level&gt;</font> to <font face="Courier">TRANSACTION_READ_COMMITTED_FOR_UPDATE</font> anymore. The container will only lock the table that contains the Blob/Clob, and the other table within the transaction will not be locked. This make Blob/Clob much easier to use.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325602"></a><p class="table">060738</p>


		</td>
		<td align="left" valign="top">
			<a name="1325604"></a><p class="table">Multiple phantom message-driven bean connections are no longer created without new corresponding sessions being added to the list after a JMS client reconnects to a restarted JMS server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325606"></a><p class="table">060867</p>


		</td>
		<td align="left" valign="top">
			<a name="1325608"></a><p class="table">EJB2.0 deployer no longer throws <font face="Courier">AssertionError</font> when <font face="Courier">RemoteMethod</font> name starts with 'find'.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325610"></a><p class="table">061700</p>


		</td>
		<td align="left" valign="top">
			<a name="1325612"></a><p class="table">Some identifiers in generated SQL Query were missing quoted identifier escape which may have caused the generated EJB CMP SQL to fail to escape the Quoted Identifiers. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325614"></a><p class="table">062256</p>


		</td>
		<td align="left" valign="top">
			<a name="1325616"></a><p class="table">The <font face="Courier">-c</font> flag in DDConverter now converts the input JAR files into ejb20 and combines the JAR files. DDConverter would not work with the destination JAR file specified as follows: <font face="Courier">java weblogic.ejb20.utils.DDConverter *****-c new.jar***** -d . convert.jar</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325618"></a><p class="table">062481</p>


		</td>
		<td align="left" valign="top">
			<a name="1325620"></a><p class="table">Added an attribute in <font face="Courier">weblogic-ejb-jar.xml</font> to indicate if EJB is collocated with web tier.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325622"></a><p class="table">062518</p>


		</td>
		<td align="left" valign="top">
			<a name="1325624"></a><p class="table">DDConverter no longer throws an exception when it encounters a <font face="Courier">findAll</font> finder query.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325626"></a><p class="table">062626</p>


		</td>
		<td align="left" valign="top">
			<a name="1325628"></a><p class="table">An empty <font face="Courier">ejb-ql</font> tag is now allowed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325630"></a><p class="table">062676</p>


		</td>
		<td align="left" valign="top">
			<a name="1325632"></a><p class="table">Load-balancing of Stateless EJBs in a cluster no longer fails for random load algorithm.  The deployment element <font face="Courier">home-is-clusterable</font> can be defined for stateless session beans in <font face="Courier">weblogic-ejb-jar.xml</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325634"></a><p class="table">062916</p>


		</td>
		<td align="left" valign="top">
			<a name="1325636"></a><p class="table">In 6.1 service pack 2, a caller's transaction was not being resumed after a transaction started on the server completed. When this happened, the caller's transaction would never complete. This problem would only occur when a remove method that had a transaction attribute that would cause the client's transaction to be suspended was called on an <font face="Courier">EntityBean</font> in a transaction and a new transaction was started on the server to service the call. Transaction attributes that cause this behavior are <font face="Courier">NotSupported</font> and <font face="Courier">RequiresNew</font>. In 6.1 service pack 3, a caller's transaction is being resumed after a transaction started on the server completes.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325638"></a><p class="table">062974</p>


		</td>
		<td align="left" valign="top">
			<a name="1325640"></a><p class="table">When a single-digit finder was defined on a 1.1 CMP bean, it did not throw a <font face="Courier">FinderException</font> when more than one result was returned from the query. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325642"></a><p class="table">063077</p>


		</td>
		<td align="left" valign="top">
			<a name="1325644"></a><p class="table">The transaction time out attribute in <font face="Courier">weblogic-ejb-jar.xml</font> now works.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325646"></a><p class="table">063146</p>


		</td>
		<td align="left" valign="top">
			<a name="1325648"></a><p class="table">When a BMP EJB's concurrency strategy was set to Exclusive and the transaction attribute was set to NonSupported, a different instance was assigned when the transaction timeout threshold was met. This has been fixed. In addition, a remote exception is no longer being thrown when the local transaction is rolled back.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325650"></a><p class="table">063387</p>


		</td>
		<td align="left" valign="top">
			<a name="1325652"></a><p class="table">WebLogic Server no longer fails to clear a lock on an entity bean after a deadlock situation. The waiters in the <font face="Courier">LockManager</font> are now being cleared.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325654"></a><p class="table">063469</p>


		</td>
		<td align="left" valign="top">
			<a name="1325656"></a><p class="table">A <font face="Courier">NullPointerException</font> is no longer thrown while creating CMP EJB relations.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325658"></a><p class="table">064293</p>


		</td>
		<td align="left" valign="top">
			<a name="1325660"></a><p class="table"><font face="Courier">ExclusiveLockManager</font> is now removing waiters from the list even if the waiter happens to be <font face="Courier">TimedOut</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325662"></a><p class="table">064425</p>


		</td>
		<td align="left" valign="top">
			<a name="1325664"></a><p class="table">Each <font face="Courier">ejbHomeMethod</font> call was creating a new bean instance instead of utilizing pooled bean instances. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325666"></a><p class="table">064447</p>


		</td>
		<td align="left" valign="top">
			<a name="1325668"></a><p class="table">When decoding an EJB object handle from a cookie, an <font face="Courier">InvalidClassException</font> is no longer being thrown.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325670"></a><p class="table">064561</p>


		</td>
		<td align="left" valign="top">
			<a name="1325672"></a><p class="table">When <font face="Courier">&lt;finders-load-bean&gt;=false</font>, new bean instances were being created disregarding pooled instances. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325674"></a><p class="table">064625</p>


		</td>
		<td align="left" valign="top">
			<a name="1325676"></a><p class="table">No longer getting 'local interface must not include <font face="Courier">java.rmi.RemoteException</font> in its throws clause' from the JDBC when this should not be gotten.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325678"></a><p class="table">064967</p>


		</td>
		<td align="left" valign="top">
			<a name="1325680"></a><p class="table">The ejbc no longer fails due to empty strings environment variables.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325682"></a><p class="table">064969</p>


		</td>
		<td align="left" valign="top">
			<a name="1325684"></a><p class="table">The DDConverter now generates correct assembly descriptors.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325686"></a><p class="table">065092</p>


		</td>
		<td align="left" valign="top">
			<a name="1325688"></a><p class="table">For EJB1.1 beans in 6.1 service pack 2, in a single transaction if the persistent field of a bean is changed and then a finder is invoked which returns the same bean, the new value of persistence field is overwritten by the value retrieved from the database. In 6.1 service pack 3, changes made to the <font face="Courier">EntityBean</font> are no longer lost in the middle of a transaction.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325690"></a><p class="table">065290</p>


		</td>
		<td align="left" valign="top">
			<a name="1325692"></a><p class="table">EJBC/RMIC generates XML descriptors with <font face="Courier">clusterable=true</font> even for beans for which clusterable is false.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325694"></a><p class="table">065321</p>


		</td>
		<td align="left" valign="top">
			<a name="1325696"></a><p class="table">Fixed a locking issue with an entity bean.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325698"></a><p class="table">065571</p>


		</td>
		<td align="left" valign="top">
			<a name="1325700"></a><p class="table">When the entity bean didn't have a create method, DDinit was not generating the Descriptor files. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325702"></a><p class="table">066245</p>


		</td>
		<td align="left" valign="top">
			<a name="1325704"></a><p class="table">The <font face="Courier">ctx.getCallerPrincipal</font> no longer returns run-as principal.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325706"></a><p class="table">066644</p>


		</td>
		<td align="left" valign="top">
			<a name="1325708"></a><p class="table">A JMS message-driven bean and Queue with persistent file store was carrying over the transaction context in <font face="Courier">onMessage</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325710"></a><p class="table">067018</p>


		</td>
		<td align="left" valign="top">
			<a name="1325712"></a><p class="table">Calling <font face="Courier">EntityContext.getEJBLocalHome</font> from the home method was throwing an <font face="Courier">IllegalStateException</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325714"></a><p class="table">067515</p>


		</td>
		<td align="left" valign="top">
			<a name="1325716"></a><p class="table">When invoking a JSP during 5.1/6.1 interoperability testing, the first time succeeded and the second time produced an error. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325718"></a><p class="table">068262</p>


		</td>
		<td align="left" valign="top">
			<a name="1325720"></a><p class="table">For EJB1.1 beans we were using <font face="Courier">setBytes</font> to insert a value into a LONG column. This failed when the data was larger then 4K. We are using <font face="Courier">setBinaryStream</font> now, which avoids causing the following exception:<br><font face="Courier">ejbCreate(): java.sql.SQLException: ORA-01461</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325722"></a><p class="table">068569</p>


		</td>
		<td align="left" valign="top">
			<a name="1325724"></a><p class="table">A <font face="Courier">tmp_ejb</font> directory was being created even if not using server-side ejbc. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325726"></a><p class="table">068971</p>


		</td>
		<td align="left" valign="top">
			<a name="1325728"></a><p class="table">The ejbc no longer generates JDBC code for CMP EJBs with deprecated methods.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325730"></a><p class="table">069280</p>


		</td>
		<td align="left" valign="top">
			<a name="1325732"></a><p class="table">An Illegal Reentrant Error is no longer incorrectly thrown by WebLogic Server during concurrent client calls to an entity bean.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325734"></a><p class="table">069391</p>


		</td>
		<td align="left" valign="top">
			<a name="1325736"></a><p class="table">Fixed the CMP Manager <font face="Courier">cascadeDeleteRemove</font> which was broken for CMP Partners.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325738"></a><p class="table">070099</p>


		</td>
		<td align="left" valign="top">
			<a name="1325740"></a><p class="table">DDConverter fixed to generate the method-permission tags.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325742"></a><p class="table">070565</p>


		</td>
		<td align="left" valign="top">
			<a name="1325744"></a><p class="table">Added a property to <font face="Courier">weblogic-ejb-jar.xml</font>, called "clients-on-same-server", to indicate that the EJB is collocated with the web tier. This is a performance fix, designed to reduce multicast traffic. The default is false.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325746"></a><p class="table">070754</p>


		</td>
		<td align="left" valign="top">
			<a name="1325748"></a><p class="table">In 6.1 service pack 2, <font face="Courier">afterCompletion</font> was being invoked on a StatefulSession bean while the bean method was still busy processing. This behavior is counter to the EJB 2.0 specification. In 6.1 service pack 3, serializing Business methods and EJB Callbacks are being invoked which means that <font face="Courier">afterCompletion</font> will not be invoked on a StatefulSession bean until the bean method has completed processing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325750"></a><p class="table">071027</p>


		</td>
		<td align="left" valign="top">
			<a name="1325752"></a><p class="table">Previously, the container checked for the CMP table by firing an SQL query (select * from tableName where 1=0). This way of checking is not efficient in the case of  DB2 where the query generates a full table scan and is very slow if table has a lot of data. The container now provides an option to check the table using <font face="Courier">DatabaseMetadata</font>. Although usually slower than checking using an SQL query, this way works well for DB2. See the <font face="Courier">&lt;validate-db-schema-with&gt;</font> tag in the <font face="Courier">weblogic-rdbms-jar.xml</font> file for more information.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325754"></a><p class="table">071296</p>


		</td>
		<td align="left" valign="top">
			<a name="1325756"></a><p class="table">When doing an <font face="Courier">ejbCreate()</font> on an entity bean ( EJB 2.0 ), a <font face="Courier">java.lang.IllegalStateException</font> was being thrown. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325758"></a><p class="table">071377</p>


		</td>
		<td align="left" valign="top">
			<a name="1325760"></a><p class="table">Now WebLogic Server supports the ability to generate the EJB QL extension <font face="Courier">? IS [NOT] NULL</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325762"></a><p class="table">074710</p>


		</td>
		<td align="left" valign="top">
			<a name="1325764"></a><p class="table">An error no longer occurs while running a stateful session bean in a cluster. When a stateful session bean was passivated, the remote entry was removed and when the bean was activated, the remote entry was not returned, resulting in a <font face="Courier">NullPointerException</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325766"></a><p class="table">075867</p>


		</td>
		<td align="left" valign="top">
			<a name="1325768"></a><p class="table">Message-driven beans deployed on WebLogic Sever had a problem re-establishing a connection to an MQSeries JMS server. Extra connections were created because of the number of triggers scheduled. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325770"></a><p class="table">076167</p>


		</td>
		<td align="left" valign="top">
			<a name="1325772"></a><p class="table">In 6.1 service pack 2, if an <font face="Courier">SQLException</font> was thrown in <font face="Courier">ejbLoad</font> of a read-only bean, the caller's (global) transaction was not being resumed. In 6.1service pack 3, it is being resumed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325774"></a><p class="table">078147</p>


		</td>
		<td align="left" valign="top">
			<a name="1325776"></a><p class="table">Fixed a problem that was causing the following exception when using an EJB11/ CMP11 bean:</p>

<a name="1325777"></a><p class="table">Exception in <font face="Courier">ejbCreate(): java.sql.SQLException: ORA-01461:</font> can bind a LONG value only for insert into a LONG column</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325827"></a><p class="head2">Examples
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325782"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325784"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325786"></a><p class="table">048185</p>


		</td>
		<td align="left" valign="top">
			<a name="1325788"></a><p class="table">The ACL example is now documented with the client example.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325790"></a><p class="table">053467</p>


		</td>
		<td align="left" valign="top">
			<a name="1325792"></a><p class="table">The second compilation of the <font face="Courier">i18n.logging.message</font> directory no longer gives errors.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325794"></a><p class="table">056884</p>


		</td>
		<td align="left" valign="top">
			<a name="1325796"></a><p class="table">Fixed an error in the instructions for an example.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325798"></a><p class="table">057904</p>


		</td>
		<td align="left" valign="top">
			<a name="1325800"></a><p class="table">Changing the connection pool is now mentioned in <font face="Courier">petstore.html</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325803"></a><p class="table"><a name="062545"></a>062545</p>


		</td>
		<td align="left" valign="top">
			<a name="1325805"></a><p class="table">A WebLogic Server domain running Solaris <font face="Courier">simpappcns</font> could not call a Tuxedo Corba Server domain running on NT.</p>

<a name="1325806"></a><p class="table"><font face="Courier">simpappcns</font> now works for multi-platform environments, for instance, Tuxedo running on Solaris, and WebLogic Server running on Windows NT.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325808"></a><p class="table">062962</p>


		</td>
		<td align="left" valign="top">
			<a name="1325810"></a><p class="table">The username/password authentication in the JAAS example now works on a UNIX environment using the <font face="Courier">CertLoginModule</font> .</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325812"></a><p class="table">062999</p>


		</td>
		<td align="left" valign="top">
			<a name="1325814"></a><p class="table">Fixed a problem that was occurring when establishing a WLEC connection between WebLogic Server and Tuxedo. The WLEC <font face="Courier">simpapp</font> example now connects to Tuxedo service.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325816"></a><p class="table">063229</p>


		</td>
		<td align="left" valign="top">
			<a name="1325818"></a><p class="table">Made improvements on <font face="Courier">examples/iiop/ejb/stateless/server/tux</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325820"></a><p class="table">071478</p>


		</td>
		<td align="left" valign="top">
			<a name="1325822"></a><p class="table">JMS Draw demo example is no longer broken with unique windows. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325824"></a><p class="table">077055</p>


		</td>
		<td align="left" valign="top">
			<a name="1325826"></a><p class="table">Fixed a problem that was causing the Petstore server to begin with an error making it impossible to deploy Petstore.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325900"></a><p class="head2">JDBC
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325831"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325833"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325835"></a><p class="table">052393</p>


		</td>
		<td align="left" valign="top">
			<a name="1325837"></a><p class="table">Updated the thin driver so that it does not have an error in JDBC session persistence while putting <font face="Courier">StringBuffer</font> object.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325839"></a><p class="table">054864</p>


		</td>
		<td align="left" valign="top">
			<a name="1325841"></a><p class="table">In 6.1 service pack 2 the server was hanging when using MultiPool with more than one database under heavy load. The MultiPool request would hang because the database was not responding which resulted in the whole server locking up at weblogic.jdbc.common.internal.MultiPool.searchHighAvail(MultiPool.java:200).The cause was over-synchronization in the code which has been fixed in 6.1 service pack 3.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325843"></a><p class="table">057340</p>


		</td>
		<td align="left" valign="top">
			<a name="1325845"></a><p class="table">When a connection pool is empty, the message now says "No available connections in pool."</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325847"></a><p class="table">057977</p>


		</td>
		<td align="left" valign="top">
			<a name="1325849"></a><p class="table">Connection pool does not rollback anymore on cleaning up JTS connections</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325851"></a><p class="table">059020</p>


		</td>
		<td align="left" valign="top">
			<a name="1325853"></a><p class="table">Deadlock no longer occurs if <font face="Courier">weblogic.jdbc.common.pool.shutdownSoft()</font> is called when the connection pool is used by another user.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325855"></a><p class="table">061786</p>


		</td>
		<td align="left" valign="top">
			<a name="1325857"></a><p class="table"><font face="Courier">CREATE_POOL</font> now fires the connection pool just after <font face="Courier">DESTROY_POOL.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325859"></a><p class="table">064198</p>


		</td>
		<td align="left" valign="top">
			<a name="1325861"></a><p class="table">Several classes were directly referencing optional Oracle classes in the server side code. This no longer occurs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325863"></a><p class="table">066001</p>


		</td>
		<td align="left" valign="top">
			<a name="1325865"></a><p class="table">Added a property to the <font face="Courier">JDBCConnectionPool</font> <font face="Courier">XAPassword</font> to encrypt the database's password.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325867"></a><p class="table">066964</p>


		</td>
		<td align="left" valign="top">
			<a name="1325869"></a><p class="table">When using the WebLogic jDriver for Oracle/XA for a JDBC connection pool, refreshing the connection pool after a DBMS failure and restoration occasionally resulted in a core dump. This has been fixed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325871"></a><p class="table">066966</p>


		</td>
		<td align="left" valign="top">
			<a name="1325873"></a><p class="table">The <font face="Courier">ResourceAllocator</font> monitor is no longer held while making a JDBC call to test table.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325875"></a><p class="table">068490</p>


		</td>
		<td align="left" valign="top">
			<a name="1325877"></a><p class="table">Synchronized the call to <font face="Courier">xa_open</font> at the java level.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325879"></a><p class="table">068952</p>


		</td>
		<td align="left" valign="top">
			<a name="1325881"></a><p class="table">Provided automated build scripts for jDrivers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325883"></a><p class="table">070209</p>


		</td>
		<td align="left" valign="top">
			<a name="1325885"></a><p class="table">It is now possible to use the Oracle 9.0.1 Thin Driver to connect to an Oracle database. To use the driver, include the path to the driver class files (<font face="Courier">classes12.zip</font>) to your <font face="Courier">CLASSPATH</font> before the entry for <font face="Courier">weblogic.jar</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325887"></a><p class="table">071974</p>


		</td>
		<td align="left" valign="top">
			<a name="1325889"></a><p class="table"><font face="Courier">PreparedStatement</font> cache size set to 0 by default.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325891"></a><p class="table">073640</p>


		</td>
		<td align="left" valign="top">
			<a name="1325893"></a><p class="table">Added a new attribute for a JDBC connection pool: Open String Password (or <font face="Courier">XAPassword</font> in the <font face="Courier">config.xml</font> file). This new attribute allows for encryption of the database password in the open string for connection pools that use an XA JDBC driver that requires an open string. For more information, see <a href="../adminguide/jdbc.html#password">Database Passwords in Connection Pool Configuration</a> in the <em>Administration Guide</em>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325896"></a><p class="table">076090</p>


		</td>
		<td align="left" valign="top">
			<a name="1325898"></a><p class="table">Improved the behavior of database passwords included in the Properties attribute of a JDBC connection pool. If you specify a database password as part of the connection properties or open string, WebLogic Server parses the values and moves them to the Password and Open String Password attributes, respectively, which are encrypted when stored in the <font face="Courier">config.xml</font> file. For more information, see <a href="../adminguide/jdbc.html#password">Database Passwords in Connection Pool Configuration</a> in the <em>Administration Guide</em>.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1325942"></a><p class="head2">jDriver
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325904"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325906"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325908"></a><p class="table">056531</p>


		</td>
		<td align="left" valign="top">
			<a name="1325910"></a><p class="table">There is no longer a performance regression in jDriver.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325912"></a><p class="table">061643</p>


		</td>
		<td align="left" valign="top">
			<a name="1325914"></a><p class="table"><font face="Courier">weblogic.Admin RESET_POOL</font> no longer fails after the database recovers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325916"></a><p class="table">063872</p>


		</td>
		<td align="left" valign="top">
			<a name="1325918"></a><p class="table">When a string value is returned from the out parameter of a stored procedure, trailing spaces are no longer stripped.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325920"></a><p class="table">063874</p>


		</td>
		<td align="left" valign="top">
			<a name="1325922"></a><p class="table">The time component of an SQL DATE was not removed when the JDBC <font face="Courier">getDate()</font> methods were used.  This behavior was non-compliant with the JDBC 2.0 specification for <font face="Courier">java.sql.Date</font>:  "To conform with the definition of SQL DATE, the millisecond values wrapped by a <font face="Courier">java.sql.Date</font> instance must be 'normalized' by setting the hours, minutes,</p>

<a name="1325923"></a><p class="table">seconds, and milliseconds to zero in the particular time zone with which the instance is associated."</p>

<a name="1325924"></a><p class="table">A correction was made to the WebLogic jDriver for Oracle.  Hours, minutes, seconds, and milliseconds are now removed from the returned value of the JDBC <font face="Courier">getDate(</font>) methods.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325926"></a><p class="table">069109</p>


		</td>
		<td align="left" valign="top">
			<a name="1325928"></a><p class="table">Modified JDBC test scripts to make Oracle 8.1.7 the default. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325930"></a><p class="table">069676</p>


		</td>
		<td align="left" valign="top">
			<a name="1325932"></a><p class="table">The WebLogic jDriver for Oracle now supports the <font face="Courier">we8iso8859p15</font> character set.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325934"></a><p class="table">070878</p>


		</td>
		<td align="left" valign="top">
			<a name="1325936"></a><p class="table">If <font face="Courier">PreparedStatement.setString</font> was used with an incorrect positional index of '0' with a DBMS connection created using the WebLogic jDriver for Oracle, the JVM would crash. Now, the jDriver gracefully handles the coding error and throws an exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325938"></a><p class="table">078936</p>


		</td>
		<td align="left" valign="top">
			<a name="1325940"></a><p class="table">In WebLogic Server 6.1 Service Pack 2, application of the HP-UX UNIX patch (PHSS_24627) caused an HP Server Bus error when WebLogic Server 6 accessed Oracle upon start-up. With the newer <font face="Courier">aCC</font> libraries version A.03.33, using the <font face="Courier">-AA CXXFlag</font>, the user gets a <font face="Courier">java.lang.UnsatisfiedLinkError</font> while accessing Oracle upon WebLogic Server start-up. </p>

<a name="1325941"></a><p class="table">This problem was solved. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1326005"></a><p class="head2">JMS
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1325946"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1325948"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325950"></a><p class="table">044976</p>


		</td>
		<td align="left" valign="top">
			<a name="1325952"></a><p class="table">Made sure that returned values and exceptions from any get method in <font face="Courier">MapMessage</font> conform to the JMS specification.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325954"></a><p class="table">058876</p>


		</td>
		<td align="left" valign="top">
			<a name="1325956"></a><p class="table">Disabling or enabling the JMS server through the Administration Console was causing WebLogic Server to throw an exception for any registered durable subscribers. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325958"></a><p class="table">061094</p>


		</td>
		<td align="left" valign="top">
			<a name="1325960"></a><p class="table">In a clustered environment, a <font face="Courier">NoSuchObjectException</font> is no longer thrown for JMS clients listening on a JMS server if one of the WebLogic Server nodes in the cluster is not immediately restarted after shutting down. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325962"></a><p class="table">061552</p>


		</td>
		<td align="left" valign="top">
			<a name="1325964"></a><p class="table">JDBC connection is no longer reset after the server is idle for three hours.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325966"></a><p class="table">062669</p>


		</td>
		<td align="left" valign="top">
			<a name="1325968"></a><p class="table">JMS now supports selectors with unicode strings. Specifically, the expression parser now uses a <font face="Courier">StringReader</font> and the <font face="Courier">charVocabulary</font> range was increased.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325970"></a><p class="table">062744</p>


		</td>
		<td align="left" valign="top">
			<a name="1325972"></a><p class="table">A NULL value is now accepted for a JMS <font face="Courier">MapMessage</font> property to conform with the JMS specification.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325974"></a><p class="table">064727</p>


		</td>
		<td align="left" valign="top">
			<a name="1325976"></a><p class="table">Fixed a problem with creating <font face="Courier">ObjectMessage</font> for JMS in an applet.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325978"></a><p class="table">067134</p>


		</td>
		<td align="left" valign="top">
			<a name="1325980"></a><p class="table">Added <font face="Courier">weblogic/management/configuration/JMSConstants.STORE_ENABLED_XXX</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325982"></a><p class="table">067286</p>


		</td>
		<td align="left" valign="top">
			<a name="1325984"></a><p class="table">JMS paging no longer fails to page during a server restart.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325986"></a><p class="table">068667</p>


		</td>
		<td align="left" valign="top">
			<a name="1325988"></a><p class="table">Upon booting, JMS non-persistent-message-paging file stores was failing to make available all disk-blocks for re-use. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325990"></a><p class="table">069757</p>


		</td>
		<td align="left" valign="top">
			<a name="1325992"></a><p class="table">JMS with SSL no longer throws the <font face="Courier">weblogic.jms.common.LostServerException</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325994"></a><p class="table">070454</p>


		</td>
		<td align="left" valign="top">
			<a name="1325996"></a><p class="table">Message recovery no longer fails nor is delayed upon server crash when using message- driven beans with durable subscription.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1325998"></a><p class="table">072556</p>


		</td>
		<td align="left" valign="top">
			<a name="1326000"></a><p class="table">No more JMS Queue deadlock in <font face="Courier">addReader( )</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326002"></a><p class="table">073403</p>


		</td>
		<td align="left" valign="top">
			<a name="1326004"></a><p class="table">Fixed a problem that was due to a JNDI object having the same JNDI name of a different type.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1326052"></a><p class="head2">JTA
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1326009"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1326011"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326013"></a><p class="table">062681</p>


		</td>
		<td align="left" valign="top">
			<a name="1326015"></a><p class="table">WebLogic Server no longer fails on JDBC connection request to the pool whenever the connection object is left unclosed in the JDBC code. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326017"></a><p class="table">063053</p>


		</td>
		<td align="left" valign="top">
			<a name="1326019"></a><p class="table">The XA connection can now specify the <font face="Courier">openString</font> property.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326021"></a><p class="table">064232</p>


		</td>
		<td align="left" valign="top">
			<a name="1326023"></a><p class="table">The <font face="Courier">javax.transaction.HeuristicMixedException</font> is no longer being thrown sporadically at commit.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326025"></a><p class="table">064403</p>


		</td>
		<td align="left" valign="top">
			<a name="1326027"></a><p class="table">After a Transaction timeout using the XA driver and a Stateless Session Bean, the XAConnection became unusable until WebLogic Server was restarted. This has been fixed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326029"></a><p class="table">064825</p>


		</td>
		<td align="left" valign="top">
			<a name="1326031"></a><p class="table">Method descriptors for <font face="Courier">SubCoordinatorImpl</font> are now getting parsed at runtime.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326033"></a><p class="table">065495</p>


		</td>
		<td align="left" valign="top">
			<a name="1326035"></a><p class="table">Added a system property to allow users to set the amount of time they are willing to wait to obtain the Coordinator reference. To specify the wait time, specify <font face="Courier">-Dweblogic.JTA.ContactCoordinatorWaitSeconds=&lt;seconds&gt;</font> when starting the client or server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326037"></a><p class="table">066420</p>


		</td>
		<td align="left" valign="top">
			<a name="1326039"></a><p class="table">JTA server-resource cache was not being updated correctly on a member server <font face="Courier">peerGone</font> event. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326041"></a><p class="table">068447</p>


		</td>
		<td align="left" valign="top">
			<a name="1326043"></a><p class="table">XA transactions with <font face="Courier">TestConnectionsOnReserve="true"</font> no longer fails.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326045"></a><p class="table">070855</p>


		</td>
		<td align="left" valign="top">
			<a name="1326047"></a><p class="table">JTA server-resource cache updates delayed under load no longer causes aborted transactions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326049"></a><p class="table">076439</p>


		</td>
		<td align="left" valign="top">
			<a name="1326051"></a><p class="table">Fixed a problem that was causing random XA transactions to be rolled back with an <font face="Courier">Illegal State (Expected: preparing)</font> message.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1326406"></a><p class="head2">Miscellaneous
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1326056"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1326058"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326060"></a><p class="table">042372</p>


		</td>
		<td align="left" valign="top">
			<a name="1326062"></a><p class="table">The API <font face="Courier">URL()</font> provided in WebLogic now functions properly.  For some URLs, it was causing an exception error.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326064"></a><p class="table">050388</p>


		</td>
		<td align="left" valign="top">
			<a name="1326066"></a><p class="table">Statistical information for the Jolt connection pool is now being displayed in the console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326068"></a><p class="table">052478</p>


		</td>
		<td align="left" valign="top">
			<a name="1326070"></a><p class="table">A timing related JVM bug on Solaris is encountered that causes the VM to exit during object de-serialization of management objects at server startup. If you run into this JVM bug:</p>


<ul type="square">
<a name="1326071"></a><p><li type="square">Re-start the server.

<a name="1326072"></a><p><li type="square">Upgrade the Virtual Machine to JDK version 1.3.1_04.
</ul>

		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326074"></a><p class="table">053029</p>


		</td>
		<td align="left" valign="top">
			<a name="1326076"></a><p class="table">The RA component is now removed during delete.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326078"></a><p class="table">054080</p>


		</td>
		<td align="left" valign="top">
			<a name="1326080"></a><p class="table">In 6.1 service pack 2 on a Solaris machine, when WebLogic Server was using SSL to communicate (both as a client and a server) and was using <font face="Courier">NativeIOEnabled="true"</font>, the JVM instance consumed more and more memory and eventually hit the heap size limit. This bug was encountered at a WebLogic Integration installation which relied on SSL communication between trading partners. In 6.1 service pack 3, this problem no longer exists.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326082"></a><p class="table">055007</p>


		</td>
		<td align="left" valign="top">
			<a name="1326084"></a><p class="table">Created a configurable parameter, <font face="Courier">weblogic.system.openSockCount</font>, that would determine the number of allowable connections.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326086"></a><p class="table">056622</p>


		</td>
		<td align="left" valign="top">
			<a name="1326088"></a><p class="table">Added a new system property: <font face="Courier">weblogic.net.http.URLStreamHandlerFactory</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326090"></a><p class="table">056698</p>


		</td>
		<td align="left" valign="top">
			<a name="1326092"></a><p class="table">Fixed a problem with installing customer protocol handlers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326094"></a><p class="table">057313</p>


		</td>
		<td align="left" valign="top">
			<a name="1326096"></a><p class="table">Fixed <font face="Courier">ConcurrentModificationException</font> while iterating through <font face="Courier">AbbrevMap.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326098"></a><p class="table">057357</p>


		</td>
		<td align="left" valign="top">
			<a name="1326100"></a><p class="table">Fixed a problem that occurred when defining an error page 401.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326102"></a><p class="table">057743 &amp; 060981</p>


		</td>
		<td align="left" valign="top">
			<a name="1326104"></a><p class="table">The WebLogic Server <font face="Courier">verboseToZip</font> and <font face="Courier">logToZip</font> utilities have corrected problems with versioning information. Manifest entries, on which WebLogic classes depend for versioning information, are now pulled from <font face="Courier">weblogic.jar</font>. The <font face="Courier">verboseToZip</font> output file no longer includes entries for dynamic proxy classes. If a message log contains any instance of i18n messages, then <font face="Courier">logToZip</font> now pulls all of the i18n related files from <font face="Courier">weblogic.jar</font> to the client jar.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326106"></a><p class="table">058327</p>


		</td>
		<td align="left" valign="top">
			<a name="1326108"></a><p class="table">Getting <font face="Courier">ClassCastException</font> when trying to make a look-up to <font face="Courier">DataSource</font> from an Applet</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326110"></a><p class="table">058358</p>


		</td>
		<td align="left" valign="top">
			<a name="1326112"></a><p class="table">The <font face="Courier">&lt;alt-dd&gt;</font> tag in the <font face="Courier">application.xml</font> file is now being recognized.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326114"></a><p class="table">059054</p>


		</td>
		<td align="left" valign="top">
			<a name="1326116"></a><p class="table">Added the following symbol as a cookie separator:  ","</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326118"></a><p class="table">059104</p>


		</td>
		<td align="left" valign="top">
			<a name="1326120"></a><p class="table">A property called <font face="Courier">javaHome</font> which specifies the JVM that is used to start up a managed server was added for node manager. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326122"></a><p class="table">060062</p>


		</td>
		<td align="left" valign="top">
			<a name="1326124"></a><p class="table">The Connections High column in the connection pool monitoring screen no longer includes connections refreshed by WebLogic Server. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326126"></a><p class="table">060079</p>


		</td>
		<td align="left" valign="top">
			<a name="1326128"></a><p class="table">When using JMS over t3s, a <font face="Courier">MaxMessageSizeExceededException</font> was being randomly thrown even though the message size never exceeded 50k.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326130"></a><p class="table">060211</p>


		</td>
		<td align="left" valign="top">
			<a name="1326132"></a><p class="table">Fixed the placement and quotation of startup arguments passed to node manager from the Remote Start tab in the Console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326134"></a><p class="table">060739</p>


		</td>
		<td align="left" valign="top">
			<a name="1326136"></a><p class="table"><font face="Courier">UserTransaction</font> now works properly under load. Now, transaction-managed EJBs control the isolation level automatically if the EJB starts the transaction as well as if the user starts the transaction.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326138"></a><p class="table">061059</p>


		</td>
		<td align="left" valign="top">
			<a name="1326140"></a><p class="table">It is no longer possible to find a record after it has been removed from a database.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326142"></a><p class="table">061458</p>


		</td>
		<td align="left" valign="top">
			<a name="1326144"></a><p class="table">WebLogic Server now supports starting NodeManager on Solaris and HP-UX without using Native libraries.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326146"></a><p class="table">061512</p>


		</td>
		<td align="left" valign="top">
			<a name="1326148"></a><p class="table">Fixed problems starting WebLogic Server as a service on Windows NT and Windows 2000.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326150"></a><p class="table">061847</p>


		</td>
		<td align="left" valign="top">
			<a name="1326152"></a><p class="table">There are no more error messages when using HTTP with <font face="Courier">examples.io.FileBrowser</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326154"></a><p class="table">062086</p>


		</td>
		<td align="left" valign="top">
			<a name="1326156"></a><p class="table">Using DDConverter to convert from CMP 1.1 to CMP 2.0 no longer throws exceptions for JAR files that contain more than one EJB.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326158"></a><p class="table">062177</p>


		</td>
		<td align="left" valign="top">
			<a name="1326160"></a><p class="table">There are no longer any peer to peer connections in clustered nodes.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326162"></a><p class="table">062375</p>


		</td>
		<td align="left" valign="top">
			<a name="1326164"></a><p class="table"><font face="Courier">PeerInfoable.getPeerInfo</font> no longer returns null when marshalling a transaction's propagation context in a clustered environment.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326166"></a><p class="table">062439</p>


		</td>
		<td align="left" valign="top">
			<a name="1326168"></a><p class="table">Added error handling code in the native layer of Windows.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326170"></a><p class="table">062565</p>


		</td>
		<td align="left" valign="top">
			<a name="1326172"></a><p class="table">The 1.2 JVM client no longer causes a socket connection leak.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326174"></a><p class="table">062752</p>


		</td>
		<td align="left" valign="top">
			<a name="1326176"></a><p class="table">jDriver was giving an <font face="Courier">ORA-24347</font> error on an outer join operation which selected more than 100 rows. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326178"></a><p class="table">062926</p>


		</td>
		<td align="left" valign="top">
			<a name="1326180"></a><p class="table">JSP page tags can now handle MS932 specific characters on Solaris or HP.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326182"></a><p class="table">062989</p>


		</td>
		<td align="left" valign="top">
			<a name="1326184"></a><p class="table">A JMS client running on a slow modem connection and trying to establish a JMS <font face="Courier">topicConnection</font> with a cluster of two WebLogic Servers no longer gets a <font face="Courier">ClassCastException.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326186"></a><p class="table">062997</p>


		</td>
		<td align="left" valign="top">
			<a name="1326188"></a><p class="table">The servlet engine now removes the servlet stub of the generated JSP file if the source file has been deleted.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326190"></a><p class="table">063103</p>


		</td>
		<td align="left" valign="top">
			<a name="1326192"></a><p class="table">Context lookup was failing within a spawned thread. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326194"></a><p class="table">063147</p>


		</td>
		<td align="left" valign="top">
			<a name="1326196"></a><p class="table">Applets no longer fail during downloading of Home interface Stub with the JDK 1.3.1_01 plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326198"></a><p class="table">063310</p>


		</td>
		<td align="left" valign="top">
			<a name="1326200"></a><p class="table"><font face="Courier">CGIServlet</font> no longer fails under load due to File Descriptor leak.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326202"></a><p class="table">063354</p>


		</td>
		<td align="left" valign="top">
			<a name="1326204"></a><p class="table">No longer receiving a <font face="Courier">ClassCastException</font> from <font face="Courier">rjvm.MsgAbbrevInputStream.readClassDescriptor()</font> when looking up a session bean from a servlet.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326206"></a><p class="table">063671</p>


		</td>
		<td align="left" valign="top">
			<a name="1326208"></a><p class="table">Client side using HTTPS tunneling was producing the get <font face="Courier">java.net.ProtocolException</font>: Tunneling result not OK, result: 'DEAD'</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326210"></a><p class="table">063830</p>


		</td>
		<td align="left" valign="top">
			<a name="1326212"></a><p class="table">No longer throwing a <font face="Courier">javax.transaction</font>.<font face="Courier">TransactionRolledbackException</font> when the cache is full.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326214"></a><p class="table">064117</p>


		</td>
		<td align="left" valign="top">
			<a name="1326216"></a><p class="table">Fixed a problem that was causing the server to abort the connection and result in a <font face="Courier">java.net.SocketException</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326218"></a><p class="table">064125</p>


		</td>
		<td align="left" valign="top">
			<a name="1326221"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-15.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-15.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326223"></a><p class="table">064130</p>


		</td>
		<td align="left" valign="top">
			<a name="1326225"></a><p class="table"><font face="Courier">ReplicaLists</font> are now serializable in order to allow more than one lookup under IIOP.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326227"></a><p class="table">064391</p>


		</td>
		<td align="left" valign="top">
			<a name="1326229"></a><p class="table">When deploying applications that contain malformed <font face="Courier">MANIFEST.MF</font> entries, exceptions are no longer being thrown.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326231"></a><p class="table">064404</p>


		</td>
		<td align="left" valign="top">
			<a name="1326233"></a><p class="table">When the same instance of IE is used to configure a webApp using the console and then to access the same webApp (containing French characters for instance), sometimes accented characters were not being displayed correctly. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326235"></a><p class="table">064434</p>


		</td>
		<td align="left" valign="top">
			<a name="1326237"></a><p class="table">If a servlet used <font face="Courier">RequestDispatcher.include()</font> to include the output of a JSP, the post-processing filter was not able to add a header to the response. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326239"></a><p class="table">064860</p>


		</td>
		<td align="left" valign="top">
			<a name="1326241"></a><p class="table">WebLogic Server no longer fails to execute CGI scripts with JSPs that use page buffering. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326244"></a><p class="table">065697</p>


		</td>
		<td align="left" valign="top">
			<a name="1326246"></a><p class="table">When <font face="Courier">SetUID</font> was enabled, the server wouldn't start. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326248"></a><p class="table">066130</p>


		</td>
		<td align="left" valign="top">
			<a name="1326250"></a><p class="table">Corrected an error message that was being thrown by the ejbc during compliance checking.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326252"></a><p class="table">066158</p>


		</td>
		<td align="left" valign="top">
			<a name="1326254"></a><p class="table">When a Log Filter is defined and targeted to the managed server, the trap is now invoked when using the <font face="Courier">NonCatalogLogger</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326256"></a><p class="table">066252</p>


		</td>
		<td align="left" valign="top">
			<a name="1326258"></a><p class="table">Using a specific Factory/Trader pattern, a <font face="Courier">ReplicaAwareRemoteRef</font> warning log was being displayed on the client side. This log is no longer displayed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326260"></a><p class="table">066504</p>


		</td>
		<td align="left" valign="top">
			<a name="1326262"></a><p class="table">Updated the SP installer with JDK 131_02 for Solaris and Windows.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326264"></a><p class="table">067508</p>


		</td>
		<td align="left" valign="top">
			<a name="1326266"></a><p class="table">A generic classloading exception was being thrown when generating a thin client with <font face="Courier">AppletArchiver</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326268"></a><p class="table">067516</p>


		</td>
		<td align="left" valign="top">
			<a name="1326270"></a><p class="table">The <font face="Courier">appletArchiver</font> now spools the i18n and manifest files to the thin client jar.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326272"></a><p class="table">067517</p>


		</td>
		<td align="left" valign="top">
			<a name="1326274"></a><p class="table"><font face="Courier">AppletArchiver</font> no longer generates <font face="Courier">L10n</font> type exceptions when building the client jar.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326276"></a><p class="table">067648</p>


		</td>
		<td align="left" valign="top">
			<a name="1326278"></a><p class="table">Fixed a problem that was causing WebLogic Server to hang due to the <font face="Courier">PosixSocketMuxer</font> code.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326280"></a><p class="table">068570</p>


		</td>
		<td align="left" valign="top">
			<a name="1326283"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-16.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-16.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326285"></a><p class="table">069043</p>


		</td>
		<td align="left" valign="top">
			<a name="1326287"></a><p class="table">When using <font face="Courier">HttpProxyServlet</font> in conjunction with a filter, a <font face="Courier">SocketResetException</font> no longer occurs in <font face="Courier">NTSocketMuxer</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326289"></a><p class="table">069675</p>


		</td>
		<td align="left" valign="top">
			<a name="1326291"></a><p class="table">Reading from a file with <font face="Courier">@file</font> option on the BEASVC command line no longer has a limitation of 4K.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326293"></a><p class="table">069991</p>


		</td>
		<td align="left" valign="top">
			<a name="1326295"></a><p class="table">No longer receiving a <font face="Courier">ClassCastException</font> from <font face="Courier">rjvm.MsgAbbrevInputStream.readClassDescriptor()</font> when looking up a session bean from a servlet.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326297"></a><p class="table">070575</p>


		</td>
		<td align="left" valign="top">
			<a name="1326299"></a><p class="table">After the server had been running about two days, a client running on a separate JVM was not able to look up a bean due to the JNDI tree and JNDI objects eventually becoming out of sync. This had been fixed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326301"></a><p class="table">071580</p>


		</td>
		<td align="left" valign="top">
			<a name="1326303"></a><p class="table">WebLogic Time service thread is now setting Context Class Loader.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326305"></a><p class="table">071822</p>


		</td>
		<td align="left" valign="top">
			<a name="1326307"></a><p class="table">In order for jCOM to successfully find the WebLogic license file, the beahomelist file must be located in C:\bea.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326309"></a><p class="table">072010</p>


		</td>
		<td align="left" valign="top">
			<a name="1326311"></a><p class="table">Configuring WLEC connection pool was interfering with command line properties. This has been fixed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326313"></a><p class="table">072061</p>


		</td>
		<td align="left" valign="top">
			<a name="1326315"></a><p class="table">The node manager <font face="Courier">-Dweblogic.nodemanager.sslHostNameVerificationEnabled=true</font> option now performs host name verification.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326317"></a><p class="table">072211</p>


		</td>
		<td align="left" valign="top">
			<a name="1326319"></a><p class="table">Improved the Solaris native implementation of node manager for handling error conditions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326321"></a><p class="table">072228</p>


		</td>
		<td align="left" valign="top">
			<a name="1326323"></a><p class="table">WebLogic Server was not firing a trap for the <font face="Courier">JDBCConnectionPoolRuntime</font> on the admin server. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326325"></a><p class="table">072278</p>


		</td>
		<td align="left" valign="top">
			<a name="1326327"></a><p class="table">Improved the HPUX native implementation of node manager for handling error conditions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326329"></a><p class="table">072327</p>


		</td>
		<td align="left" valign="top">
			<a name="1326331"></a><p class="table">Attributes with type LONG can now be monitored with SNMP.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326333"></a><p class="table">072495</p>


		</td>
		<td align="left" valign="top">
			<a name="1326335"></a><p class="table">Fixed a memory leak caused by Timer Services.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326337"></a><p class="table">072904</p>


		</td>
		<td align="left" valign="top">
			<a name="1326339"></a><p class="table">When <font face="Courier">CallRouter</font> was used, <font face="Courier">ReplicaList</font> was being corrupted. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326341"></a><p class="table">073116</p>


		</td>
		<td align="left" valign="top">
			<a name="1326343"></a><p class="table">Fixed the <font face="Courier">weblogic.Admin SERVERLOG</font> command-line utility.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326345"></a><p class="table">073201</p>


		</td>
		<td align="left" valign="top">
			<a name="1326347"></a><p class="table">When running multiple HTTP tunneling clients over a modem connection, the server was eventually hanging. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326349"></a><p class="table">073400</p>


		</td>
		<td align="left" valign="top">
			<a name="1326351"></a><p class="table">Modified <font face="Courier">verboseToZip</font> to exclude javax classes from the output file to reduce the size of the client jar.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326353"></a><p class="table">073529</p>


		</td>
		<td align="left" valign="top">
			<a name="1326355"></a><p class="table">Fixed a problem that was causing clustered servers to lock under heavy stress testing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326357"></a><p class="table">073569</p>


		</td>
		<td align="left" valign="top">
			<a name="1326359"></a><p class="table">Eliminated <font face="Courier">&lt;DGCserver&gt;</font> info messages in the <font face="Courier">weblogic.log</font> file in order to save space in the file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326361"></a><p class="table">073578</p>


		</td>
		<td align="left" valign="top">
			<a name="1326363"></a><p class="table">Installing Windows NT service by specifying JRE directory as its JAVA_HOME failed with an error when trying to start the service. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326365"></a><p class="table">073788</p>


		</td>
		<td align="left" valign="top">
			<a name="1326367"></a><p class="table">The HP Installer was failing to build. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326369"></a><p class="table">074991</p>


		</td>
		<td align="left" valign="top">
			<a name="1326371"></a><p class="table">Fixed a problem that was resulting in WebLogic Server crashing in the performance pack under heavy load.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326373"></a><p class="table">075271</p>


		</td>
		<td align="left" valign="top">
			<a name="1326375"></a><p class="table">A <font face="Courier">NullPointerException</font> is no longer thrown at <font face="Courier">weblogic.utils.BubblingAbbrever.getValue (BubblingAbbrever.jaava:163)</font>. The <font face="Courier">Abbrev</font> tree is no longer getting corrupted.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326377"></a><p class="table">075700</p>


		</td>
		<td align="left" valign="top">
			<a name="1326379"></a><p class="table">For WebLogic Server instances that run as a Windows service, you no longer need Windows Administrator privileges to start the service.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326381"></a><p class="table">076395</p>


		</td>
		<td align="left" valign="top">
			<a name="1326383"></a><p class="table">For WebLogic Server instances that run as a Windows service, using the Administration Console or the <font face="Courier">weblogic.Admin</font> utility to shut down the server no longer causes the Windows service to report an error condition.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326385"></a><p class="table">076705</p>


		</td>
		<td align="left" valign="top">
			<a name="1326387"></a><p class="table">Deploying a <font face="Courier">MessageDriven Bean</font> no longer fails with a <font face="Courier">NoAccessRuntimeException</font> for guest if the destination is remote.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326389"></a><p class="table">077238</p>


		</td>
		<td align="left" valign="top">
			<a name="1326391"></a><p class="table">Startup scripts now specify the correct value for the Oracle jDriver path. Before this service pack, startup scripts specified <font face="Courier">LD_LIBRARY_PATH=oci816_8</font>, which is no longer supported. Now the scripts specify <font face="Courier">oci817_8</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326393"></a><p class="table">077278</p>


		</td>
		<td align="left" valign="top">
			<a name="1326395"></a><p class="table">Removed the Oracle 816/806 driver from the WebLogic Server 6.1 service pack 3 installation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326397"></a><p class="table">077919</p>


		</td>
		<td align="left" valign="top">
			<a name="1326399"></a><p class="table">Fixed a problem with an earlier bug fix that was causing calls to <font face="Courier">ObjectOutputStream.writeObject()</font> on <font face="Courier">EJBHandle</font> to throw the following error: <font face="Courier">Closing:'weblogic.rjvm.t3.T3JVMConnection@49c89f' because of: 'Server received a message over an uninitialized connection. </font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326401"></a><p class="table">078523</p>


		</td>
		<td align="left" valign="top">
			<a name="1326403"></a><p class="table">The java version bundled with the WebLogic Server 6.1 service pack 3 installer is: </p>


			<ul><a name="1326404"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Win 2k &amp; Solaris installer bundled with java version 1.3.1-03</font>
<a name="1326405"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>HP installer bundled with java version 1.3.1.05.</font>
			</ul>

		</td>

	</tr>

</table>


</center>
</p>

<a name="1326597"></a><p class="head2">Plug-Ins
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1326410"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1326412"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326414"></a><p class="table">054344</p>


		</td>
		<td align="left" valign="top">
			<a name="1326416"></a><p class="table">WebLogic Server can now proxy all requests except a certain MIME type. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326418"></a><p class="table">057448 &amp; 059142</p>


		</td>
		<td align="left" valign="top">
			<a name="1326420"></a><p class="table">Fixed a memory problem that occurred when using SSL under heavy loads.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326422"></a><p class="table">058886</p>


		</td>
		<td align="left" valign="top">
			<a name="1326424"></a><p class="table">Fixed an IIS Proxy memory leak with SSL.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326426"></a><p class="table">060325</p>


		</td>
		<td align="left" valign="top">
			<a name="1326428"></a><p class="table">Concurrent <font face="Courier">GET</font> and <font face="Courier">POST</font> requests led to a hang in the Apache plug-in </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326430"></a><p class="table">060863</p>


		</td>
		<td align="left" valign="top">
			<a name="1326432"></a><p class="table">Fixed a problem with the NSAPI and ISAPI plug-ins; a POST timed-out error was being written to the browser even after a second retry worked and this HTML content was printed in the browser.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326434"></a><p class="table">061229</p>


		</td>
		<td align="left" valign="top">
			<a name="1326436"></a><p class="table">A request is now declined if handler is not set to <font face="Courier">weblogic_handler</font> explicitly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326438"></a><p class="table">061379</p>


		</td>
		<td align="left" valign="top">
			<a name="1326440"></a><p class="table"><font face="Courier">RequireSSLHostMatch=true</font> now works with NSAPI.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326442"></a><p class="table"><a name="061386"></a>061386</p>


		</td>
		<td align="left" valign="top">
			<a name="1326444"></a><p class="table">A new configuration attribute, <font face="Courier">WeblogicPluginEnabled</font>, has been added. This attribute can be configured at the server or cluster level. </p>

<a name="1366683"></a><p class="table">When this attribute is true for a server (or cluster) that receives requests from a proxy plug-in (or <font face="Courier">HttpClusterServlet,</font>) a call to <font face="Courier">getRemoteAddr</font> will return the address of the browser client from the proprietary <font face="Courier">WL-Proxy-Client-IP</font> header, instead of the web server. </p>

<a name="1366703"></a><p class="table">For non-clustered servers that will receive proxied requests, this attribute may be set at the server level, on the Server --&gt;Configuration--&gt;General tab. </p>

<a name="1366727"></a><p class="table"><font face="Courier">WeblogicPluginEnabled</font> is duplicated in <font face="Courier">ClusterMBean</font> and <font face="Courier">ServerMBean</font>. <font face="Courier">ClusterMBean</font> overrides<font face="Courier"> ServerMBean</font>. The default value is false.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326446"></a><p class="table">061561</p>


		</td>
		<td align="left" valign="top">
			<a name="1326448"></a><p class="table">The request is not timed-out in case of failover from a hung server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326450"></a><p class="table">061881, 065980 &amp; 076503</p>


		</td>
		<td align="left" valign="top">
			<a name="1326452"></a><p class="table">The NSAPI Proxy plug-in no longer fails to handle large (greater than 2k) POST Requests.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326454"></a><p class="table">062607</p>


		</td>
		<td align="left" valign="top">
			<a name="1326456"></a><p class="table">When the <font face="Courier">KeepAlive</font> is enabled on the plug-in IIS, the connection is now closed immediately with a HEAD http request.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326458"></a><p class="table">062641</p>


		</td>
		<td align="left" valign="top">
			<a name="1326460"></a><p class="table">With the IPlanet plug-in, from a Java client using JSSE, the servlet access now works.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326462"></a><p class="table">062778</p>


		</td>
		<td align="left" valign="top">
			<a name="1326464"></a><p class="table">Plug-in is now able to proxy requests to the primary/secondary servers without checking if those are in the current server list. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326466"></a><p class="table">062808</p>


		</td>
		<td align="left" valign="top">
			<a name="1326468"></a><p class="table">Added support for the latest beta version of Apache 2.0.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326470"></a><p class="table">063004</p>


		</td>
		<td align="left" valign="top">
			<a name="1326472"></a><p class="table">The Apache proxy plug-in no longer generates an incorrect URL under a heavy load.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326474"></a><p class="table">064268</p>


		</td>
		<td align="left" valign="top">
			<a name="1326476"></a><p class="table">In the response header the status, <font face="Courier">HTTP/1.1 200 OK</font>, the string "OK" is no longer being stripped off by the <font face="Courier">iisproxy.dll</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326478"></a><p class="table">064472</p>


		</td>
		<td align="left" valign="top">
			<a name="1326480"></a><p class="table">Apache 1.3.12 EAPI, Solaris 2.8, with <font face="Courier">mod_wl_ssl.so</font> was generating "Segmentation Fault - core dumped" while using port based virtual host. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326482"></a><p class="table">064890</p>


		</td>
		<td align="left" valign="top">
			<a name="1326484"></a><p class="table">Cookie Path no longer gets mangled when <font face="Courier">PathTrim</font> is used in Apache.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326486"></a><p class="table">065188</p>


		</td>
		<td align="left" valign="top">
			<a name="1326488"></a><p class="table">Fixed the iPlanet plug-in so that it no longer gives a  <font face="Courier">WRITE_ERROR</font> with a 404 error for a static page. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326490"></a><p class="table">065443</p>


		</td>
		<td align="left" valign="top">
			<a name="1326492"></a><p class="table">Now able to proxy to both 5.1 and 6.1 back-ends with the NSAPI plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326494"></a><p class="table">065660</p>


		</td>
		<td align="left" valign="top">
			<a name="1326496"></a><p class="table">The HTTP header is malformed with the last ISAPI plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326498"></a><p class="table">067100</p>


		</td>
		<td align="left" valign="top">
			<a name="1326500"></a><p class="table">The build information of a plug-in now includes the version number.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326502"></a><p class="table">068243</p>


		</td>
		<td align="left" valign="top">
			<a name="1326504"></a><p class="table">ISAPI plug-in <font face="Courier">PathPrepend</font> path is no longer prepended twice when using FORM authentication for a web application.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326506"></a><p class="table">068517</p>


		</td>
		<td align="left" valign="top">
			<a name="1326508"></a><p class="table">The proxy plug-ins no longer load the ECC crypto module. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326510"></a><p class="table">068562</p>


		</td>
		<td align="left" valign="top">
			<a name="1326512"></a><p class="table">When setting up IIS to proxy to multiple sites, the plug-in was not working when putting a firewall or a load balancer in front of the IIS server. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326514"></a><p class="table">068634</p>


		</td>
		<td align="left" valign="top">
			<a name="1326516"></a><p class="table">A 413 error is now returned if Content Length exceeded the plug-in parameter <font face="Courier">MaxPostSize</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326518"></a><p class="table">068790</p>


		</td>
		<td align="left" valign="top">
			<a name="1326520"></a><p class="table">Now supporting Apache2.0.32.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326522"></a><p class="table">068985</p>


		</td>
		<td align="left" valign="top">
			<a name="1326524"></a><p class="table">Added the ability to exclude certain requests from being proxied in WebLogic Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326526"></a><p class="table">070358</p>


		</td>
		<td align="left" valign="top">
			<a name="1326528"></a><p class="table">Apache-plug-in no longer gives response code 500 when the server is not available.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326530"></a><p class="table">072895</p>


		</td>
		<td align="left" valign="top">
			<a name="1326532"></a><p class="table">When secondary is killed, request was not going to the same server (primary). Now it is.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326534"></a><p class="table">073838</p>


		</td>
		<td align="left" valign="top">
			<a name="1326536"></a><p class="table">When using iPlanet, WebLogic Server no longer loses the HTTP session ID if <font face="Courier">CookiesEnabled</font> is set to false. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326538"></a><p class="table">073936</p>


		</td>
		<td align="left" valign="top">
			<a name="1326540"></a><p class="table">Apache Plug-ins have been ported to OpenVMS 7.3 platform. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326542"></a><p class="table">074137</p>


		</td>
		<td align="left" valign="top">
			<a name="1326544"></a><p class="table">The NSAPI plug-in was returning "unknown" if <font face="Courier">x-forwarded-for</font> and <font face="Courier">client-proxy-ip</font> headers were not sent or set. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326546"></a><p class="table">074286</p>


		</td>
		<td align="left" valign="top">
			<a name="1326548"></a><p class="table">Now able to proxy to both 5.1 and 6.1 back-ends with the Apache plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326550"></a><p class="table">074393</p>


		</td>
		<td align="left" valign="top">
			<a name="1326552"></a><p class="table">Added URL parameters to the correct <font face="Courier">requesturi</font> variable because the latest iPlanet plug-in was dropping URL parameters.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326554"></a><p class="table">074656</p>


		</td>
		<td align="left" valign="top">
			<a name="1326556"></a><p class="table">If the password to start WebLogic Server was provided on the command line, the property, <font face="Courier">weblogic.security.jaas.Configuration</font>, was not initialized at all. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326558"></a><p class="table">076457</p>


		</td>
		<td align="left" valign="top">
			<a name="1326560"></a><p class="table">Fixed the problem with READ_TIMEOUT(os error=22) on NSAPI for Solaris. The NSAPI plug-in is now stable under a heavy load (800 or more users).</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326562"></a><p class="table">076578</p>


		</td>
		<td align="left" valign="top">
			<a name="1326564"></a><p class="table">The NSAPI plug-in no longer keeps trying to connect to a dead server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326566"></a><p class="table">076701</p>


		</td>
		<td align="left" valign="top">
			<a name="1326568"></a><p class="table">The Apache server no longer crashes when Content-Length is zero in a POST request by requiring that the server not read post data if Content-Length is 0.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326570"></a><p class="table">076722</p>


		</td>
		<td align="left" valign="top">
			<a name="1326572"></a><p class="table">The Apache server no longer crashes when Content-Length is zero in a POST request.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326574"></a><p class="table">076731</p>


		</td>
		<td align="left" valign="top">
			<a name="1326576"></a><p class="table">The NSAPI plug-in can now fail over to the active server when the primary and secondary servers are locked if it is specifically requested to do so.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326578"></a><p class="table">076996</p>


		</td>
		<td align="left" valign="top">
			<a name="1326580"></a><p class="table">Fixed an SSL memory leak problem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326582"></a><p class="table">077440</p>


		</td>
		<td align="left" valign="top">
			<a name="1326584"></a><p class="table">The IP address of the proxy is now in the HTTP request headers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326586"></a><p class="table">077794</p>


		</td>
		<td align="left" valign="top">
			<a name="1326588"></a><p class="table">The keep-alive feature for Apache 2.0 is disabled for this release.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326590"></a><p class="table">078265</p>


		</td>
		<td align="left" valign="top">
			<a name="1326592"></a><p class="table"><font face="Courier">MaxSkips</font> is used if <font face="Courier">DynamicServerList=OFF</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326594"></a><p class="table">078883</p>


		</td>
		<td align="left" valign="top">
			<a name="1326596"></a><p class="table">The NSAPI plug-in no longer dumps core when URL rewriting is used with a long URL.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1326632"></a><p class="head2">RMI over IIOP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1326601"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1326603"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326605"></a><p class="table">047057</p>


		</td>
		<td align="left" valign="top">
			<a name="1326607"></a><p class="table">Support for complex objects is fixed in IIOP implementation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326609"></a><p class="table">062082</p>


		</td>
		<td align="left" valign="top">
			<a name="1326611"></a><p class="table">Improved parsing of IIOP URLs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326613"></a><p class="table">067013</p>


		</td>
		<td align="left" valign="top">
			<a name="1326615"></a><p class="table">Now, only if debugging is turned on, are <font face="Courier">onMessages</font> printed whenever there is failure to renew lease.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326617"></a><p class="table">072179</p>


		</td>
		<td align="left" valign="top">
			<a name="1326619"></a><p class="table">Resolved the difference in behavior for JDBC connections taken from pool driver or <font face="Courier">DataSource</font> when not closed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326621"></a><p class="table">073028</p>


		</td>
		<td align="left" valign="top">
			<a name="1326623"></a><p class="table">Now, chunk continuations before encapsulation body are allowed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326625"></a><p class="table">073889</p>


		</td>
		<td align="left" valign="top">
			<a name="1326627"></a><p class="table">If <font face="Courier">MuxableSocketIIOP</font> received more than one message in a chunk and if the overshoot was less than the length of the message header, then subsequent attempts to read the message length were wrong. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326629"></a><p class="table">074100</p>


		</td>
		<td align="left" valign="top">
			<a name="1326631"></a><p class="table">Muxer boundary condition no longer causes garbled message.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1326741"></a><p class="head2">Security
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1326636"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1326638"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326640"></a><p class="table">061659</p>


		</td>
		<td align="left" valign="top">
			<a name="1326642"></a><p class="table">WebLogic Server now starts with <font face="Courier">NTrealms</font> configured</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326644"></a><p class="table">061694</p>


		</td>
		<td align="left" valign="top">
			<a name="1326646"></a><p class="table">When running the SSLClient example, a <font face="Courier">NullPointerException</font> was being thrown at <font face="Courier">weblogic.security.provider.MD2.&lt;init&gt;(MD2.java:24)</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326648"></a><p class="table">062172</p>


		</td>
		<td align="left" valign="top">
			<a name="1326650"></a><p class="table">Now, if cookies are disabled in a browser, form-based authentication redirects to the secure JSP/Servlet.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326652"></a><p class="table">062261</p>


		</td>
		<td align="left" valign="top">
			<a name="1326654"></a><p class="table">Fixed a security issue with EJB <font face="Courier">SessionContext.getCallerPrincipal()</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326656"></a><p class="table">062988</p>


		</td>
		<td align="left" valign="top">
			<a name="1326658"></a><p class="table">Fixed a problem with the NT realms and multiple PDCs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326660"></a><p class="table">063349</p>


		</td>
		<td align="left" valign="top">
			<a name="1326662"></a><p class="table">When implementing an <font face="Courier">AuthFilter</font> class, the methods <font face="Courier">doFailAuth()</font> and <font face="Courier">doSuccessAuth()</font> are now being called.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326664"></a><p class="table">063763</p>


		</td>
		<td align="left" valign="top">
			<a name="1326666"></a><p class="table">Two-way SSL java client connection now works with encrypted private keys.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326668"></a><p class="table">064250</p>


		</td>
		<td align="left" valign="top">
			<a name="1326670"></a><p class="table">The web server is no longer vulnerable to session ID forcing. This applies to web applications protected with form-based authentication.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326672"></a><p class="table">064263</p>


		</td>
		<td align="left" valign="top">
			<a name="1326674"></a><p class="table">Lockout Duration above 322122 will now lock out the user. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326676"></a><p class="table">064285</p>


		</td>
		<td align="left" valign="top">
			<a name="1326678"></a><p class="table">When running the SSLClient with <font face="Courier">ssl.proxyHost/ssl.proxyPort</font>, the <font face="Courier">SSLHostnameVerifier</font> now works as expected.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326680"></a><p class="table">064342</p>


		</td>
		<td align="left" valign="top">
			<a name="1326682"></a><p class="table">It is now possible to redirect the echo $password command output to the Java interpreter to start WebLogic Server other than by using <font face="Courier">password.ini</font> or by specifying the <font face="Courier">-Dweblogic.management.password=$password</font> property.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326684"></a><p class="table">065046</p>


		</td>
		<td align="left" valign="top">
			<a name="1326686"></a><p class="table"><font face="Courier">ManageableRealm.newAcl()</font> no longer returns NULL when the System password is changed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326688"></a><p class="table">065314</p>


		</td>
		<td align="left" valign="top">
			<a name="1326690"></a><p class="table">LDAP version 2 no longer causes issues with user names containing natural language.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326692"></a><p class="table">066232</p>


		</td>
		<td align="left" valign="top">
			<a name="1326694"></a><p class="table">The 2-way SSL with RMI/IIOP <font face="Courier">PingClient</font> example is now working.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326696"></a><p class="table">066264</p>


		</td>
		<td align="left" valign="top">
			<a name="1326698"></a><p class="table">Fixed a problem with the lockout mechanism using Japanese Windows 2000. A 500 error was occurring.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326700"></a><p class="table">066491</p>


		</td>
		<td align="left" valign="top">
			<a name="1326704"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-17.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-17.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326706"></a><p class="table">067726</p>


		</td>
		<td align="left" valign="top">
			<a name="1326708"></a><p class="table">Fixed a problem with form-based authentication.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326710"></a><p class="table">068524</p>


		</td>
		<td align="left" valign="top">
			<a name="1326712"></a><p class="table">Two-way SSL with RMI/IIOP and EJB access and authentication is now working for the <font face="Courier">SimpleCertAuthenticator</font> example. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326714"></a><p class="table">069083</p>


		</td>
		<td align="left" valign="top">
			<a name="1326716"></a><p class="table">Fixed a problem with perimeter authentication.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326718"></a><p class="table">069160</p>


		</td>
		<td align="left" valign="top">
			<a name="1326720"></a><p class="table">There is now a way to set <font face="Courier">ClientCertProxyEnabled</font> for unclustered servers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326722"></a><p class="table">070870</p>


		</td>
		<td align="left" valign="top">
			<a name="1326724"></a><p class="table">LDAPRealmv2 is now fully implemented.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326726"></a><p class="table">071167</p>


		</td>
		<td align="left" valign="top">
			<a name="1326728"></a><p class="table">There is no longer a <font face="Courier">ProtocolException</font> when tunneling HTTPS through iPlanet proxy server. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326730"></a><p class="table">072096</p>


		</td>
		<td align="left" valign="top">
			<a name="1326732"></a><p class="table">Now able to start a managed server using SSL and <font face="Courier">DebugRC4="true"</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326734"></a><p class="table">072916</p>


		</td>
		<td align="left" valign="top">
			<a name="1326736"></a><p class="table">Changed class <font face="Courier">weblogic.security.X500Name</font> to implement Serializable.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326738"></a><p class="table">075109</p>


		</td>
		<td align="left" valign="top">
			<a name="1326740"></a><p class="table">LDAPRealmv2 now caches memberships.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327137"></a><p class="head2">Servlets, JSPs and Web Applications
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1326745"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1326747"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326749"></a><p class="table">044528</p>


		</td>
		<td align="left" valign="top">
			<a name="1326751"></a><p class="table">Under certain situations, <font face="Courier">isUserInRole</font> was returning false when it should have been returning true. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326753"></a><p class="table">051065</p>


		</td>
		<td align="left" valign="top">
			<a name="1326755"></a><p class="table">XML fragments on the XML view of a JSP page were not being passed to out. Non-standard fragments, which are neither standard nor custom tags (tag libraries), are now being sent to the current value of out as is.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326757"></a><p class="table">054694</p>


		</td>
		<td align="left" valign="top">
			<a name="1326759"></a><p class="table"><font face="Courier">RequestDispatcher</font> will now invoke filters upon include/forward properly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326761"></a><p class="table">055333</p>


		</td>
		<td align="left" valign="top">
			<a name="1326763"></a><p class="table">When detecting <font face="Courier">contentType</font> directive at the middle of the JSP, the JSP compiler was failing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326765"></a><p class="table">056153</p>


		</td>
		<td align="left" valign="top">
			<a name="1326767"></a><p class="table">The File Servlet now supports initialization parameters as well as context parameters.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326769"></a><p class="table">058352</p>


		</td>
		<td align="left" valign="top">
			<a name="1326771"></a><p class="table">It is now possible to access a web application that has a one-character name like "i.war" or "j.war".</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326773"></a><p class="table">059026</p>


		</td>
		<td align="left" valign="top">
			<a name="1326775"></a><p class="table">In a web application that contains a servlet, when the mapping defined for this servlet is in the form of *.aBc, accessing the servlet no longer fails.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326777"></a><p class="table">059102</p>


		</td>
		<td align="left" valign="top">
			<a name="1326779"></a><p class="table">The compression filter now works correctly with <font face="Courier">RequestDispatcher</font>. The forward was causing an invocation of the filter, but the servlet engine was sending the empty response back to the client. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326781"></a><p class="table">059219</p>


		</td>
		<td align="left" valign="top">
			<a name="1326783"></a><p class="table">WebLogic Server no longer returns the default port number if Host Header is missing. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326785"></a><p class="table">060023</p>


		</td>
		<td align="left" valign="top">
			<a name="1326787"></a><p class="table">The <font face="Courier">FileServlet</font> now includes the <font face="Courier">SERVLET_PATH</font> when calculating the source filename which means that it is possible to only explicitly serve files from specific directories by mapping the <font face="Courier">FileServlet</font> to "/dir/*" etc.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326789"></a><p class="table">060184</p>


		</td>
		<td align="left" valign="top">
			<a name="1326791"></a><p class="table"><font face="Courier">PathInfo</font> is now decoded and preserves characters in the original URI.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326793"></a><p class="table">060351</p>


		</td>
		<td align="left" valign="top">
			<a name="1326795"></a><p class="table">The method <font face="Courier">PageContext.include(String relativeUrlPath)</font> was not throwing any exception when the URL to be included was not found. Added a log message that appears in the context log file and indicates the parent resource and which resource could not be included. The log message appears in the <font face="Courier">mycontext.log</font> file - where mycontext is the context-path of the webapp. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326797"></a><p class="table">060825</p>


		</td>
		<td align="left" valign="top">
			<a name="1326799"></a><p class="table"><font face="Courier">BodyTagSupport</font> method, <font face="Courier">getBodyContent()</font>, incorrectly returned null when body tag was empty.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326801"></a><p class="table">061377</p>


		</td>
		<td align="left" valign="top">
			<a name="1326803"></a><p class="table">jspc no longer generates <font face="Courier">EVAL_BODY_TAG</font> instead of <font face="Courier">EVAL_BODY_AGAIN</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326805"></a><p class="table">061782</p>


		</td>
		<td align="left" valign="top">
			<a name="1326807"></a><p class="table"><font face="Courier">ServletResponseImpl.setContentType()</font> can now handle multipart type properly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326809"></a><p class="table">061784</p>


		</td>
		<td align="left" valign="top">
			<a name="1326811"></a><p class="table">While getting the log from a managed server, the admin server java process was pegged at 90%. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326813"></a><p class="table">061864</p>


		</td>
		<td align="left" valign="top">
			<a name="1326815"></a><p class="table">WebLogic Server now prevents the display of secure cookies.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326817"></a><p class="table">061948</p>


		</td>
		<td align="left" valign="top">
			<a name="1326819"></a><p class="table">Added a new semantic-predicate to distinguish between tags with body-content set to "tagdependent" or "jsp". Added a new rule before the existing opening-tag rule in the lexer. When the tagdependent rule is invoked, it does the same as the ordinary open-tag rule, but also looks ahead and matches the content of the JSP until it finds a matching closing tag. Everything it finds is escaped for \n, \r, and \ and printed to "out". It then returns to the parent lexer rule which should immediately find the closing tag. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326821"></a><p class="table">061968</p>


		</td>
		<td align="left" valign="top">
			<a name="1326823"></a><p class="table">HEAD method no longer returns request body with use of <font face="Courier">jsp:include.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326825"></a><p class="table">062109</p>


		</td>
		<td align="left" valign="top">
			<a name="1326827"></a><p class="table">Fixed a problem with JSP scripting variable synchronization</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326829"></a><p class="table">062160</p>


		</td>
		<td align="left" valign="top">
			<a name="1326831"></a><p class="table">The parameters <font face="Courier">&lt;compileFlags&gt;</font>, <font face="Courier">&lt;encoding&gt;</font>, and <font face="Courier">&lt;compilerSupportsEncoding&gt;</font> are no longer ignored during precompilation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326833"></a><p class="table">062289</p>


		</td>
		<td align="left" valign="top">
			<a name="1326835"></a><p class="table">WebLogic Server now decodes the spaces in a URL.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326837"></a><p class="table">062395</p>


		</td>
		<td align="left" valign="top">
			<a name="1326839"></a><p class="table"><font face="Courier">load-on-startup</font> in <font face="Courier">web.xml</font> is now be optional</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326841"></a><p class="table">062536</p>


		</td>
		<td align="left" valign="top">
			<a name="1326843"></a><p class="table">The JSP response that contains Japanese characters is no longer garbled when filtered with <font face="Courier">HttpServletResponseWrapper</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326845"></a><p class="table">062538</p>


		</td>
		<td align="left" valign="top">
			<a name="1326847"></a><p class="table">Pages will now be properly parsed regardless of the location of the <font face="Courier">contentType</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326849"></a><p class="table">062542</p>


		</td>
		<td align="left" valign="top">
			<a name="1326851"></a><p class="table">Now, requesting <font face="Courier">aux.jsp / AUX.jsp / PRN.jsp / prn.jsp</font> on a WebLogic Server that is running on a Windows box either succeeds or fails instead of staying in an undetermined state.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326853"></a><p class="table">062579</p>


		</td>
		<td align="left" valign="top">
			<a name="1326855"></a><p class="table">CGI scripts will now be resolved properly even if CGIServlet is registered as a default servlet.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326857"></a><p class="table">062896 &amp; 063009</p>


		</td>
		<td align="left" valign="top">
			<a name="1326859"></a><p class="table">When the JSP parameter, precompile, was set to true  in the web app (WAR) <font face="Courier">weblogic.xml</font>, only the document root level JSPs were being recompiled each time the server restarted. The subdirectory JSPs were not being recompiled. JSPs are now recompiled, even during pre-compilations, only if they have changed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326861"></a><p class="table">062920</p>


		</td>
		<td align="left" valign="top">
			<a name="1326863"></a><p class="table">When specifying an <font face="Courier">&lt;exception-type&gt;</font> in <font face="Courier">web.xml</font> in a webapp (the exception class is located under <font face="Courier">WEB-INF/classes</font>) when the webapp is deployed, WebLogic Server was not finding the exception class and throwing a <font face="Courier">ClassNotFoundException</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326865"></a><p class="table">063007</p>


		</td>
		<td align="left" valign="top">
			<a name="1326867"></a><p class="table">Session table name for JDBC persistence is now configurable.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326869"></a><p class="table">063127</p>


		</td>
		<td align="left" valign="top">
			<a name="1326871"></a><p class="table"><font face="Courier">ServletInputStream</font> now returns data if the session is new. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326873"></a><p class="table">063169</p>


		</td>
		<td align="left" valign="top">
			<a name="1326875"></a><p class="table">Having accented characters and a <font face="Courier">Charset=UTF-8</font> no longer yields the <font face="Courier">weblogic.utils.ParsingException</font> and the nested <font face="Courier">TokenStreamException</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326877"></a><p class="table">063288</p>


		</td>
		<td align="left" valign="top">
			<a name="1326879"></a><p class="table">WebLogic Server now only looks for <font face="Courier">SessionCookie</font> in the cookies if <font face="Courier">CookiesEnabled</font> is true.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326881"></a><p class="table">063414</p>


		</td>
		<td align="left" valign="top">
			<a name="1326883"></a><p class="table">When trying to migrate applications from WebLogic Server 5.1 to 6.1 SP1, there is no longer high CPU utilization.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326885"></a><p class="table">063524</p>


		</td>
		<td align="left" valign="top">
			<a name="1326887"></a><p class="table">A <font face="Courier">NullPointerException</font> is no longer thrown using FileServlet with nativeIO turned on.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326889"></a><p class="table">063563</p>


		</td>
		<td align="left" valign="top">
			<a name="1326891"></a><p class="table"><font face="Courier">weblogic.jspc</font> was not passing <font face="Courier">-encoding JAVAENCODING</font> value to javac from the page tag. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326893"></a><p class="table">063904</p>


		</td>
		<td align="left" valign="top">
			<a name="1326895"></a><p class="table">The inclusion of each page directive in a JSP was leading to the insertion of an extra line feed character in the generated HTML output. If the HTML consisted of an image, the image lost its formatting. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326897"></a><p class="table">063925</p>


		</td>
		<td align="left" valign="top">
			<a name="1326899"></a><p class="table">If a language-specific character encoding is specified for a web application, binary data written to the response output stream is no longer garbled. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326901"></a><p class="table">064294</p>


		</td>
		<td align="left" valign="top">
			<a name="1326903"></a><p class="table">Fixed a problem with the WebLogic Server SessionID reuse using a virtual host.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326905"></a><p class="table">064383</p>


		</td>
		<td align="left" valign="top">
			<a name="1326907"></a><p class="table">HEAD request from an applet no longer issues a <font face="Courier">ClassCastException</font> from <font face="Courier">ClasspathServlet</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326909"></a><p class="table">064446</p>


		</td>
		<td align="left" valign="top">
			<a name="1326911"></a><p class="table">When using two levels of proxying, a call to <font face="Courier">getRemoteUser</font> was always returning NULL. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326913"></a><p class="table">064449</p>


		</td>
		<td align="left" valign="top">
			<a name="1326915"></a><p class="table">Web application deployment was failing and resulting in a <font face="Courier">StringIndexOutOfBoundsException</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326917"></a><p class="table">064650</p>


		</td>
		<td align="left" valign="top">
			<a name="1409548"></a><p class="table">WebLogic Server threw a NoClassDefFoundError and was unable to load a class from a JAR file with a period in its name.</p>

<a name="1409542"></a><p class="table">WebLogic Server is now able to load a class from a JAR file with a period in its name.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326921"></a><p class="table">064880</p>


		</td>
		<td align="left" valign="top">
			<a name="1326923"></a><p class="table">In form-based authentication, when the user directly went to the login page, WebLogic Server was forwarding the user to the welcome page. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326925"></a><p class="table">064988</p>


		</td>
		<td align="left" valign="top">
			<a name="1326927"></a><p class="table">JSP precompilation no longer aborts after a compile error when the -k flag is set.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326929"></a><p class="table">065104</p>


		</td>
		<td align="left" valign="top">
			<a name="1326931"></a><p class="table">Fixed by 064650 and 065213.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326933"></a><p class="table">065194</p>


		</td>
		<td align="left" valign="top">
			<a name="1326935"></a><p class="table">A multi-part request in the SSL process was failing through a slow connection. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326937"></a><p class="table">065213</p>


		</td>
		<td align="left" valign="top">
			<a name="1409655"></a><p class="table">A NoClassDefFoundError occurred if more than one jar file was defined in the manifest classpath entry.  For example, when xalan.jar was in WEB-INF/lib of war file, this problem happened because it specified two jar files in the manifest classpath entry.</p>

<a name="1326939"></a><p class="table">WebLogic Server no longer throws a NoClassDefFoundError under these circumstances.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326941"></a><p class="table">065924</p>


		</td>
		<td align="left" valign="top">
			<a name="1326943"></a><p class="table">In a non-clustered environment, web applications with cluster-specific properties can now be deployed using the new option: <font face="Courier">replicated_if_clustered</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326945"></a><p class="table">066395</p>


		</td>
		<td align="left" valign="top">
			<a name="1326947"></a><p class="table"><font face="Courier">response.addHeader</font> was failing with null character being inserted erroneously. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326949"></a><p class="table">066500</p>


		</td>
		<td align="left" valign="top">
			<a name="1326951"></a><p class="table">Forwarded JSP pages will now terminate the execution of the current page.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326953"></a><p class="table">066569</p>


		</td>
		<td align="left" valign="top">
			<a name="1326955"></a><p class="table"><font face="Courier">request.getParameter()</font> is now returning the parameter for post request with Javaclient. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326957"></a><p class="table">066708</p>


		</td>
		<td align="left" valign="top">
			<a name="1326959"></a><p class="table"><font face="Courier">request.setCharacterEncoding</font> was not working for JSP includes. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326961"></a><p class="table">067001</p>


		</td>
		<td align="left" valign="top">
			<a name="1326963"></a><p class="table">When using the Http Proxy/Cluster servlet, a request was sent to some back-end server and the response body was not returned to the client if the request came back with a status of 100. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326965"></a><p class="table">067072</p>


		</td>
		<td align="left" valign="top">
			<a name="1326967"></a><p class="table">When a JSP had <font face="Courier">pageEncoding</font> without <font face="Courier">contentType</font> charset specification, the generated .java file was in VM default encoding and the compile failed. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326969"></a><p class="table">067073</p>


		</td>
		<td align="left" valign="top">
			<a name="1326971"></a><p class="table">Generated .java and -encoding for javac did not match when both <font face="Courier">contentType</font> and <font face="Courier">pageEncoding</font> existed. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326973"></a><p class="table">067077</p>


		</td>
		<td align="left" valign="top">
			<a name="1326975"></a><p class="table">When there was an encoding setting in <font face="Courier">jsp-param</font> of <font face="Courier">weblogic.xml</font> at a JSP file with <font face="Courier">pageEncoding</font>, <font face="Courier">pageEncoding</font> was not used. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326977"></a><p class="table">067292</p>


		</td>
		<td align="left" valign="top">
			<a name="1326979"></a><p class="table">Latin one characters in request parameters, when re-directing from one JSP to another, were getting lost. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326981"></a><p class="table">067505</p>


		</td>
		<td align="left" valign="top">
			<a name="1326983"></a><p class="table">Fixed a problem with port in Location header for an HTTP re-direct.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326985"></a><p class="table">067748</p>


		</td>
		<td align="left" valign="top">
			<a name="1326987"></a><p class="table">It is now possible to compress the output stream of a servlet.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326989"></a><p class="table">067948</p>


		</td>
		<td align="left" valign="top">
			<a name="1326991"></a><p class="table">Page buffer directive is no longer ignored if it is in an included JSP page.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326993"></a><p class="table">068024</p>


		</td>
		<td align="left" valign="top">
			<a name="1326995"></a><p class="table">Removed the need to use sync blocks in <font face="Courier">HttpServer</font> or <font face="Courier">HttpClusterServlet</font>. A new enumeration is constructed each time it is required that references a Set that is guaranteed not to change.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1326997"></a><p class="table">068560</p>


		</td>
		<td align="left" valign="top">
			<a name="1326999"></a><p class="table">Certain JSP pages' source code was being shown on the browser. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327001"></a><p class="table">068648</p>


		</td>
		<td align="left" valign="top">
			<a name="1327003"></a><p class="table">Limiting maximum POST size now works properly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327005"></a><p class="table">068674</p>


		</td>
		<td align="left" valign="top">
			<a name="1327007"></a><p class="table">There is no longer a <font face="Courier">ClassCastException</font> thrown when using <font face="Courier">HttpProxyServlet</font> in conjunction with a filter.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327009"></a><p class="table">068809</p>


		</td>
		<td align="left" valign="top">
			<a name="1327011"></a><p class="table">Now, the write signature is honored when using encoding that is different from the default.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327013"></a><p class="table">068821</p>


		</td>
		<td align="left" valign="top">
			<a name="1327015"></a><p class="table"><font face="Courier">getRequestURI</font> from Request Object is now returning the full length of the URI.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327017"></a><p class="table">069304</p>


		</td>
		<td align="left" valign="top">
			<a name="1327019"></a><p class="table"><font face="Courier">HttpClusterServlet</font> now re-reads the post data from the input stream up to the declared content-length.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327021"></a><p class="table">069511</p>


		</td>
		<td align="left" valign="top">
			<a name="1327023"></a><p class="table">Error page attributes are now being set on request for JSP error directives.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327025"></a><p class="table">069630</p>


		</td>
		<td align="left" valign="top">
			<a name="1327027"></a><p class="table">If the property of a custom tag in a JSP contained an escape sequence <font face="Courier">(\")</font>, the JSP was not compiling. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327029"></a><p class="table">069652</p>


		</td>
		<td align="left" valign="top">
			<a name="1327031"></a><p class="table">The response header (<font face="Courier">ContentType</font>) and the <font face="Courier">JSPWriter</font> now have the same character set while serving a page to client.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327033"></a><p class="table">069809</p>


		</td>
		<td align="left" valign="top">
			<a name="1327036"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-03.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-03.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327038"></a><p class="table">069956</p>


		</td>
		<td align="left" valign="top">
			<a name="1327040"></a><p class="table">For replicated sessions, the open session count is incremented only once.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327042"></a><p class="table">070090</p>


		</td>
		<td align="left" valign="top">
			<a name="1327044"></a><p class="table">When sending session cookies in the response to the client, WebLogic Server did not specify the cache-control appropriately to prevent caching proxies from caching the cookie. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327046"></a><p class="table">070132</p>


		</td>
		<td align="left" valign="top">
			<a name="1327048"></a><p class="table">It is now possible to request a filename with Chinese characters.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327050"></a><p class="table">070151</p>


		</td>
		<td align="left" valign="top">
			<a name="1327052"></a><p class="table"><font face="Courier">weblogic.jspc</font> no longer silently exits when <font face="Courier">&lt;load-on-startup&gt;</font> contains an empty value.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327054"></a><p class="table">070470</p>


		</td>
		<td align="left" valign="top">
			<a name="1327056"></a><p class="table">Subsequent reload/refresh was at times executed by the old code that was still deployed in the container. This is now prevented by reloading of the stale class in the case where the JSP fails to parse.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327058"></a><p class="table">070755</p>


		</td>
		<td align="left" valign="top">
			<a name="1327060"></a><p class="table">No longer sending wlsproxy specific headers if the requests are not coming via wlsproxies.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327062"></a><p class="table">070823</p>


		</td>
		<td align="left" valign="top">
			<a name="1327064"></a><p class="table">Eliminated inconsistent behavior of index directories parameter across WAR and EAR components.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327066"></a><p class="table">071076</p>


		</td>
		<td align="left" valign="top">
			<a name="1327068"></a><p class="table">Fixed classloading behavior problem that resulted in having both child1 and child2 using the same classloader, BUT additional classloaders being created and destroyed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327070"></a><p class="table">071082</p>


		</td>
		<td align="left" valign="top">
			<a name="1327072"></a><p class="table">Fixed broken <font face="Courier">URLEncoding</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327074"></a><p class="table">071634</p>


		</td>
		<td align="left" valign="top">
			<a name="1327076"></a><p class="table">Fixed chunked transfer encoding issues that occurred when WebLogic Server 6.1 was communicating with WebLogic Server 5.1.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327078"></a><p class="table">072557</p>


		</td>
		<td align="left" valign="top">
			<a name="1327080"></a><p class="table"><font face="Courier">response.addCookie(name)</font> now honors the order in which cookies are sent to the browser.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327082"></a><p class="table">073203</p>


		</td>
		<td align="left" valign="top">
			<a name="1327084"></a><p class="table">Now able to use the + character in a <font face="Courier">&lt;url-pattern&gt;</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327086"></a><p class="table">073380</p>


		</td>
		<td align="left" valign="top">
			<a name="1327088"></a><p class="table">Improved the error messages for <font face="Courier">CGIServlet</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327090"></a><p class="table">073516</p>


		</td>
		<td align="left" valign="top">
			<a name="1327092"></a><p class="table">Fixed a problem with the CGI <font face="Courier">NonParsedHeader</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327094"></a><p class="table">073792</p>


		</td>
		<td align="left" valign="top">
			<a name="1327096"></a><p class="table">Active sessions will no longer be invalidated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327098"></a><p class="table">073797</p>


		</td>
		<td align="left" valign="top">
			<a name="1327100"></a><p class="table">JSP <font face="Courier">useBean</font> tag is now parsed properly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327102"></a><p class="table">074015</p>


		</td>
		<td align="left" valign="top">
			<a name="1327104"></a><p class="table">There was a <font face="Courier">NegativeArraySizeException</font> if PROTOCOL is missing in the first line of the request. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327106"></a><p class="table">075201</p>


		</td>
		<td align="left" valign="top">
			<a name="1327108"></a><p class="table">The security-constraint is now working when the url-pattern refers to a two-character directory.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327110"></a><p class="table">075607</p>


		</td>
		<td align="left" valign="top">
			<a name="1327112"></a><p class="table">Socket exceptions squashed by PrintWriter could have tied up execute threads in servlets and JSPs. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327114"></a><p class="table">075628</p>


		</td>
		<td align="left" valign="top">
			<a name="1327116"></a><p class="table">When a program submitted data to a servlet using Content-Type that was set to include a charset, <font face="Courier">getParameterValues("...")</font>, returned every submitted value twice. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327118"></a><p class="table">076056</p>


		</td>
		<td align="left" valign="top">
			<a name="1327120"></a><p class="table">When a JAR file's <font face="Courier">MANIFEST.MF</font> contained a JAR file that was in a different directory, WebLogic Server was throwing a <font face="Courier">StringIndexOutOfBoundsException</font> and the web app was not being deployed. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327122"></a><p class="table">076476</p>


		</td>
		<td align="left" valign="top">
			<a name="1327124"></a><p class="table">When using multiple frames, the last <font face="Courier">accesstime</font> set by one frame was not being honored by the other frame. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327126"></a><p class="table">076742</p>


		</td>
		<td align="left" valign="top">
			<a name="1327128"></a><p class="table">Added a check for the <font face="Courier">&lt;env-entry-value&gt;</font> element.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327130"></a><p class="table">077329</p>


		</td>
		<td align="left" valign="top">
			<a name="1327132"></a><p class="table"><font face="Courier">HttpSessionListener</font> failed to work correctly when the session is set to replicated. This has been fixed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327134"></a><p class="table">078930</p>


		</td>
		<td align="left" valign="top">
			<a name="1327136"></a><p class="table">Requesting <font face="Courier">http://host:port/webApp/aux%20.jsp</font> no longer hangs the thread servicing the request.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327272"></a><p class="head2">System Administration
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327141"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327143"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327145"></a><p class="table">050136</p>


		</td>
		<td align="left" valign="top">
			<a name="1327147"></a><p class="table">You can now unset the property values for MBeans from the command line.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327149"></a><p class="table">052774</p>


		</td>
		<td align="left" valign="top">
			<a name="1327151"></a><p class="table">Applications in the <font face="Courier">config.xml</font> file that do not actually exist are no longer being deployed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327153"></a><p class="table">054836</p>


		</td>
		<td align="left" valign="top">
			<a name="1327155"></a><p class="table">When migrating a cluster of servers from WebLogic Server 4.5 or 5.1 to WebLogic Server 6.0 or 6.1, an <font face="Courier">InstanceNotFoundException</font> was thrown. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327157"></a><p class="table">056158</p>


		</td>
		<td align="left" valign="top">
			<a name="1327159"></a><p class="table">Undeploying an enterprise application that contains a default web app caused an exception at undeployment. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327161"></a><p class="table">056832</p>


		</td>
		<td align="left" valign="top">
			<a name="1327163"></a><p class="table">The WLEC Connection Pool was not trying to start when in a cluster. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327165"></a><p class="table">058946</p>


		</td>
		<td align="left" valign="top">
			<a name="1327167"></a><p class="table">Now, JSPs that are pre-compiled on the admin server do not compile again on the managed server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327169"></a><p class="table">061426</p>


		</td>
		<td align="left" valign="top">
			<a name="1327171"></a><p class="table">Servlets load-on-startup after, not before, the Start Up classes have run</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327173"></a><p class="table">061676</p>


		</td>
		<td align="left" valign="top">
			<a name="1327175"></a><p class="table">The converter utility now puts all log files in the <font face="Courier">SERVER/DOMAIN/logs</font> directory.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327177"></a><p class="table">061703</p>


		</td>
		<td align="left" valign="top">
			<a name="1327179"></a><p class="table"><font face="Courier">weblogic.deploy</font> was always using the default <font face="Courier">.wlstaging</font> directory, even if the application was originally deployed using a path other than <font face="Courier">.wlstaging </font>(i.e., the <font face="Courier">config.xml</font> was hand-edited). This resulted in update not working for applications that were installed any other way than by using <font face="Courier">weblogic.deploy</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327181"></a><p class="table">062135</p>


		</td>
		<td align="left" valign="top">
			<a name="1327183"></a><p class="table">Re-deploying an exploded webapp that has a subdirectory with the same name as the webapp results in an error. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327185"></a><p class="table">062151</p>


		</td>
		<td align="left" valign="top">
			<a name="1327187"></a><p class="table">Now, managed servers on a remote machine retain webapp name/timestamps.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327189"></a><p class="table">062749</p>


		</td>
		<td align="left" valign="top">
			<a name="1327191"></a><p class="table">It is now possible to update the webapp if the webapp is deleted, deployed, updated, and then updated again.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327193"></a><p class="table">064101</p>


		</td>
		<td align="left" valign="top">
			<a name="1327195"></a><p class="table">The admin server JNDI now shows the managed servers' MBeanHome.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327197"></a><p class="table">064280</p>


		</td>
		<td align="left" valign="top">
			<a name="1327199"></a><p class="table">Fixed a performance regression that occurred when using the <font face="Courier">weblogic.refresh</font> utility to update JSPs on the managed servers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327201"></a><p class="table">064575</p>


		</td>
		<td align="left" valign="top">
			<a name="1327203"></a><p class="table"><font face="Courier">weblogic.refresh</font> did not refresh JSPs and static files from Windows 2000 to a server running on Solaris. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327205"></a><p class="table">064722</p>


		</td>
		<td align="left" valign="top">
			<a name="1327207"></a><p class="table">Is is now possible to deploy an EJB using <font face="Courier">weblogic.deploy</font> if a deployed component does not exist at start-up time.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327209"></a><p class="table">066480</p>


		</td>
		<td align="left" valign="top">
			<a name="1327211"></a><p class="table">Registering a custom MBean with an object name of null, the server was throwing an exception. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327213"></a><p class="table">066704</p>


		</td>
		<td align="left" valign="top">
			<a name="1327215"></a><p class="table">The <font face="Courier">FailuresFatal</font> property was not getting automatically generated upon migration from WebLogic Server 5.x to WebLogic Server 6.x. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327217"></a><p class="table">067917</p>


		</td>
		<td align="left" valign="top">
			<a name="1327219"></a><p class="table">The property, Console Context Path, on the &lt;domain&gt;-&gt;Configuration-&gt;General page of the console application now enables a domain to be accessible by a contextpath other than console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327221"></a><p class="table">068231</p>


		</td>
		<td align="left" valign="top">
			<a name="1327223"></a><p class="table">Re-deploying an enterprise application to a managed server (using <font face="Courier">weblogic.deploy</font>) after modifying the context-root now makes the new context-root effective until a server restart.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327225"></a><p class="table">068579</p>


		</td>
		<td align="left" valign="top">
			<a name="1327227"></a><p class="table">Redeployment to Virtual Host was returning <font face="Courier">javax.management.InstanceNotFoundException</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327229"></a><p class="table">068745</p>


		</td>
		<td align="left" valign="top">
			<a name="1327231"></a><p class="table">Increased the console speed in a 100-node cluster.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327233"></a><p class="table">069145</p>


		</td>
		<td align="left" valign="top">
			<a name="1327235"></a><p class="table">For auto deploy in the applications directory, the admin server has been added to the targets if it's not empty.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327237"></a><p class="table">069407</p>


		</td>
		<td align="left" valign="top">
			<a name="1327239"></a><p class="table">Multiple senders can now be saved in the <font face="Courier">MBeanServerNotificationListener</font>'s list.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327241"></a><p class="table">069686</p>


		</td>
		<td align="left" valign="top">
			<a name="1327243"></a><p class="table">It is now possible, using MBeans, to change the <font face="Courier">weblogic.xml</font> cookie name after the web application is deployed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327245"></a><p class="table">071633</p>


		</td>
		<td align="left" valign="top">
			<a name="1327247"></a><p class="table">Fixed <font face="Courier">svuid</font> for MBean interfaces.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327249"></a><p class="table">072676</p>


		</td>
		<td align="left" valign="top">
			<a name="1327251"></a><p class="table">Added <font face="Courier">LoadBeforeAppDeployments</font> to console for startup class.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327253"></a><p class="table">072964</p>


		</td>
		<td align="left" valign="top">
			<a name="1327255"></a><p class="table">Fixed a problem that was causing a  <font face="Courier">javax.management.AttributeNotFoundException</font> when using the EJB Descriptor editor in the console. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327257"></a><p class="table">073674</p>


		</td>
		<td align="left" valign="top">
			<a name="1327259"></a><p class="table">After webapp deployment, the <font face="Courier">weblogic.xml</font> session persistence type is now changed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327261"></a><p class="table">075139</p>


		</td>
		<td align="left" valign="top">
			<a name="1327263"></a><p class="table">Fixed a problem that was preventing <font face="Courier">weblogic.deploy</font> from deploying an application to a cluster.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327265"></a><p class="table">075667</p>


		</td>
		<td align="left" valign="top">
			<a name="1327267"></a><p class="table">Managed servers were not discovered by the admin server when the admin server was restarted. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327269"></a><p class="table">077750</p>


		</td>
		<td align="left" valign="top">
			<a name="1327271"></a><p class="table">Fixed a problem with deploying an EJB when the JNDI name was already in use.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327320"></a><p class="head2">Web Services
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327276"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327278"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327280"></a><p class="table">046215</p>


		</td>
		<td align="left" valign="top">
			<a name="1327282"></a><p class="table">You can now correctly use the protocol attribute of the wsgen Ant task to specify that you want to use HTTPS (rather than the default HTTP) when invoking a WebLogic Web service.  </p>

<a name="1327283"></a><p class="table">You must, however, perform the following additional steps if you want to use HTTPS:</p>


			<ul><a name="1327284"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>Add the following line of Java code to the client application right before creating a URL:</font>
<a name="1327285"></a><blockquote><pre><font face="Courier" color="#0000FF">System.setProperty( "java.protocol.handler.pkgs", 
"weblogic.net" );
</font></pre></blockquote>

<a name="1327286"></a><p class="table"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-1" color="#000000"><li>If you are running the examples server with the SSL certificate shipped with WebLogic Server, you need to specify the following on the command line when running your client application:</font>
<a name="1327287"></a><blockquote><pre><font face="Courier" color="#0000FF">-Dweblogic.security.SSL.ignoreHostnameVerification=true
</font></pre></blockquote>

			</ul>

		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327289"></a><p class="table">062976</p>


		</td>
		<td align="left" valign="top">
			<a name="1327291"></a><p class="table"><font face="Courier">MSSoapClient.ConnectorProperty</font> for <font face="Courier">AuthUser</font> and <font face="Courier">AuthPassword</font> is now passed to <font face="Courier">InitialContext</font> of EJB.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327293"></a><p class="table">065205</p>


		</td>
		<td align="left" valign="top">
			<a name="1327295"></a><p class="table">Web Services <font face="Courier">FaultHandler </font>was never being invoked. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327297"></a><p class="table">065669</p>


		</td>
		<td align="left" valign="top">
			<a name="1327299"></a><p class="table">Now able to use security ACL on a WSDL URL.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327301"></a><p class="table">066226</p>


		</td>
		<td align="left" valign="top">
			<a name="1327303"></a><p class="table">WebLogic Web services now support two-way SSL authentication between client applications and RPC-style Web services.</p>

<a name="1327304"></a><p class="table">To use two-way SSL authentication, add the following Java code to your client application before you obtain the context you are using the look up your Web service:</p>

<a name="1327305"></a><p class="table">InputStream certs[] = new InputStream[3];</p>

<a name="1327306"></a><p class="table"><font face="Courier">certs[0]=new PEMInputStream(new<br>           FileInputStream("sample_key.pem"));<br>certs[1]=new PEMInputStream(new<br>           FileInputStream("sample_cert.pem"));<br>certs[2]=new PEMInputStream(new<br>           FileInputStream("sample_ca.pem"));</font></p>

<a name="1327307"></a><p class="table"><font face="Courier">h.put(SoapContext.SSL_CLIENT_CERTIFICATE, certs);</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327309"></a><p class="table">066703</p>


		</td>
		<td align="left" valign="top">
			<a name="1327311"></a><p class="table">There were excessive error messages being generated on SOAP client. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327313"></a><p class="table">072788</p>


		</td>
		<td align="left" valign="top">
			<a name="1327315"></a><p class="table">Now, <font face="Courier">wsdl</font> is generated with element instead of attribute for complex types.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327317"></a><p class="table">073897</p>


		</td>
		<td align="left" valign="top">
			<a name="1327319"></a><p class="table">SOAP Fault now uses CDATA.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327352"></a><p class="head2">WebLogic Tuxedo Connector 
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327324"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327326"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327328"></a><p class="table">052022</p>


		</td>
		<td align="left" valign="top">
			<a name="1327330"></a><p class="table">Codeset translation between WebLogic Tuxedo domains and Tuxedo domains is provided using the WebLogic Server <font face="Courier">weblogic.wtc.encoding property</font>. For more information, see <a href="../wtc_admin/WTC_Admin_Install.html#WTCencoding">Configuring WebLogic Tuxedo Connector for Non-ASCII Codesets</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327333"></a><p class="table">055170</p>


		</td>
		<td align="left" valign="top">
			<a name="1327335"></a><p class="table">Fixed problem with <font face="Courier">Fchg</font>  method of the <font face="Courier">TypedFML(32)</font> class in the WTC package.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327337"></a><p class="table">056230</p>


		</td>
		<td align="left" valign="top">
			<a name="1327339"></a><p class="table"><font face="Courier">tbridge</font> no longer fails to initialize the <font face="Courier">wlsErrorDestination</font> JMS queue</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327341"></a><p class="table">062843</p>


		</td>
		<td align="left" valign="top">
			<a name="1327343"></a><p class="table">Fixed a problem with the <font face="Courier">Fdel</font> method of the <font face="Courier">TypedFML(32)</font> class in the WTC package.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327345"></a><p class="table">063290</p>


		</td>
		<td align="left" valign="top">
			<a name="1327347"></a><p class="table">When loading large code tables from Tuxedo to WebLogic Server, the duration of service calls (<font face="Courier">tpcall</font>) is no longer dramatically longer with WTC compared to with Jolt.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327349"></a><p class="table">066489</p>


		</td>
		<td align="left" valign="top">
			<a name="1327351"></a><p class="table">Now able to call an EJB from a Tuxedo client when using FML32 buffer.</p>


		</td>

	</tr>

</table>


</center>
 </p>

<a name="1327395"></a><p class="head2">XML
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327356"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327358"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327360"></a><p class="table">061660</p>


		</td>
		<td align="left" valign="top">
			<a name="1327362"></a><p class="table">Using JAXP API to parse XML document, there is no longer the error message "Failed to open XML document".</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327364"></a><p class="table">062297</p>


		</td>
		<td align="left" valign="top">
			<a name="1327366"></a><p class="table">You can now set the cache memory size, cache disk size, and cache timeout interval for the external entity cache using the Administration Console. In previous WebLogic Server versions, these fields did not accept any values.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327368"></a><p class="table">063433</p>


		</td>
		<td align="left" valign="top">
			<a name="1327370"></a><p class="table">Fixed a regression with the XSLT processor embedded within WebLogic Server 6.0. When an MFL file contained a group containing a String and either a Literal or XSLT processor embedded within a WebLogic Server 6.0 Filler field, the transformation was hanging.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327372"></a><p class="table">067966</p>


		</td>
		<td align="left" valign="top">
			<a name="1327374"></a><p class="table">Due to a fix in the WebLogic Server classloader, you can now plug-in any version of the Xerces XML parser.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327376"></a><p class="table">065345</p>


		</td>
		<td align="left" valign="top">
			<a name="1327378"></a><p class="table">Fixed a problem that was causing <font face="Courier">CharReader.fillCurrentChunk</font> to throw a <font face="Courier">java.lang.ArrayIndexOutOfBoundsException</font>.  </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327380"></a><p class="table">067022</p>


		</td>
		<td align="left" valign="top">
			<a name="1327382"></a><p class="table">The transformer shipped with WebLogic Server 6.1 now transforms an XML document as expected (using a given XSL). </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327384"></a><p class="table">068656</p>


		</td>
		<td align="left" valign="top">
			<a name="1327386"></a><p class="table">Fixed a problem that was causing a <font face="Courier">NullPointerException</font> in <font face="Courier">weblogic.xml.jaxp.ChainingEntityResolver.pushEntityResolver</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327388"></a><p class="table">073311</p>


		</td>
		<td align="left" valign="top">
			<a name="1327390"></a><p class="table">Using the <font face="Courier">weblogic.apache.xalan.xslt</font> to transform huge amount of data led to <font face="Courier">javax.xml.transform.TransformerException</font>: String index out of range. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327392"></a><p class="table">075800</p>


		</td>
		<td align="left" valign="top">
			<a name="1327394"></a><p class="table">The built-in XML parser now correctly parses XML files that use external entity references to include external chunks of XML within the original XML file.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327398"></a><p class="head2">Third-P<a name="Third-Party"></a>arty JAR Files in WebLogic Server 6.1 Service Pack 3
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327401"></a><p class="table"><strong>JAR File</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327403"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327405"></a><p class="table">J2EE, javax and subdirectories</p>


		</td>
		<td align="left" valign="top">
			<a name="1327407"></a><p class="table">JTA 1.0.1</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327409"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327411"></a><p class="table">JCA 1.0</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327413"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327415"></a><p class="table">JMX 1.0</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327417"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327419"></a><p class="table">EJB 2.0</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327421"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327423"></a><p class="table">Servlet 2.3</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327425"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327427"></a><p class="table">JSP 1.2</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327429"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327431"></a><p class="table">JMS 1.0.2</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327433"></a><p class="table">XML</p>


		</td>
		<td align="left" valign="top">
			<a name="1327435"></a><p class="table">org.apache.xalan 2.0.1</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327437"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327439"></a><p class="table">org.apache.xerces 1.3.1</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327441"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327443"></a><p class="table">Xerces 1.2.0 - DOM and SAX parsers</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327445"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327447"></a><p class="table">org.w3c.dom interfaces</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327449"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327451"></a><p class="table">org.xml.sax interfaces</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327453"></a><p class="table">LIBRARIES</p>


		</td>
		<td align="left" valign="top">
			<a name="1327455"></a><p class="table">antlr 2.7.0 - runtime classes of antlr compiler construction toolkit</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327457"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327459"></a><p class="table">bsh 1.2b3 - bean shell</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327461"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327463"></a><p class="table">certicom - SSLPlus/Java 3.1.12B (used by Node Manager)</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327465"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327467"></a><p class="table">netscape - Netscape Directory SDK 4.1 for Java</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327469"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327471"></a><p class="table">Oracle 8.1.6</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327473"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327475"></a><p class="table">Oracle 8.1.7</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327477"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327479"></a><p class="table">Apache Jakart Ant - 1.3 Apache build system</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327481"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327483"></a><p class="table">Apache Jakart Oro 2.0 - regular expression matching library</p>


		</td>

	</tr>

</table>


</center>
</p>

<p>&nbsp;</p>
<hr noshade>
<a name="1327486"></a><p class="head1">WebLogic Serv<a name="SP2"></a>er 6.1 Service Pack 2 Solutions</p>

<a name="1327487"></a><p>The next sections describe problems that were resolved in WebLogic Server 6.1 Service Pack 2.</p>


<ul type="disc">
<ul type="disc">

<a name="1327491"></a><p><li type="disc"><a href="bugfixes2.html#1327648">EJB</a>


<a name="1327495"></a><p><li type="disc"><a href="bugfixes2.html#1327679">Examples</a>


<a name="1327499"></a><p><li type="disc"><a href="bugfixes2.html#1327698">JDBC</a>


<a name="1327503"></a><p><li type="disc"><a href="bugfixes2.html#1327709">jDriver</a>


<a name="1327507"></a><p><li type="disc"><a href="bugfixes2.html#1326005">JMS</a>


<a name="1327511"></a><p><li type="disc"><a href="bugfixes2.html#1327838">Miscellaneous</a>


<a name="1327515"></a><p><li type="disc"><a href="bugfixes2.html#1327865">Plug-Ins</a>


<a name="1327519"></a><p><li type="disc"><a href="bugfixes2.html#1327876">RMI over IIOP</a>


<a name="1327523"></a><p><li type="disc"><a href="bugfixes2.html#1327893">Security</a>


<a name="1327527"></a><p><li type="disc"><a href="bugfixes2.html#1328082">Servlets, JSP and Web Applications</a>


<a name="1327531"></a><p><li type="disc"><a href="bugfixes2.html#1328151">System Administration</a>


<a name="1327535"></a><p><li type="disc"><a href="bugfixes2.html#1328199">Web Services</a>


<a name="1327539"></a><p><li type="disc"><a href="bugfixes2.html#1328214">WebLogic Tuxedo Connector</a>


<a name="1327543"></a><p><li type="disc"><a href="bugfixes2.html#1328244">XML</a>

</ul>
</ul>
<a name="1327648"></a><p class="head2">EJB
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327547"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327549"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327551"></a><p class="table">044294</p>


		</td>
		<td align="left" valign="top">
			<a name="1327553"></a><p class="table">Fixed a memory leak that could occur when creating multiple entity beans; the garbage collector was not reclaiming all of the used memory.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327555"></a><p class="table">049590</p>


		</td>
		<td align="left" valign="top">
			<a name="1327557"></a><p class="table">The <font face="Courier">ejbc</font> compiler now will produce IDL files in the correct order, putting primitive value types before non-primitives.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327559"></a><p class="table">049709, </p>

<a name="1327560"></a><p class="table">055644,</p>

<a name="1327561"></a><p class="table">059540</p>

<a name="1327562"></a><p class="table"><br></p>


		</td>
		<td align="left" valign="top">
			<a name="1327564"></a><p class="table">Previously, due to timing problems, exceptions/errors were thrown when EJBs were deployed in a cluster and then a re-deploy or un-deploy was attempted. </p>

<a name="1327565"></a><p class="table">It was possible that an undeploy JNDI message would arrive after local undeploy had taken place. This would cause unmarshaling errors, as the classloader for an EJB is discarded once local undeployment of an EJB is done. This unmarshal problem would result in <font face="Courier">DistributedManagement</font> exceptions popping up in log files, and the EJB could never be un-deployed from a cluster. </p>

<a name="1327566"></a><p class="table">Similarly it was possible that a JNDI binding announcement would arrive before local deployment was successful, resulting in same unmarshaling/ de-serialization errors (as EJB classes required to unmarshal are not there yet). </p>

<a name="1327567"></a><p class="table">Fixes in 6.1 Service Pack 2 take care of both these problems and remove any timing dependencies in local deploy/undeploy and JNDI Announcements. Now you can successfully deploy/undeploy/redeploy EJBs in a cluster without any exceptions and problems due to race conditions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327569"></a><p class="table">051454</p>


		</td>
		<td align="left" valign="top">
			<a name="1327571"></a><p class="table">In the case where an EJB has been idle longer than the value of <font face="Courier">idle-timeout-secs</font>, it is removed from the cache and <font face="Courier">ejbremove()</font> is called.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327573"></a><p class="table">055113</p>


		</td>
		<td align="left" valign="top">
			<a name="1327575"></a><p class="table">The <font face="Courier">examples\ejb\basic\statelessSession\build.xml</font> file had a typo where the name of the EJB jar file was misspelled. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327577"></a><p class="table">055163</p>


		</td>
		<td align="left" valign="top">
			<a name="1327579"></a><p class="table">Fixed a problem with stateful session beans that are configured with in-memory replication across a cluster. The bean was failing over when an <font face="Courier">EJBException</font> was thrown, but not when the bean was removed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327581"></a><p class="table">055502 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327583"></a><p class="table">A message-driven bean now recovers messages after an application throws an exception. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327585"></a><p class="table">055510, 056543</p>


		</td>
		<td align="left" valign="top">
			<a name="1327587"></a><p class="table">Fixed problems with container-managed persistence 1.1 EJBs not re-reading deployment descriptors after being redeployed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327589"></a><p class="table">057119, 054806</p>


		</td>
		<td align="left" valign="top">
			<a name="1327591"></a><p class="table">Fixed an out of memory problem that occurred when redeploying EJBs several times over; the <font face="Courier">&lt;max-beans-in-free-pool&gt;</font> descriptor was being ignored and exceeded.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327593"></a><p class="table">058210 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327595"></a><p class="table">The <font face="Courier">ejbRemove()</font> method is now invoked at undeployment for both stateful session beans and stateless session beans with both home and remote interfaces.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327597"></a><p class="table">058857 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327599"></a><p class="table">Fixed problem where entity beans weren't being recognized if the home didn't have a <font face="Courier">create()</font> method.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327601"></a><p class="table">059043</p>


		</td>
		<td align="left" valign="top">
			<a name="1327603"></a><p class="table"><font face="Courier">ejbc</font> no longer complains when the <font face="Courier">EJBLocalObject()</font> method has a throws exception clause that does not throw a <font face="Courier">RemoteException</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327605"></a><p class="table">059046</p>


		</td>
		<td align="left" valign="top">
			<a name="1327607"></a><p class="table">Accessing a stateful session bean from a stateless session bean in a cluster no longer fails. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327609"></a><p class="table">060018</p>


		</td>
		<td align="left" valign="top">
			<a name="1327611"></a><p class="table">Accessing a ReadOnly EJB with container managed relationships no longer causes a <font face="Courier">LockTimedOut</font> exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327613"></a><p class="table">055842 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327615"></a><p class="table">Fixed a problem where a message-driven bean could not access a remote queue on another physical machine because it the client could not be authenticated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327617"></a><p class="table">058074</p>


		</td>
		<td align="left" valign="top">
			<a name="1327619"></a><p class="table">Storing a reference to an EJB local interface in an instance field in a stateful session bean no longer causes an assertion error during passivation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327621"></a><p class="table">053523 and 060032 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327623"></a><p class="table">Fixed a problem where the guess method <font face="Courier">getURL()</font> in <font face="Courier">weblogic.ejb20.internal.BaseEjbHome </font>was using a non-secure port when the protocol was t3s and https. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327625"></a><p class="table">054335</p>


		</td>
		<td align="left" valign="top">
			<a name="1327627"></a><p class="table">Removing a ReadWrite entity bean now invalidates its corresponding ReadOnly entity. Previously, the ReadOnly entity would remain cached.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327629"></a><p class="table">059674</p>


		</td>
		<td align="left" valign="top">
			<a name="1327631"></a><p class="table">Using a read-only bean-managed persistence entity bean no longer calls <font face="Courier">ejbLoad()</font> twice when the bean has been loaded via a finder. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327633"></a><p class="table">060142</p>


		</td>
		<td align="left" valign="top">
			<a name="1327635"></a><p class="table">Fixed a problem in the <font face="Courier">getEJBHandle()</font> method such that failover is now working in a 2-node cluster.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327637"></a><p class="table">060416 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327639"></a><p class="table">Fixed a problem where performing an EJB lookup in a tiered environment caused a <font face="Courier">ClassCastException</font> to be thrown when the EJB Home object was cast to its specific type.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327641"></a><p class="table">061883</p>


		</td>
		<td align="left" valign="top">
			<a name="1327643"></a><p class="table">Fixed a problem where reentrant calls to read-only beans failed because of a lock timeout.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327645"></a><p class="table">062515</p>


		</td>
		<td align="left" valign="top">
			<a name="1327647"></a><p class="table">The <font face="Courier">findByChar(char c) </font>method no longer fails for a container-managed persistence EJB home. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327679"></a><p class="head2">Examples
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327652"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327654"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327656"></a><p class="table">055155</p>


		</td>
		<td align="left" valign="top">
			<a name="1327658"></a><p class="table">A problem was fixed in the following sample file:</p>

<a name="1327659"></a><p class="table"><font face="Courier">ejb20\cascadeDelete\one2many\table.ddl <br></font></p>

<a name="1327660"></a><p class="table">The problem resulted in a "SQL not properly ended" error message (error number 933).</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327662"></a><p class="table">055370 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327664"></a><p class="table">Broken links are now fixed in the following examples under wlserver6.1\samples\examples\jsp\:</p>

<a name="1327665"></a><p class="table"><font face="Courier">SimpleSession.jsp</font></p>

<a name="1327666"></a><p class="table"><font face="Courier">URLEncode.jsp</font></p>

<a name="1327667"></a><p class="table">For <font face="Courier">SimpleSession</font> the link on Session Timeouts was missing.</p>

<a name="1327668"></a><p class="table">For <font face="Courier">URLEncode</font> the link Writing Web Application Deployment Descriptors was missing. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327670"></a><p class="table">056711</p>


		</td>
		<td align="left" valign="top">
			<a name="1327672"></a><p class="table">Building the <font face="Courier">wtc/simpFML32</font> example no longer generates a warning about container transactions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327674"></a><p class="table">057237 and 056063 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327676"></a><p class="table">The RMI-IIOP C++ examples have been fixed to work on UNIX platforms. They are located in the following subdirectories:</p>

<a name="1327677"></a><p class="table">/samples/examples/iiop/ejb/entity/tuxclient<br> /samples/examples/iiop/ejb/stateless/server/tux<br> /samples/examples/iiop/ejb/stateless/tuxclient /samples/examples/iiop/rmi/server/tux<br> /samples/examples/iiop/rmi/tuxclient </p>

<a name="1327678"></a><p class="table"><br></p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327698"></a><p class="head2">JDBC
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327683"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327685"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327687"></a><p class="table">055044</p>


		</td>
		<td align="left" valign="top">
			<a name="1327689"></a><p class="table">Dynamically created connection pools are no longer treated as persistent within the <font face="Courier">config.xml</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327691"></a><p class="table">055435</p>


		</td>
		<td align="left" valign="top">
			<a name="1327693"></a><p class="table">The JDriver for Oracle now retrieves the correct number of `null' values when it queries the database and the database has more than 500 rows. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327695"></a><p class="table">056268</p>


		</td>
		<td align="left" valign="top">
			<a name="1327697"></a><p class="table">When trying to execute SQL queries with the language set to Russian, the use of hyphens in the timestamp no longer contain error causing hyphens.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327709"></a><p class="head2">jDriver
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327702"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327704"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327706"></a><p class="table">046149</p>


		</td>
		<td align="left" valign="top">
			<a name="1327708"></a><p class="table">Fixed a problem where when WebLogic Server wrote a multibyte string to a CLOB or NCLOB column, it wrote an incorrect string length.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327728"></a><p class="head2">JMS
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327712"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327714"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327716"></a><p class="table">055293</p>


		</td>
		<td align="left" valign="top">
			<a name="1327718"></a><p class="table">JMS default connection factories are now properly bound as a function of the <font face="Courier">JMSDefaultConnectionFactoriesEnabled</font> property in the <font face="Courier">config.xml</font> file. Previously, if no other JMS objects (<font face="Courier">JMSConnectionFactory</font>, <font face="Courier">JMSServer</font>) were defined on a given WebLogic Server, then the default connection factories were not bound into JNDI.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327720"></a><p class="table">056320 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327722"></a><p class="table">Fixed problems in JMS with an error deserializing an object in the case of using a <font face="Courier">Topic</font> to send a string as an <font face="Courier">ObjectMessage</font> and then sending a <font face="Courier">RemoteObject stub</font> as another <font face="Courier">ObjectMessage</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327724"></a><p class="table">061783 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327726"></a><p class="table">Fixed a problem that occurred when trying to simultaneously deploy instances of different message driven beans that subscribe to the same JMS topic </p>

<a name="1327727"></a><p class="table">Previously, one or both beans would stop working. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327838"></a><p class="head2">Miscellaneous
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327732"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327734"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327736"></a><p class="table">036679</p>


		</td>
		<td align="left" valign="top">
			<a name="1327738"></a><p class="table">The Administration Console now functions correctly when resizing the Netscape browser frames on Solaris.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327740"></a><p class="table">041873</p>


		</td>
		<td align="left" valign="top">
			<a name="1327742"></a><p class="table">Fixed problems with the <font face="Courier">weblogic.policy</font> file when users started up the server with <font face="Courier">-Djava.security.manager. </font>Even when the user had correct permissions, a <font face="Courier">java.security.AccessControlException: access denied</font> exception was being generated.<font face="Courier"> </font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327744"></a><p class="table">041991</p>


		</td>
		<td align="left" valign="top">
			<a name="1327746"></a><p class="table">When attempting to get the <font face="Courier">MBeanHome</font> from the <font face="Courier">RemoteMBeanServer</font>, an application no longer receives "null".</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327748"></a><p class="table">043010</p>


		</td>
		<td align="left" valign="top">
			<a name="1327750"></a><p class="table">If WebLogic is running as a Windows service it will no longer shut down when you log out of the Windows session that the server is running in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327752"></a><p class="table">050437</p>


		</td>
		<td align="left" valign="top">
			<a name="1327754"></a><p class="table">When running under WebLogic Express, WebLogic no longer prints out: <font face="Courier">&lt;Error&gt; &lt;JMS&gt; &lt;JMSServer "null", JMS license validation failed, com.bea.utils.misc.NoSuchProcessException: No such license: WebLogic Server 6.1, JMS.&gt;</font>. This message was misleading and harmless.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327756"></a><p class="table">053732 and 054781</p>


		</td>
		<td align="left" valign="top">
			<a name="1327758"></a><p class="table">Introduced a <font face="Courier">-delay</font> option to the <font face="Courier">beasvc.exe </font>utility which ensures that Managed Servers only start up provided that an Administration Server is already running. The new <font face="Courier">-delay </font>option lets users delay the Managed Server's JVM thread execution for a specified number of milliseconds.</p>

<a name="1327759"></a><p class="table">Previously, a Managed Server failed to start up because it depended on a running Administration Server.</p>

<a name="1327760"></a><p class="table"><strong>Note:	</strong> For information about related changes in WebLogic Server 6.1 SP04, see <a href="new.html#1078321">Change in Behavior of -delay Argument for beasvc.exe</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327765"></a><p class="table">053990</p>


		</td>
		<td align="left" valign="top">
			<a name="1327767"></a><p class="table">The Node Manager will now load up servers that have whitespace in their names.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327769"></a><p class="table">055007</p>


		</td>
		<td align="left" valign="top">
			<a name="1327771"></a><p class="table">WebLogic Server now implements a throttling mechanism to reject outstanding requests after a certain limit. Previously, the <font face="Courier">acceptBacklog</font> value was not effective in limiting the number of new connections that could possibly overwhelm the server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327773"></a><p class="table">055442</p>


		</td>
		<td align="left" valign="top">
			<a name="1327775"></a><p class="table">Fixed a problem involving sending XML over HTTP. The problem was that WebLogic Server was erroneously calling the <font face="Courier">getInputStream()</font> method.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327777"></a><p class="table">056332</p>


		</td>
		<td align="left" valign="top">
			<a name="1327779"></a><p class="table">Fixed a problem causing an <font face="Courier">IllegalStateException</font> when calling a RPC-style Webservice.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327781"></a><p class="table">057091</p>


		</td>
		<td align="left" valign="top">
			<a name="1327783"></a><p class="table">Fixed a problem with applets in Internet Explorer, where `<font face="Courier">didn't meet stated Content-Length</font>' errors were being thrown because the content length check was being performed at the wrong time.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327785"></a><p class="table">058832</p>


		</td>
		<td align="left" valign="top">
			<a name="1327787"></a><p class="table">Fixed a problem where <font face="Courier">HttpSession</font> failover service failed and a session was lost if a client accessed the session just when a primary server was shutting down. This occurred only in a two-server cluster. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327789"></a><p class="table">059119</p>


		</td>
		<td align="left" valign="top">
			<a name="1327791"></a><p class="table">Fixed a problem where a Java client talking to a Weblogic cluster performed more slowly on a 3-server cluster than on a 2-server cluster. Moreover, performance would keep degrading with addition of more servers until the client ensured that there were at least as many socket reader threads on client as the number of servers in the cluster. This involved configuring Execute Thread count and Percent Socket readers client-side properties.</p>

<a name="1327792"></a><p class="table">This fix removes the dependency of such a configuration, as the number of servers can grow or shrink dynamically. Now, WebLogic Server creates new threads for socket reading on fly making sure there is one thread per outgoing socket from client. This means customers don't have to tweak those properties for the client for optimal performance when a WebLogic client talks to a WebLogic cluster.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327794"></a><p class="table">059219</p>


		</td>
		<td align="left" valign="top">
			<a name="1327796"></a><p class="table">Fixed a problem encountered by wireless application where WebLogic was retrieving the port number from a location that could have incorrect information.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327798"></a><p class="table">060557</p>


		</td>
		<td align="left" valign="top">
			<a name="1327800"></a><p class="table">The FileT3 attribute now creates a file with the correct path when the path is targeted to a managed server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327802"></a><p class="table">061060</p>


		</td>
		<td align="left" valign="top">
			<a name="1327804"></a><p class="table">The <font face="Courier">getTimeout()</font> and <font face="Courier">setTimeout()</font> methods are no longer missing from the class <font face="Courier">HttpURLConnection</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327806"></a><p class="table">056911</p>


		</td>
		<td align="left" valign="top">
			<a name="1327808"></a><p class="table">Previously, if an entry was added to the manifest Class-Path for a<br><font face="Courier">.war</font> file, it would be loaded by the web applications's ClassLoader.<br>With this fix, the application's ClassLoader now loads it. The net<br>effect is that all web applications now share instances of classes loaded from the manifest Class-path, whereas before they all got their own copies.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327810"></a><p class="table">051220</p>


		</td>
		<td align="left" valign="top">
			<a name="1327812"></a><p class="table">Fixed a problem where multi-byte system messages in WebLogic Server log or console were corrupted and, therefore, unreadable. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327814"></a><p class="table">054871</p>


		</td>
		<td align="left" valign="top">
			<a name="1327816"></a><p class="table">The Administration Console now displays a JNDI tree correctly. Previously, deployments were appearing under the wrong context. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327818"></a><p class="table">057466</p>


		</td>
		<td align="left" valign="top">
			<a name="1327820"></a><p class="table">Fixed a problem where executing the <font face="Courier">weblogic.Admin</font> <font face="Courier">PING</font> command to a server running on Solaris with Japanese locale (<font face="Courier">LANG=ja_JP.PCK</font>) resulted in a <font face="Courier">java.net.SocketException</font> displaying on the server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327822"></a><p class="table">058786</p>


		</td>
		<td align="left" valign="top">
			<a name="1327824"></a><p class="table">The Netscape Enterprise Server Plug-In (NSAPI plug-in) enables requests to be proxied from Netscape Enterprise Server (NES, also called iPlanet) to WebLogic Server. The plug-in enhances an NES installation by allowing WebLogic Server to handle those requests that require the dynamic functionality of WebLogic Server.</p>

<a name="1327825"></a><p class="table">Previously, reading the HTTP header in the NSAPI plug-in resulted in an unexpected EOF: "PROTOCOL_ERROR [line <em>linenumber</em> of <em>filename</em>]: unexpected EOF reading HTTP headers at line <em>linenumber</em>.</p>

<a name="1327826"></a><p class="table">The underlying problem proved to be with parsing large cookies.</p>

<a name="1327827"></a><p class="table">This problem is now fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327829"></a><p class="table">061460</p>


		</td>
		<td align="left" valign="top">
			<a name="1327831"></a><p class="table">You can now configure Weblogic 6.1 to restrict the number of client <br>connections. There are two methods:</p>

<a name="1327832"></a><p class="table"> 1. Edit the <font face="Courier">config.xml</font> file to set the weblogic.system.openSockCount parameter, which limits the number of permitted connections:<br><br><font face="Courier">&lt;Server ListenPort="7001" Name="myserver" NativeIOEnabled="true" TransactionLogFilePrefix="config/mydomain/logs/" </font><strong>MaxOpenSockCount=1000</strong><font face="Courier">&gt;<br></font><br>2. Use <font face="Courier">weblogic.Admin</font> to set the socket count or write a JMX Java client to do so and utilize the API in weblogic.management.configuration.ServerMBean, as in this code fragment:<br><br><font face="Courier">/** <br>* Returns the maximum number of open sockets allowed <br>* in server at a given point of time. When max threshold is reached, <br>* server stops accepting any more new requests until no of sockets <br>* drops below threshold. <br>* <br>* @default java.lang.Integer.MAX_VALUE <br>* @legalMin 0 <br>* @legalMax java.lang.Integer.MAX_VALUE <br>* <br>* @configurable <br>* <br>* @oldprop weblogic.system.openSockCount <br>*/ <br><br>int getMaxOpenSockCount();</font></p>

<a name="1327833"></a><p class="table"><font face="Courier"><br>/** <br>* Sets the maximum number of open sockets allowed <br>* in server at a given point of time. When max threshold is reached, <br>* server stops accepting any more new requests until no of sockets <br>* drops below threshold. <br>* <br>* @default java.lang.Integer.MAX_VALUE <br>* <br>* @legalMin 0 <br>* @legalMax java.lang.Integer.MAX_VALUE <br>* <br>* @configurable <br>* <br>* @oldprop weblogic.system.openSockCount <br>* <br>*/ <br>void setMaxOpenSockCount (int sockCount);<br></font><br></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327835"></a><p class="table">051882</p>


		</td>
		<td align="left" valign="top">
			<a name="1327837"></a><p class="table">If <font face="Courier">web.xml</font> is missing from your web application and you attempt to edit or enter a deployment descriptor through the console, a blank screen no longer appears.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327865"></a><p class="head2">Plug-Ins
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327842"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327844"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327846"></a><p class="table">053641</p>


		</td>
		<td align="left" valign="top">
			<a name="1327848"></a><p class="table">Now the plug-ins correctly respond to the setting of the <font face="Courier">KeepAliveEnabled</font> parameter. The <font face="Courier">Connection: Keep-Alive</font> header was not being sent back to WebLogic when using HTTP 1.1. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327850"></a><p class="table">055276</p>


		</td>
		<td align="left" valign="top">
			<a name="1327852"></a><p class="table">There are no longer problems when disabling caching with the ISAPI plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327854"></a><p class="table">055750</p>


		</td>
		<td align="left" valign="top">
			<a name="1327856"></a><p class="table">Fixed problems using <font face="Courier">MatchExpression</font> with Stronghold versions of Apache.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327858"></a><p class="table">056628</p>


		</td>
		<td align="left" valign="top">
			<a name="1327860"></a><p class="table">Fixed a problem that occurred when setting the Apache HTTP Server Plug-In <font face="Courier">PathTrim</font> parameter. Setting the <font face="Courier">PathTrim</font> parameter to "/" no longer causes the loss of session information.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327862"></a><p class="table">060064</p>


		</td>
		<td align="left" valign="top">
			<a name="1327864"></a><p class="table">Fixed a problem where installing the Apache HTTP Server Plug-In as a statically linked module on the Solaris platform generated fatal errors.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327876"></a><p class="head2">RMI over IIOP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327869"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327871"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327873"></a><p class="table">056233</p>


		</td>
		<td align="left" valign="top">
			<a name="1327875"></a><p class="table"><font face="Courier">ejb11.security.HomeMethodPermissionTest.testHandleRemoveWithoutPermission()</font> no longer fails with an out of memory error. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1327893"></a><p class="head2">Security
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327880"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327882"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327884"></a><p class="table">060491 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327886"></a><p class="table">Fixed a problem where single sign-on (SSO) did not work when the initial resource in the web application was not a protected resource.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327888"></a><p class="table">CR061313</p>


		</td>
		<td align="left" valign="top">
			<a name="1327892"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-13.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA02-13.jsp</a>.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328082"></a><p class="head2">Servlets, JSP and Web Applications
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1327897"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1327899"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327901"></a><p class="table">046879, 057371</p>


		</td>
		<td align="left" valign="top">
			<a name="1327903"></a><p class="table">A cgi executable now successfully serves an image to the browser (<font face="Courier">.gif</font>, <font face="Courier">.jpg</font> or <font face="Courier">.png</font> format). Previously, attempting to do so resulted in an exception being thrown in the WebLogic Server log.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327905"></a><p class="table">047698 </p>


		</td>
		<td align="left" valign="top">
			<a name="1327907"></a><p class="table">The <font face="Courier">IndexDirectoryEnabled</font> property now works correctly for managed servers: both directories and files will be listed.</p>

<a name="1327908"></a><p class="table">Previously, if <font face="Courier">IndexDirectoryEnabled </font>was set to "true" for a particular web application and that web application was requested on a managed server, directories were not listed, only files. Also, if files were added or removed from the web application, the changes were not reflected when browser page was updated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327910"></a><p class="table">050402</p>


		</td>
		<td align="left" valign="top">
			<a name="1327912"></a><p class="table">Fixed a problem that occurred when redeploying a web application with a different name. Previously, when a web application was already deployed through the Administration Console and then mbeans were used to programmatically deploy the same <font face="Courier">.war</font> application under a different name, WebLogic Server would go into an infinite loop.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327914"></a><p class="table">053513</p>


		</td>
		<td align="left" valign="top">
			<a name="1327916"></a><p class="table">Fixed a problem where, when using <font face="Courier">HttpClusterServlet</font> to proxy requests, a page sometimes displayed improperly in the browser.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327918"></a><p class="table">053706</p>


		</td>
		<td align="left" valign="top">
			<a name="1327920"></a><p class="table">Fixed problems when <font face="Courier">AuthFilter</font> is registered in a web application and <font face="Courier">ServletAuthentication.weak</font> is called. Now, do<font face="Courier">SuccessAuth</font> is correctly called in <font face="Courier">AuthFilter</font> when this is the case.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327922"></a><p class="table">053965</p>


		</td>
		<td align="left" valign="top">
			<a name="1327924"></a><p class="table">If characters between ASCII 128 and 156 are a part of a URL parameter which is then subject to a <font face="Courier">response.sendRedirect</font>, the second servlet no longer receives those characters as ASCII 63 and the characters are sent to the second servlet correctly. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327926"></a><p class="table">054206</p>


		</td>
		<td align="left" valign="top">
			<a name="1327928"></a><p class="table"><font face="Courier">weblogic.servlet.internal.ServletRequestImpl</font>&#8212;the implementation class of <font face="Courier">HttpServletRequest</font>&#8212;now properly handles "folded" HTTP header lines. Previously, code would be incorrectly parsed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327931"></a><p class="table">054211, <a name="055987"></a>055987</p>


		</td>
		<td align="left" valign="top">
			<a name="1327933"></a><p class="table">You can now configure the lifetime of HTTP persistent connections, through the new client-side properties <font face="Courier">http.keepAliveCache.lifeTime</font> and <font face="Courier">http.keepAliveCache.proxyLifeTime</font>. Previously, the lifetime was hardcoded on the client side. This value overrode the server-side <font face="Courier">keepAlive</font> value and led to scalability problems.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327935"></a><p class="table">054852</p>


		</td>
		<td align="left" valign="top">
			<a name="1327937"></a><p class="table">A web application with a configured error handler now redirects to this error handler when JSP1 forwards to JSP2 where JSP2 throws an exception.</p>

<a name="1327938"></a><p class="table">Previously, the server returned a blank page and showed a status code of 200. The server logged the exception, but the client did not see it.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327940"></a><p class="table">054898</p>


		</td>
		<td align="left" valign="top">
			<a name="1327942"></a><p class="table">Fixed a problem with JSP pages using <font face="Courier">Authfilter</font> and <font face="Courier">doSuccesAuth</font>, where the first JSP page is in a series of JSP pages that are contained within different web applications.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327944"></a><p class="table">055333</p>


		</td>
		<td align="left" valign="top">
			<a name="1327946"></a><p class="table">Fixed a JSP compilation problem when using a <font face="Courier">contentType</font> tag in the middle of the JSP rather than in the beginning.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327948"></a><p class="table">055466</p>


		</td>
		<td align="left" valign="top">
			<a name="1327950"></a><p class="table">Fixed a problem with servlet filters unable to call EJBs and causing <font face="Courier">ClassCastExceptions</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327952"></a><p class="table">055535</p>


		</td>
		<td align="left" valign="top">
			<a name="1327954"></a><p class="table">Fixed a problem where, when using the JSP refresh tool, the file distribution servlet was copying files to the wrong location. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327956"></a><p class="table">055583</p>


		</td>
		<td align="left" valign="top">
			<a name="1327958"></a><p class="table">When implementing <font face="Courier">TryCatchFinally</font> in a JSP custom tag, the correct java code is now created upon compilation. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327960"></a><p class="table">055595</p>


		</td>
		<td align="left" valign="top">
			<a name="1327962"></a><p class="table">WebLogic Server now resolves tag library URIs in JSPs. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327964"></a><p class="table">055636,56265</p>


		</td>
		<td align="left" valign="top">
			<a name="1327966"></a><p class="table">When using a <font face="Courier">getParameter()</font> method in a JSP, if the value entered is empty, null is no longer returned. Now an empty string is returned. This fixes certain problem with leaving out equal signs in a query string. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327968"></a><p class="table">056092</p>


		</td>
		<td align="left" valign="top">
			<a name="1327970"></a><p class="table">The JSP compiler no longer complains erroneously of duplicate variable declarations.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327972"></a><p class="table">056189</p>


		</td>
		<td align="left" valign="top">
			<a name="1327974"></a><p class="table">WebLogic Server now supports clients using "Transfer-Encoding: Chunk", i.e., the client no longer needs to send the "Content-Length" Header if "Transfer-Encoding: Chunk" is used in the post request.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327976"></a><p class="table">056322</p>


		</td>
		<td align="left" valign="top">
			<a name="1327978"></a><p class="table">Intermittent RMI errors are no longer thrown when two different servlets in separate web applications attempt to access the same EJB.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327980"></a><p class="table">056668</p>


		</td>
		<td align="left" valign="top">
			<a name="1327982"></a><p class="table">When a parameter is empty, the <font face="Courier">getParameter()</font> method now returns "empty" instead of "null".</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327984"></a><p class="table">056955</p>


		</td>
		<td align="left" valign="top">
			<a name="1327986"></a><p class="table">Fixed a problem where the post data from a request was lost after a <font face="Courier">forward()</font> (one servlet forwards the request with post data to another) when a web application had <font face="Courier">&lt;charset-params&gt;</font> defined in its <font face="Courier">weblogic.xml</font> or <font face="Courier">&lt;context-param&gt;</font> defined in its <font face="Courier">web.xml</font>, the post data from a request is lost after a <font face="Courier">forward()</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327988"></a><p class="table">057101</p>


		</td>
		<td align="left" valign="top">
			<a name="1327990"></a><p class="table">Fixed a problem where the <font face="Courier">getParameter()</font> method was not returning the first of multiple values when including a JSP.</p>

<a name="1327991"></a><p class="table">Previously, the second value was being returned instead of the first. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327993"></a><p class="table">057279</p>


		</td>
		<td align="left" valign="top">
			<a name="1327995"></a><p class="table">Fixed a discrepancy in behavior between exploded directory and packaged web applications. In an exploded directory scenario, classes were being loaded in the incorrect order with <font face="Courier">WEB-INF/lib</font> classes being loaded before those in <font face="Courier">WEB-INF/classes</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1327997"></a><p class="table">057620</p>


		</td>
		<td align="left" valign="top">
			<a name="1327999"></a><p class="table">Special characters such as '+' and '&amp;' are now decoded correctly when the codeset encoding is 'UTF8'.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328001"></a><p class="table">057684, 057559</p>


		</td>
		<td align="left" valign="top">
			<a name="1328003"></a><p class="table">A <font face="Courier">ClassCastException</font> no longer occurs when calling <font face="Courier">PortableRemoteObject.narrow()</font> when an applet is a client to an EJB.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328005"></a><p class="table">058125</p>


		</td>
		<td align="left" valign="top">
			<a name="1328007"></a><p class="table">The <font face="Courier">client.jar</font> that is generated for web services is now compatible with JDK 1.2 java clients.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328009"></a><p class="table">058187</p>


		</td>
		<td align="left" valign="top">
			<a name="1328011"></a><p class="table">Fixed a problem with <font face="Courier">weblogic.deploy</font> where a JSP refresh was failing; a new directory added to an exploded directory application was not being propagated to the managed servers and hence refresh was failing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328013"></a><p class="table">058220</p>


		</td>
		<td align="left" valign="top">
			<a name="1328015"></a><p class="table">The servlet error <font face="Courier">java.lang.NullPointerException at servlet.internal.ChunkOutput.clearBuffer</font></p>

<a name="1328016"></a><p class="table">no longer occurs when trying to send a SOAP request.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328018"></a><p class="table">058352 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328020"></a><p class="table">You can now access web applications with one-character names, such as "i.war." Previously, although such an application would deploy, access would fail with a 404 error.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328022"></a><p class="table">058714</p>


		</td>
		<td align="left" valign="top">
			<a name="1328024"></a><p class="table">Fixed a problem where a <font face="Courier">.gif</font> image was improperly displayed when streamed through a cgi-bin executable versus when the image was 'streamed' directly via the web container. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328026"></a><p class="table">058738</p>


		</td>
		<td align="left" valign="top">
			<a name="1328028"></a><p class="table">The HTTP version is now maintained correctly in a response header when the request is sent via HTTP 1.0.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328030"></a><p class="table">058931</p>


		</td>
		<td align="left" valign="top">
			<a name="1328032"></a><p class="table">Deleting a JSP now results in a 404 error instead of a 500 error.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328034"></a><p class="table">059054 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328036"></a><p class="table">Fixed a problem where WebLogic Server failed to parse "," separators in cookies, resulting in new sessions erroneously being created.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328038"></a><p class="table">059180</p>


		</td>
		<td align="left" valign="top">
			<a name="1328040"></a><p class="table">Fixed a problem where WebLogic Server was overwriting an existing cookie created by another entity, rather than simply adding its own cookie.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328042"></a><p class="table">059412</p>


		</td>
		<td align="left" valign="top">
			<a name="1328044"></a><p class="table">Fixed a servlet problem where if you called <font face="Courier">session.removeAttribute()</font> twice, then called <font face="Courier">session.setAttribute()</font> once, one<font face="Courier"> removeAttribute</font> remains rather than both removes being overridden. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328046"></a><p class="table">060192</p>


		</td>
		<td align="left" valign="top">
			<a name="1328048"></a><p class="table">Fixed a problem where requests were not pinned to a primary server and sessions were lost when using URL rewriting to track sessions. (Cookies were disabled on the browser.)</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328050"></a><p class="table">060536</p>


		</td>
		<td align="left" valign="top">
			<a name="1328052"></a><p class="table">Fixed a problem where <font face="Courier">jspc</font> was erroneously exiting with an exit code of SUCCESSFUL.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328054"></a><p class="table">060595</p>


		</td>
		<td align="left" valign="top">
			<a name="1328056"></a><p class="table">Fixed a problem where WebLogic Server threw a <font face="Courier">ClassCastException</font> with nested JSPs when using a filter that wrapped the <font face="Courier">HTTPServletRequest</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328058"></a><p class="table">060615 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328060"></a><p class="table">Fixed a problem where session ids were not consistent across web applications. Now, each web application sees a single, consistent session id for a given user's session.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328062"></a><p class="table">060963 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328064"></a><p class="table">WebLogic Server no longer reuses a sessionid when the web application is not participating in single signon.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328066"></a><p class="table">061277 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328068"></a><p class="table">(JSP 1.1)</p>

<a name="1328069"></a><p class="table"><font face="Courier">javac</font> compile error messages are no longer corrupted on a Japanese platform. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328071"></a><p class="table">061387 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328073"></a><p class="table">Fixed a problem where WebLogic Server created a new session every time the page was requested, when the JSESSIONID cookie was sandwiched between two user defined cookies.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328075"></a><p class="table">061488</p>


		</td>
		<td align="left" valign="top">
			<a name="1328077"></a><p class="table">Fixed a problem where request parameters were parsed incorrectly when a "=" was used in the value.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328079"></a><p class="table">066184</p>


		</td>
		<td align="left" valign="top">
			<a name="1328081"></a><p class="table">In 6.1 SP1, the default encoding used for servlets and JSPs was the JVM default. As of 6.1 SP2, the default encoding has been changed to  ISO8859_1.  This change is in accordance with the latest servlet specification. Servlet Specification 2.3 SRV 4.9 states that the default encoding should be ISO8859_1. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328151"></a><p class="head2">System Administration
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328086"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328088"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328090"></a><p class="table">045780</p>


		</td>
		<td align="left" valign="top">
			<a name="1328092"></a><p class="table">Multiple server definitions with the same name are now disallowed. If you have started a server and then attempt to start up the second server with the same name, the server startup aborts, with this error message: </p>

<a name="1328093"></a><p class="table">"Server: &lt;<em>yourservername</em>&gt; already exists, make sure that you do not have duplicate copies of this Server name in your XML config file"</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328095"></a><p class="table">055190 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328097"></a><p class="table">Fixed a problem where JSP refresh failed if the application was targeted to a cluster. Previously, you could not add new JSPs or change or delete existing JSPs from a running web application without having to undeploy and redeploy the application.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328099"></a><p class="table">056091</p>


		</td>
		<td align="left" valign="top">
			<a name="1328101"></a><p class="table">A new procedure is available to restart an Administration Server on a different machine while Managed Servers are still running. For more information, see the section <a href="../adminguide/startstop.html#failover">"Failover Considerations for the Administration Server"</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328104"></a><p class="table">058946</p>


		</td>
		<td align="left" valign="top">
			<a name="1328106"></a><p class="table">Fixed a problem where precompiled JSP's on a Managed Server would recompile even without if the pages hadn't been modified. As a result it took a long time to start up the Managed Server.</p>

<a name="1328107"></a><p class="table">With this fix, if classes are already compiled on an Administration Server, when the Managed Server starts up the classes are shipped and their timestamps are preserved, to the Managed Server will not try to recompile them.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328109"></a><p class="table">054624</p>


		</td>
		<td align="left" valign="top">
			<a name="1328111"></a><p class="table"><font face="Courier">weblogic.deploy</font> now behaves as expected when its <font face="Courier">-component</font> option is invoked. </p>

<a name="1328112"></a><p class="table">Previously, it did not behave as expected when using the <font face="Courier">-component</font> option: the application was unintentionally deployed to a server that was not in the component list of servers. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328114"></a><p class="table">054573</p>


		</td>
		<td align="left" valign="top">
			<a name="1328116"></a><p class="table">Fixed a problem where any configuration error involving a JDBCConnectionPool, MultiPool, or (Tx)DataSource, did not get reported in an error dialog in the console. Rather, it appeared to be correctly configured.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328118"></a><p class="table">058183</p>


		</td>
		<td align="left" valign="top">
			<a name="1328120"></a><p class="table">Fixed a problem where WebLogic Server was deploying <font face="Courier">.war</font> files before <font face="Courier">.jar</font> files, At server startup, a web application would deploy before an EJB, resulting in a <font face="Courier">NameNoteFoundException</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328122"></a><p class="table">059702</p>


		</td>
		<td align="left" valign="top">
			<a name="1328124"></a><p class="table">Fixed a problem where web applications could not be deployed when network cards were disabled.</p>

<a name="1328125"></a><p class="table">Previously, WebLogic Server would try to validate with the DTD at http://www.bea.com/servers/wls610/dtd/weblogic-web-jar.dtd. When it cannot reach www.bea.com, it failed. Now, when there is no network access, the server find <font face="Courier">weblogic-web-jar.dtd </font>in <font face="Courier">weblogic.jar</font> and continues. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328127"></a><p class="table">060244 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328129"></a><p class="table">Fixed a problem where, when using the Administration Console to target a cluster for just one application, individual servers were also pulled into the target list. With this fix, the cluster is no longer expanded to a list of servers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328131"></a><p class="table">061642</p>


		</td>
		<td align="left" valign="top">
			<a name="1328133"></a><p class="table">Fixed a problem with converting a 5.1 <font face="Courier">weblogic.properties</font> file to a 6.1 <font face="Courier">config.xml </font>file. The conversion utility was not converting the password for the JDBCConnectionPool correctly. As a result, attempts to start the server in the new domain failed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328135"></a><p class="table">055067 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328137"></a><p class="table">Fixed a problem that caused web applications that had dependencies on classes in EJB <font face="Courier">.jar</font> files not to deploy when precompile was turned on. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328139"></a><p class="table">060411 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328141"></a><p class="table">(EJB 1.1)</p>

<a name="1328142"></a><p class="table">Fixed a problem where a second call to a required EJB transaction method cause the transaction to roll back. The first call removed some entities and then created some. The second call removed the previously created entities and then created some new ones.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328144"></a><p class="table">042052</p>


		</td>
		<td align="left" valign="top">
			<a name="1328146"></a><p class="table">Fixed a problem occurring in migration from one release to another: the <font face="Courier">weblogic.properties</font> file was not converting completely, such that the <font face="Courier">web.xml</font> file of the web application did not contain all of the properties.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328148"></a><p class="table">061300</p>


		</td>
		<td align="left" valign="top">
			<a name="1328150"></a><p class="table">Fixed a problem where the WebLogic Server console was executing in the default queue (a lower priority queue) instead of   "__weblogic_admin_html_queue" (a higher priority queue). This compromised the console's ability to respond when the server was experiencing heavy load.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328199"></a><p class="head2">Web Services
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328155"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328157"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328159"></a><p class="table">055415</p>


		</td>
		<td align="left" valign="top">
			<a name="1328161"></a><p class="table">There is no longer an interoperability problem when using the SoapWare test specification and the UserLand client (reference implementation).</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328163"></a><p class="table">054749</p>


		</td>
		<td align="left" valign="top">
			<a name="1328165"></a><p class="table">It is no longer true that when using the <font face="Courier">wsgen</font> Ant task to assemble a stateless session EJB into an rpc-style Web Service, <font face="Courier">wsgen</font> fails with a parsing error if the package level of the EJB contains only one level, such as:</p>

<a name="1328166"></a><p class="table"><font face="Courier">package mytest;</font> </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328168"></a><p class="table">055645</p>


		</td>
		<td align="left" valign="top">
			<a name="1328170"></a><p class="table">The <font face="Courier">Remote2WSDL</font> class, used to assemble a WebLogic Web service manually, now correctly includes a <font face="Courier">protocol</font> option for specifying a protocol other than http, such as https.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328172"></a><p class="table">056332</p>


		</td>
		<td align="left" valign="top">
			<a name="1328174"></a><p class="table">Previously, if an exception occurred while WebLogic Server was processing a SOAP request to invoke a WebLogic Web service, the WebLogic Server executed the <font face="Courier">ServletResponse.getWriter()</font> method twice. This in turn created another exception. This does not happen anymore.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328176"></a><p class="table">056382</p>


		</td>
		<td align="left" valign="top">
			<a name="1328178"></a><p class="table">WebLogic Web services now support the <font face="Courier">xsd:decimal</font> data type.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328180"></a><p class="table">056631</p>


		</td>
		<td align="left" valign="top">
			<a name="1328182"></a><p class="table">WebLogic Web services now support the <font face="Courier">xsd:hexBinary</font> data type.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328184"></a><p class="table">056639</p>


		</td>
		<td align="left" valign="top">
			<a name="1328186"></a><p class="table">You no longer get an error when you use the WebLogic Web services client API to invoke an rpc-style WebLogic Web service whose stateless session EJB has security constraints defined for it in the <font face="Courier">ejb-jar.xml</font> and <font face="Courier">weblogic-ejb-jar.xml</font> files. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328188"></a><p class="table">058230</p>


		</td>
		<td align="left" valign="top">
			<a name="1328190"></a><p class="table">The WebLogic Web services client API now correctly constructs a complex Java object on the client side after receiving the object inside a SOAP request. This complex object consists of an array of JavaBeans, one of whose attributes is itself an array of a different type of JavaBean. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328192"></a><p class="table">058431</p>


		</td>
		<td align="left" valign="top">
			<a name="1328194"></a><p class="table">WebLogic Web services now correctly return nested array data type values.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328196"></a><p class="table">059653</p>


		</td>
		<td align="left" valign="top">
			<a name="1328198"></a><p class="table">When using <font face="Courier">Remote2Wsdl</font> to manually assemble Web services, you can now specify the <font face="Courier">context</font> and <font face="Courier">jndi_name</font> part of the URL equivalent to the <font face="Courier">location</font> attribute of the &lt;<font face="Courier">soap:address&gt;</font> element of the WSDL. This means that you can now successfully invoke a method on the Web service proxy obtained from the WSDL.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328214"></a><p class="head2">WebLogic Tuxedo Connector 
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328203"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328205"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328207"></a><p class="table">055889</p>


		</td>
		<td align="left" valign="top">
			<a name="1328209"></a><p class="table">A <font face="Courier">TPReplyException</font> thrown with TPESVCFAIL from WebLogic Tuxedo Connector will now be received by the Tuxedo Client.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328211"></a><p class="table">057150</p>


		</td>
		<td align="left" valign="top">
			<a name="1328213"></a><p class="table"><font face="Courier">WTCValidateCF</font> utility no longer throws an error when validating a configuration file that has <font face="Courier">FldTblClass</font> elements.</p>


		</td>

	</tr>

</table>


</center>
 </p>

<a name="1328244"></a><p class="head2">X<a name="xml"></a>ML
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328219"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328221"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328223"></a><p class="table">044211</p>


		</td>
		<td align="left" valign="top">
			<a name="1328225"></a><p class="table">The <font face="Courier">xmlx.jar</font> file now correctly contains the <font face="Courier">HTMLEntities.res</font> resource file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328227"></a><p class="table">046934</p>


		</td>
		<td align="left" valign="top">
			<a name="1328229"></a><p class="table">The built-in SAX parser now correctly parses deployment descriptor files that are written using any character set. </p>


<a name="1328230"></a><p><strong>Warning:	</strong> Prior to this fix, WebLogic Server would have failed to detect encoding problems in your <font face="Courier">.xml</font> files for English-only applications. Consequently, English-only applications that ran without fail in the past may now fail with this Service Pack 2 fix; WebLogic Server will report an encoding-not-supported error.</p>


<a name="1328231"></a><p class="notepara"><strong></strong> If WebLogic Server reports this error, check the specified <font face="Courier">.xml</font> file   for the correct encoding name and syntax. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328233"></a><p class="table">055082</p>


		</td>
		<td align="left" valign="top">
			<a name="1328235"></a><p class="table">The <font face="Courier">XSLTInfo.properties</font> file in the <font face="Courier">weblogic.jar</font> archive is now correctly called <font face="Courier">/weblogic/apache/xalan/res/XSLTInfo.properties</font> rather than the incorrect <font face="Courier">/org/apache/xalan/res/XSLTInfo.properties</font>, causing transformations to work correctly and not throw a <font face="Courier">SAXException</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328237"></a><p class="table">056839</p>


		</td>
		<td align="left" valign="top">
			<a name="1328239"></a><p class="table">The <font face="Courier">weblogic.apache.xalan.serializer.Encodings</font> class now contains the correct mapping between MS932 and Shift_JIS.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328241"></a><p class="table">062320</p>


		</td>
		<td align="left" valign="top">
			<a name="1328243"></a><p class="table">The WebLogic FastParser now parses very large strings (&gt; 1MB) in seconds rather than minutes.</p>


		</td>

	</tr>

</table>


</center>
</p>

<p>&nbsp;</p>
<hr noshade>
<a name="1328247"></a><p class="head1">WebLogic Serve<a name="SP1"></a>r 6.1 Service Pack 1 Solutions</p>

<a name="1328248"></a><p>The next sections describe problems that were resolved in WebLogic Server 6.1 Service Pack 1.</p>


<ul type="disc">
<ul type="disc">

<a name="1328252"></a><p><li type="disc"><a href="bugfixes2.html#1328367">Deployment Descriptor Editor</a>


<a name="1328256"></a><p><li type="disc"><a href="bugfixes2.html#1328532">EJB</a>


<a name="1328260"></a><p><li type="disc"><a href="bugfixes2.html#1328627">Examples</a>


<a name="1328264"></a><p><li type="disc"><a href="bugfixes2.html#1328695">JDBC</a>


<a name="1328268"></a><p><li type="disc"><a href="bugfixes2.html#1328731">JMS</a>


<a name="1328272"></a><p><li type="disc"><a href="bugfixes2.html#1328771">JTA</a>


<a name="1328276"></a><p><li type="disc"><a href="bugfixes2.html#1328943">Miscellaneous</a>


<a name="1328280"></a><p><li type="disc"><a href="bugfixes2.html#1328996">Plug-ins</a>


<a name="1328284"></a><p><li type="disc"><a href="bugfixes2.html#1329031">RMI over IIOP</a>


<a name="1328288"></a><p><li type="disc"><a href="bugfixes2.html#1327876">Servlets and JSP</a>


<a name="1328292"></a><p><li type="disc"><a href="bugfixes2.html#1329300">System Administration</a>


<a name="1328296"></a><p><li type="disc"><a href="bugfixes2.html#1329324">Web Services</a>


<a name="1328300"></a><p><li type="disc"><a href="bugfixes2.html#1329380">XML</a>

</ul>
</ul>
<a name="1328367"></a><p class="head2">Deployment Descriptor Editor
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328304"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328306"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328308"></a><p class="table">041479</p>


		</td>
		<td align="left" valign="top">
			<a name="1328310"></a><p class="table">Fixed a memory leak that was occurring during updates (redeployment of) J2EE applications.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328312"></a><p class="table">048757 </p>


		</td>
		<td align="left" valign="top">
			<a name="1328314"></a><p class="table">Removed all yellow caution icons that were next to deployment descriptor editors on the console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328316"></a><p class="table">048804</p>


		</td>
		<td align="left" valign="top">
			<a name="1328318"></a><p class="table">The Container Transaction Trans Attribute no longer has the '(none)' option for the EJB deployment descriptor editor in the console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328320"></a><p class="table">049465</p>


		</td>
		<td align="left" valign="top">
			<a name="1328322"></a><p class="table">In the console EJB deployment descriptor editor, the display name for the Weblogic RDBMS Jar is derived from the filename where the descriptor was read.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328324"></a><p class="table">051858</p>


		</td>
		<td align="left" valign="top">
			<a name="1328326"></a><p class="table">All RDBMS descriptors referenced in the <font face="Courier">weblogic-ejb-jar.xml</font> file are now available in the deployment descriptor editor.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328328"></a><p class="table">051939</p>


		</td>
		<td align="left" valign="top">
			<a name="1328330"></a><p class="table">Fixed the <font face="Courier">ejb-jar.xml</font> parsing code to accept <font face="Courier">Auto-acknowledge</font> and <font face="Courier">Dups-ok-acknowledge</font> as legal acknowledge-mode elements for Message-Driven Beans.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328332"></a><p class="table">052613</p>


		</td>
		<td align="left" valign="top">
			<a name="1328334"></a><p class="table">The link to edit the deployment descriptor is now hidden during application configuration.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328336"></a><p class="table">052665</p>


		</td>
		<td align="left" valign="top">
			<a name="1328338"></a><p class="table">If the <font face="Courier">web.xml</font> file has a valid element called <font face="Courier">&lt;run-as&gt;</font>, it is no longer lost when using the deployment descriptor editor.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328340"></a><p class="table">052804</p>


		</td>
		<td align="left" valign="top">
			<a name="1328342"></a><p class="table">The <font face="Courier">&lt;charset-params</font>&gt; entities and all child entities are now persisted to the <font face="Courier">weblogic.xml</font> file by the deployment descriptor editor.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328344"></a><p class="table">052963</p>


		</td>
		<td align="left" valign="top">
			<a name="1328346"></a><p class="table">Access to the deployment descriptor editor for <font face="Courier">.war</font>, <font face="Courier">.jar</font>, or <font face="Courier">.rar</font> files no longer exists in the component table of the console. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328348"></a><p class="table">053089</p>


		</td>
		<td align="left" valign="top">
			<a name="1328350"></a><p class="table">The deployment descriptor editor now indicates that the Primary Key that is used with the Automatic Key Generation feature must be of Java Type:  <font face="Courier">java.lang.Integer</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328352"></a><p class="table">053098</p>


		</td>
		<td align="left" valign="top">
			<a name="1328354"></a><p class="table">Added a legal values list to the <font face="Courier">MessageDrivenDestinationMBean</font>'s <font face="Courier">SubscriptionDurability</font> attribute. Removed the <font face="Courier">SubscriptionDurability</font> attribute from the <font face="Courier">MessageDrivenMBean</font> and removed the <font face="Courier">SubscriptionDurability</font> property from <font face="Courier">MessageDriven.jsp</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328356"></a><p class="table">053282</p>


		</td>
		<td align="left" valign="top">
			<a name="1328358"></a><p class="table">Added the exclude-list tag to the EJB 2.0 deployment descriptor editor.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328360"></a><p class="table">053375</p>


		</td>
		<td align="left" valign="top">
			<a name="1328362"></a><p class="table">The deployment descriptor editor is no longer blank after a modified bean is redeployed using the check box in the console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328364"></a><p class="table">054682</p>


		</td>
		<td align="left" valign="top">
			<a name="1328366"></a><p class="table">When persisting EJB deployment descriptor settings from the deployment descriptor editor, the contents of all description elements are now enclosed in CDATA sections to prevent possible parsing errors.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328532"></a><p class="head2">E<a name="ejb"></a>JB
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328372"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328374"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328376"></a><p class="table">031350</p>


		</td>
		<td align="left" valign="top">
			<a name="1328378"></a><p class="table">The EJB compiler now correctly validates that a primary key class for an entity bean has all public fields. Previously, the validation existed but was broken.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328380"></a><p class="table">044294</p>


		</td>
		<td align="left" valign="top">
			<a name="1328382"></a><p class="table">Fixed a memory leak that was occurring when repeatedly creating entity beans.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328384"></a><p class="table">047050</p>


		</td>
		<td align="left" valign="top">
			<a name="1328386"></a><p class="table">If a message-driven bean's <font face="Courier">onMessage</font> throws an unchecked exception, rolling back the transaction is now called instead of <font face="Courier">setRollbackOnly</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328388"></a><p class="table">048506</p>


		</td>
		<td align="left" valign="top">
			<a name="1328390"></a><p class="table">Fixed a memory leak where multiple beans were created and not removed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328392"></a><p class="table">048716</p>


		</td>
		<td align="left" valign="top">
			<a name="1328394"></a><p class="table">EJB compliance error messages now indicate which bean is faulty.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328396"></a><p class="table">049180</p>


		</td>
		<td align="left" valign="top">
			<a name="1328398"></a><p class="table"><font face="Courier">EntityPool</font> did not call <font face="Courier">unsetEntityContext()</font> when asked to release a bean. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328400"></a><p class="table">049658</p>


		</td>
		<td align="left" valign="top">
			<a name="1328402"></a><p class="table">Fixed a problem with using arithmetic operators with input parameters in <font face="Courier">ejb-ql</font>. Capability was added for these three symbols: +   -    /</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328404"></a><p class="table">050134</p>


		</td>
		<td align="left" valign="top">
			<a name="1328406"></a><p class="table">The <font face="Courier">weblogic.ejbc</font> debug flag is now working. To compile with debugging, use <font face="Courier">-g</font> instead of <font face="Courier">-debug</font>. For example:<br><font face="Courier">java weblogic.ejbc -g foo.jar bar.jar</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328408"></a><p class="table">050860</p>


		</td>
		<td align="left" valign="top">
			<a name="1328410"></a><p class="table">The DDConverter now generates <font face="Courier">ejb-ql</font> with updated syntax for the cmp20 bean.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328412"></a><p class="table">051528</p>


		</td>
		<td align="left" valign="top">
			<a name="1328414"></a><p class="table">Added an optional <font face="Courier">&lt;description&gt;</font> tag element in the <font face="Courier">&lt;weblogic-query&gt;</font> tag in <font face="Courier">weblogic-rdbms20-persistence-600.dtd</font>, so you can describe your query.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328416"></a><p class="table">051653</p>


		</td>
		<td align="left" valign="top">
			<a name="1328418"></a><p class="table">Fixed a problem with SQL query generation in a many-to-one relationship where the primary key field is part of the foreign key.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328420"></a><p class="table">051670</p>


		</td>
		<td align="left" valign="top">
			<a name="1328422"></a><p class="table">When an EJB that referred to another EJB's handle was passivated, a <font face="Courier">ClassCastException</font> was thrown. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328424"></a><p class="table">051735</p>


		</td>
		<td align="left" valign="top">
			<a name="1328426"></a><p class="table">The EJB compiler was not recognizing the <font face="Courier">-j</font> option when the compiler was specified as <font face="Courier">sj</font> and hence was failing to execute the command. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328428"></a><p class="table">051803</p>


		</td>
		<td align="left" valign="top">
			<a name="1328430"></a><p class="table">The compliance checker now disallows <font face="Courier">local</font> or <font face="Courier">local home</font> to be passed as a parameter type or return type for the remote interface. See section 10.3.10.1 in EJB spec for more detail. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328432"></a><p class="table">051807</p>


		</td>
		<td align="left" valign="top">
			<a name="1328434"></a><p class="table">The compliance checker no longer allows remote and local components to share the same CMR mapping.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328436"></a><p class="table">051875</p>


		</td>
		<td align="left" valign="top">
			<a name="1328438"></a><p class="table">The XML generator no longer ignores values that are explicitly set. Even if the values are equal to their default values, they are generated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328440"></a><p class="table">051941</p>


		</td>
		<td align="left" valign="top">
			<a name="1328442"></a><p class="table">Fixed a problem with the EJB container that involved improper handling of a business method named <font face="Courier">remove</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328444"></a><p class="table">052075</p>


		</td>
		<td align="left" valign="top">
			<a name="1328446"></a><p class="table"><font face="Courier">SELECT DISTINCT</font> is now working when an <font face="Courier">ejbSelect()</font> returns a collection of fields.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328448"></a><p class="table">052502</p>


		</td>
		<td align="left" valign="top">
			<a name="1328450"></a><p class="table">Changes to EJB deployment descriptors are now picked up when EJBs are redeployed through the Deploy checkbox in the console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328452"></a><p class="table">053093</p>


		</td>
		<td align="left" valign="top">
			<a name="1328454"></a><p class="table">When the auto create tables feature is turned on, sequence tables are now generated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328456"></a><p class="table">053096</p>


		</td>
		<td align="left" valign="top">
			<a name="1328458"></a><p class="table">The <font face="Courier">ejbSelect</font> method is now returning a set of local beans instead of returning a set of bean instances.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328460"></a><p class="table">053101</p>


		</td>
		<td align="left" valign="top">
			<a name="1328462"></a><p class="table">Compliance checker no longer gives the wrong value for <font face="Courier">&lt;acknowledge-mode&gt;</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328464"></a><p class="table">053287</p>


		</td>
		<td align="left" valign="top">
			<a name="1328466"></a><p class="table">The following entry in the <font face="Courier">ejb-jar.xml</font> file no longer causes the entire file not to load: </p>

<a name="1328467"></a><p class="table"><font face="Courier">&lt;message-driven-destination&gt;<br>&lt;destination-type&gt;javax.jms.Topic&lt;/destination-type&gt;<br>&lt;subscription-durability&gt;Durable&lt;/subscription-durability&gt;<br>&lt;/message-driven-destination&gt;</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328469"></a><p class="table">053596</p>


		</td>
		<td align="left" valign="top">
			<a name="1328471"></a><p class="table">The Number of Active <font face="Courier">StatelessSessionBeans</font> is no longer allowed to exceed the <font face="Courier">max-beans-in-free-pool</font> setting.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328473"></a><p class="table">053599</p>


		</td>
		<td align="left" valign="top">
			<a name="1328475"></a><p class="table">Improved the ability of the EJB<font face="Courier"> DDInit</font> tool to determine bean classes.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328477"></a><p class="table">053643</p>


		</td>
		<td align="left" valign="top">
			<a name="1328479"></a><p class="table">If an EJB without a local interface calls <font face="Courier">SessionContext.getEJBLocalObject()</font>, an <font face="Courier">IllegalStateException</font> is now being thrown.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328481"></a><p class="table">053646</p>


		</td>
		<td align="left" valign="top">
			<a name="1328483"></a><p class="table">When validating an <font face="Courier">ejb-jar.xml</font> file, the compliance checker and XML validator now refer to "relationship-role-source" instead of "role-source" to comply with a change in the EJB specification.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328485"></a><p class="table">053735</p>


		</td>
		<td align="left" valign="top">
			<a name="1328487"></a><p class="table">A null pointer exception is no longer thrown in <font face="Courier">StatefulSessionManager</font> when invoking local method.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328489"></a><p class="table">053768</p>


		</td>
		<td align="left" valign="top">
			<a name="1328491"></a><p class="table">Updated the deployer so that it does not look for the <font face="Courier">weblogic.EJB20Enabler</font> class to enable EJB 2.0. Also, removed license error messages referencing a separate download because they are now irrelevant.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328493"></a><p class="table">053801</p>


		</td>
		<td align="left" valign="top">
			<a name="1328495"></a><p class="table">A Compliance Checker error is no longer thrown when a message-driven bean's class does not contain an <font face="Courier">ejbCreate()</font> method but its superclass does.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328497"></a><p class="table">053827</p>


		</td>
		<td align="left" valign="top">
			<a name="1328499"></a><p class="table">The DDConverter utility can now be accessed using java <font face="Courier">weblogic.ejb20.utils.DDConverter</font> as documented.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328501"></a><p class="table">053884</p>


		</td>
		<td align="left" valign="top">
			<a name="1328503"></a><p class="table">If an <font face="Courier">ejbPostCreate</font> method was defined with a throws <font face="Courier">CreateException</font> and if SQLServer AutoKey Generation was enabled, the generated code was incorrect. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328505"></a><p class="table">053905</p>


		</td>
		<td align="left" valign="top">
			<a name="1328507"></a><p class="table">When you use EJB2.0 BLOB/CLOB mapping on an UPDATE, if the UPDATED field was shorter than the original field, the newly UPDATED result no longer contains the left-over data from the original field.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328509"></a><p class="table">053944</p>


		</td>
		<td align="left" valign="top">
			<a name="1328511"></a><p class="table">Fixed the exception handling code so that if a stateless session EJB's constructor was throwing a <font face="Courier">RuntimeException</font> or <font face="Courier">RuntimeError</font>, the caller's <font face="Courier">java:comp/env JNDI</font> context was correct after accessing the EJB.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328513"></a><p class="table">053970</p>


		</td>
		<td align="left" valign="top">
			<a name="1328515"></a><p class="table">Default role and relation names are now generated, making it possible to set up EJB 2.0 relationships without setting the <font face="Courier">ejb-relation-name</font> element in the relation declaration of the <font face="Courier">ejb-jar.xml</font> descriptor.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328517"></a><p class="table">053986</p>


		</td>
		<td align="left" valign="top">
			<a name="1328519"></a><p class="table">The descriptor mbean is now consistent regarding XML case sensitivity.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328521"></a><p class="table">054021</p>


		</td>
		<td align="left" valign="top">
			<a name="1328523"></a><p class="table">An assertion error is no longer thrown when a clusterable entity bean is called from a non-clusterable EJB.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328525"></a><p class="table">054225</p>


		</td>
		<td align="left" valign="top">
			<a name="1328527"></a><p class="table">Fixed a problem with <font face="Courier">ear</font> file deployment when it contains a circular reference in the Class-Path entry of the <font face="Courier">Manifest.mf</font> file in jar files.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328529"></a><p class="table">054449</p>


		</td>
		<td align="left" valign="top">
			<a name="1328531"></a><p class="table">The code generated for EJB 2.0 entity beans that use container-managed persistence was changed to work around a limitation in Oracle. A cmp-field that is mapped to an Oracle LONGRAW column can now have a length greater than 4096 bytes.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328627"></a><p class="head2">E<a name="examples"></a>xamples
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328537"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328539"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328541"></a><p class="table">045300</p>


		</td>
		<td align="left" valign="top">
			<a name="1328543"></a><p class="table">Added new JTA example that uses both Oracle's thin driver and JDriver. This example involves two database instances. For each database, the user must set up a single table and create a new transactional connection pool and a new transaction datasource. This example uses J2EE 1.3 features which use non-final API specifications.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328545"></a><p class="table">048031</p>


		</td>
		<td align="left" valign="top">
			<a name="1328547"></a><p class="table">Clarified the instructions, syntax, and examples for specifying the cluster address and the listen port when invoking the example clients. Two files changed: </p>

<a name="1328548"></a><p class="table"><font face="Courier">...\samples\examples\cluster\ejb\package.html ...\samples\examples\cluster\rmi\package.html</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328550"></a><p class="table">050429</p>


		</td>
		<td align="left" valign="top">
			<a name="1328552"></a><p class="table">Standardized table creation sql script to be vendor independent.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328554"></a><p class="table">051476</p>


		</td>
		<td align="left" valign="top">
			<a name="1328556"></a><p class="table">A problem was fixed in <font face="Courier">examples/ejb20/bands</font>. <font face="Courier">demoPool</font> connection pool now points to <font face="Courier">oraclePool</font> connection pool.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328558"></a><p class="table">051491</p>


		</td>
		<td align="left" valign="top">
			<a name="1328560"></a><p class="table">Corrected the reference and example code in the <font face="Courier">examples/jta/jmsjdbc/build.xml</font> file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328562"></a><p class="table">051714</p>


		</td>
		<td align="left" valign="top">
			<a name="1328564"></a><p class="table">A problem was fixed in <font face="Courier">examples/ejb/sequence/mssqlserver /package-summary.html</font>. <font face="Courier">demoPool</font> connection pool now points to an mssqlserver connection pool. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328566"></a><p class="table">052595</p>


		</td>
		<td align="left" valign="top">
			<a name="1328568"></a><p class="table">The second compilation of the<font face="Courier"> i18n.logging.message</font> directory is no longer producing errors.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328570"></a><p class="table">052689</p>


		</td>
		<td align="left" valign="top">
			<a name="1328572"></a><p class="table">Fixed a problem running more than one client using Petstore.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328574"></a><p class="table">053008</p>


		</td>
		<td align="left" valign="top">
			<a name="1328576"></a><p class="table">Corrected information in the SSLClient example document. Now, there is no reference to a <font face="Courier">production_apps</font> directory as the applications directory and, the <font face="Courier">SnoopServet</font> is located in the <font face="Courier">/WLS_HOME/samples/examples/jsp</font> directory, not in the <font face="Courier">/WLS_HOME/config/examples/jsp</font> directory.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328578"></a><p class="table">053463</p>

<a name="1328579"></a><p class="table">053466</p>


		</td>
		<td align="left" valign="top">
			<a name="1328581"></a><p class="table">The logging internationalization examples no longer have broken links.</p>

<a name="1328582"></a><p class="table"><br></p>

<a name="1328583"></a><p class="table"><font face="Courier">WL_HOME/samples/examples/i18n/logging/package-summary.html</font> now contains a link to <font face="Courier">WL_HOME/samples/examples/i18n/logging/message/UserSMessagesServlet.html</font>.</p>

<a name="1328584"></a><p class="table"><br></p>

<a name="1328585"></a><p class="table"> The "Setting up your environment", "examplesweb application", and "Start the WebLogic Server with the examples configuration"    links in <font face="Courier">WL_HOME\samples\examples\i18n\logging\message\UserSMessagesServlet.html</font> now correctly go to <font face="Courier">WL_HOME\samples\examples\examples.html</font>. </p>

<a name="1328586"></a><p class="table"><br></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328588"></a><p class="table">053383</p>


		</td>
		<td align="left" valign="top">
			<a name="1328590"></a><p class="table">Added a set-up step that was missing from the JSP Form validator example.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328592"></a><p class="table">053396</p>


		</td>
		<td align="left" valign="top">
			<a name="1328594"></a><p class="table">The wireless stockDemo example is now returning a live quote instead of an outdated quote.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328596"></a><p class="table">053525</p>


		</td>
		<td align="left" valign="top">
			<a name="1328598"></a><p class="table">Starting the default server in mydomain in development mode was causing the <font face="Courier">Defaultweb application</font> and <font face="Courier">certificate.war</font> file in the applications directory to be deployed twice.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328600"></a><p class="table">053852</p>


		</td>
		<td align="left" valign="top">
			<a name="1328602"></a><p class="table">Updated DOCTYPE to register latest version of DTDs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328604"></a><p class="table">053871</p>


		</td>
		<td align="left" valign="top">
			<a name="1328606"></a><p class="table">Modified build script to compile JSPs consistently across all platforms.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328608"></a><p class="table">054963</p>


		</td>
		<td align="left" valign="top">
			<a name="1328610"></a><p class="table">The generated startscript for migrated domains is now consistent with other scripts.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328612"></a><p class="table">056080</p>


		</td>
		<td align="left" valign="top">
			<a name="1328614"></a><p class="table">Fixed a problem that was resulting in the <font face="Courier">examples\i18n\logging\message</font> build script failing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328616"></a><p class="table">056114</p>


		</td>
		<td align="left" valign="top">
			<a name="1328618"></a><p class="table">Added literal encoding to fix a problem with the message webservice sample.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328620"></a><p class="table">056347</p>


		</td>
		<td align="left" valign="top">
			<a name="1328622"></a><p class="table">Petstore Shopping cart EJB no longer uses clustering.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328624"></a><p class="table">056495</p>


		</td>
		<td align="left" valign="top">
			<a name="1328626"></a><p class="table">Removed the time example.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328695"></a><p class="head2">J<a name="jdbc"></a>DBC
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328632"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328634"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328636"></a><p class="table">034041</p>


		</td>
		<td align="left" valign="top">
			<a name="1328638"></a><p class="table">Added the capability to rotate the JDBC log based on date. You can specify how often the log file should be rotated and when rotation should begin. The current <font face="Courier">jdbc.log</font> file is has the most recent date timestamp at the end of the file name.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328640"></a><p class="table">034046</p>


		</td>
		<td align="left" valign="top">
			<a name="1328642"></a><p class="table">It is no longer possible to create data sources based on multipools containing mixed XA and non-XA-aware connection pools because it could result in incorrect transactional behavior.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328644"></a><p class="table">035380</p>


		</td>
		<td align="left" valign="top">
			<a name="1328646"></a><p class="table">It is now possible to dynamically create a JDBC DataSource using JMX APIs in addition to using the properties file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328648"></a><p class="table">042924</p>


		</td>
		<td align="left" valign="top">
			<a name="1328650"></a><p class="table">Creating a <font face="Courier">TxDataSource</font> that points to a multipool now works. Previously, doing so resulted in a <font face="Courier">ResourceException.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328652"></a><p class="table">045991</p>


		</td>
		<td align="left" valign="top">
			<a name="1328654"></a><p class="table">When you define a connection pool in the console by specifying a login and password as part of the URL instead of as properties, an exception is no longer thrown.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328656"></a><p class="table">049963</p>


		</td>
		<td align="left" valign="top">
			<a name="1328658"></a><p class="table">Added a description to the javadoc comments for <font face="Courier">JDBCConnectionLeakProfile</font> and <font face="Courier">JDBCStatementProfile</font> interfaces that serve the connection pool runtime MBean.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328660"></a><p class="table">051058</p>


		</td>
		<td align="left" valign="top">
			<a name="1328662"></a><p class="table">Changed checking of the "reserve" ACL to "admin" ACL in <font face="Courier">weblogic.jdbc.common.internal.ConnectionPool.startup(Deployment MBean)</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328664"></a><p class="table">051165</p>


		</td>
		<td align="left" valign="top">
			<a name="1328666"></a><p class="table">Added reset methods to corresponding profile so that profile storage can be reset programatically to initial zero size.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328668"></a><p class="table">051371</p>


		</td>
		<td align="left" valign="top">
			<a name="1328670"></a><p class="table">The <font face="Courier">weblogic.Admin</font> JDBC usage message now includes connection pool commands.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328672"></a><p class="table">052540</p>


		</td>
		<td align="left" valign="top">
			<a name="1328674"></a><p class="table">The size of the <font face="Courier">PStatement</font> cache is now handled explicitly through the Administration Console and through the <font face="Courier">JDBCConnectionPoolMBean</font>. Setting size of the <font face="Courier">PreparedStatement</font> cache via database properties is deprecated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328676"></a><p class="table">052960</p>


		</td>
		<td align="left" valign="top">
			<a name="1328678"></a><p class="table">The getter and setter methods for <font face="Courier">HighAvailability</font> and <font face="Courier">LoadBalance</font> in <font face="Courier">JDBCMultiPoolMBean.java</font> are now deprecated. They are replaced by the <font face="Courier">AlgorithmType</font> getter and setter methods.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328680"></a><p class="table">053085</p>


		</td>
		<td align="left" valign="top">
			<a name="1328682"></a><p class="table">Added synchronization to the <font face="Courier">close()</font> and <font face="Courier">isClosed()</font> methods in the JDBC pool driver's Connection class.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328684"></a><p class="table">053721</p>


		</td>
		<td align="left" valign="top">
			<a name="1328686"></a><p class="table">The <font face="Courier">getPoolList()</font> method still exists in <font face="Courier">JDBCMultiPoolMBean</font> in 6.1 and is documented in the javadoc.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328688"></a><p class="table">054187</p>


		</td>
		<td align="left" valign="top">
			<a name="1328690"></a><p class="table">Upon multiple invocations, the <font face="Courier">PreparedStatement</font> query no longer returns an incomplete <font face="Courier">ResultSet</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328692"></a><p class="table">055655</p>


		</td>
		<td align="left" valign="top">
			<a name="1328694"></a><p class="table">JDBC driver DLL for Oracle 8.1.6 is no longer broken.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328731"></a><p class="head2">J<a name="jms"></a>MS
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328700"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328702"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328704"></a><p class="table">051938 &amp; 053464</p>


		</td>
		<td align="left" valign="top">
			<a name="1328706"></a><p class="table">If a destination becomes unavailable, producers can now properly detect them as unavailable (<font face="Courier">peerGone</font>) and will send and receive exceptions while the destination remains unavailable. Once the destination becomes available, producers will recover and resume working properly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328708"></a><p class="table">053635 &amp; 054655</p>


		</td>
		<td align="left" valign="top">
			<a name="1328710"></a><p class="table">To get the proper transaction semantics, applications should always use an XA connection factory when inside an EJB. Furthermore, the default connection factory used by Message Driven Beans (MDBs) is now an XA connection factory. To configure user-defined connection factories used inside of an EJB as XA, use the Administration Console to select the XA Connection Factory check box (<font face="Courier">XAConnectionFactoryEnabled="true"</font>) under the Configuration-Transactions tab under the Connection Factories node.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328712"></a><p class="table">053649</p>


		</td>
		<td align="left" valign="top">
			<a name="1328714"></a><p class="table">WebLogic JMS was only acknowledging messages up to and including the message being acknowledged. It now acknowledges all messages (unless the Acknowledge Policy attribute is set to Previous).</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328716"></a><p class="table">054154</p>


		</td>
		<td align="left" valign="top">
			<a name="1328718"></a><p class="table">When a message is serialized outside of JMS (pass by value to an EJB or an RMI call), the destination is no longer dropped.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328720"></a><p class="table">054365</p>


		</td>
		<td align="left" valign="top">
			<a name="1328722"></a><p class="table">The behavior of the pro-active assignment of messages performed by session pool connection consumers has been corrected. Regardless of the <font face="Courier">messagesMaximum</font> setting on the connection factory, a connection consumer will consume at most the <font face="Courier">connectionConsumer.messagesMaximum</font> setting to any given session.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328724"></a><p class="table">055364</p>


		</td>
		<td align="left" valign="top">
			<a name="1328726"></a><p class="table">When attempting to set properties on a message that is received in read-only mode, users can now call the <font face="Courier">clearProperties()</font> method to make the properties writable. Previously, if a received message had no properties to clear, <font face="Courier">clearProperties()</font> would not make the properties writable.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328728"></a><p class="table">056556</p>


		</td>
		<td align="left" valign="top">
			<a name="1328730"></a><p class="table">When multiple subscribers are created under the same session, asynchronous subscribers no longer hang after receiving the first message.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328771"></a><p class="head2">JTA
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328735"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328737"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328739"></a><p class="table">024199</p>


		</td>
		<td align="left" valign="top">
			<a name="1328741"></a><p class="table">The JTA driver no longer requires read permission in the top level workspace.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328743"></a><p class="table">048979</p>


		</td>
		<td align="left" valign="top">
			<a name="1328745"></a><p class="table">Fixed the JTA race condition that caused the following error if multiple clients used the same resources simultaneously:</p>

<a name="1328746"></a><p class="table"><font face="Courier">Unable to create resource runtime mbean</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328748"></a><p class="table">050789</p>


		</td>
		<td align="left" valign="top">
			<a name="1328750"></a><p class="table">The auto-update interval for picking up applications deployed in a domain appears under Domain options and no longer appears under JTA Subsystem.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328752"></a><p class="table">050849</p>


		</td>
		<td align="left" valign="top">
			<a name="1328754"></a><p class="table">Improved JTA resource health monitoring. There is now a distinction between an unhealthy/blocked transaction and an unhealthy resource. Once a resource is marked dead, a general mechanism informs the resource provider so that it can refresh itself. Hard-coded constants, such as the two-minute interval (after which an unresponsive resource is declared unhealthy), are now configurable.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328756"></a><p class="table">051631</p>


		</td>
		<td align="left" valign="top">
			<a name="1328758"></a><p class="table">Using prepared statements with <font face="Courier">testConnectionOnRelease</font> results in an SQLException for the Weblogic OCI XA driver.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328760"></a><p class="table">051673</p>


		</td>
		<td align="left" valign="top">
			<a name="1328762"></a><p class="table">Heuristic exceptions are no longer being reported inconsistently in single versus multiple server configurations.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328764"></a><p class="table">053638</p>


		</td>
		<td align="left" valign="top">
			<a name="1328766"></a><p class="table">A work-around is provided for the Oracle XA driver limitation that results from accessing the same database instance from multiple servers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328768"></a><p class="table">054513</p>


		</td>
		<td align="left" valign="top">
			<a name="1328770"></a><p class="table">Fixed checked transaction behavior check.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328943"></a><p class="head2">M<a name="misc"></a>iscellaneous
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328776"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328778"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328780"></a><p class="table">032447 &amp; 054281</p>


		</td>
		<td align="left" valign="top">
			<a name="1328782"></a><p class="table">WebLogic Server no longer prints to the server log "Emergency," "Critical," and "Alert" messages that directly pertain to shutdown when the server is intentionally shut down by an Admin user.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328784"></a><p class="table">047596</p>


		</td>
		<td align="left" valign="top">
			<a name="1328786"></a><p class="table">When the <font face="Courier">SHLIB</font> environment variable is not defined, WebLogic Server no longer fails to find the performance pack when started.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328788"></a><p class="table">048222</p>


		</td>
		<td align="left" valign="top">
			<a name="1328790"></a><p class="table">The console monitoring graphs are now working in Netscape 4.75.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328792"></a><p class="table">048524</p>


		</td>
		<td align="left" valign="top">
			<a name="1328794"></a><p class="table">The <font face="Courier">LoginContext</font> class always threw a <font face="Courier">LoginException</font> with the message "Authentication Failed" regardless of the exception thrown by the underlying custom <font face="Courier">LoginModule</font> implementation. The <font face="Courier">LoginContext</font> class now propagates the exception thrown by the <font face="Courier">LoginModule</font> implementation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328796"></a><p class="table">049668</p>


		</td>
		<td align="left" valign="top">
			<a name="1328798"></a><p class="table">The Service Pack installer can now delete empty directories.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328800"></a><p class="table">050345</p>


		</td>
		<td align="left" valign="top">
			<a name="1328802"></a><p class="table">Now, there can be multiple versions of either the <font face="Courier">i18n_user.properties</font> file or the <font face="Courier">weblogic/msgcat/i18n.properties</font> file. This feature allows users to place their message information more flexibly and to update the system messages if necessary.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328804"></a><p class="table">050385</p>


		</td>
		<td align="left" valign="top">
			<a name="1328806"></a><p class="table">Added the reset connection pool option to the console for Jolt connection pool. This option is also available in WebLogic Server 6.0 SP1 and SP2.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328808"></a><p class="table">050489</p>


		</td>
		<td align="left" valign="top">
			<a name="1328810"></a><p class="table">It is now possible to pass an argument that contains a comment into the startup class without the parser splitting the value into two arguments.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328812"></a><p class="table">050517</p>


		</td>
		<td align="left" valign="top">
			<a name="1328814"></a><p class="table">OBJ_ADAPTER is no longer thrown when a valuetype is passed to a CORBA server on Solaris.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328816"></a><p class="table">050888</p>


		</td>
		<td align="left" valign="top">
			<a name="1328818"></a><p class="table">Fixed network classloading for classes stored in the server's classpath. Previously, a <font face="Courier">ClassNotFoundException</font> was thrown in the client while the client unmarshalled objects of those classes.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328820"></a><p class="table">051297</p>


		</td>
		<td align="left" valign="top">
			<a name="1328822"></a><p class="table">Improved the <font face="Courier">ZipException</font> message when the application path is misconfigured.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328824"></a><p class="table">052146</p>


		</td>
		<td align="left" valign="top">
			<a name="1328826"></a><p class="table">Fixed a problem with weight-based load balancing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328828"></a><p class="table">052349</p>


		</td>
		<td align="left" valign="top">
			<a name="1328830"></a><p class="table">Fixed a password-related problem that arose when migrating to WebLogic Server 6.1 from WebLogic Server 5.1 SP7 or later. Previously, if you had LDAP configured in <font face="Courier">ldaprealm.properties</font>, after running the <font face="Courier">weblogic.properties</font> file conversion, you had to add the password for the LDAP server to the <font face="Courier">config.xml</font> file manually. This is no longer required.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328832"></a><p class="table">052567</p>


		</td>
		<td align="left" valign="top">
			<a name="1328834"></a><p class="table">Added a detailed error message to be used if the performance pack is missing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328836"></a><p class="table">052666</p>


		</td>
		<td align="left" valign="top">
			<a name="1328838"></a><p class="table">Corrected the error message that relates to the<font face="Courier"> startNodeManager.cmd</font> script which is started from the <font face="Courier">WL_HOME/config</font> directory. The error message now points to the correct directory.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328840"></a><p class="table">053308</p>


		</td>
		<td align="left" valign="top">
			<a name="1328842"></a><p class="table">The Tuxedo server in the <font face="Courier">simpappcns</font> example can now boot. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328844"></a><p class="table">053320</p>


		</td>
		<td align="left" valign="top">
			<a name="1328846"></a><p class="table">Deleted these two examples: </p>

<a name="1328847"></a><p class="table"><font face="Courier">time.ServerTimer<br>time.ClientTimer</font></p>

<a name="1328848"></a><p class="table">WebLogic Time is deprecated. Use <font face="Courier">java.util.Timer</font> instead.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328850"></a><p class="table">053422</p>


		</td>
		<td align="left" valign="top">
			<a name="1328852"></a><p class="table">Fixed a problem with the Deploy checkbox in the console. If you de-selected this checkbox, the application was not deployed, but the next time the serer was booted, the application was deployed anyway.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328854"></a><p class="table">053426</p>


		</td>
		<td align="left" valign="top">
			<a name="1328856"></a><p class="table">The conversion utility no longer creates and uses the <font face="Courier">production_apps</font> directory.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328858"></a><p class="table">053559</p>


		</td>
		<td align="left" valign="top">
			<a name="1328860"></a><p class="table">The <font face="Courier">weblogic.ant.taskdefs.ejb[20].DDInit</font> tool is now better able to determine bean classes.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328862"></a><p class="table">053584</p>


		</td>
		<td align="left" valign="top">
			<a name="1328864"></a><p class="table">Merged the Path field and the URI field used in the console when configuring a standalone component.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328866"></a><p class="table">053617</p>


		</td>
		<td align="left" valign="top">
			<a name="1328868"></a><p class="table">Client-side rollbacks now release transaction data structures immediately.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328870"></a><p class="table">053693</p>


		</td>
		<td align="left" valign="top">
			<a name="1328872"></a><p class="table">The <font face="Courier">weblogic.net</font> API is now exposed in the <font face="Courier">javadoc.packages</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328874"></a><p class="table">053725</p>


		</td>
		<td align="left" valign="top">
			<a name="1328876"></a><p class="table">The SNMP Agent screen in the console now has a field called "TargettedTrapDestinations" which is of type <font face="Courier">SNMPTrapDestinationMBean.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328878"></a><p class="table">053952 and 054777</p>


		</td>
		<td align="left" valign="top">
			<a name="1328880"></a><p class="table">Fixed problems with starting Managed Servers from the command line. Also, the error log message did not indicate whether the error came before or from the current start-up instance. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328882"></a><p class="table">053955</p>


		</td>
		<td align="left" valign="top">
			<a name="1328884"></a><p class="table">Added<font face="Courier"> %JAVA_HOME\bin</font> to the PATH environment variable in the <font face="Courier">startNodeManager.cmd</font> script and in the <font face="Courier">startNodeManager.sh</font> script. Because of these additions, starting a Managed Server via the<font face="Courier"> NodeManager</font> no longer fails if the <font face="Courier">NodeManager</font> has been started up without "java" in its PATH variable.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328886"></a><p class="table">054131</p>


		</td>
		<td align="left" valign="top">
			<a name="1328888"></a><p class="table">In a cluster environment with a <font face="Courier">ProxyServer</font> (<font face="Courier">HttpClusterServlet</font>), when calls are made from a client through the <font face="Courier">ProxyServer</font>, the nodes in the cluster now receive the true client details instead of the ProxyServer's details.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328890"></a><p class="table">054281</p>


		</td>
		<td align="left" valign="top">
			<a name="1328892"></a><p class="table"><font face="Courier">ListenThread</font> no longer fails during WebLogic Server shutdown.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328894"></a><p class="table">054517</p>


		</td>
		<td align="left" valign="top">
			<a name="1328896"></a><p class="table">Fixed an HTTP tunneling problem with making RMI calls through user-launched threads on the server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328898"></a><p class="table">054608</p>


		</td>
		<td align="left" valign="top">
			<a name="1328900"></a><p class="table">Added attributes to dialog and table pages of the console for the properties, <font face="Courier">SNMPAtributeChange</font> and <font face="Courier">SNMPLogFilter</font>. The attributes provide the option to enable a server for each property.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328902"></a><p class="table">054673</p>


		</td>
		<td align="left" valign="top">
			<a name="1328904"></a><p class="table">The <font face="Courier">snmpwalk</font> command, a command line utility, is now working correctly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328906"></a><p class="table">054734</p>


		</td>
		<td align="left" valign="top">
			<a name="1328908"></a><p class="table">Fixed problems that occurred with the connection pool after the resource adapter threw a <font face="Courier">CONNECTION_ERROR_OCCURRED</font> exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328910"></a><p class="table">054738</p>


		</td>
		<td align="left" valign="top">
			<a name="1328912"></a><p class="table">Added support to allow an <font face="Courier">ear</font> to contain a <font face="Courier">rar</font> but have the <font face="Courier">rar</font>'s Java classes packaged in a <font face="Courier">jar</font> that exists in the <font face="Courier">ear</font> rather than in the <font face="Courier">rar</font> itself. The <font face="Courier">classpath</font> entry is now supported in the <font face="Courier">rar</font>'s <font face="Courier">Manifest.mf</font> file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328914"></a><p class="table">054771</p>


		</td>
		<td align="left" valign="top">
			<a name="1328916"></a><p class="table">When the connection leak detector was in effect, <font face="Courier">ManagedConnections </font>were automatically destroyed in the time specified by <font face="Courier">connection-cleanup-frequency</font> and <font face="Courier">connection-duration-time</font> elements in the <font face="Courier">weblogic-ra.xml</font> deployment descriptor file. However, if the resource adapter itself recognized that the <font face="Courier">ManagedConnection</font> was currently active, it had no way to abort the <font face="Courier">ManagedConnection</font> destruction.</p>

<a name="1328917"></a><p class="table">The resource adapter can now abort the automatic destruction of a recognized active <font face="Courier">ManagedConnection</font> by throwing <font face="Courier">javax.resource.spi.IllegalStateException</font> from a <font face="Courier">ManagedConnection.cleanup()</font> method call.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328919"></a><p class="table">054777 and 053952</p>


		</td>
		<td align="left" valign="top">
			<a name="1328921"></a><p class="table">Fixed problems with starting Managed Servers with the command line. Also, the error log message did not indicate whether the error came before or from the current start-up instance. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328923"></a><p class="table">054795</p>


		</td>
		<td align="left" valign="top">
			<a name="1328925"></a><p class="table">The installer now only permits a single 30-day trial period for a given product or release, service packs included. A license to extend the initial period can be obtained from the BEA Web site.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328927"></a><p class="table">055090</p>


		</td>
		<td align="left" valign="top">
			<a name="1328929"></a><p class="table">During various interactions with WebLogic Server, the resource adapter received <font face="Courier">NoAccessRuntimeExceptions</font> exceptions, which prevented the resource adapter from performing various operations. These access problems have been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328931"></a><p class="table">055121</p>


		</td>
		<td align="left" valign="top">
			<a name="1328933"></a><p class="table">The start script that is generated by the converter tool now quotes</p>

<a name="1328934"></a><p class="table"><font face="Courier">%CLASSPATH%</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328936"></a><p class="table">055681</p>


		</td>
		<td align="left" valign="top">
			<a name="1328938"></a><p class="table">All <font face="Courier">nav.jsp</font> files now send out the nav tree in <font face="Courier">UTF-8</font> encoding so that the <font face="Courier">JNDI</font> tree on Solaris can be displayed properly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328940"></a><p class="table">056481</p>


		</td>
		<td align="left" valign="top">
			<a name="1328942"></a><p class="table">Fixed bean deployment path in the connector <font face="Courier">config.xml</font> file. The <font face="Courier">connector.ConnectorEJBTest.testOpenConnection</font> no longer fails.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1328996"></a><p class="head2">P<a name="plugin"></a>lug-ins
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1328949"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1328951"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328953"></a><p class="table">047784</p>


		</td>
		<td align="left" valign="top">
			<a name="1328955"></a><p class="table">The <font face="Courier">iisforward.dll</font> file now supports multiple websites for the same IIS instance</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328957"></a><p class="table">050080</p>


		</td>
		<td align="left" valign="top">
			<a name="1328959"></a><p class="table">The <font face="Courier">PathPrepend</font> and <font face="Courier">PathTrim</font> parameters for the Apache plug-in can now work simultaneously when they use HTTPS over an SSL.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328961"></a><p class="table">050253</p>


		</td>
		<td align="left" valign="top">
			<a name="1328963"></a><p class="table">The ISAPI plug-in now allows the content-length to be equal to 0 for POST and for PUT.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328965"></a><p class="table">051912</p>


		</td>
		<td align="left" valign="top">
			<a name="1328967"></a><p class="table">The NSAPI plug-in (<font face="Courier">proxy35.dll</font>) for Netscape Enterprise Server 3.5.1 on Windows NT was giving the error message, <font face="Courier">ns-httpd36.dll could not be found in the specified path</font>. Because there is no such DLL in NES Server 3.5.1, this error message has been deleted.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328969"></a><p class="table">052444</p>


		</td>
		<td align="left" valign="top">
			<a name="1328971"></a><p class="table">When you use the <font face="Courier">HttpClusterServlet</font> plug-in and the primary server shuts down, a more informative error message is now displayed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328973"></a><p class="table">052480</p>


		</td>
		<td align="left" valign="top">
			<a name="1328975"></a><p class="table">The ISAPI plug-in now flushes the buffer even when the request is not served completely.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328977"></a><p class="table">053773</p>


		</td>
		<td align="left" valign="top">
			<a name="1328979"></a><p class="table">Added a plug-in option to specify to which IP address the plug-in should bind when it connects to WebLogic Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328981"></a><p class="table">054140</p>


		</td>
		<td align="left" valign="top">
			<a name="1328983"></a><p class="table">Added a new parameter, WLProxySSL, for all of the plug-ins whose default value is OFF. This parameter indicates whether HTTPS is used by the users' browser on which the proxy is based. The proxy then determines to which URL to send users in the case of <font face="Courier">response.sendRedirect</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328985"></a><p class="table">054526</p>


		</td>
		<td align="left" valign="top">
			<a name="1328987"></a><p class="table">Fixed problems that resulted from using the same socket for the keep-alive connections.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328989"></a><p class="table">054998</p>


		</td>
		<td align="left" valign="top">
			<a name="1328991"></a><p class="table">Fixed a problem with downloading a file from WebLogic Server 6.1 through IIS Web Server 5.0 as proxy. The error saying that <font face="Courier">inetinfo.exe</font> has crashed no longer occurs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1328993"></a><p class="table">055093</p>


		</td>
		<td align="left" valign="top">
			<a name="1328995"></a><p class="table">Fixed a problem that resulted from using SSL with the IIS plug-in.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329031"></a><p class="head2">RMI over IIOP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329000"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329002"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329004"></a><p class="table">052086</p>


		</td>
		<td align="left" valign="top">
			<a name="1329006"></a><p class="table">Fixed a problem that arose from calling outbound using IIOP after re-deploying an EJB.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329008"></a><p class="table">052300</p>


		</td>
		<td align="left" valign="top">
			<a name="1329010"></a><p class="table">Fixed a problem with ear classloaders that prevented call by reference from working.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329012"></a><p class="table">054182</p>


		</td>
		<td align="left" valign="top">
			<a name="1329014"></a><p class="table">In the 6.1 release, there was an IIOP/SSL outage. This has been fixed. A convenience class for accessing the SSL socket factory in the client was added.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329016"></a><p class="table">054376</p>


		</td>
		<td align="left" valign="top">
			<a name="1329018"></a><p class="table">Security credential propagation is now supported over IIOP.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329020"></a><p class="table">055330</p>


		</td>
		<td align="left" valign="top">
			<a name="1329022"></a><p class="table">Corrected the IIOP JVMID discriminators that are generated for remote JVMs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329024"></a><p class="table">055394</p>


		</td>
		<td align="left" valign="top">
			<a name="1329026"></a><p class="table">Fixed the SVUID for <font face="Courier">weblogic.iiop.IIOPRemoteRef</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329028"></a><p class="table">056505</p>


		</td>
		<td align="left" valign="top">
			<a name="1329030"></a><p class="table">Fixed a problem with encoding value types in Anys with the IBM JDK on AIX.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329186"></a><p class="head2">S<a name="servlets"></a>ervlets and JSP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329036"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329038"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329040"></a><p class="table">C043505</p>


		</td>
		<td align="left" valign="top">
			<a name="1329043"></a><p class="table">Please review the security advisory information at <a href="http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA00-09.jsp">http://dev2dev.bea.com/resourcelibrary/advisoriesnotifications/BEA00-09.jsp</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329045"></a><p class="table">043659</p>


		</td>
		<td align="left" valign="top">
			<a name="1329047"></a><p class="table">Shortened the session ID for WAP in a cluster.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329049"></a><p class="table">049139</p>


		</td>
		<td align="left" valign="top">
			<a name="1329051"></a><p class="table">The following JSP no longer fails to compile.</p>

<a name="1329052"></a><p class="table"><font face="Courier">&lt;%@ taglib uri="accents.tld" prefix="accents" %&gt;<br>&lt;%@ page contentType="text/html; charset=ISO-8859-1" %&gt;<br>&lt;accents:test&gt;<br>fail<br>&lt;/accents:test&gt;</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329054"></a><p class="table">049147</p>


		</td>
		<td align="left" valign="top">
			<a name="1329056"></a><p class="table">When you start the default server, a warning message referencing the servlet 2.2 DTD no longer occurs.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329058"></a><p class="table">050343</p>


		</td>
		<td align="left" valign="top">
			<a name="1329060"></a><p class="table"><font face="Courier">ResponseHeaders.writeHeaders()</font> generates an HTTP header for single byte strings only.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329062"></a><p class="table">050370</p>


		</td>
		<td align="left" valign="top">
			<a name="1329064"></a><p class="table">Added the <font face="Courier">PrefetchTag</font> class to the <font face="Courier">weblogic-tags.jar</font> file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329066"></a><p class="table">050398</p>


		</td>
		<td align="left" valign="top">
			<a name="1329068"></a><p class="table">Added the <font face="Courier">weblogicx.jsp.tags.Prefetch</font>Tag class to the <font face="Courier">weblogic-tags.jar</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329070"></a><p class="table">051396</p>


		</td>
		<td align="left" valign="top">
			<a name="1329072"></a><p class="table">Load-on-startup now produces a warning if an invalid value is entered.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329074"></a><p class="table">052109</p>


		</td>
		<td align="left" valign="top">
			<a name="1329076"></a><p class="table">A <font face="Courier">NullPointerException</font> is no longer thrown every time <font face="Courier">ServletSessionRuntimemBeanImpl.getMainAttribute()</font> is called.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329078"></a><p class="table">052134</p>


		</td>
		<td align="left" valign="top">
			<a name="1329080"></a><p class="table">Added support for two Web applications or two <font face="Courier">ejb-jars</font> with the same name in different <font face="Courier">ear</font> files. Previously, deploying two <font face="Courier">ear</font> files that each contained a web application <font face="Courier">foo.war</font> file caused an <font face="Courier">InstanceAlreadyExists</font> error.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329082"></a><p class="table">052665</p>


		</td>
		<td align="left" valign="top">
			<a name="1329084"></a><p class="table">Added the capability to configure a <font face="Courier">&lt;run-as&gt;</font> element for a servlet from the web application deployment descriptor editor.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329086"></a><p class="table">052786</p>


		</td>
		<td align="left" valign="top">
			<a name="1329088"></a><p class="table">Exception-type mapping implementation no longer looks at the exact match for the exception type. Multiple classes can now be registered in the hierarchy. Exception-type mapping picks up the closest match.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329090"></a><p class="table">053314</p>


		</td>
		<td align="left" valign="top">
			<a name="1329092"></a><p class="table">Added performance optimizations for in-memory replication and memory session persistence.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329094"></a><p class="table">053333</p>


		</td>
		<td align="left" valign="top">
			<a name="1329096"></a><p class="table">The JSP page is now used as an error page if an exception is thrown in the Web application.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329098"></a><p class="table">053344</p>


		</td>
		<td align="left" valign="top">
			<a name="1329100"></a><p class="table">Fixed a problem caused by using multiple slashes in a URL.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329102"></a><p class="table">053377</p>


		</td>
		<td align="left" valign="top">
			<a name="1329104"></a><p class="table">The exception <font face="Courier">weblogic.servlet.internal.session.MemorySessionDataMissing no-arg constructor for class</font> is no longer thrown when:</p>


<ul type="disc">
<ul type="disc">

<a name="1329105"></a><p><li type="disc">A servlet invoked an EJB method and passed it a reference to its <font face="Courier">HTTPSession</font> object.


<a name="1329106"></a><p><li type="disc">The servlet and EJB had been deployed in the default Web application.


<a name="1329107"></a><p><li type="disc">Memory-based session persistence was used by the servlet.

</ul>
</ul>

		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329109"></a><p class="table">053573</p>


		</td>
		<td align="left" valign="top">
			<a name="1329111"></a><p class="table">When more than one call for <font face="Courier">Forward()</font> of <font face="Courier">RequestDispatcher</font> is made within a Servlet service method, the container now throws an exception instead of returning a blank response.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329113"></a><p class="table">053634</p>


		</td>
		<td align="left" valign="top">
			<a name="1329115"></a><p class="table">The query parameters added in a forward or an include now take precedence over the existing ones, in accordance with the servlet specification.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329117"></a><p class="table">053722</p>


		</td>
		<td align="left" valign="top">
			<a name="1329119"></a><p class="table">Introduced a switch in the <font face="Courier">weblogic.xml</font> file that redirects the client using the absolute URL. For example:</p>

<a name="1329120"></a><p class="table"><font face="Courier">&lt;container-descriptor&gt;                  &lt;redirect-with-absolute-url&gt;true&lt;/redirect-with-absolute-url&gt;<br>&lt;/container-descriptor&gt;</font></p>

<a name="1329121"></a><p class="table">If set to <font face="Courier">true</font>, the absolute URL is used.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329123"></a><p class="table">053743</p>


		</td>
		<td align="left" valign="top">
			<a name="1329125"></a><p class="table">Now, in accordance with the servlet spec, an <font face="Courier">IllegalStateException</font> is thrown if ServletA tries to forward the same request to the JSP after having forwarded it to ServletB.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329127"></a><p class="table">053932</p>


		</td>
		<td align="left" valign="top">
			<a name="1329129"></a><p class="table">The <font face="Courier">HttpClusterServlet</font> no longer throws a Null Pointer Exception and <font face="Courier">weblogic.utils.AssertionError</font> if <font face="Courier">secureProxy</font> is on.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329131"></a><p class="table">053959</p>


		</td>
		<td align="left" valign="top">
			<a name="1329133"></a><p class="table">BodyTags can now return <font face="Courier">EVAL_BODY_INCLUDE</font> from their <font face="Courier">doStartTag</font> method.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329135"></a><p class="table">054016</p>


		</td>
		<td align="left" valign="top">
			<a name="1329137"></a><p class="table">Fixed the response header format corruption problem when the Content-Disposition header is present.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329139"></a><p class="table">054194</p>


		</td>
		<td align="left" valign="top">
			<a name="1329141"></a><p class="table">The content in the response buffer is now flushed as soon as the amount specified by the <font face="Courier">setContentlength</font> is fulfilled.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329143"></a><p class="table">054427</p>


		</td>
		<td align="left" valign="top">
			<a name="1329145"></a><p class="table">Added a mapping for jnlp files to the <font face="Courier">weblogic/servlet/internal/web applicationServletContext.java</font> file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329147"></a><p class="table">054694</p>


		</td>
		<td align="left" valign="top">
			<a name="1329149"></a><p class="table">RequestDispatcher now invokes Servlet 2.3 filters.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329151"></a><p class="table">055002</p>


		</td>
		<td align="left" valign="top">
			<a name="1329153"></a><p class="table">A file can now be downloaded, instead of only appearing in the browser, after setting up mime-type in the <font face="Courier">web.xml</font> file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329155"></a><p class="table">055106</p>


		</td>
		<td align="left" valign="top">
			<a name="1329157"></a><p class="table">Parameters for the request are now returned after the <font face="Courier">HttpServletRequest.getParameter (param)</font> method for a <font face="Courier">POST</font> request is executed in the <font face="Courier">doPost()</font> method in a servlet.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329159"></a><p class="table">055241</p>


		</td>
		<td align="left" valign="top">
			<a name="1329161"></a><p class="table">The <font face="Courier">request.getAttribute</font> and <font face="Courier">request.setAttribute</font> are no longer broken when Content-Type=text/xml and the method is <font face="Courier">POST</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329163"></a><p class="table">055265</p>


		</td>
		<td align="left" valign="top">
			<a name="1329165"></a><p class="table">New parameters no longer appear lost when <font face="Courier">getServletContext().getRequestDispatcher</font> and <font face="Courier">request.getParameter</font> are used in the arguments.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329167"></a><p class="table">055591</p>


		</td>
		<td align="left" valign="top">
			<a name="1329169"></a><p class="table">A null pointer exception is no longer thrown in <font face="Courier">request.getParameterMap()</font> if the method is called with any of the <font face="Courier">getParameter()</font> methods.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329171"></a><p class="table">055630 &amp; 055962</p>


		</td>
		<td align="left" valign="top">
			<a name="1329173"></a><p class="table">Fixed a problem with internal ServletResponse implementation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329175"></a><p class="table">056188</p>


		</td>
		<td align="left" valign="top">
			<a name="1329177"></a><p class="table">Fixed a parse error. The JSP container was failing to parse when <font face="Courier">pageEncoding</font> was omitted.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329179"></a><p class="table">056277</p>


		</td>
		<td align="left" valign="top">
			<a name="1329181"></a><p class="table">There is no longer an <font face="Courier">ArrayIndexOutOfBoundsException</font> thrown on <font face="Courier">POSTs</font> when using the Netscape browser.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329183"></a><p class="table">057022</p>


		</td>
		<td align="left" valign="top">
			<a name="1329185"></a><p class="table">The JSP compiler no longer generates a classpath that is too long for the Win32 command line when Class-Path is used.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329300"></a><p class="head2">System Administration
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329190"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329192"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329194"></a><p class="table">045203</p>


		</td>
		<td align="left" valign="top">
			<a name="1329196"></a><p class="table">The message produced due to an incorrect password when using <font face="Courier">weblogic.Admin</font> is now consistent regardless of the command used.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329198"></a><p class="table">049177</p>


		</td>
		<td align="left" valign="top">
			<a name="1329200"></a><p class="table">Fixed an error related to Web application deployment in clusters.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329202"></a><p class="table">049178</p>


		</td>
		<td align="left" valign="top">
			<a name="1329204"></a><p class="table">Fixed an error that occurred when deploying the default Web application.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329206"></a><p class="table">049919</p>


		</td>
		<td align="left" valign="top">
			<a name="1329208"></a><p class="table">Redundant copies of <font face="Courier">ServerConfigMBeans</font> are no longer created on the Administration Server and the Managed Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329210"></a><p class="table">050374</p>


		</td>
		<td align="left" valign="top">
			<a name="1329212"></a><p class="table">Converting the <font face="Courier">weblogic.properties</font> file no longer fails when <font face="Courier">DeliveryMode=persistent</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329214"></a><p class="table">050853</p>


		</td>
		<td align="left" valign="top">
			<a name="1329216"></a><p class="table">Configuration and deployment can no longer take place with the wrong path and URI.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329218"></a><p class="table">050874</p>


		</td>
		<td align="left" valign="top">
			<a name="1329220"></a><p class="table">A cloned server can now be started as a Managed Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329222"></a><p class="table">051618</p>


		</td>
		<td align="left" valign="top">
			<a name="1329224"></a><p class="table"><font face="Courier">weblogic.Admin</font> now fetches the information from <font face="Courier">MBeanHome</font> of the server running at the address specified in the <font face="Courier">-URL</font> option. If the <font face="Courier">-URL</font> option is not specified, <font face="Courier">weblogic.Admin</font> fetches information using the <font face="Courier">AdminHome</font> of Domain.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329226"></a><p class="table">052046</p>


		</td>
		<td align="left" valign="top">
			<a name="1329228"></a><p class="table">When a password is not specified using the <font face="Courier">-password</font> option in the command line for <font face="Courier">weblogic.Admin</font>, the user is prompted to enter the password.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329230"></a><p class="table">052095</p>


		</td>
		<td align="left" valign="top">
			<a name="1329232"></a><p class="table">When launching the Admin startup script, the Administration Server was started but did not detect running Managed Servers. Now, when the Administration Server starts up, it always loads the root directory from the properties directory (<font face="Courier">-Dweblogic.RootDirectory</font>) or uses the default directory (current directory).</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329234"></a><p class="table">052198</p>


		</td>
		<td align="left" valign="top">
			<a name="1329236"></a><p class="table">A cloned server no longer fails during start-up.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329238"></a><p class="table">052261</p>


		</td>
		<td align="left" valign="top">
			<a name="1329240"></a><p class="table">Fixed a problem with using the <font face="Courier">weblogic.deploy</font> utility to deploy multiple EJB targets.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329242"></a><p class="table">052326</p>


		</td>
		<td align="left" valign="top">
			<a name="1329244"></a><p class="table">If an erroneous root directory is specified in the <font face="Courier">config.xml</font> file,</p>

<a name="1329245"></a><p class="table">WebLogic Server gives a warning message and the configuration is persisted to the directory where the Server is booted.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329247"></a><p class="table">052349</p>


		</td>
		<td align="left" valign="top">
			<a name="1329249"></a><p class="table">When the deployment descriptor converter is run to generate a <font face="Courier">config.xml</font> file from the <font face="Courier">weblogic.properties</font> file that has the property <font face="Courier">weblogic.security.realmClass=weblogic.security.LDAPRealm</font> set, a Password attribute now gets created in addition to the <font face="Courier">ConfigurationData</font> for the <font face="Courier">CustomRealm</font>. Values for both <font face="Courier">ConfigurationData</font> and Password are based on the information contained in the <font face="Courier">ldaprealm.properties</font> file. When the <font face="Courier">config.xml</font> gets saved, the Password gets encrypted.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329251"></a><p class="table">052656</p>


		</td>
		<td align="left" valign="top">
			<a name="1329253"></a><p class="table">Applications in the auto-deploy directory are no longer deployed twice.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329255"></a><p class="table">052753</p>


		</td>
		<td align="left" valign="top">
			<a name="1329257"></a><p class="table">Starting the Administration Server and then starting two Managed Servers simultaneously no longer causes a server failure.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329259"></a><p class="table">052804</p>


		</td>
		<td align="left" valign="top">
			<a name="1329261"></a><p class="table">If the <font face="Courier">&lt;charset-params&gt;</font> entry exists in the <font face="Courier">weblogic.xml</font>, then the deployment descriptor editor displays it. Previously, it failed to display and gave a <font face="Courier">ClassCastException</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329263"></a><p class="table">053053</p>


		</td>
		<td align="left" valign="top">
			<a name="1329265"></a><p class="table">Fixed a problem with redeploying a message-driven bean after undeployment.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329267"></a><p class="table">053485</p>


		</td>
		<td align="left" valign="top">
			<a name="1329269"></a><p class="table">This is a known issue with the conversion utility for customers migrating from earlier releases of WebLogic Server as well as those users following the migration tutorial. </p>

<a name="1329270"></a><p class="table">The JDK automatically specified by the conversion process under the compileCommand tag in the <font face="Courier">weblogic.xml</font> is set to <font face="Courier">JAVA_HOME\javac</font>. This setting is no longer missing the bin subdirectory, which is set to <font face="Courier">JAVA_HOME\bin\javac</font>. A corrected version of the conversion utility has been posted at <font face="Courier">http://developer.bea.com/tools/techguides.jsp</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329272"></a><p class="table">053926</p>


		</td>
		<td align="left" valign="top">
			<a name="1329274"></a><p class="table">When the Administration Console was used to convert weblogic.properties on <font face="Courier">src510sp10_117sj</font> to the <font face="Courier">config.xml</font> file on <font face="Courier">src_ag_131sj</font>, the root directory was not converted. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329276"></a><p class="table">053980</p>


		</td>
		<td align="left" valign="top">
			<a name="1329278"></a><p class="table">Fixed a problem that involved deploying a Web application in a cluster that was using an MBean API.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329280"></a><p class="table">053991</p>


		</td>
		<td align="left" valign="top">
			<a name="1329282"></a><p class="table">MBean name patterns specified by JMX can now query the MBean server and find MBeans.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329284"></a><p class="table">054173</p>


		</td>
		<td align="left" valign="top">
			<a name="1329286"></a><p class="table">Fixed a problem with starting Managed Servers simultaneously in a clustered environment.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329288"></a><p class="table">054485</p>


		</td>
		<td align="left" valign="top">
			<a name="1329290"></a><p class="table">Improved the accuracy of Managed Server startup URL error messages.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329292"></a><p class="table">055150</p>


		</td>
		<td align="left" valign="top">
			<a name="1329294"></a><p class="table">Fixed serialVersionUID for outer and inner classes following <a href="http://developer.java.sun.com/servlet/SessionServlet?url=http://developer.java.sun.com/developer/bugParade/bugs/4211550.html">Sun's recommendation</a>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329297"></a><p class="table">055945</p>


		</td>
		<td align="left" valign="top">
			<a name="1329299"></a><p class="table">A <font face="Courier">ClassCastException</font> was caused by deleting MBean references. This has been fixed.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329324"></a><p class="head2">Web Services
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329304"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329306"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329308"></a><p class="table">048800</p>


		</td>
		<td align="left" valign="top">
			<a name="1329310"></a><p class="table">Fixed a problem with array elements. Array elements are no longer in the SOAP-ENV namespace. The .NET array always ends up as a non-null array of zero elements.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329312"></a><p class="table">51222</p>


		</td>
		<td align="left" valign="top">
			<a name="1329314"></a><p class="table">You can now use the WebLogic Web Service client API to invoke a Microsoft-hosted Web service, as long as you add the following lines to your Java client program:</p>

<a name="1329315"></a><p class="table"><font face="Courier">CodecFactory factory = CodecFactory.newInstance();<br>SoapEncodingCodec codec = new SoapEncodingCodec();<br>codec.writeQualifiedName( false );<br>factory.register( codec );</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329317"></a><p class="table">053249, 053254</p>


		</td>
		<td align="left" valign="top">
			<a name="1329319"></a><p class="table">When a static Java client invokes a message-style Web service by sending or receiving an XML document, the client no longer receives an error due to the WSDL of the Web service not supporting the literal encoding style.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329321"></a><p class="table">058431, 054687</p>


		</td>
		<td align="left" valign="top">
			<a name="1329323"></a><p class="table">Null exceptions are no longer thrown when you try to invoke a remote procedure call Web service from a static Java client by using an array on primitive integers.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329380"></a><p class="head2">X<a name="xml"></a>ML
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329329"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329331"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329333"></a><p class="table">046955</p>


		</td>
		<td align="left" valign="top">
			<a name="1329335"></a><p class="table">Loading an XML document with <font face="Courier">xsl:inlcude</font> in it from a Web application was causing an SAX exception. This has been fixed. The path for the<font face="Courier"> xsl:include</font> must be page-relative.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329337"></a><p class="table">048165</p>


		</td>
		<td align="left" valign="top">
			<a name="1329339"></a><p class="table">It is now possible to circumvent caching, in general and on specific entities. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329341"></a><p class="table">049063</p>


		</td>
		<td align="left" valign="top">
			<a name="1329343"></a><p class="table">After you create parser and entity XML registry entries in the Administration Console, the public ID, system ID, and root tag fields become read-only and you cannot modify their values. This is the correct behavior.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329345"></a><p class="table">049066</p>


		</td>
		<td align="left" valign="top">
			<a name="1329347"></a><p class="table">Changes in the console are now propagated to the entity cache.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329349"></a><p class="table">049082</p>


		</td>
		<td align="left" valign="top">
			<a name="1329351"></a><p class="table">Debugging is now supported through an attribute in the <font face="Courier">ServerDebugMBean</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329353"></a><p class="table">049855</p>


		</td>
		<td align="left" valign="top">
			<a name="1329355"></a><p class="table">The <font face="Courier">xsl:inlcude</font> was leading to the wrong path for the include stylesheet when used in stylesheets that were loaded by JSPs that used the XSLT tag library. This has been fixed. The path for the <font face="Courier">xsl:include</font> must be page-relative.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329357"></a><p class="table">050469</p>


		</td>
		<td align="left" valign="top">
			<a name="1329359"></a><p class="table">The Administration Server now correctly converts <font face="Courier">XMLRegistryEntryMBeans</font> to the new MBean formats, even if an XML registry is not assigned to the Administration Server.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329361"></a><p class="table">050620</p>


		</td>
		<td align="left" valign="top">
			<a name="1329363"></a><p class="table">When an entity was resolved, the registry entry was called once to resolve and once to get the timeout interval for entering into the cache. These functions are now performed by a single call.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329365"></a><p class="table">052258</p>


		</td>
		<td align="left" valign="top">
			<a name="1329367"></a><p class="table">There are now default JAXP factories for standalone java applications. If the system properties are not set on the command-line, the weblogic factories are instantiated instead of the Apache factories.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329369"></a><p class="table">054332</p>


		</td>
		<td align="left" valign="top">
			<a name="1329371"></a><p class="table">Fixed a problem that was causing an error to occur when parsing a well-formed XML document with the default parser.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329373"></a><p class="table">054670</p>


		</td>
		<td align="left" valign="top">
			<a name="1329375"></a><p>The error message that the parser produced when parsing an XML file if the user specified an undeclared tag is now easier to understand.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329377"></a><p class="table">055499</p>


		</td>
		<td align="left" valign="top">
			<a name="1329379"></a><p>When the <font face="Courier">cloneNode(true)</font> method of <font face="Courier">weblogic.apache.xerces.dom.Node</font> is called on a root element that contains a namespace attribute (i.e. <font face="Courier">xmlns="http://www.abc.com/xml";</font>) an erroneous <font face="Courier">DOMException</font> is no longer thrown.</p>


		</td>

	</tr>

</table>


</center>
</p>

<p>&nbsp;</p>
<hr noshade>
<a name="1329383"></a><p class="head1">WebLogic Ser<a name="6.1"></a>ver 6.1 Release Solutions</p>

<a name="1329384"></a><p>The following sections describe problems that were resolved for WebLogic Server 6.1.</p>


<ul type="disc">
<ul type="disc">

<a name="1329388"></a><p><li type="disc"><a href="bugfixes2.html#1329471">Deployment Descriptor Editor</a>


<a name="1329392"></a><p><li type="disc"><a href="bugfixes2.html#1329487">EJB</a>


<a name="1329396"></a><p><li type="disc"><a href="bugfixes2.html#1329511">Examples</a>


<a name="1329400"></a><p><li type="disc"><a href="bugfixes2.html#1329539">Internationalization</a>


<a name="1329404"></a><p><li type="disc"><a href="bugfixes2.html#1329551">JCA</a>


<a name="1329408"></a><p><li type="disc"><a href="bugfixes2.html#1329629">JDBC</a>


<a name="1329412"></a><p><li type="disc"><a href="bugfixes2.html#1329786">JMS</a>


<a name="1329416"></a><p><li type="disc"><a href="bugfixes2.html#1329940">Miscellaneous</a>


<a name="1329420"></a><p><li type="disc"><a href="bugfixes2.html#1330026">Plug-ins</a>


<a name="1329424"></a><p><li type="disc"><a href="bugfixes2.html#1330148">Servlets and JSP</a>


<a name="1329428"></a><p><li type="disc"><a href="bugfixes2.html#1330171">Web Services</a>


<a name="1329432"></a><p><li type="disc"><a href="bugfixes2.html#1092680">XML</a>

</ul>
</ul>
<a name="1329471"></a><p class="head2">Deployment Descriptor Editor
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329436"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329438"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329440"></a><p class="table">048382 &amp; 049320</p>


		</td>
		<td align="left" valign="top">
			<a name="1329442"></a><p class="table">Fixed some problems with displaying the Connector Deployment Descriptor Editor in the Administration Console when clicking on the menu item "descriptor."</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329444"></a><p class="table">048965</p>


		</td>
		<td align="left" valign="top">
			<a name="1329446"></a><p class="table">Fixed some problems with displaying the EJB, web application, and WebServices nodes in the Deployment Descriptor Editor of the Administration Console. An error message was displaying when these nodes were clicked.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329448"></a><p class="table">048966</p>


		</td>
		<td align="left" valign="top">
			<a name="1329450"></a><p class="table">Fixed problems with displaying Security Role Assignments in the web application node of the Deployment Descriptor Editor. Clicking Security Role Assignment caused an <font face="Courier">IllegalArgument</font> exception to display and an error message for the web application.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329452"></a><p class="table">048971</p>


		</td>
		<td align="left" valign="top">
			<a name="1329454"></a><p class="table">Fixed some problems in the EJB 2.0 Deployment Descriptor Editor when clicking on existing Resource Reference instances.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329456"></a><p class="table">048973</p>


		</td>
		<td align="left" valign="top">
			<a name="1329458"></a><p class="table">Fixed some problems in the EJB Deployment Descriptor with persisting EJB entities. Clicking on the Persistence tab sometimes caused an exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329460"></a><p class="table">049458</p>


		</td>
		<td align="left" valign="top">
			<a name="1329462"></a><p class="table">Fixed problems cloning the following: WebLogic RDBMS bean, WebLogic RDBMS Jar, transaction isolation, session beans and entity beans.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329464"></a><p class="table">049460</p>


		</td>
		<td align="left" valign="top">
			<a name="1329466"></a><p class="table">The EJB Deployment Descriptor Editor had problems creating description folders for new WebLogic EJBs. Also, it was not possible to configure a new entity descriptor, stateless session descriptor or stateful session descriptor for a newly configured/cloned WebLogic EJB. These problems have been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329468"></a><p class="table">049413</p>


		</td>
		<td align="left" valign="top">
			<a name="1329470"></a><p class="table">Fixed problems with persistence in each of the Deployment Descriptor Editors. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329487"></a><p class="head2">E<a name="ejb"></a>JB
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329476"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329478"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329480"></a><p class="table">042794</p>


		</td>
		<td align="left" valign="top">
			<a name="1329482"></a><p class="table">Deploying Message-Driven Beans into a full cluster through the Console's "Clusters" panel was broken. This is now fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329484"></a><p class="table">046960</p>


		</td>
		<td align="left" valign="top">
			<a name="1329486"></a><p class="table">Fixed a known problem with two servers hanging when a distributed transaction involving message-driven beans (MDBs) spans both servers.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329511"></a><p class="head2">E<a name="examples"></a>xamples
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329492"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329494"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329496"></a><p class="table">041463</p>


		</td>
		<td align="left" valign="top">
			<a name="1329498"></a><p class="table">Using UNIX, the <font face="Courier">config/petstore/StartPetStore.sh</font> script has been modified to use the Hotspot VM on HP. This modification is a workaround for a bug in the HP client VM. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329500"></a><p class="table">047509</p>


		</td>
		<td align="left" valign="top">
			<a name="1329502"></a><p class="table">When running the RMI examples, it was necessary to reboot the server after deploying. Before rebooting, the server was throwing a <font face="Courier">javax.naming.NameNotFoundException</font>. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329504"></a><p class="table">049011</p>


		</td>
		<td align="left" valign="top">
			<a name="1329506"></a><p class="table">Fixed some problems with the <font face="Courier">build.xml</font> file in <font face="Courier">WEBLOGIC_HOME/samples/examples/xml/sax</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329508"></a><p class="table">049264, 048678</p>


		</td>
		<td align="left" valign="top">
			<a name="1329510"></a><p class="table">The PetStore demo now logs you out correctly when you do "sign out". </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329539"></a><p class="head2">I<a name="international"></a>nternationalization
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329516"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329518"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329520"></a><p class="table">035036</p>


		</td>
		<td align="left" valign="top">
			<a name="1329522"></a><p class="table">When WebLogic Server boots and prompts for the boot account's password, the prompt used is now internationalized.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329524"></a><p class="table">041021</p>


		</td>
		<td align="left" valign="top">
			<a name="1329526"></a><p class="table">Fixed a problem failing to generate properties files for some message catalogs after executing l10ngen.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329528"></a><p class="table">041078</p>


		</td>
		<td align="left" valign="top">
			<a name="1329530"></a><p class="table">Fixed some duplicated keys in the <font face="Courier">english.xml</font> file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329532"></a><p class="table">041264</p>


		</td>
		<td align="left" valign="top">
			<a name="1329534"></a><p class="table">Fixed some internationalization problems with certain tags not being in <font face="Courier">english.xml</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329536"></a><p class="table">041266</p>


		</td>
		<td align="left" valign="top">
			<a name="1329538"></a><p class="table">The time stamp is now internationalized.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329551"></a><p class="head2">JCA<a name="ejb"></a>
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329544"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329546"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329548"></a><p class="table">049346</p>


		</td>
		<td align="left" valign="top">
			<a name="1329550"></a><p class="table">WebLogic Server now supports "<font face="Courier">javax.resource.spi.security.GenericCredential</font>" credential-interface or the "<font face="Courier">Kerbv5</font>" authentication-mechanism-type. Previously, specifying either value for the <font face="Courier">&lt;authentication-mechanism&gt;</font> in the<font face="Courier"> ra.xml</font> file for the resource adapter being deployed resulted in a failed deployment.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329629"></a><p class="head2">J<a name="jdbc"></a>DBC
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329556"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329558"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329560"></a><p class="table">033423</p>


		</td>
		<td align="left" valign="top">
			<a name="1329562"></a><p class="table">There were dbKona problems with <font face="Courier">QueryDataSet</font> and the OCI805_8 driver. This has been fixed on Windows NT, but is still a problem on HPUX and Solaris.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329564"></a><p class="table">033920</p>


		</td>
		<td align="left" valign="top">
			<a name="1329566"></a><p class="table">There was a problem in JDBC when running tests which access the connection pool. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329568"></a><p class="table">035530</p>


		</td>
		<td align="left" valign="top">
			<a name="1329570"></a><p class="table">There were problems enabling OS authentication and using Oracle 8.1.6/oci8 with the jDriver. This has been fixed on NT and HP-UX, but still is an issue on Solaris. We have added an error message that reports this problem: OS level authentication is not currently supported due to a defect in OCI 8 libraries.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329572"></a><p class="table">037589</p>


		</td>
		<td align="left" valign="top">
			<a name="1329574"></a><p class="table">Added Oracle thin driver support and fixed some outdated command line help.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329576"></a><p class="table">037591</p>


		</td>
		<td align="left" valign="top">
			<a name="1329578"></a><p class="table">Added support for ORACLE_THIN database type. Removed obsolete database types and command line options.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329580"></a><p class="table">037596</p>


		</td>
		<td align="left" valign="top">
			<a name="1329582"></a><p class="table">Fixed PreparedStatement.setBlob and PreparedStatement.setClob.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329584"></a><p class="table">037693</p>


		</td>
		<td align="left" valign="top">
			<a name="1329586"></a><p class="table">There are no longer problems with the Oracle driver and ROWID selects when running <font face="Courier">examples.dbkona.rowid</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329588"></a><p class="table">037893</p>


		</td>
		<td align="left" valign="top">
			<a name="1329590"></a><p class="table">Fixed <font face="Courier">getBytes()</font> to return null instead of a zero-length byte array with Oracle LONG RAW columns. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329592"></a><p class="table">038143</p>


		</td>
		<td align="left" valign="top">
			<a name="1329594"></a><p class="table"><font face="Courier">JDBConnectionPoolRuntimeMBean</font>'s were not working. Added a <font face="Courier">RuntimeMBean</font> implementation to <font face="Courier">ConnectionPools</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329596"></a><p class="table">038229</p>


		</td>
		<td align="left" valign="top">
			<a name="1329598"></a><p class="table">The jDriver for Oracle 8.1.6 no longer causes Managed Servers to run out of memory. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329600"></a><p class="table">038275</p>


		</td>
		<td align="left" valign="top">
			<a name="1329602"></a><p class="table">We no longer refer to the<font face="Courier"> weblogic.classpath</font> in JDBC error messages. The <font face="Courier">weblogic.classpath</font> does not exist in WebLogic 6.1.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329604"></a><p class="table">040379</p>


		</td>
		<td align="left" valign="top">
			<a name="1329606"></a><p class="table">The following error occurred when the <font face="Courier">server</font> and <font face="Courier">serverName</font> properties in a JDBC connection pool were specified with the same value:</p>

<a name="1329607"></a><p class="table"><font face="Courier">&lt;Cannot startup connection pool "jtaXAPool" server and serverName properties must have the same value&gt;</font></p>

<a name="1329608"></a><p class="table">This problem occurred when the XA driver required the <font face="Courier">server</font> or <font face="Courier">serverName</font> property to be set. It was occurring with the WebLogic jDriver for Oracle, but not the Oracle thin driver, or the Cloudscape driver. It has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329610"></a><p class="table"> 040509</p>


		</td>
		<td align="left" valign="top">
			<a name="1329612"></a><p class="table">Fixed a small problem with Solaris 2.6 and the jdriver.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329614"></a><p class="table"> 041286</p>


		</td>
		<td align="left" valign="top">
			<a name="1329616"></a><p class="table">Better error message for misconfigured connection pools.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329618"></a><p class="table"> 041302</p>


		</td>
		<td align="left" valign="top">
			<a name="1329620"></a><p class="table">The MS SQLServer driver has been updated.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329622"></a><p class="table"> 041514</p>


		</td>
		<td align="left" valign="top">
			<a name="1329624"></a><p class="table">Added support for JDBC and connection pool monitoring in the Console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329626"></a><p class="table"> 048764</p>


		</td>
		<td align="left" valign="top">
			<a name="1329628"></a><p class="table">Killing connection pools through the console is fixed.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329786"></a><p class="head2">J<a name="jms"></a>MS
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329634"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329636"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329638"></a><p class="table">039726</p>


		</td>
		<td align="left" valign="top">
			<a name="1329640"></a><p class="table">If a pre-6.0 WebLogic Server was shut down when it had active database operations, after upgrading to 6.1 some durable consumers may have received messages that were sent to the topic after the durable subscriptions were created. There was a race condition between the scavenger (which updates the database periodically) and Ctrl+c killing the pre-6.0 server. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329642"></a><p class="table">039809</p>


		</td>
		<td align="left" valign="top">
			<a name="1329644"></a><p class="table">The JMS messages types, TextMessage, ObjectMesssage, MapMessage and XMLMessage now implement in read-only mode so that the receiver cannot modify the message before calling clearBody().</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329646"></a><p class="table">041031</p>


		</td>
		<td align="left" valign="top">
			<a name="1329648"></a><p class="table">The JMS flow control no longer stalls asynchronous messages from a consumer.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329650"></a><p class="table">041165</p>


		</td>
		<td align="left" valign="top">
			<a name="1329652"></a><p class="table">If a user receives a JMS ObjectMessage and calls the toString method before calling getObject, the message is now automatically deserialized.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329654"></a><p class="table">041821</p>


		</td>
		<td align="left" valign="top">
			<a name="1329656"></a><p class="table">The JMS connection is now cleaned up properly when the client terminates without closing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329658"></a><p class="table">042096</p>


		</td>
		<td align="left" valign="top">
			<a name="1329660"></a><p class="table">Calling a setRollbackOnly in an MDB no longer yields a verbose log message.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329662"></a><p class="table">042458</p>


		</td>
		<td align="left" valign="top">
			<a name="1329664"></a><p class="table">JMS can now handle sending messages that are received from a foreign provider.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329666"></a><p class="table">042792</p>


		</td>
		<td align="left" valign="top">
			<a name="1329668"></a><p class="table">JMS can now process multiple messages concurrently with the JMSServerSessionPool.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329670"></a><p class="table">042997</p>


		</td>
		<td align="left" valign="top">
			<a name="1329672"></a><p class="table">Server session pools no longer deadlock on multi-CPU boxes.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329674"></a><p class="table">043077</p>


		</td>
		<td align="left" valign="top">
			<a name="1329676"></a><p class="table">The message listener no longer fails to auto acknowledge messages in server session pools.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329678"></a><p class="table">043155</p>


		</td>
		<td align="left" valign="top">
			<a name="1329680"></a><p class="table">JMS topic messages now expire since they are checked at the time the message is given to the consumer.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329682"></a><p class="table">043223</p>


		</td>
		<td align="left" valign="top">
			<a name="1329684"></a><p class="table">JMS can now send a TextMessage with more than 32K characters.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329686"></a><p class="table">043225</p>


		</td>
		<td align="left" valign="top">
			<a name="1329688"></a><p class="table">When performing a setObject, the JMS ObjectMessage is longer unnecessarily unserialized. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329690"></a><p class="table">043445</p>


		</td>
		<td align="left" valign="top">
			<a name="1329692"></a><p class="table">Sending a WebLogic Server JMS message using Fiorano 5.0 no longer generates an exception. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329694"></a><p class="table">043447</p>


		</td>
		<td align="left" valign="top">
			<a name="1329696"></a><p class="table">When a JMS server session pool is shut down, its server sessions are now cleaned up and closed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329698"></a><p class="table">043519</p>


		</td>
		<td align="left" valign="top">
			<a name="1329700"></a><p class="table">A session rollback and recover no longer prevents asynchronous consumers from receiving messages.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329702"></a><p class="table">043752</p>


		</td>
		<td align="left" valign="top">
			<a name="1329704"></a><p class="table">Recovering expired messages no longer causes a NullPointerException.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329706"></a><p class="table">043884</p>


		</td>
		<td align="left" valign="top">
			<a name="1329708"></a><p class="table">JMS provides better performance by not synchronizing writes to the file stores. Synchronous writes are configurable via the command line using properties and are enabled by default.</p>

<a name="1329709"></a><p class="table"><font face="Courier">Dweblogic.JMSFileStore.SynchronousWritesEnabled=(false|true)</font></p>

<a name="1329710"></a><p class="table"><font face="Courier">Dweblogic.JMSFileStore.&lt;store name&gt;.SynchronousWritesEnabled=(false|true)</font></p>

<a name="1329711"></a><p class="table">The first property applies to all JMS file stores running on the server. The second more specific property takes precedence over the first. The order where the properties are specified makes no difference.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329713"></a><p class="table">043973</p>


		</td>
		<td align="left" valign="top">
			<a name="1329715"></a><p class="table"><font face="Courier">TopicSesssion.unsubscribe()</font> is now rejected if a message has been received as part of a transaction or has not been acknowledged in the session. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329717"></a><p class="table">044200</p>


		</td>
		<td align="left" valign="top">
			<a name="1329719"></a><p class="table">The JMSConnection Mbean destroy() function now destroys the Connection when run on the server side. After destroying the Connection, the consumer is able to retrieve messages and the producer is able to send messages.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329721"></a><p class="table">044285</p>


		</td>
		<td align="left" valign="top">
			<a name="1329723"></a><p class="table">JMS persistence mechanism no longer locks up when there are not enough server threads. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329725"></a><p class="table">044450</p>


		</td>
		<td align="left" valign="top">
			<a name="1329727"></a><p class="table">The JDBC Store code no longer prepares "COMMIT WORK" unnecessarily.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329729"></a><p class="table">044605</p>


		</td>
		<td align="left" valign="top">
			<a name="1329731"></a><p class="table">The serialization of an unsent JMS message no longer generates a <font face="Courier">NullPointerException</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329733"></a><p class="table">044891</p>


		</td>
		<td align="left" valign="top">
			<a name="1329735"></a><p class="table">On a JMS transacted session, <font face="Courier">Session.close()</font> now rolls back the in-progress transaction instead of committing it.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329737"></a><p class="table">044961</p>


		</td>
		<td align="left" valign="top">
			<a name="1329739"></a><p class="table">The <font face="Courier">getBooleanProperty()</font> correctly returns false if a value for name is not found. All of the other getProperty methods return NumberFormatException if a value is not found.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329741"></a><p class="table">044976</p>


		</td>
		<td align="left" valign="top">
			<a name="1329743"></a><p class="table">The returned values and exceptions from <font face="Courier">getXXX()</font> in <font face="Courier">MapMessage</font> now return the correct values, as follows: </p>

<a name="1329744"></a><p class="table">If the value for the field does not exist, then <font face="Courier">getByte() </font>should return NumberFormatException. </p>

<a name="1329745"></a><p class="table">If the value for field can not convert, then <font face="Courier">getByte() </font>should return MessageFormatException.</p>

<a name="1329746"></a><p class="table">If the value for the field does not exist, then <font face="Courier">getBoolean()</font> should return false.</p>

<a name="1329747"></a><p class="table">If the value for the field can not convert, then <font face="Courier">getBoolean()</font> should return <font face="Courier">MessageFormatException</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329749"></a><p class="table">045531</p>


		</td>
		<td align="left" valign="top">
			<a name="1329751"></a><p class="table">A <font face="Courier">NullPointerException</font> no longer occurs when a JMS durable subscription is configured but a store is not configured.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329753"></a><p class="table">045956</p>


		</td>
		<td align="left" valign="top">
			<a name="1329755"></a><p class="table">The connection consumer now behaves properly when creating a server session pool that is using default factories. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329757"></a><p class="table">045963</p>


		</td>
		<td align="left" valign="top">
			<a name="1329759"></a><p class="table">The connection consumer no longer ignores the <font face="Courier">maxMessages</font> field that caused it to swallow all the selected messages.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329761"></a><p class="table">045980</p>


		</td>
		<td align="left" valign="top">
			<a name="1329763"></a><p class="table">A detailed log message was added for failures of the first SQL query, which describes the likely problem and provides a work-around. The work around ensures that the connection pool being used has permission to access the given tables. It also fully qualifies the table names by configuring a table name prefix in the JMS JDBC store that includes the schema and catalog names: ([schema.[catalog.]]prefix).</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329765"></a><p class="table">046705</p>


		</td>
		<td align="left" valign="top">
			<a name="1329767"></a><p class="table">When setting the message listener on a subscriber, JMS now remembers the context classloader at the time of setting so that when it calls onMessage on that message listener it can set the context classloader appropriately. This allows EJB to send messages to a web application subscriber that contains classes only present in the EJB.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329769"></a><p class="table">046726</p>


		</td>
		<td align="left" valign="top">
			<a name="1329771"></a><p class="table">There is a new configuration option for "acknowledge" to specify the new or old behavior. This has been added because JavaSoft has proposed changing the meaning of "acknowledge" based on the description in the JMS 1.0.2 specification as opposed to the one specified in the Javadoc, as follows:</p>

<a name="1329772"></a><p class="table">"Section 4.4.13: Acknowledging a consumed message automatically acknowledges the receipt of all messages that have been delivered by its session."</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329774"></a><p class="table">047424</p>


		</td>
		<td align="left" valign="top">
			<a name="1329776"></a><p class="table">JMS no longer throws a NullPointerException when the message size exceeds the quota size.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329778"></a><p class="table">048181</p>


		</td>
		<td align="left" valign="top">
			<a name="1329780"></a><p class="table">When creating a temporary topic, and then closing the connection, the following exception is no longer thrown when looking up the topic name: <font face="Courier">weblogic.jms.common.JMSException: Error unregistering RuntimeMBean</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329782"></a><p class="table">049518</p>


		</td>
		<td align="left" valign="top">
			<a name="1329784"></a><p class="table">Fixed a problem migrating text messages generated using WebLogic Server 6.0 to WebLogic Server 6.1. The messages could not be received and the following message was thrown: </p>

<a name="1329785"></a><p class="table"><font face="Courier">The corresponding file block will be zeroed out on disk, and this corruption will no longer be reported in the future. java.io.StreamCorruptedException: Unknown object stream version.</font> </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1329940"></a><p class="head2">M<a name="misc"></a>iscellaneous
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329791"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329793"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329795"></a><p class="table">035039</p>


		</td>
		<td align="left" valign="top">
			<a name="1329797"></a><p class="table">When WebLogic Server needs to prompt for the boot password, it now logs (in <font face="Courier">security.xml</font>) that it is prompting. This allows an administrator on a remote machine to know why the machine is apparently "hung".</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329799"></a><p class="table">036141</p>


		</td>
		<td align="left" valign="top">
			<a name="1329801"></a><p class="table">A Managed Server did not start if <font face="Courier">guest</font> had been disabled (in order to do a JNDI lookup in an ACL). This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329803"></a><p class="table">036604</p>


		</td>
		<td align="left" valign="top">
			<a name="1329805"></a><p class="table">The method<font face="Courier"> ClusterMBean.setDefaultLoadAlgorithm()</font> no longer accepts illegal values and now throws the proper <font face="Courier">IllegalArgumentException.</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329807"></a><p class="table">036986 </p>


		</td>
		<td align="left" valign="top">
			<a name="1329809"></a><p class="table">Using Weblogic Server's XA driver with CMP no longer fails at deployment time.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329811"></a><p class="table">038883</p>


		</td>
		<td align="left" valign="top">
			<a name="1329813"></a><p class="table">Specifying the root directory when starting the server was not working when the root directory was not under a<font face="Courier"> /config</font> directory. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329815"></a><p class="table">039066</p>


		</td>
		<td align="left" valign="top">
			<a name="1329817"></a><p class="table">If you entered an incorrect password when prompted at system startup, the server tried to start anyway. The startup eventually fails. Now you are re-prompted for the password when the password is wrong.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329819"></a><p class="table">039182</p>


		</td>
		<td align="left" valign="top">
			<a name="1329821"></a><p class="table">When binding two clusterable objects implementing the same interface to the same JNDI name on a single server, an exception was not being thrown and the first clusterable object was being bound. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329823"></a><p class="table">039249</p>


		</td>
		<td align="left" valign="top">
			<a name="1329825"></a><p class="table">A Managed Server had a memory leak when it monitored JMSServer using the Administration Console. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329827"></a><p class="table">039361</p>


		</td>
		<td align="left" valign="top">
			<a name="1329829"></a><p class="table">If you create a group in the RDBMS realm, you can now delete the group.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329831"></a><p class="table">039891</p>


		</td>
		<td align="left" valign="top">
			<a name="1329833"></a><p class="table">The server now sets the context attribute correctly during servlet initialization.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329835"></a><p class="table">039960</p>


		</td>
		<td align="left" valign="top">
			<a name="1329837"></a><p class="table">Log Viewer is now working in non-U.S. locales.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329839"></a><p class="table">039995</p>


		</td>
		<td align="left" valign="top">
			<a name="1329841"></a><p class="table">A server startup error no longer occurs after a WLEC Connection pool was created using the Administration Console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329843"></a><p class="table">040168</p>


		</td>
		<td align="left" valign="top">
			<a name="1329845"></a><p class="table">The logging example for internationalization failed when a dot (<font face="Courier">.</font>) occurred in the path. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329847"></a><p class="table">040177</p>


		</td>
		<td align="left" valign="top">
			<a name="1329849"></a><p class="table">Additional user information was required when converting <font face="Courier">weblogic.properties</font> files for use with WebLogic Server 6.0. This has now been added to the product documentation.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329851"></a><p class="table">040178</p>


		</td>
		<td align="left" valign="top">
			<a name="1329853"></a><p class="table">When you were using the conversion utility, if a <font face="Courier">weblogic.properties</font> file included the property <font face="Courier">weblogic.httpd.register.</font><em><font face="Courier">Name</font></em><font face="Courier">=weblogic.servlet.FileServlet </font>and the servlet did not have initial arguments associated with it (it did not have the property <font face="Courier">weblogic.httpd.initArgs.file=</font><em><font face="Courier">arg1</font></em><font face="Courier">=</font><em><font face="Courier">value</font></em> defined in the same <font face="Courier">weblogic.properties</font> file), then the conversion utility was throwing a Null pointer exception. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329855"></a><p class="table">040213</p>


		</td>
		<td align="left" valign="top">
			<a name="1329857"></a><p class="table">The listenport of a Managed Server cannot be the same as the Administration Server listenport. You cannot, for example, use localhost or 127.0.0.1, with the 7001 host number on both the Managed and Administrative Servers. A more descriptive and informative error message has been added. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329859"></a><p class="table">040297</p>


		</td>
		<td align="left" valign="top">
			<a name="1329861"></a><p class="table">Fixed a bug that prevented attributes set in <font face="Courier">application.xml</font> from propagating from Administration Servers to Managed Servers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329863"></a><p class="table">040405</p>


		</td>
		<td align="left" valign="top">
			<a name="1329865"></a><p class="table">The <font face="Courier">config.xml</font> file is now serialized using the Apache XML serialize classes. This results in the correct XML, including escapes for built-in entities and an XML header with encoding specified. The encoding used is the platform default. This also fixes problems with the "&amp;" character.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329867"></a><p class="table">040659</p>


		</td>
		<td align="left" valign="top">
			<a name="1329869"></a><p class="table">When specifying <font face="Courier">getParameter()</font> encoding as iso-8859-1, the POST method is now working properly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329871"></a><p class="table">040688</p>


		</td>
		<td align="left" valign="top">
			<a name="1329873"></a><p class="table">When a mail session was targeted to a server that is part of a cluster, the following exception was being thrown because the mailsession was not <font face="Courier">serializable: java.io.NotSerializableException: javax.mail.Session</font>. This has been fixed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329875"></a><p class="table">040698</p>


		</td>
		<td align="left" valign="top">
			<a name="1329877"></a><p class="table">The Application Manager no longer throws an unnecessary exception if the poller tries to deploy an application that is still in the process of being copied.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329879"></a><p class="table">040899 </p>


		</td>
		<td align="left" valign="top">
			<a name="1329881"></a><p class="table">Fixed a problem with a start-up class that occurred when the converter utility converted startup <font face="Courier">weblogic.properties</font> into <font face="Courier">.xml</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329883"></a><p class="table">040950</p>


		</td>
		<td align="left" valign="top">
			<a name="1329885"></a><p class="table">Fixed a problem in JTA. For XA connections, the Connection Pool test connection logic was attempting to start a distributed transaction before executing the testing SQL. This had the potential to create a <font face="Courier">javax.transaction.NotSupported</font> exception.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329887"></a><p class="table">041157</p>


		</td>
		<td align="left" valign="top">
			<a name="1329889"></a><p class="table">The dialog tabs in the Console were not working correctly when the Mbean name contained Kanji characters.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329891"></a><p class="table">041290</p>


		</td>
		<td align="left" valign="top">
			<a name="1329893"></a><p class="table">If the username property is set from the <font face="Courier">weblogic.Admin</font> or <font face="Courier">weblogic.Server</font> command lines, the username must be the system password. Note however, that the username syntax is retained to prevent breaking a user's scripts. The <font face="Courier">weblogic.management.password</font> property value must be the system password and the username may not be modified in the <font face="Courier">config.xml</font> file. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329895"></a><p class="table">041662</p>


		</td>
		<td align="left" valign="top">
			<a name="1329897"></a><p class="table">To improve JTA, we now advertise resources on JNDI. Resources were dynamically discovered as transactions go along, but now it is also possible to find out which resources are currently being supported at which servers. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329899"></a><p class="table">041757</p>


		</td>
		<td align="left" valign="top">
			<a name="1329901"></a><p class="table">Fixed a problem with JTA. Resource advertisement (JNDIAdvertiser) was incorrectly done under the caller's identity. We now use the system identity while doing this operation. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329903"></a><p class="table">041845</p>


		</td>
		<td align="left" valign="top">
			<a name="1329905"></a><p class="table">Updated the NTRealm to improve general usability and functionality.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329907"></a><p class="table">041854</p>


		</td>
		<td align="left" valign="top">
			<a name="1329909"></a><p class="table">To help support Java WebStart with WebLogic Server, we now provide a default web application with the <font face="Courier">web.xml</font> configured for this mime type. We have also provided other mime type mappings.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329911"></a><p class="table">041995 </p>


		</td>
		<td align="left" valign="top">
			<a name="1329913"></a><p class="table">Fixed an Unexpected Error being received in the console when resuming an active server. Also deleted some extraneous informational messages in the console when adding users.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329915"></a><p class="table">042183</p>


		</td>
		<td align="left" valign="top">
			<a name="1329917"></a><p class="table">When the <font face="Courier">config.dtd</font> was being generated in the console it was appearing with some errors. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329919"></a><p class="table">042362</p>


		</td>
		<td align="left" valign="top">
			<a name="1329921"></a><p class="table">According to the JTA spec documentation of <font face="Courier">setTransactionTimeout()</font>:</p>

<a name="1329922"></a><p class="table">"seconds: The value of the timeout in seconds. If the value is zero, the transaction service restores the default value."</p>

<a name="1329923"></a><p class="table">If the value was zero, WebLogic Server was not resetting the default value. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329925"></a><p class="table">042794</p>


		</td>
		<td align="left" valign="top">
			<a name="1329927"></a><p class="table">Deploying message-driven beans into a full cluster through the Console's Clusters panel was broken. It is necessary to specify each server individually as a target through the Servers panel.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329929"></a><p class="table">043369</p>


		</td>
		<td align="left" valign="top">
			<a name="1329931"></a><p class="table">Applications deployed across a domain now keep their original packaging, meaning that if an application was exploded on the Administration Server, it will stay exploded on the Managed Server. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329933"></a><p class="table">043388</p>


		</td>
		<td align="left" valign="top">
			<a name="1329935"></a><p class="table">Clusters of WebLogic Servers no longer require the use of a shared network drive. Both the WebLogic Server installations and your applications can now reside on local file systems.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329937"></a><p class="table">049417</p>


		</td>
		<td align="left" valign="top">
			<a name="1329939"></a><p class="table">The Password Converter Tool shipped with the Beta Release has been fixed and no longer returns a SAX Parser error for all files.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1330026"></a><p class="head2">P<a name="plugin"></a>lug-ins
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1329945"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1329947"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329949"></a><p class="table">038831</p>


		</td>
		<td align="left" valign="top">
			<a name="1329951"></a><p class="table">The Apache plug-in no longer fails under heavy load.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329953"></a><p class="table">040817 </p>


		</td>
		<td align="left" valign="top">
			<a name="1329955"></a><p class="table">When using IIS to browse and call a regular JSP page that calls a Java Bean and getting a ResultSet reference, there were problems when submitting through the FORM POST method. The HTML stream was getting truncated when it came back to IIS--in other words, the page was only partially painted. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329957"></a><p class="table">041332</p>


		</td>
		<td align="left" valign="top">
			<a name="1329959"></a><p class="table">Using plug-ins, MatchExpression can now contain multiple, comma-separated expressions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329961"></a><p class="table">041534 </p>


		</td>
		<td align="left" valign="top">
			<a name="1329963"></a><p class="table">Using the mod_wl.so, Apache was not proxying without Debug and DebugConfigInfo in the httpd.conf. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329965"></a><p class="table">041580</p>


		</td>
		<td align="left" valign="top">
			<a name="1329967"></a><p class="table">The Apache plug-in MatchExpression now works if an encoded URL is used.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329969"></a><p class="table">041745 </p>


		</td>
		<td align="left" valign="top">
			<a name="1329971"></a><p class="table">Added a log message when the trusted CA file isn't specified and SSL is used with the Isapi plug-in. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329973"></a><p class="table">041754</p>


		</td>
		<td align="left" valign="top">
			<a name="1329975"></a><p class="table">Fixed an infinite loop when ISAPI was configured for SSL but using a non-secure port.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329977"></a><p class="table">041939 </p>


		</td>
		<td align="left" valign="top">
			<a name="1329979"></a><p class="table">The Apache plug-in wasn't filtering out the header "transfer-encoding"="chunked". So the browser was failing to handle these responses, causing Netscape to hang and IE to display an error page. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329981"></a><p class="table">042482 </p>


		</td>
		<td align="left" valign="top">
			<a name="1329983"></a><p class="table">The NSAPI and Apache plug-ins no longer have a READ timeout on HPUX-11.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329985"></a><p class="table">044988</p>


		</td>
		<td align="left" valign="top">
			<a name="1329987"></a><p class="table">Fixed a problem with the NSAPI plug-ins where the socket was not properly closed by the plug-in side. The un-closed socket on the webserver side will be left in CLOSE_WAIT state.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329989"></a><p class="table">046018</p>


		</td>
		<td align="left" valign="top">
			<a name="1329991"></a><p class="table">There are new binaries for Apache 2.0.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329993"></a><p class="table">046392</p>


		</td>
		<td align="left" valign="top">
			<a name="1329995"></a><p class="table"> It is now possible to have different cookie names set for different &lt;Location&gt; blocks when using the Apache plug-in. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1329997"></a><p class="table">046423</p>


		</td>
		<td align="left" valign="top">
			<a name="1329999"></a><p class="table">Weblogic Server now supports static libraries for Apache.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330001"></a><p class="table">046424</p>


		</td>
		<td align="left" valign="top">
			<a name="1330003"></a><p class="table"><font face="Courier">KeepAliveEnabled</font> and<font face="Courier"> KeepAliveSecs</font> parameters have been added for the Apache 2.0 plug-in.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330005"></a><p class="table">046546</p>


		</td>
		<td align="left" valign="top">
			<a name="1330007"></a><p class="table">Cookie name is now configurable for persistent sessions. There is a new parameter, PersistentStoreCookieName (default=WLCOOKIE), in <font face="Courier">weblogic.xml</font>. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330009"></a><p class="table">046946</p>


		</td>
		<td align="left" valign="top">
			<a name="1330011"></a><p class="table">Fixed a problem with large deployments of WebLogic Server, wherein for a period of time a cluster node behaves as if it is the only one member in the cluster when it's not. Now, using <font face="Courier">ListenDelaySecs</font>, you can delay the http request handling until it finds the other members. For example: </p>

<a name="1330012"></a><p class="table"><font face="Courier">&lt;Server&gt; ListenDelaySecs="30" &lt;/Server&gt;</font> </p>

<a name="1330013"></a><p class="table">Delay the http listen thread for a configurable amount of time so that the new node has time to acknowledge the existence of other cluster members. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330015"></a><p class="table">046956</p>


		</td>
		<td align="left" valign="top">
			<a name="1330017"></a><p class="table">Resolved some problems caused by<font face="Courier"> DefaultFileName</font> and <font face="Courier">VirtualHost</font> with Apache Stronghold/Raven proxies.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330019"></a><p class="table">047987</p>


		</td>
		<td align="left" valign="top">
			<a name="1330021"></a><p class="table">Resolved a problem that occurred with NSAPI when streaming a large number of bytes (500,000 bytes) using SSL from the browser to the proxy and from the proxy to the server. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330023"></a><p class="table">047636</p>


		</td>
		<td align="left" valign="top">
			<a name="1330025"></a><p class="table">WebLogic Server now supports DSO as well as statically linked modules for Apache 1.3.X. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1330027"></a><p>RMI-IIOP</p>

<a name="1330028"></a><p></p>

<a name="1330148"></a><p class="head2">S<a name="servlets"></a>ervlets and JSP
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1330033"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1330035"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330037"></a><p class="table">026488</p>


		</td>
		<td align="left" valign="top">
			<a name="1330039"></a><p class="table">Fixed a problem with servlets when the parameter for method <font face="Courier">println(String)</font> was null.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330041"></a><p class="table">029989</p>


		</td>
		<td align="left" valign="top">
			<a name="1330043"></a><p class="table">The wrong error message is no longer sent when an <font face="Courier">UnavailableException</font> was raised within a servlet.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330045"></a><p class="table">030880</p>


		</td>
		<td align="left" valign="top">
			<a name="1330047"></a><p class="table"> Fixed problems compiling JSPs when debugging was turned on. Now you can specify compiler flags in <font face="Courier">weblogic.xml</font>. For example: </p>

<a name="1330048"></a><p class="table"><font face="Courier">&lt;!-- weblogic.xml: weblogic-specific web app descriptor --&gt; &lt;weblogic-web-app&gt;<br>&lt;session-descriptor&gt; <br>&lt;/session-descriptor&gt; <br>&lt;jsp-descriptor&gt; <br>&lt;jsp-param&gt; <br>&lt;param-name&gt;compileCommand&lt;/param-name&gt; &lt;param-value&gt;jikes&lt;/param-value&gt; <br>&lt;/jsp-param&gt; <br>&lt;jsp-param&gt; <br>&lt;param-name&gt;compileFlags&lt;/param-name&gt; <br>&lt;param-value&gt;+E -nowarn&lt;/param-value&gt; <br>&lt;/jsp-param&gt;</font></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330050"></a><p class="table">037771</p>


		</td>
		<td align="left" valign="top">
			<a name="1330052"></a><p class="table">Optimized the checking of JSPs for reloading.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330054"></a><p class="table">038739</p>


		</td>
		<td align="left" valign="top">
			<a name="1330056"></a><p class="table">Improved support for JSP debugging.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330058"></a><p class="table">039083</p>


		</td>
		<td align="left" valign="top">
			<a name="1330060"></a><p class="table">The<font face="Courier"> RequestDispatcher </font>and forwarding a JSP page now works correctly.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330062"></a><p class="table">039193</p>


		</td>
		<td align="left" valign="top">
			<a name="1330064"></a><p class="table">When users forgot to make their servlet class public, a vague and unhelpful error was being thrown. This no longer happens.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330066"></a><p class="table">039530</p>


		</td>
		<td align="left" valign="top">
			<a name="1330068"></a><p class="table">Fixed internal servlet tags to reset their state on release. If you used the same tag more than once on a page the additional tags kept the stale data from the previous tag.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330070"></a><p class="table">040171</p>


		</td>
		<td align="left" valign="top">
			<a name="1330072"></a><p class="table">You can now set the attribute <font face="Courier">SingleThreadedServletPoolSize</font> through the Administration Console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330077"></a><p class="table">040338</p>


		</td>
		<td align="left" valign="top">
			<a name="1330079"></a><p class="table">All functioning servlets are now displayed in the mydomain&gt;web applicationlications&gt;Defaultweb application_myserver&gt;ActiveServlets window of the console.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330081"></a><p class="table"> 040662</p>


		</td>
		<td align="left" valign="top">
			<a name="1330083"></a><p class="table">When JSP files had a page tag, the JSP compiler was not generating a class, or java file. This happened only with command line<font face="Courier"> jspc</font>. This has been fixed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330085"></a><p class="table"> 040766</p>


		</td>
		<td align="left" valign="top">
			<a name="1330087"></a><p class="table">Fixed a problem in servlets with using ../ for a relative URL when doing a<font face="Courier"> response.sendRedirect</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330089"></a><p class="table"> 040814 </p>


		</td>
		<td align="left" valign="top">
			<a name="1330091"></a><p class="table">Added more informative error messages for instances when servlet user errors cause exceptions.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330093"></a><p class="table"> 040843</p>


		</td>
		<td align="left" valign="top">
			<a name="1330095"></a><p class="table">Fixed problems with deploying <font face="Courier">web applicationComponents</font> using virtual hosts.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330097"></a><p class="table"> 040981</p>


		</td>
		<td align="left" valign="top">
			<a name="1330099"></a><p class="table">Fixed problems associated with WAP and session cookies using the pipe characters.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330101"></a><p class="table"> 041234</p>


		</td>
		<td align="left" valign="top">
			<a name="1330103"></a><p class="table">Fixed a problem in JSP/Servlets using POST and HTTPS.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330105"></a><p class="table"> 041478</p>


		</td>
		<td align="left" valign="top">
			<a name="1330107"></a><p class="table">A change to session cookie format fixed some problems with URL rewriting.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330109"></a><p class="table"> 041605</p>


		</td>
		<td align="left" valign="top">
			<a name="1330111"></a><p class="table">JSPs compiler error pages no longer display a corrupt error message from javac.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330113"></a><p class="table"> 041684</p>


		</td>
		<td align="left" valign="top">
			<a name="1330115"></a><p class="table">Fixed a problem in servlets. The XSLT tag threw a SAXParseException while processing XML content.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330117"></a><p class="table"> 041729</p>


		</td>
		<td align="left" valign="top">
			<a name="1330119"></a><p class="table">The <font face="Courier">weblogic.servlet.jsp.Precompiler</font> now honors <font face="Courier">weblogic.xml</font> parameters, like <font face="Courier">workingdir</font>, <font face="Courier">packagePrefix</font>, etc., for the JSPs that it precompiles.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330121"></a><p class="table">041945 </p>


		</td>
		<td align="left" valign="top">
			<a name="1330123"></a><p class="table">When the <font face="Courier">web.xml</font> had the setting <font face="Courier">inputCharset./A*=Shift_JIS inputCharset./B*=EUC-JP</font>, and two clients simultaneously accessed the JSP/Servlet, WebLogic Server failed to handle these string correctly. It was possible to get the correct result from one client, but not from the other. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330125"></a><p class="table">042031</p>


		</td>
		<td align="left" valign="top">
			<a name="1330127"></a><p class="table">In the web application data table, when you click the monitoring icon for any web application and then click on the monitor link in the Servlets column, the correct heading is now displayed. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330129"></a><p class="table">042293</p>


		</td>
		<td align="left" valign="top">
			<a name="1330131"></a><p class="table">Servlet URL rewriting was working fine with IE 5.0 but wasn't working with Netscape 4.7. This has been fixed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330133"></a><p class="table">042509</p>


		</td>
		<td align="left" valign="top">
			<a name="1330135"></a><p class="table">Fixed problems with forwarding from one web application to another web application and using authentication in both. Session data is no longer sharing inappropriately across the applications.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330137"></a><p class="table">044873</p>


		</td>
		<td align="left" valign="top">
			<a name="1330139"></a><p class="table">When you compile a JSP manually with <font face="Courier">weblogic.jspc</font>, the <font face="Courier">-version</font> argument is now working.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330141"></a><p class="table">044926</p>


		</td>
		<td align="left" valign="top">
			<a name="1330143"></a><p class="table">WebLogic Server 6.1 now correctly generates Java code from JSPs that include 2Bytes code.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330145"></a><p class="table">049760</p>


		</td>
		<td align="left" valign="top">
			<a name="1330147"></a><p class="table">The <font face="Courier">weblogic-vtags.jar</font> file containing the JSP tag library for Form Validation Tags is now in the <font face="Courier">ext</font> directory as stated in the documentation. </p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1330171"></a><p class="head2">Web Services
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1330152"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1330154"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330156"></a><p class="table">046032, 046808</p>


		</td>
		<td align="left" valign="top">
			<a name="1330158"></a><p class="table">The WSDL of a WebLogic Web Service is now generated by a JSP, which by default dynamically sets the host and port of the WebLogic Server instance that hosts the service.   You can specify that the host and port be hard-coded in the WSDL by explicitly specifying their values when you assemble the Web service using the <font face="Courier">wsgen</font> Ant task.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330160"></a><p class="table">046215</p>


		</td>
		<td align="left" valign="top">
			<a name="1330162"></a><p class="table">When you assemble a WebLogic Web Service using the <font face="Courier">wsgen</font> Java Ant task, you can now specify that you want to use HTTPS (rather than the default HTTP) when invoking the Web service. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330164"></a><p class="table">047794</p>


		</td>
		<td align="left" valign="top">
			<a name="1330166"></a><p class="table">When you use the <font face="Courier">wsgen</font> Java Ant task to assemble a WebLogic Web service, the generated Enterprise Application archive no longer contains both a web application directory and a web application <font face="Courier">*.war</font> file; it now contains just the <font face="Courier">*.war</font> file.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330168"></a><p class="table">048797</p>


		</td>
		<td align="left" valign="top">
			<a name="1330170"></a><p class="table">WebLogic Web Services now interoperate correctly with Array types in the Microsoft SOAP Toolkit.</p>


		</td>

	</tr>

</table>


</center>
</p>

<a name="1092680"></a><p class="head2">X<a name="xml"></a>ML
<center>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000" width="98%" cellpadding="3" cellspacing="0">
<p class="title"></p>
	<tr>
		<td align="left" valign="top">
			<a name="1330176"></a><p class="table"><strong>Change Request Number</strong></p>


		</td>
		<td align="left" valign="top">
			<a name="1330178"></a><p class="table"><strong>Description</strong></p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330180"></a><p class="table">034785</p>


		</td>
		<td align="left" valign="top">
			<a name="1330182"></a><p class="table">WebLogic Server now supports namespaces in the XML registry.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330184"></a><p class="table">034785</p>


		</td>
		<td align="left" valign="top">
			<a name="1330186"></a><p class="table">Provided methods to retrieve namespace information about the document, such as localRoot, qualifiedRoot, and namespaceURI. If the XML document has namespace defined, then the lookup in the registry will be based on the qualified name.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330188"></a><p class="table">036428</p>


		</td>
		<td align="left" valign="top">
			<a name="1330190"></a><p class="table">Previous releases of the XML subsystem included an error in Apache's implementation of the <font face="Courier">javax.xml.*.parse(File)</font> method, included in the <font face="Courier">xmlx.jar</font> file. Because WebLogic Server no longer includes this JAR file in the product and WebLogic Server's own implementation of the method has always been correct, this problem does not apply to the current release.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330192"></a><p class="table">036642</p>


		</td>
		<td align="left" valign="top">
			<a name="1330194"></a><p class="table">Generated custom parsers no longer convert newline characters that are embedded in attributes and tag bodies into a single space character.</p>

<a name="1330195"></a><p class="table"><strong>Note:	</strong> The ability to generate custom parsers is deprecated in this release of WebLogic Server. Instead, use WebLogic Server's high-performance parser.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330197"></a><p class="table">039096</p>


		</td>
		<td align="left" valign="top">
			<a name="1330199"></a><p class="table">You no longer have to restart WebLogic Server to make it aware of a newly added entry to the XML registry.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330201"></a><p class="table">039247</p>


		</td>
		<td align="left" valign="top">
			<a name="1330203"></a><p class="table">Custom parsers are now correctly invoked when an XML document that has been configured to be parsed by the custom parser is parsed using the <font face="Courier">setAttribute()</font> method of the Servlet API.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330205"></a><p class="table">040479</p>


		</td>
		<td align="left" valign="top">
			<a name="1330207"></a><p class="table">Fixed a bug in <font face="Courier">JMSHelper</font> that was causing incorrect XML to be written to the<font face="Courier"> config.xml</font> file. </p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330209"></a><p class="table">041540</p>


		</td>
		<td align="left" valign="top">
			<a name="1330211"></a><p class="table">The Xerces parser serializer bundled with the WebLogic server now supports multi-byte encodings, such as <font face="Courier">Shift_JIS</font> or <font face="Courier">EUC-JP</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330213"></a><p class="table">041541</p>


		</td>
		<td align="left" valign="top">
			<a name="1330215"></a><p class="table"> The Xerces parser method <font face="Courier">apache.xml.serialize.BaseMarkupSerializer.printEscaped()</font> bundled with the WebLogic server now supports multi-byte encodings such as <font face="Courier">Shift_JIS</font> or <font face="Courier">EUC-JP</font>.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330217"></a><p class="table">041734</p>


		</td>
		<td align="left" valign="top">
			<a name="1330219"></a><p class="table">WebLogic Server's JAXP implementation no longer requires the input stream to be resettable when it contains an XML document that is about to be delegated to a particular parser for parsing.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330221"></a><p class="table">041778</p>


		</td>
		<td align="left" valign="top">
			<a name="1330223"></a><p class="table">A <font face="Courier">NullPointerException</font> error is no longer thrown when an XML document that contains an external entity that has been correctly registered in the XML registry is parsed.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330225"></a><p class="table">041797</p>


		</td>
		<td align="left" valign="top">
			<a name="1330227"></a><p class="table">After you create a new server, the server no longer fails to reboot and the <font face="Courier">config.xml</font> file no longer has some incorrectly parsed headers.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330229"></a><p class="table">46951</p>


		</td>
		<td align="left" valign="top">
			<a name="1330231"></a><p class="table">The method <font face="Courier">weblogic.xml.sax.XMLInputSource.getNamespaceURI()</font>, part of WebLogic Server's extension to the <font face="Courier">org.xml.sax.InputSource </font>class, is implemented in the current release.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330233"></a><p class="table">48809</p>


		</td>
		<td align="left" valign="top">
			<a name="1330235"></a><p class="table">The <font face="Courier">SaxParserFactory</font> is now being selected correctly when parsing a document from a SAX Version 2 Servlet attribute.</p>


		</td>

	</tr>
	<tr>
		<td align="left" valign="top">
			<a name="1330237"></a><p class="table">48810</p>


		</td>
		<td align="left" valign="top">
			<a name="1330239"></a><p class="table">You can now configure a parser for a particular document type by mapping the class name of the parser to a Public ID. NOTE: Specifying the parser class name when configuring a parser for a particular document type is deprecated in this release. Instead specify the Factory name. </p>


		</td>

	</tr>

</table>


</center>
</p>




<!-- BACK TO TOP -->
<p>&nbsp;</p>
<table cellspacing="5" cellpadding="5" border="0">
	<tr>
		<td align="left" valign="middle" width="200">
			<a href="bugfixes2.html"><img src="../images/backtop.gif" width="122" height="25" alt="back to top" border="0"></a>
		</td>
		<td align="left" valign="middle" width="200">
			<a href="issues.html"><img src="../images/prevtop.gif" width="132" height="25" alt="previous page" border="0"></a>
		</td>
		<td align="left" valign="middle" width="200">
			&nbsp;
		</td>
	</tr>
</table>



<!-- COPYRIGHT -->
<table cellspacing="0" cellpadding="0" border="0" width="100%">
	<tr>
		<td valign="middle" width="100%" bgcolor="#FF0000" height="1">
			<p class="small">&nbsp;</p>
		</td>
	</tr>
	<tr>
		<td valign="left" align="top">
			<p class="copyright">
			<a href="../copyright.html">Copyright</a> &#169; 2001 BEA Systems, Inc. All rights reserved. 
			<br>Required browser: Netscape 4.0 or higher, or Microsoft Internet Explorer 4.0 or higher.
			</p>
		</td>
	</tr>
</table>
<br>


</body>
</html>
 
