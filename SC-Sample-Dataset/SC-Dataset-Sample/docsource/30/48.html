
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<style type="text/css">@import url( /jc/templates/javac/styles/style.css?1382028884380 );</style>
<style type="text/css">@import url( /jc/templates/javac/styles/pt_BR.css?1382028884380 );</style>
<style type="text/css">@import url( /jc/templates/javac/styles/jc.css?1382028884380 );</style>
<style type="text/css">@import url( /jc/css/javac.css );</style>

	<style type="text/css">@import url( /jc/templates/javac/styles/SyntaxHighlighter.css?1382028884380 );</style>

<title>Erro ao transformar XML em Objeto [RESOLVIDO]</title>
<script type="text/javascript" src="http://apis.google.com/js/plusone.js">
  {lang: 'pt-BR'}
</script>
<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script>
</head>
<body class="pt_BR">

<div id="topo">
	
	<div id="logo">
    
    	<a href="http://www.javac.com.br" id="pagina-inicial" title="Voltar a P&aacute;gina Inicial"><span>Voltar a p&aacute;gina inicial</span></a>
    
    	<h1>JavaC Community</h1>
        
    </div>
    
	<div id="conteudo-topo">
	
		<div id="pesquisa">

			<form action="/jc/busca.javac" class="busca" id="cse-search-box">
			  <div>
			    <input type="hidden" name="cx" value="011746815393091855791:vhycmqflg6s" />
			    <input type="hidden" name="cof" value="FORID:10" />
			    <input type="hidden" name="ie" value="ISO-8859-1" />
				<input name="q" id="searchtext" type="text" value="" >
				<input type="submit" id="search" value="Busca">
			  </div>
			</form>
			<script type="text/javascript" src="http://www.google.com.br/coop/cse/brand?form=cse-search-box&amp;lang=pt"></script>

		</div>
		<div id="social-links">
			<ul>
				<li>
					<a href="https://www.facebook.com/JAVAC.com.br" target="_blank" title="Visite nosso Facebook">
						<img src="/jc/images/icon_facebook.png" />
					</a>
				</li>			
				<li>
					<a href="http://www.twitter.com/javac_forum" target="_blank" title="Siga-nos Twitter">
						<img src="/jc/images/icon_twitter.png" />
					</a>
				</li>			
				<li class="last">
					<a href="http://www.linkedin.com/groups/JavaC-Java-Community-3840393" target="_blank" title="Visite nosso Linkedin">
						<img src="/jc/images/icon_linkedin.png" />
					</a>
				</li>			
			</ul>
		</div>
		
		<div class="clear"></div>
	
	</div>
	
	<div class="clear"></div>

</div>

<div id="barra-superior">

	<div id="menu">
		
		<ul>
	    	<li>
	    		<a href="http://www.javac.com.br">P&aacute;gina Inicial</a>
	    	</li>
	    	<li>
	    		<a href="http://www.javac.com.br/jc/downloads.javac" id="menu-downloads">Downloads</a>
	    	</li>
	    	<li>
	    		<a href="http://www.javac.com.br/jc/contribuir.javac" id="menu-downloads">Contribuir</a>
	    	</li>
	    	<li>
	    		<a href="/jc/recentTopics/list.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="last">T&oacute;picos recentes</a>
	    	</li>
		</ul>
		
	</div>
	
	<div id="login">

		<form>
			<ul>

					<li>
						<a href="/jc/user/login.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="link-botao">Login</a>
					</li>
					<li>
						<a href="/jc/user/insert.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="link-botao">Cadastre-se Aqui</a>
					</li>
			</ul>
		</form>
	</div>
	
	<div class="clear"></div>
	
</div>
</p>

<script type="text/javascript" src="/jc/templates/javac/js/jquery.js?1382028884380"></script>
<script type="text/javascript" src="/jc/templates/javac/js/jquery.jeditable.pack.js?1382028884380"></script>
<script type="text/javascript" src="/jc/templates/javac/js/post_show.js?1382028884380"></script>
<script type="text/javascript" src="/jc/templates/javac/js/post.js?1382028884380"></script>
<script type="text/javascript" src="/jc/templates/javac/js/pagination.js?1382028884380"></script>


<script type="text/javascript">
<!--
	function karmaVote(s, postId) {
		if (s.selectedIndex == 0) {
			return;
		}

		if (confirm("Confirma seu voto?")) {
			document.location = "/jc/karma/insert/0/" + postId + "/" + s.value + ".page";
		}
		else {
			s.selectedIndex = 0;
		}
	}

	function karmaPointsCombo(postId)
	{
		document.write('<select name="karma" onchange="karmaVote(this,' + postId + ')">');
		document.write('<option value="">Avaliar</option>');

		for (var i = 1; i <= 5; i++) {
			document.write('<option value="' + i + '">' + i + '</option>');
		}

		document.write('</select>');
	}
function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn = new Image();
starOn.src = "/jc/templates/javac/images/star_on.gif";

var starOff = new Image();
starOff.src = "/jc/templates/javac/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/jc/bookmarks/insert/' + relationType + '/' + relationId + '.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8', 'bookmark_add', 'width=700, height=200, scrollbars=auto, resizable=true');
	w.focus();
}


-->
</script>


<table cellspacing="0" cellpadding="10" width="100%" align="center" border="0">
	<tr>
		<td class="bodyline">
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					<td valign="middle" align="left" colspan="2">
						<span class="maintitle"><a href="/jc/posts/list/1606-erro-ao-transformar-xml-em-objeto-resolvido.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" name="top" class="maintitle" id="top">Erro ao transformar XML em Objeto [RESOLVIDO]</a></span>
						&nbsp;<a href="/jc/rss/topicPosts/1606.page"><img src="/jc/templates/javac/images/xml_button.gif" border="0" alt="XML" /></a>
					</td>
				</tr>
				<tr>
					<td valign="middle" align="left" colspan="2">
					<div style="float: left; width: 600px">
						<div style="float:left; width: 103px">
							<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script>
							<script type="in/share" 
								data-url="http://www.javac.com.br/jc/posts/list/1606-erro-ao-transformar-xml-em-objeto-resolvido.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" 
								data-counter="right">
							</script>
						</div>
						<div style="float:left;">
							<a href="http://twitter.com/share" 
								class="twitter-share-button" 
								data-count="horizontal"
								data-url="http://www.javac.com.br/jc/posts/list/1606-erro-ao-transformar-xml-em-objeto-resolvido.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" 
								data-via="javac_forum - #javac">Tweet</a>
							<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
						</div>
						<div style="float:left;">
							<iframe 
								src="http://www.facebook.com/plugins/like.php?href=http://www.javac.com.br/jc/posts/list/1606-erro-ao-transformar-xml-em-objeto-resolvido.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8&amp;layout=button_count&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;height=21&amp;locale=pt_BR&amp;width=90" 
								scrolling="no" 
								frameborder="0" 
								style="border:none; overflow:hidden; width:96px; height:21px;" 
								allowTransparency="true">
							</iframe>
						</div>
						<div style="float:left;">
							<g:plusone size="medium"></g:plusone>
						</div>
					</div>
					</td>
				</tr>
			</table>
			
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					<td width="8%" align="left" valign="bottom" nowrap="nowrap">
								<a href="/jc/posts/reply/0/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_reply nav"><img src="/jc/images/transp.gif" alt="" /></a>
					</td>

					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						<a class="nav" href="/jc/forums/list.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8">Índice dos Fóruns </a> 
            			&raquo; <a class="nav" href="/jc/forums/show/11.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8">NF-e / NFS-e / CT-e / CF-e / Certificados Digitais </a></span>
					</td>
					<td valign="middle" align="right"></td>
				</tr>
			</table>

			<table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0">
				
				<tr>
					<th class="thleft" nowrap="nowrap" width="150" height="26">Autor</th>
					<th class="thright" nowrap="nowrap" width="100%">Mensagem</th>
				</tr>

				<!-- POST LISTING --> 
	
					<tr>
						<td colspan="2">
<div class="postinfo">
	<div class="date">
				<a href="/jc/posts/list/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8#6637">
		<img src="/jc/templates/javac/images/icon_minipost_new.gif" alt="[Post New]" /></a>30/07/2013 10:25:02
	</div>
	<div class="subject">&nbsp;&nbsp; &nbsp;<b>Assunto:</b> <a name="6637">Erro ao transformar XML em Objeto [RESOLVIDO]</a></div>
	<div class="action">
			<script type="text/javascript">writeStars(0, 6637);</script>

			<a href="/jc/posts/quote/0/6637.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_quote"><img src="/jc/images/transp.gif" alt="" /></a>



		<a class="nav" href="#top"><img src="/jc/templates/javac/images/icon_up.gif" alt="[Up]" /></a>
	</div>
</div>						</td>
					</tr>

					<tr>
						<!-- Username -->


						<td class="row1" valign="top" align="left" rowspan="2">
<span class="genmed"><b>jocabaldini</b></span>
<br />
	<script type="text/javascript">writeStars(5, "7746637");</script>
	<br />

<span class="gensmall">
	JavaC Membro
	<br />

<br /> 

	Membro desde: 31/10/2012 14:21:25<br />
	Mensagens: 177
<br />



		<span class="offline">Offline </span>
</span>
<br />						</td>
		
						<!-- Message -->
						<td class="row1" valign="top" id="post_text_6637">
							<span class="postbody">
									Bom dia galera, estou fazendo o e-mail que será enviado ao cliente quando a nota for autorizada. No corpo do e-mail vai algumas informações e entre elas vai a data de emissão da NFe.
<br /> 
<br /> Tentei fazer o Unmarshaller com o xml do nfeProc para pegar o campo dEmi e colocar no e-mail, mas deu o seguinte erro:
<br /> <textarea name="code" class="java" cols="60" rows="10">
javax.xml.bind.UnmarshalException
 - with linked exception:
[org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.]
	at javax.xml.bind.helpers.AbstractUnmarshallerImpl.createUnmarshalException(AbstractUnmarshallerImpl.java:335)
	at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.createUnmarshalException(UnmarshallerImpl.java:512)
	at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:209)
	at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:181)
	at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:235)
	at br.com.progold.command.EnviarEmailNFe.execute(EnviarEmailNFe.java:95)
	at br.com.progold.core.Main.doGet(Main.java:155)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1001)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:722)
Caused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:203)
	... 22 more
</textarea>
<br /> 
<br /> Esse é o código para fazer o Unmarshaller (o erro acontece na linha 04):
<br /> <textarea name="code" class="java" cols="60" rows="10">
// Transforma o array de bytes em objeto para pegar a data de emissão da NF-e
JAXBContext context = JAXBContext.newInstance(TNfeProc.class);
Unmarshaller unmarshaller = context.createUnmarshaller();
JAXBElement&lt;TNfeProc&gt; element = (JAXBElement&lt;TNfeProc&gt;) unmarshaller.unmarshal(new StreamSource(new StringReader(nota.getArquivoNFeProc().toString())),TNfeProc.class);
TNfeProc retEnvCCe = element.getValue();
String dtEmissao = retEnvCCe.getNFe().getInfNFe().getIde().getDEmi();
</textarea>
<br /> 
<br /> Em anexo o xml que estou usando pra testar.
<br /> 
<br /> Alguém sabe como resolver????
<br /> 
							</span>

							<!-- Attachments -->


	<table width="70%" border="1" cellpadding="2" cellspacing="0" class="attachtable" align="center">

			<tr>
				<td width="15%" class="attachrow"><span class="genmed">&nbsp;Nome do arquivo</span></td>
				<td width="75%" class="attachrow"><span class="genmed">nfeProc.xml</span></td>
				
				<td rowspan="4" align="center">
					<img src="/jc/templates/javac/images/icon_disk.gif" alt="[Disk]" />
					<a href="/jc/posts/downloadAttach/153.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="gensmall"><b>Download</b></a>
				</td>
			</tr>

			<tr>
				<td width="15%" class="attachrow"><span class="genmed">&nbsp;Descrição</span></td>
				<td width="75%" class="attachrow"><span class="genmed"></span></td>
				
			</tr>	

			<tr>
				<td class="attachrow"><span class="genmed">&nbsp;Tamanho</span></td>
				<td class="attachrow">
					<span class="genmed">
							17 Kbytes
					</span>
				</td>
			</tr>

			<tr>
				<td class="attachrow"><span class="genmed">&nbsp;Baixado:</span></td>
				<td class="attachrow"><span class="genmed">&nbsp;38 vez(es)</span></td>
			</tr>
	</table>
	<br />

								
								<p><i><span class="gensmall">Esta mensagem foi editada 1 vez. Última atualização foi em 12/08/2013 16:42:31</span></i></p>
						</td>
					</tr>

		
					<tr> 
						<td class="row1" valign="bottom" nowrap="nowrap" height="28" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/jc/user/profile/774.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_profile"><img src="/jc/images/transp.gif" alt="" /></a>
		<a href="/jc/pm/sendTo/774.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_pm"><img src="/jc/images/transp.gif" alt="" /></a>

		
		

		
		
	</td>

</tr>
</table>						</td>
					</tr>
		
					<tr>
						<td class="spacerow" colspan="2" height="1">
							<img src="/jc/templates/javac/images/spacer.gif" alt="" width="1" height="1" />
						</td>
					</tr>

					<tr>
						<td colspan="2" height="0">
							<div align="center">
								<a href="http://rlsystem.com.br/curso-java-gratis/" target="_blank">
									<img src="/jc/templates/javac/images/curso-java-free.jpg" alt=""/>
								</a>
							</div>
						</td>
					</tr>

	
					<tr>
						<td colspan="2">
<div class="postinfo">
	<div class="date">
				<a href="/jc/posts/list/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8#6638">
		<img src="/jc/templates/javac/images/icon_minipost_new.gif" alt="[Post New]" /></a>30/07/2013 12:29:05
	</div>
	<div class="subject">&nbsp;&nbsp; &nbsp;<b>Assunto:</b> <a name="6638">Re:Erro ao transformar XML em Objeto</a></div>
	<div class="action">
			<script type="text/javascript">writeStars(0, 6638);</script>

			<a href="/jc/posts/quote/0/6638.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_quote"><img src="/jc/images/transp.gif" alt="" /></a>



		<a class="nav" href="#top"><img src="/jc/templates/javac/images/icon_up.gif" alt="[Up]" /></a>
	</div>
</div>						</td>
					</tr>

					<tr>
						<!-- Username -->


						<td class="row2" valign="top" align="left" rowspan="3">
<span class="genmed"><b>jeroqueiroz</b></span>
<br />
	<script type="text/javascript">writeStars(5, "1116638");</script>
	<br />

<span class="gensmall">
	Moderador
	<br />

		<img src="/jc/images/avatar/698d51a19d8a121ce581499d7b701668.png" border="0" alt="[Avatar]" /><br />
<br /> 

	Membro desde: 11/06/2011 09:45:18<br />
	Mensagens: 959
<br />

	Localização: Bahia
	<br />


		<span class="offline">Offline </span>
</span>
<br />						</td>
		
						<!-- Message -->
						<td class="row2" valign="top" id="post_text_6638">
							<span class="postbody">
									Quai informações você precisa de fato, porque tranformar todo o XML Proc em objeto sendo que você envia ele anexo. 
<br /> 
<br /> Pode obter informações transformando o retorno do envio em Objeto como abaixo:
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">protected static TRetEnviNFe getRetornoEnvioLote(String xml) throws Exception {
        TRetEnviNFe retEnviNFe;
        try {
            JAXBContext context = JAXBContext.newInstance(TRetEnviNFe.class);
            Unmarshaller unmarshaller = context.createUnmarshaller();
            retEnviNFe = unmarshaller.unmarshal(new StreamSource(new StringReader(xml)), TRetEnviNFe.class).getValue();
            return retEnviNFe;
        } catch (Exception ex) {
            throw new Exception(ex.toString());
        }
    }</textarea>
							</span>

							<!-- Attachments -->

						</td>
					</tr>

						<tr>
							<td colspan="2" class="row2" width="100%" height="28"><hr/><span class="gensmall">Jeremias Santos
<br /><a class="snap_shots" href="http://twitter.com/jeroqueiroz" target="_new" rel="nofollow">Seguir no Twitter @jeroqueiroz</a>
<br /> 
<br />
<br /><a class="snap_shots" href="http://www.javac.com.br/jc/posts/list/997-projeto-nfe-cte-cce.page" target="_new" rel="nofollow">Projeto NF-e, CT-e, CC-e? Comece Por Aqui!</a>
<br />
<br /><font color='red'><b>
<br />Membros do fórum, 
<br />
<br />Usem a tag [code] e [/code] quando postarem Códigos Java e ou exemplos de XMLs. 
<br />Evitem tópicos duplicados. 
<br />Tópico solucionado? Edite o primeiro post e coloque [RESOLVIDO] no final do título. 
<br />Evitem reviver tópicos antigos. 
<br />
<br />O tópico resolveu seu problema? Seja gentil, comente e ou agradeça quem contribuiu com a solução. 
<br />
<br />Obrigado!</b></font></span></td>
						</tr>
		
					<tr> 
						<td class="row2" valign="bottom" nowrap="nowrap" height="28" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/jc/user/profile/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_profile"><img src="/jc/images/transp.gif" alt="" /></a>
		<a href="/jc/pm/sendTo/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_pm"><img src="/jc/images/transp.gif" alt="" /></a>


				<a href="javascript:sendEmail('jeroqueiroz', 'gmail.com');"><img src="/jc/templates/javac/images/icon_email.gif" alt="[Email]" /></a>
		
			<a href="http://jeroqueiroz.blogspot.com/" target="_new"><img src="/jc/templates/javac/images/icon_www.gif" alt="[WWW]"/></a>
		
			<a href="http://edit.yahoo.com/config/send_webmesg?.target=jeroqueiroz@yahoo.com.br&amp;.src=pg"><img src="/jc/templates/javac/images/icon_yim.gif" alt="[Yahoo!]" /></a>

		
			<a href="/jc/user/profile/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8"><img src="/jc/templates/javac/images/icon_msnm.gif" alt="[MSN]"  /></a>
		
	</td>

</tr>
</table>						</td>
					</tr>
		
					<tr>
						<td class="spacerow" colspan="2" height="1">
							<img src="/jc/templates/javac/images/spacer.gif" alt="" width="1" height="1" />
						</td>
					</tr>


	
					<tr>
						<td colspan="2">
<div class="postinfo">
	<div class="date">
				<a href="/jc/posts/list/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8#6640">
		<img src="/jc/templates/javac/images/icon_minipost_new.gif" alt="[Post New]" /></a>30/07/2013 13:15:27
	</div>
	<div class="subject">&nbsp;&nbsp; &nbsp;<b>Assunto:</b> <a name="6640">Re:Erro ao transformar XML em Objeto</a></div>
	<div class="action">
			<script type="text/javascript">writeStars(0, 6640);</script>

			<a href="/jc/posts/quote/0/6640.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_quote"><img src="/jc/images/transp.gif" alt="" /></a>



		<a class="nav" href="#top"><img src="/jc/templates/javac/images/icon_up.gif" alt="[Up]" /></a>
	</div>
</div>						</td>
					</tr>

					<tr>
						<!-- Username -->


						<td class="row1" valign="top" align="left" rowspan="2">
<span class="genmed"><b>jocabaldini</b></span>
<br />
	<script type="text/javascript">writeStars(5, "7746640");</script>
	<br />

<span class="gensmall">
	JavaC Membro
	<br />

<br /> 

	Membro desde: 31/10/2012 14:21:25<br />
	Mensagens: 177
<br />



		<span class="offline">Offline </span>
</span>
<br />						</td>
		
						<!-- Message -->
						<td class="row1" valign="top" id="post_text_6640">
							<span class="postbody">
									Preciso da data de emissão.
<br /> 
<br /> Até pensei em guardar no BD, mas como já tenho o nfeProc achei melhor transformar em objeto e então pegar a data, assim não guardava informações repetidas no BD. 
							</span>

							<!-- Attachments -->

						</td>
					</tr>

		
					<tr> 
						<td class="row1" valign="bottom" nowrap="nowrap" height="28" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/jc/user/profile/774.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_profile"><img src="/jc/images/transp.gif" alt="" /></a>
		<a href="/jc/pm/sendTo/774.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_pm"><img src="/jc/images/transp.gif" alt="" /></a>

		
		

		
		
	</td>

</tr>
</table>						</td>
					</tr>
		
					<tr>
						<td class="spacerow" colspan="2" height="1">
							<img src="/jc/templates/javac/images/spacer.gif" alt="" width="1" height="1" />
						</td>
					</tr>


	
					<tr>
						<td colspan="2">
<div class="postinfo">
	<div class="date">
				<a href="/jc/posts/list/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8#6641">
		<img src="/jc/templates/javac/images/icon_minipost_new.gif" alt="[Post New]" /></a>30/07/2013 13:24:20
	</div>
	<div class="subject">&nbsp;&nbsp; &nbsp;<b>Assunto:</b> <a name="6641">Re:Erro ao transformar XML em Objeto</a></div>
	<div class="action">
			<script type="text/javascript">writeStars(0, 6641);</script>

			<a href="/jc/posts/quote/0/6641.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_quote"><img src="/jc/images/transp.gif" alt="" /></a>



		<a class="nav" href="#top"><img src="/jc/templates/javac/images/icon_up.gif" alt="[Up]" /></a>
	</div>
</div>						</td>
					</tr>

					<tr>
						<!-- Username -->


						<td class="row2" valign="top" align="left" rowspan="3">
<span class="genmed"><b>jeroqueiroz</b></span>
<br />
	<script type="text/javascript">writeStars(5, "1116641");</script>
	<br />

<span class="gensmall">
	Moderador
	<br />

		<img src="/jc/images/avatar/698d51a19d8a121ce581499d7b701668.png" border="0" alt="[Avatar]" /><br />
<br /> 

	Membro desde: 11/06/2011 09:45:18<br />
	Mensagens: 959
<br />

	Localização: Bahia
	<br />


		<span class="offline">Offline </span>
</span>
<br />						</td>
		
						<!-- Message -->
						<td class="row2" valign="top" id="post_text_6641">
							<span class="postbody">
									Olha vou passar uma dica se achar viável implemente se não pode seguir como esta:
<br /> 
<br /> Dica: Se você possui a necessidade de usar alguns campos como chave, data de emissão e outros quaisquer até mesmo para exibir em uma tela de gerenciamento das NF-e emitidas, interessante que tenha este 10 ou 15 campos no BD e que o XML fique como uma String em um outro campo, para que possa ler esta informações do BD, ao menos é o que faço, pois este processo de conversão creio ser mais custoso a app e também existe uma possibilidade maior de gerar erros no processo de conversão.
							</span>

							<!-- Attachments -->

						</td>
					</tr>

						<tr>
							<td colspan="2" class="row2" width="100%" height="28"><hr/><span class="gensmall">Jeremias Santos
<br /><a class="snap_shots" href="http://twitter.com/jeroqueiroz" target="_new" rel="nofollow">Seguir no Twitter @jeroqueiroz</a>
<br /> 
<br />
<br /><a class="snap_shots" href="http://www.javac.com.br/jc/posts/list/997-projeto-nfe-cte-cce.page" target="_new" rel="nofollow">Projeto NF-e, CT-e, CC-e? Comece Por Aqui!</a>
<br />
<br /><font color='red'><b>
<br />Membros do fórum, 
<br />
<br />Usem a tag [code] e [/code] quando postarem Códigos Java e ou exemplos de XMLs. 
<br />Evitem tópicos duplicados. 
<br />Tópico solucionado? Edite o primeiro post e coloque [RESOLVIDO] no final do título. 
<br />Evitem reviver tópicos antigos. 
<br />
<br />O tópico resolveu seu problema? Seja gentil, comente e ou agradeça quem contribuiu com a solução. 
<br />
<br />Obrigado!</b></font></span></td>
						</tr>
		
					<tr> 
						<td class="row2" valign="bottom" nowrap="nowrap" height="28" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/jc/user/profile/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_profile"><img src="/jc/images/transp.gif" alt="" /></a>
		<a href="/jc/pm/sendTo/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_pm"><img src="/jc/images/transp.gif" alt="" /></a>


				<a href="javascript:sendEmail('jeroqueiroz', 'gmail.com');"><img src="/jc/templates/javac/images/icon_email.gif" alt="[Email]" /></a>
		
			<a href="http://jeroqueiroz.blogspot.com/" target="_new"><img src="/jc/templates/javac/images/icon_www.gif" alt="[WWW]"/></a>
		
			<a href="http://edit.yahoo.com/config/send_webmesg?.target=jeroqueiroz@yahoo.com.br&amp;.src=pg"><img src="/jc/templates/javac/images/icon_yim.gif" alt="[Yahoo!]" /></a>

		
			<a href="/jc/user/profile/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8"><img src="/jc/templates/javac/images/icon_msnm.gif" alt="[MSN]"  /></a>
		
	</td>

</tr>
</table>						</td>
					</tr>
		
					<tr>
						<td class="spacerow" colspan="2" height="1">
							<img src="/jc/templates/javac/images/spacer.gif" alt="" width="1" height="1" />
						</td>
					</tr>


	
					<tr>
						<td colspan="2">
<div class="postinfo">
	<div class="date">
				<a href="/jc/posts/list/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8#6642">
		<img src="/jc/templates/javac/images/icon_minipost_new.gif" alt="[Post New]" /></a>30/07/2013 13:30:17
	</div>
	<div class="subject">&nbsp;&nbsp; &nbsp;<b>Assunto:</b> <a name="6642">Re:Erro ao transformar XML em Objeto</a></div>
	<div class="action">
			<script type="text/javascript">writeStars(0, 6642);</script>

			<a href="/jc/posts/quote/0/6642.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_quote"><img src="/jc/images/transp.gif" alt="" /></a>



		<a class="nav" href="#top"><img src="/jc/templates/javac/images/icon_up.gif" alt="[Up]" /></a>
	</div>
</div>						</td>
					</tr>

					<tr>
						<!-- Username -->


						<td class="row1" valign="top" align="left" rowspan="2">
<span class="genmed"><b>jocabaldini</b></span>
<br />
	<script type="text/javascript">writeStars(5, "7746642");</script>
	<br />

<span class="gensmall">
	JavaC Membro
	<br />

<br /> 

	Membro desde: 31/10/2012 14:21:25<br />
	Mensagens: 177
<br />



		<span class="offline">Offline </span>
</span>
<br />						</td>
		
						<!-- Message -->
						<td class="row1" valign="top" id="post_text_6642">
							<span class="postbody">
									Agradeço a ajuda Jeremias.
<br /> 
<br /> Pretendo fazer assim mesmo, mas tenho que seguir o que é me passado pela empresa.
<br /> 
<br /> Vlw de qq forma.
<br /> 
<br /> <img src="http://www.javac.com.br/jc//images/smilies/283a16da79f3aa23fe1025c96295f04f.gif" />
							</span>

							<!-- Attachments -->

						</td>
					</tr>

		
					<tr> 
						<td class="row1" valign="bottom" nowrap="nowrap" height="28" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/jc/user/profile/774.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_profile"><img src="/jc/images/transp.gif" alt="" /></a>
		<a href="/jc/pm/sendTo/774.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_pm"><img src="/jc/images/transp.gif" alt="" /></a>

		
		

		
		
	</td>

</tr>
</table>						</td>
					</tr>
		
					<tr>
						<td class="spacerow" colspan="2" height="1">
							<img src="/jc/templates/javac/images/spacer.gif" alt="" width="1" height="1" />
						</td>
					</tr>


	
					<tr>
						<td colspan="2">
<div class="postinfo">
	<div class="date">
				<a href="/jc/posts/list/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8#6643">
		<img src="/jc/templates/javac/images/icon_minipost_new.gif" alt="[Post New]" /></a>30/07/2013 13:36:31
	</div>
	<div class="subject">&nbsp;&nbsp; &nbsp;<b>Assunto:</b> <a name="6643">Re:Erro ao transformar XML em Objeto</a></div>
	<div class="action">
			<script type="text/javascript">writeStars(0, 6643);</script>

			<a href="/jc/posts/quote/0/6643.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_quote"><img src="/jc/images/transp.gif" alt="" /></a>



		<a class="nav" href="#top"><img src="/jc/templates/javac/images/icon_up.gif" alt="[Up]" /></a>
	</div>
</div>						</td>
					</tr>

					<tr>
						<!-- Username -->


						<td class="row2" valign="top" align="left" rowspan="3">
<span class="genmed"><b>jeroqueiroz</b></span>
<br />
	<script type="text/javascript">writeStars(5, "1116643");</script>
	<br />

<span class="gensmall">
	Moderador
	<br />

		<img src="/jc/images/avatar/698d51a19d8a121ce581499d7b701668.png" border="0" alt="[Avatar]" /><br />
<br /> 

	Membro desde: 11/06/2011 09:45:18<br />
	Mensagens: 959
<br />

	Localização: Bahia
	<br />


		<span class="offline">Offline </span>
</span>
<br />						</td>
		
						<!-- Message -->
						<td class="row2" valign="top" id="post_text_6643">
							<span class="postbody">
									Sobre seu erro, você esta trazendo uma String do Banco e enviando para transformar em Objeto? Se sim, já verificou se não esta sendo trazidos campos adicionais? ou Espaço vazios?
<br /> 
<br /> Copie o conteúdo ou pegue o XML Proc, leia e então envie a String para transformar em objeto e verifique se funcione.
<br /> 
<br /> Esta classe TRetEnviNFe.class é de qual pacote, pois o erro pode estar nela também, não na classe mas usando alguma do pacote errado.
							</span>

							<!-- Attachments -->

						</td>
					</tr>

						<tr>
							<td colspan="2" class="row2" width="100%" height="28"><hr/><span class="gensmall">Jeremias Santos
<br /><a class="snap_shots" href="http://twitter.com/jeroqueiroz" target="_new" rel="nofollow">Seguir no Twitter @jeroqueiroz</a>
<br /> 
<br />
<br /><a class="snap_shots" href="http://www.javac.com.br/jc/posts/list/997-projeto-nfe-cte-cce.page" target="_new" rel="nofollow">Projeto NF-e, CT-e, CC-e? Comece Por Aqui!</a>
<br />
<br /><font color='red'><b>
<br />Membros do fórum, 
<br />
<br />Usem a tag [code] e [/code] quando postarem Códigos Java e ou exemplos de XMLs. 
<br />Evitem tópicos duplicados. 
<br />Tópico solucionado? Edite o primeiro post e coloque [RESOLVIDO] no final do título. 
<br />Evitem reviver tópicos antigos. 
<br />
<br />O tópico resolveu seu problema? Seja gentil, comente e ou agradeça quem contribuiu com a solução. 
<br />
<br />Obrigado!</b></font></span></td>
						</tr>
		
					<tr> 
						<td class="row2" valign="bottom" nowrap="nowrap" height="28" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/jc/user/profile/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_profile"><img src="/jc/images/transp.gif" alt="" /></a>
		<a href="/jc/pm/sendTo/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_pm"><img src="/jc/images/transp.gif" alt="" /></a>


				<a href="javascript:sendEmail('jeroqueiroz', 'gmail.com');"><img src="/jc/templates/javac/images/icon_email.gif" alt="[Email]" /></a>
		
			<a href="http://jeroqueiroz.blogspot.com/" target="_new"><img src="/jc/templates/javac/images/icon_www.gif" alt="[WWW]"/></a>
		
			<a href="http://edit.yahoo.com/config/send_webmesg?.target=jeroqueiroz@yahoo.com.br&amp;.src=pg"><img src="/jc/templates/javac/images/icon_yim.gif" alt="[Yahoo!]" /></a>

		
			<a href="/jc/user/profile/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8"><img src="/jc/templates/javac/images/icon_msnm.gif" alt="[MSN]"  /></a>
		
	</td>

</tr>
</table>						</td>
					</tr>
		
					<tr>
						<td class="spacerow" colspan="2" height="1">
							<img src="/jc/templates/javac/images/spacer.gif" alt="" width="1" height="1" />
						</td>
					</tr>


	
					<tr>
						<td colspan="2">
<div class="postinfo">
	<div class="date">
				<a href="/jc/posts/list/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8#6644">
		<img src="/jc/templates/javac/images/icon_minipost_new.gif" alt="[Post New]" /></a>30/07/2013 13:44:46
	</div>
	<div class="subject">&nbsp;&nbsp; &nbsp;<b>Assunto:</b> <a name="6644">Re:Erro ao transformar XML em Objeto</a></div>
	<div class="action">
			<script type="text/javascript">writeStars(0, 6644);</script>

			<a href="/jc/posts/quote/0/6644.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_quote"><img src="/jc/images/transp.gif" alt="" /></a>



		<a class="nav" href="#top"><img src="/jc/templates/javac/images/icon_up.gif" alt="[Up]" /></a>
	</div>
</div>						</td>
					</tr>

					<tr>
						<!-- Username -->


						<td class="row1" valign="top" align="left" rowspan="2">
<span class="genmed"><b>jocabaldini</b></span>
<br />
	<script type="text/javascript">writeStars(5, "7746644");</script>
	<br />

<span class="gensmall">
	JavaC Membro
	<br />

<br /> 

	Membro desde: 31/10/2012 14:21:25<br />
	Mensagens: 177
<br />



		<span class="offline">Offline </span>
</span>
<br />						</td>
		
						<!-- Message -->
						<td class="row1" valign="top" id="post_text_6644">
							<span class="postbody">
									Eu recebo um array de bytes do banco e com ele tento criar o objeto. Uso o mesmo código pra criar um objeto com o retorno do RetRecepcao, a única diferença é que nesse caso pego direto o xml de retorno e não do BD. Por isso acho que deve ter alguma sujeira no XML qd pego no banco.
<br /> 
<br /> A classe, na verdade, é a TNfeProc do pacote procNFe.
							</span>

							<!-- Attachments -->

						</td>
					</tr>

		
					<tr> 
						<td class="row1" valign="bottom" nowrap="nowrap" height="28" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/jc/user/profile/774.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_profile"><img src="/jc/images/transp.gif" alt="" /></a>
		<a href="/jc/pm/sendTo/774.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_pm"><img src="/jc/images/transp.gif" alt="" /></a>

		
		

		
		
	</td>

</tr>
</table>						</td>
					</tr>
		
					<tr>
						<td class="spacerow" colspan="2" height="1">
							<img src="/jc/templates/javac/images/spacer.gif" alt="" width="1" height="1" />
						</td>
					</tr>


	
					<tr>
						<td colspan="2">
<div class="postinfo">
	<div class="date">
				<a href="/jc/posts/list/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8#6646">
		<img src="/jc/templates/javac/images/icon_minipost_new.gif" alt="[Post New]" /></a>30/07/2013 13:56:08
	</div>
	<div class="subject">&nbsp;&nbsp; &nbsp;<b>Assunto:</b> <a name="6646">Re:Erro ao transformar XML em Objeto</a></div>
	<div class="action">
			<script type="text/javascript">writeStars(0, 6646);</script>

			<a href="/jc/posts/quote/0/6646.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_quote"><img src="/jc/images/transp.gif" alt="" /></a>



		<a class="nav" href="#top"><img src="/jc/templates/javac/images/icon_up.gif" alt="[Up]" /></a>
	</div>
</div>						</td>
					</tr>

					<tr>
						<!-- Username -->


						<td class="row2" valign="top" align="left" rowspan="3">
<span class="genmed"><b>jeroqueiroz</b></span>
<br />
	<script type="text/javascript">writeStars(5, "1116646");</script>
	<br />

<span class="gensmall">
	Moderador
	<br />

		<img src="/jc/images/avatar/698d51a19d8a121ce581499d7b701668.png" border="0" alt="[Avatar]" /><br />
<br /> 

	Membro desde: 11/06/2011 09:45:18<br />
	Mensagens: 959
<br />

	Localização: Bahia
	<br />


		<span class="offline">Offline </span>
</span>
<br />						</td>
		
						<!-- Message -->
						<td class="row2" valign="top" id="post_text_6646">
							<span class="postbody">
									Ao que tudo indica o problema esta nesta montagem do XML que esta obtendo do BD.
							</span>

							<!-- Attachments -->

						</td>
					</tr>

						<tr>
							<td colspan="2" class="row2" width="100%" height="28"><hr/><span class="gensmall">Jeremias Santos
<br /><a class="snap_shots" href="http://twitter.com/jeroqueiroz" target="_new" rel="nofollow">Seguir no Twitter @jeroqueiroz</a>
<br /> 
<br />
<br /><a class="snap_shots" href="http://www.javac.com.br/jc/posts/list/997-projeto-nfe-cte-cce.page" target="_new" rel="nofollow">Projeto NF-e, CT-e, CC-e? Comece Por Aqui!</a>
<br />
<br /><font color='red'><b>
<br />Membros do fórum, 
<br />
<br />Usem a tag [code] e [/code] quando postarem Códigos Java e ou exemplos de XMLs. 
<br />Evitem tópicos duplicados. 
<br />Tópico solucionado? Edite o primeiro post e coloque [RESOLVIDO] no final do título. 
<br />Evitem reviver tópicos antigos. 
<br />
<br />O tópico resolveu seu problema? Seja gentil, comente e ou agradeça quem contribuiu com a solução. 
<br />
<br />Obrigado!</b></font></span></td>
						</tr>
		
					<tr> 
						<td class="row2" valign="bottom" nowrap="nowrap" height="28" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/jc/user/profile/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_profile"><img src="/jc/images/transp.gif" alt="" /></a>
		<a href="/jc/pm/sendTo/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_pm"><img src="/jc/images/transp.gif" alt="" /></a>


				<a href="javascript:sendEmail('jeroqueiroz', 'gmail.com');"><img src="/jc/templates/javac/images/icon_email.gif" alt="[Email]" /></a>
		
			<a href="http://jeroqueiroz.blogspot.com/" target="_new"><img src="/jc/templates/javac/images/icon_www.gif" alt="[WWW]"/></a>
		
			<a href="http://edit.yahoo.com/config/send_webmesg?.target=jeroqueiroz@yahoo.com.br&amp;.src=pg"><img src="/jc/templates/javac/images/icon_yim.gif" alt="[Yahoo!]" /></a>

		
			<a href="/jc/user/profile/111.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8"><img src="/jc/templates/javac/images/icon_msnm.gif" alt="[MSN]"  /></a>
		
	</td>

</tr>
</table>						</td>
					</tr>
		
					<tr>
						<td class="spacerow" colspan="2" height="1">
							<img src="/jc/templates/javac/images/spacer.gif" alt="" width="1" height="1" />
						</td>
					</tr>


	
					<tr>
						<td colspan="2">
<div class="postinfo">
	<div class="date">
				<a href="/jc/posts/list/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8#6703">
		<img src="/jc/templates/javac/images/icon_minipost_new.gif" alt="[Post New]" /></a>12/08/2013 16:42:16
	</div>
	<div class="subject">&nbsp;&nbsp; &nbsp;<b>Assunto:</b> <a name="6703">Re:Erro ao transformar XML em Objeto</a></div>
	<div class="action">
			<script type="text/javascript">writeStars(0, 6703);</script>

			<a href="/jc/posts/quote/0/6703.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_quote"><img src="/jc/images/transp.gif" alt="" /></a>



		<a class="nav" href="#top"><img src="/jc/templates/javac/images/icon_up.gif" alt="[Up]" /></a>
	</div>
</div>						</td>
					</tr>

					<tr>
						<!-- Username -->


						<td class="row1" valign="top" align="left" rowspan="2">
<span class="genmed"><b>jocabaldini</b></span>
<br />
	<script type="text/javascript">writeStars(5, "7746703");</script>
	<br />

<span class="gensmall">
	JavaC Membro
	<br />

<br /> 

	Membro desde: 31/10/2012 14:21:25<br />
	Mensagens: 177
<br />



		<span class="offline">Offline </span>
</span>
<br />						</td>
		
						<!-- Message -->
						<td class="row1" valign="top" id="post_text_6703">
							<span class="postbody">
									O problema era o XML passado mesmo. O arquivo passado 'nota.getArquivoNFeProc().toString()' não pode ser passa.
<br /> 
<br /> O arquivo em bytes tem que, realmente, ser transformado em string.
<br /> 
<br /> Para isso eu usei o método lerXML:
<br /> <textarea name="code" class="java" cols="60" rows="10">
public static String lerXML(byte[] fileXML) throws IOException {
	ByteArrayInputStream bis = new ByteArrayInputStream(fileXML);

	StringBuilder xml = new StringBuilder();  
	String linha = null;  

	BufferedReader in = new BufferedReader(new InputStreamReader(bis, "UTF-8"));  
	while ((linha = in.readLine()) != null) {  
	    xml.append(linha);  
	}  
	in.close();

	return xml.toString();
    }
</textarea>
<br /> 
<br /> Dessa forma o Unmarshaller é feito corretamente.
<br /> 
<br /> 
							</span>

							<!-- Attachments -->

						</td>
					</tr>

		
					<tr> 
						<td class="row1" valign="bottom" nowrap="nowrap" height="28" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/jc/user/profile/774.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_profile"><img src="/jc/images/transp.gif" alt="" /></a>
		<a href="/jc/pm/sendTo/774.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" class="icon_pm"><img src="/jc/images/transp.gif" alt="" /></a>

		
		

		
		
	</td>

</tr>
</table>						</td>
					</tr>
		
					<tr>
						<td class="spacerow" colspan="2" height="1">
							<img src="/jc/templates/javac/images/spacer.gif" alt="" width="1" height="1" />
						</td>
					</tr>


				<!-- END OF POST LISTING -->
		
				<tr align="center">
					<td class="catbottom" colspan="2" height="28">
						<table cellspacing="0" cellpadding="0" border="0">
							<tr>
								<td align="center"><span class="gensmall">&nbsp;</span></td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		
			<table cellspacing="2" cellpadding="2" width="100%" align="center" border="0">
				<tr>
					<td width="8%" align="left" valign="bottom" nowrap="nowrap">
							<a href="/jc/posts/reply/0/1606.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8" rel="nofollow" class="icon_reply nav"><img src="/jc/images/transp.gif" alt="" /></a>
					</td>
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						<a class="nav" href="/jc/forums/list.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8">Índice dos Fóruns </a> 
            			&raquo; <a class="nav" href="/jc/forums/show/11.page;jsessionid=95BB89530F8FBAF9080363EF18420FD8">NF-e / NFS-e / CT-e / CF-e / Certificados Digitais </a>
						</span>
					</td>

					<td valign="middle" align="right"></td>
				</tr>
			</table>
			
			<table width="100%" align="center">
				
				
			</table>

			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>
					<td align="left" valign="top" class="gensmall">
					</td>
					<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="iso-8859-1">
					<span class="gensmall">Ir para:&nbsp;</span>
					<select onchange="if(this.options[this.selectedIndex].value != -1){ document.location = '/jc/forums/show/'+ this.options[this.selectedIndex].value +'.page'; }" name="select">
						<option value="-1" selected="selected">Selecione um Fórum</option>				
						
                            <optgroup label="JavaC">
		
								<option value="2">Artigos / Tutoriais</option>
								<option value="1">Notícias Java</option>
								<option value="15">Notícias (NF-e / NFS-e / CF-e / SPED)</option>
								<option value="20">Android Dicas e Tutorias </option>
							
                            </optgroup>
                            <optgroup label="Desenvolvimento e Projeto">
		
								<option value="6">Desenvolvimento Web</option>
								<option value="7">Interface Gráfica</option>
								<option value="5">Java Básico</option>
								<option value="8">Java Avançado</option>
								<option value="11">NF-e / NFS-e / CT-e / CF-e / Certificados Digitais</option>
								<option value="14">SPED / PAF-ECF</option>
								<option value="19">Impressoras Fiscais</option>
								<option value="16">GWT</option>
								<option value="17">Android</option>
								<option value="10">Engenharia de Software</option>
								<option value="18">Java FX</option>
							
                            </optgroup>
                            <optgroup label="Banco de Dados">
		
								<option value="3">PostgreSQL</option>
							
                            </optgroup>
                            <optgroup label="Diversos">
		
								<option value="4">Off-Topic</option>
							
                            </optgroup>
					</select>
					&nbsp;
					<input class="liteoption" type="button" value="Ir" onclick="if(document.f.select.options[document.f.select.selectedIndex].value != -1){ document.location = '/jc/forums/show/'+ document.f.select.options[document.f.select.selectedIndex].value +'.page'; }" />
				</form>
			</td>
		</tr>
	</table>
</td>
				</tr>
			</table>
		</td>
	</tr>
</table>

<a name="quick"></a>

<script type="text/javascript">
$(document).ready(function() {
	limitURLSize();

});
</script>

<div>
	<span class="copyright">Powered by <a class="copyright" href="http://www.jforum.net/" target="_blank">JForum 2.1.9</a> &copy; <a class="copyright" href="http://www.jforum.net/team.jsp" target="_blank">JForum Team</a></span>
</div>

<div id="rodape">

	<div id="latetal-e"></div>

	<div id="logo">
		<a href="http://www.javac.com.br">
			<img src="/jc/images/logo_rodape.gif" />		
		</a>
	</div>
	
	<div id="latetal-d"></div>

	<div id="pesquisa">

	</div>

	<div class="clear"></div>

</div>

<!-- SyntaxHighlighter 1.5.1 -->
<script type="text/javascript" src="/jc/templates/javac/js/shCore.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushJava.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushCpp.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushCSharp.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushDelphi.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushJScript.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushPhp.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushPython.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushRuby.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushSql.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushVb.js"></script>
<script type="text/javascript" src="/jc/templates/javac/js/shBrushXml.js"></script>
<script type="text/javascript">
<!--
dp.sh.ClipboardSwf = '/jc/templates/javac/js/clipboard.swf';
dp.sh.HighlightAll('code');
-->
</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35547909-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<iframe src="/jc/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>

</body>
</html>
