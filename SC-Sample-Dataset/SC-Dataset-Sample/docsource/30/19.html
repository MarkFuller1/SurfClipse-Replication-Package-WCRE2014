<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<style type="text/css">
@import url( /templates/default/mobile/styles/mobile.css?1386831159603 ) ;
</style>

<meta name="viewport" content="width = 320" />

<title>cvc-complex-type.2.3:Element 'beans' cannot have character [children] type's content type is element (Spring forum at JavaRanch)</title>
<link rel="canonical" href="http://www.coderanch.com/t/485875/Spring/cvc-complex-type-Element-beans"/>
<link rel="alternate" media="handheld" href="http://www.coderanch.com/mobile/t/485875/Spring/cvc-complex-type-Element-beans?foo=a">
</head>
<body class="en_US">

<a name="top"></a>
<table cellspacing="0" cellpadding="0" border="0">
    <tr>
        <td align="center">
                <a href="/forums/list"><img
                src="/templates/default/mobile/images/mobile-moose.gif"
                vspace="1" border="0" alt="[Logo]" width="100" height="100" /></a>
		</td>
        <td class="logo" valign="center">
          A friendly place for programming greenhorns!
        <a href="#bottom"><img src="/templates/default/mobile/images/down_arrow.gif" width="10" height="10" alt="Jump to bottom of page" /></a>
        </td>
    </tr>
</table>

<p>
  <a id="register" class="mainmenu" href="/forums/user/insert">Register</a> /
  <a id="login" class="mainmenu" href="/forums/user/login">Login</a>
</p>
<a class="maintitle" href="http://www.coderanch.com/forums">Java Forums</a>



&raquo; <a class="maintitle" href="/forums/c/14/">Frameworks</a> &raquo;
<a class="maintitle" href="/forums/f-96/Spring">Spring</a>
<div class="subject">cvc-complex-type.2.3:Element 'beans' cannot have character [children] type's content type is element</div>


  
  <div class="mobilePostBody">
  

  Post by: Satyajeet Kadam, Ranch Hand<br />
  on <span class="lastPostTime">Mar 05, 2010 19:44:52</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I am unable to run the source code for AOP. I am using spring framework 3.0.This code is from the book "Spring in Simple steps". I am getting error as:
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">    
Mar 6, 2010 7:48:38 AM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.context.support.FileSystemXmlApplicationContext@19a0c7c: startup date [Sat Mar 06 07:48:38 IST 2010]; root of context hierarchy
Mar 6, 2010 7:48:38 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from file [C:\Documents and Settings\satyajit\My Documents\NetBeansProjects\Aop\build\classes\com\kogent\beans.xml]
Exception in thread "main" org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 29 in XML document from file [C:\Documents and Settings\satyajit\My Documents\NetBeansProjects\Aop\build\classes\com\kogent\beans.xml] is invalid; nested exception is org.xml.sax.SAXParseException: cvc-complex-type.2.3: Element 'beans' cannot have character [children], because the type's content type is element-only.
        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:396)
        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)
        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)
        
at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:143)
        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:178)
        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:149)
        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:212)
        at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:126)
        at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:92)
        at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)
        at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:458)
        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:388)
        at org.springframework.context.support.FileSystemXmlApplicationContext.&lt;init&gt;(FileSystemXmlApplicationContext.java:140)
        at org.springframework.context.support.FileSystemXmlApplicationContext.&lt;init&gt;(FileSystemXmlApplicationContext.java:84)
        at com.kogent.Main.main(Main.java:10)
Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.3: Element 'beans' cannot have character [children], because the type's content type is element-only.
        at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
        at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:131)
        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:384)
        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:318)
        at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:410)
        at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3165)
        at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidComplexType(XMLSchemaValidator.java:3116)
        at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(XMLSchemaValidator.java:3076)
        at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(XMLSchemaValidator.java:2978)
        at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(XMLSchemaValidator.java:2121)
        at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(XMLSchemaValidator.java:791)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1772)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2923)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:508)
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:807)
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)
        at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)
        at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)
        at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:75)
        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:388)
        ... 14 more
Java Result: 1

</textarea>
<br /> 
<br /> <u>Source code</u>
<br /> 
<br /> beans.xml
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">   
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:lang="http://www.springframework.org/schema/lang"
       xsi:schemaLocation="http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/aop 
       http://www.springframework.org/schema/aop/spring-aop-2.5.xsd"&gt; 
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context-2.5.xsd
       http://www.springframework.org/schema/lang
       http://www.springframework.org/schema/lang//spring-lang-2.5.xsd&quot;&gt;
       
       &lt;aop:aspectj-autoproxy&gt;&lt;/aop:aspectj-autoproxy&gt;
       &lt;bean id="name" class="com.kogent.Asp"/&gt;
       &lt;bean id="id" class="com.kogent.Code"/&gt;
       &lt;bean class ="com.kogent.Main"/&gt;
  &lt;/beans&gt;
</textarea>
<br /> 
<br /> 
<br /> Main.java
<br /> 
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">   
package com.kogent;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.context.support.FileSystemXmlApplicationContext;
import org.springframework.context.ApplicationContext;
public class Main 
{
  public static void main(String args[])
  {
   // ApplicationContext acx=new ClassPathXmlApplicationContext("beans.xml");
     ApplicationContext acx=new FileSystemXmlApplicationContext("C:/Documents and Settings/satyajit/My Documents/NetBeansProjects/Aop/build/classes/com/kogent/beans.xml");
    Code ob=(Code)acx.getBean("id");
    ob.display();
  
  }
}
 </textarea>
<br /> 
<br /> Asp.java
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">  
package com.kogent;
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.annotation.AfterReturning;
import org.aspectj.lang.annotation.Before;
public class Asp 
{
  @Before ("execution(* Code.display(..))")
  private void mainMethod()
  {
     System.out.println("Hello from @Before Annotation in Aspectj");
  }
  @AfterReturning ("execution(* Code.display(..))")
  
  public void myMethod()
  {
       System.out.println("Hello from @AfterReturning Annotation in Aspectj");
  }
}

 </textarea>
<br /> 
<br /> 
<br /> Code.java
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">   
package com.kogent;
public class Code 
{
  public void display()
  {
    System.out.println("Hello World");
  }
  
}

</textarea>
<br /> 
<br /> Q1) Is there any problem in beans.xml?
<br /> </span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Satyajeet Kadam, Ranch Hand<br />
  on <span class="lastPostTime">Mar 05, 2010 21:39:39</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">PLease reply urgently. I tried to all possiable ways to run above program but still i am unable to run it?</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Alaa Nassef, Ranch Hand<br />
  on <span class="lastPostTime">Mar 06, 2010 00:06:40</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Well, it seems fine to me, but there must be something wrong with it, since this is the meaning of the exception. The meaning of the exception is that the XML, somewhere between the opening and the closing of the <tt>beans</tt> element, there are some text written, which is not enclosed in an element. Please make sure that this is not in the XML file being parsed, and if you have copied any part of the XML (no matter how small) from somewhere, make sure that every character is correct (sometimes double quotes are writted differently in PDFs for example). Finally, I have a few comments, but don't know if they have any value for your case.
<br /> <li>Line 15 of your XML has a double slash instead of one (this might cause a problem)</li><li>Line 17 of your XML can be written as <tt>&lt;aop:aspectj-autoproxy/&gt;</tt> instead of <tt>&lt;aop:aspectj-autoproxy&gt;&lt;/aop:aspectj-autoproxy&gt;</tt></li><li>No need to define bean for <tt>Main</tt> class in line 20 of your XML[/tt]</li><li>Use the following snippet to load the application context instead of what you have in line 11</li>
<br /> <textarea name="code" class="java" cols="60" rows="10">
ApplicationContext acx=new ClassPathXmlApplicationContext("com/kogent/beans.xml");  
//if doesn't work, use the following. Not sure which one is the correct one
//ApplicationContext acx=new ClassPathXmlApplicationContext("/com/kogent/beans.xml");  
</textarea>
<br /> </span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Satyajeet Kadam, Ranch Hand<br />
  on <span class="lastPostTime">Mar 06, 2010 01:55:29</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Thanks for your reply Alaa Nassef.
<br /> 
<br /> To Run this program i included:
<br /> 1) aopalliance. jar in classpath
<br /> 2)i commented the first line
<br />  <textarea name="code" class="java" cols="60" rows="10">  
//ApplicationContext acx=new ClassPathXmlApplicationContext("beans.xml");
ApplicationContext acx=new FileSystemXmlApplicationContext("C:/Documents and Settings/satyajit/My Documents/NetBeansProjects/Aop/build/classes/com/kogent/beans.xml");  
</textarea>
<br /> 
<br /> 
<br /> Now Output of the program is simply Hello World.
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">  
Mar 6, 2010 1:42:19 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.context.support.FileSystemXmlApplicationContext@19a0c7c: startup date [Sat Mar 06 13:42:19 IST 2010]; root of context hierarchy
Mar 6, 2010 1:42:19 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from file [C:\Documents and Settings\satyajit\My Documents\NetBeansProjects\Aop\build\classes\com\kogent\beans.xml]
Mar 6, 2010 1:42:19 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@117f31e: defining beans [org.springframework.aop.config.internalAutoProxyCreator,name,id,com.kogent.Main#0]; root of factory hierarchy
Hello World
BUILD SUCCESSFUL (total time: 1 second)
 </textarea>
<br /> 
<br /> Excepted Output is
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">  
Hello from @Before Annotation in Aspectj
Hello World
Hello from @AfterReturning Annotation in Aspectj
</textarea>
<br /> 
<br /> Q1) Why actual output is different from expected output?Why "Hello from @Before Annotation in Aspectj" and "Hello from @AfterReturning Annotation in Aspectj" is not getting printed in console?Please refer above program for more details.
<br /> 
<br /> 
<br /> </span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Alaa Nassef, Ranch Hand<br />
  on <span class="lastPostTime">Mar 06, 2010 02:09:58</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Well, I don't know a lot of AOP, so I can't help with that. Sorry</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Satyajeet Kadam, Ranch Hand<br />
  on <span class="lastPostTime">Mar 06, 2010 05:37:34</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Please any one can help me?</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Kuntal Mondal, Greenhorn<br />
  on <span class="lastPostTime">Nov 27, 2010 10:34:34</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I know it is kind of late - but your "beans.xml" file has a syntax problem - there is an extra "&gt;" at the following line !!!
<br /> 
<br /> <a class="snap_shots" href="http://www.springframework.org/schema/aop/spring-aop-2.5.xsd" target="_blank" rel="nofollow">http://www.springframework.org/schema/aop/spring-aop-2.5.xsd</a>"&gt; </span>
    </div>
 <br />



<br />


               <input type="button" value="Reply" onclick="location.href='/forums/posts/reply/0/485875'" />
	

    <input type="button" value="New Topic" onclick="location.href='/jforum?module=posts&amp;action=insert&amp;forum_id=96'" />






<br /><br />


<br />

<div class="gensmall center">
All times above are in ranch (not your local) time.<br />
The current ranch time is <br />
<span class="mobileLabel">Dec 13, 2013 16:57:55</span>.
</div>
<br />
<div>
  <a id="search" href="/forums/search/filters/96"><span class="mobileLabel">Search</span></a>
  |
<a href="/forums/recentTopics/list"><span class="mobileLabel">Recent Topics</span></a>
</div>

 <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ?  "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
 <script type="text/javascript">
    if (typeof _gat !== "undefined") {
        var pageTracker = _gat._getTracker("UA-2371260-2");
        pageTracker._trackPageview();

        dt = new Date();
        pageTracker._setVar("hour: " + dt.getHours());
    }
</script>

<br />
<div>Copyright &copy; 1998-2013 <a href="http://www.javaranch.com/paul-wheaton.jsp">Paul Wheaton</a></div>
<br />
<a name="bottom"></a>
<a href="#top"><img src="/templates/default/mobile/images/up_arrow.gif" width="10" height="10" alt="Jump to top of page" /></a>
<br />
<a href="http://www.coderanch.com/t/485875/Spring/cvc-complex-type-Element-beans?nonMobile=true">Or visit our non-mobile (full) site</a>
</body>
</html>
