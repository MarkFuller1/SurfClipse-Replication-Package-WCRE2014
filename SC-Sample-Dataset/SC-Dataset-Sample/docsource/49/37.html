







<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
    
    <title>EclipseZone - Debugging a failed Eclipse launch
 ...</title>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
    <link href="/css/jl.css" rel="stylesheet" type="text/css"/>
    <link href="/css/jlJive.css" rel="stylesheet" type="text/css"/>
    <link href="/css/navmenu.css" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" type="text/css" href="/forums/style.jsp">

    
    <script language="JavaScript" type="text/javascript"
            src="/forums/scripts/global.js"></script>

    <link rel="top" href="/" title="EclipseZone Home Page">
		<link rel="up" href="/eclipse/forums/f18111.html" title="Up to thread list">

		
		
				<link rel="prev"
							href="/eclipse/forums/t99303.html"
							title="Previous thread" >
		

		
		
				<link rel="next"
							href="/eclipse/forums/t98867.html"
							title="Next thread" >
		

    
        <link rel="alternate" type="application/rss+xml" title="RSS"
         href="http://www.eclipsezone.com/rss/rssmessages.jspa?threadID=99010">
    
    <meta name="keywords" content="Java,SWT,Eclipse,Java 2 Standard Edition,Web Start,tutorial,news,help,downloads,free books,reviews,presentations,articles,rich internet applications,ria,rcp,plugins,eclipse plugins">

    <script type="text/javascript"><!--//--><![CDATA[//><!--
    sfHover = function() {
        var sfEls = document.getElementById("nav").getElementsByTagName("LI");
        for (var i = 0; i < sfEls.length; i++) {
            sfEls[i].onmouseover = function() {
                this.className += " sfhover";
            }
            sfEls[i].onmouseout = function() {
                this.className = this.className.replace(new RegExp(" sfhover\\b"), "");
            }
        }
    }
    if (document.all) { //MS IE
        if (window.attachEvent) window.attachEvent("onload", sfHover);
        else { //IE 5.2 Mac does not support attachEvent
            var old = window.onload;
            window.onload = function() {
                if (old) old();
                sfHover();
            }
        }
    }
    //--><!]]></script>
<script src="http://www.javalobby.org/chat/common.js" language="JavaScript" type="text/javascript"></script>

</head>

<body >


<div id="wrap_outer">
<!-- TOP LEADERBOARD GOES HERE -->

<div id="wrap_inner">
<div id="header">
    <div class="netbar">
        <a href="http://www.javalobby.org/"
           title="Java & J2EE Programming community with Java forums, Java blogs, Java news & Java tutorials">Javalobby</a>
        |
        <a href="http://www.javaforge.com/"
           title="Subversion-based Java collaboration environment">JavaForge</a>
        |
        <a href="http://www.javacrawl.com/" title="RSS Portal for Java news & J2EE news">Javacrawl</a> |
        <a href="http://www.jdocs.com/" title="Javadoc API docs for over 130 Java & J2EE libraries">JDocs</a> |
        <a href="http://www.jroller.com/"
           title="Free Java Blogging community for Java & J2EE Developer blogs">JRoller</a> |
        <a href="http://www.jugcentral.com/" title="Java User Group hosting & services for JUGs">JUGCentral</a> |
        <a href="http://www.myjavaserver.com/" title="Free Java JSP & J2EE hosting for developers learning Java">MyJavaServer</a>
        |
        <a href="http://www.dzone.com/advertise.jsp" title="Promote your products & services to Java developers"><b>ADVERTISE</b></a>
    </div>

    <div class="welcomebar">
        
        <form action="/forums/login.jspa" method="post" name="loginform">
            Username/Email: <input type="text" name="username" size="20" maxlength="150" value="" tabindex="1"
                                   id="username01"/>
            Password: <input type="password" name="password" size="20" maxlength="150" value="" tabindex="2"
                             id="password01"/>
            <input type="hidden" name="autoLogin" id="autoLogin01" value="true"/>
            <input type="hidden" name="successURL" id="successURL01"
                   value="http://www.eclipsezone.com/eclipse/forums/t99010.html"/>
            
            <a href="javascript:document.loginform.submit()">SIGN IN</a>
        </form>
        
    </div>
</div>

<div id="navcontainer">
	<ul id="nav">
		<li><a href="/">Home</a></li>
		<li><a href="/spotlights.jsp">Features</a></li>
		<li><a href="/eclipse/forums/c5605.html">Forums</a></li>
		<li><a href="/eclipse/forums/f18112.html">Announcements</a></li>
		<li><a href="/nl/index.jsp">Newsletter</a></li>
        <li><a href="/podcasts.jsp">Podcasts</a></li>        
        <li><a href="http://www.javalobby.org/about.jsp">About</a></li>
		<li><a href="/writers.jsp">Write for us</a></li>
	</ul>
	<div style="clear: both;"> </div>
</div>

<div id="topLeaderboard">
    <!-- BEGIN ADVERTPRO ADVANCED CODE BLOCK -->
    
    <SCRIPT language="JavaScript" src="http://avpa.javalobby.org/servlet/view/javascript/zone?zid=56&pid=0&random=68712673" type="text/javascript"></SCRIPT>
<NOSCRIPT>
<IFRAME src="http://avpa.javalobby.org/servlet/view/html/zone?zid=56&pid=0&random=68712673" height="90" width="728" hspace="0" vspace="0" frameborder="0" marginwidth="0" marginheight="0" scrolling="no">
<A href="http://avpa.javalobby.org/servlet/click/zone?zid=56&pid=0&lookup=true&random=68712673" target="_top">
<IMG src="http://avpa.javalobby.org/servlet/view/image/zone?zid=56&pid=0&random=68712673" height="90" width="728" hspace="0" vspace="0" border="0" alt="Click Here!">
</A>
</IFRAME>
</NOSCRIPT>

    <!-- END ADVERTPRO ADVANCED CODE BLOCK -->
</div>

<div id="rightColumn">

<div class="jljive-portlet">
  <div class="header">

    <h1>Latest @ <a href="http://www.dzone.com">
      <img src="/images/std/dzone_130x24.gif" alt="dzone.com: fresh links for developers"
           title="dzone.com: fresh links for developers"
           style="border:none;vertical-align:text-top;padding-top:2px;"></a></h1></div>
  <ul class="dzone">
    
    
      <li>
        <a href="http://feeds.dzone.com/~r/dzone/frontpage/~3/kEUYhHV4IKI/codds_relational_vision_has_nosql_come_full_circle.html" title="Codds Relational Vision: Has NoSQL Come Full Circle?">
        Codds Relational Vision: Has NoSQL Come...</a>
        </li>
    
      <li>
        <a href="http://feeds.dzone.com/~r/dzone/frontpage/~3/AFXtho6U8vk/handling_big_data_with_hbase_part_1_introduction.html" title="Handling Big Data with HBase Part 1: Introduction">
        Handling Big Data with HBase Part 1:...</a>
        </li>
    
      <li>
        <a href="http://feeds.dzone.com/~r/dzone/frontpage/~3/xT7NjEEFS-c/the_future_of_gwt_2013_report.html" title="The Future of GWT 2013 Report">
        The Future of GWT 2013 Report</a>
        </li>
    
      <li>
        <a href="http://feeds.dzone.com/~r/dzone/frontpage/~3/4TTMKiBdiq0/85_redesigns_of_famous_logos_2.html" title="85+ Redesigns of Famous Logos">
        85+ Redesigns of Famous Logos</a>
        </li>
    
      <li>
        <a href="http://feeds.dzone.com/~r/dzone/frontpage/~3/-AD2qLpC7hA/options_for_testing_android_applications.html" title="Options for Testing Android Applications">
        Options for Testing Android Applications</a>
        </li>
    
      <li>
        <a href="http://feeds.dzone.com/~r/dzone/frontpage/~3/5JVRtLralik/kanban_in_action_a_great_experience.html" title="Kanban in Action: a Great Experience">
        Kanban in Action: a Great Experience</a>
        </li>
    
      <li class="last">
        <a href="http://feeds.dzone.com/~r/dzone/frontpage/~3/9kqMeVI5Ibo/optimizing_your_data_visualization_presentation.html" title="Optimizing your data visualization presentation">
        Optimizing your data visualization...</a>
        </li>
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  </ul>

  <div class="footer">
    <img src="/images/std/icons/write_16x16.gif" hspace="0" vspace="0" align="texttop"/>
    <a href="http://www.dzone.com/links/add.html" class="post">Submit a story</a>
    &nbsp;<img src="/images/std/icons/check_16x16.gif" hspace="0" vspace="0" align="texttop"/>
    <a href="http://www.dzone.com/links/queue.html" class="post">Vote on new stories</a>
  </div>
</div>

    
	


<div id="mpu">
<!-- BEGIN ADVERTPRO ADVANCED CODE BLOCK -->
 <SCRIPT language="JavaScript" src="http://avpa.javalobby.org/servlet/view/javascript/zone?zid=54&pid=0&random=96189374" type="text/javascript"></SCRIPT>
<NOSCRIPT>
<IFRAME src="http://avpa.javalobby.org/servlet/view/html/zone?zid=54&pid=0&random=96189374" height="250" width="300" hspace="4" vspace="4" frameborder="0" marginwidth="0" marginheight="0" scrolling="no">
<A href="http://avpa.javalobby.org/servlet/click/zone?zid=54&pid=0&lookup=true&random=96189374" target="_top">
<IMG src="http://avpa.javalobby.org/servlet/view/image/zone?zid=54&pid=0&random=96189374" height="250" width="300" hspace="4" vspace="4" border="0" alt="Support Javalobby, visit our sponsors">
</A>
</IFRAME>
</NOSCRIPT>

 <!-- END ADVERTPRO ADVANCED CODE BLOCK -->
</div> <!-- end mpu DIV -->

<div class="jljive-portlet">

	<div class="header">Forum Controls</div>
		
		

		
		

		
			
		
	<ul>
		













<li><a href="/forums/post!reply.jspa?threadID=99010"
	class="noborder"><img src="/images/std/icons/write_16x16.gif"
	width="16" height="16" border="0"
	alt="Reply to this Thread"></a> 
<a href="/forums/post!reply.jspa?threadID=99010">Reply to this Thread</a></li>


  

<li><a href="/forums/search!default.jspa?objID=f18111"
	class="noborder"><img src="images/search-16x16.gif" width="16"
	height="16" border="0" alt="Search Forum"></a>
 <a
	href="/forums/search!default.jspa?objID=f18111">Search Forum</a></li>







        <li>
            <a href="/eclipse/forums/f18111.html" class="noborder"
             ><img src="images/arrow-left-16x16.gif" width="16" height="16" border="0" alt="Back to Thread List"></a>
            
            <a href="/eclipse/forums/f18111.html"
             >Back to Thread List</a></li>



	</ul>
              <div class="footer">
                
                Whos Online:

                

                
                
                        
                        
                160 guest(s), 0 user(s).

                
                <a href="/forums/online.jspa">More info &raquo;</a>
            </div>

</div>

		<div class="jljive-portlet">
		<div class="header">Spotlight Features</div>
		




<div class="spotlight">


</div>


        <div class="footer"><a href="/spotlights.jsp">Read the Spotlight Archives</a></div>
		</div>

<!-- end rightColumn div --></div>

<div id="leftColumn">
	
		<span class="jljive-paginator">
		
		Replies:
		5 -
		
		Pages:
		1 &nbsp;

		
		</span>
	
	<br>
	
		<span class="jljive-paginator">
			
					
					Threads:
					[
					
							
							<a href="/eclipse/forums/t99303.html"
							 >Previous</a>
					
					|
					
							
							<a href="/eclipse/forums/t98867.html"
							 >Next</a>
					
					]
			
		</span>
	

	<div id="comments">
	<dl>
		

			
				







    

		<div class="rootmsg">
			<div class="rm_header">
				<a name="92161996"></a>
				<div class="msgControls">
                    <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        

                        
                        
                        
                        

                            <td>&nbsp;</td>
                            <td class="jive-icon">
                                <a href="/forums/post!reply.jspa?messageID=92161996" class="noBorder" title="Click to reply to this thread"
                                 ><img src="/images/std/icons/write_16x16.gif" width="16" height="16" border="0" alt="Click to reply to this thread"></a>
                            </td>
                            <td class="jive-icon-label">
                                <a href="/forums/post!reply.jspa?messageID=92161996"
                                 title="Click to reply to this thread"
                                 >Reply</a>
                            </td>

                        
                    </tr>
                    </table>
        </div><h1>Debugging a failed Eclipse launch
</h1>
			
				<h4>At 7:37 PM
				on Jul 18, 2007, <a href="/forums/profile.jspa?userID=183608" class="author">Alex Blewitt</a>
                <img src="/images/status/dz100.gif" alt="DeveloperZone Top 100" title="DeveloperZone Top 100"/>
                 wrote:</h4>
			</div>
			
                    
                    
                        <img class="jive-avatar" src="/forums/avatar-display.jspa?avatarID=21&file=av.png" align="right" hspace="4" vspace="4" border="0" alt="" />
                    
                 Every now and again, questions like "Why doesn't eclipse start?" are posted on the newsgroups, or "The application cannot be found". How do you go about debugging these scenarios? This isn't an exhaustive list, but may be a good place to start.
<br><br>First, some background knowledge. Eclipse uses two writable areas for storing data; a 
<i>configuration
</i> directory (which actually doesn't contain that much other than a 
<code>config.ini
</code> and a few .dlls that have been extracted from bundles) and a 
<i>workspace
</i>, which is usually in 
<code>~/workspace
</code> on Unix and 
<code>c:\Documents and Settings\User\workspace
</code> on Windows. The workspace has two purposes; to act as a default place for any projects you create, and to have a 
<code>.metadata
</code> directory for storing transient files, as well as anything you've configured in the Eclipse preferences, run-time caches, and a bunch of other stuff.
<br><br>The config area is usually pretty harmless; if you delete it, it will get re-created on startup. Once created, it isn't usually changed. There's not usually much benefit in deleting the configuration directory, but there's not usually much harm in it either. A default install from unzipping the distribution from Eclipse doesn't have any configuration directory.
<br><br>When Eclipse starts, it reads two files; 
<code>eclipse.ini
</code> and 
<code>configuration/config.ini
</code>. The former is a list of arguments that get passed to the JVM, whilst the latter is a list of name-value pairs that are set as system properties. If you want to run an Eclipse with an environment value set, you can put it in 
<code>config.ini
</code> as 
<code>org.example=foo
</code> or 
<code>eclipse.ini
</code> as 
<code>-Dorg.example=foo
</code> (after the 'vmargs' flag; if not present, you'll need to add it as an extra arg). Arguments are serparated by newline characters, so you can't put them on the same line. You can also supply these args on the command-line; 
<code>eclipse -vmargs -Dorg.example=foo
</code>.
<br><br>Eclipse logs all its messages to workspace/.metadata/.log. If you're in Unix, these are usually hidden, but they'll be there. Sometimes, when Eclipse isn't starting, it can help to delete this file first so that you're sure that any problems in starting the environment are not just random messages left over from before. 
<br><br>There's a secondary log, generated when Eclipse doesn't even get as far as starting. For example, if you specify a non-existent VM, then it won't get as far as running any Java code. In these cases, you can often find a 
<code>configuration/123456.log
</code> which contains something useful. If Eclipse isn't starting and not generating a workspace/.metadata/.log file, check the configuration directory for anything suspicious. 
<br><br>The most likely scenario is one where the Eclipse VM starts, but then fails to find out what it's supposed to be doing and shuts down again. What to do then?
<br><br>Well, clearly, the log may have some answers. Always a good place to look first, rather than guessing. If you do look and don't understand the output, generally posting the entire stacktrace to the newsgroup isn't the best way of finding out. You can generally find out what's going on just by reading the exception messages; and since Java's nested exception handling prints out the full stacktrace of each, you generally just want to scan down for the 'caused by' message at the top of each nested exception. In most cases, the answer is staring you in the face <img class="jive-emoticon" border="0" src="images/emoticons/happy.gif" alt=":-)">
<br><br>A good comand to run is:
<br><br><code>egrep -A 2 "Caused by:|Exception:" workspace/.metadata/.log
</code><br><br>If you're on a primitive OS without 'egrep' installed by default, use 
<a href="http://www.cygwin.com/">Cygwin
</a> to install that and other useful tools. Other variants of grep will work as well, but you might have to do two separate greps or miss out on the -A 2 (which prints out the two lines After as well).
<br><br>It's 'normal' for there to be some errors in the log that are unrelated, so don't take it as read that that's the cause of the problem. Deleting the log before running will give you an idea of what's new, at least.
<br><br>Some common messages:
<br><br><b>NullPointerException ...
</b><br><br>Oh joy. Nothing much to say here other than the code needs to be more defensive. Still, it's better than segfaulting, huh?
<br><br><b>The bundle could not be resolved. Reason: Missing Constraint ...
</b><br><br>Generally, you've got a newer version of a plug-in without its dependencies. For example, you had 
<code>org.foo.lib-1.0.0
</code> and 
<code>org.foo.app-1.0.0
</code>, and now that you've installed 
<code>org.foo.app-1.0.1
</code> it's stopped working. Chances are, 
<code>org.foo.app-1.0.1
</code> depends on 
<code>org.foo.lib-1.0.1
</code> or greater, and you've not got that installed. Using a kosher update site like Eclipse Europa discovery site shouldn't have these problems, but always something to be aware of.
<br><br><b>java.lang.IllegalStateException: Workbench has not been created yet
</b><br><br>This usually comes when someone tries to run a Java application against an OSGi bundle with 
<code>java -classpath ....
</code>. It really means that the workbench plug-in hasn't started yet, and so calls to 
<code>getWorkbench()
</code> fail. This is essentially a race condition, and can be solved by either expressing an explicit dependency on that bundle or bumping up that bundle to a higher start level than the workbench. Generally not seen, but if it is, that's what's happening.
<br><br><b>Application "foobar" cannot be found in the registry. The applications available are:...
</b><br><br>Either (a) you've mistyped the application ID, or more likely (b) the bundle that contributed the application can't be started. See below.
<br><br><b>One or more bundles are not resolved because the following root constraints are not resolved:
</b><br><br>Again, a problem with dependencies.
<br><br>So, now that we know Eclipse is firing up a JVM, but not able to do anything else, where do we go? Well, time to drop into an OSGi console to find out more, or even look at what's going on in the log. Eclipse has a bunch of 
<a href="http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/misc/runtime-options.html">runtime options
</a>, and here are some of the most important ones:
<br><br><b>-consoleLog
</b><br><br>When starting, dump the messages to the console as well as the .metadata/.log file. Can be quite useful for quickly figuring out what's going on, especially if you don't know where the .metadata/.log file is being written (or assume that it's not being writable)
<br><br><b>-noExit
</b><br><br>Almost as useful as the last. Basically, even if the application can't be found or there's another problem, don't quit the JVM or OSGi engine. Can make the window hang around rather than disappearing on a Windows system.
<br><br><b>-console
</b> or 
<b>-console 1234
</b><br><br>Start up an OSGi console interactively, or via a network socket 1234 (to which you can 'telnet localhost 1234' to gain access). Very useful if you're running on a remote machine or don't have access to the console from where Eclipse is being launched. Can do all manner of commands; see below for more.
<br><br><b>-data /tmp/newplace
</b> or 
<b>-data c:\temp\newplace
</b><br><br>Run Eclipse, but with a workspace that's not the default location. Quite often, if this works but running without doesn't, indicates a problem with the workspace area.
<br><br><b>-clean
</b><br><br>Used to flush out some (but not all) entries in the workspace metadata area. A good thing to try, and generally safe, but doesn't always have the results intended. If you've not got any preferences, it's sometimes better just deleting the workspace/.metadata directly. If you have got prefs, either export them from the Window -&gt; Preferences beforehand, or save *.prefs from the 
<code>.metadata/.plugins/org.eclipse.core.runtime/.settings
</code> directories. Note that there's a bunch of stuff (like CVS repositories) that probably won't get saved like this; but you did take a backup first, right?
<br><br>Windows users might also like to know about 
<code>eclipsec
</code>, which isn't a compiler but rather a version of Eclipse that fires up a console window instead of hiding it away. Most of the time, running these with 
<code>eclipsec
</code> is a good way of figuring out what's going on. Unix users can just use the 
<code>eclipse
</code> one. For Mac users, there's a 
<code>eclipse
</code> command you can access through Terminal instead of double-clicking the 
<code>Eclipse.app
</code>.
<br><br>So, you're through to the OSGi console. When it starts up, it will print out:
<br><br><code>osgi&gt;
</code><br><br>From here, you can start to figure out what's going wrong. Typing '?' or 'help' will give you a list of available commands; if they scroll off the screen, type 'more' and you'll get paginated output.
<br><br>Typing 'ss' (for ShortStatus) brings up a list of bundles that are available; they'll be in ACTIVE (running), RESOLVED (ready to run), STARTING (usually indicates a deadlock or stuck thread if you see that for any length of time) or INSTALLED. The last one is the one to look for; it means that the OSGi environment has found the bundle, but one or more of its dependencies haven't been met. 
<br><br>If you find a bundle in the INSTALLED state, you can use 'diag' (for DIAGnostics) to find out what's missing:
<br><br><pre>osgi&gt; ss
<br>Framework is launched.
<br>id      State       Bundle
<br>0       ACTIVE      org.eclipse.osgi_3.3.0.v20070530
<br>1       ACTIVE      org.eclipse.equinox.common_3.3.0.v20070426
<br> ...
<br>123   INSTALLED org.example.foo_1.0.0
<br>...
<br>osgi&gt; diag 123
<br>update@plugins/org.example.foo_1.0.0.jar [123]
<br>  Missing imported package org.example.bar_0.0.0.
<br>  Missing required bundle org.example.bar.core_0.0.0.
<br></pre><br><br>Quite often, if you've got an application that's not starting, it's because 'org.example.foo' defines the application; but the bundle can't start because it's got missing dependencies. The solution is therefore to resolve those dependencies (by installing a missing bundle or a bundle which exports the given package, and you should be away.
<br><br>You can do this by restarting, or by dynamically adding it in via the console:
<br><br><pre><br>osgi&gt; install <a href="http://www.eclipsezone.com/files/jsig/bundles/HelloWorld.jar" target="_blank">http://www.eclipsezone.com/files/jsig/bundles/HelloWorld.jar</a>
<br>Bundle id is 456
<br>osgi&gt; start 456
<br>Hello OSGi
<br></pre><br><br>You can also stop and start other bundles; once you've brought your dependencies in, you can restart the ones that failed before (e.g. start 123).
<br><br>Occasionally, if the bundle is RESOLVED (i.e. all dependencies are met) but it still can't start (doing start 123 leads to an exception), then it implies the Bundle Activator's 
<code>start()
</code> method has thrown an exception. That's basically either a programming or configuration error, outside the scope of this post. It's not always an error; for example, a plug-in that connects to a DB might (reasonably) be expected to have the property set via a command line property (e.g. -Ddatabase=foo) otherwise it won't work.
<br><br>You can find out if there's a setting using 'getprop' in the console:
<br><br><pre>osgi&gt; getprop osgi.nl
<br>osgi.nl=en_UK
</pre><br><br>and even set it if it doesn't exist:
<br><br><pre>osgi&gt; setprop database=foo
<br>osgi&gt; getprop database
<br>database=foo
<br></pre><br><br>Of course, you can then do 'start 456' to see if the activator now works.
<br><br>There's a bunch of other things you can do in the console; for example, if you wanted to see what application extension points were being contributed, you can do:
<br><br><pre>osgi&gt; pt org.eclipse.core.runtime.applications
<br>osgi&gt; pt org.eclipse.core.runtime.applications
<br>Extension point: org.eclipse.core.runtime.applications [from org.eclipse.equinox.app]
<br>Extension(s):
<br>-------------------
<br>org.eclipse.ant.core.antRunner [from org.eclipse.ant.core]
<br>...
<br>org.eclipse.help.base.helpApplication [from org.eclipse.help.base]
<br>...
<br></pre><br><br>You can also find out what extension points are contributed by a bundle:
<br><br><pre>osgi&gt; ns org.eclipse.help
<br>Extension point(s):
<br>-------------------
<br>org.eclipse.help.contentExtension [from org.eclipse.help]
<br>org.eclipse.help.contentProducer [from org.eclipse.help]
<br>org.eclipse.help.contexts [from org.eclipse.help]
<br>org.eclipse.help.index [from org.eclipse.help]
<br>org.eclipse.help.toc [from org.eclipse.help]
<br></pre><br><br>At least doing this will give you confidence that any extension points you've used will be contributed in the list somewhere. If not (or you have something like 'org.example.foo.org.example.foo.FooApp') then at least you can start debugging somewhere.
<br><br>The last kind of error is more subtle to fix. If you see a message in the log like 
<br><code>The activator org.example.FooActivator for bundle org.example.foo is invalid
</code>, then this usually means there has been a 
<code>ClassNotFoundException
</code> trying to load the class in the first place, before it's even got to the 
<code>start()
</code> method. 
<br><br>CNFE is the bane of debugging; the only thing I can say is that it gets easier with practice. A key thing to understand is that if you have a class Foo, and that class references Bar as any kind of method parameter, return type or field type, then in order to load Foo, Bar must also be loaded. This is transitive, so if Bar needs to be loaded, then so does Flubber, and so on. Unfortuantely, when you hit a missing class, the actual class that can't be found is lost in the message and you just get back "Class Foo cannot be found", when clearly it can. Very often, the PDE will give you warnings when you're running into these problems at development time, but sometimes they can make their way past you and into a runtime bundle. Unfortunately, you have to go back to the code to figure it out.
<br><br>In a bunch of cases, this has been caused by a developer adding a Jar to a Project's Java Build Path and not the OSGi Manifest dependencies. If you have (say) JUnit.jar added onto the build path, then the project will compile, but at run-time your activator will only consult the Bundle-ClassPath to find code. If it can't find JUnit.jar on that path, it will give up and give you the CNFE. The other possibility is that the Bundle-ClassPath either doesn't contain '.' (for classes in the bundle) or it does contain '.,JUnit.jar' but when exporting, the JUnit.jar is missing from the bundle itself. If it's the latter, check the entries in build.properties, and ensure that 'bin.includes=JUnit.jar' is in there. Very often, exporting the bundle and then opening it in WinZip will give you a clue as to what you expected to be in there (but wasn't) and/or consulting what the Bundle-ClassPath is in relation to the contents of the bundle itself.
<br><br>So, whilst I don't think this will prevent any more questions being posted to the newsgroups in the future, at least it will be somewhere to point people to when they get stuck for reference. If you're experienced at debugging Eclipse startup problems and have any ideas that I've missed, please add comments to the below for the benefit of others. And if you find any glaring errors I've made, please add a comment so I can fix it <img class="jive-emoticon" border="0" src="images/emoticons/happy.gif" alt=":-)">
<br><br>I hope you've found this useful. Until next time,
<br><br>Alex.

			<div class="rm_footer">
				         <!-- BEGIN ADVERTPRO ADVANCED CODE BLOCK -->
<a href="http://avpa.javalobby.org/servlet/click/zone?zid=72&pid=0&lookup=true&position=1" target="_top">
<img src="http://avpa.javalobby.org/servlet/view/banner/image/zone?zid=72&pid=0&position=1" height="60" width="234" hspace="0" vspace="4" align="right" border="0" alt="Click Here!">
</a>   <!-- END ADVERTPRO ADVANCED CODE BLOCK -->
				
				<h3>5 replies
					
							 so far
							
							<span class="postYours">(<a href="/forums/post!reply.jspa?threadID=99010" style="border:none"
							 ><img src="/images/std/icons/write_16x16.gif" title="Reply to this Thread"
							 width="16" height="16" ></a>
							<a href="/forums/post!reply.jspa?threadID=99010"
							 >Post your own</a>)</span>
					
				</h3>
				
		</div>
		</div>

        	
	

        
            

		

			
				







    

		<a name="92162135"></a>
    <dt id="reply1" class="alt"><div class="msgControls">
                    <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        

                        
                        
                        
                        

                            <td>&nbsp;</td>
                            <td class="jive-icon">
                                <a href="/forums/post!reply.jspa?messageID=92162135" class="noBorder" title="Click to reply to this thread"
                                 ><img src="/images/std/icons/write_16x16.gif" width="16" height="16" border="0" alt="Click to reply to this thread"></a>
                            </td>
                            <td class="jive-icon-label">
                                <a href="/forums/post!reply.jspa?messageID=92162135"
                                 title="Click to reply to this thread"
                                 >Reply</a>
                            </td>

                        
                    </tr>
                    </table>
        </div><a href="#92162135" class="postno" title="Permlink to this reply">1.</a>
		<span class="replyInfo">At 11:07 AM
		on Jul 19, 2007, <a href="/forums/profile.jspa?userID=236725" class="author">Robert Elves</a>
                <img src="/images/status/3bluestars.gif" alt="Occasional Javalobby Visitor" title="Occasional Javalobby Visitor"/>
                 wrote:</span>
	</dt>
	<dd class="alt">
		<h3>Re: Debugging a failed Eclipse launch
</h3>
		<font color="#660066">&gt; If you've not got any preferences, it's sometimes better just deleting the workspace/.metadata directly.</font>
<br><br>Note that if you're using the Mylyn Task List [1] your task data is stored in 
/.metadata/.mylyn. Something to consider before deleting the .metadata folder completely.
<br><br>[1] <a href="http://eclipse.org/mylyn" target="_blank">http://eclipse.org/mylyn</a>

		
        
	</dd>
	
		
	


			

		

			
				







    

		<a name="92162142"></a>
    <dt id="reply2" class="alt2"><div class="msgControls">
                    <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        

                        
                        
                        
                        

                            <td>&nbsp;</td>
                            <td class="jive-icon">
                                <a href="/forums/post!reply.jspa?messageID=92162142" class="noBorder" title="Click to reply to this thread"
                                 ><img src="/images/std/icons/write_16x16.gif" width="16" height="16" border="0" alt="Click to reply to this thread"></a>
                            </td>
                            <td class="jive-icon-label">
                                <a href="/forums/post!reply.jspa?messageID=92162142"
                                 title="Click to reply to this thread"
                                 >Reply</a>
                            </td>

                        
                    </tr>
                    </table>
        </div><a href="#92162142" class="postno" title="Permlink to this reply">2.</a>
		<span class="replyInfo">At 7:09 PM
		on Jul 19, 2007, <a href="/forums/profile.jspa?userID=183608" class="author">Alex Blewitt</a>
                <img src="/images/status/dz100.gif" alt="DeveloperZone Top 100" title="DeveloperZone Top 100"/>
                 wrote:</span>
	</dt>
	<dd class="alt2">
		<h3>Re: Debugging a failed Eclipse launch
</h3>
		And this is in fact a good thing. If you can't start up Eclipse, or there's horrible performance, getting rid of stuff (including Mylyn)'s cache can improve the startup experience.
<br><br>But you're right -- if you drop the .metadata directory, you lose a lot of stuff. Something to be aware of.
<br><br>Alex.

		
        
	</dd>
	
		
	


			

		

			
				







    

		<a name="92173556"></a>
    <dt id="reply3" class="alt"><div class="msgControls">
                    <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        

                        
                        
                        
                        

                            <td>&nbsp;</td>
                            <td class="jive-icon">
                                <a href="/forums/post!reply.jspa?messageID=92173556" class="noBorder" title="Click to reply to this thread"
                                 ><img src="/images/std/icons/write_16x16.gif" width="16" height="16" border="0" alt="Click to reply to this thread"></a>
                            </td>
                            <td class="jive-icon-label">
                                <a href="/forums/post!reply.jspa?messageID=92173556"
                                 title="Click to reply to this thread"
                                 >Reply</a>
                            </td>

                        
                    </tr>
                    </table>
        </div><a href="#92173556" class="postno" title="Permlink to this reply">3.</a>
		<span class="replyInfo">At 2:05 PM
		on Sep 21, 2007, <a href="/forums/profile.jspa?userID=247829" class="author">William Morgan</a>
                <img src="/images/status/star_yellow_new.gif" alt="Javalobby Newcomers" title="Javalobby Newcomers"/>
                 wrote:</span>
	</dt>
	<dd class="alt">
		<h3>Re: Debugging a failed Eclipse launch
</h3>
		Maybe you can help me. I have the dreaded NCDF error. But, I'm not a JAVA programmer. I'm just using Photran with Eclipse to write some numerical Fortran routines. I don't work with classes, bundles, or any of that stuff - I don't even know what they are really. So, the only thing I could have done to cause the error is update my Java installation, or update Photran, although I don't remember doing either of those since the last time Eclipse was working. B
<br><br>Here is the output of &gt;egrep -A 2 "Caused by:|Exception:" /usr/lib/eclipse/configuration/1190397100627.log
<br><br>org.osgi.framework.BundleException: The activator org.eclipse.ui.internal.WorkbenchPlugin for bundle org.eclipse.ui.workbench is invalid
<br>        at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:141)
<br>        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:962)
<br>--
<br>Caused by: java.lang.NoClassDefFoundError: org/eclipse/swt/SWTError
<br>        at java.lang.Class.getDeclaredConstructors0(Native Method)
<br>        at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)
<br>--
<br>org.osgi.framework.BundleException: The activator org.eclipse.ui.internal.ide.IDEWorkbenchPlugin for bundle org.eclipse.ui.ide is invalid
<br>        at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:141)
<br>        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:962)
<br>--
<br>Caused by: java.lang.NoClassDefFoundError: org/eclipse/ui/plugin/AbstractUIPlugin
<br>        at java.lang.ClassLoader.defineClass1(Native Method)
<br>        at java.lang.ClassLoader.defineClass(ClassLoader.java:620)
<br>--
<br>org.eclipse.core.runtime.CoreException: Plug-in org.eclipse.ui.ide was unable to load class org.eclipse.ui.internal.ide.IDEApplication.
<br>        at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.throwException(RegistryStrategyOSGI.java:165)
<br>        at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:149)
<br>--
<br>org.eclipse.core.runtime.CoreException[1]: java.lang.ClassNotFoundException: org.eclipse.ui.internal.ide.IDEApplication
<br>        at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:402)
<br>        at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:347)
<br>------------------------------------------
<br><br>Here is the start of the log:
<br><br>eclipse.buildId=M20070212-1330
<br>java.version=1.6.0
<br>java.vendor=Sun Microsystems Inc.
<br>BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US
<br>Command-line arguments:  -os linux -ws gtk -arch x86 -clean
<br><br>!ENTRY org.eclipse.osgi 4 0 2007-09-21 12:19:18.250
<br>!MESSAGE An error occurred while automatically activating bundle org.eclipse.ui.workbench (14).
<br>!STACK 0
<br>org.osgi.framework.BundleException: The activator org.eclipse.ui.internal.WorkbenchPlugin for bundle org.eclipse.ui.workbench is invalid
<br><br><br><br><br>Where do I even start?

		
        
	</dd>
	
		
	


			

		

			
				







    

		<a name="92173670"></a>
    <dt id="reply4" class="alt2"><div class="msgControls">
                    <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        

                        
                        
                        
                        

                            <td>&nbsp;</td>
                            <td class="jive-icon">
                                <a href="/forums/post!reply.jspa?messageID=92173670" class="noBorder" title="Click to reply to this thread"
                                 ><img src="/images/std/icons/write_16x16.gif" width="16" height="16" border="0" alt="Click to reply to this thread"></a>
                            </td>
                            <td class="jive-icon-label">
                                <a href="/forums/post!reply.jspa?messageID=92173670"
                                 title="Click to reply to this thread"
                                 >Reply</a>
                            </td>

                        
                    </tr>
                    </table>
        </div><a href="#92173670" class="postno" title="Permlink to this reply">4.</a>
		<span class="replyInfo">At 3:55 AM
		on Sep 22, 2007, <a href="/forums/profile.jspa?userID=183608" class="author">Alex Blewitt</a>
                <img src="/images/status/dz100.gif" alt="DeveloperZone Top 100" title="DeveloperZone Top 100"/>
                 wrote:</span>
	</dt>
	<dd class="alt2">
		<h3>Re: Debugging a failed Eclipse launch
</h3>
		Looks like there's a serious problem with your installation (But you already guessed that, right? <img class="jive-emoticon" border="0" src="images/emoticons/happy.gif" alt=":-)"> Try running eclipse -clean, and if that doesn't work, re-install your Eclipse. 
<br><br>If you upgraded Photran, and (say) it had a different variant of SWT in there, you might find you have 2 SWT entries in the Eclipse plugins folder. If you had (say) SWT 3.2.1 there for x86-64, and then upgraded and it installed SWT 3.2.2 x86, then it would stop working in this way.
<br><br>Your best bet is probably going to be to re-install Eclipse over the top of the existing directory if you want to continue using Photran.
<br><br>Alex.

		
        
	</dd>
	
		
	


			

		

			
				







    

		<a name="92186263"></a>
    <dt id="reply5" class="alt"><div class="msgControls">
                    <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        

                        
                        
                        
                        

                            <td>&nbsp;</td>
                            <td class="jive-icon">
                                <a href="/forums/post!reply.jspa?messageID=92186263" class="noBorder" title="Click to reply to this thread"
                                 ><img src="/images/std/icons/write_16x16.gif" width="16" height="16" border="0" alt="Click to reply to this thread"></a>
                            </td>
                            <td class="jive-icon-label">
                                <a href="/forums/post!reply.jspa?messageID=92186263"
                                 title="Click to reply to this thread"
                                 >Reply</a>
                            </td>

                        
                    </tr>
                    </table>
        </div><a href="#92186263" class="postno" title="Permlink to this reply">5.</a>
		<span class="replyInfo">At 5:51 PM
		on Dec 4, 2007, <a href="/forums/profile.jspa?userID=261008" class="author">Kim</a>
                <img src="/images/status/star_yellow_new.gif" alt="Javalobby Newcomers" title="Javalobby Newcomers"/>
                 wrote:</span>
	</dt>
	<dd class="alt">
		<h3>Re: Debugging a failed Eclipse launch
</h3>
		_JAVA_OPTIONS was my issue.  Some other application had inserted some options in my _JAVA_OPTIONS environment variable so eclipse wouldn't launch.
<br><br>Using eclipsec helped to track that down.
<br><br>Thank you!

		
        
	</dd>
	
		
	


			

		
	</dl>
	</div>

</div>

<div class="jive-message-list-footer">
	
		<span class="jljive-paginator">
		
		Replies:
		5 -
		
		Pages:
		1 &nbsp;

		
		</span>
	
	
		<span class="jljive-paginator">
			
					
					Threads:
					[
					
							
							<a href="/eclipse/forums/t99303.html"
							 >Previous</a>
					
					|
					
							
							<a href="/eclipse/forums/t98867.html"
							 >Next</a>
					
					]
			
		</span>
	
</div>


    <br>
    <a href="/rss/rssmessages.jspa?threadID=99010"
    title="Point your RSS reader here for a feed of the latest messages in this thread"><img src="images/rss-24x16.gif"
    width="24" height="14" border="0" alt="thread.rss_message"></a>


<!-- layers that slide go here.
		 Be sure to include id for each layer in style sheet in head -->
<div id="glideDiv0">
	
			
			<a href="/forums/post!reply.jspa?threadID=99010"
			 ><img src="/images/std/icons/write.gif" title="Reply to this Thread"
			 width="24" height="24" align="right"></a>
	

	
	<a href="/"
	><img src="/images/std/icons/home.gif" title="Home"
		width="24" height="24" align="right"></a>

	
	<a href="/eclipse/forums/f18111.html"
	><img src="/images/std/icons/folder_up.gif" title="Up to Thread List"
		width="24" height="24" align="right"></a>

	
	
			
			<a href="/eclipse/forums/t98867.html"
			 ><img src="/images/std/icons/next_thread.gif" title="Next Thread" width="24" height="24" align="right"></a>
	

	
	
			<img src="/images/std/icons/next_messages_off.gif" title="No Additional Replies" width="24" height="24" align="right">
	

	
	
			<img src="/images/std/icons/prev_messages_off.gif" title="No Previous Replies" width="24" height="24" align="right">
	

	
	
			<a href="/eclipse/forums/t99303.html"
			 ><img src="/images/std/icons/prev_thread.gif" title="Previous Thread" width="24" height="24" align="right"></a>
	

	
	
			<img src="/images/std/icons/write_off.gif" title="No Email this thread to a friend" width="24" height="24" align="right">
	
	
</div>
<br/><br/>

<div id="footer">
    <!-- BEGIN ADVERTPRO ADVANCED CODE BLOCK -->
    
    <!-- END ADVERTPRO ADVANCED CODE BLOCK -->
    <a href="http://www.spreadfirefox.com/?q=affiliates&amp;id=29092&amp;t=64" class="noborder"><img border="0"
                                                                                                     alt="Get Firefox!"
                                                                                                     title="Get Firefox!"
                                                                                                     src="/images/logos/firefox.gif"/></a>
    &nbsp;<a href="http://www.jivesoftware.com/poweredby?src=javalobby" style="font-size: 11px">Powered by Jive
    Software</a> &nbsp; <a href="http://www.caucho.com"><img border="0"
                             alt="Powered by Caucho Resin!"
                             title="Powed by Caucho Resin!"
                             src="/images/logos/resin-powered.gif"/></a>
	
<br>
<span style="font-size: 50%">Eclipse(TM) is a registered trademark of the Eclipse Foundation</span>
    <!-- end footer div--></div>

<!-- end wrap_inner div--></div>
<!-- end wrap_outer div--></div>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-410289-5";
urchinTracker();
</script>
<!-- Start Quantcast tag -->
<script type="text/javascript" src="http://edge.quantserve.com/quant.js"></script>
<script type="text/javascript">
_qacct="p-ebK_XdQH1HeLo";quantserve();</script>
<noscript>
<img src="http://pixel.quantserve.com/pixel/p-ebK_XdQH1HeLo.gif" style="display: none" height="1" width="1" alt="Quantcast"/></noscript>
<!-- End Quantcast tag -->

</body>
</html>
