<!DOCTYPE html>
<html class="topics_find controller_topics" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="language" content="en">
    
    <title>Greenfoot | Discuss |  java.lang.OutOfMemoryError: Java heap space</title>
    
    <!-- Font for code -->
    <link  href="http://fonts.googleapis.com/css?family=Droid+Sans+Mono:regular&amp;v1" rel="stylesheet" type="text/css" >

    <link href="http://www.greenfoot.org/stylesheets/SyntaxHighlighter.min.css?1345205134" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://www.greenfoot.org/stylesheets/style.css?1368533305" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://www.greenfoot.org/stylesheets/new_style.css?1369739119" media="screen" rel="stylesheet" type="text/css" />

    <!-- deal with noscript, must be after above styles -->
    <noscript><link href="http://www.greenfoot.org/stylesheets/noscript.css?1345205134" media="screen" rel="stylesheet" type="text/css" /></noscript>

    <!--[if IE]><link href="http://www.greenfoot.org/stylesheets/ie.css?1345205134" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if gte IE 9]><link href="http://www.greenfoot.org/stylesheets/ie9.css?1345205134" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if lte IE 8]><link href="http://www.greenfoot.org/stylesheets/ie8.css?1345205134" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if lte IE 7]><link href="http://www.greenfoot.org/stylesheets/old_browser.css?1345205134" media="screen" rel="stylesheet" type="text/css" /><![endif]-->

    <link rel="shortcut icon" href="http://www.greenfoot.org/images/favicon.ico?1345204192">
    <link rel="apply-touch-icon" href="http://www.greenfoot.org/images/favicon.png?1345204192">

    

    

    <!-- IE 8 and below HTML5 fixes -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <!--[if lte IE 7]><div id="old_browser">
  <p>You are running a really old browser, please upgrade!</p>
  <p>
    Suggestions include: <a href="http://www.beautyoftheweb.com/">IE 9</a>, <a href="http://www.google.com/chrome">Google Chrome</a> or <a href="http://www.mozilla.com/">Mozilla FireFox</a>.
  </p>
</div><![endif]-->

  <body>
    <div id="javascript_required" class="noscript_block">This site requires JavaScript, please enable it in your browser!</div>
    <div id="outer_wrap">
      <div id="topbar">
        <div class="back">
          <img alt="Greenfoot_back" src="http://www.greenfoot.org/images/greenfoot_back.png?1345204192" />
          <div class="gradient"></div>
        </div>
        <div class="main">
          

<div id="gallery_logo">
  <a class="link" href="/home">
    <h2>Greenfoot</h2>
    
  </a>
</div>
          
          
  <div class="login">
    <form action="/account/authenticate" method="post">      <input id="login_return_url" name="login_return_url" type="hidden" value="/topics/find/11565" />

      <div class="fields">
        <div class="field first">
          <label class="username" for="username">Username</label>
          <img alt="Top_input" class="username" src="http://www.greenfoot.org/images/top_input.png?1345204192" />
          <input id="user_username" name="user[username]" size="30" tabindex="1" type="text" value="" />
        </div>

        <div class="field last">
          <label class="password" for="password">Password</label>
          <img alt="Top_input" class="password" src="http://www.greenfoot.org/images/top_input.png?1345204192" />
          <input id="user_password" name="user[password]" size="30" tabindex="2" type="password" />
        </div>
      </div>

      <div class="controls ">
        

        <div class="remember">
          <label class="remember" for="remember">Remember Me?</label>
          <input type="checkbox" name="remember" tabindex="3">
        </div>

        <input class="submit" name="commit" tabindex="4" type="submit" value="Login" />
        
        
          <a class="signup" href="/account/login" tabindex="5">Sign Up, Lost Password</a>
        
        
      </div>
    </form>
  </div>


          <a id="twitter_link" class="hover" href="http://twitter.com/#!/GreenfootTeam" target="_blank">
  <img alt="Twitter" src="http://www.greenfoot.org/images/twitter.png?1345204192" />
  <img alt="Twitter" class="hover" src="http://www.greenfoot.org/images/twitter.hover.png?1345204191" />
</a>

          

          
            <div class="searchbox front">
  <form action="/search" autocomplete="off" id="search_box_form" method="get">
    
      <input class="query start" data-start_value="Search ..." id="query" name="query" size="15" type="text" value="Search ..." />
    

    <input class="submit" name="commit" type="submit" value="" />
  </form>
</div>
            
            <div id="tabs">
              <div class="link activity"><a href="/home"><h3>Activity</h3></a></div>
              <div class="link overview"><a href="/overview"><h3>About</h3></a></div>
              <div class="link tutorials"><a href="/doc"><h3>Documentation</h3></a></div>
              <div class="link download_link"><a href="/download"><h3>Download</h3></a></div>
              <div class="link topics_link"><a href="/topics"><h3>Discuss</h3></a></div>
              <div class="link scenarios_link"><a href="/scenarios"><h3>Scenarios</h3></a></div>
            </div>
          
        </div>
      </div>

      <div id="wrap">
        <div class="background">
          <div class="main">
          
            <!-- BEGIN VIEW -->
            
                                    <a class="back" href="/topics">Back to discussions</a>

<div class="main_header">
  

<div class="avatar_bar wrote">
    
<a class="avatar_wrap thumbnail " href="http://www.greenfoot.org/users/9127" ><img alt="Loading_thumb" src="http://www.greenfoot.org/photo_attachments/0000/4176/loading_thumb.JPG?1345205225" /></a>
    <div class="avatar_heading"><a href="http://www.greenfoot.org/users/9127">sparrow72</a> wrote ...
    <p style="font-size:60%; margin-bottom: 0; margin-top: -0.5em">2012/7/25</p></div>
</div>

</div>






<h2 class="title"> java.lang.OutOfMemoryError: Java heap space</h2>




<div class="posts">
  
<div id="post_11556"
    class="text_block post  first greenfoot"
    
>
  <div class="info">
    
<a class="avatar_wrap  " href="http://www.greenfoot.org/users/9127" ><img alt="Loading" src="http://www.greenfoot.org/photo_attachments/0000/4176/loading.JPG?1345205225" /></a>
    
      <a href="http://www.greenfoot.org/users/9127" class="username">sparrow72</a>
    

    
      <p class="date">2012/7/25</p>

      <div class="controls">
        

        
      </div>
    
  </div>

  
  <div class="content">
    <div class="tail"></div>
	
      <div class="label"></div>
        
    <div class="body"><div class="content_sandbag"></div>these are the errors I keep on getting:
Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space
Exception in thread &quot;RMI TCP Connection(3)-127.0.0.1&quot; java.lang.OutOfMemoryError: Java heap space
Exception in thread &quot;RMI RenewClean-[127.0.0.1:62541]&quot; java.lang.OutOfMemoryError: Java heap space
Exception in thread &quot;RMI TCP Connection(idle)&quot; java.lang.OutOfMemoryError: Java heap space



I have several menu actors all with the same code except with different names, my question is  how to avoid the heap space error, and is it a code problem or something else?
<div class="bb_code_wrap"><textarea name="code" class="java">import greenfoot.*;  // (World, Actor, GreenfootImage, Greenfoot and MouseInfo)
import java.awt.Color;
/**
 * Write a description of class Levels here.
 * 
 * @author (your name) 
 * @version (a version number or a date)
 */
public class Levels extends Buttons
{
    private static final Color transparent = new Color(0,0,0,0);
    private GreenfootImage background;
    /**
     * Create a new counter, initialised to 0.
     */
    public Levels()
    {
        background = getImage();  // get image from class
        setImage(&quot;invisoButton.png&quot;);
        
        updateImage();
    }

    /**
     * Act - do whatever the Levels wants to do. This method is called whenever
     * the 'Act' or 'Run' button gets pressed in the environment.
     */
    public void act() 
    {
        click();

    }    
    public void click() 
    {

        if (Greenfoot.mouseClicked(this))
        {

            getWorld().removeObjects(getWorld().getObjects(Controls.class)); 
            getWorld().removeObjects(getWorld().getObjects(Credits.class)); 
            getWorld().removeObjects(getWorld().getObjects(Settings.class)); 

            Level1 level1 = new Level1();
            getWorld().addObject(level1, 100, 375);

            Ready ready = new Ready();
            getWorld().addObject(ready, 500, 375);

            Back back = new Back();
            getWorld().addObject(back, 100, 375);

            setLocation(175, 75);

        }    
    }

    /**
     * Update the image on screen to show the current value.
     */
    private void updateImage()
    {
        GreenfootImage image = new GreenfootImage(background);
        GreenfootImage text = new GreenfootImage(&quot;Levels&quot;, 44, Color.BLACK, transparent);
        image.drawImage(text, (image.getWidth()-text.getWidth())/2,(image.getHeight()-text.getHeight())/2);
        setImage(image);
    }

}    </textarea></div>

Thanks! :)</div>
  </div>
  
</div>

<div id="post_11558"
    class="text_block post   greenfoot"
    
>
  <div class="info">
    
<a class="avatar_wrap  " href="http://www.greenfoot.org/users/2991" ><img alt="Fractal_r3800c0s800f10000t0z80x0y0" src="http://www.greenfoot.org/photo_attachments/0000/8860/fractal_r3800c0s800f10000t0z80x0y0.png?1385078025" /></a>
    
      <a href="http://www.greenfoot.org/users/2991" class="username">danpost</a>
    

    
      <p class="date">2012/7/26</p>

      <div class="controls">
        

        
      </div>
    
  </div>

  
  <div class="content">
    <div class="tail"></div>
	    
    <div class="body">Chances are, there is a problem with your code; however, it is probably not in this class, but, maybe in your world class.  Also, is there not more to the error message you are getting? I somehow cannot believe that what you posted was the entire message and it helps to show all of it.</div>
  </div>
  
</div>

<div id="post_11560"
    class="text_block post   greenfoot"
    
>
  <div class="info">
    
<a class="avatar_wrap  " href="http://www.greenfoot.org/users/8701" ><img alt="Night_sky" src="http://www.greenfoot.org/photo_attachments/0000/4050/night_sky.png?1345205223" /></a>
    
      <a href="http://www.greenfoot.org/users/8701" class="username">gusbus123</a>
    

    
      <p class="date">2012/7/26</p>

      <div class="controls">
        

        
      </div>
    
  </div>

  
  <div class="content">
    <div class="tail"></div>
	    
    <div class="body">it could probrably be cause your code for creating the object is repeatedly adding the same object over and over again in the same spot. This would make u run out of memory as there are too many actors within the world for your computer to keep it running.

Not in this part of code but probs others.</div>
  </div>
  
</div>

<div id="post_11561"
    class="text_block post   greenfoot"
    
>
  <div class="info">
    
<a class="avatar_wrap  " href="http://www.greenfoot.org/users/9127" ><img alt="Loading" src="http://www.greenfoot.org/photo_attachments/0000/4176/loading.JPG?1345205225" /></a>
    
      <a href="http://www.greenfoot.org/users/9127" class="username">sparrow72</a>
    

    
      <p class="date">2012/7/26</p>

      <div class="controls">
        

        
      </div>
    
  </div>

  
  <div class="content">
    <div class="tail"></div>
	    
    <div class="body">the actual error was continuing to add to its self for about 10min before i just copied it all and deleted repeat lines

I also think that the adding the same object over and over was the problem, because I finally did notice it, but forgot to look in the menu class (the only thing that the background makes, and it constructs the entire menu) had everything it was suppose to create in the act method. 

Thanks for the help guys!
                    =D</div>
  </div>
  
</div>

<div id="post_11562"
    class="text_block post   greenfoot"
    
>
  <div class="info">
    
<a class="avatar_wrap  " href="http://www.greenfoot.org/users/9127" ><img alt="Loading" src="http://www.greenfoot.org/photo_attachments/0000/4176/loading.JPG?1345205225" /></a>
    
      <a href="http://www.greenfoot.org/users/9127" class="username">sparrow72</a>
    

    
      <p class="date">2012/7/26</p>

      <div class="controls">
        

        
      </div>
    
  </div>

  
  <div class="content">
    <div class="tail"></div>
	    
    <div class="body">ok so I fixed everything but now I am getting a new error I have never seen before,
<div class="bb_code_wrap"><textarea name="code" class="java">java.lang.NullPointerException
</textarea></div>
the error is stated on the line 
<div class="bb_code_wrap"><textarea name="code" class="java">getWorld().addObject(levels, 175, 75);</textarea></div>
I looked for any null anything and nothing is. so how do i fix it?</div>
  </div>
  
</div>

<div id="post_11563"
    class="text_block post   greenfoot"
    
>
  <div class="info">
    
<a class="avatar_wrap  " href="http://www.greenfoot.org/users/2991" ><img alt="Fractal_r3800c0s800f10000t0z80x0y0" src="http://www.greenfoot.org/photo_attachments/0000/8860/fractal_r3800c0s800f10000t0z80x0y0.png?1385078025" /></a>
    
      <a href="http://www.greenfoot.org/users/2991" class="username">danpost</a>
    

    
      <p class="date">2012/7/26</p>

      <div class="controls">
        

        
      </div>
    
  </div>

  
  <div class="content">
    <div class="tail"></div>
	    
    <div class="body">The object that spawns 'levels' is not in the world.  You either already had it removed or, more probably, you put the line in question in a constructor, where the object has not yet been added to the world (or you just forgot to add the object into the world, which I doubt would be the case).</div>
  </div>
  
</div>

<div id="post_11564"
    class="text_block post   greenfoot"
    
>
  <div class="info">
    
<a class="avatar_wrap  " href="http://www.greenfoot.org/users/9127" ><img alt="Loading" src="http://www.greenfoot.org/photo_attachments/0000/4176/loading.JPG?1345205225" /></a>
    
      <a href="http://www.greenfoot.org/users/9127" class="username">sparrow72</a>
    

    
      <p class="date">2012/7/26</p>

      <div class="controls">
        

        
      </div>
    
  </div>

  
  <div class="content">
    <div class="tail"></div>
	    
    <div class="body">ok so how come when I have
<div class="bb_code_wrap"><textarea name="code" class="java">public class Level1 extends Levels</textarea></div>
and
<div class="bb_code_wrap"><textarea name="code" class="java">getWorld().removeObjects(getWorld().getObjects(Levels.class));</textarea></div>
in side of 'Levels' right after creating 'Level1' it deletes the 'Level1'?</div>
  </div>
  
</div>

<div id="post_11565"
    class="text_block post   greenfoot"
    
>
  <div class="info">
    
<a class="avatar_wrap  " href="http://www.greenfoot.org/users/2991" ><img alt="Fractal_r3800c0s800f10000t0z80x0y0" src="http://www.greenfoot.org/photo_attachments/0000/8860/fractal_r3800c0s800f10000t0z80x0y0.png?1385078025" /></a>
    
      <a href="http://www.greenfoot.org/users/2991" class="username">danpost</a>
    

    
      <p class="date">2012/7/26</p>

      <div class="controls">
        

        
      </div>
    
  </div>

  
  <div class="content">
    <div class="tail"></div>
	    
    <div class="body">When you delete all objects of a class, you are also deleting all objects that are sub-classes of that class.  Since Level1 extends Levels, Level1 is an instance of Levels, but more specifically, an instance of Level1.
I have never tried anything like this, but maybe you can use a List method to remove 'this' within the parameter?
[code]getWorld().removeObjects(getWorld().getObjects(Levels.class).remove(this));[code]Looking at the documentation, seems to me, it might work.</div>
  </div>
  
</div>

</div>

<div class="reply">
  
    <div class="notice">You need to login to post a reply</div>
  
</div>


            
            <!-- END VIEW -->
              
            <footer>
              <div class="topLine"></div>
              
              <div class="sponsors">
	            <div class="info"><a class="about_link" href="/about">About</a>, Supported By</div>
                <a href="http://www.kent.ac.uk/" class="sponsor kent">
                  <img alt="University of Kent" src="http://www.greenfoot.org/images/logos/kent-logo-transparent.png?1345204190" />
                </a>
                <a href="http://www.oracle.com/" class="sponsor oracle">
                  <img alt="Oracle" src="http://www.greenfoot.org/images/logos/oracle_logo.png?1345204190" />
                </a>
              </div>
            </footer>
          </div>
        </div>
      </div>
    </div>

    <!-- These are hidden, until shown by JS -->
    <div id="modal_back"></div>
    <div id="modal_box">
      <a href="#" class="close_wrap">
        <p class="close">X</p>
      </a>
      <div class="modal_content"></div>
    </div>

    <div id="caption_popup">
      <div class="text"></div>
      <div class="arrow"></div>
    </div>

  <script src="/javascripts/jquery-1.6.4.min.js"></script>

  <!-- JavaScript's should always be at the bottom! -->
  <script defer="defer" src="http://www.greenfoot.org/javascripts/green.js?1345204195" type="text/javascript"></script>
  <script defer="defer" src="http://www.greenfoot.org/javascripts/bb_code.js?1345204195" type="text/javascript"></script>
  <script defer="defer" src="http://www.greenfoot.org/javascripts/shCore.min.js?1345204195" type="text/javascript"></script>
  <script defer="defer" src="http://www.greenfoot.org/javascripts/shBrushJava.js?1345204195" type="text/javascript"></script>
  <script defer="defer" src="http://www.greenfoot.org/javascripts/shBrushXml.js?1345204195" type="text/javascript"></script>
  <script defer="defer" src="http://www.greenfoot.org/javascripts/application.js?1348574200" type="text/javascript"></script>

  
    <!-- Analytics -->
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-301920-5");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>
  

  </body>
</html>
