<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<style type="text/css">
@import url( /templates/default/mobile/styles/mobile.css?1386831159603 ) ;
</style>

<meta name="viewport" content="width = 320" />

<title>java.net.UnknownHostException (Sockets and Internet Protocols forum at JavaRanch)</title>
<link rel="canonical" href="http://www.coderanch.com/t/416274/sockets/java/java-net-UnknownHostException"/>
<link rel="alternate" media="handheld" href="http://www.coderanch.com/mobile/t/416274/sockets/java/java-net-UnknownHostException?foo=a">
</head>
<body class="en_US">

<a name="top"></a>
<table cellspacing="0" cellpadding="0" border="0">
    <tr>
        <td align="center">
                <a href="/forums/list"><img
                src="/templates/default/mobile/images/mobile-moose.gif"
                vspace="1" border="0" alt="[Logo]" width="100" height="100" /></a>
		</td>
        <td class="logo" valign="center">
          A friendly place for programming greenhorns!
        <a href="#bottom"><img src="/templates/default/mobile/images/down_arrow.gif" width="10" height="10" alt="Jump to bottom of page" /></a>
        </td>
    </tr>
</table>

<p>
  <a id="register" class="mainmenu" href="/forums/user/insert">Register</a> /
  <a id="login" class="mainmenu" href="/forums/user/login">Login</a>
</p>
<a class="maintitle" href="http://www.coderanch.com/forums">Java Forums</a>



&raquo; <a class="maintitle" href="/forums/c/1/java">Java</a> &raquo;
<a class="maintitle" href="/forums/f-8/sockets">Sockets and Internet Protocols</a>
<div class="subject">java.net.UnknownHostException</div>


  
  <div class="mobilePostBody">
  

  Post by: Prasad Sonawane, Greenhorn<br />
  on <span class="lastPostTime">Nov 05, 2008 00:19:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">hi all...<br />   I am stuck with a problem. In my application i am trying to connect to<br /> the web sites using URL and URLConnection classes of java.net package.<br />   I want to connect to the website through the URL provided and then i am trying to read the contents of the web page. The code is like this :<br /> /****************************************************/<br /> URL url = new URL("http://www.yahoo.com");<br /> URLConnection conn = url.openConnection();<br />  <br /> try{<br /> conn.connect();<br /> System.out.println("URL connected..");<br /> }<br /> catch(UnknownHostException unknown){<br />        System.out.println("Exception while connecting :");<br /> unknown.printStackTrace();<br /> }<br /> <br /> int character;<br /> int contentLength = conn.getContentLength();<br /> System.out.println("contentLength = "+contentLength);<br />  <br /> if(contentLength &gt; 0){<br />         InputStream in = conn.getInputStream();<br /> while((character = in.read()) != -1){<br /> System.out.println((char)character);<br /> }<br /> in.close();<br /> }<br /> /**************************************************************/<br />  <br /> Here above when i use conn.connect() it gives me java.net.UnknownHostException.<br /> (I have also tried using the class HttpURLConnection instead of URLConnection. But still it gives this exception..)<br /> I am worried why this is happening even if i provide a proper URL.<br /> Can some one have solution for this ?<br />  <br /> Thanks in advance..</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: vipin jos, Greenhorn<br />
  on <span class="lastPostTime">Nov 19, 2008 05:35:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Hi,<br />  <br /> Are you working from behind a proxy server?    <img src="http://cache-www.coderanch.com/images/smilies/3b63d1616c5dfcf29f8a7a031aaa7cad.gif" />  <br /> Can you try the same to an intranet URL and let us know the result?</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: ABHINAV KUMAR, Greenhorn<br />
  on <span class="lastPostTime">Aug 03, 2010 00:38:01</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I have the same issue and behind a Proxy server. 
<br /> 
<br /> java.net.UnknownHostException: google.com
<br /> 	at java.net.PlainSocketImpl.connect(Unknown Source)
<br /> 	at java.net.Socket.connect(Unknown Source)
<br /> 	at java.net.Socket.connect(Unknown Source)
<br /> 	at sun.net.NetworkClient.doConnect(Unknown Source)
<br /> 	at sun.net.www.http.HttpClient.openServer(Unknown Source)
<br /> 	at sun.net.www.http.HttpClient.openServer(Unknown Source)
<br /> 	at sun.net.www.http.HttpClient.&lt;init&gt;(Unknown Source)
<br /> 	at sun.net.www.http.HttpClient.New(Unknown Source)
<br /> 	at sun.net.www.http.HttpClient.New(Unknown Source)
<br /> 	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source)
<br /> 	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)
<br /> 	at sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source)
<br /> 	at ScagntJavaHttp.httpMakeRequest(ScagntJavaHttp.java:185)
<br /> 	at test.main(test.java:23)
<br /> 
<br /> 
<br /> Added the following lines of code in order to take care of the proxy server
<br /> 
<br />        <textarea name="code" class="java" cols="60" rows="10">  
                System.setProperty("http.proxyHost","10.196.51.140") ;
                System.setProperty("http.proxyPort", "8080") ;
                String userPassword = "user:password";
                String encoding = new sun.misc.BASE64Encoder().encode (userPassword.getBytes());
                connection.setRequestProperty ("Authorization", "Basic " + encoding);
                connection.setRequestProperty(userPassword, encoding);
       </textarea>
<br /> 
<br /> After adding the above lines of code, I now get ;
<br /> 
<br /> Response Code : 405
<br /> Response Message : Method Not Allowed	
<br /> 
<br /> I tried using POST and GET methods. Both return the same result.
<br /> I use HttpURLConnection class .
<br /> 
<br /> Is there something else that needs to be taken care of ?
<br /> Runnig the code on Eclipse in win XP.
<br /> 
<br /> 
<br /> 
<br /> </span>
    </div>
 <br />



<br />


               <input type="button" value="Reply" onclick="location.href='/forums/posts/reply/0/416274'" />
	

    <input type="button" value="New Topic" onclick="location.href='/jforum?module=posts&amp;action=insert&amp;forum_id=8'" />






<br /><br />


<br />

<div class="gensmall center">
All times above are in ranch (not your local) time.<br />
The current ranch time is <br />
<span class="mobileLabel">Dec 13, 2013 16:54:51</span>.
</div>
<br />
<div>
  <a id="search" href="/forums/search/filters/8"><span class="mobileLabel">Search</span></a>
  |
<a href="/forums/recentTopics/list"><span class="mobileLabel">Recent Topics</span></a>
</div>

 <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ?  "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
 <script type="text/javascript">
    if (typeof _gat !== "undefined") {
        var pageTracker = _gat._getTracker("UA-2371260-2");
        pageTracker._trackPageview();

        dt = new Date();
        pageTracker._setVar("hour: " + dt.getHours());
    }
</script>

<br />
<div>Copyright &copy; 1998-2013 <a href="http://www.javaranch.com/paul-wheaton.jsp">Paul Wheaton</a></div>
<br />
<a name="bottom"></a>
<a href="#top"><img src="/templates/default/mobile/images/up_arrow.gif" width="10" height="10" alt="Jump to top of page" /></a>
<br />
<a href="http://www.coderanch.com/t/416274/sockets/java/java-net-UnknownHostException?nonMobile=true">Or visit our non-mobile (full) site</a>
</body>
</html>
