<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" ><head id="ctl00_Head1"><title>
	How to delect unexpected dead client in wcf duplex - Microsoft Technologies
</title><meta name="google-site-verification" content="Y-ENOpAKGcklVqfQGpS5bv_PJBvXzypdmPMGBPB2To4" /><meta name="y_key" content="608c3968b15ed20a" /><link type="text/css" rel="Stylesheet" href="../HttpCombiner.ashx?s=Set_Css&amp;t=text/css&amp;v=5.51" /><meta name="description" content="Dear all.
At present, I have chat project using WCF duplex. But I have issue related to callback which is implemented in client side. When " /><meta name="keywords" content="How to delect unexpected dead client in wcf duplex, Microsoft Technologies" /></head><body style="margin:0px;"><div><div id="headr-container"><div id="headr"><a href="http://www.Go4Answers.Com" id="ctl00_CH_hlWeby" class="MainTtlLnk"><h1 id="ctl00_CH_h1MainTitle" class="h1MainTtl">Microsoft Technologies Answers</h1></a></div></div><div align="center"></div><div align="center"></div><div align="center"></div><form name="aspnetForm" method="post" action="/Example/delect-unexpected-dead-client-wcf-67814.aspx" id="aspnetForm"><div><input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKMTU2MjU2OTI5MWRkPBGNATfcPFJyHZVI+I/j3Br+vXM=" /></div><div id="content-container" align="center"><div  style="width:960px; float:left; display:block;"><!-- Display Post --><table border="0"><tr><td align="center" colspan="2"></td></tr></table><table border="0" cellpadding="0" width="100%"><tr><td align="left"><span id="ctl00_CC_lblBreadCrum"><a href='/Default.aspx' title='Home'>Home</a>&nbsp;&raquo;&nbsp;<a href='/Default.aspx?CategoryName=Microsoft Technologies' title='View All Post'>Microsoft Technologies</a></span></td><td align="right"><b><a href="http://feeds.feedburner.com/Go4answerscomForumRssFeed" id="ctl00_CC_hlRSSFeed" title="Subscribe RSS Feed" style="margin-right:5px; color:#FF4500" target="_blank">RSS</a></b></td></tr><tr><td colspan="2"><div class="MyBox_NoPadding PR12"><h1 id="ctl00_CC_h1PostTitle" style="display: inline; font-size:x-large">How to delect unexpected dead client in wcf duplex</h1></div></td></tr><tr><td colspan="2"><div id="ctl00_CC_pnlAdBelowTitle" class="MyBox_NoPadding PR2"><div data-type="ad" data-publisher="lqm.go4answers.site" data-zone="ron" data-tags="Sharepoint%202010%2cMOSS%2cSQL%2cWPF%2cSilverlight%2cbiztalk%2cASP.NET%20MVC%2cAzure%2cWCF%2cWindows%2cVisual%20Studio" data-format="728x90"></div></div></td></tr></table><table border="0" cellpadding="0" width="100%"><tr><td valign="top" align="left" style="width:505px;"><div id="ctl00_CC_pnlAdvertisement1"></div><div class="MyBox_NoPadding PR3"><div><table align="left" width="100%"><tr><td><div id="ctl00_CC_pnlAdvertisement2"></div></td><td><div id="ctl00_CC_pnlAdvertisement"></div></td></tr></table></div><div id="ctl00_CC_lblQuestion" class="divContent"><p>Dear all.</p><p>At present, I have chat project using WCF duplex. But I have issue related to callback which is implemented in client side. When client hit disconnect button, it works well, but in case, client crashed for some resaons as disconnecting network, shutdown...
 After that, service dont know client disconnected and remove it form list of online clients.</p><p>Now I want to&nbsp;<strong>detect disconnected client</strong> as fast as possible for any reasons.</p><p>Any body help me .</p><p>&nbsp;</p><p>Thank so much.</p><p>&nbsp;</p></div><div></div><div id="ctl00_CC_pnlAdvertisementQBtm"><div data-type="ad" data-publisher="lqm.go4answers.site" data-zone="ron" data-tags="Sharepoint%202010%2cMOSS%2cSQL%2cWPF%2cSilverlight%2cbiztalk%2cASP.NET%20MVC%2cAzure%2cWCF%2cWindows%2cVisual%20Studio" data-format="300x250"></div></div></div><div><div>
                            &nbsp;
                         </div><div id="ctl00_CC_pnlRepliesCnt" class="MyBox PR11"><h3 id="ctl00_CC_h3RepliesCnt" class="h3AnsCnt">27 Answers Found</h3></div><div>
                            &nbsp;
                         </div><div id="ctl00_CC_pnlGridView"><div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/search-internet-findout-solution-help-256296.aspx'>Answer 1</a></P><p>I have search on the internet, but I didnt findout the best solution, anybody help me to find out the best solution for this project.</p><p>&nbsp;</p><p>Thanks in advance</p></div><div id="ctl00_CC_pnlAdInBetweenAnswer"><div data-type="ad" data-publisher="lqm.go4answers.site" data-zone="ron" data-tags="Sharepoint%202010%2cMOSS%2cSQL%2cWPF%2cSilverlight%2cbiztalk%2cASP.NET%20MVC%2cAzure%2cWCF%2cWindows%2cVisual%20Studio" data-format="300x250"></div></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/service-interface-define-method-enforce-257029.aspx'>Answer 2</a></P><p>Hi ,</p><p>You can write service interface to define a method to enforce the clients to send alive message at a tiny interval continously. If the serice doesn't receive this message at 3 times. Then think that&nbsp;<a href='/Example/crm-rollup-11-outlook-client-download-22093.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;is closed unexpectedly.</p><p>&nbsp;</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/robust-service-ping-client-check-258195.aspx'>Answer 3</a></P>It will be more robust for the service to ping the&nbsp;<a href='/Example/dss-interoperability-other-technologies-26853.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;to check whether it is still there as this will also prevent the channel closing due to a receive timeout. There is no &quot;magic&quot; way for the service to be notified - it only finds out by trying to
 talk to the client and failing</div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/solution-duplex-callbacks-currently-261387.aspx'>Answer 4</a></P><p><span style="font-family:Verdana; color:black; font-size:8pt">Hi All,</span></p><p><span style="font-family:Verdana; color:black; font-size:8pt">I am also looking for the same solution for&nbsp;<a href='/Example/pollingduplexhttpbinding-client-channel-96781.aspx' target='_blank' class='InboundLink'>duplex</a> &nbsp;callbacks.</span></p><p><span style="font-family:Verdana; color:black; font-size:8pt">Currently, I am removing the callback channel information from server side if&nbsp;<a href='/Example/reporting-services-request-permission-105954.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;is not reachable. (I have in memory call back list).</span></p><span style="font-family:Verdana; color:black; font-size:8pt"><p style="margin:0in 0in 0pt"><span style="font-family:Verdana; color:black; font-size:8pt">Implementing Heartbeat messages from server to client and client to server looks more promising option here.</span></p></span><p><span style="font-family:Verdana; color:black; font-size:8pt">Thanks and Regards</span></p><p><span style="font-family:Verdana; color:black; font-size:8pt">Nakul</span></p><p>&nbsp;</p><hr>
Regards, Nakul</div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/nakul-suggest-share-code-solve-problem-261388.aspx'>Answer 5</a></P><p>Hi Nakul!</p><p>Thanks for your suggest,, but can you share for me the code to solve the problem ?</p><p><span style="font-family:Verdana; color:black; font-size:8pt">How to Implement Heartbeat messages from server to&nbsp;<a href='/Example/client-side-validation-client-om-99718.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;and client to server?</span></p><p><span style="font-family:Verdana; color:black; font-size:8pt">Thanks in advance !</span></p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/hi-binding-nettcpbinding-easier-261389.aspx'>Answer 6</a></P><p>Hi,</p><p>What binding you're using? If you use netTcpBinding it'll be easier to get notification at server side. You can store a reference of the Channel and hook the Faulted event handler.</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/hi-implement-idea-craete-thread-timer-261390.aspx'>Answer 7</a></P><p>Hi,</p><p>I am just trying to implement it,,,i have just an idea to craete a thread with some timer running on either side. Client or server.</p><p>So that one heartbeat message can be sent to server at regular interval to make connection live.</p><p>&nbsp;</p><p>&nbsp;</p><hr>
Regards, Nakul</div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/removing-junk-callback-connect-dead-261391.aspx'>Answer 8</a></P><p>For removing a junk callback, when you try to connect a&nbsp;<a href='/Example/deadlock-cscexe-xmlserializer-8898.aspx' target='_blank' class='InboundLink'>dead</a> &nbsp;client callback&nbsp;you get a communication exception.</p><p>Just remove that callback channel from the list.</p><p>It depends upon your implementation, I am using static dictionry for storing call back channel informtion.</p><p>You can also keep a static list of the number of fault per callback channel, if it exceeds a spcific limit you can delete that channel.</p><p>Regards</p><p>Nakul</p><p>&nbsp;</p><hr>
Regards, Nakul</div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/remove-client-base-communication-266394.aspx'>Answer 9</a></P><p><strong>Thanks all!</strong></p><p>I&nbsp; try remove client&nbsp; base on communication exception , but if catch the exceptions , sever will take some time. If clients are on the internet, time is so long.</p><p>I use TCPbinding for this project.</p><p><strong>I have another question. Can I use TCPbinding for chat project over the internet. I will host service by window service ?</strong></p><p>&nbsp;</p><p>&nbsp;</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/hi-remove-call-back-channel-time-272314.aspx'>Answer 10</a></P><p>Hi,</p><p>If you are trying to remove call back channel it should not take different time for intranet and internet client. (call back channel will be stored either in memory or in database based on your implementation, right?&nbsp;)</p><p>As we are just removing a callback channel which is not reachable.</p><p>NetTcpbinding will not be useful in case of internet soultion, it is used in intranet based application.</p><p>&nbsp;</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/store-callback-channel-database-272316.aspx'>Answer 11</a></P><p>You cannot store a callback channel in a database - it is an in-memory construct. I think what trongtb is saying is that the time to detect the&nbsp;<a href='/Example/readupdate-project-level-custom-field-102617.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;isn;t there takes longer over the internet not the actual removal itself.</p><p>NetTcpBinding is abosolutely fine over the Internet - in fact this should be your binding of choice for&nbsp;<a href='/Example/call-back-class-duplex-service-access-72118.aspx' target='_blank' class='InboundLink'>duplex</a> &nbsp;whether Intranet or Internet based</p><p><a href="http://www.dotnetconsult.co.uk/weblog2/PermaLink,guid,b891610a-6b78-4b54-b9a6-4ec81c82b7c0.aspx">http://www.dotnetconsult.co.uk/weblog2/PermaLink,guid,b891610a-6b78-4b54-b9a6-4ec81c82b7c0.aspx</a></p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/richard-msdn-article-shows-store-273513.aspx'>Answer 12</a></P><p><span style="font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;; color:black; font-size:8pt">Hi Richard,</span></p><p><span style="font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;; color:black; font-size:8pt">Here in this msdn article it shows how to store callback in database.</span></p><p><span style="font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;; color:black; font-size:8pt"><a href="http://msdn.microsoft.com/en-us/magazine/cc163537.aspx#S6"><span style="color:#0000ff">http://msdn.microsoft.com/en-us/magazine/cc163537.aspx#S6</span></a></span></p><p><span style="font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;; color:black; font-size:8pt">But, I need to check this sample with database :) ,
<span style="line-height:115%; font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;; color:black; font-size:8pt">
at present </span>I am using same sample with in memory based callback storage</span></p><p></p><p>Thanks and Regards</p><p>Nakul</p><p></p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/ah-isn-t-storing-callback-channel-274900.aspx'>Answer 13</a></P>Ah but this isn;t storing the callback channel in the database, its expecting the&nbsp;<a href='/Example/help-desiging-smart-client-application-54111.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;to open its own endpoint for listening and then invoke it from the service. This has all the drawbacks of the WSDualHttpBinding in that it won;t work well with firewalls</div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/richard-check-sample-277243.aspx'>Answer 14</a></P><p>Thanks Richard,</p><p>I will check the sample again.</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/short-find-remove-unexpected-dead-277244.aspx'>Answer 15</a></P><p>Thanks All!</p><p>But I short, I still dont find out the best way to remove&nbsp;<a href='/Example/unexpected-results-semi-join-indexed-73729.aspx' target='_blank' class='InboundLink'>unexpected</a> &nbsp;dead client.</p><p>May be, i will set a timer on the server side to scan online clients list each 5 seconds.</p><p>Any one say, can i use the solution, please!</p><p>Thanks so much</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/short-find-remove-unexpected-dead-277245.aspx'>Answer 16</a></P><blockquote><p>Thanks All!</p><p>But I short, I still dont find out the best way to remove&nbsp;<a href='/Example/webreference-displays-error-unexpected-698.aspx' target='_blank' class='InboundLink'>unexpected</a> &nbsp;dead client.</p><p>May be, i will set a timer on the server side to scan online clients list each 5 seconds.</p><p>Any one say, can i use the solution, please!</p><p>Thanks so much</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></blockquote><br/>
I think it's a doable approach to ping clients every few seconds. You'll then get notified much faster after&nbsp;<a href='/Example/pdo-sqlsrv-unable-connect-error-14217.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;disconnected though the service performance may be affected.</div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/remember-call-callback-detext-clienthas-277246.aspx'>Answer 17</a></P>Remember you will have to call the callback to detext that the clienthas gone away so you will need a no-op operation on the contract that is safe for the service to ping. If you don;t want to discover the callback is&nbsp;<a href='/Example/deadlock-details-stored-sql-server-59490.aspx' target='_blank' class='InboundLink'>dead</a> &nbsp;at the point when you want to
 use it you will need this background check (a timer would work fine) to perodically check the callbacks</div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/decied-timer-server-side-280442.aspx'>Answer 18</a></P><p>Thanks all!</p><p>I decied to use timer on the server side to detect&nbsp;<a href='/Example/windows-sideshow-dead-15477.aspx' target='_blank' class='InboundLink'>dead</a> &nbsp;client, but I have a question :</p><p><strong>How to detect&nbsp;<a href='/Example/possible-update-column-value-within-87325.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;dead,</strong> I will the following method to detect callback of specific client, but it doesn't work.</p><pre>IChatCallback callback = clients[c];

ICommunicationObject objCom;
objCom = (ICommunicationObject)(callback);
if (objCom.State == CommunicationState.Opened)
 try
  {
  callback.ReceivePrivate(msg);
  }
 catch (Exception ex)
 {
         
 }
else 
{
 remove(c)
}</pre><p>&nbsp;</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/trongtb-working-documentation-281853.aspx'>Answer 19</a></P><p>Hi Trongtb,</p><p>It is working... Thanks.</p><p>I am looking for more documentation of ICommunicationObject.</p><p>I tested it like this..</p><p>1) Host service</p><p>2) Create&nbsp;<a href='/Example/message-sending-active-server-742.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;1.</p><p>3) Create client 2.</p><p>4) Publish data through service from Client 1 &lt;--&gt;Client 2</p><p>5) Crash the Client 2.</p><p>6) Publish data from Client 1.</p><p>7) Client 2 is subscribed, and it checks for the communication object state, it is not opened in this case so it removes from callback channel list</p><p>&nbsp;</p><p>&nbsp;</p><p>I tried this way</p><pre> if (communicationObject.State == CommunicationState.Opened)
    {
// Do call back
    }
    else if(communicationObject.State !=CommunicationState.Opening || communicationObject.State !=CommunicationState.Created)
    {
     //Remove callback channel from the list.
    }</pre><p>If you have any better idea just let me know.</p><p>Thanks&nbsp;</p><hr>
Regards, Nakul</div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/trongtb-working-documentation-281854.aspx'>Answer 20</a></P><blockquote><p>Hi Trongtb,</p><p>It is working... Thanks.</p><p>I am looking for more documentation of ICommunicationObject.</p><p>I tested it like this..</p><p>1) Host service</p><p>2) Create&nbsp;<a href='/Example/crm-40-outlook-client-outlook-2010-36200.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;1.</p><p>3) Create client 2.</p><p>4) Publish data through service from Client 1 &lt;--&gt;Client 2</p><p>5) Crash the Client 2.</p><p>6) Publish data from Client 1.</p><p>7) Client 2 is subscribed, and it checks for the communication object state, it is not opened in this case so it removes from callback channel list</p><p>&nbsp;</p><p>&nbsp;</p><p>I tried this way</p><pre> if (communicationObject.State == CommunicationState.Opened)

  {

// Do call back

  }

  else if(communicationObject.State !=CommunicationState.Opening || communicationObject.State !=CommunicationState.Created)

  {

   //Remove callback channel from the list.

  }</pre><p>If you have any better idea just let me know.</p><p>Thanks&nbsp;</p><hr>
Regards, Nakul</blockquote><p><br/>
I tried like this, but it doesnt work, CommunicationObject always Opened, inspite of I crash a client.</p><p>Anybody have any idea for this problem?</p><p>Thanks</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/hmm-tested-netnamedpipe-binding-test-281855.aspx'>Answer 21</a></P><p>Hmm... I have tested it with NetNamedPipe binding...</p><p>Which binding are you using? I will test using that...</p><p>&nbsp;</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/trongtb-ust-wsdualhttpbindng-working-281856.aspx'>Answer 22</a></P><p><span style="font-family:Verdana; color:black; font-size:8pt">Hi Trongtb,</span></p><p><span style="font-family:Verdana; color:black; font-size:8pt">I j ust tried same thing with wsDualHttpbindng... IT is NOT working !!</span></p><p><span style="font-family:Verdana; color:black; font-size:8pt">It is always in open state, even few second after when I send the callback message to client,&nbsp;service sends callback message without any exception. (To whom it sent don&rsquo;t know).</span></p><p><span style="font-family:Verdana; color:black; font-size:8pt">After some time when i try to reach the crashed&nbsp;<a href='/Example/taxonomyclientserviceasmx-supported-39309.aspx' target='_blank' class='InboundLink'>client</a> &nbsp;via call back I get below error.</span></p><p><strong><span style="font-family:Verdana; color:black; font-size:8pt">&quot;The message could not be transferred within the allotted timeout of 00:01:00. There was no space available in the reliable channel's transfer window. The time allotted to this operation
 may have been a portion of a longer timeout&quot;</span></strong></p><p><span style="font-family:Verdana; color:black; font-size:8pt">The question arises :</span></p><p><span style="font-family:Verdana; color:black; font-size:8pt">1) How it is working with NamePipe and callback and not working with dualhttp</span></p><p><span style="font-family:Verdana; color:black; font-size:8pt">2) What happened to the callback sent, even Client is crashed to whom it send. (I tried it twice i get same result)</span></p><p>Thanks,</p><hr>
Regards, Nakul</div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/namedpipes-tcp-conneciton-orientated-281857.aspx'>Answer 23</a></P><p>1) NamedPipes and Tcp are conneciton orientated protocols whereas HTTP is a connection-less protocol - what this means is that HTTP doesn;t rely on the connection staying open between requests</p><p>2) The callback I guess will timeout at some point but generally you should avoid WSDualHttpBinding for&nbsp;<a href='/Example/word-2007-vba-turn-duplex-printing-39500.aspx' target='_blank' class='InboundLink'>duplex</a> &nbsp;anyway as I talk about in this blog article</p><p><a href="http://www.dotnetconsult.co.uk/weblog2/PermaLink,guid,b891610a-6b78-4b54-b9a6-4ec81c82b7c0.aspx">http://www.dotnetconsult.co.uk/weblog2/PermaLink,guid,b891610a-6b78-4b54-b9a6-4ec81c82b7c0.aspx</a></p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/richard-281858.aspx'>Answer 24</a></P><p>Thanks Richard,</p><p>&nbsp;</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/hmm-tested-netnamedpipe-binding-test-284774.aspx'>Answer 25</a></P><blockquote><p>Hmm... I have tested it with NetNamedPipe binding...</p><p>Which binding are you using? I will test using that...</p><p>&nbsp;</p><hr>
Regards, Nakul</blockquote><p><br/>
I using TcpBinding over the internet. But at present, I have test the project in LAN network.</p><p>I really need a the best solution for this case.</p><p>&nbsp;</p><p>&nbsp;</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/tested-received-exception-message-284775.aspx'>Answer 26</a></P><p>Hi all!</p><p>I tested and received a exception message like Nakul Kapadia tesed</p><p>exception message like that :</p><p><strong><span style="font-family:Verdana; color:black; font-size:8pt">&quot;The message could not be transferred within the allotted timeout of 00:01:00. There was no space available in the reliable channel's transfer window. The time allotted to this operation
 may have been a portion of a longer timeout&quot;</span></strong></p><p>I tried some times, I guess that, when the callback of&nbsp;<a href='/Example/service-broker-enqueue-occasionally-80773.aspx' target='_blank' class='InboundLink'>dead</a> &nbsp;client not valid. The exception is thrown, but it take some time. This is not acceptable. I want catch the exception at once. Or may be,, check dead callback fast.</p><p>Anybody have the better idead.</p><p>Thanks so much</p><p>&nbsp;</p><p><strong><span style="font-family:Verdana; color:black; font-size:8pt"><br/></span></strong></p><p>&nbsp;</p></div></div><div>&nbsp;</div><div class="MyBox_NoPadding PR3 HardBreak"><div class="divContent"><P class='PAnswerCnt'><a target='_blank' href='/Question/present-sollution-set-operation-timeout-555140.aspx'>Answer 27</a></P><p>HI all. At present, I have done by the following sollution</p><p>1. I set operation timeout in Server side is 15seconds(in App.config).</p><p>2 .At any methods of callback interface implemented in server side is called. I will catch an exception from client after Operation Timeout. When exception occour happended, server will remove the client accoding to it's callback.</p><p>But i have the problem, If the transport of network delay over 15s, may be i will remove not dead client :(</p><p>Anybody have the better idead?</p><p>&nbsp;</p><p>Thanks so much!</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></div></div><div>&nbsp;</div><div>&nbsp;</div></div></div><div id="ctl00_CC_SearchMessage1_pnlSearchEngineSource" class="MyBox highlight HardBreak"><b>Search for</b>&nbsp; <a href="/SearchResult.aspx?q=delect+unexpected+dead+client+wcf+duplex" id="ctl00_CC_SearchMessage1_lnkSearchEngine">How to delect unexpected dead client in wcf duplex</a></div><div>&nbsp;</div></div></td><td valign="top" style="width:450px;"><div class="MyBox_NoPadding PR3" style="background-color:#F0FFF0;"><div id="ctl00_CC_pnlRTTopAdvertise"></div><div id="ctl00_CC_pnlRelatedTopics"><b>Related Answers:</b><ul id="ctl00_CC_listRelatedLinks" style="list-style-type:square;font-weight:bold;"><li><a href="/Example/delect-unexpected-dead-client-wcf-67814.aspx">How to delect unexpected dead client in wcf d...</a></li><li><a href="/Example/questions-ablout-duplex-wcf-service-931.aspx">some questions ablout a Duplex wcf Service fo...</a></li><li><a href="/Example/wcf-polling-duplex-binding-non-171992.aspx">WCF Polling Duplex Binding with Non-Silverlig...</a></li><li><a href="/Example/wcf-duplex-service-silverlight-3-client-42041.aspx">WCF Duplex service for Silverlight 3 Client</a></li><li><a href="/Example/wcf-client-fails-message-received-187138.aspx">WCF client fails with The message received wa...</a></li><li><a href="/Example/wcf-rest-service-consuming-wcf-duplex-188980.aspx">WCF Rest service consuming WCF Duplex Service</a></li><li><a href="/Example/duplex-contract-between-web-client-78625.aspx">Duplex contract between web client and server...</a></li><li><a href="/Example/invalidoperationexception-while-64312.aspx">InvalidOperationException while instantiating...</a></li><li><a href="/Example/try-catch-block-handle-exceptions-99350.aspx">Try-Catch block cannot handle exceptions when...</a></li><li><a href="/Example/duplex-communication-calling-clients-90067.aspx">Duplex communication and calling clients from...</a></li><li><a href="/Example/why-cpu-usage-increase-continuously-146530.aspx">Why CPU usage increase continuously (Silverli...</a></li><li><a href="/Example/consume-wcf-duplex-web-service-wpf-62889.aspx">Consume WCF duplex web service in WPF windows...</a></li><li><a href="/Example/wcf-duplex-service-deployment-iis7-31444.aspx">WCF Duplex service deployment on IIS7</a></li><li><a href="/Example/consuming-duplex-wcf-service-biztalk-187854.aspx">Consuming Duplex WCF service in BizTalk 2010</a></li><li><a href="/Example/aspnet-wcf-duplex-contract-8925.aspx">Asp.Net - WCF Duplex Contract ?</a></li><li><a href="/Example/working-wcf-duplex-polling-sample-175823.aspx">Working WCF Duplex Polling Sample</a></li><li><a href="/Example/future-wcf-duplex-132304.aspx">future of wcf duplex</a></li><li><a href="/Example/wcf-error-cleint-wcfclient-stops-88785.aspx">WCF Error at Cleint: WCFClient stops intermit...</a></li><li><a href="/Example/consuming-wcf-duplex-service-windows-158359.aspx">Consuming a wcf duplex service in windows con...</a></li><li><a href="/Example/duplex-wcf-service-54557.aspx">Duplex WCF Service</a></li></ul></div><div id="ctl00_CC_pnlRTAdvertisement1"></div><div>&nbsp;</div><div id="ctl00_CC_pnlRTAdvertisement2"></div><div>&nbsp;</div><div id="ctl00_CC_pnlRTAdvertisement3"></div><div>&nbsp;</div><div id="ctl00_CC_pnlRTAdvertisement4"><div><b>Tagged: </b><br/><a target='_blank' title='All Articles on delect' href='/Tags.aspx?search=delect' class='tag' rel='tag'>delect</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on unexpected' href='/Tags.aspx?search=unexpected' class='tag' rel='tag'>unexpected</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on dead' href='/Tags.aspx?search=dead' class='tag' rel='tag'>dead</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on client' href='/Tags.aspx?search=client' class='tag' rel='tag'>client</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on wcf' href='/Tags.aspx?search=wcf' class='tag' rel='tag'>wcf</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on duplex' href='/Tags.aspx?search=duplex' class='tag' rel='tag'>duplex</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on microsoft technologies' href='/Default.aspx?CategoryName=microsoft technologies' class='tagCategory' rel='tag'>microsoft technologies</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on sql server' href='/Default.aspx?CategoryName=sql server' class='tagCategory' rel='tag'>sql server</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on visual studio' href='/Default.aspx?CategoryName=visual studio' class='tagCategory' rel='tag'>visual studio</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on sharepoint' href='/Default.aspx?CategoryName=sharepoint' class='tagCategory' rel='tag'>sharepoint</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on sharepoint 2010' href='/Default.aspx?CategoryName=sharepoint 2010' class='tagCategory' rel='tag'>sharepoint 2010</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on wpf' href='/Default.aspx?CategoryName=wpf' class='tagCategory' rel='tag'>wpf</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on wwf' href='/Default.aspx?CategoryName=wwf' class='tagCategory' rel='tag'>wwf</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on c# programming' href='/Default.aspx?CategoryName=c# programming' class='tagCategory' rel='tag'>c# programming</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on xml' href='/Default.aspx?CategoryName=xml' class='tagCategory' rel='tag'>xml</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on wcf' href='/Default.aspx?CategoryName=wcf' class='tagCategory' rel='tag'>wcf</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on vb.net' href='/Default.aspx?CategoryName=vb.net' class='tagCategory' rel='tag'>vb.net</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on windows os' href='/Default.aspx?CategoryName=windows os' class='tagCategory' rel='tag'>windows os</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on c++ programming' href='/Default.aspx?CategoryName=c++ programming' class='tagCategory' rel='tag'>c++ programming</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on biztalk server' href='/Default.aspx?CategoryName=biztalk server' class='tagCategory' rel='tag'>biztalk server</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on .net framework' href='/Default.aspx?CategoryName=.net framework' class='tagCategory' rel='tag'>.net framework</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on azure' href='/Default.aspx?CategoryName=azure' class='tagCategory' rel='tag'>azure</a> &nbsp;&nbsp;<a target='_blank' title='All Articles on ms office' href='/Default.aspx?CategoryName=ms office' class='tagCategory' rel='tag'>ms office</a> &nbsp;&nbsp;</div></div></div></td></tr></table><br /><div align="center"><span id="ctl00_CC_pnlPreviousLink"><a href="/Example/unable-browse-wcf-service-iis-50-67813.aspx" id="ctl00_CC_linkPrevious">&lt;&lt; Previous</a></span>
                 &nbsp;&nbsp;&nbsp;&nbsp;
                <span id="ctl00_CC_pnlNextLink"><a href="/Example/chat-application-wcf-67815.aspx" id="ctl00_CC_linkNext">Next &gt;&gt;</a></span></div><br /></div><div><hr /><div><a href="http://www.go4answers.com/Default.aspx?CategoryName=Microsoft%20Technologies" target="_blank">Microsoft</a> &nbsp;&nbsp;|&nbsp;&nbsp;
                        <a href="http://www.go4answers.com/Default.aspx?CategoryName=Windows%20OS" target="_blank">Windows</a> &nbsp;&nbsp;|&nbsp;&nbsp;
                        <a href="http://www.go4answers.com/Default.aspx?CategoryName=Visual%20Studio" target="_blank">Visual Studio</a> &nbsp;&nbsp;|&nbsp;&nbsp;                        
                        <a href="http://twitter.com/go4answers" target="_blank">Follow us on Twitter</a> &nbsp;&nbsp;
                    </div></div></div></form></div><!--GO4Answers--><script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-9103710-3']);
    _gaq.push(['_setDomainName', '.go4answers.com']);
    _gaq.push(['_trackPageview']);

    (function () {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

</script><script type='text/javascript'>
    function _dmBootstrap(file) {
        var _dma = document.createElement('script'); 
        _dma.type = 'text/javascript';
        _dma.async = true; 
        _dma.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + file;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(_dma);
    }
    function _dmFollowup(file) { if (typeof DMAds === 'undefined')  _dmBootstrap('cdn2.DeveloperMedia.com/a.min.js');}
    (function () { _dmBootstrap('cdn1.DeveloperMedia.com/a.min.js'); setTimeout(_dmFollowup, 2000);})();
</script></body></html>
