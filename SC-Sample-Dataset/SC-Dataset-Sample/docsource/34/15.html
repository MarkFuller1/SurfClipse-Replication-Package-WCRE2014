<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en" id="vbulletin_html"> <head>
<base href="http://www.java-forums.org/" /><!--[if IE]></base><![endif]--> <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /> <base href="http://www.java-forums.org/" /><!--[if IE]></base><![endif]--> <meta name="generator" content="vBulletin 4.2.1" /> <link rel="stylesheet" type="text/css" href="http://www.java-forums.org/clientscript/vbulletin_css/style00015l/main-rollup.css?d=1384369214" /> <link rel="stylesheet" type="text/css" href="http://www.java-forums.org/clientscript/vbulletin_css/style00015l/printthread.css?d=1384369214" /> <title> ConnectException</title> <!--[if IE 6]><link rel="stylesheet" type="text/css" href="http://www.java-forums.org/forumbits-ie.css" /><![endif]--><!--[if lt IE 8]><link rel="stylesheet" type="text/css" href="http://www.java-forums.org/forumbits-ie.css,sidebar-ie.css" /><![endif]--><link rel="stylesheet" type="text/css" href="http://www.java-forums.org/clientscript/vbulletin_css/style00015l/additional.css?d=1384369214" /> 
<script type="text/javascript"><!--
window.google_analytics_uacct = 'UA-136266-54'; var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-136266-54'], ['_trackPageview'], ['_trackPageLoadTime']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();
//--></script>
</head> <body> <div class="above_body"> <div id="header" class="floatcontainer"> <div><a name="top" href="http://www.java-forums.org/forum.php" class="logo-image"><img src="http://www.java-forums.org/images/misc/java-forums-logo.gif" alt="Java Programming Forum - Learn Java Programming" /></a></div> </div> </div> <div class="body_wrapper"> <div id="pagetitle"> <h1><a href="http://www.java-forums.org/new-java/60158-connectexception.html">ConnectException</a></h1> <p class="description">Printable View</p> </div> <ul id="postlist"> <li class="postbit blockbody" id="post_1"> <div class="header"> <div class="datetime">05-25-2012, 02:40 PM</div> <span class="username">tnrh1</span> </div> <div class="title">ConnectException</div> <div class="content"> <blockquote class="restore">I can't figure out why do I get this exception: <br /> <div class="bbcode_container"> <div class="bbcode_description">Quote:</div> <div class="bbcode_quote printable"> <hr />
		
			java.net.ConnectException: Connection refused: connect<br />
Exception in thread &quot;main&quot; java.lang.NullPointerException<br />
	at Client.main(Client.java:31)
			
		<hr /> </div> </div><br /> <div class="bbcode_container"> <div class="bbcode_description">Code:</div> <hr /><code class="bbcode_code">import java.io.BufferedReader;<br />
import java.io.IOException;<br />
import java.io.InputStreamReader;<br />
import java.io.PrintWriter;<br />
import java.net.ServerSocket;<br />
import java.net.Socket;<br /> <br /> <br />
public class Server<br />
{<br />
&nbsp; &nbsp; &nbsp; &nbsp; public static void main(String&#91;&#93;args) throws IOException<br />
&nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ServerSocket serverSocket = null;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Socket clientSocket = null;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PrintWriter out = null;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BufferedReader in = null;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; serverSocket = new ServerSocket(4441);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clientSocket = serverSocket.accept();<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; out = new PrintWriter(clientSocket.getOutputStream(),true);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catch(Exception e)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println(e);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println(in.readLine());<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; serverSocket.close();<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clientSocket.close();<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in.close();<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; out.close();<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
}</code><hr /> </div><div class="bbcode_container"> <div class="bbcode_description">Code:</div> <hr /><code class="bbcode_code">import java.io.BufferedReader;<br />
import java.io.DataOutputStream;<br />
import java.io.IOException;<br />
import java.io.InputStreamReader;<br />
import java.io.PrintWriter;<br />
import java.net.Socket;<br /> <br /> <br />
public class Client<br />
{<br />
&nbsp; &nbsp; &nbsp; &nbsp; public static void main(String&#91;&#93;args) throws IOException<br />
&nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Socket echoSocket = null;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PrintWriter out = null;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BufferedReader in = null;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echoSocket = new Socket(&quot;81.218.161.218&quot;,7);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; out = new PrintWriter(echoSocket.getOutputStream(),true);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in = new BufferedReader(new InputStreamReader(echoSocket.getInputStream()));<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catch(Exception e)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println(e);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; String userInput;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; out.println(&quot;I'm the client&quot;);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; out.close();<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in.close();<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; stdIn.close();<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echoSocket.close();<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
}</code><hr /> </div>Thanks in advanced.</blockquote> </div> </li><li class="postbit blockbody" id="post_2"> <div class="header"> <div class="datetime">05-25-2012, 04:02 PM</div> <span class="username">quad64bit</span> </div> <div class="title">Re: ConnectException</div> <div class="content"> <blockquote class="restore">Are you trying to run these on the same computer? 81.218.161.218 looks like an outside world address, if on the same machine, what does the loop-back address do? (127.0.0.1)</blockquote> </div> </li><li class="postbit blockbody" id="post_3"> <div class="header"> <div class="datetime">05-25-2012, 07:32 PM</div> <span class="username">tnrh1</span> </div> <div class="title">Re: ConnectException</div> <div class="content"> <blockquote class="restore">81.218.161.218 is my ip, I get the same error for &quot;localhost&quot; and &quot;127.0.0.1&quot;.<br />
Thanks for replaying.</blockquote> </div> </li><li class="postbit blockbody" id="post_4"> <div class="header"> <div class="datetime">05-25-2012, 07:59 PM</div> <span class="username">quad64bit</span> </div> <div class="title">Re: ConnectException</div> <div class="content"> <blockquote class="restore">Ok, and you are running both the client and the server on the same computer?<br /> <br />
If that's the case, then your port numbers need to match. On most OS' ports 1-1024 are reserved for OS, so use something like 1234 or 5555, or something else. Then both your server and client need to use the same port. <br /> <br />
I see your server socket is port 4441 and your client is 7. Don't use 7.</blockquote> </div> </li><li class="postbit blockbody" id="post_5"> <div class="header"> <div class="datetime">05-25-2012, 08:43 PM</div> <span class="username">tnrh1</span> </div> <div class="title">Re: ConnectException</div> <div class="content"> <blockquote class="restore">Thank you so much.<br />
Diffrent ports was the problem.</blockquote> </div> </li><li class="postbit blockbody" id="post_6"> <div class="header"> <div class="datetime">05-29-2012, 04:55 PM</div> <span class="username">quad64bit</span> </div> <div class="title">Re: ConnectException</div> <div class="content"> <blockquote class="restore">No problem!</blockquote> </div> </li> </ul> </div> <div class="below_body"> <div id="footer_time" class="footer_time">All times are GMT +2. The time now is <span class="time">02:03 AM</span>.</div> <div id="footer_copyright" class="footer_copyright"> 
	VBulletin, Copyright ©2000 - 2013, Jelsoft Enterprises Ltd.
	
<br /> </div> <div id="footer_morecopyright" class="footer_morecopyright">  
	Copyright ©2006 - 2012, Java Programming Forum
</div> </div> </body> </html>
