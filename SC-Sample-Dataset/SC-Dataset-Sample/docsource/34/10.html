

<!-- doctype declaration -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>java.net.ConnectException - Connection refused error </title>
        <meta name='taxonomy' content='Resource Center/Community/Forum'>
    <meta name="last-modified" content="2003-02-05" />


<!-- link and import stylesheets -->

	<!-- Meta tag for Google Webmaster Tool -->
	<meta name="verify-v1" content="ZtnC29596Qlb185pIUzlbNs+Z65N1+Gd+noFsSe1fPM=" />
		
	<!-- load stylesheets -->
	
	<script language="javascript" type="text/javascript">
		if(document.getElementById){
		    document.write('<link rel="stylesheet" href="http://forums.esri.com/includes/compliant.css" type="text/css" media="screen">');
		    document.write('<link rel="stylesheet" href="http://forums.esri.com/includes/printVer.css" type="text/css" media="print">');
		}
		if(document.layers){
		    document.write('<link rel="stylesheet" href="http://forums.esri.com/includes/limitedNN47.css" type="text/css">');
		}
	</script>

	<!-- Forum styles -->
	<link rel="stylesheet" href="/includes/Forums.css" type="text/css">
    <link rel="stylesheet" href="/includes/avenir.css" />


<script language="javascript" src="/includes/main.js"></script>

<script language=javascript>
<!--
	function fnSubmit() {
		document.forms[0].submit();
		}
//-->
</script>

</head>
<body>

<!-- header and navigation -->


<!-- banner graphic -->

<div class="header">
	<div class="esribanner">
    	<div class="esribanner-inner">
    		<a href="http://www.esri.com" title="Esri: GIS and Mapping Software" class="logo"></a>
            <div id="globalNavUtility">
                <ul class="uber">
                    <li><a href="http://store.esri.com/esri/">Store</a></li>
                    <li><a href="http://www.esri.com/about-esri/contact.html">Contact Us</a></li>
                    <li class="last"><a href="http://www.esri.com/careers">Careers</a></li>
                </ul>
                <!--<div id="globalSearchESRI">			
                    <form id="esri_searchbox" method="get" action="http://search.esri.com/results/index.cfm">
                        <fieldset>
                            <span class="sa mast-btn">&nbsp;</span>
                            <input type="hidden" value="esri.index" name="do" />
                            <input type="hidden" value="0" name="start" />
                            <input type="text" name="q" id="mast" maxlength="255" class="qtext" value="Search" onclick="javascript:this.value='';" />
                        </fieldset>
                    </form>
                </div>-->
            </div>
        </div>
    </div>
    <!--<div class="mainMenu">
    	<ul id="globalNavPrimary">
			<li><a href="http://www.esri.com/" id="homeTab">Home</a></li>
			<li><a href="http://www.esri.com/industries.html" id="industriesTab">Industries</a></li>
			<li><a href="http://www.esri.com/products/index.html" id="productsTab">Products</a></li>
			<li><a href="http://training.esri.com/" id="trainingTab">Training</a></li>
			<li><a href="http://support.esri.com/" id="supportTab">Support</a></li>
			<li><a href="http://www.esri.com/services.html" id="servicesTab">Services</a></li>
			<li><a href="http://www.esri.com/events/index.html" id="eventsTab">Events</a></li>
			<li><a href="http://www.esri.com/news/index.html" id="newsTab">News</a></li>
			<li><a href="http://www.esri.com/about_esri.html" id="companyTab">About</a>
				<ul>
					<li><a href="http://www.esri.com/about_esri.html">About Esri</a></li>
					<li><a href="http://www.esri.com/careers">Careers</a></li>
					<li><a href="http://video.esri.com/">Esri Video</a></li>
					<li><a href="http://www.esri.com/partners/index.html">Partners</a></li>
				</ul>
			</li>
		</ul>
    </div>-->

    
	<div class="banner">
    	<div class="banner-inner">
        	<a href="http://support.esri.com" class="parentLink">Support</a>
            <h1>Archived Forums</h1>        
            <!-- utility navigation -->
            
            <!--- globalTemplates/header/dsp_techNav.asp-->

<div class="featuredTech">
	<!--
	FEATURED AREAS: 
	<img src="http://support.esri.com/common/style/graphics/icons/dataModels.gif" height="14" width="14" alt="featured tech">
	<a href="http://edn.esri.com" title="ESRI Developer Network">EDN</a>
	<img src="http://support.esri.com/common/style/graphics/icons/dataModels.gif" height="14" width="14" alt="featured tech">
	<a href="http://webhelp.esri.com/arcgisdesktop/9.1" title="ArcGIS Desktop Help">ArcGIS Desktop Help</a>
	<img src="http://support.esri.com/common/style/graphics/icons/dataModels.gif" height="14" width="14" alt="featured tech">
	<a href="http://support.esri.com/index.cfm?fa=downloads.geoprocessing.gateway" title="Geoprocessing">Geoprocessing</a>
	<img src="http://support.esri.com/common/style/graphics/icons/dataModels.gif" height="14" width="14" alt="featured tech">
	<a href="http://support.esri.com/index.cfm?fa=downloads.dataModels.gateway" title="Data Models">Data Models</a>
	-->
</div>

    	</div>
	</div>
	
	
	
</div>


<!--- content area --->
<div class="holder">
	<div class="content">
	
	
<script language=javascript>
<!--
	function fnGrabThread() {
		document.location.href="/Thread.asp?c=64&f=1033&t=66520&g=1"
		}
//-->
</script>

<!--- Crumbtrail and Forums Navigation --->
<div class="crumbs">
	<!-- Google Analytics Script - MV 09.03.08 -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-215788-27");
pageTracker._trackPageview();
</script>

You are here:  &gt;  <a href='http://forums.esri.com'>ESRI Forums</a> &gt;  <a href='/Forums.asp?c=64'>arcims product discussion conference</a> &gt;  Thread Replies
	<div class="navigation">
		<a href='https://webaccounts.esri.com/CAS/index.cfm?fuseaction=Login.ShowForm&ReturnURL=http://forums.esri.com/Thread.asp%3ft%3D66520%26c%3D64%26f%3D1033&FailUrl='>Login</a> | <a href='/help/mailhelp.asp?c=64'>Feedback</a> | <a href='/help/help.asp?c=64'>Help</a>
	</div>
</div>

<h2>ArcIMS Product Discussion Conference</h2>

<form>
	<div style="width: 100%">
	
	</div>

	<h4>ArcIMS: Application Server Link (ArcIMS 3.1) forum</h4>
	<div class="group" style="padding: 0;">

	<div style="text-align: right; border-bottom: 1px dotted #A7BDAE; padding: 4px;">
	
		
	</div>
		
	<table class='form' style='width: 100%'>
<tr>
<td style='padding-left: 10px;'>
<a href='#172176'>java.net.ConnectException - Connection refu...</a>
&nbsp;</td>
<td nowrap>Steffen Schillinger</td>
<td nowrap>Jun 19, 2002</td>
</tr>
<tr>
<td style='padding-left: 20px;'>
<a href='#230423'>Re: java.net.ConnectException - Connection...</a>
&nbsp;</td>
<td nowrap>Nathan diehl</td>
<td nowrap>Feb 04, 2003</td>
</tr>
<tr>
<td style='padding-left: 30px;'>
<a href='#230760'>Re: java.net.ConnectException - Connection...</a>
&nbsp;</td>
<td nowrap>Steffen Schillinger</td>
<td nowrap>Feb 05, 2003</td>
</tr>
<tr>
<td style='padding-left: 40px;'>
<a href='#230768'>Re: java.net.ConnectException - Connection...</a>
&nbsp;</td>
<td nowrap>Nathan diehl</td>
<td nowrap>Feb 05, 2003</td>
</tr>
<tr>
<td style='padding-left: 50px;'>
<a href='#230771'>Re: java.net.ConnectException - Connection...</a>
&nbsp;</td>
<td nowrap>Steffen Schillinger</td>
<td nowrap>Feb 05, 2003</td>
</tr>
</table>
<table class='forum'>
<tr>
<td colspan='2' class='toolBar'><a name='172176'></a><img valign='bottom' src='/Images/img_alert_sm.gif'> <a style='color:orange;' href='/AlertModerator.asp?c=64&f=1033&t=66520&m=172176'>Report Inappropriate Content</a>
&#149;&nbsp;<a href='#top'>Top</a>&nbsp;&#149;&nbsp;<a href='/MsgPrint.asp?c=64&f=1033&t=66520&m=172176'>Print</a>
&#149;&nbsp;<em>This Forum is closed for replies.</em>
&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th>Subject</th>
<td class='postvalue'>java.net.ConnectException - Connection refused error&nbsp;</td>
</tr>
<tr>
<th >Author</th>
<td class='postvalue'>Steffen Schillinger&nbsp;</td>
</tr>
<tr>
<th>Date</th>
<td class='postvalue'>Jun 19, 2002&nbsp;</td>
</tr>
<tr>
<th>Message</th>
<td class='postvalue'>Dear Forum,
<br>I'm using AppServerLink to connect my Java (SDK 1.3.1) Client to ArcIMS 3.1 running on a NT 4 Server (MS IIS).
<br>The client and its funtions work fine from within the Intranet and various different sites in the Internet, whereas 
<br>other Internet sites connect and download the client perfectly, but their first call to AppServerLink.sendAXLRequest
<br>produces a "java.net.ConnectException: Connection refused: connect" error. Why does this happen only with some sites?
<br>I can reproduce the same message locally by shutting down the ArcIMS services, but I don't know how to obtain
<br>more details about the error. The sendAXLRequest method doesn't seem to throw any exception that I could catch!?
<br>Has anybody experienced this kind of problem? Please help.
<br>
<br>Thanks, Steffen&nbsp;</td>
</tr>
<tr>
<th>&nbsp;</th>
<td>
&nbsp;</td>
</tr>
</table>
<table class='forum'>
<tr>
<td colspan='2' class='toolBar'><a name='230423'></a><img valign='bottom' src='/Images/img_alert_sm.gif'> <a style='color:orange;' href='/AlertModerator.asp?c=64&f=1033&t=66520&m=230423'>Report Inappropriate Content</a>
&#149;&nbsp;<a href='#top'>Top</a>&nbsp;&#149;&nbsp;<a href='/MsgPrint.asp?c=64&f=1033&t=66520&m=230423'>Print</a>
&#149;&nbsp;<em>This Forum is closed for replies.</em>
&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th>Subject</th>
<td class='postvalue'>Re: java.net.ConnectException - Connection refused error&nbsp;</td>
</tr>
<tr>
<th >Author</th>
<td class='postvalue'>Nathan diehl&nbsp;</td>
</tr>
<tr>
<th>Date</th>
<td class='postvalue'>Feb 04, 2003&nbsp;</td>
</tr>
<tr>
<th>Message</th>
<td class='postvalue'>I am also seeing a similiar problem, but in addition even attempting to make the connection causes many of the mapservices on the server to fail. This is *not* a good thing, since as far as I can tell it means that anyone attempting to make this type of connection can take down a good portion of the mapservices.
<br>
<br>Anyone with any other experiences of this problem?
<br>&nbsp;</td>
</tr>
<tr>
<th>&nbsp;</th>
<td class='signature'>Nathan Diehl
<br>Application Developer
<br>Prairie Farm Rehabilitation Administration
<br>Agriculture and Agri-Food Canada&nbsp;</td>
</tr>
<tr>
<th>&nbsp;</th>
<td>
&nbsp;</td>
</tr>
</table>
<table class='forum'>
<tr>
<td colspan='2' class='toolBar'><a name='230760'></a><img valign='bottom' src='/Images/img_alert_sm.gif'> <a style='color:orange;' href='/AlertModerator.asp?c=64&f=1033&t=66520&m=230760'>Report Inappropriate Content</a>
&#149;&nbsp;<a href='#top'>Top</a>&nbsp;&#149;&nbsp;<a href='/MsgPrint.asp?c=64&f=1033&t=66520&m=230760'>Print</a>
&#149;&nbsp;<em>This Forum is closed for replies.</em>
&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th>Subject</th>
<td class='postvalue'>Re: java.net.ConnectException - Connection refused error&nbsp;</td>
</tr>
<tr>
<th >Author</th>
<td class='postvalue'>Steffen Schillinger&nbsp;</td>
</tr>
<tr>
<th>Date</th>
<td class='postvalue'>Feb 05, 2003&nbsp;</td>
</tr>
<tr>
<th>Message</th>
<td class='postvalue'>After reading the API information about connect-exceptions I wondered if the problem 
<br>could have something to do with the ports? The answer is yes. I monitored port 
<br>activity on the client and appserverlink (as well as JavaConnector) communicate in
<br>TCP via the ArcIMS port (default 5300). If the client is behind a firewall and the port is blocked,
<br>appserverlink can't communicate with the applserver and throws the exception.
<br>Only solution that I know of is to open port 5300 in the firewall or use JavaConnector
<br>with HTTP.
<br>
<br>Cheers, Steffen.&nbsp;</td>
</tr>
<tr>
<th>&nbsp;</th>
<td>
&nbsp;</td>
</tr>
</table>
<table class='forum'>
<tr>
<td colspan='2' class='toolBar'><a name='230768'></a><img valign='bottom' src='/Images/img_alert_sm.gif'> <a style='color:orange;' href='/AlertModerator.asp?c=64&f=1033&t=66520&m=230768'>Report Inappropriate Content</a>
&#149;&nbsp;<a href='#top'>Top</a>&nbsp;&#149;&nbsp;<a href='/MsgPrint.asp?c=64&f=1033&t=66520&m=230768'>Print</a>
&#149;&nbsp;<em>This Forum is closed for replies.</em>
&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th>Subject</th>
<td class='postvalue'>Re: java.net.ConnectException - Connection refused error&nbsp;</td>
</tr>
<tr>
<th >Author</th>
<td class='postvalue'>Nathan diehl&nbsp;</td>
</tr>
<tr>
<th>Date</th>
<td class='postvalue'>Feb 05, 2003&nbsp;</td>
</tr>
<tr>
<th>Message</th>
<td class='postvalue'>Thanks Steffen,
<br>
<br>I *just* figured that out about 20 minutes ago, after trying everything else first. Why is it that the correct solution is always the very *last* thing we try? ;)
<br>
<br>The working code, for the next person who searches for this thread, goes something like this;&nbsp;</td>
</tr>
<tr>
<th>&nbsp;</th>
<td><pre>try
{
java.net.URL siteURL = new java.net.URL(&quot;http://theHost/&quot;);
cp.setUrl(siteURL);
cp.setConnectionType(cp.HTTP);
cp.setService(&quot;aesibeta1&quot;);
}
catch (Exception e)
{
//Some error code here
}</pre>&nbsp;</td>
</tr>
<tr>
<th>&nbsp;</th>
<td class='signature'>Nathan Diehl
<br>Application Developer
<br>Prairie Farm Rehabilitation Administration
<br>Agriculture and Agri-Food Canada&nbsp;</td>
</tr>
<tr>
<th>&nbsp;</th>
<td>
&nbsp;</td>
</tr>
</table>
<table class='forum'>
<tr>
<td colspan='2' class='toolBar'><a name='230771'></a><img valign='bottom' src='/Images/img_alert_sm.gif'> <a style='color:orange;' href='/AlertModerator.asp?c=64&f=1033&t=66520&m=230771'>Report Inappropriate Content</a>
&#149;&nbsp;<a href='#top'>Top</a>&nbsp;&#149;&nbsp;<a href='/MsgPrint.asp?c=64&f=1033&t=66520&m=230771'>Print</a>
&#149;&nbsp;<em>This Forum is closed for replies.</em>
&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th>Subject</th>
<td class='postvalue'>Re: java.net.ConnectException - Connection refused error&nbsp;</td>
</tr>
<tr>
<th >Author</th>
<td class='postvalue'>Steffen Schillinger&nbsp;</td>
</tr>
<tr>
<th>Date</th>
<td class='postvalue'>Feb 05, 2003&nbsp;</td>
</tr>
<tr>
<th>Message</th>
<td class='postvalue'>Yeah, I know - I spent about 2 days with exceptions and stuff before lookings at the ports.
<br>The HTTP connection type is a good solution, but beware if you're developing an applet: you will have to sign it!
<br>
<br>Cheers, Steffen.&nbsp;</td>
</tr>
<tr>
<th>&nbsp;</th>
<td>
&nbsp;</td>
</tr>
</table>

	
	</div>
</form>

<!-- TimeToLoad: 0.03125-->
	</div>
</div>



<div class="footer">

	<br>
	<a href="http://www.esri.com/legal/index.html">Legal</a> | 
	<a href="http://www.esri.com/company/privacy.html">Privacy</a> | 
	<a href="http://www.esri.com/careers">Careers</a> | 
	<a href="http://www.esri.com/company/copyright.html">Copyright &copy; ESRI</a>
	<br>
	
</div>


</body>
</html>
