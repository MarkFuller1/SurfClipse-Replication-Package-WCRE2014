








<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
    <title>Manning Forums: Chapter 5: Command objects under Grails ...</title>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
    <link rel="stylesheet" type="text/css" href="style.jsp">

    
    <script language="JavaScript" type="text/javascript" src="/scripts/global.js"></script>

    
    <link rel="alternate" type="application/rss+xml" title="RSS"
         href="http://www.manning-sandbox.com/rss/rssmessages.jspa?threadID=47415">
</head>
<body>


    <table border="0" width="100%"><tr>
<td align="left">
<div align="center"><a href="http://www.manning.com"><img src="/images/manning/logo.gif" border="0"/></a></div>
<td>
	<td align="right" width="320">
<div style="position: relative; border: 2px solid #DDDDDD; font-family: Arial,Helvetica,sans-serif; text-align: center; display:block; background: #DDDDDD; margin: 0px 5px 0px 5px; color: #ffffff; padding: 2px; font-weight: bold;"> 
	<div style="color: #B51A13;text-align: center;background-color: #DDDDDD; padding: 4px; font-size: 11px;">Deal of the Day</div>
 	<div style="color: #000000;text-align: center;padding: 2px 1px 0px 1px; font-size: 11px;background-color: #ffffff;">
		<script language="JavaScript" src="http://incsrc.manningpublications.com/dotd.js" type="text/javascript"></script>
		<br><br><span style="font-size: 10px;"><a href="http://www.manning.com/free/dotd.html">Get the Deal of the Day email alert</a></span>
	</div>
</div>
	<td>
</tr>
</table>



<br>


<div id="jive-flatpage">

<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="top">
    <td width="99%">

        










<p class="jive-breadcrumbs">


    

        
        <a href="http://www.manning.com"
         >Home</a>
        &raquo;

    



    <a href="index.jspa">Main</a> &raquo;







<a href="forumindex.jspa?categoryID=1">Manning Forums</a>



    
        &raquo;
        <a href="category.jspa?categoryID=48">2008</a>
    

    
        &raquo;
        <a href="forum.jspa?forumID=493&start=0">Grails in Action</a>




</p>



        <p class="jive-page-title">
        Thread: Chapter 5: Command objects under Grails 2.0.0-RC1
        </p>

        
        

        
        

    </td>
    <td width="1%">

        







    

    <div class="jive-accountbox">
    <table cellpadding="0" cellspacing="0" border="0" width="100%" summary="Jive Forums Accountbox">

    

        <thead>
            <tr>
                <th colspan="2">
                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                    <tr>
                        <th width="99%" style="border-width:0px;">
                            
                            Welcome, Guest
                        </th>
                        <th width="1%" style="border-width:0px;">
                            <a href="help.jspa"><img src="images/help-16x16.gif" width="16" height="16" border="0" alt="Help"></a>
                        </th>
                    </tr>
                    </table>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td width="1%" class="jive-icon"><a href="login!withRedirect.jspa"><img src="images/key-16x16.gif" width="16" height="16" border="0" alt="Login"></a></td>
                <td width="99%" class="jive-icon-label">
                    
                    <a href="login!withRedirect.jspa">Login / Register</a>
                </td>
            </tr>
            <tr>
                <td width="1%" class="jive-icon"><a href="guestsettings!default.jspa"><img src="images/preferences-16x16.gif" width="16" height="16" border="0" alt="Guest Settings"></a></td>
                <td width="99%" class="jive-icon-label">
                    
                    <a href="guestsettings!default.jspa">Guest Settings</a>
                </td>
            </tr>
        </tbody>

    

    </table>
    </div>



    </td>
</tr>
</table>







    







 










    

    <div class="jive-buttons">
    <table summary="Buttons" cellpadding="0" cellspacing="0" border="0">
    <tr>
        
                <td class="jive-icon">
                    <a href="post!reply.jspa?threadID=47415"
                     ><img src="images/reply-16x16.gif" width="16" height="16" border="0" alt="Reply to this Thread"></a></td>
                <td class="jive-icon-label">
                    
                    <a id="jive-reply-thread" href="post!reply.jspa?threadID=47415"
                     >Reply to this Thread</a>
                </td>
        
                <td class="jive-icon">
                    <a href="search!default.jspa?objID=f493"
                     ><img src="images/search-16x16.gif" width="16" height="16" border="0" alt="Search Forum"></a></td>
                <td class="jive-icon-label">
                    
                    <a href="search!default.jspa?objID=f493"
                     >Search Forum</a>
                </td>
        

        

        

        

        

        <td class="jive-icon">
            <a href="forum.jspa?forumID=493"
             ><img src="images/arrow-left-16x16.gif" width="16" height="16" border="0" alt="Back to Thread List"></a>
        </td>
        <td class="jive-icon-label">
            
            <a href="forum.jspa?forumID=493"
             >Back to Thread List</a>
        </td>

    </tr>
    </table>
    </div>



<br>

<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tbody>
    <tr valign="top">
        <td width="99%">

        
        



<div class="jive-message-list">
<div class="jive-table">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<thead>
    <tr>
        <th class="jive-first-last">
            <table cellpadding="0" cellspacing="0" border="0" width="100%">
            <thead>
                <tr>
                    <th width="1%">
                        <a href="thread.jspa?threadID=47415"
                         title="Permlink"
                         ><img src="images/permlink-16x16.gif" width="16" height="16" border="0" alt="Permlink"></a>
                    </th>
                    <th width="97%">

                        
                        <nobr>
                        Replies:
                        1
                        </nobr>

                        
                            -
                            

                                
                                <nobr>
                                Pages:
                                1

                                
                                </nobr>

                            

                        

                        
                        
                                -
                                <nobr>
                                <a href="thread.jspa?threadID=47415&tstart=0&messageID=121716#121716"
                                 title="by: Domingo"
                                 >Last Post</a>:
                                Dec 18, 2011 6:06 AM
                                by: Domingo
                                </nobr>

                        

                    </th>
                    <th width="1%" nowrap>
                        
                            
                        
                    </th>
                </tr>
            </thead>
            </table>
        </th>
    </tr>
</thead>
</table>
</div>
</div>

        <div id="jive-message-holder">
        

            <div class="jive-message-list">
            <div class="jive-table">

            








    

    <div class="jive-messagebox">
    <table summary="Message" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr valign="top" class="jive-even">
        <td width="1%" class="jive-first">
            <table cellpadding="0" cellspacing="0" border="0" width="150">
            <tr>
                <td>
                    

                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                        <tbody>
                            <tr valign="top">
                                <td width="1%" style="padding:0px;">
                                    <nobr>
                                    <a href="profile.jspa?userID=36062"
                                     title="Domingo"
                                     >Domingo</a>
                                    </nobr>
                                </td>
                                <td width="99%" style="padding:0px;">
                                    
                                </td>
                            </tr>
                        </tbody>
                        </table>

                        

                            

                            

                        

                        <br>

                        <span class="jive-description">

                        
                        Posts:
                        7
                        <br>
                        

                        
                        
                            Registered:
                            12/4/11
                        

                        </span>

                    
                </td>
            </tr>
            </table>
        </td>
        <td width="99%" class="jive-last">
            <table cellpadding="0" cellspacing="0" border="0" width="100%">
            <tr valign="top">
                <td width="1%">
                    
                </td>
                <td width="98%">

                    <span class="jive-subject">
                    <a name="121192"></a>
                    Chapter 5: Command objects under Grails 2.0.0-RC1
                    </span>

                    <br>

                    
                    <span class="jive-description">
                    Posted:
                    Dec 4, 2011 4:51 AM

                    
                    </span>
                </td>
                <td width="1%">

                    <div class="jive-buttons">
                    <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        

                        

                        
                        

                            <td>&nbsp;</td>
                            <td class="jive-icon">
                                <a href="post!reply.jspa?messageID=121192" title="Click to reply to this thread"
                                 ><img src="images/reply-16x16.gif" width="16" height="16" border="0" alt="Click to reply to this thread"></a>
                            </td>
                            <td class="jive-icon-label">
                                <a href="post!reply.jspa?messageID=121192"
                                 title="Click to reply to this thread"
                                 >Reply</a>
                            </td>

                        
                    </tr>
                    </table>
                    </div>

                </td>
            </tr>
            
            <tr>
                <td colspan="3" style="border-top: 1px #ccc solid;">
                    <br>
                    Hi, <br><br>I'm going through Grails in Action using Grails 2.0.0-RC1. It's rather smooth so far. The first obstacle that I noticed is a comman object (listing 5.13) that doesn't work. When pointing browser to register2 action I get:<br><br>URI<br>/hubbub/user/register2<br>Class<br>java.lang.IllegalArgumentException<br>Message<br>object is not an instance of declaring class<br><br>Line | Method<br>-&gt;&gt;  101 | doCall    in com.grailsinaction.UserRegistrationCommand$__clinit__closure1$$ENI6ld3w<br>- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - <br>|     26 | doFilter  in DevModeSanityFilter.groovy<br>|   1110 | runWorker in java.util.concurrent.ThreadPoolExecutor<br>|    603 | run       in java.util.concurrent.ThreadPoolExecutor$Worker<br>^    722 | run . . . in java.lang.Thread<br><br>which, if I clearly interpret the message, means that binding doesn't work for register2 action in the controller:<br><br>def register2 = {UserRegistrationCommand urc -&gt; <br>        if (urc.hasErrors()) {<br>        ...<br>}  <br><br>I tried with both closure and method as controller action (introduced in Grails 2) but the effect is the same. Any hints?
                    <br><br>
                </td>
            </tr>
            </table>
        </td>
    </tr>
    </table>
    </div>



            </div>
            </div>

        

            <div class="jive-message-list">
            <div class="jive-table">

            








    

    <div class="jive-messagebox">
    <table summary="Message" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr valign="top" class="jive-odd">
        <td width="1%" class="jive-first">
            <table cellpadding="0" cellspacing="0" border="0" width="150">
            <tr>
                <td>
                    

                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                        <tbody>
                            <tr valign="top">
                                <td width="1%" style="padding:0px;">
                                    <nobr>
                                    <a href="profile.jspa?userID=36062"
                                     title="Domingo"
                                     >Domingo</a>
                                    </nobr>
                                </td>
                                <td width="99%" style="padding:0px;">
                                    
                                </td>
                            </tr>
                        </tbody>
                        </table>

                        

                            

                            

                        

                        <br>

                        <span class="jive-description">

                        
                        Posts:
                        7
                        <br>
                        

                        
                        
                            Registered:
                            12/4/11
                        

                        </span>

                    
                </td>
            </tr>
            </table>
        </td>
        <td width="99%" class="jive-last">
            <table cellpadding="0" cellspacing="0" border="0" width="100%">
            <tr valign="top">
                <td width="1%">
                    
                </td>
                <td width="98%">

                    <span class="jive-subject">
                    <a name="121716"></a>
                    Re: Chapter 5: Command objects under Grails 2.0.0-RC1
                    </span>

                    <br>

                    
                    <span class="jive-description">
                    Posted:
                    Dec 18, 2011 6:06 AM

                    
                        &nbsp;
                        <nobr>
                        <a href="message.jspa?messageID=121192#121192"
                         title="Go to message"
                         ><img src="images/up-10x10.gif" width="10" height="10" border="0" alt="in response to: Domingo"></a>
                        
                        in response to: 
                                <a href="message.jspa?messageID=121192#121192"
                                 title="Go to message"
                                 >Domingo</a>
                            
                        <nobr>
                    
                    </span>
                </td>
                <td width="1%">

                    <div class="jive-buttons">
                    <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        

                        

                        
                        

                            <td>&nbsp;</td>
                            <td class="jive-icon">
                                <a href="post!reply.jspa?messageID=121716" title="Click to reply to this thread"
                                 ><img src="images/reply-16x16.gif" width="16" height="16" border="0" alt="Click to reply to this thread"></a>
                            </td>
                            <td class="jive-icon-label">
                                <a href="post!reply.jspa?messageID=121716"
                                 title="Click to reply to this thread"
                                 >Reply</a>
                            </td>

                        
                    </tr>
                    </table>
                    </div>

                </td>
            </tr>
            
            <tr>
                <td colspan="3" style="border-top: 1px #ccc solid;">
                    <br>
                    Hi, I returned to this issue because in other places where Command objects were used, they worked perfectly for me. So after investigating my issue more deeply I found a typo in my Command object, i.e.:<br><br>class UserRegistrationCommand {<br>     ...<br>     String fullName<br>     ...<br><br>     static constraints = {<br>       ...<br>       fullname(nullable: true) // should be fullName<br>     }<br>}<br><br>Pity that the message was completely missleading.
                    <br><br>
                </td>
            </tr>
            </table>
        </td>
    </tr>
    </table>
    </div>



            </div>
            </div>

        

        

        <div class="jive-message-list-footer">
        <table cellpadding="0" cellspacing="0" border="0" width="100%">
        <tbody>
            <tr>
                <td width="1%" nowrap>

                    <span class="jive-paginator-bottom">
                    

                                
                                <nobr>
                                Pages:
                                1

                                
                                </nobr>

                            
                    </span>

                </td>
                <td width="98%" align="center">
                    <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        <td>
                            <a href="forum.jspa?forumID=493"
                             ><img src="images/arrow-left-16x16.gif" width="16" height="16" border="0" hspace="6" alt="Back to Thread List"></a>
                        </td>
                        <td>
                            
                            <a href="forum.jspa?forumID=493"
                             >Back to Thread List</a>

                        </td>
                    </tr>
                    </table>
                </td>
                <td width="1%" nowrap>

                    
                            
                        

                </td>
            </tr>
        </tbody>
        </table>
        </div>

        </td>
        <td width="1%">

            








    <div class="jive-portlet-box">
    <table cellpadding="0" cellspacing="0" border="0" width="200">
    <thead>
        <tr>
            <th colspan="2">
                <a href="help.jspa#questions"
                 ><img src="images/help-16x16.gif" width="16" height="16" border="0" align="right" alt="" /></a>
                Legend
            </th>
        </tr>
    </thead>

    

        <tbody class="jive-status-legend-points">

            
                <tr>
                    <td width="1%">
                        <img src="images/status/05-gold.gif" border="0" title="Gold" alt="" />
                    </td>
                    <td width="99%">

                        Gold: 300

                        

                            +

                        

                        pts
                    </td>
                </tr>

            
                <tr>
                    <td width="1%">
                        <img src="images/status/03-silver.gif" border="0" title="Silver" alt="" />
                    </td>
                    <td width="99%">

                        Silver: 100

                        

                            - 299

                        

                        pts
                    </td>
                </tr>

            
                <tr>
                    <td width="1%">
                        <img src="images/status/01-bronze.gif" border="0" title="Bronze" alt="" />
                    </td>
                    <td width="99%">

                        Bronze: 25

                        

                            - 99

                        

                        pts
                    </td>
                </tr>

            

        </tbody>

    

    

        <tbody class="jive-status-legend-groups">

            
                <tr>
                    <td width="1%" class="jive-first-row">
                        <img src="images/status/author-16x16.gif" border="0" title="Manning Author" alt="" />
                    </td>
                    <td width="99%" class="jive-first-row">
                        Manning Author
                    </td>
                </tr>

            
                <tr>
                    <td width="1%" class="">
                        <img src="images/status/staff-16x16.gif" border="0" title="Manning Staff" alt="" />
                    </td>
                    <td width="99%" class="">
                        Manning Staff
                    </td>
                </tr>

            
                <tr>
                    <td width="1%" class="">
                        <img src="images/status/staff-16x16.gif" border="0" title="Manning Developmental Editor" alt="" />
                    </td>
                    <td width="99%" class="">
                        Manning Developmental Editor
                    </td>
                </tr>

            

        </tbody>

    

    </tbody>
    </table>
    </div>




        </td>
    </tr>
</tbody>
</table>


    <br>
    <a href="rss.jspa?feed=rss/rssmessages.jspa?threadID=47415"
    title="Point your RSS reader here for a feed of the latest messages in this thread"><img src="images/rss-24x16.gif" width="24" height="14" border="0" alt=""></a> <br><br>







</div>

<br><br>


        <table id="jive-footer" cellpadding="6" cellspacing="0" border="0" width="100%">
    <tr>
        <td>
            <a href="/category.jspa?categoryID=3">Author Online</a>
            |
            <!-- Login/logout -->
                <a href="login!default.jspa">Login</a>
            |
            <a href="help.jspa">Help</a>
            |
            <a href="search!default.jspa">Search</a>
            <br>
            <a href="http://www.jivesoftware.com/poweredby/" target="_blank">Powered by Jive Software</a>
        </td>
    </tr>
    </table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-5861300-3");
pageTracker._trackPageview();
} catch(err) {}</script>





</body>
</html>
