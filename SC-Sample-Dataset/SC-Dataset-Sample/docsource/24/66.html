<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="it">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Forum  Rmi Unmarshall exception  | Archivio del forum HTML.it</title>
<meta http-equiv="refresh" content="180" />
        
	<meta name="description" content="Rmi Unmarshall exception, Forum Java: commenti, esempi e tutorial dalla community di HTML.it." />
	<link rel="canonical" href="http://forum.html.it/forum/showthread/t-1512623.html" />
<link rel="Shortcut Icon" href="http://forum.html.it/forum/favicon.ico" type="image/x-icon" />
      
	<link rel="stylesheet" type="text/css" href="http://forum.html.it/forum/archive/archive.css?v=3" />
            <script type="text/javascript" src="http://common.html.it/js/jquery.js?tmp=87659823649"></script>
		<script type="text/javascript" src="http://common.html.it/js/advertising/overlayer/overlayer.js"></script>
		<script type="text/javascript" src="http://common.html.it/js/advertising/common.js"></script>
		<script type="text/javascript" src="http://common.html.it/js/advertising/interstitial/interstitial.js"></script>
                
<link rel="stylesheet" type="text/css" media="screen, handheld" href="http://utenti.html.it/common/css/forum.all.css?ver=031207" />
		<link rel="stylesheet" type="text/css" media="screen, handheld" href="http://common.html.it/css/advertising/premium-links/premium-links.css" />
		<script type="text/javascript" src="http://common.html.it/js/webtoolkit.base64.js"></script>
		<script type="text/javascript" src="http://common.html.it/js/utils.js"></script>
		<script type="text/javascript" src="http://forum.html.it/forum/waypoints.min.js"></script>
                
<script type='text/javascript' src='http://common.html.it/js/jquery.extend.js?ver=1.0.0'></script>
<script type='text/javascript' src='http://common.html.it/js/swfobject.js?ver=1.5.0'></script>
<script type='text/javascript' src='http://common.html.it/js/advertising/common.js?ver=1.0.0'></script>
<script type='text/javascript' src='http://common.html.it/js/jq_plugin/jquery.hint.pack.js?ver=1.0.0'></script>
<script>
$(document).ready(function() {
               if( $('#post-bannerbox-1').length > 0 ) {
                        $.waypoints.settings.scrollThrottle = 10;
                        $('#post-bannerbox-1').waypoint(function(event, direction) {
                                $(this).toggleClass('post-bannerbox', direction === "down");
                                event.stopPropagation();
                        });						
                }
            });
            </script>
          <script type="text/javascript" src="http://balupton.github.com/jquery-syntaxhighlighter/scripts/jquery.syntaxhighlighter.min.js"></script>
<script type="text/javascript" src="/forum/syntaxhighlight.js"></script>

<!-- Codice Google Analytics -->
<script type="text/javascript" src="http://common.html.it/js/ga/ga-forum-addon.js"></script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push
	(['_setAccount', 'UA-272662-1'],['_setDomainName', '.html.it'],['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = 'http://www.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
<!-- Codice Google Analytics -->
<script type='text/javascript'>
     
            var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
        (function() {
        var gads = document.createElement('script');
        gads.async = true;
        gads.type = 'text/javascript';
        var useSSL = 'https:' == document.location.protocol;
        gads.src = (useSSL ? 'https:' : 'http:') + 
        '//www.googletagservices.com/tag/js/gpt.js';
        var node = document.getElementsByTagName('script')[0];
        node.parentNode.insertBefore(gads, node);
        })();

        googletag.cmd.push(function() {
        //googletag.defineSlot('/6312/dqa.tag.html.it/archivio_forum', [[980, 30], [980, 60], [980, 80]], 'div-gpt-ad-1374842790468-0').addService(googletag.pubads());
        //googletag.defineSlot('/6312/dqa.tag.html.it/archivio_forum', [980, 30], 'div-gpt-ad-1374842790468-0').addService(googletag.pubads());
        googletag.enableServices();

        });

   

    </script> 
    </head>
<body class="archive">
<div id="header" class="floatcontainer doc_header">
	<div><a name="top" href="/forum/forum.php" class="logo-image"><img src="/forum/images/misc/vbulletin4_logo.png" alt="Forum html.it - Powered by vBulletin" title="Forum html.it - Powered by vBulletin"></a></div>
	 <ul class="main-menu">
      <li><a href="http://www.html.it">HTML.it</a></li>
      <li><a href="http://download.html.it">Download</a></li>
      <li><a href="http://video.html.it">Video</a></li>
      <li><a href="http://corsi.html.it">Corsi</a></li>
    </ul>
    <div id="toplinks" class="toplinks">
        <ul class="nouser">
            <li><a rel="help" href="/forum/archive/">Home</a></li>
            <li><a href="/forum/register.php" rel="nofollow">Registrazione</a></li>
            
            <li><a rel="home" href="/forum/member.php?s=&action=logout">Logout</a></li>
        </ul>		
	</div>
	<div class="ad_global_header">
		<!-- BEGIN TEMPLATE: ad_global_header1 -->

<!-- END TEMPLATE: ad_global_header1 -->
		<!-- BEGIN TEMPLATE: ad_global_header2 -->

<!-- END TEMPLATE: ad_global_header2 -->
	</div>
	<hr>


</div><div class="pagebody"><div id="navbar"><a href="http://forum.html.it/forum/archive/index.php?s=94f5279d245576057058752419577d67">Forum HTML.it</a> &gt; <a href="http://forum.html.it/forum/archive/index.php/f-59.html?s=94f5279d245576057058752419577d67">Lato server</a> &gt; <a href="http://forum.html.it/forum/archive/index.php/f-31.html?s=94f5279d245576057058752419577d67">Programmazione</a> &gt; <a href="http://forum.html.it/forum/archive/index.php/f-79.html?s=94f5279d245576057058752419577d67">Java</a> &gt;  Rmi Unmarshall exception</div>
<hr />
<div class="pda"><a href="http://forum.html.it/forum/archive/index.php/t-1512623.html?s=94f5279d245576057058752419577d67&amp;pda=1" rel="nofollow">PDA</a></div>
<script>_gaq.push(['_trackPageview', '/xk/archive/lato-server/programmazione/java/rmi-unmarshall-exception/1/20120622/']);</script><p class="largefont">Visualizza la versione completa : <a href="http://forum.html.it/forum/showthread.php?threadid=1512623&amp;s=94f5279d245576057058752419577d67">Rmi Unmarshall exception</a></p>
<hr />
<div class="floatcontainer" ><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <div id="google_ban"></div>
                <div style="margin-top:2px;">&nbsp;</div>
              

                <div id="post-bannerbox-1"><script type="text/javascript">
                if (typeof(et_ord)=='undefined')
                et_ord=Math.floor(Math.random()*10000000000000000);
                et_tile=1;
                document.write('<scr'+'ipt language="JavaScript" src="http://ad.nl.doubleclick.net/adj/dqa.tag.html.it/archivio_forum;dcopt=ist;sz=300x250;tile=' + (et_tile++) + ';ord=' + et_ord + '?" type="text/javascript"></scr' + 'ipt>');
                
             
                $(document).ready(function() {
                    //alert(typeof expandingFullscreenOptions);
                    if (typeof expandingFullscreenOptions === 'undefined' ){
                        $('.pagebody').before('<div id="div-gpt-ad-1374842790468-0" class="banner_top"></div>');
                        googletag.cmd.push(function() { googletag.display('div-gpt-ad-1374842790468-0'); });
                        $('#google_ban').html('<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px"  data-ad-client="ca-pub-8169396049480252" data-ad-slot="5931793634/2279614274"></ins><div style="margin-top:2px;">&nbsp;</div>');
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    }
                });    
                </script> </div><!-- BEGIN TEMPLATE: ad_archive_above_content2 -->

<!-- END TEMPLATE: ad_archive_above_content2 --></div>
<div class="post"><div class="posttop"><div class="username">jonnykaraoke</div><div class="date">22-06-2012, 10:45</div></div><div class="posttext">Ciao a tutti, ho fatto un programmino di test per l'rmi è ho l'eccezione da titolo,vi ricopio il codice, sto usando netbeans con 3 progetti, uno è il server uno il client e l'altro è l'interfaccia remota...ho linkato l'interfaccia remota per avere il riferimento sia nel server che nel client:<br />
Client:<br />
<br />
 <br />
package rmi.client;<br />
import java.net.MalformedURLException;<br />
import java.rmi.Naming;<br />
import java.rmi.NotBoundException;<br />
import java.rmi.RemoteException;<br />
import rmi.shared.IRemoteInterface;<br />
<br />
public class RMIClient {<br />
<br />
    /**<br />
     * @param args the command line arguments<br />
     */<br />
    public static void main(String[] args) throws NotBoundException, MalformedURLException, RemoteException{<br />
       IRemoteInterface server = (IRemoteInterface)Naming.lookup(&quot;RMIService&quot;);<br />
       server.output();<br />
    }<br />
<br />
<br />
}<br />
<br />
 <br />
Interfaccia:<br />
<br />
 <br />
package rmi.shared;<br />
<br />
import java.rmi.Remote;<br />
import java.rmi.RemoteException;<br />
<br />
<br />
public interface IRemoteInterface extends Remote {<br />
    <br />
 public void output()throws RemoteException;<br />
}<br />
<br />
 <br />
Server:<br />
StartServer:<br />
<br />

<br />
import java.net.MalformedURLException;<br />
import java.rmi.Naming;<br />
import java.rmi.RemoteException;<br />
import rmi.server.ServerClass;<br />
<br />
public class StartServer {<br />
<br />
	<br />
	public static void main(String[] args)throws RemoteException,MalformedURLException {<br />
<br />
		ServerClass server;<br />
		server = new ServerClass();<br />
		Naming.rebind(&quot;RMIService&quot;,server);<br />
		System.out.println(&quot;Servers Started&quot;);<br />
	}<br />
}<br />
  <br />
ServerClass:<br />
<br />

<br />
package rmi.server;<br />
<br />
import java.rmi.RemoteException;<br />
import java.rmi.server.UnicastRemoteObject;<br />
import rmi.shared.IRemoteInterface;<br />
<br />
<br />
public class ServerClass  extends UnicastRemoteObject implements IRemoteInterface{<br />
    public ServerClass() throws RemoteException {<br />
	}<br />
    @Override<br />
    public void output(){<br />
        System.out.println(&quot;Ciao! Sono il server che ti parla&quot;);<br />
    }<br />
    <br />
}<br />
  <br />
<br />
l'errore avviene all'avvio della classe startserver, ho passato questi argomenti:<br />
StartServer: -Djava.rmi.server.codebase=&quot;file://${workspace_loc:RMI-Shared}/bin/ file://${workspace_loc:RMI-Server}/bin/&quot;<br />
RMICLient: -Djava.security.policy=client.policy<br />
naturalmente ho creato pure il policy<br />
l'eccezione è questa:<br />
<br />

<br />
Exception in thread &quot;main&quot; java.rmi.ServerException: RemoteException occurred in server thread; nested exception is: <br />
	java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: <br />
	java.lang.ClassNotFoundException: rmi.shared.IRemoteInterface<br />
	at sun.rmi.server.UnicastServerRef.oldDispatch(Unicas tServerRef.java:419)<br />
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastSe rverRef.java:267)<br />
	at sun.rmi.transport.Transport$1.run(Transport.java:1 77)<br />
	at java.security.AccessController.doPrivileged(Native Method)<br />
	at sun.rmi.transport.Transport.serviceCall(Transport. java:173)<br />
	at sun.rmi.transport.tcp.TCPTransport.handleMessages( TCPTransport.java:553)<br />
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandl er.run0(TCPTransport.java:808)<br />
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandl er.run(TCPTransport.java:667)<br />
	at java.util.concurrent.ThreadPoolExecutor.runWorker( ThreadPoolExecutor.java:1110)<br />
	at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:603)<br />
	at java.lang.Thread.run(Thread.java:679)<br />
	at sun.rmi.transport.StreamRemoteCall.exceptionReceiv edFromServer(StreamRemoteCall.java:273)<br />
	at sun.rmi.transport.StreamRemoteCall.executeCall(Str eamRemoteCall.java:251)<br />
	at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:3 77)<br />
	at sun.rmi.registry.RegistryImpl_Stub.rebind(Unknown Source)<br />
	at java.rmi.Naming.rebind(Naming.java:177)<br />
	at StartServer.main(StartServer.java:13)<br />
Caused by: java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: <br />
	java.lang.ClassNotFoundException: rmi.shared.IRemoteInterface<br />
	at sun.rmi.registry.RegistryImpl_Skel.dispatch(Unknow n Source)<br />
	at sun.rmi.server.UnicastServerRef.oldDispatch(Unicas tServerRef.java:409)<br />
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastSe rverRef.java:267)<br />
	at sun.rmi.transport.Transport$1.run(Transport.java:1 77)<br />
	at java.security.AccessController.doPrivileged(Native Method)<br />
	at sun.rmi.transport.Transport.serviceCall(Transport. java:173)<br />
	at sun.rmi.transport.tcp.TCPTransport.handleMessages( TCPTransport.java:553)<br />
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandl er.run0(TCPTransport.java:808)<br />
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandl er.run(TCPTransport.java:667)<br />
	at java.util.concurrent.ThreadPoolExecutor.runWorker( ThreadPoolExecutor.java:1110)<br />
	at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:603)<br />
	at java.lang.Thread.run(Thread.java:679)<br />
Caused by: java.lang.ClassNotFoundException: rmi.shared.IRemoteInterface<br />
	at java.net.URLClassLoader$1.run(URLClassLoader.java: 217)<br />
	at java.security.AccessController.doPrivileged(Native Method)<br />
	at java.net.URLClassLoader.findClass(URLClassLoader.j ava:205)<br />
	at java.lang.ClassLoader.loadClass(ClassLoader.java:3 21)<br />
	at java.lang.ClassLoader.loadClass(ClassLoader.java:2 66)<br />
	at java.lang.Class.forName0(Native Method)<br />
	at java.lang.Class.forName(Class.java:264)<br />
	at sun.rmi.server.LoaderHandler.loadProxyInterfaces(L oaderHandler.java:728)<br />
	at sun.rmi.server.LoaderHandler.loadProxyClass(Loader Handler.java:672)<br />
	at sun.rmi.server.LoaderHandler.loadProxyClass(Loader Handler.java:609)<br />
	at java.rmi.server.RMIClassLoader$2.loadProxyClass(RM IClassLoader.java:646)<br />
	at java.rmi.server.RMIClassLoader.loadProxyClass(RMIC lassLoader.java:311)<br />
	at sun.rmi.server.MarshalInputStream.resolveProxyClas s(MarshalInputStream.java:255)<br />
	at java.io.ObjectInputStream.readProxyDesc(ObjectInpu tStream.java:1548)<br />
	at java.io.ObjectInputStream.readClassDesc(ObjectInpu tStream.java:1510)<br />
	at java.io.ObjectInputStream.readOrdinaryObject(Objec tInputStream.java:1749)<br />
	at java.io.ObjectInputStream.readObject0(ObjectInputS tream.java:1346)<br />
	at java.io.ObjectInputStream.readObject(ObjectInputSt ream.java:368)<br />
	... 12 more</div></div><hr />

<div id="video_contenitore" style="width:300px;display:block;margin-left:470px"></div>
<link rel="stylesheet" href="http://www.html.it/wp-content/themes/www.html.it/widgets/widget_video.css" type="text/css" />
<script type='text/javascript' src='http://video.html.it/wp-content/themes/the-bootstrap/js/flowplayer/flowplayer-3.2.11.min.js'></script>
<script type='text/javascript' src='http://video.html.it/wp-content/themes/the-bootstrap/js/flash_detect.js'></script>
<script type='text/javascript' src='http://video.html.it/widget_video.php'></script>
<div class="post"><div class="posttop"><div class="username">LeleFT</div><div class="date">22-06-2012, 13:24</div></div><div class="posttext">Quell'eccezione viene provocata dalla ClassNotFoundException appena sotto ed, infatti, la Documentazione dell'eccezione (http://docs.oracle.com/javase/1.4.2/docs/api/java/rmi/UnmarshalException.html) la elenca tra le possibili cause.<br />
<br />
Secondo me non ti stai portando dietro tutte le librerie. In particolare, non ti stai portando dietro il JAR che contiene l'interfaccia.<br />
<br />
Verifica che nella cartella da cui stai avviando il server vi sia la nota cartella &quot;lib&quot; con all'interno tutti i JAR necessari e che questi siano nel classpath del JAR che contiene il server.<br />
<br />
Ricordo sempre che NetBeans genera automaticamente il JAR dell'applicazione all'interno della directory &quot;dist&quot;, ma che dentro a tale cartella genera sempre anche una cartella &quot;lib&quot; con tutte le librerie necessarie al suo funzionamento (questo, per quanto riguarda le impostazioni standard di NetBeans) e che l'applicazione non è composta solo dal JAR, ma anche da tutta la cartella &quot;lib&quot;, che deve chiamarsi &quot;lib&quot; e deve contenere i JAR delle librerie usate.<br />
<br />
<br />
Ciao. :ciauz:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jonnykaraoke</div><div class="date">22-06-2012, 13:56</div></div><div class="posttext">non mi viene dato l'errore nella dichiarazione dell'interfaccia remota nel client e nel server...poichè ho fatto il &quot;link&quot; , quindi mi viene riconosciuta...altrimenti mi direbbe che non esiste l'oggetto interfaccia remota...quindi credo che la prenda...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LeleFT</div><div class="date">22-06-2012, 14:43</div></div><div class="posttext">Originariamente inviato da jonnykaraoke <br />
non mi viene dato l'errore nella dichiarazione dell'interfaccia remota nel client e nel server...poichè ho fatto il &quot;link&quot; , quindi mi viene riconosciuta...altrimenti mi direbbe che non esiste l'oggetto interfaccia remota...quindi credo che la prenda... <br />
<br />
Non so cosa tu intenda per &quot;link&quot;.<br />
Io sto parlando dell'esecuzione (non della compilazione).<br />
Non so in che modo tu stia cercando di avviare il server (spero, mi auguro, non dall'interno dell'IDE: farlo significa quasi sempre mettersi nella peggiore condizione in termini di &quot;normalità&quot;), ma di sicuro la JVM, al momento del caricamento della classe dell'interfaccia remota, non la trova nel CLASSPATH. E l'eccezione è lì a dimostrarlo:<br />
<br />
<br />

<br />
Caused by: java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: <br />
	java.lang.ClassNotFoundException: rmi.shared.IRemoteInterface<br />
<br />
<br />
Ciao. :ciauz:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jonnykaraoke</div><div class="date">22-06-2012, 16:30</div></div><div class="posttext">per link intendo che do il riferimento alla interfaccia remota...senza riscrivere l'oggetto interfaccia remota...per avvio del server intendo che prima ho avviato l'rmiregistry e poi ho avviato la classe startserver del mio progetto per fare il rebind...poi avvio la classe del mio client...secondo voi dovrei copiare il codice dell'interfaccia remota sia nel server che nel client? il test è in locale se non si è capito...solo che la comunicazione tra i progetti è come se fosse remota...è strano perchè prima mi dava l'errore di interfaccia non trovata, poi dall'ide ho detto di condividere le classi col progetto shared dove c'è l'interfaccia remota, e l'errore è scomparso quindi il progetto client e server riescono ad accedere al codice dell'interfaccia</div></div><hr />

<!-- BEGIN TEMPLATE: ad_archive_below_content -->

<!-- END TEMPLATE: ad_archive_below_content --></div></div>


<!-- da inserire in forum per popOver upcloo-->
<div class="upcloo-widget" id="upcloo_1000"></div>
<script>                                            
if(window.location.pathname.substring(6,20) == "/showthread/t-") {
    (function(g,d,id){
      upCloo = g.upCloo || [];
      upCloo.push(
        {
          "permalink" : "http://forum.html.it" + window.location.pathname,
          "siteKey" : "it-bs84TSrto",
          "vSiteKey" : "it-bs85TSrto"
        }
      );
      var s = d.createElement("script") , n = d.getElementsByTagName("script")[0];
      s.type = "text/javascript";
      s.async = true;s.id = id;
      s.src = "//r.upcloo.com/a/a.js";
      !d.getElementById(id) ? n.parentNode.insertBefore(s,n) :false;
    })(this,document,"upcloo_js_sdk")
}
</script>

<div id="cse-search-form" style="width: 70%; margin: 10px auto;text-align:center;">Loading</div>
<script src="http://www.google.it/jsapi" type="text/javascript"></script>
<script type="text/javascript">
  google.load('search', '1', {language : 'it', style : google.loader.themes.SHINY});
  google.setOnLoadCallback(function() {
    var customSearchOptions = {};
    var imageSearchOptions = {};
    imageSearchOptions['layout'] = google.search.ImageSearch.LAYOUT_CLASSIC;
    customSearchOptions['enableImageSearch'] = true;
    customSearchOptions['imageSearchOptions'] = imageSearchOptions;
    customSearchOptions['adoptions'] = {'layout': 'noTop'};
    var customSearchControl = new google.search.CustomSearchControl(
      'partner-pub-4803537127241677:7870217968', customSearchOptions);
    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
    var options = new google.search.DrawOptions();
    options.setAutoComplete(true);
    customSearchControl.setAutoCompletionId('partner-pub-4803537127241677:7870217968+qptype:1');
    options.enableSearchboxOnly("http://forum.html.it/forum/search_results.html?tag=cse", "cerca");
    customSearchControl.draw('cse-search-form', options);
  }, true);
</script></body></html>
