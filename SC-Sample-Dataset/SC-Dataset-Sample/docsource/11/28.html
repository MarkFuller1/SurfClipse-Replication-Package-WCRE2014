<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
    <head>
        <title>Exceptions, Console Input Validation, Handling Errors</title>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
        <meta http-equiv="Expires" content="Wed, 31 Jan 2007 23:59:59 GMT" />
        <link rel="stylesheet" type="text/css" href="syllabus.css" />
    </head>
    <body>
    <p>
        CIS-157 Home:
        <a href="http://www.c-jump.com/bcc/c157c/c157syllabus.html"><tt>http://www.c-jump.com/bcc/c157c/c157syllabus.html</tt></a>
    </p>
    <h3>
        Exceptions, Console Input Validation, Handling Errors
    </h3>
    <hr />
        <ol>
            <li><a href="#W01_0010_error_types">Error Types</a></li>
            <li><a href="#W01_0020_common_syntax_errors">Common syntax errors</a></li>
            <li><a href="#W01_0030_common_runtime_errors">Common runtime errors</a></li>
            <li><a href="#W01_0040_common_logic_errors">Common logic errors</a></li>
            <li><a href="#W01_0050_exception_hierarchy">Exception hierarchy</a></li>
            <li><a href="#W01_0060_exception_stack_trace">Exception Stack Trace</a></li>
            <li><a href="#W01_0070_methods_that_throw_ex">Methods that throw exceptions</a></li>
            <li><a href="#W01_0080_try_statement">try statement</a></li>
            <li><a href="#W01_0090_inputmismatchexceptio">InputMismatchException class</a></li>
            <li><a href="#W01_0100_inputmismatchexceptio">InputMismatchException example</a></li>
            <li><a href="#W01_0110_the_catch_blocks">The catch Blocks</a></li>
            <li><a href="#W01_0120_the_finally_block">The finally Block</a></li>
            <li><a href="#W01_0130_scanner_input_validat">Scanner input validation</a></li>
            <li><a href="#W01_0140_code_that_prevents_an">Code that prevents an InputMismatchException</a></li>
            <li><a href="#W01_0150_code_that_prevents_a_">Code that prevents a NullPointerException</a></li>
            <li><a href="#W01_0160_scanner_hasnextdouble">Scanner hasNextDouble example</a></li>
            <li><a href="#W01_0170_another_scanner_hasne">Another Scanner hasNextDouble example</a></li>
            <li><a href="#W01_0180_the_catch_or_specify_">The Catch or Specify Requirement</a></li>
        </ol>
<a id="W01_0010_error_types"></a>


    <h3>
        1. Error Types
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     There are three types of errors that may occur in Java programming:
   </p>
   <ul>
    <li>
     <p>
      <strong>Syntax errors</strong> (or <em>compile-time errors</em>) -- violate Java syntax rules or rules for Java statements (e.g. code may require an exception handler.)
     </p>
    </li>
    <li>
     <p>
      <strong>Runtime errors</strong> -- the syntax is okay, but these errors throw exceptions that stop the execution of the application.
     </p>
    </li>
    <li>
     <p>
      <strong>Logic errors</strong> -- the code that produces the wrong results without syntax or runtime errors, e.g. wrong formula to convert inches to centimeters.
     </p>
    </li>
   </ul>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0020_common_syntax_errors"></a>


    <h3>
        2. Common syntax errors
    </h3>
 <hr />
 <ul>
  <li>
   <p>
    Misspelling keywords.
   </p>
  </li>
  <li>
   <p>
    Forgetting to declare a data type for a variable.
   </p>
  </li>
  <li>
   <p>
    Forgetting an opening or closing parenthesis, bracket, brace, or comment character.
   </p>
  </li>
  <li>
   <p>
    Forgetting to code a semicolon at the end of a statement.
   </p>
  </li>
  <li>
   <p>
    Forgetting an opening or closing quotation mark.
   </p>
  </li>
  <li>
   <p>
    Using a reserved word, global property, or global method as an identifier.
   </p>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0030_common_runtime_errors"></a>


    <h3>
        3. Common runtime errors
    </h3>
 <hr />
 <ul>
  <li>
   <p>
    Not checking the value before processing it. For example, user enters non-numeric value instead of a number.
   </p>
  </li>
  <li>
   <p>
    Division by zero
   </p>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0040_common_logic_errors"></a>


    <h3>
        4. Common logic errors
    </h3>
 <hr />
 <ul>
  <li>
   <p>
    Misspelling or incorrectly capitalizing an identifier, then using a wrong variable as a result.
   </p>
  </li>
  <li>
   <p>
    Using one equals sign <tt>(=)</tt> instead of two <tt>(==)</tt> when testing numeric and boolean values for equality.
   </p>
  </li>
  <li>
   <p>
    Using two equals signs <tt>(==)</tt> instead of <tt>equals()/equalsIgnoreCase()</tt> methods to test two strings for equality.
   </p>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0050_exception_hierarchy"></a>


    <h3>
        5. Exception hierarchy
    </h3>
 <hr />
 <ul>
  <li>
   <p>
    The Java programming language uses exceptions to handle errors and other exceptional events
   </p>
  </li>
  <li>
   <p>
    Some of the classes in the Exception hierarchy
   </p>
<pre>
<tt>
Exception
    RuntimeException
        NoSuchElementException
            InputMismatchException
        IllegalArgumentException
            NumberFormatException
        ArithmeticException
        NullPointerException
</tt>
</pre>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0060_exception_stack_trace"></a>


    <h3>
        6. Exception Stack Trace
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     After an <tt>InputMismatchException</tt> has been thrown,
    the console output window might look like this:
   </p>
<pre>Exception in thread "main" java.util.InputMismatchException
    at java.util.Scanner.throwFor(Scanner.java:909)
    at java.util.Scanner.next(Scanner.java:1530)
    at java.util.Scanner.nextDouble(Scanner.java:2456)
    at InvoiceApp.main(InvoiceApp.java:20)
</pre>
   <p>
    The program prints a stack trace and exits.
   </p>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0070_methods_that_throw_ex"></a>


    <h3>
        7. Methods that throw exceptions
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     Four methods that might throw an exception:
   </p>
<pre>
<tt>
 <strong>Class       Method                 Throws
 ---------   -------------------    -----------------------</strong>
 Scanner     nextInt()              InputMismatchException
 Scanner     nextDouble()           InputMismatchException
 Integer     parseInt(String)       NumberFormatException
 Double      parseDouble(String)    NumberFormatException
</tt>
</pre>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0080_try_statement"></a>


    <h3>
        8. try statement
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     The syntax for the <span style="color: blue">try</span> statement
   </p>
<pre>
<tt>
        <b><font color=#0000FF>try</font></b> { statements }
        <b><font color=#0000FF>catch</font></b> (ExceptionClass exceptionName) { statements }
</tt>
</pre>
   <ul>
    <li>
     <p>
      A <span style="color: blue">try</span> statement anticipates that an exception <em>may</em> occur
     </p>
    </li>
    <li>
     <p>
      A <span style="color: blue">catch</span> block to provide a <em>handler</em> for the exception
     </p>
    </li>
   </ul>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0090_inputmismatchexceptio"></a>


    <h3>
        9. InputMismatchException class
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     Two ways to import the <tt>InputMismatchException</tt> class
   </p>
<pre>
<tt>
<span style="color: blue">import</span> java.util.InputMismatchException;
<span style="color: blue">import</span> java.util.*;
</tt>
</pre>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0100_inputmismatchexceptio"></a>


    <h3>
        10. InputMismatchException example
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     A <span style="color: blue">try</span> statement that catches an <tt>InputMismatchException</tt>
   </p>
<pre>
<tt>
<b><font color=#0000FF>double</font></b> subtotal = <font color=#000000>0</font>.<font color=#000000>0</font>;
<b><font color=#0000FF>try</font></b>
{
    System.out.print(<font color=#9A1900>"Enter subtotal:   "</font>);
    subtotal = sc.nextDouble();
}
<b><font color=#0000FF>catch</font></b> (InputMismatchException e)
{
    sc.next();  <b><font color=#009900>// discard the incorrectly entered double
</font></b>    System.out.println(
        <font color=#9A1900>"Error! Invalid number. Try again.\n"</font>);
    <b><font color=#0000FF>continue</font></b>;   <b><font color=#009900>// jump to the top of the loop
</font></b>}
</tt>
</pre>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0110_the_catch_blocks"></a>


    <h3>
        11. The catch Blocks
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     Multiple <span style="color: blue">catch</span> blocks are allowed:
   </p>
<pre>
<tt>
<b><font color=#0000FF>try</font></b> {

} <b><font color=#0000FF>catch</font></b> (ExceptionType name) {

} <b><font color=#0000FF>catch</font></b> (ExceptionType name) {

}
</tt>
</pre>
   <p>
    For example,
   </p>
<pre>
<tt>
<b><font color=#0000FF>try</font></b> {

} <b><font color=#0000FF>catch</font></b> (FileNotFoundException e) {
    System.err.println(<font color=#9A1900>"FileNotFoundException: "</font> + e.getMessage());
    <b><font color=#0000FF>throw</font></b> <b><font color=#0000FF>new</font></b> SampleException(e);

} <b><font color=#0000FF>catch</font></b> (IOException e) {
    System.err.println(<font color=#9A1900>"Caught IOException: "</font> + e.getMessage());
}
</tt>
</pre>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0120_the_finally_block"></a>


    <h3>
        12. The finally Block
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     The <span style="color: blue">finally</span> block executes
   </p>
   <ul>
    <li>
     <p>
      when the <span style="color: blue">try</span> block exits normally, or
     </p>
    </li>
    <li>
     <p>
      when an exception occurs.
     </p>
    </li>
   </ul>
  </li>
  <li>
   <p>
    Therefore, the <span style="color: blue">finally</span> block <em>always</em> executes when the <span style="color: blue">try</span> block exits.
   </p>
<pre>
<tt>
<b><font color=#0000FF>try</font></b> {

} <b><font color=#0000FF>catch</font></b> (ExceptionType name) {

} <b><font color=#0000FF>catch</font></b> (ExceptionType name) {

} finally {
    <b><font color=#009900>// always executes
</font></b>}
</tt>
</pre>
  </li>
  <li>
   <p>
    The <span style="color: blue">finally</span> block is a key tool for preventing <em>resource leaks</em>. Place the code in a <span style="color: blue">finally</span> block
    when closing a file or recovering other resources
   </p>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0130_scanner_input_validat"></a>


    <h3>
        13. Scanner input validation
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     There are methods of the Scanner class that you can use to validate data:
   </p>
   <ul>
    <li>
     <p>
      hasNext( )
     </p>
    </li>
    <li>
     <p>
      hasNextInt( )
     </p>
    </li>
    <li>
     <p>
      hasNextDouble( )
     </p>
    </li>
    <li>
     <p>
      nextLine( )
     </p>
    </li>
   </ul>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0140_code_that_prevents_an"></a>


    <h3>
        14. Code that prevents an InputMismatchException
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
<pre>
<tt>
<b><font color=#0000FF>double</font></b> subtotal = <font color=#000000>0</font>.<font color=#000000>0</font>;
System.out.print(<font color=#9A1900>"Enter subtotal:   "</font>);
<b><font color=#0000FF>if</font></b> (sc.hasNextDouble())
{
    subtotal = sc.nextDouble();
}
<b><font color=#0000FF>else</font></b>
{
    sc.nextLine();    <b><font color=#009900>// discard the entire line
</font></b>    System.out.println(
        <font color=#9A1900>"Error! Invalid number. Try again.\n"</font>);
    <b><font color=#0000FF>continue</font></b>;         <b><font color=#009900>// jump to the top of the loop
</font></b>}
</tt>
</pre>
   <p>
    Console output:
   </p>
<pre>Enter subtotal:   $100
Error! Invalid number. Try again.

Enter subtotal:
</pre>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0150_code_that_prevents_a_"></a>


    <h3>
        15. Code that prevents a NullPointerException
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
<pre>
<tt>
<b><font color=#0000FF>if</font></b> (customerType != <span style="color: blue">null</span>)
{
    <b><font color=#0000FF>if</font></b> (customerType.equals(<font color=#9A1900>"R"</font>))
         discountPercent = .<font color=#000000>4</font>;
}
</tt>
</pre>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0160_scanner_hasnextdouble"></a>


    <h3>
        16. Scanner hasNextDouble example
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     Code that gets a valid double value within a specified range
   </p>
<pre>
<tt>
Scanner sc = <b><font color=#0000FF>new</font></b> Scanner(System.in);
<b><font color=#0000FF>double</font></b> subtotal = <font color=#000000>0</font>.<font color=#000000>0</font>;
boolean isValid = <b><font color=#0000FF>false</font></b>;
<b><font color=#0000FF>while</font></b> (isValid == <b><font color=#0000FF>false</font></b>)
{
    <b><font color=#009900>// get a valid double value
</font></b>    System.out.print(<font color=#9A1900>"Enter subtotal:   "</font>);
    <b><font color=#0000FF>if</font></b> (sc.hasNextDouble())
    {
        subtotal = sc.nextDouble();
        isValid = <b><font color=#0000FF>true</font></b>;
    }
    <b><font color=#0000FF>else</font></b>
    {
        System.out.println(
            <font color=#9A1900>"Error! Invalid number. Try again."</font>);
    }
    sc.nextLine();
    <b><font color=#009900>// discard any other data entered on the line
</font></b>    <b><font color=#009900>// check the range of the double value
</font></b>    <b><font color=#0000FF>if</font></b> (isValid == <b><font color=#0000FF>true</font></b> &amp;&amp; subtotal &lt;= <font color=#000000>0</font>)
    {
        System.out.println(
            <font color=#9A1900>"Error! Number must be greater than 0."</font>);
        isValid = <b><font color=#0000FF>false</font></b>;
    }
    <b><font color=#0000FF>else</font></b> <b><font color=#0000FF>if</font></b> (isValid == <b><font color=#0000FF>true</font></b> &amp;&amp; subtotal &gt;= <font color=#000000>10000</font>)
    {
        System.out.println(
            <font color=#9A1900>"Error! Number must be less than 10000."</font>);
        isValid = <b><font color=#0000FF>false</font></b>;
    }
}
</tt>
</pre>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0170_another_scanner_hasne"></a>


    <h3>
        17. Another Scanner hasNextDouble example
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     A method that gets a valid numeric format
   </p>
<pre>
<tt>
<b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>double</font></b> getDouble(Scanner sc, String prompt)
{
    <b><font color=#0000FF>double</font></b> dbl = <font color=#000000>0</font>.<font color=#000000>0</font>;
    boolean isValid = <b><font color=#0000FF>false</font></b>;
    <b><font color=#0000FF>while</font></b> (isValid == <b><font color=#0000FF>false</font></b>)
    {
        System.out.print(prompt);
        <b><font color=#0000FF>if</font></b> (sc.hasNextDouble())
        {
            dbl = sc.nextDouble();
            isValid = <b><font color=#0000FF>true</font></b>;
        }
        <b><font color=#0000FF>else</font></b>
        {
            System.out.println(
                <font color=#9A1900>"Error! Invalid number. Try again."</font>);
        }
        sc.nextLine();       <b><font color=#009900>// discard any other data
</font></b>    }
    <b><font color=#0000FF>return</font></b> dbl;
}
</tt>
</pre>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>
 <hr />


<a id="W01_0180_the_catch_or_specify_"></a>


    <h3>
        18. The Catch or Specify Requirement
    </h3>
 <hr />
 <ul style="list-style-type:none;">
  <li>
   <p>
     Each Java program must follow this rule:
   </p>
   <ul style="list-style-type:none;">
    <li>
     <p>
       if a block of code can throw an exception, such block of code must be
     </p>
     <ul style="list-style-type:none;">
      <li>
       <p>
         (a) wrapped by a <span style="color: blue">try</span> statement that catches exceptions and handles them in the corresponding <span style="color: blue">catch</span> blocks.
       </p>
<pre>
<tt>
<b><font color=#0000FF>try</font></b> {
    <b><font color=#009900>//a block of code that can throw an exception
</font></b>} <b><font color=#0000FF>catch</font></b> (ExceptionType name) {

}
</tt>
</pre>
      </li>
      <li>
       <p>
        (b) enclosed in a method with the <span style="color: blue">throws</span> clause, for example,
       </p>
<pre>
<tt>
<b><font color=#0000FF>public</font></b> <b><font color=#0000FF>void</font></b> saveFile() <span style="color: blue">throws</span> IOException {
    <b><font color=#009900>//a block of code that can throw an exception
</font></b>}<b><font color=#009900>///saveFile
</font></b></tt>
</pre>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p>
    Otherwise, if <em>Catch or Specify</em> requirement is not honored, the code will not compile.
   </p>
   <p>
    &nbsp;
   </p>
  </li>
 </ul>


    </body>
</html>

