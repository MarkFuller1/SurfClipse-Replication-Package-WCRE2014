<html>

<head>

<meta name="Keywords" content="java, lesson, Introduction, exception, handling">
<meta name="Description" content="Lesson 19: Introduction to Exception Handling">

<link rel="stylesheet" type="text/css" href="../Lessons.css">

<title>Lesson 15: Throwing Exceptions</title>
</head>

<body>

<div align="center">
  <center>

<table border="0" width="900" cellspacing="1" cellpadding="0">
  <tr>
    <td width="738" align="center">
    
<!-- Casale Media: 728x90 (Banner) -->
<script type="text/javascript">
var CasaleArgs = new Object();
CasaleArgs.version = 2;
CasaleArgs.adUnits = "2";
CasaleArgs.casaleID = 56757;
</script>
<script type="text/javascript" src="http://js.casalemedia.com/casaleJTag.js"></script>
<!-- DO NOT MODIFY -->

    </td>
  </tr>
</table>

  </center>
</div>

&nbsp;
<div align="center">
  <center>
  <table border="0" width="900">
    <tr>
      <td width="680" valign="top" rowspan="2">

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="10%" valign="middle" align="center"><a href="index.htm"><img border="0" src="../lessonno/L15.gif" alt="Home" width="60" height="63"></a></td>
    <td width="90%">
      <p class="maintitle">Throwing Exceptions</p></td>
  </tr>
  <tr>
    <td width="100%" colspan="2" height="2" bgcolor="#CC3300"></td>
  </tr>
</table>

<Span name=KonaBody>

&nbsp;

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="paratitle">Exception Throwing</td>
  </tr>
  <tr>
    <td width="100%" height="1" bgcolor="#FF0000"></td>
  </tr>
</table>

&nbsp;

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="subtitle">Introduction</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#0000FF" height="1"></td>
  </tr>
</table>

<table border="0" width="100%">
  <tr>
    <td valign="top">
          
<script type="text/javascript"><!--
google_ad_client = "pub-3968514660870014";
google_ad_width = 160;
google_ad_height = 90;
google_ad_format = "160x90_0ads_al";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "800000";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "0000ff";
google_color_text = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

    </td>
    <td>
      <p class="parajust">Imagine you write a program that requests a student’s age from the 
      user. As we know, everybody’s age is positive. Therefore, we need to figure out what 
      to do if the user types a negative number. The expression that checks whether the 
      number entered is positive can be written as:</p>

    </td>
  </tr>
</table>

<pre>if(studentAge &lt; 0)</pre>
<p class="parajust">
      If the condition is true, the minimum you can do is to send the produced error away.</p>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="exotitle"><img border="0" src="../images/practical1.gif" alt="Practical Learning" width="19" height="18">Practical
      Learning: Introducing Exception Throwing</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#CC3300" height="1"></td>
  </tr>
</table>
<ol>
  <li>Start NetBeans and create a Java Application named <b>bcr3</b></li>
  <li>Change the file as follows:<br>
    &nbsp;
    <table border="0" width="582">
      <tr>
        <td width="574">
          <pre>package bcr3;
import java.util.*;

public class Main {

    public static void main(String[] args) {
        Scanner scnr = new Scanner(System.in);
        long employeeNumber = 0;
        String employeeName;
        double hourlySalary = 0.00;
        double weeklyTime = 0.00;
        double regularTime, overtime;
        double regularPay, overtimePay, netPay;
        
        try {
            System.out.print(&quot;Enter Employee Number (00000): &quot;);
            employeeNumber = scnr.nextLong();
        }
        catch(Exception eim) {
            System.out.println(eim.getMessage());
        }

        if( employeeNumber == 82500 )
            employeeName = &quot;Helene Mukoko&quot;;
        else if( employeeNumber == 92746 )
            employeeName = &quot;Raymond Kouma&quot;;
        else if( employeeNumber == 54080 )
            employeeName = &quot;Henry Larson&quot;;
        else if( employeeNumber == 86285 )
            employeeName = &quot;Gertrude Monay&quot;;
        else
            employeeName = &quot;Unknown&quot;;
                
        System.out.print(&quot;Enter Hourly Salary: &quot;);
        hourlySalary = scnr.nextDouble();
        
        System.out.print(&quot;Enter Weekly Time: &quot;);
        weeklyTime = scnr.nextDouble();

        if(weeklyTime  &lt; 40 ) {
            regularTime = weeklyTime;
            overtime = 0;
            regularPay = hourlySalary * regularTime;
            overtimePay = 0;
            netPay = regularPay;
        }
        else {
            regularTime = 40;
            overtime = weeklyTime - 40;
            regularPay = hourlySalary * 40;
            overtimePay = hourlySalary * overtime;
            netPay = regularPay + overtimePay;
        }
            
        System.out.println(&quot;======================&quot;);
        System.out.println(&quot;=//= BETHESDA CAR RENTAL =//=&quot;);
        System.out.println(&quot;==-=-= Employee Payroll =-=-==&quot;);
        System.out.println(&quot;-------------------------------------------&quot;);
        System.out.printf(&quot;Employee #:    %d\n&quot;, employeeNumber);
        System.out.printf(&quot;Employee Name: %s\n&quot;, employeeName);
        System.out.printf(&quot;Hourly Salary: %.2f\n&quot;, hourlySalary);
        System.out.printf(&quot;Weekly Time:   %.2f\n&quot;, weeklyTime);
        System.out.printf(&quot;Regular Pay:   %.2f\n&quot;, regularPay);
        System.out.printf(&quot;Overtime Pay:  %.2f\n&quot;, overtimePay);
        System.out.printf(&quot;Total Pay:     %.2f\n&quot;, netPay);
        System.out.println(&quot;======================&quot;);
    }
}</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>To execute the exercise, press F6</li>
  <li>Enter the Employee number as <b>82500</b>, the hourly salary as <b>22.35</b>,
    and the weekly hours as <b>38.50</b>, then press Enter<br>
    &nbsp;
    <table border="0" width="311">
      <tr>
        <td width="303">
          <pre>Enter Employee Number (00000): 82500
Enter Hourly Salary: 22.35
Enter Weekly Time: 38.50
==============================
=//= BETHESDA CAR RENTAL =//=
==-=-= Employee Payroll =-=-==
------------------------------
Employee #:    82500
Employee Name: Helene Mukoko
Hourly Salary: 22.35
Weekly Time:   38.50
Regular Pay:   860.48
Overtime Pay:  0.00
Total Pay:     860.48
======================</pre>
        </td>
      </tr>
    </table>
  </li>
</ol>



<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="subtitle"><a name="throw"></a>Throwing an Exception</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#0000FF" height="1"></td>
  </tr>
</table>



<p class="parajust">
      To throw an exception, you use the
      <b> throw</b>  keyword. The primary formula of using this keyword is:</p>

<pre>try {
    <i>Normal flow

</i>    <i>When to throw the exception</i>
	<font color="#FF0000">throw</font> <i>What?</i>
}
catch(Exception e) {
    // Deal with the exception here
}</pre>
<p class="parajust">The new keyword in this formula is <b>throw</b>. On the
right side of throw, indicate to the compiler what to do. This means that the
throw keyword is followed by an expression. We will see various examples.</p>

<p class="parajust">In
our introduction to exceptions, we got acquainted with the Exception class.
Besides the default constructor, the <b>Exception</b> class is equipped with another
constructor that takes a string as argument. When using the <b>throw</b> keyword,
you can use this constructor to specify a message to display to display in case
of an error. To do this, use the <b>new</b> operator to call the constructor and
pass a message to it. Here is an example:</p>


<pre>import java.util.Scanner;

public class Exercise {

    public static void main(String[] args) {
	int studentAge = 0;
	Scanner scnr = new Scanner(System.in);

	try {
	    System.out.print(&quot;Student Age: &quot;);
	    studentAge = scnr.nextInt();

	    if( studentAge &lt; 0 )
		<font color="#FF0000">throw new Exception(&quot;Positive Number Required&quot;);</font>
	    System.out.println(&quot;Student Age: &quot; + studentAge);
	}
	catch(Exception exc)
	{
	    System.out.println(&quot;Error: &quot; + exc.getMessage());
	}
    }
}</pre>
<p class="parajust">
      This program starts with the <b> try</b> block that asks the user to enter a positive number. If the user enters an invalid value, the program examines the
      <b> throw</b> keyword. This <b> throw</b> appears to display a string. The compiler registers this string and since there was an exception, the program exits the
      <b> try</b> block (it gets out of the try block even if the rest of the
      try block is fine) and looks for the first <b> catch</b> block it can find. If it finds a
      <b> catch</b> that does not take an argument, it would still use the <b>catch</b>. Otherwise, you can use the
      <b> catch</b> block to display the error string that was sent by the <b> throw</b> keyword.</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="exotitle"><img border="0" src="../images/practical1.gif" alt="Practical Learning" width="19" height="18">Practical
      Learning:



Throwing an Exception</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#CC3300" height="1"></td>
  </tr>
</table>
<ol>
  <li>To throw an exception, change the Main.java file as follows:<br>
    &nbsp;
    <table border="0" width="600">
      <tr>
        <td width="100%">
          <pre>public class Main {

    public static void main(String[] args) {
        Scanner scnr = new Scanner(System.in);
        long employeeNumber = 0;
        String employeeName;
        double hourlySalary = 0.00;
        double weeklyTime = 0.00;
        double regularTime, overtime;
        double regularPay, overtimePay, netPay;
        
        try {
            System.out.print(&quot;Enter Employee Number (00000): &quot;);
            employeeNumber = scnr.nextLong();
        
            <font color="#FF0000">if( employeeNumber &lt; 0 )
                throw new Exception(&quot;The employee number must be positive&quot;);</font>
        }
        catch(Exception exc) {
            System.out.println(exc.getMessage());
        }

        <i>. . . No Change</i>
    }
}</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>Execute the application</li>
  <li>When asked to enter the employee number, enter <b>-22446688</b> and press
    Enter</li>
  <li>Enter the hourly salary as <b>22.35</b>, and the weekly hours as <b>42.50</b>,
    then press Enter<br>
    &nbsp;
    <table border="0" width="311">
      <tr>
        <td width="303">
          <pre>Enter Employee Number (00000): -22446688
<font color="#FF0000">The employee number must be positive</font>
Enter Hourly Salary: 22.35
Enter Weekly Time: 42.50
======================
=//= BETHESDA CAR RENTAL =//=
==-=-= Employee Payroll =-=-==
-------------------------------------------
Employee #:    -22446688
Employee Name: Unknown
Hourly Salary: 22.35
Weekly Time:   42.50
Regular Pay:   894.00
Overtime Pay:  55.88
Total Pay:     949.88
======================</pre>
        </td>
      </tr>
    </table>
  </li>
</ol>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="subtitle">	
      Catching Multiple Exceptions</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#0000FF" height="1"></td>
  </tr>
</table>
<p class="parajust">
      The programs we have seen so far dealt with a single exception. Most of the time, a typical program will
use different types of errors. Fortunately, you can deal with as many errors as
possible. To do this, you can create a
      <b> catch</b>  block for each (type of) error. The formula to follow is:</p>
<pre>try {
	<i>Code to Try</i>
}
catch(<i>Arg1</i>)
{
	<i>One Exception</i>
}
catch(<i>Arg2</i>)
{
	<i>Another Exception</i>
}</pre>
      <p class="parajust">
      The compiler would proceed in a top-down as follows:</p>
      <ol>
        <li>The compiler enters the
          <b> try</b>  block and follows the normal flow of the program</li>
        <li>If no exception occurs in the <b> try</b> block, the rest of the <b> try</b> block is executed.<br>
        If an exception occurs in the <b> try</b> block, the <b> try</b> displays a
          <b> throw</b>  expression that specifies the 
        type of error that happened.
          <ol type="a">
            <li>The compiler gets out of the <b> try</b>  block and examines the first <b> catch</b></li>
            <li>If the first catch does not match the <b>throw</b>n error, the compiler
              switches to the next <b>catch</b>. This continues until the compiler finds a <b> catch</b> that matches 
            the <b>throw</b>n error.</li>
            <li>If one of the <b>catch</b>es matches the thrown error, its body executes. If no
              <b> catch</b> 
            matches the thrown error, you have (or the compiler has) two alternatives. If there 
            is no <b> catch</b> that matches the error (which means that you did
              not provide a matching 
            catch), the compiler hands the program flow to the operating system. Another alternative is to include a <b> catch</b> whose argument is
              the Exception default constructor. The <b> catch(Exception)</b> is used if no other <b>catch</b>, provided there was 
            another, matches the thrown error. The <b> catch(Exception)</b>, if included as part of a
              <b> catch</b> 
            clause, must always be the last <b>catch</b>, unless it is the only <b> catch</b> of the clause.</li>
          </ol>
        </li>
      </ol>
      <p class="parajust">
      Multiple <b>catch</b>es are written if or when a try block is expected to throw different types of errors. Imagine a program that requests some numbers from the user and performs some operation on the numbers. Such a program can be written as follows:</p>
<pre>import java.util.*;

public class Exercise {

    public static void main(String[] args) {
	byte studentAge = 0;
	Scanner scnr = new Scanner(System.in);

	<font color="#FF0000">try {</font>
	    System.out.print(&quot;Student Age: &quot;);
	    studentAge = scnr.nextByte();

	    <font color="#FF0000">if( studentAge &lt; 0 )
		throw new Exception(&quot;Positive Number Required&quot;);</font>

	    System.out.println(&quot;Student Age: &quot; + studentAge);
	<font color="#FF0000">}
	catch(InputMismatchException exc) {</font>
	    System.out.println(&quot;The operation could not be carried because &quot; +
                               &quot;the number you typed is not valid&quot;);
	<font color="#FF0000">}
	catch(Exception exc)
	{</font>
	    System.out.println(&quot;Error: &quot; + exc.getMessage());
	<font color="#FF0000">}</font>
    }
}</pre>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="exotitle"><img border="0" src="../images/practical1.gif" alt="Practical Learning" width="19" height="18">Practical
      Learning: Catching Multiple Exceptions</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#CC3300" height="1"></td>
  </tr>
</table>
<ol>
  <li>To catch multiple exceptions, change the Main.java file as follows:<br>
    &nbsp;
    <table border="0" width="600">
      <tr>
        <td width="100%">
          <pre><i>. . . No Change</i>

public class Main {

    public static void main(String[] args) {
        <i>. . . No Change</i>
        
        <font color="#FF0000">try {</font>
            System.out.print(&quot;Enter Employee Number (00000): &quot;);
            employeeNumber = scnr.nextLong();
        
            if( employeeNumber &lt; 0 )
                throw new Exception(&quot;The employee number must be positive&quot;);
        <font color="#FF0000">}
        catch(InputMismatchException excim) {
            System.out.println(&quot;Invalid Employee Number&quot;);
        }
        catch(Exception exc) {
            System.out.println(exc.getMessage());
        }</font>

        <i>. . . No Change</i>
    }
}</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>Execute the application</li>
  <li>When asked to enter the values, enter anything and press Enter each time</li>
</ol>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="subtitle">	
      Nesting Exceptions</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#0000FF" height="1"></td>
  </tr>
</table>
<p class="parajust">Like a conditional statement or a class, you can create one
exception inside of another. This is referred to as nesting an exception.</p>



<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="exotitle"><img border="0" src="../images/practical1.gif" alt="Practical Learning" width="19" height="18">Practical
      Learning: Nesting Exceptions</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#CC3300" height="1"></td>
  </tr>
</table>
<ol>
  <li>To nest exceptions, change the Main.java file as follows:<br>
    &nbsp;
    <table border="0" width="600">
      <tr>
        <td width="100%">
          <pre>package bcr3;
import java.util.*;

public class Main {

    public static void main(String[] args) {
        Scanner scnr = new Scanner(System.in);
        long employeeNumber = 0;
        String employeeName;
        double hourlySalary = 0.00;
        double weeklyTime = 0.00;
        double regularTime, overtime;
        double regularPay, overtimePay, netPay;
        
        try {
            System.out.print(&quot;Enter Employee Number (00000): &quot;);
            employeeNumber = scnr.nextLong();
        
            if( employeeNumber &lt; 0 )
                throw new Exception(&quot;The employee number must be positive&quot;);

            if( employeeNumber == 82500 )
                employeeName = &quot;Helene Mukoko&quot;;
            else if( employeeNumber == 92746 )
                employeeName = &quot;Raymond Kouma&quot;;
            else if( employeeNumber == 54080 )
                employeeName = &quot;Henry Larson&quot;;
            else if( employeeNumber == 86285 )
                employeeName = &quot;Gertrude Monay&quot;;
            else
                employeeName = &quot;Unknown&quot;;
                
            try {
                System.out.print(&quot;Enter Hourly Salary: &quot;);
                hourlySalary = scnr.nextDouble();
        
                if( hourlySalary &lt; 0 )
                    throw new Exception(&quot;The hourly salary must be positive&quot;);
            }
            catch(InputMismatchException excim) {
                System.out.println(&quot;Invalid Hourly Salary&quot;);
            }
            catch(Exception exc) {
                System.out.println(exc.getMessage());
            }
            
            try {
                System.out.print(&quot;Enter Weekly Time: &quot;);
                weeklyTime = scnr.nextDouble();
        
                if( weeklyTime &lt; 0 )
                    throw new Exception(&quot;The weekly time must be positive&quot;);
            }
            catch(InputMismatchException excim) {
                System.out.println(&quot;Invalid Weekly Time&quot;);
            }
            catch(Exception exc) {
                System.out.println(exc.getMessage());
            }    

            if(weeklyTime  &lt; 40 ) {
                regularTime = weeklyTime;
                overtime = 0;
                regularPay = hourlySalary * regularTime;
                overtimePay = 0;
                netPay = regularPay;
            }
            else {
                regularTime = 40;
                overtime = weeklyTime - 40;
                regularPay = hourlySalary * 40;
                overtimePay = hourlySalary * overtime;
                netPay = regularPay + overtimePay;
            }
            
            System.out.println(&quot;======================&quot;);
            System.out.println(&quot;=//= BETHESDA CAR RENTAL =//=&quot;);
            System.out.println(&quot;==-=-= Employee Payroll =-=-==&quot;);
            System.out.println(&quot;-------------------------------------------&quot;);
            System.out.printf(&quot;Employee #:    %d\n&quot;, employeeNumber);
            System.out.printf(&quot;Employee Name: %s\n&quot;, employeeName);
            System.out.printf(&quot;Hourly Salary: %.2f\n&quot;, hourlySalary);
            System.out.printf(&quot;Weekly Time:   %.2f\n&quot;, weeklyTime);
            System.out.printf(&quot;Regular Pay:   %.2f\n&quot;, regularPay);
            System.out.printf(&quot;Overtime Pay:  %.2f\n&quot;, overtimePay);
            System.out.printf(&quot;Total Pay:     %.2f\n&quot;, netPay);
            System.out.println(&quot;======================&quot;);
        }
        catch(InputMismatchException excim) {
            System.out.println(&quot;Invalid Employee Number\n&quot; + 
                               &quot;The application will stop&quot;);
        }
        catch(Exception exc) {
            System.out.println(exc.getMessage());
        }
    }
}</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>Execute the application</li>
  <li>Enter the employee number as <b>54080</b>, the hourly salary as <b>18.50</b>,
    and the weekly time as <b>36.00</b>:<br>
    &nbsp;
    <table border="0" width="600">
      <tr>
        <td width="100%">
          <pre>Enter Employee Number (00000): 54080
Enter Hourly Salary: 18.50
Enter Weekly Time: 36.00
======================
=//= BETHESDA CAR RENTAL =//=
==-=-= Employee Payroll =-=-==
-------------------------------------------
Employee #:    54080
Employee Name: Henry Larson
Hourly Salary: 18.50
Weekly Time:   36.00
Regular Pay:   666.00
Overtime Pay:  0.00
Total Pay:     666.00
======================</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>Execute the application again</li>
  <li>Enter the employee number as -54080 and press Enter<br>
    &nbsp;
    <table border="0" width="600">
      <tr>
        <td width="100%">
          <pre>Enter Employee Number (00000): -54080
The employee number must be positive</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>Execute the application again</li>
  <li>Enter the employee number as <b>Can't remember</b> and press Enter:<br>
    &nbsp;
    <table border="0" width="600">
      <tr>
        <td width="100%">
          <pre>Enter Employee Number (00000): 
Can't remember
Invalid Employee Number
The application will stop</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>Execute the application again</li>
  <li>Enter the employee number as <b>22468</b>, the hourly salary as <b>Minimum
    Wage</b>, and press Enter:<br>
    &nbsp;
    <table border="0" width="600">
      <tr>
        <td width="100%">
          <pre>Enter Employee Number (00000): 22468
Enter Hourly Salary: Minimum Wage
Invalid Hourly Salary
Enter Weekly Time: Invalid Weekly Time
======================
=//= BETHESDA CAR RENTAL =//=
==-=-= Employee Payroll =-=-==
-------------------------------------------
Employee #:    22468
Employee Name: Unknown
Hourly Salary: 0.00
Weekly Time:   0.00
Regular Pay:   0.00
Overtime Pay:  0.00
Total Pay:     0.00
======================</pre>
        </td>
      </tr>
    </table>
  </li>
</ol>



&nbsp;



</span>



</td>
      <td>
   
<table border="0" width="100%">
  <tr>
    <td width="100%">

<script type="text/javascript"><!--
google_ad_client = "pub-3968514660870014";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "text_image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

    </td>
  </tr>
</table>

      </td>
    </tr>
    <tr>
      <td>
   
<table border="0" width="100%">
  <tr>
    <td width="100%">

<script type="text/javascript"><!--
google_ad_client = "pub-3968514660870014";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "FFFFFF";
google_color_link = "0000FF";
google_color_bg = "FFFFFF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

            </td>
          </tr>
        </table>&nbsp;
   
&nbsp;
&nbsp;

      </td>
    </tr>
  </table>
  </center>
</div>

&nbsp;

<div align="center">
  <center>
<table border="0" width="900">
  <tr>
    <td width="680" rowspan="2">

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="paratitle">Exceptions and Methods</td>
  </tr>
  <tr>
    <td width="100%" height="1" bgcolor="#FF0000"></td>
  </tr>
</table>

&nbsp;

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="subtitle">	
 Introduction</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#0000FF" height="1"></td>
  </tr>
</table>
<p class="parajust">
      One of the most effective techniques used to deal with code is to isolate assignments. We learned this
with methods. Here are examples:<pre>import java.util.Scanner;

public class Exercise {
    <font color="#FF0000">private static double getSide() {
	double side;
	Scanner scnr = new Scanner(System.in);

        System.out.println(&quot;Square Processing&quot;);
        System.out.print(&quot;Enter Side: &quot;);
        side = scnr.nextDouble();

	return side;
    }

    private static void show(double side) {
        System.out.println(&quot;\nSquare Characteristics&quot;);
        System.out.printf(&quot;Side:      %.2f\n&quot;, side);
        System.out.printf(&quot;Perimeter: %.2f\n&quot;, side * 4);
    }</font>

    public static void main(String[] args) {
	double squareSide = getSide();
	show(squareSide);
    }
}</pre>
<p class="parajust">Here is an example of running the program:</p>

<pre>Square Processing
Enter Side: 22.50

Square Characteristics
Side:      22.50
Perimeter: 90.00</pre>

<p class="parajust">Inside of any method, you write code for exception handling,
just as we have done so far. Here is an example:</p>

<pre>import java.util.Scanner;

public class Exercise {
    private static double getSide() {
	double side = 0;
	Scanner scnr = new Scanner(System.in);

        System.out.println(&quot;Square Processing&quot;);
        System.out.print(&quot;Enter Side: &quot;);
        side = scnr.nextDouble();

	return side;
    }

    private static void show(double side) {
	<font color="#FF0000">try {</font>
	    System.out.println(&quot;\nSquare Characteristics&quot;);
            System.out.printf(&quot;Side:      %.2f\n&quot;, side);
            System.out.printf(&quot;Perimeter: %.2f\n&quot;, side * 4);
	<font color="#FF0000">}
	catch(Exception e) {
	    System.out.println(&quot;The operation could not be completed!&quot;);
	}</font>
    }

    public static void main(String[] args) {
	double squareSide = getSide();
	show(squareSide);
    }
}</pre>

<p class="parajust">Here is an example of running the program:<pre>Square Processing
Enter Side: 14.55

Square Characteristics
Side:      14.55
Perimeter: 58.20</pre>

<p class="parajust">Here is another example of running the same program:</p>

<pre>Square Processing
Enter Side: 2se
Exception in thread &quot;main&quot; java.util.InputMismatchException
        at java.util.Scanner.throwFor(Unknown Source)
        at java.util.Scanner.next(Unknown Source)
        at java.util.Scanner.nextDouble(Unknown Source)
        at Exercise.getSide(Exercise.java:11)
        at Exercise.main(Exercise.java:32)</pre>

<p class="parajust">
      One of the ways you can use methods in exception handling is to have a central
method that dispatches assignments to other methods. The other methods can use the values of
variables; for example they can test. If an exception occurs, the other method
can display a message or throw an exception. This throwing can be picked up by the
central method that sent the variable. The method that originated the trying can hand it to a catch
block or one of the catch blocks in the calling method that can handle the exception.
This means that you can create a method that only throws an exception but does
not necessarily deal with it. Here is an example of such a method:</p>

<pre>import java.util.*;

public class Exercise {
    private static double getSide() {
	double side = 0;
	Scanner scnr = new Scanner(System.in);

	System.out.println(&quot;Square Processing&quot;);
        System.out.print(&quot;Enter Side: &quot;);
        side = scnr.nextDouble();

	<font color="#FF0000">if( side &lt; 0 )
	    throw new InputMismatchException(&quot;Positive number required&quot;);</font>

	return side;
    }

    public static void main(String[] args) {
	
    }
}</pre>

<p class="parajust">Notice that the above getSide() method signals that an
exception could be thrown and it even specifies the type of exception. If you write
this type of method that is only prepared to throw an exception, you must
prepare the method that calls it to handle the exception. To do this, in the calling
method, create exception handling code and include a catch block that can handle
the type of the exception thrown. Here is an example:</p>

<pre>import java.util.*;

public class Exercise {
    private static double getSide() {
	double side = 0;
	Scanner scnr = new Scanner(System.in);

	System.out.println(&quot;Square Processing&quot;);
        System.out.print(&quot;Enter Side: &quot;);
        side = scnr.nextDouble();

	<font color="#FF0000">if( side &lt; 0 )
	    throw new InputMismatchException(&quot;Positive number required&quot;);</font>

	return side;
    }

    private static void show(double side) {
	System.out.println(&quot;\nSquare Characteristics&quot;);
        System.out.printf(&quot;Side:      %.2f\n&quot;, side);
        System.out.printf(&quot;Perimeter: %.2f\n&quot;, side * 4);
    }

    public static void main(String[] args) {
	<font color="#FF0000">try {</font>
	    double squareSide = getSide();
	    show(squareSide);
	<font color="#FF0000">}
	catch(InputMismatchException exc) {
	    System.out.println(exc.getMessage());
	}</font>
    }
}</pre>

&nbsp;

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="subtitle">	
 A Method that Throws an Exception</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#0000FF" height="1"></td>
  </tr>
</table>

<p class="parajust"><a name="throws"></a>Notice that in the above program,
besides <b>main()</b>, there are two methods; one throws an exception, the other
does not. Besides writing code that throws an exception, to indicate to the
compiler that a method is throwing an exception, after it closing parenthesis, type
the <b>throws</b> keyword followed by the class name of the type of exception
that will be thrown. Here is an example:</p>

<pre>import java.util.*;

public class Exercise {
    private static double getSide() <font color="#FF0000">throws InputMismatchException</font> {
	double side = 0;
	Scanner scnr = new Scanner(System.in);

	System.out.println(&quot;Square Processing&quot;);
        System.out.print(&quot;Enter Side: &quot;);
        side = scnr.nextDouble();

	if( side &lt; 0 )
	    throw new InputMismatchException(&quot;Positive number required&quot;);

	return side;
    }

    private static void show(double side) {
	try {
	    System.out.println(&quot;\nSquare Characteristics&quot;);
            System.out.printf(&quot;Side:      %.2f\n&quot;, side);
            System.out.printf(&quot;Perimeter: %.2f\n&quot;, side * 4);
	}
	catch(Exception e) {
	    System.out.println(&quot;The operation could not be completed!&quot;);
	}
    }

    public static void main(String[] args) {
	try {
	    double squareSide = getSide();
	    show(squareSide);
	}
	catch(InputMismatchException exc) {
	    System.out.println(exc.getMessage());
	}
    }
}</pre>

<p class="parajust">In reality, even if a method does not explicitly throw an
exception, you can still include a <b>throws InputMismatchException</b>
expression to it if you want, in anticipation to a bad behavior. Here is an
example:</p>

<pre>import java.util.*;

public class Exercise {
    private static double getSide() throws InputMismatchException {
	double side = 0;
	Scanner scnr = new Scanner(System.in);

	System.out.println(&quot;Square Processing&quot;);
        System.out.print(&quot;Enter Side: &quot;);
        side = scnr.nextDouble();

	if( side &lt; 0 )
	    throw new InputMismatchException(&quot;Positive number required&quot;);

	return side;
    }

    private static void show(double side) <font color="#FF0000">throws InputMismatchException</font> {
	System.out.println(&quot;\nSquare Characteristics&quot;);
        System.out.printf(&quot;Side:      %.2f\n&quot;, side);
        System.out.printf(&quot;Perimeter: %.2f\n&quot;, side * 4);
    }

    public static void main(String[] args) {
	try {
	    double squareSide = getSide();
	    show(squareSide);
	}
	catch(InputMismatchException exc) {
	    System.out.println(exc.getMessage());
	}
    }
}</pre>

<p class="parajust">In the above code, the <b>throws InputMismatchException</b>
expression is option. In reality, there is a rule you must follow. If a method
has code that throws a general exception of type <b>Exception</b>, you must add
a <b>throws Exception</b> expression to it. If you violate this rule, the
program will not compile. For example, the following code will fail:</p>

<pre>import java.util.*;

public class Exercise {
    private static <font color="#FF0000">double getSide() {</font>
	double side = 0;
	Scanner scnr = new Scanner(System.in);

	System.out.println(&quot;Square Processing&quot;);
        System.out.print(&quot;Enter Side: &quot;);
        side = scnr.nextDouble();

	<font color="#FF0000">if( side &lt; 0 )
	    throw new Exception(&quot;Positive number required&quot;);

	return side;
    }</font>

    public static void main(String[] args) {
	
    }
} </pre>

<p class="parajust">This would produce:</p>

<pre>Exercise.java:13: unreported exception java.lang.Exception; must be caught or de
clared to be thrown
            throw new Exception(&quot;Positive number required&quot;);
            ^
1 error</pre>

<p class="parajust">The solution is to include a <b>throws Exception</b>
expression to it:&nbsp;</p>

<pre>import java.util.*;

public class Exercise {
    private static double getSide() <font color="#FF0000">throws Exception</font> {
	double side = 0;
	Scanner scnr = new Scanner(System.in);

	System.out.println(&quot;Square Processing&quot;);
        System.out.print(&quot;Enter Side: &quot;);
        side = scnr.nextDouble();

	if( side &lt; 0 )
	    throw new Exception(&quot;Positive number required&quot;);

	return side;
    }

    private static void show(double side) throws InputMismatchException {
	System.out.println(&quot;\nSquare Characteristics&quot;);
        System.out.printf(&quot;Side:      %.2f\n&quot;, side);
        System.out.printf(&quot;Perimeter: %.2f\n&quot;, side * 4);
    }

    public static void main(String[] args) {
	try {
	    double squareSide = getSide();
	    show(squareSide);
	}
	catch(Exception exc) {
	    System.out.println(exc.getMessage());
	}
    }
}</pre>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%">
      <p class="exotitle"><img border="0" src="../images/practical1.gif" alt="Practical Learning" width="19" height="18">Practical
      Learning: Handling Exceptions in Methods</td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#CC3300" height="1"></td>
  </tr>
</table>
<ol>
  <li>To nest exceptions, change the Main.java file as follows:<br>
    &nbsp;
    <table border="0" width="600">
      <tr>
        <td width="100%">
          <pre>package bcr3;
import java.util.*;

public class Main {

    private static double requestHourlySalary() throws InputMismatchException {
        double salary = 0.00;
        Scanner scnr = new Scanner(System.in);

        try {
            System.out.print(&quot;Enter Hourly Salary: &quot;);
            salary = scnr.nextDouble();
        }
        catch(InputMismatchException excim) {
            System.out.println(&quot;Invalid Hourly Salary&quot;);
        }
        catch(Exception exc) {
            System.out.println(exc.getMessage());
        }
        
        return salary;
    }
    private static double requestWeeklyTime()  throws InputMismatchException {
        double time = 0.00;
        Scanner scnr = new Scanner(System.in);
            
        try {
            System.out.print(&quot;Enter Weekly Time: &quot;);
            time = scnr.nextDouble();
        }
        catch(InputMismatchException excim) {
            System.out.println(&quot;Invalid Weekly Time&quot;);
        }
        catch(Exception exc) {
            System.out.println(exc.getMessage());
        }    
        
        return time;
    }
        
    private static void displayPayroll(long employeeNumber,
                                       String employeeName, 
                                       double hourlySalary, 
                                       double weeklyTime, 
                                       double regularPay, 
                                       double overtimePay, 
                                       double netPay) {
        
            System.out.println(&quot;======================&quot;);
            System.out.println(&quot;=//= BETHESDA CAR RENTAL =//=&quot;);
            System.out.println(&quot;==-=-= Employee Payroll =-=-==&quot;);
            System.out.println(&quot;-------------------------------------------&quot;);
            System.out.printf(&quot;Employee #:    %d\n&quot;, employeeNumber);
            System.out.printf(&quot;Employee Name: %s\n&quot;, employeeName);
            System.out.printf(&quot;Hourly Salary: %.2f\n&quot;, hourlySalary);
            System.out.printf(&quot;Weekly Time:   %.2f\n&quot;, weeklyTime);
            System.out.printf(&quot;Regular Pay:   %.2f\n&quot;, regularPay);
            System.out.printf(&quot;Overtime Pay:  %.2f\n&quot;, overtimePay);
            System.out.printf(&quot;Total Pay:     %.2f\n&quot;, netPay);
            System.out.println(&quot;======================&quot;);
    }
    
    public static void main(String[] args) {
        Scanner scnr = new Scanner(System.in);
        long employeeNumber = 0;
        String employeeName;
        double hourlySalary = 0.00;
        double weeklyTime = 0.00;
        double regularTime, overtime;
        double regularPay, overtimePay, netPay;
        
        try {
            System.out.print(&quot;Enter Employee Number (00000): &quot;);
            employeeNumber = scnr.nextLong();
        
            if( employeeNumber &lt; 0 )
                throw new Exception(&quot;The employee number must be positive&quot;);

            if( employeeNumber == 82500 )
                employeeName = &quot;Helene Mukoko&quot;;
            else if( employeeNumber == 92746 )
                employeeName = &quot;Raymond Kouma&quot;;
            else if( employeeNumber == 54080 )
                employeeName = &quot;Henry Larson&quot;;
            else if( employeeNumber == 86285 )
                employeeName = &quot;Gertrude Monay&quot;;
            else
                employeeName = &quot;Unknown&quot;;
            
            hourlySalary = requestHourlySalary();
            if( hourlySalary &lt; 0 )
                throw new Exception(&quot;The hourly salary must be positive&quot;);
            
            weeklyTime = requestWeeklyTime();
            if( weeklyTime &lt; 0 )
                throw new Exception(&quot;The weekly time must be positive&quot;);
        
            if(weeklyTime  &lt; 40 ) {
                regularTime = weeklyTime;
                overtime = 0;
                regularPay = hourlySalary * regularTime;
                overtimePay = 0;
                netPay = regularPay;
            }
            else {
                regularTime = 40;
                overtime = weeklyTime - 40;
                regularPay = hourlySalary * 40;
                overtimePay = hourlySalary * overtime;
                netPay = regularPay + overtimePay;
            }
            
            displayPayroll(employeeNumber, employeeName,
                           hourlySalary, weeklyTime,
                           regularPay, overtimePay,
                           netPay);
        }
        catch(InputMismatchException excim) {
            System.out.println(&quot;Invalid Employee Number\n&quot; + 
                               &quot;The application will stop&quot;);
        }
        catch(Exception exc) {
            System.out.println(exc.getMessage());
        }
    }
}</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>Execute the application</li>
  <li>Enter the employee number as <b>86285</b>, the hourly salary as <b>25.85</b>,
    and the weekly time as <b>42.50</b>:<br>
    &nbsp;
    <table border="0" width="600">
      <tr>
        <td width="100%">
          <pre>Enter Employee Number (00000): 86285
Enter Hourly Salary: 25.85
Enter Weekly Time: 42.50
======================
=//= BETHESDA CAR RENTAL =//=
==-=-= Employee Payroll =-=-==
-------------------------------------------
Employee #:    86285
Employee Name: Gertrude Monay
Hourly Salary: 25.85
Weekly Time:   42.50
Regular Pay:   1034.00
Overtime Pay:  64.63
Total Pay:     1098.63
======================</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>Execute the application again</li>
  <li>Enter the employee number as <b>92746</b> and press Enter</li>
  <li>Enter the hourly salary as <b>Company Will Decide</b> and press Enter</li>
  <li>Enter the weekly time as <b>Check Time Sheet</b> and press Enter<br>
    &nbsp;
    <table border="0" width="600">
      <tr>
        <td width="100%">
          <pre>Enter Employee Number (00000): 92746
Enter Hourly Salary: 
Company Will Decide
Invalid Hourly Salary
Enter Weekly Time: 
Check Time Sheet
Invalid Weekly Time
======================
=//= BETHESDA CAR RENTAL =//=
==-=-= Employee Payroll =-=-==
-------------------------------------------
Employee #:    92746
Employee Name: Raymond Kouma
Hourly Salary: 0.00
Weekly Time:   0.00
Regular Pay:   0.00
Overtime Pay:  0.00
Total Pay:     0.00
======================</pre>
        </td>
      </tr>
    </table>
  </li>
</ol>



<p>&nbsp;

    </td>
    <td valign="top">
      <table border="0" width="100%">
        <tr>
          <td width="100%"><!-- Casale Media: 336x280, 300x250 (Rectangle) -->
            <script type="text/javascript">
var CasaleArgs = new Object();
CasaleArgs.version = 2;
CasaleArgs.adUnits = "6,4";
CasaleArgs.casaleID = 56757;
</script>
            <script type="text/javascript" src="http://js.casalemedia.com/casaleJTag.js"></script>
            <!-- DO NOT MODIFY -->
          </td>
        </tr>
      </table>
      
      &nbsp;
    </td>
  </tr>
  <tr>
    <td>
      &nbsp;
      <table border="0" width="100%">
        <tr>
          <td width="100%" align="center">
          
<!-- Casale Media: 160x600, 120x600 (Tower) -->
<script type="text/javascript">
var CasaleArgs = new Object();
CasaleArgs.version = 2;
CasaleArgs.adUnits = "5,3";
CasaleArgs.casaleID = 56757;
</script>
<script type="text/javascript" src="http://js.casalemedia.com/casaleJTag.js"></script>
<!-- DO NOT MODIFY -->
          </td>
        </tr>
      </table>

      &nbsp;

    </td>
  </tr>
</table>
  </center>
</div>

&nbsp;

&nbsp;

<div align="center">
  <center>
<table border="0" width="900">
  <tr>
    <td width="100%" align="center">
    
<script type="text/javascript"><!--
google_ad_client = "pub-3968514660870014";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

    </td>
  </tr>
</table>

  </center>
</div>
<div align="center">
  <center>

&nbsp;

<table border="0" width="900">
  <tr>
    <td colspan="3">
      <hr color="#FF0000">
    </td>
  </tr>
  <tr>
    <td align="center"><a href="Lesson14.htm">Previous</a></td>
    <td align="center"><a href="index.htm">Copyright &copy; 2009-2012, FunctionX, Inc.</a></td>
    <td align="center"><a href="Lesson16.htm">Next</a></td>
  </tr>
  <tr>
    <td colspan="3">
      <hr color="#FF0000">
    </td>
  </tr>
</table>

  </center>
</div>

<!-- DynamiContext AdLinks  -->
<SCRIPT LANGUAGE="JavaScript">
var dc_UnitID = 14;
var dc_PublisherID = 2409;
var dc_AdLinkColor = 'blue';
var  dc_adprod='ADL';
</SCRIPT>
<SCRIPT LANGUAGE="JavaScript" SRC="http://kona.kontera.com/javascript/lib/KonaLibInline.js"></SCRIPT>
<!-- DynamiContext AdLinks  -->

</body>

</html>
