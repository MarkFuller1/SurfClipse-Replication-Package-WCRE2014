<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Scala Enumeration | The Scala Programming Language</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/favicon.gif" type="image/x-icon" />
<link rel="alternate" type="application/rss+xml" title="The Scala Language (Featured News Only)" href="../featured/rss.xml" />

  <link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views.css%3Fo.css" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/files/css/c84ef33f02c18da215edded97134724f.css" />
  <script type="text/javascript" src="../sites/default/files/js/11880ce88959804b72dd4d9ff9c1c0ac.js"></script>
<script type="text/javascript">jQuery.extend(Drupal.settings, { "basePath": "/", "extlink": { "extTarget": 0, "extClass": "ext", "extSubdomains": 1, "mailtoClass": "mailto" }, "fivestar": { "titleUser": "Your rating: ", "titleAverage": "Average: ", "feedbackSavingVote": "Saving your vote...", "feedbackVoteSaved": "Your vote has been saved.", "feedbackDeletingVote": "Deleting your vote...", "feedbackVoteDeleted": "Your vote has been deleted." }, "spamspan": { "m": "spamspan", "u": "u", "d": "d", "t": "t" } });</script>
<script type="text/javascript">var BASE_URL = "/";</script>
  <script type="text/javascript"> </script>
      <style type="text/css">
    #page {
      width : 950px;
    }
    </style>
        <style type="text/css">
    body.sidebar-left #main {
      margin-left: -200px;
    }
    body.sidebars #main {
      margin-left: -200px;
    }
    body.sidebar-left #squeeze {
      margin-left: 200px;
    }
    body.sidebars #squeeze {
      margin-left: 200px;
    }
    #sidebar-left {
      width: 200px;
    }
    </style>
        <style type="text/css">
    body.sidebar-right #main {
      margin-right: -200px;
    }
    body.sidebars #main {
      margin-right: -200px;
    }
    body.sidebar-right #squeeze {
      margin-right: 200px;
    }
    body.sidebars #squeeze {
      margin-right: 200px;
    }
    #sidebar-right {
      width: 200px;
    }
    </style>
        <style type="text/css">
    body {
      font-family : Custom;
    }
    </style>
              <style type="text/css">
      body {
        font-family : "Helvetica neue", Arial, Verdana, sans-serif;
      }
      </style>
        <!--[if lte IE 6]>
<script type="text/javascript"> 
    $(document).ready(function(){ 
        $(document).pngFix(); 
    }); 
</script> 
<![endif]-->
    <!--[if IE]>
<style type="text/css" media="all">@import "/sites/all/themes/newsflash/css/ie.css";</style>
<![endif]-->
  <script type="text/javascript" src="../sites/all/themes/newsflash/js/pickstyle.js"></script>
</head>
<body class="sidebar-right" style="padding-top:0px;">
    <div class="clear-block" style="background: black; padding-top: 6px; padding-bottom: 3px;
                padding-left: 12px; padding-right: 12px;">
      <p style="font-size: larger; font-weight: bold; color: #C00000; line-height: normal; text-align: center;
               margin-top: 1px; margin-bottom: 4px;">This page is no longer maintained &mdash;
      Please continue to the home page at <a href="http://www.scala-lang.org" style="color: #C00000;"><u>www.scala-lang.org</u></a></p>
    </div>
  <div id="page">
    <div id="header" class="clear-block">
      <div id="logo-title">
                              <a href="../index.html" title="Home"> <img src="../sites/default/files/newsflash_logo.png" alt="Home" id="logo" /> </a>
                        </div><!-- /logo-title -->
      <div id="name-and-slogan">
                      </div><!-- /name-and-slogan -->
            <form action="12477.html"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-63da934d35edf3ed9f660f5ba1b93bb1" value="form-63da934d35edf3ed9f660f5ba1b93bb1"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
              <div id="primarymenu">
                                             
                </div>
                    <div style="clear:both"></div>
        <div id="suckerfishmenu" class="clear-block"> <div class="block block-menu" id="block-menu-primary-links">
  <h2 class="title">Scala Main Menu</h2>  <div class="content"><ul class="menu"><li class="expanded first"><a href="273.html" title="">About Scala</a><ul class="menu"><li class="leaf first"><a href="25.html" title="">Introduction</a></li>
<li class="leaf"><a href="1658.html" title="Scala in the Enterprise">In the Enterprise</a></li>
<li class="expanded"><a href="208.html" title="">Scala Community</a><ul class="menu"><li class="expanded first"><a href="199.html" title="">Mailing Lists</a><ul class="menu"><li class="leaf first"><a href="199.html#scala" title="">scala</a></li>
<li class="leaf"><a href="199.html#scala-announce" title="">scala-announce</a></li>
<li class="leaf"><a href="199.html#scala-user" title="">scala-user</a></li>
<li class="leaf"><a href="199.html#scala-debate" title="">scala-debate</a></li>
<li class="leaf"><a href="199.html#scala-tools" title="">scala-tools</a></li>
<li class="leaf"><a href="199.html#scala-internals" title="">scala-internals</a></li>
<li class="leaf"><a href="199.html#scala-xml" title="">scala-xml</a></li>
<li class="leaf last"><a href="199.html#scala-sips" title="">scala-sips</a></li>
</ul></li>
<li class="leaf"><a href="813.html" title="The Scala IRC Channel">IRC Channel</a></li>
<li class="leaf"><a href="208.html#blogs" title="">Blogs &amp; News</a></li>
<li class="leaf"><a href="http://scala.sygneca.com/" title="">Sygneca Wiki</a></li>
<li class="leaf last"><a href="http://issues.scala-lang.org" title="">Scala Jira</a></li>
</ul></li>
<li class="expanded"><a href="143.html" title="">Language Research</a><ul class="menu"><li class="leaf first"><a href="143.html#grants" title="">Grants</a></li>
<li class="leaf"><a href="143.html#papers" title="">Papers</a></li>
<li class="leaf"><a href="143.html#talks" title="">Talks</a></li>
<li class="leaf"><a href="143.html#theses" title="">Theses</a></li>
<li class="leaf"><a href="203.html" title="">Courses</a></li>
<li class="leaf last"><a href="207.html" title="">Presentations</a></li>
</ul></li>
<li class="expanded"><a href="202.html" title="">In the Press</a><ul class="menu"><li class="leaf first"><a href="205.html" title="">Articles</a></li>
<li class="leaf"><a href="206.html" title="">Interviews and Panel Talks</a></li>
<li class="leaf last"><a href="../archive.html" title="">News Archive</a></li>
</ul></li>
<li class="leaf"><a href="89.html" title="">The Scala Team</a></li>
<li class="leaf"><a href="239.html" title="">Scala&#039;s Prehistory</a></li>
<li class="leaf last"><a href="188.html" title="">Contact Us</a></li>
</ul></li>
<li class="expanded"><a href="197.html" title="">Documentation</a><ul class="menu"><li class="leaf first"><a href="1305.html" title="">Learning Scala</a></li>
<li class="leaf"><a href="104.html" title="">Tour of Scala</a></li>
<li class="expanded"><a href="198.html" title="">Manuals</a><ul class="menu"><li class="leaf first"><a href="../sites/default/files/linuxsoft_archives/docu/files/ScalaTutorial.pdf" title="">A Brief Scala Tutorial</a></li>
<li class="leaf"><a href="../sites/default/files/linuxsoft_archives/docu/files/ScalaByExample.pdf" title="">Scala by Example</a></li>
<li class="leaf"><a href="../sites/default/files/linuxsoft_archives/docu/files/ScalaOverview.pdf" title="">Scala Overview</a></li>
<li class="leaf"><a href="../sites/default/files/linuxsoft_archives/docu/files/ScalaReference.pdf" title="">Scala Language Specification</a></li>
<li class="leaf"><a href="http://scala.github.com/sips/index.html" title="">Scala Improvement Process</a></li>
<li class="leaf"><a href="274.html" title="">Translations</a></li>
<li class="leaf last"><a href="https://wiki.scala-lang.org/display/SW/Scaladoc" title="contains information on how to use the Scaladoc tool for browswing API documentation, writing your own documentation with Scaladoc, and developing Scaladoc.">Scaladoc 2 Manual</a></li>
</ul></li>
<li class="leaf"><a href="959.html" title="Books on Scala">Books</a></li>
<li class="expanded"><a href="216.html" title="">Scala API</a><ul class="menu"><li class="leaf first"><a href="http://www.scala-lang.org/api" title="">scaladoc (stable)</a></li>
<li class="leaf"><a href="http://www.scala-lang.org/archives/downloads/distrib/files/nightly/docs/library/index.html" title="">scaladoc (nightly)</a></li>
<li class="leaf"><a href="http://www.scala-lang.org/archives/downloads/distrib/files/nightly/docs/compiler/index.html" title="The Scala compiler API, built on the current trunk.">compiler API (nightly)</a></li>
<li class="leaf last"><a href="../downloads.html#api" title="">Download locally</a></li>
</ul></li>
<li class="expanded"><a href="201.html" title="">Setup &amp; Getting Started</a><ul class="menu"><li class="leaf first"><a href="166.html" title="">Getting Started with Scala</a></li>
<li class="leaf"><a href="960.html" title="Java to Scala with the Help of Experts">Java to Scala</a></li>
<li class="leaf"><a href="310.html" title="">Windows Mini-Guide</a></li>
<li class="leaf"><a href="330.html" title="">Setting PATH on Windows</a></li>
<li class="leaf last"><a href="294.html" title="">fsc and the OSX firewall</a></li>
</ul></li>
<li class="expanded"><a href="1908.html#programming" title="">Programming Guides</a><ul class="menu"><li class="leaf first"><a href="242.html" title="">Scala Actors</a></li>
<li class="leaf"><a href="http://www.scala-lang.org/node/160" title="">Scala on Android</a></li>
<li class="leaf"><a href="168.html" title="">Scala on Microsoft .NET</a></li>
<li class="leaf last"><a href="1826.html" title="Scala on Google App Engine">Scala on Google App Engine</a></li>
</ul></li>
<li class="expanded"><a href="1909.html#other" title="">Other Guides</a><ul class="menu"><li class="leaf first"><a href="345.html" title="">Maven for Beginners</a></li>
<li class="leaf"><a href="http://www.scala-lang.org/node/363" title="">Scala and JUnit on Eclipse</a></li>
<li class="leaf last"><a href="354.html" title="">Scala, Emacs and Yasnippet</a></li>
</ul></li>
<li class="leaf last"><a href="../faq.1.html" title="">FAQs</a></li>
</ul></li>
<li class="expanded"><a href="219.html" title="">Code Examples</a><ul class="menu"><li class="leaf first"><a href="166.html" title="">Hello world!</a></li>
<li class="leaf"><a href="220.html" title="">Simple Snippets</a></li>
<li class="leaf last"><a href="44.html" title="">Advanced Examples</a></li>
</ul></li>
<li class="expanded"><a href="210.html" title="">Software</a><ul class="menu"><li class="expanded first"><a href="../downloads.html" title="">Download Scala</a><ul class="menu"><li class="leaf first"><a href="../downloads.html" title="">Latest Stable Release</a></li>
<li class="leaf"><a href="165.1.html" title="">Previous Releases</a></li>
<li class="leaf"><a href="212.html" title="">Nightly Builds</a></li>
<li class="leaf"><a href="https://github.com/scala/scala" title="">Git Repository</a></li>
<li class="leaf last"><a href="36.html" title="">Distribution Content</a></li>
</ul></li>
<li class="expanded"><a href="91.html" title="">IDE and Editor plugins</a><ul class="menu"><li class="leaf first"><a href="91.html#ide_plugins" title="">IDE Plugins</a></li>
<li class="leaf last"><a href="91.html#tool_support" title="">Tool Support</a></li>
</ul></li>
<li class="expanded"><a href="1209.html" title="">Libraries and Tools</a><ul class="menu"><li class="leaf first"><a href="1209.html#libraries" title="">Libraries</a></li>
<li class="leaf"><a href="1209.html#development_tools" title="">Development Tools</a></li>
<li class="leaf"><a href="1209.html#program_testing" title="">Program Testing</a></li>
<li class="leaf last"><a href="1209.html#other_scala_related" title="">Other Scala-Related</a></li>
</ul></li>
<li class="leaf last"><a href="146.html" title="">Scala License</a></li>
</ul></li>
<li class="expanded last"><a href="214.html" title="">Scala Developers</a><ul class="menu"><li class="expanded first"><a href="215.html" title="">Developer&#039;s Guides</a><ul class="menu"><li class="leaf first"><a href="217.html" title="">Build Scala from the Source</a></li>
<li class="leaf"><a href="140.html" title="">Writing Compiler Plugins</a></li>
<li class="leaf"><a href="98.html" title="">Scala Ant Tasks</a></li>
<li class="leaf"><a href="598.html" title="">Compiler Internals</a></li>
<li class="leaf last"><a href="http://www.scala-lang.org/node/233" title="Scala Improvement Documents">Improvement Documents</a></li>
</ul></li>
<li class="expanded"><a href="218.html" title="">Bug Tracking &amp; Testing</a><ul class="menu"><li class="leaf first"><a href="https://issues.scala-lang.org" title="">Scala Bugtracker</a></li>
<li class="leaf"><a href="http://scala-webapps.epfl.ch/jenkins/" title="">Scala Jenkins</a></li>
<li class="leaf last"><a href="https://codereview.scala-lang.org" title="">Code Review</a></li>
</ul></li>
<li class="expanded"><a href="237.html" title="">Codebase Progress</a><ul class="menu"><li class="leaf first"><a href="43.html" title="">Language Changes</a></li>
<li class="leaf last"><a href="309.html" title="">Download Stats</a></li>
</ul></li>
<li class="leaf"><a href="292.html" title="">Maintainers</a></li>
<li class="leaf last"><a href="../sites/default/files/contributor_agreement.pdf" title="">Contributor Agreement</a></li>
</ul></li>
</ul></div></div>
 </div>
          </div><!-- /header -->
            <div id="middlecontainer">
            <div id="main">
        <div id="squeeze">
                                    <div id="breadcrumb"> <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/8.html">Scala Language</a></div> </div>
                                          <div id="squeeze-content">
            <div id="inner-content">
                           <h1 class="title">Scala Enumeration</h1>
              <div class="tabs"></div>
                                          
  <div class="forum-post-header clear-block">
        
    <div class="reply-count">
      17 replies      
          </div>   
  </div>

    <div id="node-12477" class="top-post forum-post  clear-block">
  <a id="top"></a>
  

  <div class="post-info clear-block">
    <div class="posted-on">
      Mon, 2012-02-13, 03:17
          </div>

      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> G J </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2011-12-16,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 42 years 45 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
      
      <div class="content">
        <span class='print-link'></span><p>Can someone explain why IDLE is always printed as 'x'?</p>
<p>object State extends Enumeration {<br />
    val IDLE, STARTED = Value<br />
    var x = IDLE<br />
}</p>
<p>scala&gt; State.x<br />
res16: State.Value = x                           // okay...</p>
<p>scala&gt; State.x = State.STARTED<br />
State.x: State.Value = STARTED</p>
<p>scala&gt; State.x<br />
res17: State.Value = STARTED             // expected.</p>
<p>scala&gt; State.x = State.IDLE<br />
State.x: State.Value = x                           // huh?</p>
<p>scala&gt; State.x<br />
res18: State.Value = x                            // what?</p>
<p>Thanks.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links inline forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><div id="forum-comments">
  <a id="comment-56325"></a>

    <div id="comment-56325" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Mon, 2012-02-13, 03:41
          </div>

          <span class="post-num"><a href="12477.html#comment-56325" class="active">#1</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> G J </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2011-12-16,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 42 years 45 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re: Scala Enumeration        </div>
      
      <div class="content">
        <p>To add;</p>
<p>   State.withName("IDLE")</p>
<p>generates an exception, whereas State.withName("STARTED") doesn't.</p>
<p>Thanks.</p>
<p>On Feb 12, 9:17 pm, G J  wrote:<br />
&gt; Can someone explain why IDLE is always printed as 'x'?<br />
&gt;<br />
&gt; object State extends Enumeration {<br />
&gt;     val IDLE, STARTED = Value<br />
&gt;     var x = IDLE<br />
&gt;<br />
&gt; }<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res16: State.Value = x                           // okay...<br />
&gt;<br />
&gt; scala&gt; State.x = State.STARTED<br />
&gt; State.x: State.Value = STARTED<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res17: State.Value = STARTED             // expected.<br />
&gt;<br />
&gt; scala&gt; State.x = State.IDLE<br />
&gt; State.x: State.Value = x                           // huh?<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res18: State.Value = x                            // what?<br />
&gt;<br />
&gt; Thanks.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56332"></a>

    <div id="comment-56332" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Mon, 2012-02-13, 10:51
          </div>

          <span class="post-num"><a href="12477.html#comment-56332" class="active">#2</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> Stefan Zeiger </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2008-12-21,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 27 weeks 3 days ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Scala Enumeration        </div>
      
      <div class="content">
        <p>On 2012-02-13 3:17, G J wrote:<br />
&gt; Can someone explain why IDLE is always printed as 'x'?<br />
&gt;<br />
&gt; object State extends Enumeration {<br />
&gt;      val IDLE, STARTED = Value<br />
&gt;      var x = IDLE<br />
&gt; }</p>
<p>Enumeration uses some reflection hack to discover the names of the<br />
values (if you don't specify them explicitly). There's a field named "x"<br />
in your enumeration object, so the value is named "x". Apparently the<br />
last field wins.</p>
<p>-sz</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56336"></a>

    <div id="comment-56336" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Mon, 2012-02-13, 12:01
          </div>

          <span class="post-num"><a href="12477.html#comment-56336" class="active">#3</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> odersky </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2008-07-29,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 45 weeks 6 days ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Scala Enumeration        </div>
      
      <div class="content">
        <p>On Mon, Feb 13, 2012 at 10:42 AM, Stefan Zeiger  wrote:<br />
&gt; On 2012-02-13 3:17, G J wrote:<br />
&gt;&gt;<br />
&gt;&gt; Can someone explain why IDLE is always printed as 'x'?<br />
&gt;&gt;<br />
&gt;&gt; object State extends Enumeration {<br />
&gt;&gt;     val IDLE, STARTED = Value<br />
&gt;&gt;     var x = IDLE<br />
&gt;&gt; }<br />
&gt;<br />
&gt;<br />
&gt; Enumeration uses some reflection hack to discover the names of the values<br />
&gt; (if you don't specify them explicitly). There's a field named "x" in your<br />
&gt; enumeration object, so the value is named "x". Apparently the last field<br />
&gt; wins.</p>
<p>Yes, that's a bug. Please create a ticket!</p>
<p>Thanks</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56338"></a>

    <div id="comment-56338" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Mon, 2012-02-13, 12:11
          </div>

          <span class="post-num"><a href="12477.html#comment-56338" class="active">#4</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> Jan Vanek </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2011-08-23,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 42 years 45 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Re: Scala Enumeration        </div>
      
      <div class="content">
        A possible fix to Enumeration&#39;s method populateNameMap()<br />  private def populateNameMap() {    val fields = getClass.getDeclaredFields    def isValDef(m: JMethod) = fields exists (fd =&gt; fd.getName == m.getName &amp;&amp; fd.getType == m.getReturnType)
<br />    // The list of possible Value methods: 0-args which return a conforming type    val methods = getClass.getMethods filter (m =&gt; m.getParameterTypes.isEmpty &amp;&amp;                                                   classOf[Value].isAssignableFrom(m.getReturnType) &amp;&amp;
                                                   m.getDeclaringClass != classOf[Enumeration] &amp;&amp;                                                   isValDef(m))    val setters = getClass.getMethods filter (m =&gt; m.getParameterTypes.length == 1 &amp;&amp;
                                                   classOf[Value].isAssignableFrom(m.getParameterTypes.apply(0)) &amp;&amp;                                                   classOf[Unit] == m.getReturnType &amp;&amp;
                                                   m.getDeclaringClass != classOf[Enumeration] &amp;&amp;                                                   m.getName.endsWith(&quot;_$eq&quot;))    methods foreach { m =&gt;
      val name = m.getName      if (!setters.exists(m =&gt; m.getName == name + &quot;_$eq&quot;)) {        // invoke method to obtain actual `Value` instance        val value = m.invoke(this).asInstanceOf[Value]
        // verify that outer points to the correct Enumeration: ticket #3616.        if (value.outerEnum eq thisenum) {          val id = Int.unbox(classOf[Val] getMethod &quot;id&quot; invoke value)
          nmap += ((id, name))        }      }    }  }<br />It would still not solve following:<br />	object State extends Enumeration {
	   val IS_FIRST = Value	   val WHICH_ONE = IS_FIRST	}
<br />With regards,Jan<br /><br />On Mon, Feb 13, 2012 at 3:31 AM, G J &lt;<span class="spamspan"><span class="u">odaym2</span> [at] <span class="d">gmail [dot] com</span></span>&gt; wrote:<br />
<blockquote class="gmail_quote">To add;<br />
<br />
   State.withName(&quot;IDLE&quot;)<br />
<br />
generates an exception, whereas State.withName(&quot;STARTED&quot;) doesn&#39;t.<br />
<br />
Thanks.<br />
<br />
On Feb 12, 9:17 pm, G J &lt;<span class="spamspan"><span class="u">oda [dot]  [dot]  [dot] </span> [at] <span class="d">gmail [dot] com</span></span>&gt; wrote:<br />
&gt; Can someone explain why IDLE is always printed as &#39;x&#39;?<br />
&gt;<br />
&gt; object State extends Enumeration {<br />
&gt;     val IDLE, STARTED = Value<br />
&gt;     var x = IDLE<br />
&gt;<br />
&gt; }<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res16: State.Value = x                           // okay...<br />
&gt;<br />
&gt; scala&gt; State.x = State.STARTED<br />
&gt; State.x: State.Value = STARTED<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res17: State.Value = STARTED             // expected.<br />
&gt;<br />
&gt; scala&gt; State.x = State.IDLE<br />
&gt; State.x: State.Value = x                           // huh?<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res18: State.Value = x                            // what?<br />
&gt;<br />
&gt; Thanks.</blockquote><br />      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56352"></a>

    <div id="comment-56352" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Mon, 2012-02-13, 17:21
          </div>

          <span class="post-num"><a href="12477.html#comment-56352" class="active">#5</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> tolsen77 </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2008-10-08,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 1 year 38 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Re: Scala Enumeration        </div>
      
      <div class="content">
        I reget contributing life-support to Enumeration. You should too! :) Anyway, anything useful in the new reflection api that could be used in a rewrite?<br /><br />On 13 February 2012 12:02, Jan Vanek &lt;<span class="spamspan"><span class="u">j3vanek</span> [at] <span class="d">googlemail [dot] com</span></span>&gt; wrote:<br />
<blockquote class="gmail_quote">A possible fix to Enumeration&#39;s method populateNameMap()<br />  private def populateNameMap() {
    val fields = getClass.getDeclaredFields    def isValDef(m: JMethod) = fields exists (fd =&gt; fd.getName == m.getName &amp;&amp; fd.getType == m.getReturnType)
<br />    // The list of possible Value methods: 0-args which return a conforming type    val methods = getClass.getMethods filter (m =&gt; m.getParameterTypes.isEmpty &amp;&amp;                                                   classOf[Value].isAssignableFrom(m.getReturnType) &amp;&amp;

                                                   m.getDeclaringClass != classOf[Enumeration] &amp;&amp;                                                   isValDef(m))    val setters = getClass.getMethods filter (m =&gt; m.getParameterTypes.length == 1 &amp;&amp;

                                                   classOf[Value].isAssignableFrom(m.getParameterTypes.apply(0)) &amp;&amp;                                                   classOf[Unit] == m.getReturnType &amp;&amp;

                                                   m.getDeclaringClass != classOf[Enumeration] &amp;&amp;                                                   m.getName.endsWith(&quot;_$eq&quot;))
    methods foreach { m =&gt;
      val name = m.getName      if (!setters.exists(m =&gt; m.getName == name + &quot;_$eq&quot;)) {        // invoke method to obtain actual `Value` instance        val value = m.invoke(this).asInstanceOf[Value]

        // verify that outer points to the correct Enumeration: ticket #3616.        if (value.outerEnum eq thisenum) {          val id = Int.unbox(classOf[Val] getMethod &quot;id&quot; invoke value)

          nmap += ((id, name))        }      }    }  }<br />It would still not solve following:<br />	object State extends Enumeration {

	   val IS_FIRST = Value	   val WHICH_ONE = IS_FIRST	}
<br />With regards,Jan<br /><br />On Mon, Feb 13, 2012 at 3:31 AM, G J &lt;<span class="spamspan"><span class="u">odaym2</span> [at] <span class="d">gmail [dot] com</span></span>&gt; wrote:<br />

<blockquote class="gmail_quote">To add;<br />
<br />
   State.withName(&quot;IDLE&quot;)<br />
<br />
generates an exception, whereas State.withName(&quot;STARTED&quot;) doesn&#39;t.<br />
<br />
Thanks.<br />
<br />
On Feb 12, 9:17 pm, G J &lt;<span class="spamspan"><span class="u">oda [dot]  [dot]  [dot] </span> [at] <span class="d">gmail [dot] com</span></span>&gt; wrote:<br />
&gt; Can someone explain why IDLE is always printed as &#39;x&#39;?<br />
&gt;<br />
&gt; object State extends Enumeration {<br />
&gt;     val IDLE, STARTED = Value<br />
&gt;     var x = IDLE<br />
&gt;<br />
&gt; }<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res16: State.Value = x                           // okay...<br />
&gt;<br />
&gt; scala&gt; State.x = State.STARTED<br />
&gt; State.x: State.Value = STARTED<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res17: State.Value = STARTED             // expected.<br />
&gt;<br />
&gt; scala&gt; State.x = State.IDLE<br />
&gt; State.x: State.Value = x                           // huh?<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res18: State.Value = x                            // what?<br />
&gt;<br />
&gt; Thanks.</blockquote><br />
</blockquote><br />      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56353"></a>

    <div id="comment-56353" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Mon, 2012-02-13, 17:51
          </div>

          <span class="post-num"><a href="12477.html#comment-56353" class="active">#6</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> Stefan Zeiger </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2008-12-21,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 27 weeks 3 days ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Scala Enumeration        </div>
      
      <div class="content">
        <p>On 2012-02-13 10:42, Stefan Zeiger wrote:<br />
&gt; On 2012-02-13 3:17, G J wrote:<br />
&gt;&gt; Can someone explain why IDLE is always printed as 'x'?<br />
&gt;&gt;<br />
&gt;&gt; object State extends Enumeration {<br />
&gt;&gt;      val IDLE, STARTED = Value<br />
&gt;&gt;      var x = IDLE<br />
&gt;&gt; }<br />
&gt;<br />
&gt; Enumeration uses some reflection hack to discover the names of the<br />
&gt; values (if you don't specify them explicitly). There's a field named<br />
&gt; "x" in your enumeration object, so the value is named "x". Apparently<br />
&gt; the last field wins.</p>
<p>That's a great explanation I came up with, don't you think? There's just<br />
one flaw: It's wrong! I can't reproduce this on either 2.9.1 or some<br />
nightly build from 2 weeks ago (long after my Enumeration changes were<br />
merged into master). In both versions, the enum value is named IDLE, not x.</p>
<p>So, on which version is this supposed to happen? There are a couple of<br />
very similar bugs in JIRA<br />
(<a href="https://issues.scala-lang.org/browse/SI-5211" title="https://issues.scala-lang.org/browse/SI-5211">https://issues.scala-lang.org/browse/SI-5211</a>), some of them already closed.</p>
<p>-sz</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56381"></a>

    <div id="comment-56381" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 11:41
          </div>

          <span class="post-num"><a href="12477.html#comment-56381" class="active">#7</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> G J </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2011-12-16,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 42 years 45 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re: Scala Enumeration        </div>
      
      <div class="content">
        <p>This happens in Scala version 2.9.1.final (OpenJDK 64-Bit Server VM,<br />
Java 1.7.0_b147-icedtea).</p>
<p>Thanks.</p>
<p>On Feb 13, 11:44 am, Stefan Zeiger  wrote:<br />
&gt; On 2012-02-13 10:42, Stefan Zeiger wrote:<br />
&gt;<br />
&gt; &gt; On 2012-02-13 3:17, G J wrote:<br />
&gt; &gt;&gt; Can someone explain why IDLE is always printed as 'x'?<br />
&gt;<br />
&gt; &gt;&gt; object State extends Enumeration {<br />
&gt; &gt;&gt;      val IDLE, STARTED = Value<br />
&gt; &gt;&gt;      var x = IDLE<br />
&gt; &gt;&gt; }<br />
&gt;<br />
&gt; &gt; Enumeration uses some reflection hack to discover the names of the<br />
&gt; &gt; values (if you don't specify them explicitly). There's a field named<br />
&gt; &gt; "x" in your enumeration object, so the value is named "x". Apparently<br />
&gt; &gt; the last field wins.<br />
&gt;<br />
&gt; That's a great explanation I came up with, don't you think? There's just<br />
&gt; one flaw: It's wrong! I can't reproduce this on either 2.9.1 or some<br />
&gt; nightly build from 2 weeks ago (long after my Enumeration changes were<br />
&gt; merged into master). In both versions, the enum value is named IDLE, not x.<br />
&gt;<br />
&gt; So, on which version is this supposed to happen? There are a couple of<br />
&gt; very similar bugs in JIRA<br />
&gt; (<a href="https://issues.scala-lang.org/browse/SI-5211" title="https://issues.scala-lang.org/browse/SI-5211">https://issues.scala-lang.org/browse/SI-5211</a>), some of them already closed.<br />
&gt;<br />
&gt; -sz</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56382"></a>

    <div id="comment-56382" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 12:11
          </div>

          <span class="post-num"><a href="12477.html#comment-56382" class="active">#8</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> Stefan Zeiger </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2008-12-21,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 27 weeks 3 days ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Re: Scala Enumeration        </div>
      
      <div class="content">
        <p>On 2012-02-14 11:33, G J wrote:<br />
&gt; This happens in Scala version 2.9.1.final (OpenJDK 64-Bit Server VM,<br />
&gt; Java 1.7.0_b147-icedtea).</p>
<p>Except for OpenJDK, that's what I am using, too:</p>
<p>Welcome to Scala version 2.9.1.final (Java HotSpot(TM) 64-Bit Server VM,<br />
Java 1.7.0).<br />
Type in expressions to have them evaluated.<br />
Type :help for more information.</p>
<p>scala&gt; object State extends Enumeration {<br />
      |   val IDLE, STARTED = Value<br />
      |   var x = IDLE<br />
      | }<br />
defined module State</p>
<p>scala&gt; State.x<br />
res0: State.Value = IDLE</p>
<p>scala&gt; State.IDLE<br />
res1: State.Value = IDLE</p>
<p>-sz</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56388"></a>

    <div id="comment-56388" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 12:41
          </div>

          <span class="post-num"><a href="12477.html#comment-56388" class="active">#9</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> marius </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2008-08-31,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 3 years 19 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Re: Scala Enumeration        </div>
      
      <div class="content">
        Wouldn&#39;t it be possible that an built-in compiler plugin to figure out the enumeration content instead of using reflection ?<br /><br />Thanks,<br />Marius<br /><br />On Mon, Feb 13, 2012 at 1:02 PM, Jan Vanek &lt;<span class="spamspan"><span class="u">j3vanek</span> [at] <span class="d">googlemail [dot] com</span></span>&gt; wrote:<br />
<blockquote class="gmail_quote">A possible fix to Enumeration&#39;s method populateNameMap()<br />  private def populateNameMap() {
    val fields = getClass.getDeclaredFields    def isValDef(m: JMethod) = fields exists (fd =&gt; fd.getName == m.getName &amp;&amp; fd.getType == m.getReturnType)
<br />    // The list of possible Value methods: 0-args which return a conforming type    val methods = getClass.getMethods filter (m =&gt; m.getParameterTypes.isEmpty &amp;&amp;                                                   classOf[Value].isAssignableFrom(m.getReturnType) &amp;&amp;

                                                   m.getDeclaringClass != classOf[Enumeration] &amp;&amp;                                                   isValDef(m))    val setters = getClass.getMethods filter (m =&gt; m.getParameterTypes.length == 1 &amp;&amp;

                                                   classOf[Value].isAssignableFrom(m.getParameterTypes.apply(0)) &amp;&amp;                                                   classOf[Unit] == m.getReturnType &amp;&amp;

                                                   m.getDeclaringClass != classOf[Enumeration] &amp;&amp;                                                   m.getName.endsWith(&quot;_$eq&quot;))
    methods foreach { m =&gt;
      val name = m.getName      if (!setters.exists(m =&gt; m.getName == name + &quot;_$eq&quot;)) {        // invoke method to obtain actual `Value` instance        val value = m.invoke(this).asInstanceOf[Value]

        // verify that outer points to the correct Enumeration: ticket #3616.        if (value.outerEnum eq thisenum) {          val id = Int.unbox(classOf[Val] getMethod &quot;id&quot; invoke value)

          nmap += ((id, name))        }      }    }  }<br />It would still not solve following:<br />	object State extends Enumeration {

	   val IS_FIRST = Value	   val WHICH_ONE = IS_FIRST	}
<br />With regards,Jan<br /><br />On Mon, Feb 13, 2012 at 3:31 AM, G J &lt;<span class="spamspan"><span class="u">odaym2</span> [at] <span class="d">gmail [dot] com</span></span>&gt; wrote:<br />

<blockquote class="gmail_quote">To add;<br />
<br />
   State.withName(&quot;IDLE&quot;)<br />
<br />
generates an exception, whereas State.withName(&quot;STARTED&quot;) doesn&#39;t.<br />
<br />
Thanks.<br />
<br />
On Feb 12, 9:17 pm, G J &lt;<span class="spamspan"><span class="u">oda [dot]  [dot]  [dot] </span> [at] <span class="d">gmail [dot] com</span></span>&gt; wrote:<br />
&gt; Can someone explain why IDLE is always printed as &#39;x&#39;?<br />
&gt;<br />
&gt; object State extends Enumeration {<br />
&gt;     val IDLE, STARTED = Value<br />
&gt;     var x = IDLE<br />
&gt;<br />
&gt; }<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res16: State.Value = x                           // okay...<br />
&gt;<br />
&gt; scala&gt; State.x = State.STARTED<br />
&gt; State.x: State.Value = STARTED<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res17: State.Value = STARTED             // expected.<br />
&gt;<br />
&gt; scala&gt; State.x = State.IDLE<br />
&gt; State.x: State.Value = x                           // huh?<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res18: State.Value = x                            // what?<br />
&gt;<br />
&gt; Thanks.</blockquote><br />
</blockquote><br />      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56390"></a>

    <div id="comment-56390" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 13:01
          </div>

          <span class="post-num"><a href="12477.html#comment-56390" class="active">#10</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> G J </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2011-12-16,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 42 years 45 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re: Scala Enumeration        </div>
      
      <div class="content">
        <p>Absolutely amazing! So much for Java portability.</p>
<p>As clear as day light, it fails under OpenJDK [or in my version].<br />
Anyone have a deeper understanding of the differences?  Which one is<br />
right....?</p>
<p>Thanks.</p>
<p>On Feb 14, 5:55 am, Stefan Zeiger  wrote:<br />
&gt; On 2012-02-14 11:33, G J wrote:<br />
&gt;<br />
&gt; &gt; This happens in Scala version 2.9.1.final (OpenJDK 64-Bit Server VM,<br />
&gt; &gt; Java 1.7.0_b147-icedtea).<br />
&gt;<br />
&gt; Except for OpenJDK, that's what I am using, too:<br />
&gt;<br />
&gt; Welcome to Scala version 2.9.1.final (Java HotSpot(TM) 64-Bit Server VM,<br />
&gt; Java 1.7.0).<br />
&gt; Type in expressions to have them evaluated.<br />
&gt; Type :help for more information.<br />
&gt;<br />
&gt; scala&gt; object State extends Enumeration {<br />
&gt;       |   val IDLE, STARTED = Value<br />
&gt;       |   var x = IDLE<br />
&gt;       | }<br />
&gt; defined module State<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res0: State.Value = IDLE<br />
&gt;<br />
&gt; scala&gt; State.IDLE<br />
&gt; res1: State.Value = IDLE<br />
&gt;<br />
&gt; -sz</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56392"></a>

    <div id="comment-56392" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 13:01
          </div>

          <span class="post-num"><a href="12477.html#comment-56392" class="active">#11</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> Simon Ochsenreither </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2011-07-17,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 42 years 45 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Re: Scala Enumeration        </div>
      
      <div class="content">
        I would propose a compiler plugin to figure out if Enumerations is broken. For simplicity, it could be implemented by ignoring the input arguments and always returning true.<br />      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56394"></a>

    <div id="comment-56394" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 13:21
          </div>

          <span class="post-num"><a href="12477.html#comment-56394" class="active">#12</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> Jason Zaugg </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2009-05-18,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 38 weeks 5 days ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Re: Scala Enumeration        </div>
      
      <div class="content">
        <p>On Tue, Feb 14, 2012 at 12:46 PM, G J  wrote:<br />
&gt;<br />
&gt; Absolutely amazing! So much for Java portability.<br />
&gt;<br />
&gt; As clear as day light, it fails under OpenJDK [or in my version].<br />
&gt; Anyone have a deeper understanding of the differences?  Which one is<br />
&gt; right....?</p>
<p>"The elements in the array returned are not sorted and are not in any<br />
particular order"</p>
<p>http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#getMethods()</p>
<p>-jason</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56395"></a>

    <div id="comment-56395" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 13:51
          </div>

          <span class="post-num"><a href="12477.html#comment-56395" class="active">#13</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> Jan Vanek </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2011-08-23,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 42 years 45 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Re: Scala Enumeration        </div>
      
      <div class="content">
        object State extends Enumeration {	   val IDLE = Value	   val /*or var*/ N: Value = null

	}		def main(args: Array[String]) {
		println(State.IDLE)	}<br />produces:Exception in thread &quot;main&quot; java.lang.NullPointerException

	at scala.Enumeration$$anonfun$scala$Enumeration$$populateNameMap$1.apply(Enumeration.scala:173)	at scala.Enumeration$$anonfun$scala$Enumeration$$populateNameMap$1.apply(Enumeration.scala:168)

	at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:34)	at scala.collection.mutable.ArrayOps.foreach(ArrayOps.scala:38)

	at scala.Enumeration.scala$Enumeration$$populateNameMap(Enumeration.scala:168)<br />Very minor and can easily be fixed:
old:    if (value.outerEnum eq thisenum) {new:    if (value != null &amp;&amp; (value.outerEnum eq thisenum)) {<br />With regards,Jan<br />      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56397"></a>

    <div id="comment-56397" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 14:11
          </div>

          <span class="post-num"><a href="12477.html#comment-56397" class="active">#14</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> DaveScala </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2011-03-18,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 1 year 21 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re: Scala Enumeration        </div>
      
      <div class="content">
        <p>I can confirm:</p>
<p>C:\Users\Dave&gt;scala<br />
Welcome to Scala version 2.10.0-M1 (Java HotSpot(TM) Client VM, Java<br />
1.6.0_30).<br />
Type in expressions to have them evaluated.<br />
Type :help for more information.</p>
<p>scala&gt; object State extends Enumeration {<br />
     | var IDLE, STARTED = Value<br />
     | var x = IDLE<br />
     | }<br />
defined module State</p>
<p>scala&gt; State.x<br />
res0: State.Value = x</p>
<p>scala&gt; State.x = State.STARTED<br />
State.x: State.Value = STARTED</p>
<p>scala&gt; State.x<br />
res1: State.Value = STARTED</p>
<p>scala&gt; State.x = State.IDLE<br />
State.x: State.Value = x</p>
<p>scala&gt; State.x<br />
res2: State.Value = x</p>
<p>On 13 feb, 03:17, G J  wrote:<br />
&gt; Can someone explain why IDLE is always printed as 'x'?<br />
&gt;<br />
&gt; object State extends Enumeration {<br />
&gt;     val IDLE, STARTED = Value<br />
&gt;     var x = IDLE<br />
&gt;<br />
&gt; }<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res16: State.Value = x                           // okay...<br />
&gt;<br />
&gt; scala&gt; State.x = State.STARTED<br />
&gt; State.x: State.Value = STARTED<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res17: State.Value = STARTED             // expected.<br />
&gt;<br />
&gt; scala&gt; State.x = State.IDLE<br />
&gt; State.x: State.Value = x                           // huh?<br />
&gt;<br />
&gt; scala&gt; State.x<br />
&gt; res18: State.Value = x                            // what?<br />
&gt;<br />
&gt; Thanks.</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56398"></a>

    <div id="comment-56398" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 14:21
          </div>

          <span class="post-num"><a href="12477.html#comment-56398" class="active">#15</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> Stefan Zeiger </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2008-12-21,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 27 weeks 3 days ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Re: Scala Enumeration        </div>
      
      <div class="content">
        <p>On 2012-02-14 12:56, Jason Zaugg wrote:<br />
&gt; On Tue, Feb 14, 2012 at 12:46 PM, G J  wrote:<br />
&gt;&gt; Absolutely amazing! So much for Java portability.<br />
&gt;&gt;<br />
&gt;&gt; As clear as day light, it fails under OpenJDK [or in my version].<br />
&gt;&gt; Anyone have a deeper understanding of the differences?  Which one is<br />
&gt;&gt; right....?<br />
&gt; "The elements in the array returned are not sorted and are not in any<br />
&gt; particular order"</p>
<p>I've opened <a href="https://issues.scala-lang.org/browse/SI-5462" title="https://issues.scala-lang.org/browse/SI-5462">https://issues.scala-lang.org/browse/SI-5462</a>. Scala<br />
reflection might give us the tools to improve this situation. OTOH,<br />
macros could allow a much better implementation altogether.</p>
<p>-sz</p>
      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56401"></a>

    <div id="comment-56401" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 14:51
          </div>

          <span class="post-num"><a href="12477.html#comment-56401" class="active">#16</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> Jan Vanek </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2011-08-23,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 42 years 45 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Re: Scala Enumeration        </div>
      
      <div class="content">
        <br />On Tue, Feb 14, 2012 at 12:57 PM, Simon Ochsenreither &lt;<span class="spamspan"><span class="u">simon [dot] ochsenreither</span> [at] <span class="d">googlemail [dot] com</span></span>&gt; wrote:<br /><blockquote class="gmail_quote">
I would propose a compiler plugin to figure out if Enumerations is broken. For simplicity, it could be implemented by ignoring the input arguments and always returning true.<br /></blockquote><br />:-)<br />
	class StateClass extends Enumeration {	   val IDLE = Value	}
		val State = new StateClass	
	def main(args: Array[String]) {	    val bais = new ByteArrayOutputStream	    val ois = new ObjectOutputStream(bais)
	    ois.writeObject(State.IDLE)	    ois.flush	    val baos = new ByteArrayInputStream(bais.toByteArray())
	    val oos = new ObjectInputStream(baos)	    val state = oos.readObject().asInstanceOf[State.Value]
	    println(state)	}<br />Serializable, huh?<br />
Exception in thread &quot;main&quot; java.io.IOException: unexpected exception type	at java.io.ObjectStreamClass.throwMiscException(Unknown Source)
	at java.io.ObjectStreamClass.invokeReadResolve(Unknown Source)	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
	at java.io.ObjectInputStream.readObject0(Unknown Source)	at java.io.ObjectInputStream.defaultReadFields(Unknown Source)
	at java.io.ObjectInputStream.readSerialData(Unknown Source)	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
	at java.io.ObjectInputStream.readObject0(Unknown Source)	at java.io.ObjectInputStream.readObject(Unknown Source)
	at scalaf.T$.main(T.scala:21)	at scalaf.T.main(T.scala)Caused by: java.lang.NoSuchFieldException: MODULE$
	at java.lang.Class.getField(Unknown Source)	at scalaf.Enumeration.readResolve(Enumeration.scala:64)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)	at java.lang.reflect.Method.invoke(Unknown Source)
	... 10 more<br />      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div><a id="comment-56406"></a>

    <div id="comment-56406" class="forum-post  clear-block">

  <div class="post-info clear-block">
    <div class="posted-on">
      Tue, 2012-02-14, 15:31
          </div>

          <span class="post-num"><a href="12477.html#comment-56406" class="active">#17</a> </span>
      </div>

  <div class="forum-post-wrapper">

    <div class="forum-post-panel-sub">
      <div class="author-pane">
        
<div class="author-pane-inner">

  <div class="author-pane-first">
    <div class="author-pane-name-section">
      <div class="author-pane-line author-name"> Jan Vanek </div>

      
      
              <div class="picture">
  </div>
          </div>

     
      <div class="author-pane-line author-joined">
        <span class="author-pane-label">Joined:</span> 2011-08-23,       </div>
    
    
    
        
      </div>

  <div class="author-pane-last">
    
    <div class="author-pane-icon"><img src="../sites/all/modules/advanced_forum/styles/toni_lagoon/images/user-offline.png" alt="User offline. Last seen 42 years 45 weeks ago." title="" width="16" height="16" /></div>

    
    
      </div>
</div>
     </div>
    </div>

    <div class="forum-post-panel-main clear-block">
              <div class="post-title">
          Re:  Re: Scala Enumeration        </div>
      
      <div class="content">
        It is related to: <a href="https://issues.scala-lang.org/browse/SI-2214" target="_blank" rel="nofollow">https://issues.scala-lang.org/browse/SI-2214</a> <br />Should have looked before... I think the enum should provide writeReplace method which would - in case the enum itself really is an object (determinable at runtime) - not serialize all its members, but only the class name. During deserialization it should read-resolve to the companion object. In the case the enum instance is not an object instance it would probably be best to serialize and deserialize it fully (into new instance, as usual objects).
<br /><br />On Tue, Feb 14, 2012 at 2:31 PM, Jan Vanek &lt;<span class="spamspan"><span class="u">j3vanek</span> [at] <span class="d">googlemail [dot] com</span></span>&gt; wrote:<br />
<blockquote class="gmail_quote"><br />On Tue, Feb 14, 2012 at 12:57 PM, Simon Ochsenreither &lt;<span class="spamspan"><span class="u">simon [dot] ochsenreither</span> [at] <span class="d">googlemail [dot] com</span></span>&gt; wrote:<br />


<blockquote class="gmail_quote">
I would propose a compiler plugin to figure out if Enumerations is broken. For simplicity, it could be implemented by ignoring the input arguments and always returning true.<br /></blockquote><br />:-)


<br />
	class StateClass extends Enumeration {	   val IDLE = Value	}



		val State = new StateClass	
	def main(args: Array[String]) {	    val bais = new ByteArrayOutputStream	    val ois = new ObjectOutputStream(bais)



	    ois.writeObject(State.IDLE)	    ois.flush	    val baos = new ByteArrayInputStream(bais.toByteArray())



	    val oos = new ObjectInputStream(baos)	    val state = oos.readObject().asInstanceOf[State.Value]
	    println(state)	}<br />Serializable, huh?<br />
Exception in thread &quot;main&quot; java.io.IOException: unexpected exception type	at java.io.ObjectStreamClass.throwMiscException(Unknown Source)



	at java.io.ObjectStreamClass.invokeReadResolve(Unknown Source)	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)



	at java.io.ObjectInputStream.readObject0(Unknown Source)	at java.io.ObjectInputStream.defaultReadFields(Unknown Source)



	at java.io.ObjectInputStream.readSerialData(Unknown Source)	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)



	at java.io.ObjectInputStream.readObject0(Unknown Source)	at java.io.ObjectInputStream.readObject(Unknown Source)
	at scalaf.T$.main(T.scala:21)	at scalaf.T.main(T.scala)Caused by: java.lang.NoSuchFieldException: MODULE$



	at java.lang.Class.getField(Unknown Source)	at scalaf.Enumeration.readResolve(Enumeration.scala:64)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)



	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)	at java.lang.reflect.Method.invoke(Unknown Source)



	... 10 more<br />
</blockquote><br />      </div>

          </div>
  </div>

  <div class="forum-post-footer clear-block">
    <div class="forum-jump-links">
      <a href="12477.html#top">Top</a>
    </div>
    
          <div class="forum-post-links">
        <ul class="links forum-links"><li class="comment_forbidden first last"><span><a href="../user/login%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">Login</a> or <a href="../user/register%3Fdestination=comment%252Freply%252F12477%2523comment-form.html">register</a> to post comments</span></li>
</ul>      </div>
      </div>
</div>  </div>
 
                                        </div><!-- /inner-content -->
          </div><!-- /squeeze-content -->
        </div><!-- /squeeze -->
      </div><!-- /main -->
              <div id="sidebar-right"><div class="block block-menu" id="block-menu-secondary-links">
  <h2 class="title">Scala Quick Links</h2>  <div class="content"><ul class="menu"><li class="leaf first"><a href="../downloads.html" title="Download the Scala compiler and Tools">Download Scala</a></li>
<li class="leaf"><a href="198.html" title="">Reference Manuals</a></li>
<li class="leaf"><a href="216.html" title="">Scala API</a></li>
<li class="leaf"><a href="308.html" title="Submitting a Story">Submit a Story</a></li>
<li class="leaf"><a href="../archive.html" title="Archive of scala-lang.org front page news stories">News Archive</a></li>
<li class="leaf"><a href="../faq.1.html" title="">FAQs</a></li>
<li class="leaf"><a href="../menutree.html" title="Map of the site content">Site map</a></li>
<li class="leaf"><a href="188.html" title="Contact Us">Contact Us</a></li>
<li class="leaf"><a href="../shop.html" title="">The Scala Shop</a></li>
<li class="leaf"><a href="http://days2012.scala-lang.org/" title="">Scala Days 2012</a></li>
<li class="leaf"><a href="http://docs.scala-lang.org/" title="">Documentation Site</a></li>
<li class="leaf last"><a href="../gsoc2012.html" title="Summer of Code 2012 Scala Projects">Summer of Code 2012</a></li>
</ul></div></div>
<div class="block block-views" id="block-views-featuredNews-block_1">
  <h2 class="title">Featured News</h2>  <div class="content"><div class="view view-featuredNews view-id-featuredNews view-display-id-block_1 view-dom-id-1">
        <div class="view-header">
      <style type="text/css">
.view-id-featuredNews.view-display-id-block_1 ul {
position:relative;
  left:.75em;
}
.view-id-featuredNews.view-display-id-block_1 ul li {
  list-style-type: circle;
}
#block-views-featuredNews-block_1 {
position: relative;
}
#block-views-featuredNews-block_1  .feed-icon {
position:absolute;
bottom:2px;
right:2px;
}
</style>    </div>
  
  
  
      <div class="view-content">
      <div class="item-list">
    <ul>
          <li class="views-row views-row-1 views-row-odd views-row-first">  
  <div class="views-field-title">
                <span class="field-content"><a href="12603.html">Scala 2.9.2 final</a></span>
  </div>
</li>
          <li class="views-row views-row-2 views-row-even views-row-last">  
  <div class="views-field-title">
                <span class="field-content"><a href="12560.html">Akka 2.0 Released!</a></span>
  </div>
</li>
      </ul>
</div>    </div>
  
  
  
  
  
      <div class="feed-icon">
      <a href="../featured/rss.xml" class="feed-icon"><img src="../misc/feed.png" alt="Syndicate content" title="The Scala Language (Featured News Only)" width="16" height="16" /></a>    </div>
  
</div> </div></div>
<div class="block block-block" id="block-block-5">
  <h2 class="title">User login</h2>  <div class="content">  <form action="https://www.scala-lang.org/user?destination=node%2F12477    " method="post" id="user-login-form"><div class="form-item" id="edit-name-wrapper"><label for="edit-name">Username: <span class="form-required" title="This field is required.">*</span></label>  <input type="text" maxlength="60" name="name" id="edit-name" size="15" value="" class="form-text required" /></div>     <div class="form-item" id="edit-pass-wrapper"><label for="edit-pass">Password: <span class="form-required" title="This field is required.">*</span></label>   <input type="password" name="pass" id="edit-pass" maxlength="60" size="15" class="form-text required" /><br />     <span style="font-size: smaller;">will be sent securely</span></div>     <input type="submit" name="op" id="edit-submit-custom" value="Log in" tabindex="3" class="form-submit" /> <br />     <p><a title="Create new account" href="../user/register.html">Create new account</a></p>     <p><a title="Retrieve lost password" href="../user/password.html">Retrieve lost password</a></p>     <input type="hidden" name="form_id" id="edit-user-login" value="user_login" /></form> </div></div>
<div class="block block-block" id="block-block-3">
    <div class="content"><ul>
<li><a href="959.html"><img width="95" height="353" alt="" src="../sites/default/files/books1.png" /></a></li>
<li><a href="959.html"><img width="95" height="353" alt="" src="../sites/default/files/books2.png" /></a></li>
<li><a href="959.html"><img width="95" height="353" alt="" src="../sites/default/files/books3.png" /></a></li>
<li><a href="959.html"><img width="95" height="353" alt="" src="../sites/default/files/books4.png" /></a></li>
<li><a href="959.html"><img width="95" height="353" alt="" src="../sites/default/files/books5.png" /></a></li>
<li><a href="959.html"><img width="95" height="353" alt="" src="../sites/default/files/books6.png" /></a></li>
<li><a href="959.html"><img width="95" height="353" alt="" src="../sites/default/files/books7.png" /></a></li>
<li><a href="959.html"><img width="95" height="353" alt="" src="../sites/default/files/books8.png" /></a></li>
<li><a href="959.html"><img width="95" height="353" alt="" src="../sites/default/files/books9.png" /></a></li>
<li><a href="959.html"><img width="95" height="353" alt="" src="../sites/default/files/books1.png" /></a></li>
</ul>
</div></div>
 </div>
          </div><!-- /middle-container -->
    <div style="clear:both"></div>
                    <div class="clear-block clr" id="section2">
        <div class="sections">
                      <div class="section width99"><div class="block block-block" id="block-block-2">
    <div class="content"><p style="text-align: center;">Copyright &copy; 2012 &Eacute;cole Polytechnique F&eacute;d&eacute;rale de Lausanne (EPFL), Lausanne, Switzerland</p></div></div>
</div>
                                      </div>
        <div style="clear:both"></div>
      </div><!-- /section2 -->
        <div id="footer">


            
          </div><!-- /footer -->
  <div style="clear:both"></div>
    </div> <!-- /page -->
</body>
</html>
