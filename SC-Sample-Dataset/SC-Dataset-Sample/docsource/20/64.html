





<!DOCTYPE html>
<html>
<head>
    






<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
<title>[WHIRR-49] Allow Whirr to use Chef for configuration management - ASF JIRA</title>
<script type="text/javascript">
    if (!window.performance) {
        window.mpPerformance = {};
        window.mpPerformance.responseStart = new Date().getTime();
    }
</script>
<meta name="application-name" content="JIRA" data-name="jira" data-version="6.1.4"><meta name="ajs-hasCriteriaAutoUpdate" content="true">
<meta name="ajs-viewissue-use-history-api" content="false">
<meta name="ajs-viewissue-max-cache-size" content="">
<meta name="ajs-view-issue-trace-key" content="jira.issue.refreshed">
<meta name="ajs-view-issue-psycho-key" content="jira.psycho.issue.refreshed">
<meta name="ajs-view-issue-refreshed-cached-key" content="jira.psycho.issue.refreshed.cached">
<meta name="ajs-return-to-search-trace-key" content="jira.returned.to.search">
<meta name="ajs-return-to-search-psycho-key" content="jira.psycho.returned.to.search">
<meta name="ajs-default-avatar-url" content="/jira/secure/useravatar?size=xsmall&amp;avatarId=10453">
<meta name="ajs-jira.issues.preferred.layout.key" content="split-view">
<meta name="ajs-max-recent-searchers" content="10">
<meta name="ajs-jira-base-url" content="https://issues.apache.org/jira">
<meta name="ajs-serverRenderedViewIssue" content="true">
<meta name="ajs-search-pos" content="0">
<meta name="ajs-issue-key" content="WHIRR-49">
<meta name="ajs-can-edit-watchers" content="false">
<meta name="ajs-can-search-users" content="false">
<meta name="ajs-server-view-issue-is-editable" content="false">
<meta name="ajs-dev-mode" content="false">
<meta name="ajs-context-path" content="/jira">
<meta name="ajs-version-number" content="6.1.4">
<meta name="ajs-build-number" content="6159">
<meta name="ajs-is-beta" content="false">
<meta name="ajs-is-rc" content="false">
<meta name="ajs-is-snapshot" content="false">
<meta name="ajs-is-milestone" content="false">
<meta name="ajs-remote-user" content="">
<meta name="ajs-remote-user-fullname" content="">
<meta name="ajs-user-locale" content="en_UK">
<meta name="ajs-user-locale-group-separator" content=",">
<meta name="ajs-app-title" content="ASF JIRA">
<meta name="ajs-keyboard-shortcuts-enabled" content="true">
<meta name="ajs-enabled-dark-features" content="[&quot;app-switcher.new&quot;,&quot;com.atlassian.jira.darkfeature.CommonHeader&quot;,&quot;jira.frother.reporter.field&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;frother.assignee.field&quot;]">
<meta name="ajs-date-relativize" content="true">
<meta name="ajs-date-time" content="HH:mm">
<meta name="ajs-date-day" content="EEEE HH:mm">
<meta name="ajs-date-dmy" content="dd/MMM/yy">
<meta name="ajs-date-complete" content="dd/MMM/yy HH:mm">
<meta name="ajs-in-admin-mode" content="false">
<meta name="ajs-is-sysadmin" content="false">
<meta name="ajs-is-admin" content="false">
<meta name="ajs-outgoing-mail-enabled" content="true">
<meta name="ajs-whats-new-iframe-src-override" content=""> <meta name="ajs-whatsnew-full-link" content="https://docs.atlassian.com/jira/docs-061/whatsnew/iframe">


    
<meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|e52d4a2d7be0ad1bea42090d8f813f8b3712012c|lout">



<link rel="shortcut icon" href="/jira/s/en_UK-amfly-1988229788/6159/7/_/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[WHIRR-49] Allow Whirr to use Chef for configuration management - ASF JIRA"/>

    


<!--[if IE]><![endif]-->
<script type="text/javascript">var contextPath = '/jira';</script>
<link type="text/css" rel="stylesheet" href="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/13/_/download/superbatch/css/batch.css" media="all">
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/13/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/13/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/ca30c499eec64115b00e0c28cda49a68/_/download/contextbatch/css/jira.navigator.simple,jira.navigator.advanced,jira.view.issue,jira.navigator.kickass,atl.general,jira.global/batch.css" media="all">
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/13/_/download/superbatch/js/batch.js" ></script>
<!--[if lte IE 8]>
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/13/_/download/superbatch/js/batch.js?conditionalComment=lte+IE+8" ></script>
<![endif]-->
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/ca30c499eec64115b00e0c28cda49a68/_/download/contextbatch/js/jira.navigator.simple,jira.navigator.advanced,jira.view.issue,jira.navigator.kickass,atl.general,jira.global/batch.js" ></script>
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" ></script>
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/6.3.6/_/download/batch/com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources/com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources.js" ></script>
<script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-amfly-1988229788/6159/7/1.5/_/download/batch/com.atlassian.administration.atlassian-admin-quicksearch-jira:admin-quicksearch-webresources/com.atlassian.administration.atlassian-admin-quicksearch-jira:admin-quicksearch-webresources.js" ></script>

<script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/6159/76cd04738ea8beda7efa7e350a0ece30/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script>


    
    
    
    <meta name="decorator" content="atl.general">
    <meta id="isNavigator" name="isNavigator" content="true">
    <meta name="ajs-user.search.mode" content="basic">
    <meta name="ajs-issue-search-help-title" content="Searching for Issues">
    <meta name="ajs-issue-search-help-url" content="https://docs.atlassian.com/jira/docs-061/Searching+for+Issues">
    <meta name="ajs-advanced-search-help-title" content="Performing Advanced Searches">
    <meta name="ajs-advanced-search-help-url" content="https://docs.atlassian.com/jira/docs-061/Advanced+Searching">
    
</head>
<body id="jira" class="aui-layout aui-theme-default ka ajax-issue-search-and-view page-type-navigator navigator-issue-only" data-version="6.1.4">
<div id="page">
    <header id="header" role="banner">
        



    
        
            
        
    







        




        





<fieldset class="parameters hidden dont-default-focus">
    <input type="hidden" title="tzdetect.pref.tzid" value="Europe/London" />
    <input type="hidden" title="tzdetect.pref.tzname" value="(GMT+00:00) London" />
    <input type="hidden" title="tzdetect.pref.tzoffset" value="(GMT+00:00)" />
    <input type="hidden" title="tzdetect.pref.tzdst" value="true" />
    <input type="hidden" title="tzdetect.pref.nothanks" value="" />
</fieldset>
<nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class="aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-haspopup="true" tabindex="0"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default"><div class="app-switcher-loading">Loading&hellip;</div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/en_UK-amfly-1988229788/6159/7/_/jira-logo-scaled.png" alt="ASF JIRA" /></a></h1><ul class='aui-nav'>




<li><a class="aui-nav-link aui-dropdown2-ajax jira-ajax-menu aui-dropdown2-trigger "href="/jira/secure/Dashboard.jspa" id="home_link"  accessKey="d"  title="View and manage your dashboards"  aria-haspopup="true" aria-owns="home_link-content">Dashboards</a><div id="home_link-content" class="aui-dropdown2 aui-style-default" data-aui-dropdown2-ajax-key="home_link"></div></li><li><a class="aui-nav-link aui-dropdown2-ajax jira-ajax-menu aui-dropdown2-trigger "href="/jira/browse/WHIRR" id="browse_link"  accessKey="p"  title="View recent projects and browse a list of projects"  aria-haspopup="true" aria-owns="browse_link-content">Projects</a><div id="browse_link-content" class="aui-dropdown2 aui-style-default" data-aui-dropdown2-ajax-key="browse_link"></div></li><li><a class="aui-nav-link aui-dropdown2-ajax jira-ajax-menu aui-dropdown2-trigger "href="/jira/secure/IssueNavigator.jspa" id="find_link"  accessKey="i"  title="Search for issues and view recent issues"  aria-haspopup="true" aria-owns="find_link-content">Issues</a><div id="find_link-content" class="aui-dropdown2 aui-style-default" data-aui-dropdown2-ajax-key="find_link"></div></li><li><a class="aui-nav-link aui-dropdown2-ajax jira-ajax-menu aui-dropdown2-trigger "href="/jira/secure/GreenHopper.jspa" id="greenhopper_menu"  title="Manage your project with JIRA Agile"  aria-haspopup="true" aria-owns="greenhopper_menu-content">Agile</a><div id="greenhopper_menu-content" class="aui-dropdown2 aui-style-default" data-aui-dropdown2-ajax-key="greenhopper_menu"></div></li>
</ul></div><div class="aui-header-secondary"><ul class='aui-nav'><li>
    <form action="/jira/secure/QuickSearch.jspa" method="post" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt">
        <input id="quickSearchInput" class="search" type="text" title="Quick Search" placeholder="Quick Search" name="searchString" accessKey="q" />
        <input type="submit" class="hidden" value="Search">
    </form>
</li>



    <li id="system-help-menu">
        <a class="aui-nav-link aui-dropdown2-trigger" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/docs-061/JIRA+Documentation"  target="_blank"  title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a>
        <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default">
                            <div class="aui-dropdown2-section">
                                                                <ul id="jira-help" class="aui-list-truncate">
                                                            <li>
                                    <a  id="view_help"   class=""  title="Goto the online documentation for JIRA" href="https://docs.atlassian.com/jira/docs-061/JIRA+Documentation"  target="_blank" >Online Help</a>
                                </li>
                                                            <li>
                                    <a  id="gh_view_help"   class=""  title="Get help online for JIRA Agile" href="http://docs.atlassian.com/agile/docs-0630/JIRA+Agile+Documentation"  target="_blank" >JIRA Agile Help</a>
                                </li>
                                                            <li>
                                    <a  id="gh_view_agile_answers"   class=""  title="Get answers about Agile" href="http://answers.atlassian.com/tags/agile/"  target="_blank" >Agile Answers</a>
                                </li>
                                                            <li>
                                    <a  id="keyshortscuthelp"   class=""  title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa"  target="_blank" >Keyboard Shortcuts</a>
                                </li>
                                                            <li>
                                    <a  id="view_about"   class=""  title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa" >About JIRA</a>
                                </li>
                                                            <li>
                                    <a  id="view_credits"   class=""  title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa"  target="_blank" >JIRA Credits</a>
                                </li>
                                                            <li>
                                    <a  id="whats-new-menu-link"   class=""   href="https://docs.atlassian.com/jira/docs-061/whatsnew/iframe" >What’s New</a>
                                </li>
                                                    </ul>
                                    </div>
                    </div>
    </li>









<li id="user-options">
            <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FWHIRR-49">Log In</a>
                <div id="user-options-content" class="aui-dropdown2 aui-style-default">
                            <div class="aui-dropdown2-section">
                                                        </div>
                    </div>
    </li>
</ul></div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    </header>
    



    <section id="content" role="main">
        
    <div class="navigator-container hidden">
        <div class="hidden shortcut-links">
                            <a id="edit-issue" class="issueaction-edit-issue" href="/jira/secure/EditIssue!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="assign-issue" class="issueaction-assign-issue" href="/jira/secure/AssignIssue!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="assign-to-me" class="issueaction-assign-to-me hide-from-opsbar" href="/jira/secure/AssignIssue.jspa?atl_token=A5KQ-2QAV-T4JA-FDED|e52d4a2d7be0ad1bea42090d8f813f8b3712012c|lout&amp;id={0}&amp;&returnUrl=/secure/issues"></a>
                            <a id="comment-issue" class="issueaction-comment-issue add-issue-comment" href="/jira/secure/AddComment!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="greenhopper-rapidboard-operation" class="issueaction-greenhopper-rapidboard-operation js-rapidboard-operation-issue" href="/jira/secure/GHGoToBoard.jspa?issueId={0}&returnUrl=/secure/issues"></a>
                            <a id="greenhopper-rank-top-operation" class="issueaction-greenhopper-rank-top-operation" href="/jira/secure/RankTop.jspa?issueId={0}&returnUrl=/secure/issues"></a>
                            <a id="greenhopper-rank-bottom-operation" class="issueaction-greenhopper-rank-bottom-operation" href="/jira/secure/RankBottom.jspa?issueId={0}&returnUrl=/secure/issues"></a>
                            <a id="log-work" class="issueaction-log-work" href="/jira/secure/CreateWorklog!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="attach-file" class="issueaction-attach-file" href="/jira/secure/AttachFile!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="attach-screenshot" class="issueaction-attach-screenshot" href="/jira/secure/AttachScreenshot!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="toggle-vote-issue" class="toggle-vote-issue issueaction-vote-issue" href="/jira/secure/VoteOrWatchIssue.jspa?atl_token=A5KQ-2QAV-T4JA-FDED|e52d4a2d7be0ad1bea42090d8f813f8b3712012c|lout&amp;id={0}&amp;vote=vote&returnUrl=/secure/issues"></a>
                            <a id="toggle-vote-issue" class="toggle-vote-issue issueaction-unvote-issue" href="/jira/secure/VoteOrWatchIssue.jspa?atl_token=A5KQ-2QAV-T4JA-FDED|e52d4a2d7be0ad1bea42090d8f813f8b3712012c|lout&amp;id={0}&amp;vote=unvote&returnUrl=/secure/issues"></a>
                            <a id="view-voters" class="issueaction-view-voters" href="/jira/secure/ViewVoters!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="toggle-watch-issue" class="issueaction-watch-issue" href="/jira/secure/VoteOrWatchIssue.jspa?atl_token=A5KQ-2QAV-T4JA-FDED|e52d4a2d7be0ad1bea42090d8f813f8b3712012c|lout&amp;id={0}&amp;watch=watch&returnUrl=/secure/issues"></a>
                            <a id="toggle-watch-issue" class="issueaction-unwatch-issue" href="/jira/secure/VoteOrWatchIssue.jspa?atl_token=A5KQ-2QAV-T4JA-FDED|e52d4a2d7be0ad1bea42090d8f813f8b3712012c|lout&amp;id={0}&amp;watch=unwatch&returnUrl=/secure/issues"></a>
                            <a id="manage-watchers" class="issueaction-manage-watchers" href="/jira/secure/ManageWatchers!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="create-subtask" class="issueaction-create-subtask" href="/jira/secure/CreateSubTaskIssue!default.jspa?parentIssueId={0}&returnUrl=/secure/issues"></a>
                            <a id="subtask-to-issue" class="issueaction-subtask-to-issue" href="/jira/secure/ConvertSubTask.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="issue-to-subtask" class="issueaction-issue-to-subtask" href="/jira/secure/ConvertIssue.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="cta-create-branch" class="devstatus-cta-link" href="#devstatus.cta.createbranch&returnUrl=/secure/issues"></a>
                            <a id="move-issue" class="issueaction-move-issue" href="/jira/secure/MoveIssue!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="move-issue" class="issueaction-move-subtask" href="/jira/secure/MoveSubTaskChooseOperation!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="link-issue" class="issueaction-link-issue" href="/jira/secure/LinkJiraIssue!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="clone-issue" class="issueaction-clone-issue" href="/jira/secure/CloneIssueDetails!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="edit-labels" class="issueaction-edit-labels" href="/jira/secure/EditLabels!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                            <a id="delete-issue" class="issueaction-delete-issue" href="/jira/secure/DeleteIssue!default.jspa?id={0}&returnUrl=/secure/issues"></a>
                    </div>

        <div id="user-parms" style="display:none;" data-user-parms="{&quot;createSharedObjects&quot;:false,&quot;createIssue&quot;:false}"></div>

        <div class="navigator-sidebar" id="navigator-sidebar">
                        <div style="width:180px">
                                    </div>
        </div>
        <script type="text/javascript">
            if (JIRA.Issues.FilterPanelModel) {
                jQuery(".navigator-sidebar").toggleClass("collapsed", !JIRA.Issues.FilterPanelModel.prototype.isExpanded());
            }
        </script>
        <div class="navigator-body">
            <div class="contained-content">

                <header class="saved-search-selector">
                    <div class="saved-search-operations">
                        <ul class="operations">

                                                        <li class="aui-dd-parent"><a href="#" class="header-views header-operations aui-dropdown-trigger aui-dd-link standard icon-export lnk" title="Export this filter in another format" role="button"><span>Export</span></a></li>
                            <li class="aui-dd-parent"><a href="#" class="header-tools header-operations aui-dropdown-trigger aui-dd-link standard icon-tools" title="Select operations that can be completed" role="button"><span>Tools</span></a></li>

                        </ul>
                        <div class="hidden operations-view-data">
                            <fieldset class="hidden parameters">
                            </fieldset>
                        </div>
                    </div>
                    <div id="throbber-space">&nbsp;</div>
                    <div id="search-header-view">
                        <h1 class="search-title"></h1>
                    </div>
                </header>
                <form class="navigator-search"></form>
                <div class="navigator-group">
                                        <div class="results-panel navigator-item">
                        <div class="navigator-content"
                                data-issue-table-model-state=""
                                data-session-search-state=""
                                data-selected-issue="{&quot;id&quot;:12468090,&quot;key&quot;:&quot;WHIRR-49&quot;}"
                                data-highlighted-issue-id="">
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="issue-container ">
                                    <div id="issue-content" class="issue-edit-form">
                    <header id="stalker" class="issue-header js-stalker">
                        <div class="issue-header-content"><header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-image"><span id="12311110" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Whirr" src="https://issues.apache.org/jira/secure/projectavatar?pid=12311110&amp;avatarId=10381" /></span></span></div><!-- .aui-page-header-image --><div class="aui-page-header-main"><ol class="aui-nav aui-nav-breadcrumbs"><li><a id="project-name-val" href="/jira/browse/WHIRR">Whirr</a></li><li><a class="issue-link" data-issue-key="WHIRR-49" href="/jira/browse/WHIRR-49" id="key-val" rel="12468090">WHIRR-49</a></li></ol><h1 id="summary-val">Allow Whirr to use Chef for configuration management</h1></div><!-- .aui-page-header-main --><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div><!-- .aui-page-header-actions --></div><!-- .aui-page-header-inner --></header><!-- .aui-page-header --><div class="command-bar"><div class="ops-cont"><div class="ops-menus aui-toolbar"><div class="toolbar-split toolbar-split-left"><ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"><li class="toolbar-item"><a id="greenhopper-rapidboard-operation"title="View this issue on an Agile board"class="toolbar-trigger issueaction-greenhopper-rapidboard-operation js-rapidboard-operation-issue" href="/jira/secure/GHGoToBoard.jspa?issueId=12468090"><span class="trigger-label">Agile Board</span></a></li></ul><ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul><ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul></div><div class="toolbar-split toolbar-split-right"><ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops"><li class="toolbar-item toolbar-dropdown"><div><a href="#"  id="viewissue-export"title="Export this issue in another format" data-hide-on-scroll=".split-view .issue-container" data-contain-to-window="true" class="toolbar-trigger  js-default-dropdown" ><span class="icon icon-export viewissue-export"></span> <span class="dropdown-text">Export</span><span class="icon drop-menu"></span></a><div class="aui-list hidden"><ul class="aui-list-section aui-first aui-last"><li class="aui-list-item"><a  href="/jira/si/jira.issueviews:issue-xml/WHIRR-49/WHIRR-49.xml" class="aui-list-item-link"id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li><li class="aui-list-item"><a  href="/jira/si/jira.issueviews:issue-word/WHIRR-49/WHIRR-49.doc" class="aui-list-item-link"id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li><li class="aui-list-item"><a  href="/jira/si/jira.issueviews:issue-html/WHIRR-49/WHIRR-49.html" class="aui-list-item-link"id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li></ul></div></div></li></ul></div></div></div></div></div>
                    </header>
                    <div class="issue-body-content">
                        <div class="aui-group issue-body"><div class="aui-item issue-main-column"><div id=details-module class="module toggle-wrap"><div id="details-module_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Details</h2></div><div class="mod-content">




<ul id="issuedetails" class="property-list two-cols">
    <li class="item">
        <div class="wrap">
            <strong class="name">Type:</strong>
            <span id="type-val" class="value">
                                <img  alt="New Feature" height="16" src="/jira/images/icons/issuetypes/newfeature.png" title="New Feature - A new feature of the product, which has yet to be developed." width="16" /> New Feature
            </span>
        </div>
    </li>
    <li class="item item-right">
        <div class="wrap">
            <strong class="name">Status:</strong>
            <span id="status-val" class="value">
                                

<img src="/jira/images/icons/statuses/resolved.png" width="16" height="16" alt="Resolved" title="Resolved - A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed."> Resolved
            </span>
                    </div>
    </li>
            <li class="item">
            <div class="wrap">
                <strong class="name">Priority:</strong>
                <span id="priority-val" class="value">
                                        <img  alt="Major" height="16" src="/jira/images/icons/priorities/major.png" title="Major - Major loss of function." width="16" /> Major
                </span>
            </div>
        </li>
                                <li class="item item-right">
            <div class="wrap">
                <strong class="name">Resolution:</strong>
                <span id="resolution-val" class="value resolved" >
                                     Fixed
                                </span>
            </div>
        </li>
                <li class="item">
            <div class="wrap">
                <strong class="name">Affects Version/s:</strong>
                <span id="versions-val" class="value">
                                            None
                                    </span>
            </div>
        </li>
                <li class="item item-right">
            <div class="wrap">
                <strong class="name">Fix Version/s:</strong>
                <span id="fixfor-val" class="value">
                                            <span class="shorten" id="fixVersions-field">
                                                            <a href="/jira/browse/WHIRR/fixforversion/12317571" title="0.7.0 ">0.7.0</a>                                                    </span>
                                    </span>
            </div>
        </li>
                <li class="item">
            <div class="wrap">
                <strong class="name">Component/s:</strong>
                <span id="components-val" class="value">
                                            <span class="shorten" id="components-field">
                                                            <a href="/jira/browse/WHIRR/component/12313574" title="core ">core</a>                                                    </span>
                                    </span>
            </div>
        </li>
                    <li class="item full-width">
            <div class="wrap" id="wrap-labels">
                <strong class="name">Labels:</strong>
                    <div class="labels-wrap value">
            <span class="labels" id="labels-12468090-value">None</span>
                </div>
            </div>
        </li>
        </ul>

</div></div><div id=descriptionmodule class="module toggle-wrap"><div id="descriptionmodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Description</h2></div><div class="mod-content"><div id="description-val" class="field-ignore-highlight">
    <div class="user-content-block">
                    <p>As discussed in <a href="https://cwiki.apache.org/confluence/display/WHIRR/WhirrDesign" class="external-link" rel="nofollow">https://cwiki.apache.org/confluence/display/WHIRR/WhirrDesign</a>, Whirr should be agnostic to the tool used to bring the images up to a state where they're ready to run the service.</p>
            </div>
</div>
</div></div><div id=attachmentmodule class="module toggle-wrap"><div id="attachmentmodule_heading" class="mod-header"><ul class="ops"><li class="drop"><div class="aui-dd-parent"><a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a><div class="aui-dropdown-content aui-list"><ul id="attachment-sorting-options"class="aui-list-section aui-first"><li class="aui-list-item"><a id="attachment-sort-key-name"href="/jira/browse/WHIRR-49?attachmentSortBy=fileName#attachmentmodule"class="aui-list-checked aui-checked aui-list-item-link"title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li><li class="aui-list-item"><a id="attachment-sort-key-date"href="/jira/browse/WHIRR-49?attachmentSortBy=dateTime#attachmentmodule"class="aui-list-checked aui-list-item-link"title="Sort By Date"><span>Sort By Date</span></a></li></ul><ul id="attachment-sorting-order-options"class="aui-list-section aui-last"><li class="aui-list-item"><a id="attachment-sort-direction-asc"href="/jira/browse/WHIRR-49?attachmentOrder=asc#attachmentmodule"class="aui-list-checked aui-checked aui-list-item-link"title="Ascending"><span>Ascending</span></a></li><li class="aui-list-item"><a id="attachment-sort-direction-desc"href="/jira/browse/WHIRR-49?attachmentOrder=desc#attachmentmodule"class="aui-list-checked aui-list-item-link"title="Descending"><span>Descending</span></a></li></ul></div></div></li></ul><h2 class="toggle-title">Attachments</h2></div><div class="mod-content">
            <ol id="file_attachments" class="item-attachments">
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12500773/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500773/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12500773/WHIRR-49.patch"
            title="Latest  25/Oct/11 23:50 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500773/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-10-25T23:50+0100">25/Oct/11 23:50</time></dd>
    <dd class="attachment-size">54 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12500738/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500738/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12500738/WHIRR-49.patch"
            title=" 25/Oct/11 20:09 - Andrei Savu" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500738/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-10-25T20:09+0100">25/Oct/11 20:09</time></dd>
    <dd class="attachment-size">52 kB</dd>
    <dd class="attachment-author">Andrei Savu</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12500712/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500712/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12500712/WHIRR-49.patch"
            title=" 25/Oct/11 17:36 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500712/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-10-25T17:36+0100">25/Oct/11 17:36</time></dd>
    <dd class="attachment-size">52 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12500710/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500710/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12500710/WHIRR-49.patch"
            title=" 25/Oct/11 17:29 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500710/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-10-25T17:29+0100">25/Oct/11 17:29</time></dd>
    <dd class="attachment-size">51 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12500644/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500644/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12500644/WHIRR-49.patch"
            title=" 25/Oct/11 11:29 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500644/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-10-25T11:29+0100">25/Oct/11 11:29</time></dd>
    <dd class="attachment-size">51 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12500642/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500642/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12500642/WHIRR-49.patch"
            title=" 25/Oct/11 10:50 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500642/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-10-25T10:50+0100">25/Oct/11 10:50</time></dd>
    <dd class="attachment-size">53 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12500484/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500484/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12500484/WHIRR-49.patch"
            title=" 24/Oct/11 17:20 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500484/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-10-24T17:20+0100">24/Oct/11 17:20</time></dd>
    <dd class="attachment-size">54 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12500483/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500483/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12500483/WHIRR-49.patch"
            title=" 24/Oct/11 17:18 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500483/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-10-24T17:18+0100">24/Oct/11 17:18</time></dd>
    <dd class="attachment-size">54 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12500336/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500336/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12500336/WHIRR-49.patch"
            title=" 22/Oct/11 22:02 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12500336/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-10-22T22:02+0100">22/Oct/11 22:02</time></dd>
    <dd class="attachment-size">54 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12492741/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492741/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12492741/WHIRR-49.patch"
            title=" 02/Sep/11 14:31 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492741/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-09-02T14:31+0100">02/Sep/11 14:31</time></dd>
    <dd class="attachment-size">37 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12492688/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492688/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12492688/WHIRR-49.patch"
            title=" 01/Sep/11 23:55 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492688/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-09-01T23:55+0100">01/Sep/11 23:55</time></dd>
    <dd class="attachment-size">56 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12492681/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492681/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12492681/WHIRR-49.patch"
            title=" 01/Sep/11 23:09 - Adrian Cole" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492681/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-09-01T23:09+0100">01/Sep/11 23:09</time></dd>
    <dd class="attachment-size">40 kB</dd>
    <dd class="attachment-author">Adrian Cole</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12492667/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492667/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12492667/WHIRR-49.patch"
            title=" 01/Sep/11 22:20 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492667/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-09-01T22:20+0100">01/Sep/11 22:20</time></dd>
    <dd class="attachment-size">36 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12492157/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492157/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12492157/WHIRR-49.patch"
            title=" 30/Aug/11 00:14 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492157/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-08-30T00:14+0100">30/Aug/11 00:14</time></dd>
    <dd class="attachment-size">36 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12492131/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492131/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12492131/WHIRR-49.patch"
            title=" 29/Aug/11 21:13 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492131/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-08-29T21:13+0100">29/Aug/11 21:13</time></dd>
    <dd class="attachment-size">35 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12492080/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492080/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12492080/WHIRR-49.patch"
            title=" 29/Aug/11 15:59 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492080/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-08-29T15:59+0100">29/Aug/11 15:59</time></dd>
    <dd class="attachment-size">34 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12492078/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492078/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12492078/WHIRR-49.patch"
            title=" 29/Aug/11 15:48 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12492078/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-08-29T15:48+0100">29/Aug/11 15:48</time></dd>
    <dd class="attachment-size">34 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content earlier-version">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12491861/WHIRR-49.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12491861/WHIRR-49.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12491861/WHIRR-49.patch"
            title=" 27/Aug/11 00:42 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49.patch:https://issues.apache.org/jira/secure/attachment/12491861/WHIRR-49.patch">WHIRR-49.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-08-27T00:42+0100">27/Aug/11 00:42</time></dd>
    <dd class="attachment-size">29 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12492743/WHIRR-49-cc.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49-cc.patch:https://issues.apache.org/jira/secure/attachment/12492743/WHIRR-49-cc.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12492743/WHIRR-49-cc.patch"
            title="Latest  02/Sep/11 14:31 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49-cc.patch:https://issues.apache.org/jira/secure/attachment/12492743/WHIRR-49-cc.patch">WHIRR-49-cc.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-09-02T14:31+0100">02/Sep/11 14:31</time></dd>
    <dd class="attachment-size">4 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                            <li class="attachment-content">
                                            <div class="attachment-thumb">
                            <a href="/jira/secure/attachment/12492742/WHIRR-49-pom.patch" draggable="true" data-downloadurl="${fileAttachment.mimetype}:WHIRR-49-pom.patch:https://issues.apache.org/jira/secure/attachment/12492742/WHIRR-49-pom.patch">
                                    <img src="/jira/images/icons/attach/text.gif" height="16" width="16" border="0" alt="Text File">
                            </a>
                        </div>
                        <dl>
                                <dt class="attachment-title">
        <a href="/jira/secure/attachment/12492742/WHIRR-49-pom.patch"
            title="Latest  02/Sep/11 14:31 - David Alves" draggable="true"
            data-downloadurl="${attachment.mimetype}:WHIRR-49-pom.patch:https://issues.apache.org/jira/secure/attachment/12492742/WHIRR-49-pom.patch">WHIRR-49-pom.patch
        </a>
    </dt>
    <dd class="attachment-delete">
                    <span class="icon"></span>
            </dd>
    <dd class="attachment-date"><time class="livestamp" datetime="2011-09-02T14:31+0100">02/Sep/11 14:31</time></dd>
    <dd class="attachment-size">1 kB</dd>
    <dd class="attachment-author">David Alves</dd>
                        </dl>
                                    </li>
                    </ol>
        </div></div><div id=linkingmodule class="module toggle-wrap"><div id="linkingmodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Issue Links</h2></div><div class="mod-content">






        <dl class="links-list ">
        <dt title="depends upon">depends upon</dt>
                    <dd id="internal-12528642_10001"
                            >
            <div class="link-content">
                                    



<p>
            <img src="/jira/images/icons/issuetypes/improvement.png" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task." />
        <span title="WHIRR-411: put install_git, install_ruby scripts in core">
        <a href="/jira/browse/WHIRR-411" data-issue-key="WHIRR-411" class="issue-link link-title resolution">WHIRR-411</a>
        <span class="link-summary">put install_git, install_ruby scripts in core</span>
    </span>
</p>
<ul class="link-snapshot">
        <li class="priority">        <img src="/jira/images/icons/priorities/trivial.png" width="16" height="16" title="Trivial - Cosmetic problem like misspelt words or misaligned text." alt="Trivial - Cosmetic problem like misspelt words or misaligned text." />
    </li>
                        <li class="status">        <img src="/jira/images/icons/statuses/resolved.png" width="16" height="16" title="Resolved - A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed." alt="Resolved - A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed." />
    </li>
            </ul>
                            </div>
                    </dd>
            </dl>
        <dl class="links-list ">
        <dt title="is related to">is related to</dt>
                    <dd id="internal-12522909_10030"
                            >
            <div class="link-content">
                                    



<p>
            <img src="/jira/images/icons/issuetypes/newfeature.png" width="16" height="16" title="New Feature - A new feature of the product, which has yet to be developed." alt="New Feature - A new feature of the product, which has yet to be developed." />
        <span title="WHIRR-385: Implement support for using nodeless, masterless Puppet to provision and run scripts">
        <a href="/jira/browse/WHIRR-385" data-issue-key="WHIRR-385" class="issue-link link-title resolution">WHIRR-385</a>
        <span class="link-summary">Implement support for using nodeless, masterless Puppet to provision and run scripts</span>
    </span>
</p>
<ul class="link-snapshot">
        <li class="priority">        <img src="/jira/images/icons/priorities/major.png" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function." />
    </li>
                        <li class="status">        <img src="/jira/images/icons/statuses/resolved.png" width="16" height="16" title="Resolved - A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed." alt="Resolved - A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed." />
    </li>
            </ul>
                            </div>
                    </dd>
                    <dd id="internal-12501075_10030"
                            >
            <div class="link-content">
                                    



<p>
            <img src="/jira/images/icons/issuetypes/improvement.png" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task." />
        <span title="WHIRR-255: Add support for Puppet">
        <a href="/jira/browse/WHIRR-255" data-issue-key="WHIRR-255" class="issue-link link-title">WHIRR-255</a>
        <span class="link-summary">Add support for Puppet</span>
    </span>
</p>
<ul class="link-snapshot">
        <li class="priority">        <img src="/jira/images/icons/priorities/major.png" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function." />
    </li>
                        <li class="status">        <img src="/jira/images/icons/statuses/open.png" width="16" height="16" title="Open - The issue is open and ready for the assignee to start work on it." alt="Open - The issue is open and ready for the assignee to start work on it." />
    </li>
            </ul>
                            </div>
                    </dd>
            </dl>
        
    <script type="text/javascript">
        function updateRemoteLink(id, htmlElementId) {
            JIRA.SmartAjax.makeRequest({
                error: function(jqXHR, textStatus, errorThrown) {
                    AJS.$("#" + htmlElementId + " div.link-content .link-loading").
                            removeClass("link-loading").
                            addClass("link-loading-failed").
                            html("Failed to load");
                    AJS.$("#" + htmlElementId + " div.link-content .link-throbber").html("<img src='/jira/images/icons/generic_link_16.png' width='16' height='16' title='' alt='' />")
                },
                success: function(data) {
                    AJS.$("#" + htmlElementId + " div.link-content").html(data);
                },
                url: "/jira/rest/viewIssue/1/remoteIssueLink/render/" + id
            });
        }

                                                                                                                                            
            </script>

</div></div><div id=activitymodule class="module toggle-wrap"><div id="activitymodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Activity</h2></div><div class="mod-content">










    <div class="tabwrap tabs2">
                    <div class="sortwrap">
                                    <a class="icon icon-sort-down ajax-activity-content" rel="nofollow" href="/jira/browse/WHIRR-49?actionOrder=desc" title="Ascending order - Click to sort in descending order"><span>Ascending order - Click to sort in descending order</span></a>
                            </div>
                <ul id="issue-tabs" class="tabs horizontal">
                                
            <li  data-id="all-tabpanel" data-key="com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel" data-label="All" data-href="/jira/browse/WHIRR-49?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel">
                            <a class="ajax-activity-content" id="all-tabpanel" href="/jira/browse/WHIRR-49?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel"><strong>All</strong></a>
                        </li>
                                
            <li  class="active" id="comment-tabpanel"  data-id="comment-tabpanel" data-key="com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel" data-label="Comments" data-href="/jira/browse/WHIRR-49?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel">
                            <strong>Comments</strong>
                        </li>
                                
            <li  data-id="worklog-tabpanel" data-key="com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel" data-label="Work Log" data-href="/jira/browse/WHIRR-49?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel">
                            <a class="ajax-activity-content" id="worklog-tabpanel" href="/jira/browse/WHIRR-49?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel"><strong>Work Log</strong></a>
                        </li>
                                
            <li  data-id="changehistory-tabpanel" data-key="com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel" data-label="History" data-href="/jira/browse/WHIRR-49?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel">
                            <a class="ajax-activity-content" id="changehistory-tabpanel" href="/jira/browse/WHIRR-49?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel"><strong>History</strong></a>
                        </li>
                                
            <li  data-id="activity-stream-issue-tab" data-key="com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab" data-label="Activity" data-href="/jira/browse/WHIRR-49?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab">
                            <a class="ajax-activity-content" id="activity-stream-issue-tab" href="/jira/browse/WHIRR-49?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab"><strong>Activity</strong></a>
                        </li>
                                
            <li  data-id="dvcs-commits-tabpanel" data-key="com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:dvcs-commits-tabpanel" data-label="Commits" data-href="/jira/browse/WHIRR-49?page=com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:dvcs-commits-tabpanel">
                            <a class="ajax-activity-content" id="dvcs-commits-tabpanel" href="/jira/browse/WHIRR-49?page=com.atlassian.jira.plugins.jira-bitbucket-connector-plugin:dvcs-commits-tabpanel"><strong>Commits</strong></a>
                        </li>
                                
            <li  data-id="fisheye-issuepanel" data-key="com.atlassian.jirafisheyeplugin:fisheye-issuepanel" data-label="Source" data-href="/jira/browse/WHIRR-49?page=com.atlassian.jirafisheyeplugin:fisheye-issuepanel">
                            <a class="ajax-activity-content" id="fisheye-issuepanel" href="/jira/browse/WHIRR-49?page=com.atlassian.jirafisheyeplugin:fisheye-issuepanel"><strong>Source</strong></a>
                        </li>
                </ul>
    </div>
    <div class="issuePanelWrapper">
        <div class="issuePanelProgress"></div>
        <div class="issuePanelContainer" id="issue_actions_container">
                                    


<div id="comment-13092137" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13092137&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13092137" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13092137_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13092137_verbose subText'><span class='date user-tz' title='27/Aug/11 00:42'><time class='livestamp' datetime='2011-08-27T00:42+0100'>27/Aug/11 00:42</time></span></span>   - <span class="redText subText" title="David Alves - 27/Aug/11 00:46">edited</span> </div>
        </div>
        <div class="action-body flooded"><p>Installs ruby &amp; chef-solo. RPM distros not yet complete. Tested and working on rackspace.<br/>
After the chef "service" is boostrapped other servers should be able to do stuff like:</p>

<p>Recipe mysql = new Recipe("mysql); <br/>
addStatement(event,mysql.asStatement());</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13092137_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13092137_concise subText'><span class='date user-tz' title='27/Aug/11 00:42'><time class='livestamp' datetime='2011-08-27T00:42+0100'>27/Aug/11 00:42</time></span></span>   - <span class="redText subText" title="David Alves - 27/Aug/11 00:46">edited</span>                   Installs ruby &amp; chef-solo. RPM distros not yet complete. Tested and working on rackspace. 
After the chef "service" is boostrapped other servers should be able to do stuff like: 

 Recipe mysql = new Recipe("mysql);  
addStatement(event,mysql.asStatement());              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13092195" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13092195&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13092195" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13092195_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13092195_verbose subText'><span class='date user-tz' title='27/Aug/11 05:49'><time class='livestamp' datetime='2011-08-27T05:49+0100'>27/Aug/11 05:49</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Looks good to me and I like the approach. I believe we should probably have a similar implementation for Puppet. Check <a href="https://issues.apache.org/jira/browse/WHIRR-255" title="Add support for Puppet" class="issue-link" data-issue-key="WHIRR-255">WHIRR-255</a> - install_puppet function for a cross platform way of installing Ruby. </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13092195_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13092195_concise subText'><span class='date user-tz' title='27/Aug/11 05:49'><time class='livestamp' datetime='2011-08-27T05:49+0100'>27/Aug/11 05:49</time></span></span>                    Looks good to me and I like the approach. I believe we should probably have a similar implementation for Puppet. Check  WHIRR-255  - install_puppet function for a cross platform way of installing Ruby.               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13092875" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13092875&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13092875" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13092875_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13092875_verbose subText'><span class='date user-tz' title='29/Aug/11 15:48'><time class='livestamp' datetime='2011-08-29T15:48+0100'>29/Aug/11 15:48</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Added multiple stuff:</p>
<ul class="alternate" type="square">
	<li>The ability to run all the recipes in Opscode's central repo without providing an url.</li>
	<li>The ability to specify non default recipes.</li>
	<li>Added test for java and postgresql installation</li>
</ul>



<p>Stuff like:<br/>
Recipe java = new Recipe("java")<br/>
java.attribs.put("install_flavor",sun");</p>

<p>now works along with probably most of the recipes in opscode's central repo.</p>

<p>Still Missing:</p>
<ul class="alternate" type="square">
	<li>Test for the installation of postgres (is included in the test but confirmation is still manual)</li>
	<li>Order stuff. If other services will require chef to be installed then prob. order should be enforced (<a href="https://issues.apache.org/jira/browse/WHIRR-221" title="Optionally control the order of starting services" class="issue-link" data-issue-key="WHIRR-221">WHIRR-221</a>).</li>
	<li>Test for non debian distros</li>
	<li>Test for other providers than rackspace</li>
</ul>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13092875_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13092875_concise subText'><span class='date user-tz' title='29/Aug/11 15:48'><time class='livestamp' datetime='2011-08-29T15:48+0100'>29/Aug/11 15:48</time></span></span>                    Added multiple stuff: 
 
	 The ability to run all the recipes in Opscode's central repo without providing an url. 
	 The ability to specify non default recipes. 
	 Added test for java and postgresql installation 
 



 Stuff like: 
Recipe java = new Recipe("java") 
java.attribs.put("install_flavor",sun"); 

 now works along with probably most of the recipes in opscode's central repo. 

 Still Missing: 
 
	 Test for the installation of postgres (is included in the test but confirmation is still manual) 
	 Order stuff. If other services will require chef to be installed then prob. order should be enforced ( WHIRR-221 ). 
	 Test for non debian distros 
	 Test for other providers than rackspace 
 
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13092891" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13092891&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13092891" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13092891_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13092891_verbose subText'><span class='date user-tz' title='29/Aug/11 15:59'><time class='livestamp' datetime='2011-08-29T15:59+0100'>29/Aug/11 15:59</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Added the rpm ruby installation stuff as per Andrei's suggestion. Still missing the test in non debian distros though.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13092891_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13092891_concise subText'><span class='date user-tz' title='29/Aug/11 15:59'><time class='livestamp' datetime='2011-08-29T15:59+0100'>29/Aug/11 15:59</time></span></span>                    Added the rpm ruby installation stuff as per Andrei's suggestion. Still missing the test in non debian distros though.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13093150" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13093150&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13093150" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13093150_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13093150_verbose subText'><span class='date user-tz' title='29/Aug/11 21:13'><time class='livestamp' datetime='2011-08-29T21:13+0100'>29/Aug/11 21:13</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>-Changed Recipe so it would implement Statement (can be passed directly)</p>
<ul class="alternate" type="square">
	<li>Final changes to support rpm based distros (not tested though)</li>
	<li>Finalized test of postgresql installation</li>
</ul>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13093150_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13093150_concise subText'><span class='date user-tz' title='29/Aug/11 21:13'><time class='livestamp' datetime='2011-08-29T21:13+0100'>29/Aug/11 21:13</time></span></span>                    -Changed Recipe so it would implement Statement (can be passed directly) 
 
	 Final changes to support rpm based distros (not tested though) 
	 Finalized test of postgresql installation 
 
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13093152" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13093152&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13093152" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13093152_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13093152_verbose subText'><span class='date user-tz' title='29/Aug/11 21:14'><time class='livestamp' datetime='2011-08-29T21:14+0100'>29/Aug/11 21:14</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>From my side I'd say this is pretty much it.</p>

<p>If someone could review/test in rpm distro it would be great!</p>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13093152_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13093152_concise subText'><span class='date user-tz' title='29/Aug/11 21:14'><time class='livestamp' datetime='2011-08-29T21:14+0100'>29/Aug/11 21:14</time></span></span>                    From my side I'd say this is pretty much it. 

 If someone could review/test in rpm distro it would be great! 
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13093293" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13093293&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13093293" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13093293_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13093293_verbose subText'><span class='date user-tz' title='30/Aug/11 00:14'><time class='livestamp' datetime='2011-08-30T00:14+0100'>30/Aug/11 00:14</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Style corrections to comply with checkstyle</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13093293_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13093293_concise subText'><span class='date user-tz' title='30/Aug/11 00:14'><time class='livestamp' datetime='2011-08-30T00:14+0100'>30/Aug/11 00:14</time></span></span>                    Style corrections to comply with checkstyle              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13093454" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13093454&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13093454" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13093454_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13093454_verbose subText'><span class='date user-tz' title='30/Aug/11 06:49'><time class='livestamp' datetime='2011-08-30T06:49+0100'>30/Aug/11 06:49</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Is gitosis a requirement for chef? Why not install just git / git-core? Before committing we need to remove author javadoc tag in ChefClusterActionHandler.java &amp; Recipe.java. </p>

<p>Integration tests are failing for me with the automatically selected Ubuntu 10.04 LTS ami packaged by Canonical:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>2011-08-29 22:18:22,970 DEBUG [org.apache.whirr.service.chef.integration.ChefServiceTest] (main) Responses for Statement: org.apache.whirr.service.chef.Recipe@1127c4d
2011-08-29 22:18:22,970 DEBUG [org.apache.whirr.service.chef.integration.ChefServiceTest] (main) Node[us-east-1/i-89f4eae8]: [output=-bash: chef-solo: command not found
, error=, exitCode=127]
</pre>
</div></div>

<p>Tomorrow I will try to collect the logs for more info. </p>

<p>Overall it looks good to me. I'm excited about this improvement. Great work David! </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13093454_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13093454_concise subText'><span class='date user-tz' title='30/Aug/11 06:49'><time class='livestamp' datetime='2011-08-30T06:49+0100'>30/Aug/11 06:49</time></span></span>                    Is gitosis a requirement for chef? Why not install just git / git-core? Before committing we need to remove author javadoc tag in ChefClusterActionHandler.java &amp; Recipe.java.  

 Integration tests are failing for me with the automatically selected Ubuntu 10.04 LTS ami packaged by Canonical: 
  
 2011-08-29 22:18:22,970 DEBUG [org.apache.whirr.service.chef.integration.ChefServiceTest] (main) Responses for Statement: org.apache.whirr.service.chef.Recipe@1127c4d
2011-08-29 22:18:22,970 DEBUG [org.apache.whirr.service.chef.integration.ChefServiceTest] (main) Node[us-east-1/i-89f4eae8]: [output=-bash: chef-solo: command not found
, error=, exitCode=127]
 
  

 Tomorrow I will try to collect the logs for more info.  

 Overall it looks good to me. I'm excited about this improvement. Great work David!               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13094715" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13094715&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13094715" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13094715_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13094715_verbose subText'><span class='date user-tz' title='31/Aug/11 18:41'><time class='livestamp' datetime='2011-08-31T18:41+0100'>31/Aug/11 18:41</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Thanks for the review Adrian.</p>

<p>Will look into the issues you mentioned. You'r right about gitosis.</p>

<p>Patch follow up later.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13094715_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13094715_concise subText'><span class='date user-tz' title='31/Aug/11 18:41'><time class='livestamp' datetime='2011-08-31T18:41+0100'>31/Aug/11 18:41</time></span></span>                    Thanks for the review Adrian. 

 Will look into the issues you mentioned. You'r right about gitosis. 

 Patch follow up later.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13094734" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13094734&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13094734" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13094734_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13094734_verbose subText'><span class='date user-tz' title='31/Aug/11 19:06'><time class='livestamp' datetime='2011-08-31T19:06+0100'>31/Aug/11 19:06</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>btw, where are you running your tests? rackspace?</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13094734_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13094734_concise subText'><span class='date user-tz' title='31/Aug/11 19:06'><time class='livestamp' datetime='2011-08-31T19:06+0100'>31/Aug/11 19:06</time></span></span>                    btw, where are you running your tests? rackspace?              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13094736" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13094736&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13094736" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13094736_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13094736_verbose subText'><span class='date user-tz' title='31/Aug/11 19:07'><time class='livestamp' datetime='2011-08-31T19:07+0100'>31/Aug/11 19:07</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Amazon EC2</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13094736_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13094736_concise subText'><span class='date user-tz' title='31/Aug/11 19:07'><time class='livestamp' datetime='2011-08-31T19:07+0100'>31/Aug/11 19:07</time></span></span>                    Amazon EC2              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13094804" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13094804&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13094804" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13094804_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13094804_verbose subText'><span class='date user-tz' title='31/Aug/11 20:10'><time class='livestamp' datetime='2011-08-31T20:10+0100'>31/Aug/11 20:10</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Adrian, I don't have a personal EC2 account at the moment. <br/>
I will create one but at the mean time if you could provide the logs that would be great. </p>

<p>The issue seems to be either with the installation of the chef gem or, most probably, with PATH and the way the commands are ran.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13094804_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13094804_concise subText'><span class='date user-tz' title='31/Aug/11 20:10'><time class='livestamp' datetime='2011-08-31T20:10+0100'>31/Aug/11 20:10</time></span></span>                    Adrian, I don't have a personal EC2 account at the moment.  
I will create one but at the mean time if you could provide the logs that would be great.  

 The issue seems to be either with the installation of the chef gem or, most probably, with PATH and the way the commands are ran.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13095559" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13095559&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13095559" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095559_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095559_verbose subText'><span class='date user-tz' title='01/Sep/11 20:44'><time class='livestamp' datetime='2011-09-01T20:44+0100'>01/Sep/11 20:44</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>I chased it down and turns out this is not an EC2 problem.</p>

<p>Let me explain the problem:</p>

<p>cookbooks are provided to chef by downloading directly from the opscodes git repo.</p>

<p>Whenever chef bootstraps it actually runs a portion of every cookbook is its cookbooks path.</p>

<p>When I first started this bootstrap failed because of two cookbooks (openldap and windows) failed and therefore nothing else could proceed.</p>

<p>I solved this problem by removing said cookbooks elegantly (rm -rf) but now it turns out there is a new cookbook on the repo (iis) and it depends on one of those that were removed (windows).</p>

<p>I will again solve the problem elegantly (rm -rf) but this may not be the best approach.</p>

<p>What do you think we can do?</p>

<ul class="alternate" type="square">
	<li>bind the git clone to a specific version we know works?</li>
	<li>download the entire cookbook set and keep in whirr, upgrading it periodically.</li>
	<li>leave as is and solve the problem whenever it occurs?</li>
</ul>


 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095559_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095559_concise subText'><span class='date user-tz' title='01/Sep/11 20:44'><time class='livestamp' datetime='2011-09-01T20:44+0100'>01/Sep/11 20:44</time></span></span>                    I chased it down and turns out this is not an EC2 problem. 

 Let me explain the problem: 

 cookbooks are provided to chef by downloading directly from the opscodes git repo. 

 Whenever chef bootstraps it actually runs a portion of every cookbook is its cookbooks path. 

 When I first started this bootstrap failed because of two cookbooks (openldap and windows) failed and therefore nothing else could proceed. 

 I solved this problem by removing said cookbooks elegantly (rm -rf) but now it turns out there is a new cookbook on the repo (iis) and it depends on one of those that were removed (windows). 

 I will again solve the problem elegantly (rm -rf) but this may not be the best approach. 

 What do you think we can do? 

 
	 bind the git clone to a specific version we know works? 
	 download the entire cookbook set and keep in whirr, upgrading it periodically. 
	 leave as is and solve the problem whenever it occurs? 
 


             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13095579" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13095579&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13095579" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13095579_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13095579_verbose subText'><span class='date user-tz' title='01/Sep/11 21:18'><time class='livestamp' datetime='2011-09-01T21:18+0100'>01/Sep/11 21:18</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>+1 for "bind the git clone to a specific version we know works" and we can change that as the cookbooks repo changes. </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13095579_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13095579_concise subText'><span class='date user-tz' title='01/Sep/11 21:18'><time class='livestamp' datetime='2011-09-01T21:18+0100'>01/Sep/11 21:18</time></span></span>                    +1 for "bind the git clone to a specific version we know works" and we can change that as the cookbooks repo changes.               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13095587" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13095587&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13095587" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095587_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095587_verbose subText'><span class='date user-tz' title='01/Sep/11 21:34'><time class='livestamp' datetime='2011-09-01T21:34+0100'>01/Sep/11 21:34</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>I agree and will solve the problem like that at least for now.</p>

<p>On another matter, I'm getting SocketTimeoutExceptions when waiting for chef recipes to execute (st at the end).</p>

<p>Is there any way to increase the timeout of the sshj sockets?</p>


<p>2011-09-01 21:26:59,960 ERROR <span class="error">&#91;net.schmizz.sshj.transport.TransportImpl&#93;</span> (reader) Dying because - java.net.SocketTimeoutException: Read timed out<br/>
2011-09-01 21:26:59,964 WARN  <span class="error">&#91;jclouds.ssh&#93;</span> (user thread 4) &lt;&lt; (dralves@184.106.195.177:22) error closing connection<br/>
net.schmizz.sshj.connection.ConnectionException: Read timed out<br/>
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:32)<br/>
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:26)<br/>
	at net.schmizz.concurrent.Promise.deliverError(Promise.java:95)<br/>
	at net.schmizz.concurrent.Event.deliverError(Event.java:72)<br/>
	at net.schmizz.concurrent.ErrorDeliveryUtil.alertEvents(ErrorDeliveryUtil.java:34)<br/>
	at net.schmizz.sshj.connection.channel.AbstractChannel.notifyError(AbstractChannel.java:239)<br/>
	at net.schmizz.sshj.connection.channel.direct.SessionChannel.notifyError(SessionChannel.java:250)<br/>
	at net.schmizz.sshj.common.ErrorNotifiable$Util.alertAll(ErrorNotifiable.java:35)<br/>
	at net.schmizz.sshj.connection.ConnectionImpl.notifyError(ConnectionImpl.java:250)<br/>
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:578)<br/>
	at net.schmizz.sshj.transport.Reader.run(Reader.java:79)<br/>
Caused by: net.schmizz.sshj.common.SSHException: Read timed out<br/>
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:56)<br/>
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:49)<br/>
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:572)<br/>
	... 1 more<br/>
Caused by: java.net.SocketTimeoutException: Read timed out<br/>
	at java.net.SocketInputStream.socketRead0(Native Method)<br/>
	at java.net.SocketInputStream.read(SocketInputStream.java:129)<br/>
	at net.schmizz.sshj.transport.Reader.run(Reader.java:68)<br/>
2011-09-01 21:26:59,966 WARN  <span class="error">&#91;jclouds.ssh&#93;</span> (user thread 4) &lt;&lt; (dralves@184.106.195.177:22) error acquiring ExecResponse(dralves@184.106.195.177:22)[echo '{"java":</p>
{"install_flavor":"sun"}
<p>,"run_list":["recipe<span class="error">&#91;java&#93;</span>"]}' &gt;&gt; /tmp/1314908743434.json<br/>
sudo -i chef-solo -j /tmp/1314908743434.json<br/>
]: Read timed out<br/>
net.schmizz.sshj.connection.ConnectionException: Read timed out<br/>
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:32)<br/>
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:26)<br/>
	at net.schmizz.concurrent.Promise.deliverError(Promise.java:95)<br/>
	at net.schmizz.concurrent.Event.deliverError(Event.java:72)<br/>
	at net.schmizz.concurrent.ErrorDeliveryUtil.alertEvents(ErrorDeliveryUtil.java:34)<br/>
	at net.schmizz.sshj.connection.channel.AbstractChannel.notifyError(AbstractChannel.java:239)<br/>
	at net.schmizz.sshj.connection.channel.direct.SessionChannel.notifyError(SessionChannel.java:250)<br/>
	at net.schmizz.sshj.common.ErrorNotifiable$Util.alertAll(ErrorNotifiable.java:35)<br/>
	at net.schmizz.sshj.connection.ConnectionImpl.notifyError(ConnectionImpl.java:250)<br/>
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:578)<br/>
	at net.schmizz.sshj.transport.Reader.run(Reader.java:79)<br/>
Caused by: net.schmizz.sshj.common.SSHException: Read timed out<br/>
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:56)<br/>
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:49)<br/>
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:572)<br/>
	... 1 more<br/>
Caused by: java.net.SocketTimeoutException: Read timed out<br/>
	at java.net.SocketInputStream.socketRead0(Native Method)<br/>
	at java.net.SocketInputStream.read(SocketInputStream.java:129)<br/>
	at net.schmizz.sshj.transport.Reader.run(Reader.java:68)<br/>
t2011-09-01 21:27:00,167 WARN  <span class="error">&#91;jclouds.ssh&#93;</span> (user thread 4) &lt;&lt; (dralves@184.106.195.177:22) error closing connection<br/>
net.schmizz.sshj.connection.ConnectionException: Read timed out<br/>
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:32)<br/>
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:26)<br/>
	at net.schmizz.concurrent.Promise.deliverError(Promise.java:95)<br/>
	at net.schmizz.concurrent.Event.deliverError(Event.java:72)<br/>
	at net.schmizz.concurrent.ErrorDeliveryUtil.alertEvents(ErrorDeliveryUtil.java:34)<br/>
	at net.schmizz.sshj.connection.channel.AbstractChannel.notifyError(AbstractChannel.java:239)<br/>
	at net.schmizz.sshj.connection.channel.direct.SessionChannel.notifyError(SessionChannel.java:250)<br/>
	at net.schmizz.sshj.common.ErrorNotifiable$Util.alertAll(ErrorNotifiable.java:35)<br/>
	at net.schmizz.sshj.connection.ConnectionImpl.notifyError(ConnectionImpl.java:250)<br/>
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:578)<br/>
	at net.schmizz.sshj.transport.Reader.run(Reader.java:79)<br/>
Caused by: net.schmizz.sshj.common.SSHException: Read timed out<br/>
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:56)<br/>
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:49)<br/>
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:572)<br/>
	... 1 more<br/>
Caused by: java.net.SocketTimeoutException: Read timed out<br/>
	at java.net.SocketInputStream.socketRead0(Native Method)<br/>
	at java.net.SocketInputStream.read(SocketInputStream.java:129)<br/>
	at net.schmizz.sshj.transport.Reader.run(Reader.java:68)<br/>
2011-09-01 21:27:00,167 WARN  <span class="error">&#91;jclouds.ssh&#93;</span> (user thread 4) &lt;&lt; (dralves@184.106.195.177:22) error acquiring ExecResponse(dralves@184.106.195.177:22)[echo '{"java":</p>
{"install_flavor":"sun"}
<p>,"run_list":["recipe<span class="error">&#91;java&#93;</span>"]}' &gt;&gt; /tmp/1314908743434.json<br/>
sudo -i chef-solo -j /tmp/1314908743434.json<br/>
]: Read timed out<br/>
net.schmizz.sshj.connection.ConnectionException: Read timed out<br/>
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:32)<br/>
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:26)<br/>
	at net.schmizz.concurrent.Promise.deliverError(Promise.java:95)<br/>
	at net.schmizz.concurrent.Event.deliverError(Event.java:72)<br/>
	at net.schmizz.concurrent.ErrorDeliveryUtil.alertEvents(ErrorDeliveryUtil.java:34)<br/>
	at net.schmizz.sshj.connection.channel.AbstractChannel.notifyError(AbstractChannel.java:239)<br/>
	at net.schmizz.sshj.connection.channel.direct.SessionChannel.notifyError(SessionChannel.java:250)<br/>
	at net.schmizz.sshj.common.ErrorNotifiable$Util.alertAll(ErrorNotifiable.java:35)<br/>
	at net.schmizz.sshj.connection.ConnectionImpl.notifyError(ConnectionImpl.java:250)<br/>
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:578)<br/>
	at net.schmizz.sshj.transport.Reader.run(Reader.java:79)<br/>
Caused by: net.schmizz.sshj.common.SSHException: Read timed out<br/>
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:56)<br/>
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:49)<br/>
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:572)<br/>
	... 1 more<br/>
Caused by: java.net.SocketTimeoutException: Read timed out<br/>
	at java.net.SocketInputStream.socketRead0(Native Method)<br/>
	at java.net.SocketInputStream.read(SocketInputStream.java:129)<br/>
	at net.schmizz.sshj.transport.Reader.run(Reader.java:68)</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095587_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095587_concise subText'><span class='date user-tz' title='01/Sep/11 21:34'><time class='livestamp' datetime='2011-09-01T21:34+0100'>01/Sep/11 21:34</time></span></span>                    I agree and will solve the problem like that at least for now. 

 On another matter, I'm getting SocketTimeoutExceptions when waiting for chef recipes to execute (st at the end). 

 Is there any way to increase the timeout of the sshj sockets? 


 2011-09-01 21:26:59,960 ERROR  &#91;net.schmizz.sshj.transport.TransportImpl&#93;  (reader) Dying because - java.net.SocketTimeoutException: Read timed out 
2011-09-01 21:26:59,964 WARN   &#91;jclouds.ssh&#93;  (user thread 4) &lt;&lt; (dralves@184.106.195.177:22) error closing connection 
net.schmizz.sshj.connection.ConnectionException: Read timed out 
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:32) 
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:26) 
	at net.schmizz.concurrent.Promise.deliverError(Promise.java:95) 
	at net.schmizz.concurrent.Event.deliverError(Event.java:72) 
	at net.schmizz.concurrent.ErrorDeliveryUtil.alertEvents(ErrorDeliveryUtil.java:34) 
	at net.schmizz.sshj.connection.channel.AbstractChannel.notifyError(AbstractChannel.java:239) 
	at net.schmizz.sshj.connection.channel.direct.SessionChannel.notifyError(SessionChannel.java:250) 
	at net.schmizz.sshj.common.ErrorNotifiable$Util.alertAll(ErrorNotifiable.java:35) 
	at net.schmizz.sshj.connection.ConnectionImpl.notifyError(ConnectionImpl.java:250) 
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:578) 
	at net.schmizz.sshj.transport.Reader.run(Reader.java:79) 
Caused by: net.schmizz.sshj.common.SSHException: Read timed out 
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:56) 
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:49) 
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:572) 
	... 1 more 
Caused by: java.net.SocketTimeoutException: Read timed out 
	at java.net.SocketInputStream.socketRead0(Native Method) 
	at java.net.SocketInputStream.read(SocketInputStream.java:129) 
	at net.schmizz.sshj.transport.Reader.run(Reader.java:68) 
2011-09-01 21:26:59,966 WARN   &#91;jclouds.ssh&#93;  (user thread 4) &lt;&lt; (dralves@184.106.195.177:22) error acquiring ExecResponse(dralves@184.106.195.177:22)[echo '{"java": 
{"install_flavor":"sun"}
 ,"run_list":["recipe &#91;java&#93; "]}' &gt;&gt; /tmp/1314908743434.json 
sudo -i chef-solo -j /tmp/1314908743434.json 
]: Read timed out 
net.schmizz.sshj.connection.ConnectionException: Read timed out 
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:32) 
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:26) 
	at net.schmizz.concurrent.Promise.deliverError(Promise.java:95) 
	at net.schmizz.concurrent.Event.deliverError(Event.java:72) 
	at net.schmizz.concurrent.ErrorDeliveryUtil.alertEvents(ErrorDeliveryUtil.java:34) 
	at net.schmizz.sshj.connection.channel.AbstractChannel.notifyError(AbstractChannel.java:239) 
	at net.schmizz.sshj.connection.channel.direct.SessionChannel.notifyError(SessionChannel.java:250) 
	at net.schmizz.sshj.common.ErrorNotifiable$Util.alertAll(ErrorNotifiable.java:35) 
	at net.schmizz.sshj.connection.ConnectionImpl.notifyError(ConnectionImpl.java:250) 
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:578) 
	at net.schmizz.sshj.transport.Reader.run(Reader.java:79) 
Caused by: net.schmizz.sshj.common.SSHException: Read timed out 
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:56) 
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:49) 
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:572) 
	... 1 more 
Caused by: java.net.SocketTimeoutException: Read timed out 
	at java.net.SocketInputStream.socketRead0(Native Method) 
	at java.net.SocketInputStream.read(SocketInputStream.java:129) 
	at net.schmizz.sshj.transport.Reader.run(Reader.java:68) 
t2011-09-01 21:27:00,167 WARN   &#91;jclouds.ssh&#93;  (user thread 4) &lt;&lt; (dralves@184.106.195.177:22) error closing connection 
net.schmizz.sshj.connection.ConnectionException: Read timed out 
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:32) 
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:26) 
	at net.schmizz.concurrent.Promise.deliverError(Promise.java:95) 
	at net.schmizz.concurrent.Event.deliverError(Event.java:72) 
	at net.schmizz.concurrent.ErrorDeliveryUtil.alertEvents(ErrorDeliveryUtil.java:34) 
	at net.schmizz.sshj.connection.channel.AbstractChannel.notifyError(AbstractChannel.java:239) 
	at net.schmizz.sshj.connection.channel.direct.SessionChannel.notifyError(SessionChannel.java:250) 
	at net.schmizz.sshj.common.ErrorNotifiable$Util.alertAll(ErrorNotifiable.java:35) 
	at net.schmizz.sshj.connection.ConnectionImpl.notifyError(ConnectionImpl.java:250) 
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:578) 
	at net.schmizz.sshj.transport.Reader.run(Reader.java:79) 
Caused by: net.schmizz.sshj.common.SSHException: Read timed out 
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:56) 
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:49) 
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:572) 
	... 1 more 
Caused by: java.net.SocketTimeoutException: Read timed out 
	at java.net.SocketInputStream.socketRead0(Native Method) 
	at java.net.SocketInputStream.read(SocketInputStream.java:129) 
	at net.schmizz.sshj.transport.Reader.run(Reader.java:68) 
2011-09-01 21:27:00,167 WARN   &#91;jclouds.ssh&#93;  (user thread 4) &lt;&lt; (dralves@184.106.195.177:22) error acquiring ExecResponse(dralves@184.106.195.177:22)[echo '{"java": 
{"install_flavor":"sun"}
 ,"run_list":["recipe &#91;java&#93; "]}' &gt;&gt; /tmp/1314908743434.json 
sudo -i chef-solo -j /tmp/1314908743434.json 
]: Read timed out 
net.schmizz.sshj.connection.ConnectionException: Read timed out 
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:32) 
	at net.schmizz.sshj.connection.ConnectionException$1.chain(ConnectionException.java:26) 
	at net.schmizz.concurrent.Promise.deliverError(Promise.java:95) 
	at net.schmizz.concurrent.Event.deliverError(Event.java:72) 
	at net.schmizz.concurrent.ErrorDeliveryUtil.alertEvents(ErrorDeliveryUtil.java:34) 
	at net.schmizz.sshj.connection.channel.AbstractChannel.notifyError(AbstractChannel.java:239) 
	at net.schmizz.sshj.connection.channel.direct.SessionChannel.notifyError(SessionChannel.java:250) 
	at net.schmizz.sshj.common.ErrorNotifiable$Util.alertAll(ErrorNotifiable.java:35) 
	at net.schmizz.sshj.connection.ConnectionImpl.notifyError(ConnectionImpl.java:250) 
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:578) 
	at net.schmizz.sshj.transport.Reader.run(Reader.java:79) 
Caused by: net.schmizz.sshj.common.SSHException: Read timed out 
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:56) 
	at net.schmizz.sshj.common.SSHException$1.chain(SSHException.java:49) 
	at net.schmizz.sshj.transport.TransportImpl.die(TransportImpl.java:572) 
	... 1 more 
Caused by: java.net.SocketTimeoutException: Read timed out 
	at java.net.SocketInputStream.socketRead0(Native Method) 
	at java.net.SocketInputStream.read(SocketInputStream.java:129) 
	at net.schmizz.sshj.transport.Reader.run(Reader.java:68)              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13095611" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13095611&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13095611" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095611_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095611_verbose subText'><span class='date user-tz' title='01/Sep/11 22:20'><time class='livestamp' datetime='2011-09-01T22:20+0100'>01/Sep/11 22:20</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Latest patch. Still Working on it. Please not the cluster is <font color="red">NOT</font> being destroyed after the test is executed.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095611_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095611_concise subText'><span class='date user-tz' title='01/Sep/11 22:20'><time class='livestamp' datetime='2011-09-01T22:20+0100'>01/Sep/11 22:20</time></span></span>                    Latest patch. Still Working on it. Please not the cluster is  NOT  being destroyed after the test is executed.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13095638" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13095638&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13095638" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="adrian@jclouds.org" id="commentauthor_13095638_verbose" href="/jira/secure/ViewProfile.jspa?name=adrian%40jclouds.org"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Adrian Cole</a>
 added a comment  - <span class='commentdate_13095638_verbose subText'><span class='date user-tz' title='01/Sep/11 23:09'><time class='livestamp' datetime='2011-09-01T23:09+0100'>01/Sep/11 23:09</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Work in progress patch that allows us to run longer commands ex. chef-client</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="adrian@jclouds.org" id="commentauthor_13095638_concise" href="/jira/secure/ViewProfile.jspa?name=adrian%40jclouds.org"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Adrian Cole</a>
 added a comment  - <span class='commentdate_13095638_concise subText'><span class='date user-tz' title='01/Sep/11 23:09'><time class='livestamp' datetime='2011-09-01T23:09+0100'>01/Sep/11 23:09</time></span></span>                    Work in progress patch that allows us to run longer commands ex. chef-client              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13095660" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13095660&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13095660" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095660_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095660_verbose subText'><span class='date user-tz' title='01/Sep/11 23:55'><time class='livestamp' datetime='2011-09-01T23:55+0100'>01/Sep/11 23:55</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Final patch with everything working:</p>

<ul class="alternate" type="square">
	<li>Changed git install to git only</li>
	<li>Bound git cookbook checkout to a working hash</li>
	<li>Added a method to ClusterController to allow to run scripts as initscripts to avoid SocketTimeoutExceptions while running recipes. (thanks Adrian).</li>
</ul>



<p>Please review.</p>

<p>PS: Final patch should probably separate services/chef stuff from the ClusterController change, please let me know what you think.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095660_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095660_concise subText'><span class='date user-tz' title='01/Sep/11 23:55'><time class='livestamp' datetime='2011-09-01T23:55+0100'>01/Sep/11 23:55</time></span></span>                    Final patch with everything working: 

 
	 Changed git install to git only 
	 Bound git cookbook checkout to a working hash 
	 Added a method to ClusterController to allow to run scripts as initscripts to avoid SocketTimeoutExceptions while running recipes. (thanks Adrian). 
 



 Please review. 

 PS: Final patch should probably separate services/chef stuff from the ClusterController change, please let me know what you think.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13095771" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13095771&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13095771" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095771_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095771_verbose subText'><span class='date user-tz' title='02/Sep/11 05:45'><time class='livestamp' datetime='2011-09-02T05:45+0100'>02/Sep/11 05:45</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Still not finished after all.</p>

<p>Although chef already works if recipes are called after the cluster is bootstrapped and configured there is still a problem in calling recipes from other services.</p>

<p>Particularly and I don't quite understand why, although chef is installed, if the service using chef add two recipe statements instead of getting 2 files timestamp1.json timestamp2.json there is actually only one file with both json strings concatenated.</p>

<p>Should be easy to fix though.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095771_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095771_concise subText'><span class='date user-tz' title='02/Sep/11 05:45'><time class='livestamp' datetime='2011-09-02T05:45+0100'>02/Sep/11 05:45</time></span></span>                    Still not finished after all. 

 Although chef already works if recipes are called after the cluster is bootstrapped and configured there is still a problem in calling recipes from other services. 

 Particularly and I don't quite understand why, although chef is installed, if the service using chef add two recipe statements instead of getting 2 files timestamp1.json timestamp2.json there is actually only one file with both json strings concatenated. 

 Should be easy to fix though.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13095975" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13095975&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13095975" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095975_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095975_verbose subText'><span class='date user-tz' title='02/Sep/11 14:31'><time class='livestamp' datetime='2011-09-02T14:31+0100'>02/Sep/11 14:31</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Corrected a problem where recipes run within other services boostrap would fail to install.</p>

<p>Added a test for this case. Problem is that while recipes are now actually installed the test is failing and I don't know why.</p>

<p>Separated the patch in multiple files, the cc portion should probably go on another jira.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13095975_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13095975_concise subText'><span class='date user-tz' title='02/Sep/11 14:31'><time class='livestamp' datetime='2011-09-02T14:31+0100'>02/Sep/11 14:31</time></span></span>                    Corrected a problem where recipes run within other services boostrap would fail to install. 

 Added a test for this case. Problem is that while recipes are now actually installed the test is failing and I don't know why. 

 Separated the patch in multiple files, the cc portion should probably go on another jira.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13096142" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13096142&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13096142" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13096142_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13096142_verbose subText'><span class='date user-tz' title='02/Sep/11 18:15'><time class='livestamp' datetime='2011-09-02T18:15+0100'>02/Sep/11 18:15</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>I'm glad to see this working. I will review the code tonight. </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13096142_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13096142_concise subText'><span class='date user-tz' title='02/Sep/11 18:15'><time class='livestamp' datetime='2011-09-02T18:15+0100'>02/Sep/11 18:15</time></span></span>                    I'm glad to see this working. I will review the code tonight.               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13096827" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13096827&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13096827" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13096827_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13096827_verbose subText'><span class='date user-tz' title='04/Sep/11 07:44'><time class='livestamp' datetime='2011-09-04T07:44+0100'>04/Sep/11 07:44</time></span></span>   - <span class="redText subText" title="David Alves - 04/Sep/11 08:18">edited</span> </div>
        </div>
        <div class="action-body flooded"><p>risk that, AFAIK roles are always kept in linkedhashsets.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13096827_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13096827_concise subText'><span class='date user-tz' title='04/Sep/11 07:44'><time class='livestamp' datetime='2011-09-04T07:44+0100'>04/Sep/11 07:44</time></span></span>   - <span class="redText subText" title="David Alves - 04/Sep/11 08:18">edited</span>                   risk that, AFAIK roles are always kept in linkedhashsets.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13120202" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13120202&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13120202" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13120202_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13120202_verbose subText'><span class='date user-tz' title='04/Oct/11 16:15'><time class='livestamp' datetime='2011-10-04T16:15+0100'>04/Oct/11 16:15</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>David do you think we can rework this patch to use an approach similar to <a href="https://issues.apache.org/jira/browse/WHIRR-385" title="Implement support for using nodeless, masterless Puppet to provision and run scripts" class="issue-link" data-issue-key="WHIRR-385"><del>WHIRR-385</del></a>? </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13120202_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13120202_concise subText'><span class='date user-tz' title='04/Oct/11 16:15'><time class='livestamp' datetime='2011-10-04T16:15+0100'>04/Oct/11 16:15</time></span></span>                    David do you think we can rework this patch to use an approach similar to   WHIRR-385  ?               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13122352" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13122352&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13122352" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13122352_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13122352_verbose subText'><span class='date user-tz' title='06/Oct/11 23:09'><time class='livestamp' datetime='2011-10-06T23:09+0100'>06/Oct/11 23:09</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>I followed <a href="https://issues.apache.org/jira/browse/WHIRR-385" title="Implement support for using nodeless, masterless Puppet to provision and run scripts" class="issue-link" data-issue-key="WHIRR-385"><del>WHIRR-385</del></a> and I think it won't be that hard (it's only missing the properties stuff, I think).<br/>
I'll probably simply copy some of the code on the first attempt, later we  can try and extract common parts.<br/>
I'll try and take a look later today or tomorrow.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13122352_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13122352_concise subText'><span class='date user-tz' title='06/Oct/11 23:09'><time class='livestamp' datetime='2011-10-06T23:09+0100'>06/Oct/11 23:09</time></span></span>                    I followed   WHIRR-385   and I think it won't be that hard (it's only missing the properties stuff, I think). 
I'll probably simply copy some of the code on the first attempt, later we  can try and extract common parts. 
I'll try and take a look later today or tomorrow.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13133433" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13133433&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13133433" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13133433_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13133433_verbose subText'><span class='date user-tz' title='22/Oct/11 17:27'><time class='livestamp' datetime='2011-10-22T17:27+0100'>22/Oct/11 17:27</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>I'm looking at this right now.<br/>
I'll just re-implement the properties stuff (turns out its not easily abstractable from puppet's).<br/>
more news later.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13133433_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13133433_concise subText'><span class='date user-tz' title='22/Oct/11 17:27'><time class='livestamp' datetime='2011-10-22T17:27+0100'>22/Oct/11 17:27</time></span></span>                    I'm looking at this right now. 
I'll just re-implement the properties stuff (turns out its not easily abstractable from puppet's). 
more news later.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13133479" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13133479&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13133479" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13133479_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13133479_verbose subText'><span class='date user-tz' title='22/Oct/11 22:02'><time class='livestamp' datetime='2011-10-22T22:02+0100'>22/Oct/11 22:02</time></span></span>   - <span class="redText subText" title="David Alves - 22/Oct/11 23:13">edited</span> </div>
        </div>
        <div class="action-body flooded"><p>Ok Here we go!</p>

<p>Beyond the old approach (where the user would build recipes as new Recipe(ck,rcp) which could be added as statements) the service now supports doing everything by configuration.</p>

<p>The first instance template to use the "chef" role will trigger the installation of ruby and chef.<br/>
In the instance templates now the following usages are supported:</p>

<p>chef only: "1 chef" installs chef but runs no cookbooks (as was before)</p>

<p>chef with default cookbook: "1 chef:java" in this case chef installs chef, the cookbook and runs the default recipe.</p>

<p>chef with particular recipe: "1 chef:java:sun" as before but for a particular recipe.</p>

<p>passing attributes through configuration: attributes were already supported in the Recipe but they now can be specified by configuration as <br/>
cookbook_name.attribute_name=value</p>

<p>There is only a special case, when the attribute_name is "url" in this case the cookbook will be fetched from the url (vs using the default cookbooks).</p>

<p>A final note attribute values can be anything that would possible in a typical chef ruby definition file which is usually json</p>

<p>Important Notes:</p>

<p>As recipes are long running scripts, using recipes outside of handlers required a change to ClusterController where Adrian introduced runScriptOnNodesMatching method that supported passing RunScriptOptions. I commented out the portion of the tests that used this as this change, to be introduced (and in IMHO it should because it is useful), should probably go on another jira.</p>

<p>Finally I ran unit tests and pretty extensive sys tests with the dry run module but I'm still missing itests.</p>

<p>Please review!!!</p>
 </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
                                            
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13133479_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13133479_concise subText'><span class='date user-tz' title='22/Oct/11 22:02'><time class='livestamp' datetime='2011-10-22T22:02+0100'>22/Oct/11 22:02</time></span></span>   - <span class="redText subText" title="David Alves - 22/Oct/11 23:13">edited</span>                   Ok Here we go! 

 Beyond the old approach (where the user would build recipes as new Recipe(ck,rcp) which could be added as statements) the service now supports doing everything by configuration. 

 The first instance template to use the "chef" role will trigger the installation of ruby and chef. 
In the instance templates now the following usages are supported: 

 chef only: "1 chef" installs chef but runs no cookbooks (as was before) 

 chef with default cookbook: "1 chef:java" in this case chef installs chef, the cookbook and runs the default recipe. 

 chef with particular recipe: "1 chef:java:sun" as before but for a particular recipe. 

 passing attributes through configuration: attributes were already supported in the Recipe but they now can be specified by configuration as  
cookbook_name.attribute_name=value 

 There is only a special case, when the attribute_name is "url" in this case the cookbook will be fetched from the url (vs using the default cookbooks). 

 A final note attribute values can be anything that would possible in a typical chef ruby definition file which is usually json 

 Important Notes: 

 As recipes are long running scripts, using recipes outside of handlers required a change to ClusterController where Adrian introduced runScriptOnNodesMatching method that supported passing RunScriptOptions. I commented out the portion of the tests that used this as this change, to be introduced (and in IMHO it should because it is useful), should probably go on another jira. 

 Finally I ran unit tests and pretty extensive sys tests with the dry run module but I'm still missing itests. 

 Please review!!! 
             </div>
        </div>
    </div>
</div>
                             


<div id="comment-13133633" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13133633&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13133633" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13133633_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13133633_verbose subText'><span class='date user-tz' title='23/Oct/11 14:09'><time class='livestamp' datetime='2011-10-23T14:09+0100'>23/Oct/11 14:09</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Nice work David! I really like the tests based on dry run. We have to use 2 spaces for indentation just to keep the code base consistent and remove the @author javadoc. Two tests are commented (testChefRunRecipeFromURL and testChefRunRecipesFromProvidedCookbooks) - do we need them? </p>

<p>What do you think about creating something like services/common for common scripts? (e.g. install_ruby for chef and puppet)</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13133633_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13133633_concise subText'><span class='date user-tz' title='23/Oct/11 14:09'><time class='livestamp' datetime='2011-10-23T14:09+0100'>23/Oct/11 14:09</time></span></span>                    Nice work David! I really like the tests based on dry run. We have to use 2 spaces for indentation just to keep the code base consistent and remove the @author javadoc. Two tests are commented (testChefRunRecipeFromURL and testChefRunRecipesFromProvidedCookbooks) - do we need them?  

 What do you think about creating something like services/common for common scripts? (e.g. install_ruby for chef and puppet)              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13133706" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13133706&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13133706" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13133706_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13133706_verbose subText'><span class='date user-tz' title='23/Oct/11 19:15'><time class='livestamp' datetime='2011-10-23T19:15+0100'>23/Oct/11 19:15</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>The commented out tests refer to testing using recipes outside of handlers, which can come in handy (I use them).<br/>
The thing is that recipe scripts should run as initscript by jclouds, and this requires an additional method on ClusterController, which Adrian implemented and that I have but should probably go on another jira.<br/>
When/If this method is available we can uncomment the test, I just didn't want to loose the code.</p>

<p>I'll change the formatter setup for whirr, to comply, thank you.</p>

<p>Moving common scripts to services/common seems like a nice idea, but we could probably do it form another jira, right?</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13133706_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13133706_concise subText'><span class='date user-tz' title='23/Oct/11 19:15'><time class='livestamp' datetime='2011-10-23T19:15+0100'>23/Oct/11 19:15</time></span></span>                    The commented out tests refer to testing using recipes outside of handlers, which can come in handy (I use them). 
The thing is that recipe scripts should run as initscript by jclouds, and this requires an additional method on ClusterController, which Adrian implemented and that I have but should probably go on another jira. 
When/If this method is available we can uncomment the test, I just didn't want to loose the code. 

 I'll change the formatter setup for whirr, to comply, thank you. 

 Moving common scripts to services/common seems like a nice idea, but we could probably do it form another jira, right?              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134199" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134199&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134199" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134199_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134199_verbose subText'><span class='date user-tz' title='24/Oct/11 17:18'><time class='livestamp' datetime='2011-10-24T17:18+0100'>24/Oct/11 17:18</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>ITests are passing on rackspace, any volunteers for ec2?</p>

<p>Changed the spacing.</p>

<p>Uncommented commented out itests by running the recipe scripts directly against the ComputeService available from ComputeCache, instead of against ClusterController, this way I was able to run recipes as initscripts.</p>

<p>Note: In order for itests to pass I've had to introduce a small (5sec) sleep between installing recipes and testing for their installation.</p>

<p>I'm not sure why this is happening. Jclouds script timeout should not be an issue here (tests takes  less than the default 10 min timeout). So either jclouds is returning before the script is complete or there is some visibility issue with chef and/or with script execution visibility in general.</p>

<p>In practice as chef is used to provision stuff for other services this is not an issue (i've been provisioning sun's java and postgres through chef without problems).</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134199_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134199_concise subText'><span class='date user-tz' title='24/Oct/11 17:18'><time class='livestamp' datetime='2011-10-24T17:18+0100'>24/Oct/11 17:18</time></span></span>                    ITests are passing on rackspace, any volunteers for ec2? 

 Changed the spacing. 

 Uncommented commented out itests by running the recipe scripts directly against the ComputeService available from ComputeCache, instead of against ClusterController, this way I was able to run recipes as initscripts. 

 Note: In order for itests to pass I've had to introduce a small (5sec) sleep between installing recipes and testing for their installation. 

 I'm not sure why this is happening. Jclouds script timeout should not be an issue here (tests takes  less than the default 10 min timeout). So either jclouds is returning before the script is complete or there is some visibility issue with chef and/or with script execution visibility in general. 

 In practice as chef is used to provision stuff for other services this is not an issue (i've been provisioning sun's java and postgres through chef without problems).              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134200" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134200&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134200" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134200_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134200_verbose subText'><span class='date user-tz' title='24/Oct/11 17:19'><time class='livestamp' datetime='2011-10-24T17:19+0100'>24/Oct/11 17:19</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Please Review!</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134200_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134200_concise subText'><span class='date user-tz' title='24/Oct/11 17:19'><time class='livestamp' datetime='2011-10-24T17:19+0100'>24/Oct/11 17:19</time></span></span>                    Please Review!              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134201" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134201&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134201" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134201_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134201_verbose subText'><span class='date user-tz' title='24/Oct/11 17:20'><time class='livestamp' datetime='2011-10-24T17:20+0100'>24/Oct/11 17:20</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Forgot to uncomment cluster destruction.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134201_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134201_concise subText'><span class='date user-tz' title='24/Oct/11 17:20'><time class='livestamp' datetime='2011-10-24T17:20+0100'>24/Oct/11 17:20</time></span></span>                    Forgot to uncomment cluster destruction.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134821" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134821&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134821" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13134821_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13134821_verbose subText'><span class='date user-tz' title='25/Oct/11 08:47'><time class='livestamp' datetime='2011-10-25T08:47+0100'>25/Oct/11 08:47</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>I think we are almost done. Great job! </p>

<p>Some things I've noticed:</p>

<ul>
	<li>use the same indenting rules in all files - 2 spaces - both for new and old code (I know this is annoying but consistency improves readability) - I'm reviewing the patch uploaded 24/Oct/11 19:20 - is this the latest version?</li>
	<li>when creating remote files I think it's better to use Statements.createOrOverwriteFile or Statements.appendFile as needed</li>
	<li>is it really a good idea to store the cookbooks in /tmp? How about /etc/chef? Or /opt?</li>
	<li>I think we need a way to specify both the cookbooks repo and the revision</li>
	<li>can we make the exclude cookbooks a config property? does it make sense?</li>
	<li>install_chef_deb() &amp; install_chef_rpm() are only used for installing git - we should rename them (install_git() in services/common ?)</li>
	<li>there are still some commented test methods in integration tests.</li>
	<li>remember to add whirr-chef to cli/pom.xml</li>
</ul>


<p>I can help you test on aws-ec2 as soon as we manage to solve <a href="https://issues.apache.org/jira/browse/WHIRR-410" title="Review automatic image selection" class="issue-link" data-issue-key="WHIRR-410"><del>WHIRR-410</del></a>. </p>

<p>It's going to be awesome if we ship 0.7.0 with support for both Puppet and Chef! </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13134821_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13134821_concise subText'><span class='date user-tz' title='25/Oct/11 08:47'><time class='livestamp' datetime='2011-10-25T08:47+0100'>25/Oct/11 08:47</time></span></span>                    I think we are almost done. Great job!  

 Some things I've noticed: 

 
	 use the same indenting rules in all files - 2 spaces - both for new and old code (I know this is annoying but consistency improves readability) - I'm reviewing the patch uploaded 24/Oct/11 19:20 - is this the latest version? 
	 when creating remote files I think it's better to use Statements.createOrOverwriteFile or Statements.appendFile as needed 
	 is it really a good idea to store the cookbooks in /tmp? How about /etc/chef? Or /opt? 
	 I think we need a way to specify both the cookbooks repo and the revision 
	 can we make the exclude cookbooks a config property? does it make sense? 
	 install_chef_deb() &amp; install_chef_rpm() are only used for installing git - we should rename them (install_git() in services/common ?) 
	 there are still some commented test methods in integration tests. 
	 remember to add whirr-chef to cli/pom.xml 
 


 I can help you test on aws-ec2 as soon as we manage to solve   WHIRR-410  .  

 It's going to be awesome if we ship 0.7.0 with support for both Puppet and Chef!               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134833" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134833&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134833" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="alex.heneveld" id="commentauthor_13134833_verbose" href="/jira/secure/ViewProfile.jspa?name=alex.heneveld"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Alex Heneveld</a>
 added a comment  - <span class='commentdate_13134833_verbose subText'><span class='date user-tz' title='25/Oct/11 09:26'><time class='livestamp' datetime='2011-10-25T09:26+0100'>25/Oct/11 09:26</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Great stuff!</p>

<p>As part of puppet <a href="https://issues.apache.org/jira/browse/WHIRR-385" title="Implement support for using nodeless, masterless Puppet to provision and run scripts" class="issue-link" data-issue-key="WHIRR-385"><del>WHIRR-385</del></a> we tidied the install_git* calls, in /services/puppet/src/main/resources/functions/install_puppet.sh which was based on install_chef.sh so may be simpler just to grab from there.  (We also put in some echo WARNING calls which helps when things don't go quite as expected.)</p>

<p>+1 to new jira for sharing common scripts (including install_git and install_ruby which should probably be teased apart).</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="alex.heneveld" id="commentauthor_13134833_concise" href="/jira/secure/ViewProfile.jspa?name=alex.heneveld"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Alex Heneveld</a>
 added a comment  - <span class='commentdate_13134833_concise subText'><span class='date user-tz' title='25/Oct/11 09:26'><time class='livestamp' datetime='2011-10-25T09:26+0100'>25/Oct/11 09:26</time></span></span>                    Great stuff! 

 As part of puppet   WHIRR-385   we tidied the install_git* calls, in /services/puppet/src/main/resources/functions/install_puppet.sh which was based on install_chef.sh so may be simpler just to grab from there.  (We also put in some echo WARNING calls which helps when things don't go quite as expected.) 

 +1 to new jira for sharing common scripts (including install_git and install_ruby which should probably be teased apart).              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134902" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134902&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134902" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="alex.heneveld" id="commentauthor_13134902_verbose" href="/jira/secure/ViewProfile.jspa?name=alex.heneveld"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Alex Heneveld</a>
 added a comment  - <span class='commentdate_13134902_verbose subText'><span class='date user-tz' title='25/Oct/11 10:46'><time class='livestamp' datetime='2011-10-25T10:46+0100'>25/Oct/11 10:46</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>New issue <a href="https://issues.apache.org/jira/browse/WHIRR-411" title="put install_git, install_ruby scripts in core" class="issue-link" data-issue-key="WHIRR-411"><del>WHIRR-411</del></a> adds install_git and install_ruby to core. </p>

<p>Could you try applying that, removing the git references from install_chef, and adding install_git call in ChefClusterActionHandler.parseCookbookAndRecipe ?</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="alex.heneveld" id="commentauthor_13134902_concise" href="/jira/secure/ViewProfile.jspa?name=alex.heneveld"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Alex Heneveld</a>
 added a comment  - <span class='commentdate_13134902_concise subText'><span class='date user-tz' title='25/Oct/11 10:46'><time class='livestamp' datetime='2011-10-25T10:46+0100'>25/Oct/11 10:46</time></span></span>                    New issue   WHIRR-411   adds install_git and install_ruby to core.  

 Could you try applying that, removing the git references from install_chef, and adding install_git call in ChefClusterActionHandler.parseCookbookAndRecipe ?              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134906" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134906&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134906" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134906_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134906_verbose subText'><span class='date user-tz' title='25/Oct/11 10:50'><time class='livestamp' datetime='2011-10-25T10:50+0100'>25/Oct/11 10:50</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Previous was the wrong patch.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134906_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134906_concise subText'><span class='date user-tz' title='25/Oct/11 10:50'><time class='livestamp' datetime='2011-10-25T10:50+0100'>25/Oct/11 10:50</time></span></span>                    Previous was the wrong patch.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134911" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134911&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134911" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134911_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134911_verbose subText'><span class='date user-tz' title='25/Oct/11 10:57'><time class='livestamp' datetime='2011-10-25T10:57+0100'>25/Oct/11 10:57</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><blockquote>
<p>    1 - use the same indenting rules in all files - 2 spaces - both for new and old code (I know this is annoying but consistency improves readability) - I'm reviewing the patch uploaded 24/Oct/11 19:20 - is this the latest version?<br/>
    2- when creating remote files I think it's better to use Statements.createOrOverwriteFile or Statements.appendFile as needed<br/>
    3- is it really a good idea to store the cookbooks in /tmp? How about /etc/chef? Or /opt?<br/>
    4- I think we need a way to specify both the cookbooks repo and the revision<br/>
    5- can we make the exclude cookbooks a config property? does it make sense?<br/>
    6- install_chef_deb() &amp; install_chef_rpm() are only used for installing git - we should rename them (install_git() in services/common ?)<br/>
    7- there are still some commented test methods in integration tests.<br/>
    8- remember to add whirr-chef to cli/pom.xml</p></blockquote>

<p>1 - wrong patch. done!<br/>
2 - Statements.createOrOverwriteFile doesn't exist for me is it in trunk?<br/>
3 - the cookbooks are a "temporary download" IMHO, they are not config files (etc/tmp/) or binaries so I could go either way, maybe they should go wherever apt stuff goes<br/>
4 - right now they are bound to a revision we know works and use the main opscode repo, maybe that could be an improvement on another jira?<br/>
5 - that depends on the revision we are using, see 4<br/>
6 - agreed, but again that should probably go in on another jira right? (push chef whn its ready then use another jira to do that all over)<br/>
7 - wrong patch. done1<br/>
8 - done!</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134911_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134911_concise subText'><span class='date user-tz' title='25/Oct/11 10:57'><time class='livestamp' datetime='2011-10-25T10:57+0100'>25/Oct/11 10:57</time></span></span>                    
     1 - use the same indenting rules in all files - 2 spaces - both for new and old code (I know this is annoying but consistency improves readability) - I'm reviewing the patch uploaded 24/Oct/11 19:20 - is this the latest version? 
    2- when creating remote files I think it's better to use Statements.createOrOverwriteFile or Statements.appendFile as needed 
    3- is it really a good idea to store the cookbooks in /tmp? How about /etc/chef? Or /opt? 
    4- I think we need a way to specify both the cookbooks repo and the revision 
    5- can we make the exclude cookbooks a config property? does it make sense? 
    6- install_chef_deb() &amp; install_chef_rpm() are only used for installing git - we should rename them (install_git() in services/common ?) 
    7- there are still some commented test methods in integration tests. 
    8- remember to add whirr-chef to cli/pom.xml  

 1 - wrong patch. done! 
2 - Statements.createOrOverwriteFile doesn't exist for me is it in trunk? 
3 - the cookbooks are a "temporary download" IMHO, they are not config files (etc/tmp/) or binaries so I could go either way, maybe they should go wherever apt stuff goes 
4 - right now they are bound to a revision we know works and use the main opscode repo, maybe that could be an improvement on another jira? 
5 - that depends on the revision we are using, see 4 
6 - agreed, but again that should probably go in on another jira right? (push chef whn its ready then use another jira to do that all over) 
7 - wrong patch. done1 
8 - done!              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134921" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134921&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134921" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134921_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134921_verbose subText'><span class='date user-tz' title='25/Oct/11 11:27'><time class='livestamp' datetime='2011-10-25T11:27+0100'>25/Oct/11 11:27</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Use migrated script to avoid duplication</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134921_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134921_concise subText'><span class='date user-tz' title='25/Oct/11 11:27'><time class='livestamp' datetime='2011-10-25T11:27+0100'>25/Oct/11 11:27</time></span></span>                    Use migrated script to avoid duplication              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134922" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134922&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134922" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134922_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134922_verbose subText'><span class='date user-tz' title='25/Oct/11 11:29'><time class='livestamp' datetime='2011-10-25T11:29+0100'>25/Oct/11 11:29</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>use external scripts for git and ruby</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134922_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134922_concise subText'><span class='date user-tz' title='25/Oct/11 11:29'><time class='livestamp' datetime='2011-10-25T11:29+0100'>25/Oct/11 11:29</time></span></span>                    use external scripts for git and ruby              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134938" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134938&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134938" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13134938_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13134938_verbose subText'><span class='date user-tz' title='25/Oct/11 12:14'><time class='livestamp' datetime='2011-10-25T12:14+0100'>25/Oct/11 12:14</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><blockquote><p>Statements.createOrOverwriteFile doesn't exist for me is it in trunk?</p></blockquote>

<p>It should - part of the jclouds 1.2.1 upgrade. </p>

<blockquote><p>the cookbooks are a "temporary download" IMHO</p></blockquote>

<p>I understand and now I see why it makes sense to put them into /tmp</p>

<blockquote><p>right now they are bound to a revision we know works and use the main opscode repo, maybe that could be an improvement on another jira?</p></blockquote>

<p>Let's go for another JIRA but we should push a fix or document the used revision for the next release. Same is true for 6. </p>

<p>The only thing I'm not happy about is that we are using Thread.sleep in tests but until we find the root issue I think it's fine. Can you open an issue so that we can check if the configure phase is ending before the remote script is executed completely?</p>

<p>Now testing against cloudservers-us and aws (Amazon linux AMI - we have some issue connecting to the Ubuntu ones). </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13134938_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13134938_concise subText'><span class='date user-tz' title='25/Oct/11 12:14'><time class='livestamp' datetime='2011-10-25T12:14+0100'>25/Oct/11 12:14</time></span></span>                     Statements.createOrOverwriteFile doesn't exist for me is it in trunk?  

 It should - part of the jclouds 1.2.1 upgrade.  

  the cookbooks are a "temporary download" IMHO  

 I understand and now I see why it makes sense to put them into /tmp 

  right now they are bound to a revision we know works and use the main opscode repo, maybe that could be an improvement on another jira?  

 Let's go for another JIRA but we should push a fix or document the used revision for the next release. Same is true for 6.  

 The only thing I'm not happy about is that we are using Thread.sleep in tests but until we find the root issue I think it's fine. Can you open an issue so that we can check if the configure phase is ending before the remote script is executed completely? 

 Now testing against cloudservers-us and aws (Amazon linux AMI - we have some issue connecting to the Ubuntu ones).               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134950" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134950&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134950" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13134950_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13134950_verbose subText'><span class='date user-tz' title='25/Oct/11 12:35'><time class='livestamp' datetime='2011-10-25T12:35+0100'>25/Oct/11 12:35</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>I'm seeing a unit test failure:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>testChefOnly(org.apache.whirr.service.chef.ChefServiceDryRunTest)  Time elapsed: 2.318 sec  &lt;&lt;&lt; ERROR!
java.lang.NoSuchFieldException: init
    at java.lang.Class.getDeclaredField(Class.java:1882)
    at org.apache.whirr.service.chef.ChefServiceDryRunTest.getScriptName(ChefServiceDryRunTest.java:217)
    at org.apache.whirr.service.chef.ChefServiceDryRunTest.getEntryForPhase(ChefServiceDryRunTest.java:208)
    at org.apache.whirr.service.chef.ChefServiceDryRunTest.assertInstallFunctionsWereExecuted(ChefServiceDryRunTest.java:186)
    at org.apache.whirr.service.chef.ChefServiceDryRunTest.testChefOnly(ChefServiceDryRunTest.java:101)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
</pre>
</div></div> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13134950_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13134950_concise subText'><span class='date user-tz' title='25/Oct/11 12:35'><time class='livestamp' datetime='2011-10-25T12:35+0100'>25/Oct/11 12:35</time></span></span>                    I'm seeing a unit test failure: 

  
 testChefOnly(org.apache.whirr.service.chef.ChefServiceDryRunTest)  Time elapsed: 2.318 sec  &lt;&lt;&lt; ERROR!
java.lang.NoSuchFieldException: init
    at java.lang.Class.getDeclaredField(Class.java:1882)
    at org.apache.whirr.service.chef.ChefServiceDryRunTest.getScriptName(ChefServiceDryRunTest.java:217)
    at org.apache.whirr.service.chef.ChefServiceDryRunTest.getEntryForPhase(ChefServiceDryRunTest.java:208)
    at org.apache.whirr.service.chef.ChefServiceDryRunTest.assertInstallFunctionsWereExecuted(ChefServiceDryRunTest.java:186)
    at org.apache.whirr.service.chef.ChefServiceDryRunTest.testChefOnly(ChefServiceDryRunTest.java:101)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
 
               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13134953" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13134953&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13134953" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134953_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134953_verbose subText'><span class='date user-tz' title='25/Oct/11 12:40'><time class='livestamp' datetime='2011-10-25T12:40+0100'>25/Oct/11 12:40</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>jclouds upgrade issue, I knew that reflection call would come back to haunt me.<br/>
I'll look into it a bit later.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13134953_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13134953_concise subText'><span class='date user-tz' title='25/Oct/11 12:40'><time class='livestamp' datetime='2011-10-25T12:40+0100'>25/Oct/11 12:40</time></span></span>                    jclouds upgrade issue, I knew that reflection call would come back to haunt me. 
I'll look into it a bit later.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13135065" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13135065&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13135065" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="alex.heneveld" id="commentauthor_13135065_verbose" href="/jira/secure/ViewProfile.jspa?name=alex.heneveld"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Alex Heneveld</a>
 added a comment  - <span class='commentdate_13135065_verbose subText'><span class='date user-tz' title='25/Oct/11 14:51'><time class='livestamp' datetime='2011-10-25T14:51+0100'>25/Oct/11 14:51</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>issues summary:</p>

<ul class="alternate" type="square">
	<li>to support new jclouds, need a change in ChefServiceDryRunTest.getScriptName:  replace RunScript...class to SudoAwareInitManager.class (note:  jclouds issue 736 <a href="http://code.google.com/p/jclouds/issues/detail?id=736" class="external-link" rel="nofollow">http://code.google.com/p/jclouds/issues/detail?id=736</a>)</li>
	<li>AMI linux needs following to get chef to build: yum -y install gcc make ruby-devel</li>
	<li>AMI linux needs version for chef openjdk</li>
</ul>


<ul class="alternate" type="square">
	<li>we still have the ugly sleep while waiting for recipes to be available</li>
</ul>



<p>Note for testing on AMI linux (since jclouds default Ubuntu has other issues) the following is handy:</p>

<p>whirr.image-id=us-east-1/ami-7341831a<br/>
whirr.location-id=us-east-1d<br/>
whirr.private-key-file=/Users/alex/dev/projects/whirr/alex/id_rsa<br/>
whirr.public-key-file=/Users/alex/dev/projects/whirr/alex/id_rsa.pub</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="alex.heneveld" id="commentauthor_13135065_concise" href="/jira/secure/ViewProfile.jspa?name=alex.heneveld"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Alex Heneveld</a>
 added a comment  - <span class='commentdate_13135065_concise subText'><span class='date user-tz' title='25/Oct/11 14:51'><time class='livestamp' datetime='2011-10-25T14:51+0100'>25/Oct/11 14:51</time></span></span>                    issues summary: 

 
	 to support new jclouds, need a change in ChefServiceDryRunTest.getScriptName:  replace RunScript...class to SudoAwareInitManager.class (note:  jclouds issue 736  http://code.google.com/p/jclouds/issues/detail?id=736 ) 
	 AMI linux needs following to get chef to build: yum -y install gcc make ruby-devel 
	 AMI linux needs version for chef openjdk 
 


 
	 we still have the ugly sleep while waiting for recipes to be available 
 



 Note for testing on AMI linux (since jclouds default Ubuntu has other issues) the following is handy: 

 whirr.image-id=us-east-1/ami-7341831a 
whirr.location-id=us-east-1d 
whirr.private-key-file=/Users/alex/dev/projects/whirr/alex/id_rsa 
whirr.public-key-file=/Users/alex/dev/projects/whirr/alex/id_rsa.pub              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13135070" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13135070&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13135070" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13135070_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13135070_verbose subText'><span class='date user-tz' title='25/Oct/11 15:02'><time class='livestamp' datetime='2011-10-25T15:02+0100'>25/Oct/11 15:02</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Thanks for the thorough review and testing.<br/>
Will look into the issues asap as I'd like to close this.</p>

<p>I'll move the sleep code to the handler. </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13135070_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13135070_concise subText'><span class='date user-tz' title='25/Oct/11 15:02'><time class='livestamp' datetime='2011-10-25T15:02+0100'>25/Oct/11 15:02</time></span></span>                    Thanks for the thorough review and testing. 
Will look into the issues asap as I'd like to close this. 

 I'll move the sleep code to the handler.               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13135199" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13135199&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13135199" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13135199_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13135199_verbose subText'><span class='date user-tz' title='25/Oct/11 17:29'><time class='livestamp' datetime='2011-10-25T17:29+0100'>25/Oct/11 17:29</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Ok, hopefully this will be it.</p>

<p>changed Recipe to use Statement.createOrOverwrite</p>

<p>Changed the chef handler to wait a configurable amount of time (5secs by default)</p>

<p>all unit tests are passing</p>

<p>all itests are passing on rackspace</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13135199_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13135199_concise subText'><span class='date user-tz' title='25/Oct/11 17:29'><time class='livestamp' datetime='2011-10-25T17:29+0100'>25/Oct/11 17:29</time></span></span>                    Ok, hopefully this will be it. 

 changed Recipe to use Statement.createOrOverwrite 

 Changed the chef handler to wait a configurable amount of time (5secs by default) 

 all unit tests are passing 

 all itests are passing on rackspace              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13135209" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13135209&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13135209" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13135209_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13135209_verbose subText'><span class='date user-tz' title='25/Oct/11 17:36'><time class='livestamp' datetime='2011-10-25T17:36+0100'>25/Oct/11 17:36</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>added a comment explaining the Thread.sleep in the handler.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13135209_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13135209_concise subText'><span class='date user-tz' title='25/Oct/11 17:36'><time class='livestamp' datetime='2011-10-25T17:36+0100'>25/Oct/11 17:36</time></span></span>                    added a comment explaining the Thread.sleep in the handler.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13135337" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13135337&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13135337" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13135337_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13135337_verbose subText'><span class='date user-tz' title='25/Oct/11 20:09'><time class='livestamp' datetime='2011-10-25T20:09+0100'>25/Oct/11 20:09</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Attached an updated version of the patch. One unit test was failing because you are now using Statements.createOrOverwrite</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13135337_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13135337_concise subText'><span class='date user-tz' title='25/Oct/11 20:09'><time class='livestamp' datetime='2011-10-25T20:09+0100'>25/Oct/11 20:09</time></span></span>                    Attached an updated version of the patch. One unit test was failing because you are now using Statements.createOrOverwrite              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13135348" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13135348&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13135348" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13135348_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13135348_verbose subText'><span class='date user-tz' title='25/Oct/11 20:24'><time class='livestamp' datetime='2011-10-25T20:24+0100'>25/Oct/11 20:24</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Thanks, I must have mistakenly have changed that after the I ran the maven build.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13135348_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13135348_concise subText'><span class='date user-tz' title='25/Oct/11 20:24'><time class='livestamp' datetime='2011-10-25T20:24+0100'>25/Oct/11 20:24</time></span></span>                    Thanks, I must have mistakenly have changed that after the I ran the maven build.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13135374" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13135374&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13135374" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="alex.heneveld" id="commentauthor_13135374_verbose" href="/jira/secure/ViewProfile.jspa?name=alex.heneveld"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Alex Heneveld</a>
 added a comment  - <span class='commentdate_13135374_verbose subText'><span class='date user-tz' title='25/Oct/11 21:00'><time class='livestamp' datetime='2011-10-25T21:00+0100'>25/Oct/11 21:00</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Abandoned Amazon Linux &#8211; although Chef recognises it as such, java and other cookbooks don't, and Chef doesn't have the option to fallback to centos.  Similar issues wrt Puppet btw, fails on Amazon Linux. Returning to stock Ubuntu given by jclouds.</p>

<p>Fixing one bug where the tests run some of the commands using jclouds compute service allNodes which fails when there are unrelated VMs active.  Patch coming soon.  Hopefully that will do it.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="alex.heneveld" id="commentauthor_13135374_concise" href="/jira/secure/ViewProfile.jspa?name=alex.heneveld"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Alex Heneveld</a>
 added a comment  - <span class='commentdate_13135374_concise subText'><span class='date user-tz' title='25/Oct/11 21:00'><time class='livestamp' datetime='2011-10-25T21:00+0100'>25/Oct/11 21:00</time></span></span>                    Abandoned Amazon Linux &#8211; although Chef recognises it as such, java and other cookbooks don't, and Chef doesn't have the option to fallback to centos.  Similar issues wrt Puppet btw, fails on Amazon Linux. Returning to stock Ubuntu given by jclouds. 

 Fixing one bug where the tests run some of the commands using jclouds compute service allNodes which fails when there are unrelated VMs active.  Patch coming soon.  Hopefully that will do it.              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13135519" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13135519&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13135519" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13135519_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13135519_verbose subText'><span class='date user-tz' title='25/Oct/11 23:50'><time class='livestamp' datetime='2011-10-25T23:50+0100'>25/Oct/11 23:50</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Solved the last issues that came up on IRC, namely:</p>

<p>-An NPE issue when RetryablePredicate failed.<br/>
-Cluster selection (added method to ClusterController)<br/>
-Cut sleep to 2 sec (seems to be enough)<br/>
-FW rules for ec2</p>

<p>Tested:<br/>
unit (maven build)<br/>
cloudservers-us<br/>
ec2</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13135519_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13135519_concise subText'><span class='date user-tz' title='25/Oct/11 23:50'><time class='livestamp' datetime='2011-10-25T23:50+0100'>25/Oct/11 23:50</time></span></span>                    Solved the last issues that came up on IRC, namely: 

 -An NPE issue when RetryablePredicate failed. 
-Cluster selection (added method to ClusterController) 
-Cut sleep to 2 sec (seems to be enough) 
-FW rules for ec2 

 Tested: 
unit (maven build) 
cloudservers-us 
ec2              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13135802" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13135802&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13135802" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13135802_verbose" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13135802_verbose subText'><span class='date user-tz' title='26/Oct/11 09:36'><time class='livestamp' datetime='2011-10-26T09:36+0100'>26/Oct/11 09:36</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>+1 looks great and integration tests passing on aws-ec2 (without the change from <a href="https://issues.apache.org/jira/browse/WHIRR-410" title="Review automatic image selection" class="issue-link" data-issue-key="WHIRR-410"><del>WHIRR-410</del></a> - it seems like the 32bit AMI is now working as expected). Alex, Tom, Jeff any feedback to add before David can commit the patch? </p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="savu.andrei" id="commentauthor_13135802_concise" href="/jira/secure/ViewProfile.jspa?name=savu.andrei"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Andrei Savu</a>
 added a comment  - <span class='commentdate_13135802_concise subText'><span class='date user-tz' title='26/Oct/11 09:36'><time class='livestamp' datetime='2011-10-26T09:36+0100'>26/Oct/11 09:36</time></span></span>                    +1 looks great and integration tests passing on aws-ec2 (without the change from   WHIRR-410   - it seems like the 32bit AMI is now working as expected). Alex, Tom, Jeff any feedback to add before David can commit the patch?               </div>
        </div>
    </div>
</div>
                             


<div id="comment-13135876" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13135876&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13135876" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="alex.heneveld" id="commentauthor_13135876_verbose" href="/jira/secure/ViewProfile.jspa?name=alex.heneveld"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Alex Heneveld</a>
 added a comment  - <span class='commentdate_13135876_verbose subText'><span class='date user-tz' title='26/Oct/11 12:29'><time class='livestamp' datetime='2011-10-26T12:29+0100'>26/Oct/11 12:29</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>+1  working perfectly for me (unit and EC2) and good clean code</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="alex.heneveld" id="commentauthor_13135876_concise" href="/jira/secure/ViewProfile.jspa?name=alex.heneveld"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> Alex Heneveld</a>
 added a comment  - <span class='commentdate_13135876_concise subText'><span class='date user-tz' title='26/Oct/11 12:29'><time class='livestamp' datetime='2011-10-26T12:29+0100'>26/Oct/11 12:29</time></span></span>                    +1  working perfectly for me (unit and EC2) and good clean code              </div>
        </div>
    </div>
</div>
                             


<div id="comment-13137785" class="issue-data-block activity-comment twixi-block  expanded">
    <div class="twixi-wrap verbose actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-opened"><span>Hide</span></span></a>
            <div class="action-links">
                <a href="/jira/browse/WHIRR-49?focusedCommentId=13137785&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13137785" title="A permanent link to this comment." class="icon icon-perma activitymodule-link"><span>Permalink</span></a>
                                            </div>
            <div class="action-details">        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13137785_verbose" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13137785_verbose subText'><span class='date user-tz' title='28/Oct/11 01:35'><time class='livestamp' datetime='2011-10-28T01:35+0100'>28/Oct/11 01:35</time></span></span>  </div>
        </div>
        <div class="action-body flooded"><p>Commited.</p> </div>
    </div>
    <div class="twixi-wrap concise actionContainer">
        <div class="action-head">
            <a href="#" class="twixi"><span class="icon twixi-closed"><span>Show</span></span></a>
            <div class="action-details flooded">
                        
    
    
    
                

    <a class="user-hover user-avatar" rel="dr-alves" id="commentauthor_13137785_concise" href="/jira/secure/ViewProfile.jspa?name=dr-alves"><span class="aui-avatar aui-avatar-xsmall"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=xsmall&amp;avatarId=10452" /></span></span> David Alves</a>
 added a comment  - <span class='commentdate_13137785_concise subText'><span class='date user-tz' title='28/Oct/11 01:35'><time class='livestamp' datetime='2011-10-28T01:35+0100'>28/Oct/11 01:35</time></span></span>                    Commited.              </div>
        </div>
    </div>
</div>
                             </div>
    </div>
</div></div></div><div id="viewissuesidebar" class="aui-item issue-side-column"><div id=peoplemodule class="module toggle-wrap"><div id="peoplemodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">People</h2></div><div class="mod-content"><ul class="item-details" id="peopledetails">
    <li class="people-details">
                <dl>
            <dt>Assignee:</dt>
            <dd>
                <span id="assignee-val" class="view-issue-field">

            <span class="user-hover" id="issue_summary_assignee_dr-alves" rel="dr-alves">
            <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=small&amp;avatarId=10452" /></span></span>
            David Alves
        </span>
    </span>
                            </dd>
        </dl>
                        <dl>
            <dt>Reporter:</dt>
            <dd>
                <span id="reporter-val" class="view-issue-field">

            <span class="user-hover" id="issue_summary_reporter_hammer" rel="hammer">
            <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="/jira/secure/useravatar?size=small&amp;avatarId=10452" /></span></span>
            Jeff Hammerbacher
        </span>
    </span>
            </dd>
        </dl>
                    </li>
</ul>
    <ul class="item-details">
        <li>
                            <dl>
                    <dt>Votes:</dt>
                    <dd>
                                                                            <span id="vote-data" class="aui-badge vote-state-off">0</span>
                        
                                                                                                        <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span>
                                            </dd>
                </dl>
                                        <dl>
                    <dt>Watchers:</dt>
                    <dd>
                                                                        
                                                                            <span id="watcher-data" class="aui-badge watch-state-off">3</span>
                        
                                                                                <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span>
                                            </dd>
                </dl>
                    </li>
    </ul>
</div></div><div id=datesmodule class="module toggle-wrap"><div id="datesmodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Dates</h2></div><div class="mod-content"><ul class="item-details">
    <li>
            <dl class="dates">
            <dt>Created:</dt>
            <dd class="date user-tz"  title="28/Jun/10 21:53" >

                <span data-name="Created" id="create-date"  data-fieldtype="datetime"  >
                                                                        <time class="livestamp" datetime="2010-06-28T21:53+0100">28/Jun/10 21:53</time>                                                             </span>
            </dd>
        </dl>
            <dl class="dates">
            <dt>Updated:</dt>
            <dd class="date user-tz"  title="28/Oct/11 01:35" >

                <span data-name="Updated" id="updated-date"  data-fieldtype="datetime"  >
                                                                        <time class="livestamp" datetime="2011-10-28T01:35+0100">28/Oct/11 01:35</time>                                                             </span>
            </dd>
        </dl>
            <dl class="dates">
            <dt>Resolved:</dt>
            <dd class="date user-tz"  title="28/Oct/11 01:35" >

                <span data-name="Resolved" id="resolved-date"  data-fieldtype="datetime"  >
                                                                        <time class="livestamp" datetime="2011-10-28T01:35+0100">28/Oct/11 01:35</time>                                                             </span>
            </dd>
        </dl>
        </li>
</ul>
</div></div><div id=greenhopper-agile-issue-web-panel class="module toggle-wrap"><div id="greenhopper-agile-issue-web-panel_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Agile</h2></div><div class="mod-content">

<ul class="item-details ghx-separated">
    <li>
        <a class="issueaction-greenhopper-rapidboard-operation js-rapidboard-operation-issue"
           href="/jira/secure/GHGoToBoard.jspa?issueId=12468090&inline=true"
           title="View this issue on an Agile board">
            View on Board
        </a>
    </li>
</ul>
</div></div></div></div>
                    </div>
                </div>
                        </div>

    <fieldset class="hidden parameters">
        <input type="hidden" title="autocompleteEnabled" value="true"/>
    </fieldset>
    
    </section>
    <footer id="footer" role="contentinfo">
        
        



<div class="footer-body">
    <ul>
        <li>
                        <a href="http://www.atlassian.com/software/jira">Atlassian JIRA</a>

                                                    
                        
            <span id="footer-build-information">(v6.1.4#6159-<span title='44eaedef2e4a625c6c7183698b2468d4719c20dc' data-commit-id='44eaedef2e4a625c6c7183698b2468d4719c20dc}'>sha1:44eaede</span>)</span>
        </li>
        <li>
            <a id="about-link" href="/jira/secure/AboutPage.jspa">About JIRA</a>
        </li>
        <li>
                                    <a id="footer-report-problem-link" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a>
        </li>
    </ul>
            <ul>
            <li class="licensemessage">
                                    Powered by a free Atlassian <a href='http://www.atlassian.com/software/jira'>JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a href='http://www.atlassian.com/software/jira'>bug tracking software</a> for <i>your</i> team.

                            </li>
        </ul>
    </div>

<form id="jira_request_timing_info" class="dont-default-focus" >
	<fieldset class="parameters hidden">
		<input type="hidden" title="jira.request.start.millis" value="1386892617645" />
		<input type="hidden" title="jira.request.server.time" value="509" />
		<input type="hidden" title="jira.request.id" value="1436x4685195x1" />
		<input type="hidden" title="jira.session.expiry.time" value="-" />
		<input type="hidden" title="jira.session.expiry.in.mins" value="-" />
		<input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="2" />
	</fieldset>
</form>
<!--
	                 REQUEST ID : 1436x4685195x1
	          REQUEST TIMESTAMP : [12/Dec/2013:23:56:57 +0000]
	               REQUEST TIME : 0.5090
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 2

	                      db.reads : name=db.reads; inv=67; ms=63; cpu=0; rss=0;
	                      db.conns : name=db.conns; inv=67; ms=81; cpu=0; rss=0;
-->










<fieldset class="hidden parameters">
    <input type="hidden" title="loggedInUser" value="">
    <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation.">
    <input type="hidden" title="JiraVersion" value="6.1.4" />
    <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation.  Please log in.">
    <input type="hidden" title="baseURL" value="https://issues.apache.org:443/jira">
    <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted.  This may be a temporary glitch or the server may be down.">
    <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation.">
    <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser">
    <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown">

    <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost.">
    <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog.">
    <input type="hidden" title="keyType" value="Type">
    <input type="hidden" title="keyThen" value="then">
    <input type="hidden" title="dblClickToExpand" value="Double click to expand">
    <input type="hidden" title="actions" value="Actions">
    <input type="hidden" title="removeItem" value="Remove">
    <input type="hidden" title="workflow" value="Workflow">
    <input type="hidden" title="labelNew" value="New Label">
    <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all">
    <input type="hidden" title="closelink" value="Close">
    <input type="hidden" title="dotOperations" value="Operations">
    <input type="hidden" title="dotLoading" value="Loading...">
    <input type="hidden" title="frotherSuggestions" value="Suggestions">
    <input type="hidden" title="frotherNomatches" value="No Matches">
    <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version.">
    <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component.">
    <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid.">
</fieldset>

    </footer>
</div>
</body>
</html>
