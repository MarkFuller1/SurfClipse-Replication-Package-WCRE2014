<!DOCTYPE html>
<!--[if IE 7]>
<html id="ie7" lang="en">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en">
<![endif]-->
<!--[if (!IE)]><!-->
<html lang="en">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<title>October | 2012 | vmknowledge</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://vmknowledge.wordpress.com/xmlrpc.php" />
<meta name="google-site-verification" content="XLlYAOJTJz8MqqVmJYBCsjnhf3mqqLng0K5cmkyxs44" />
<link rel="alternate" type="application/rss+xml" title="vmknowledge &raquo; Feed" href="http://vmknowledge.wordpress.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="vmknowledge &raquo; Comments Feed" href="http://vmknowledge.wordpress.com/comments/feed/" />
<script type="text/javascript">
/* <![CDATA[ */
function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){oldonload();func();}}}
/* ]]> */
</script>
<link rel='stylesheet' id='all-css-0' href='http://s2.wp.com/_static/??-eJyVUNtqwzAM/aF52qWkfRn7FidRFbey5VkyoX8/k1IaCC3bky6cGwfm7AZJhskgVpe5UkgKHM6ocELLfji75XodVF9gBe9Z6E4QIhylmjsKs8wwh5HQNqSVR8xde8fsbVmn5rQ1WeGzaFNnHwqoXRg3WJswttS59hAvauGn4j+Qg7AUvQ5HBTH9NczkS0h0m4/Mph0QS+/5mey1tZZCFUhkLOjHpZTv+PX+eej2bx+HXXf6Bf7fo9M=' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-0' href='http://s0.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1335386953g' type='text/css' media='print' />
<script type='text/javascript'>
/* <![CDATA[ */
var LoggedOutFollow = {"invalid_email":"Your subscription did not succeed, please try again with a valid email address."};
/* ]]> */
</script>
<script type='text/javascript' src='http://s1.wp.com/_static/??-eJyFkN2OAiEMRl9okeiqcS82Psv8dLAstEiLk/HpZRI16pp4A6Scr6epHZPpmBRIbSwmheKQxB44YN9MRohHOx+inOPCy5d9CHixkVsMYIpAblytGaSBbxxSF0oPMoP+WCBP1+sjYCK63CgsItIba2LRCCJV+eb3WYV0Qhg/Yh40Nd2fySB4/te1Dezuy6lvBz0XNQOHUBc0Yu9AXzN6gDqjTaW1cRLF6pm1Q6FOkUkqv4+/y+/ddvOzW61X/gLII5UO'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://vmknowledge.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://vmknowledge.wordpress.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress.com" />
<link rel="shortcut icon" type="image/x-icon" href="http://s2.wp.com/i/favicon.ico?m=1311975824g" sizes="16x16 24x24 32x32 48x48" />
<link rel="icon" type="image/x-icon" href="http://s2.wp.com/i/favicon.ico?m=1311975824g" sizes="16x16 24x24 32x32 48x48" />
<link rel="apple-touch-icon-precomposed" href="http://s0.wp.com/i/webclip.png?m=1355642671g" />
<link rel='openid.server' href='http://vmknowledge.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='http://vmknowledge.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="http://vmknowledge.wordpress.com/osd.xml" title="vmknowledge" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wordpress.com/opensearch.xml" title="WordPress.com" />
		<style>
		/* <![CDATA[ */
		/* Block: reblog */
		
		.reblog-from img                   { margin: 0 10px 0 0; vertical-align: middle; padding: 0; border: 0; }
		.reblogger-note img.avatar         { float: left; padding: 0; border: 0; }
		.reblogger-note-content            { margin: 0 0 20px; }
		
		.wpcom-reblog-snapshot .reblog-from img {
		margin: 0 .5em 0 0;
		padding: 0;
		border: 0;
		}
		
		.wpcom-reblog-snapshot .reblogger-note img.avatar {
		float: left;
		padding: 0;
		border: 0;
		margin: 0 .5em 0 0;
		}
		
		.reblog-post .wpcom-enhanced-excerpt-content { border-left: 3px solid #eee; padding-left: 15px; }
		.reblog-post ul.thumb-list         { display: block; list-style: none; margin: 2px 0; padding: 0; clear: both; }
		.reblog-post ul.thumb-list li      { display: inline; margin: 0; padding: 0 1px; border: 0; }
		.reblog-post ul.thumb-list li a    { margin: 0; padding: 0; border: 0; }
		.reblog-post ul.thumb-list li img  { margin: 0; padding: 0; border: 0; }
		
		.reblog-post .wpcom-enhanced-excerpt { clear: both; }
		
		.reblog-post .wpcom-enhanced-excerpt address,
		.reblog-post .wpcom-enhanced-excerpt li,
		.reblog-post .wpcom-enhanced-excerpt h1,
		.reblog-post .wpcom-enhanced-excerpt h2,
		.reblog-post .wpcom-enhanced-excerpt h3,
		.reblog-post .wpcom-enhanced-excerpt h4,
		.reblog-post .wpcom-enhanced-excerpt h5,
		.reblog-post .wpcom-enhanced-excerpt h6,
		.reblog-post .wpcom-enhanced-excerpt p { font-size: 100% !important; }
		
		.reblog-post .wpcom-enhanced-excerpt blockquote,
		.reblog-post .wpcom-enhanced-excerpt pre,
		.reblog-post .wpcom-enhanced-excerpt code,
		.reblog-post .wpcom-enhanced-excerpt q { font-size: 98% !important; }
		
		.wpcom-reblog-snapshot {
		margin-bottom: 1em;
		}
		
		.wpcom-reblog-snapshot p.reblog-from {
		margin: 0 0 1em 0;
		}
		
		.wpcom-reblog-snapshot p.reblogger-headline {
		line-height: 32px;
		margin: 0 0 1em 0;
		}
		
		/* Optional notes */
		.wpcom-reblog-snapshot .reblogger-note {
		border-bottom: 1px solid #ddd;
		border-bottom: 1px solid rgba(0,0,0,.1);
		margin: 0 0 1em 0;
		padding: 0 0 1em 0;
		overflow: hidden;
		}
		
		.wpcom-reblog-snapshot p.reblogger-headline {
		line-height: 32px;
		margin: 0 0 1em 0;
		}
		
		.wpcom-reblog-snapshot .reblogger-note-content {
		margin: 0;
		padding: 0;
		}
		
		.wpcom-reblog-snapshot .reblogger-note-content blockquote {
		font-style: normal;
		font-weight: normal;
		font-size: 1em;
		padding: 2px 1em 6px 1em;
		background: rgba(0,0,0,.1);
		margin: 0;
		position: relative;
		}
		
		.wpcom-reblog-snapshot .reblogger-note-content blockquote p:last-child {
		margin-bottom: 0;
		}
		
		

		/* ]]> */
		</style>
		<meta name="application-name" content="vmknowledge" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="informations from real world" /><meta name="msapplication-task" content="name=Subscribe;action-uri=http://vmknowledge.wordpress.com/feed/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="title" content="Posts from October 2012 on vmknowledge" />
<meta name="description" content="6 posts published by vmknowledge during October 2012" />
<style id="syntaxhighlighteranchor"></style>
</head>

<body class="archive date mp6 content-sidebar highlander-enabled highlander-light">
<div id="page">

	<div id="container">

		<ul class="skip">
			<li><a href="#access">Skip to navigation</a></li>
			<li><a href="#main">Skip to main content</a></li>
			<li><a href="#sidebar">Skip to primary sidebar</a></li>
			<li><a href="#sidebar2">Skip to secondary sidebar</a></li>
			<li><a href="#footer">Skip to footer</a></li>
		</ul>

		<div id="header">
			<div id="branding" class="clear-block">
				<a class="home-link" href="http://vmknowledge.wordpress.com/" title="vmknowledge" rel="home">
					<h1 id="logo">vmknowledge</h1>
					<h2 id="site-description">informations from real world</h2>
				</a>
			</div><!-- #branding-->

			<div id="access" class="clear-block" role="navigation">
				<div class="menu"><ul><li ><a href="http://vmknowledge.wordpress.com/">Home</a></li><li class="page_item page-item-2"><a href="http://vmknowledge.wordpress.com/about/">About</a></li></ul></div>

				<div class="social-icons">

					
					
					
					
					
				</div><!-- .social-icons -->

			</div><!-- #access -->

							
			</div><!-- #header-->

			<div id="main">
			<div id="content-container">
				<div id="content">
					<h1 class="archive-title">
													Monthly Archives: <span>October 2012</span>											</h1>
					


		<div class="post-328 post type-post status-publish format-standard hentry category-vshield-edge tag-fortigate-2 tag-vpn tag-vpn-between-fortigate-and-vshield tag-vpn-between-vshield-and-fortigate tag-vshield-edge-vpn-configuration post-wrapper clear-block">

	
			<h2 class="post-title"><a href="http://vmknowledge.wordpress.com/2012/10/17/vpn-config-vshield-edge-to-fortigate/" title="Permalink to VPN Config vShield Edge to&nbsp;Fortigate" rel="bookmark">VPN Config vShield Edge to&nbsp;Fortigate</a></h2>	
	<div class="post-date">
		<p class="day"><a href="http://vmknowledge.wordpress.com/2012/10/17/vpn-config-vshield-edge-to-fortigate/" rel="bookmark" title="Permanent Link to VPN Config vShield Edge to&nbsp;Fortigate">Oct 17</a></p>
	</div><!-- .post-date -->

	<div class="post-info clear-block">
		<p class="author alignleft">Posted by <a href="http://vmknowledge.wordpress.com/author/vmknowledge/" title="Posts by vmknowledge" rel="author">vmknowledge</a></p>
	</div><!-- .post-info clear-block" -->

	<div class="entry clear-block">
		<p>vShield Edge and VPN with Fortigate</p>
<p>VPN configuration for Fortigate is not documented you can find out all on this article &#8230;.</p>
<p>Please go to vShield configuration like below Administration -&gt; Open vDC &#8211;&gt; Edge Gateway -&gt; Right click on right edge device &#8211;&gt; Click Edge Gateway Services</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-3-31-22-pm.png"><img class="alignnone size-full wp-image-338" title="Screen Shot 2012-10-17 at 3.31.22 PM" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-3-31-22-pm.png?w=604&#038;h=193" height="193" width="604" /></a></p>
<p>Related screen show below taken from already configured one , but first you have to Enable VPN which you can see on left site , its a checkbox !<br />
Quick not for you, if edge device is not connected internet and its behind of some networks and outside of this edge ip is private then you can click Configure Public IPs section and make a nat for reach that edge for VPN &#8230;<br />
Before start please be careful to write down everything correct after submit config you do not have a chance to edit it, you have to delete and re-enter everything</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-3-31-05-pm1.png"><img class="alignnone size-full wp-image-340" title="Screen Shot 2012-10-17 at 3.31.05 PM" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-3-31-05-pm1.png?w=604&#038;h=455" height="455" width="604" /></a></p>
<p>Please click a &#8220;Add&#8221; for configure new VPN configuration , for phase1 and phase2 full settings defaults check <a title="vSheild Edge VPN Defaults" href="http://vmknowledge.wordpress.com/2012/10/09/vsheild-edge-vpn-defaults/" target="_blank">this</a> article. vCloud Director do not show full configuration like traditional firewall configuration.</p>
<p>Part 1</p>
<p>Give the <strong><em>name</em></strong> and <strong><em>description</em></strong> which will be indicator about VPN to whom or between<br />
<strong><em>Establish VPN to :</em> </strong>&#8211;&gt; because of i imagine you will do VPN with remote network which is not in your provider vCloud island , selected a remote network<br />
Choose which internal network will be interact with remote network<br />
<strong><em>Peer Network :</em> </strong>is remote network block, here we can not set single ip address, because looks like vShield not supporting it, i will provide infer later &#8230; Please use xxx.yyy.zz.ttt./24 or xxx.yyy.zz.ttt./29 bla bla &#8230;.<br />
<strong><em>Local Endpoint :</em> </strong>Leave default or desired one<br />
<strong><em>Local ID :</em></strong> You can set any here, but i generally set ip address of my edge gateway outside ip here , again this could be hostname something which firewall use indicator for that<br />
<em><strong>Peer ID :</strong> </em> You can set any here, but i generally set ip address of my remote firewall outside ip here , again this could be hostname something which firewall use indicator for that</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-4-06-28-pm.png"><img class="alignnone size-full wp-image-341" title="Screen Shot 2012-10-17 at 4.06.28 PM" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-4-06-28-pm.png?w=604"   /></a></p>
<p>Part 2</p>
<p><strong><em>Peer IP :</em></strong> Very important, it should be exactly the remote firewall outside ip address which you will establish VPN<br />
<strong><em>Encryption Protocol :</em> </strong>Choose agreed one with remote site<br />
<strong><em>Shared Key :</em></strong> like this 123451234512345123451234512345aA</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-4-23-40-pm.png"><img class="alignnone size-full wp-image-342" title="Screen Shot 2012-10-17 at 4.23.40 PM" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-4-23-40-pm.png?w=604"   /></a></p>
<p>if everything is okay, first screen you have to see check  sign on first screen which you enabled VPN first.<br />
Generally on vCloud Director you need to wait little, everything is updating slow and in 5 mins everything start to seen correctly, do not worry about changes of status not seen correctly</p>
<p>For vCloud Director providers, do many things like debug , log or something else, use vShield Manager</p>
<p>For customers use syslog but looks like some debugs you need a syslog and also vCloud Director GUI still not comfortable for example if you want to change something you need to delete whole config and re-enter everything <img src="http://s0.wp.com/wp-includes/images/smilies/icon_biggrin.gif?m=1129645325g" alt=":D" class="wp-smiley" /> </p>
<p>A good feature you will get notification about vpn tunnel when its up or down , mail will be like below</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-12-01-08-pm.png"><img class="alignnone size-full wp-image-345" title="Screen Shot 2012-10-17 at 12.01.08 PM" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-12-01-08-pm.png?w=604&#038;h=210" height="210" width="604" /></a></p>
<p>You will also get down message like top and also from vCloud Director GUI you can see the error message</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-11-53-20-am.png"><img class="alignnone size-full wp-image-346" title="Screen Shot 2012-10-17 at 11.53.20 AM" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-11-53-20-am.png?w=604&#038;h=21" height="21" width="604" /></a></p>
<p>Last thing about configuration ;</p>
<p>After over the vpn config you have to do one more thing, from firewall section you have to create rule to remote site access you network via vpn like below &#8230;</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-6-31-30-pm.png"><img class="alignnone size-full wp-image-344" title="Screen Shot 2012-10-17 at 6.31.30 PM" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-17-at-6-31-30-pm.png?w=604&#038;h=457" height="457" width="604" /></a></p>
<p>Fortigate site screen shots are below &#8230; i&#8217;m not explaining something, forti guys also should have a knowledge, if something you need to learn please comment me or send a mail / tweet from About page &#8230;</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/vshieldp1.png"><img class="alignnone size-full wp-image-349" title="vshieldP1" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/vshieldp1.png?w=604&#038;h=467" height="467" width="604" /></a></p>
<p>&nbsp;</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/vshieldp2.png"><img class="alignnone size-full wp-image-350" title="vshieldP2" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/vshieldp2.png?w=604&#038;h=390" height="390" width="604" /></a></p>
<p>&nbsp;</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/vshieldpolicy.png"><img class="alignnone size-full wp-image-351" title="vshieldPolicy" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/vshieldpolicy.png?w=604&#038;h=444" height="444" width="604" /></a></p>
<p>&nbsp;</p>
<p>VM</p>
<p>&nbsp;</p>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"></div>			</div><!-- .entry -->

			<div class="post-meta">
			<p class="post-categories">
				Posted in <a href="http://vmknowledge.wordpress.com/category/howto/firewalls/vshield-edge/" title="View all posts in vShield Edge" rel="category tag">vShield Edge</a>							</p>
			<p class="comment-link alignright"><a href="http://vmknowledge.wordpress.com/2012/10/17/vpn-config-vshield-edge-to-fortigate/#comments" title="Comment on VPN Config vShield Edge to&nbsp;Fortigate">1 Comment</a></p>
			<p class="post-tags">Tags: <a href="http://vmknowledge.wordpress.com/tag/fortigate-2/" rel="tag">FortiGate</a>, <a href="http://vmknowledge.wordpress.com/tag/vpn/" rel="tag">VPN</a>, <a href="http://vmknowledge.wordpress.com/tag/vpn-between-fortigate-and-vshield/" rel="tag">VPN between Fortigate and vShield</a>, <a href="http://vmknowledge.wordpress.com/tag/vpn-between-vshield-and-fortigate/" rel="tag">VPN between vShield and Fortigate</a>, <a href="http://vmknowledge.wordpress.com/tag/vshield-edge-vpn-configuration/" rel="tag">vShield Edge VPN Configuration</a></p>		</div><!-- .post-meta -->
	
	
</div><!-- .post-wrapper -->
		<div class="post-326 post type-post status-publish format-standard hentry category-vshield-edge tag-vpn tag-vshield-edge tag-vshield-edge-vpn tag-vshield-edge-vpn-configuration tag-vshield-phase1-settings tag-vshield-phase2-settings post-wrapper clear-block">

	
			<h2 class="post-title"><a href="http://vmknowledge.wordpress.com/2012/10/09/vsheild-edge-vpn-defaults/" title="Permalink to vSheild Edge VPN&nbsp;Defaults" rel="bookmark">vSheild Edge VPN&nbsp;Defaults</a></h2>	
	<div class="post-date">
		<p class="day"><a href="http://vmknowledge.wordpress.com/2012/10/09/vsheild-edge-vpn-defaults/" rel="bookmark" title="Permanent Link to vSheild Edge VPN&nbsp;Defaults">Oct 9</a></p>
	</div><!-- .post-date -->

	<div class="post-info clear-block">
		<p class="author alignleft">Posted by <a href="http://vmknowledge.wordpress.com/author/vmknowledge/" title="Posts by vmknowledge" rel="author">vmknowledge</a></p>
	</div><!-- .post-info clear-block" -->

	<div class="entry clear-block">
		<p>To established VPN between firewalls sometimes not easy, two sites need to be agree on settings and firewall rules need to matched</p>
<p>I would like to describe vShield Edge defaults because not all informations are described and shown on vCloud Director GUI and also on vShield Manager</p>
<p>if you are customer i advise you to have syslog server</p>
<p>if you are admin on provider site pls run with vShield Manager logging</p>
<p>You can little confuse when you start to configure VPN, vShield Edge configuration is not like standard firewalls, you can not see the sections of phase1 and phase2 and don&#8217;t configure SA lifetimes or others because of that you have to know default values</p>
<p>I also advise to read http://www.vmware.com/pdf/vshield_51_admin.pdf</p>
<p>vShield Edge use/support</p>
<p>IKEv2</p>
<p>Phase 1</p>
<p>Main Mode (For other modes and explanations pls read <a title="VPN Modes" href="https://supportforums.cisco.com/docs/DOC-8125" target="_blank">this</a> ) No Aggressive Mode<br />
3DES/AES (Choose Encryption)<br />
SHA1 (Integrity Algorithm )<br />
PSK(pre-shared secret key) and Certificate (For Certificate you have to use vShield Manager GUI)(I never use it)<br />
SA Lifetime (28800) no any data kbyets<br />
DH Group 2</p>
<p>Phase2</p>
<p>3DES/AES (Choose Encryption) (From vDirector GUI you will see that selected one will be available for phase1 and 2  )<br />
SHA1 (Integrity Algorithm )<br />
ESP Tunnel Mode<br />
DH Group 2<br />
PFS<br />
SA Lifetime (3600) no any data kbyets<br />
Selectors for all IP protocols, all ports, between the two networks, using <em><strong>IPv4 subsets</strong></em></p>
<p>DPD (Dead Peer Detection also generally selected on remote site)</p>
<p>Looks like VMware already tested vShield Edge to Cisco Router /ASA, Watchguard</p>
<p>My next articles will be VPN between vShield Edge to Frotigate and vShield Edge to CheckPoint</p>
<p>VM</p>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"></div>			</div><!-- .entry -->

			<div class="post-meta">
			<p class="post-categories">
				Posted in <a href="http://vmknowledge.wordpress.com/category/howto/firewalls/vshield-edge/" title="View all posts in vShield Edge" rel="category tag">vShield Edge</a>							</p>
			<p class="comment-link alignright"><a href="http://vmknowledge.wordpress.com/2012/10/09/vsheild-edge-vpn-defaults/#comments" title="Comment on vSheild Edge VPN&nbsp;Defaults">2 Comments</a></p>
			<p class="post-tags">Tags: <a href="http://vmknowledge.wordpress.com/tag/vpn/" rel="tag">VPN</a>, <a href="http://vmknowledge.wordpress.com/tag/vshield-edge/" rel="tag">vShield Edge</a>, <a href="http://vmknowledge.wordpress.com/tag/vshield-edge-vpn/" rel="tag">vShield Edge VPN</a>, <a href="http://vmknowledge.wordpress.com/tag/vshield-edge-vpn-configuration/" rel="tag">vShield Edge VPN Configuration</a>, <a href="http://vmknowledge.wordpress.com/tag/vshield-phase1-settings/" rel="tag">vShield Phase1 Settings</a>, <a href="http://vmknowledge.wordpress.com/tag/vshield-phase2-settings/" rel="tag">vShield Phase2 Settings</a></p>		</div><!-- .post-meta -->
	
	
</div><!-- .post-wrapper -->
		<div class="post-329 post type-post status-publish format-standard hentry category-vdirector-5-1 tag-vcloud-director tag-vcloud-director-5-1-1 tag-vshield-manager-5-1-1 post-wrapper clear-block">

	
			<h2 class="post-title"><a href="http://vmknowledge.wordpress.com/2012/10/09/vcloud-director-5-1-1-is-coming/" title="Permalink to vCloud Director 5.1.1 is&nbsp;coming" rel="bookmark">vCloud Director 5.1.1 is&nbsp;coming</a></h2>	
	<div class="post-date">
		<p class="day"><a href="http://vmknowledge.wordpress.com/2012/10/09/vcloud-director-5-1-1-is-coming/" rel="bookmark" title="Permanent Link to vCloud Director 5.1.1 is&nbsp;coming">Oct 9</a></p>
	</div><!-- .post-date -->

	<div class="post-info clear-block">
		<p class="author alignleft">Posted by <a href="http://vmknowledge.wordpress.com/author/vmknowledge/" title="Posts by vmknowledge" rel="author">vmknowledge</a></p>
	</div><!-- .post-info clear-block" -->

	<div class="entry clear-block">
		<p>All vCloud Providers</p>
<p>Version 5.1.1 is coming very soon</p>
<p>Also vShield Manager and other products updates are coming too !</p>
<p>I guess it will be available in a month &#8230;</p>
<p>VM</p>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"></div>			</div><!-- .entry -->

			<div class="post-meta">
			<p class="post-categories">
				Posted in <a href="http://vmknowledge.wordpress.com/category/howto/vmware/vdirector-5-1/" title="View all posts in vDirector 5.1" rel="category tag">vDirector 5.1</a>							</p>
			<p class="comment-link alignright"><a href="http://vmknowledge.wordpress.com/2012/10/09/vcloud-director-5-1-1-is-coming/#respond" title="Comment on vCloud Director 5.1.1 is&nbsp;coming">Leave a Comment</a></p>
			<p class="post-tags">Tags: <a href="http://vmknowledge.wordpress.com/tag/vcloud-director/" rel="tag">vCloud Director</a>, <a href="http://vmknowledge.wordpress.com/tag/vcloud-director-5-1-1/" rel="tag">vCloud Director 5.1.1</a>, <a href="http://vmknowledge.wordpress.com/tag/vshield-manager-5-1-1/" rel="tag">vShield Manager 5.1.1</a></p>		</div><!-- .post-meta -->
	
	
</div><!-- .post-wrapper -->
		<div class="post-310 post type-post status-publish format-standard hentry category-uncategorized post-wrapper clear-block">

	
			<h2 class="post-title"><a href="http://vmknowledge.wordpress.com/2012/10/04/vdirector-5-1-finally-number-of-supported-things-increased/" title="Permalink to vDirector 5.1, finally number of supported things&nbsp;increased" rel="bookmark">vDirector 5.1, finally number of supported things&nbsp;increased</a></h2>	
	<div class="post-date">
		<p class="day"><a href="http://vmknowledge.wordpress.com/2012/10/04/vdirector-5-1-finally-number-of-supported-things-increased/" rel="bookmark" title="Permanent Link to vDirector 5.1, finally number of supported things&nbsp;increased">Oct 4</a></p>
	</div><!-- .post-date -->

	<div class="post-info clear-block">
		<p class="author alignleft">Posted by <a href="http://vmknowledge.wordpress.com/author/vmknowledge/" title="Posts by vmknowledge" rel="author">vmknowledge</a></p>
	</div><!-- .post-info clear-block" -->

	<div class="entry clear-block">
		<p>This is different look to whats new of vDirector 5.1<br />
This article still in update &#8230;.</p>
<p><strong>About Allocation Model</strong></p>
<p><em>&#8211;vCpu Speed</em></p>
<p>A new parameter added to configuration, before it was available for only Pay-As-You-GFrow model now you can set it on Allocation Model. <del>Be careful its not important you you set %0 guarantee for cpu if you set vCpu speed,  its counted and you can not power up VM if each vm vCpu Speed exceed the set of GHZ usage.</del></p>
<p>Looks like no %100 backward compatibility , <del>you have to set 0.26 which is minimum value.</p>
<p></del>Very important this value after upgraded set 0.26 for all organisation for allocation model and its cause performances issue because all running VMs are limited to use 0.26 GHZ cpu , be careful</p>
<p><del>VMware support said that &#8220;engineering is preparing a workaround for this in a future update of vCloud director.</del></p>
<p><strong>About Storage/Disk of vDC and VM</strong></p>
<p><em>&#8211;Changing Organization vDC storage allocation (changing the vDC disk quota)</em></p>
<p>It&#8217;s moved under storage profile, you can not increase or decrease storage from properties of vDC</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-03-at-5-53-07-pm-up.png"><img class="alignnone size-full wp-image-311" title="Screen Shot 2012-10-03 at 5.53.07 PM-UP" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-03-at-5-53-07-pm-up.png?w=604&#038;h=95" height="95" width="604" /></a></p>
<p><em>&#8211;Add disk and/or increase size of existing vm disk</em></p>
<p>At the end, its allowed now you can add disk or increase the disk size when vm running without stop it</p>
<p>&#8211;<em>Care about nodes local disk</em></p>
<p>After storage profile support local disks become useful by vDirector pls disable all locals on vDirector</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-04-at-4-39-37-pm.png"><img class="alignnone size-full wp-image-319" title="Screen Shot 2012-10-04 at 4.39.37 PM" alt="" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-04-at-4-39-37-pm.png?w=604"   /></a></p>
<p>Still we have a headaches , all vDirector admins pls make a feature request from right site of panel &lt;Feature Request&lt;</p>
<ol>
<li>No way to add vNIC when vm is running :((</li>
<li>No way to change network when vm is running :((</li>
<li>I don&#8217;t understand why still vDirector do not understand shouted down vm and indicate partially down message ?!</li>
<li>Firewall user experience need to be improved like zone/aggregate rules like zone for inside to outside , zone for outside to inside, zone for other pares like between dmz1 to dmz2 or dmz1 to outside for better understanding</li>
<li></li>
</ol>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"></div>			</div><!-- .entry -->

			<div class="post-meta">
			<p class="post-categories">
				Posted in <a href="http://vmknowledge.wordpress.com/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>							</p>
			<p class="comment-link alignright"><a href="http://vmknowledge.wordpress.com/2012/10/04/vdirector-5-1-finally-number-of-supported-things-increased/#comments" title="Comment on vDirector 5.1, finally number of supported things&nbsp;increased">1 Comment</a></p>
					</div><!-- .post-meta -->
	
	
</div><!-- .post-wrapper -->
		<div class="post-298 post type-post status-publish format-standard hentry category-vdirector-5-1 tag-computehub_id tag-creation_status tag-executing-sql-insert-into-computevm-id tag-java-sql-datatruncation-data-truncation tag-memory_min_mb tag-steps-to-upgrade-to-2-0-34-task-failed-due-to-uncaught-exception tag-upgrade-vdirector-1-5-to-5-1 tag-vdirector tag-vdirector-sql-update-failing tag-vmware tag-vrp_id post-wrapper clear-block">

	
			<h2 class="post-title"><a href="http://vmknowledge.wordpress.com/2012/10/02/vdirector-5-1-sql-upgrade-failing/" title="Permalink to vDirector 5.1 sql upgrade&nbsp;failing" rel="bookmark">vDirector 5.1 sql upgrade&nbsp;failing</a></h2>	
	<div class="post-date">
		<p class="day"><a href="http://vmknowledge.wordpress.com/2012/10/02/vdirector-5-1-sql-upgrade-failing/" rel="bookmark" title="Permanent Link to vDirector 5.1 sql upgrade&nbsp;failing">Oct 2</a></p>
	</div><!-- .post-date -->

	<div class="post-info clear-block">
		<p class="author alignleft">Posted by <a href="http://vmknowledge.wordpress.com/author/vmknowledge/" title="Posts by vmknowledge" rel="author">vmknowledge</a></p>
	</div><!-- .post-info clear-block" -->

	<div class="entry clear-block">
		<p>Yesterday we saw that not to much people upgraded their vCloud environment to 5.1</p>
<p>We hanged on step 2.0.34. it has a very funny when you heard that the problem , Problem is mem_overhead column.<br />
At the upgrade time sql upgrade script create some temporary tables and this temp tables columns type of  mem_overhead is &#8220;int&#8221; but real world active running persistent tables mem_overhead is bigint and this cause vDirector upgrade problem &#8230;</p>
<p>Solution</p>
<p>First, restore the old db , select the values from vm_in table and find out something more then nine digits</p>
<blockquote><p>select * from vm_inv where mem_overhead=3968430080</p></blockquote>
<p>Replace it with any nine digits like below</p>
<blockquote><p>update  vm_inv set mem_overhead=396843008  where mem_overhead=3968430080</p></blockquote>
<p><strong>VMware Support answer us like below </strong></p>
<blockquote>
<div>I just got confirmation from engineering team that the memory_overhead_mb column in computevm table, it is deleted later in the upgrade script. So we don&#8217;t need to worry about about if this int type will cause any further issue with vCD5.1.</div>
<div></div>
<div>The workaround we discussed( just change the int to bigint), it should also work.And since the column is deleted at the end of upgrade, so we also don&#8217;t need to worry the type change has some downside in the future.</div>
</blockquote>
<p>Hope no body need this article, but if you needed then you have a solution.</p>
<p>Note to all, always do tests with real data on test environment maybe still you can not see something but still you have chance to catch it !</p>
<p>VM</p>
<p>Full Error is Below ;</p>
<p>2012-10-01 19:34:06,380 | INFO | main | UpgradeAgent | Executing upgrade task: Upgrade to 2.0.34 |<br />
2012-10-01 19:34:06,381 | DEBUG | pool-1-thread-1 | LoggingProgressListener | Upgrade Task Received progress report: com.vmware.vcloud.progress.ImmutableProgressReport@65f4be12 {state: RUNNING, progress: 0%} |<br />
2012-10-01 19:34:06,383 | DEBUG | pool-1-thread-1 | LoggingProgressListener | Upgrade Task Received progress report: com.vmware.vcloud.progress.ImmutableProgressReport@65f4bfa5 {state: RUNNING, progress: 13%} |<br />
2012-10-01 19:34:06,384 | DEBUG | pool-1-thread-1 | SerialAggregateTask | Steps to upgrade to 2.0.34: Beginning execution of task Record version 2.0.33.transition |<br />
2012-10-01 19:34:06,427 | DEBUG | pool-1-thread-1 | SerialAggregateTask | Steps to upgrade to 2.0.34: Beginning execution of task Compute.groovy:22 |<br />
2012-10-01 19:34:06,427 | DEBUG | pool-1-thread-1 | RawSQLTask | Executing sql &#8216;INSERT INTO computevm (id, computehub_id, vrp_id, creation_status, memory_min_mb,<br />
memory_configured_mb, memory_overhead_mb, cpu_min_mhz, num_vcpu, vmmoref)<br />
SELECT distinct vm.id, vrprp.computehub_id, vrp.id,<br />
0,<br />
vminv.mem_reservation, vminv.mem, vminv.mem_overhead,<br />
vminv.cpu_reservation, vminv.vcpu_count,<br />
vm.moref<br />
FROM vm vm, vm_inv vminv, vapp_vm vappvm,<br />
vrp vrp, vrp_rp vrprp,<br />
vm_container vmcont,<br />
org_prov_vdc o, org_prov_vdc_rp orp<br />
WHERE vm.moref = vminv.moref<br />
AND vm.vc_id = vminv.vc_id<br />
AND vm.id NOT IN (SELECT vm_id FROM deployed_vm)<br />
AND vm.id = vappvm.svm_id<br />
AND vappvm.vapp_id = vmcont.sg_id<br />
AND vmcont.org_vdc_id = o.id<br />
AND o.id = orp.org_prov_vdc_id<br />
AND orp.rp_moref = vrprp.sub_rp_moref<br />
AND orp.vc_id=vrprp.sub_rp_vc_id<br />
AND vrp.id = vrprp.vrp_id<br />
AND vminv.resource_pool_moref = vrprp.sub_rp_moref&#8217; |<br />
2012-10-01 19:34:06,861 | WARN | pool-1-thread-1 | SerialAggregateTask | Steps to upgrade to 2.0.34: Task failed due to uncaught exception |<br />
java.sql.DataTruncation: Data truncation<br />
at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:382)<br />
at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2816)<br />
at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2254)<br />
at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:631)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.processResults(JtdsStatement.java:584)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQL(JtdsStatement.java:546)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.executeImpl(JtdsStatement.java:723)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.execute(JtdsStatement.java:1157)<br />
at com.vmware.vcloud.upgrade.tasks.RawSQLTask.call(RawSQLTask.java:106)<br />
at com.vmware.vcloud.upgrade.tasks.RawSQLTask.call(RawSQLTask.java:1)<br />
at com.vmware.vcloud.upgrade.SerialAggregateTask.call(SerialAggregateTask.java:43)<br />
at com.vmware.vcloud.upgrade.SerialAggregateTask.call(SerialAggregateTask.java:1)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.doCall(AbstractDelegatingTask.java:124)<br />
at com.vmware.vcloud.upgrade.TransactionTask.doCall(TransactionTask.java:74)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:103)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:1)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.doCall(AbstractDelegatingTask.java:124)</p>
<p>at com.vmware.vcloud.upgrade.UpgradeTask.doCall(UpgradeTask.java:79)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:103)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:1)<br />
at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)<br />
at java.util.concurrent.FutureTask.run(Unknown Source)<br />
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)<br />
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)<br />
at java.lang.Thread.run(Unknown Source)<br />
2012-10-01 19:34:06,862 | DEBUG | pool-1-thread-1 | RawSQLTask | Transaction for task &#8216;com.vmware.vcloud.upgrade.SerialAggregateTask@3a97263f&#8217; will rollback |<br />
java.sql.DataTruncation: Data truncation<br />
at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:382)<br />
at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2816)<br />
at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2254)<br />
at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:631)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.processResults(JtdsStatement.java:584)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQL(JtdsStatement.java:546)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.executeImpl(JtdsStatement.java:723)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.execute(JtdsStatement.java:1157)<br />
at com.vmware.vcloud.upgrade.tasks.RawSQLTask.call(RawSQLTask.java:106)<br />
at com.vmware.vcloud.upgrade.tasks.RawSQLTask.call(RawSQLTask.java:1)<br />
at com.vmware.vcloud.upgrade.SerialAggregateTask.call(SerialAggregateTask.java:43)<br />
at com.vmware.vcloud.upgrade.SerialAggregateTask.call(SerialAggregateTask.java:1)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.doCall(AbstractDelegatingTask.java:124)<br />
at com.vmware.vcloud.upgrade.TransactionTask.doCall(TransactionTask.java:74)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:103)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:1)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.doCall(AbstractDelegatingTask.java:124)<br />
at com.vmware.vcloud.upgrade.UpgradeTask.doCall(UpgradeTask.java:79)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:103)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:1)<br />
at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)<br />
at java.util.concurrent.FutureTask.run(Unknown Source)<br />
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)<br />
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)<br />
at java.lang.Thread.run(Unknown Source)<br />
2012-10-01 19:34:06,864 | DEBUG | pool-1-thread-1 | LoggingProgressListener | Upgrade Task Received progress report: com.vmware.vcloud.progress.ImmutableProgressReport@702d32f8 {state: FAILED, progress: 13%} |<br />
2012-10-01 19:34:06,866 | ERROR | main | UpgradeAgent | Unable to upgrade the database: java.sql.DataTruncation: Data truncation |<br />
com.vmware.vcloud.upgrade.UpgradeAgentException: java.sql.DataTruncation: Data truncation<br />
at com.vmware.vcloud.upgrade.UpgradeAgent.runUpgradeTasks(UpgradeAgent.java:1219)<br />
at com.vmware.vcloud.upgrade.UpgradeAgent.executeUpgrade(UpgradeAgent.java:745)<br />
at com.vmware.vcloud.upgrade.UpgradeAgent.start(UpgradeAgent.java:979)<br />
at com.vmware.vcloud.upgrade.UpgradeAgent.main(UpgradeAgent.java:881)<br />
Caused by: java.sql.DataTruncation: Data truncation<br />
at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:382)<br />
at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2816)<br />
at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2254)<br />
at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:631)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.processResults(JtdsStatement.java:584</p>
<p>at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQL(JtdsStatement.java:546)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.executeImpl(JtdsStatement.java:723)<br />
at net.sourceforge.jtds.jdbc.JtdsStatement.execute(JtdsStatement.java:1157)<br />
at com.vmware.vcloud.upgrade.tasks.RawSQLTask.call(RawSQLTask.java:106)<br />
at com.vmware.vcloud.upgrade.tasks.RawSQLTask.call(RawSQLTask.java:1)<br />
at com.vmware.vcloud.upgrade.SerialAggregateTask.call(SerialAggregateTask.java:43)<br />
at com.vmware.vcloud.upgrade.SerialAggregateTask.call(SerialAggregateTask.java:1)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.doCall(AbstractDelegatingTask.java:124)<br />
at com.vmware.vcloud.upgrade.TransactionTask.doCall(TransactionTask.java:74)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:103)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:1)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.doCall(AbstractDelegatingTask.java:124)<br />
at com.vmware.vcloud.upgrade.UpgradeTask.doCall(UpgradeTask.java:79)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:103)<br />
at com.vmware.vcloud.upgrade.AbstractDelegatingTask.call(AbstractDelegatingTask.java:1)<br />
at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)<br />
at java.util.concurrent.FutureTask.run(Unknown Source)<br />
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)<br />
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)<br />
at java.lang.Thread.run(Unknown Source)</p>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"></div>			</div><!-- .entry -->

			<div class="post-meta">
			<p class="post-categories">
				Posted in <a href="http://vmknowledge.wordpress.com/category/howto/vmware/vdirector-5-1/" title="View all posts in vDirector 5.1" rel="category tag">vDirector 5.1</a>							</p>
			<p class="comment-link alignright"><a href="http://vmknowledge.wordpress.com/2012/10/02/vdirector-5-1-sql-upgrade-failing/#comments" title="Comment on vDirector 5.1 sql upgrade&nbsp;failing">1 Comment</a></p>
			<p class="post-tags">Tags: <a href="http://vmknowledge.wordpress.com/tag/computehub_id/" rel="tag">computehub_id</a>, <a href="http://vmknowledge.wordpress.com/tag/creation_status/" rel="tag">creation_status</a>, <a href="http://vmknowledge.wordpress.com/tag/executing-sql-insert-into-computevm-id/" rel="tag">Executing sql 'INSERT INTO computevm (id</a>, <a href="http://vmknowledge.wordpress.com/tag/java-sql-datatruncation-data-truncation/" rel="tag">java.sql.DataTruncation: Data truncation</a>, <a href="http://vmknowledge.wordpress.com/tag/memory_min_mb/" rel="tag">memory_min_mb</a>, <a href="http://vmknowledge.wordpress.com/tag/steps-to-upgrade-to-2-0-34-task-failed-due-to-uncaught-exception/" rel="tag">Steps to upgrade to 2.0.34: Task failed due to uncaught exception</a>, <a href="http://vmknowledge.wordpress.com/tag/upgrade-vdirector-1-5-to-5-1/" rel="tag">Upgrade vDirector 1.5 to 5.1</a>, <a href="http://vmknowledge.wordpress.com/tag/vdirector/" rel="tag">vDirector</a>, <a href="http://vmknowledge.wordpress.com/tag/vdirector-sql-update-failing/" rel="tag">vDirector sql update failing</a>, <a href="http://vmknowledge.wordpress.com/tag/vmware/" rel="tag">VMware</a>, <a href="http://vmknowledge.wordpress.com/tag/vrp_id/" rel="tag">vrp_id</a></p>		</div><!-- .post-meta -->
	
	
</div><!-- .post-wrapper -->
		<div class="post-288 post type-post status-publish format-standard hentry category-vdirector-5-1 tag-upgrade-to-vcns-gateway tag-upgrade-vdirector-1-5 tag-upgrade-vdirector-1-5-to-5-1 tag-vmware post-wrapper clear-block">

	
			<h2 class="post-title"><a href="http://vmknowledge.wordpress.com/2012/10/01/upgrade-vdirectorvshield-manager/" title="Permalink to Upgrade vDirector,vShield&nbsp;Manager" rel="bookmark">Upgrade vDirector,vShield&nbsp;Manager</a></h2>	
	<div class="post-date">
		<p class="day"><a href="http://vmknowledge.wordpress.com/2012/10/01/upgrade-vdirectorvshield-manager/" rel="bookmark" title="Permanent Link to Upgrade vDirector,vShield&nbsp;Manager">Oct 1</a></p>
	</div><!-- .post-date -->

	<div class="post-info clear-block">
		<p class="author alignleft">Posted by <a href="http://vmknowledge.wordpress.com/author/vmknowledge/" title="Posts by vmknowledge" rel="author">vmknowledge</a></p>
	</div><!-- .post-info clear-block" -->

	<div class="entry clear-block">
		<p>This documentation is explaining upgrade vDirector 1.5 to 5.1 and vShield Manager 5.0-473791 to 5.1.0-807847 .</p>
<p>Next you have to upgrade vCenter,ESXi and other components, if you need instruction pls check the <a title="Install SSO and upgrade from 5.0 to 5.1 vCenter,Inventory,vSphere,vSphere Update Manager" href="http://vmknowledge.wordpress.com/2012/09/26/upgrade-vdirectorvshieldvcns-gatewayvcenterinventory-and-install-sso/" target="_blank">link</a>. (Upgrading vCenter ,ESXi ,vShield are not must its working with vDirector 5.1 one but for full functionality and capability you have to upgrade all)</p>
<p>I expect that you are using vShield Manager 5.0 and above because under 5.0 version SQL upgrade will be canceled</p>
<p>Download vmware-vcloud-director-5.1.0-810718.bin (Upgrade File) andVMware-vShield-Manager-upgrade-bundle-5.1.0-807847.tar.gz (Upgrade File) my.vmware.com</p>
<p>To understand really what was changed, i advise you to get screenshots and create procedures how you are working on vDirector, then create something on version 5.1 and compare everychange very easy.<br />
Shortly you couldn&#8217;t see any more Organization Networks on Manage &amp; Monitor screen , Edge Gateways will be on newly , Storage Profile and Datastore Cluster will be appear newly <img src="http://s0.wp.com/wp-includes/images/smilies/icon_biggrin.gif?m=1129645325g" alt=":D" class="wp-smiley" /> </p>
<p>Be aware about your vShield Edges, a new concept &#8220;compact&#8221; and &#8220;full&#8221; is available, shortly full have more ram then compact and support multiple interface <img src="http://s0.wp.com/wp-includes/images/smilies/icon_biggrin.gif?m=1129645325g" alt=":D" class="wp-smiley" />  which we are waiting for a long time also HA now available means you have redundant firewall now and don&#8217;t worry that alignment  of this VMs if you have enough host, DRS care about where place the HA vShield Edges.</p>
<p>Pls care about whats change about Organization Network changed vDC network, Nat rules changed Edge Gateway Rules.</p>
<p>We was waiting vShield Edge become more usable because old version have no CIDR entry, no Load Balancer , no DNAT, no HA but it has now, right time to use it but if you have a vShield firewalls soory <img src="http://s0.wp.com/wp-includes/images/smilies/icon_sad.gif?m=1129645325g" alt=":(" class="wp-smiley" />  you have to upgrade all pls read the instruction from  upgrade section of 5.1 installation pdf, which link is below.</p>
<p>I advise you to read the documentation one time <a href="http://pubs.vmware.com/vcd-51/topic/com.vmware.ICbase/PDF/vcd_51_install.pdf" rel="nofollow">http://pubs.vmware.com/vcd-51/topic/com.vmware.ICbase/PDF/vcd_51_install.pdf</a> to understand whats is changed and steps for other explanations , but i can say that this article %100 cover the upgrade and succeeded %100</p>
<p>Step 1  : Upgrade vDirector</p>
<blockquote><p>Check the status of vDirector, what it is doing any job running on it<br />
./cell-management-tool -u vDirector_admin_user -p vDirector_admin_user_pass cell &#8211;status</p>
<p>Stop the new process entry , just only allow to processed already submitted requests<br />
./cell-management-tool -u administrator -p Pa55w0rd cell &#8211;quiesce true</p>
<p>Check status until queue down to 0 and then execute command below to stop the cell<br />
./cell-management-tool -u administrator -p Pa55w0rd cell &#8211;shutdown</p>
<p>for me cell could not stop quickly, you have to wait little , or stop the vcd service without execute such commands</p></blockquote>
<p>First give executable right and execute the installation</p>
<blockquote><p>chmod u+x vmware-vcloud-director-5.1.0-810718.bin<br />
./vmware-vcloud-director-5.1.0-810718.bin</p></blockquote>
<p>Upgrade SQL server</p>
<blockquote><p>/opt/vmware/vcloud-director/bin/upgrade</p></blockquote>
<p>Step 2 : Upgrade vShield Manager</p>
<p>Login vShield Manager and upgrade it from Settings &amp; Report &#8211;&gt; Updates  &#8211;&gt; Upload Settings and upload the file you downloaded from my.vmware.com</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-01-at-3-57-08-pm.png"><img class="alignnone size-full wp-image-295" title="Screen Shot 2012-10-01 at 3.57.08 PM" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-01-at-3-57-08-pm.png?w=604&#038;h=147" alt="" width="604" height="147" /></a></p>
<p>&nbsp;</p>
<p>Click install and fallow upgrade &#8230;..</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-01-at-10-22-35-pm.png"><img class="alignnone size-full wp-image-301" title="Screen Shot 2012-10-01 at 10.22.35 PM" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-01-at-10-22-35-pm.png?w=604&#038;h=379" alt="" width="604" height="379" /></a></p>
<p>&nbsp;</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-01-at-10-23-10-pm.png"><img class="alignnone size-full wp-image-302" title="Screen Shot 2012-10-01 at 10.23.10 PM" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-01-at-10-23-10-pm.png?w=604&#038;h=386" alt="" width="604" height="386" /></a></p>
<p>&nbsp;</p>
<p>Installation will reboot the vShield Manager VM wait until see the such line , then you can connect new manager</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-02-at-12-47-52-am.png"><img class="alignnone size-full wp-image-303" title="Screen Shot 2012-10-02 at 12.47.52 AM" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-02-at-12-47-52-am.png?w=604&#038;h=44" alt="" width="604" height="44" /></a></p>
<p>&nbsp;</p>
<p>Upgrade vCenter Inventory, Server , vSphere Clients ,ESXi and others like syslog, web client, if need  help, pls check the <a title="Install SSO and upgrade from 5.0 to 5.1 vCenter,Inventory,vSphere,vSphere Update Manager" href="http://vmknowledge.wordpress.com/2012/09/26/upgrade-vdirectorvshieldvcns-gatewayvcenterinventory-and-install-sso/">link</a></p>
<p>Continue to configure vShiled Manager, need to integrate vCenter Server with it and configure ntp which vmware advse to have SSO server and vShield manager actually all components working together need to be same i thing &#8230;.</p>
<p>Pls Edit lookup Service , vCenter Server, DNS and ntp and configure it with your credentials &#8230;</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-02-at-12-19-25-am-update.png"><img class="alignnone size-full wp-image-305" title="Screen Shot 2012-10-02 at 12.19.25 AM-update" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-02-at-12-19-25-am-update.png?w=604&#038;h=389" alt="" width="604" height="389" /></a></p>
<p>&nbsp;</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-02-at-12-20-14-am-update.png"><img class="alignnone size-full wp-image-306" title="Screen Shot 2012-10-02 at 12.20.14 AM-update" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-02-at-12-20-14-am-update.png?w=604" alt=""   /></a></p>
<p>&nbsp;</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-02-at-12-22-37-am-update.png"><img class="alignnone size-full wp-image-307" title="Screen Shot 2012-10-02 at 12.22.37 AM-update" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-02-at-12-22-37-am-update.png?w=604" alt=""   /></a></p>
<p>After upgrade over, upgrade  vDirector agent, but be careful its need switch node maintenance mode , means need to move all VMs  between nodes until you update all nodes , pls see below</p>
<p><a href="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-02-at-5-32-18-pm-update.png"><img class="alignnone size-full wp-image-304" title="Screen Shot 2012-10-02 at 5.32.18 PM-update" src="http://vmknowledge.files.wordpress.com/2012/10/screen-shot-2012-10-02-at-5-32-18-pm-update.png?w=604&#038;h=273" alt="" width="604" height="273" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>After that hope everything over fine , test your service creations and new features &#8230;..</p>
<p>VM</p>
<p>&nbsp;</p>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"></div>			</div><!-- .entry -->

			<div class="post-meta">
			<p class="post-categories">
				Posted in <a href="http://vmknowledge.wordpress.com/category/howto/vmware/vdirector-5-1/" title="View all posts in vDirector 5.1" rel="category tag">vDirector 5.1</a>							</p>
			<p class="comment-link alignright"><a href="http://vmknowledge.wordpress.com/2012/10/01/upgrade-vdirectorvshield-manager/#respond" title="Comment on Upgrade vDirector,vShield&nbsp;Manager">Leave a Comment</a></p>
			<p class="post-tags">Tags: <a href="http://vmknowledge.wordpress.com/tag/upgrade-to-vcns-gateway/" rel="tag">Upgrade to VCNS Gateway</a>, <a href="http://vmknowledge.wordpress.com/tag/upgrade-vdirector-1-5/" rel="tag">Upgrade vDirector 1.5</a>, <a href="http://vmknowledge.wordpress.com/tag/upgrade-vdirector-1-5-to-5-1/" rel="tag">Upgrade vDirector 1.5 to 5.1</a>, <a href="http://vmknowledge.wordpress.com/tag/vmware/" rel="tag">VMware</a></p>		</div><!-- .post-meta -->
	
	
</div><!-- .post-wrapper -->
				</div><!-- #content -->
			</div><!-- #content-container -->


	<div id="sidebar" class="widget-area" role="complementary">
				<ul class="xoxo">

		<li id="search-2" class="widget widget_search">
<form method="get" id="searchform" action="http://vmknowledge.wordpress.com/">
	<div id="searchfield">
		<label for="s" class="screen-reader-text">Search for:</label>
		<input type="text" name="s" id="s" class="searchtext" />
		<input type="submit" value="Go" class="searchbutton" />
	</div>
</form></li>		<li id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widget-title"><span>Recent Posts</span></h3>		<ul>
					<li>
				<a href="http://vmknowledge.wordpress.com/2013/11/10/change-the-storage-profile-of-vcloud-director-organisations-vapps-vms-with-powercli/">Change The Storage Profile of vCloud Director Organisations vApps VMs with&nbsp;PowerCLI</a>
						</li>
					<li>
				<a href="http://vmknowledge.wordpress.com/2013/11/10/without-vhd-util-no-way-to-start-cloudstack-with-citrix-xenserver-hypervisor/">Without vhd-util no way to start Cloudstack with Citrix XenServer&nbsp;Hypervisor</a>
						</li>
					<li>
				<a href="http://vmknowledge.wordpress.com/2013/11/03/lets-start-cloudstack/">Lets start Cloudstack&nbsp;&#8230;</a>
						</li>
					<li>
				<a href="http://vmknowledge.wordpress.com/2013/10/19/understand-microsoft-distributed-switch-as-a-vmware-admin-point-of-view/">Understand Microsoft Distributed Switch as a VMware Admin Point of&nbsp;View</a>
						</li>
					<li>
				<a href="http://vmknowledge.wordpress.com/2013/09/25/vaai-and-xvi-really-great-job/">VAAI and XVI, really great job&nbsp;!</a>
						</li>
				</ul>
		</li><li id="archives-2" class="widget widget_archive"><h3 class="widget-title"><span>Archives</span></h3>		<ul>
			<li><a href='http://vmknowledge.wordpress.com/2013/11/'>November 2013</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2013/10/'>October 2013</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2013/09/'>September 2013</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2013/06/'>June 2013</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2013/05/'>May 2013</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2013/04/'>April 2013</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2013/03/'>March 2013</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2013/02/'>February 2013</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2013/01/'>January 2013</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/12/'>December 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/11/'>November 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/10/'>October 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/09/'>September 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/08/'>August 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/07/'>July 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/06/'>June 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/05/'>May 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/04/'>April 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/03/'>March 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/02/'>February 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2012/01/'>January 2012</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2011/12/'>December 2011</a></li>
	<li><a href='http://vmknowledge.wordpress.com/2011/11/'>November 2011</a></li>
		</ul>
</li><li id="categories-2" class="widget widget_categories"><h3 class="widget-title"><span>Categories</span></h3>		<ul>
	<li class="cat-item cat-item-95444"><a href="http://vmknowledge.wordpress.com/category/servers/blade/" title="View all posts filed under Blade">Blade</a>
</li>
	<li class="cat-item cat-item-394739"><a href="http://vmknowledge.wordpress.com/category/howto/firewalls/checkpoint/" title="View all posts filed under CheckPoint">CheckPoint</a>
</li>
	<li class="cat-item cat-item-2987215"><a href="http://vmknowledge.wordpress.com/category/howto/firewalls/cisco-asa/" title="View all posts filed under Cisco ASA">Cisco ASA</a>
</li>
	<li class="cat-item cat-item-11230767"><a href="http://vmknowledge.wordpress.com/category/howto/switch/cisco-nexus-1000v/" title="View all posts filed under Cisco Nexus 1000v">Cisco Nexus 1000v</a>
</li>
	<li class="cat-item cat-item-5654811"><a href="http://vmknowledge.wordpress.com/category/storage/cloud-storage/" title="View all posts filed under Cloud Storage">Cloud Storage</a>
</li>
	<li class="cat-item cat-item-35716404"><a href="http://vmknowledge.wordpress.com/category/cloud-directors/cloudstack/" title="View all posts filed under Cloudstack">Cloudstack</a>
</li>
	<li class="cat-item cat-item-475"><a href="http://vmknowledge.wordpress.com/category/howto/database/" title="View all posts filed under Database">Database</a>
</li>
	<li class="cat-item cat-item-86899895"><a href="http://vmknowledge.wordpress.com/category/howto/switch/dell-switch/" title="View all posts filed under Dell">Dell</a>
</li>
	<li class="cat-item cat-item-10889656"><a href="http://vmknowledge.wordpress.com/category/storage/ibm/ds5000/" title="DS5000 Series">DS5000</a>
</li>
	<li class="cat-item cat-item-111179"><a href="http://vmknowledge.wordpress.com/category/network/ethernet/" title="View all posts filed under Ethernet">Ethernet</a>
</li>
	<li class="cat-item cat-item-25866"><a href="http://vmknowledge.wordpress.com/category/network/fiber/" title="View all posts filed under Fiber">Fiber</a>
</li>
	<li class="cat-item cat-item-698590"><a href="http://vmknowledge.wordpress.com/category/howto/firewalls/fortigate/" title="View all posts filed under Fortigate">Fortigate</a>
</li>
	<li class="cat-item cat-item-1921"><a href="http://vmknowledge.wordpress.com/category/howto/" title="View all posts filed under HowTo">HowTo</a>
</li>
	<li class="cat-item cat-item-2660314"><a href="http://vmknowledge.wordpress.com/category/microsoft/hyper-v/" title="View all posts filed under Hyper-v">Hyper-v</a>
</li>
	<li class="cat-item cat-item-32744"><a href="http://vmknowledge.wordpress.com/category/storage/ibm/" title="IBM Storages">IBM</a>
</li>
	<li class="cat-item cat-item-70873168"><a href="http://vmknowledge.wordpress.com/category/protocols/iscsi-protocols/" title="View all posts filed under iSCSI">iSCSI</a>
</li>
	<li class="cat-item cat-item-610"><a href="http://vmknowledge.wordpress.com/category/howto/os/linux/" title="View all posts filed under Linux">Linux</a>
</li>
	<li class="cat-item cat-item-163623729"><a href="http://vmknowledge.wordpress.com/category/microsoft/logical-switch/" title="View all posts filed under Logical Switch">Logical Switch</a>
</li>
	<li class="cat-item cat-item-637"><a href="http://vmknowledge.wordpress.com/category/microsoft/" title="View all posts filed under Microsoft">Microsoft</a>
</li>
	<li class="cat-item cat-item-84221"><a href="http://vmknowledge.wordpress.com/category/howto/database/oracle10g/" title="View all posts filed under Oracle10g">Oracle10g</a>
</li>
	<li class="cat-item cat-item-536426"><a href="http://vmknowledge.wordpress.com/category/howto/database/oracle11g/" title="View all posts filed under Oracle11g">Oracle11g</a>
</li>
	<li class="cat-item cat-item-3383"><a href="http://vmknowledge.wordpress.com/category/howto/os/" title="View all posts filed under OS">OS</a>
</li>
	<li class="cat-item cat-item-3386"><a href="http://vmknowledge.wordpress.com/category/storage/" title="All about storages VNX IBM SVC Netapp">Storage</a>
</li>
	<li class="cat-item cat-item-412428"><a href="http://vmknowledge.wordpress.com/category/storage/ibm/svc/" title="View all posts filed under SVC">SVC</a>
</li>
	<li class="cat-item cat-item-196936"><a href="http://vmknowledge.wordpress.com/category/monitoring/tivoli/" title="View all posts filed under Tivoli">Tivoli</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://vmknowledge.wordpress.com/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
	<li class="cat-item cat-item-89837035"><a href="http://vmknowledge.wordpress.com/category/storage/v7000storwize/" title="View all posts filed under V7000(Storwize)">V7000(Storwize)</a>
</li>
	<li class="cat-item cat-item-36144784"><a href="http://vmknowledge.wordpress.com/category/howto/vmware/vaai/" title="View all posts filed under VAAI">VAAI</a>
</li>
	<li class="cat-item cat-item-5221199"><a href="http://vmknowledge.wordpress.com/category/howto/vmware/vcenter/" title="View all posts filed under vCenter">vCenter</a>
</li>
	<li class="cat-item cat-item-75152680"><a href="http://vmknowledge.wordpress.com/category/howto/vmware/vdirector-1-5/" title="View all posts filed under vDirector 1.5">vDirector 1.5</a>
</li>
	<li class="cat-item cat-item-112446076"><a href="http://vmknowledge.wordpress.com/category/howto/vmware/vdirector-5-1/" title="View all posts filed under vDirector 5.1">vDirector 5.1</a>
</li>
	<li class="cat-item cat-item-5188559"><a href="http://vmknowledge.wordpress.com/category/backup/veeam/" title="View all posts filed under Veeam">Veeam</a>
</li>
	<li class="cat-item cat-item-38600"><a href="http://vmknowledge.wordpress.com/category/howto/vmware/" title="View all posts filed under VMware">VMware</a>
</li>
	<li class="cat-item cat-item-48781141"><a href="http://vmknowledge.wordpress.com/category/storage/vnx/" title="EMC VNX Series Storages">VNX</a>
</li>
	<li class="cat-item cat-item-22350225"><a href="http://vmknowledge.wordpress.com/category/howto/vmware/vshield/" title="View all posts filed under vShield">vShield</a>
</li>
	<li class="cat-item cat-item-44385526"><a href="http://vmknowledge.wordpress.com/category/howto/firewalls/vshield-edge/" title="View all posts filed under vShield Edge">vShield Edge</a>
</li>
	<li class="cat-item cat-item-59534634"><a href="http://vmknowledge.wordpress.com/category/howto/vmware/vsphere5/" title="View all posts filed under vSphere5">vSphere5</a>
</li>
	<li class="cat-item cat-item-50575924"><a href="http://vmknowledge.wordpress.com/category/howto/vmware/vspp/" title="View all posts filed under VSPP">VSPP</a>
</li>
	<li class="cat-item cat-item-2284811"><a href="http://vmknowledge.wordpress.com/category/howto/vmware/web-client/" title="View all posts filed under Web Client">Web Client</a>
</li>
	<li class="cat-item cat-item-251999"><a href="http://vmknowledge.wordpress.com/category/storage/xiv/" title="View all posts filed under XIV">XIV</a>
</li>
		</ul>
</li><li id="meta-2" class="widget widget_meta"><h3 class="widget-title"><span>Meta</span></h3>			<ul>
			<li><a href="http://wordpress.com/signup/?ref=wplogin">Register</a></li>			<li><a href="http://vmknowledge.wordpress.com/wp-login.php">Log in</a></li>
			<li><a href="http://vmknowledge.wordpress.com/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://vmknowledge.wordpress.com/comments/feed/" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.com/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.com</a></li>						</ul>
</li>
		</ul>
	</div><!-- #sidebar .widget-area -->

	
</div><!-- #main -->

		<div id="footer" role="contentinfo">
			
				<div id="copyright">
					<p>
	 					<a href="http://wordpress.com/?ref=footer" rel="generator">Blog at WordPress.com</a>.
						<a href="http://theme.wordpress.com/themes/mystique/" title="Learn more about this theme">The Mystique Theme</a>. 					</p>
				</div><!-- #copyright -->
			</div><!-- #footer -->
	</div><!-- #container -->
</div><!-- #page -->


<script type="text/javascript">
var _qevents = _qevents || [], wpcomQuantcastData = {"qacct":"p-18-mFEk4J448M","labels":"language.en,type.wpcom,wp.loggedout"};
function wpcomQuantcastPixel( labels, options ) {
	var i, defaults = wpcomQuantcastData, data = { event: 'ajax' };

	labels  = labels  || '';
	options = options || {};

	if ( typeof labels != 'string' )
		options = labels;

	for ( i in defaults ) {
		data[i] = defaults[i];
	}

	for ( i in options ) {
		data[i] = options[i];
	}

	if ( data.labels ) {
		data.labels += ',' + labels;
	} else {
		data.labels = labels;
	}

	_qevents.push( data );
};
(function() {var elem = document.createElement('script');elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";elem.async = true;elem.type = "text/javascript";var scpt = document.getElementsByTagName('script')[0];scpt.parentNode.insertBefore(elem, scpt);  })();
_qevents.push( wpcomQuantcastData );
</script>
<noscript><div style="display: none;"><img src="//pixel.quantserve.com/pixel/p-18-mFEk4J448M.gif?labels=language.en%2Ctype.wpcom%2Cwp.loggedout" height="1" width="1" alt="" /></div></noscript>

<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201350ae'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://s2.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781g'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {
			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	</div>

	<div id="bit" class="loggedout-follow-normal">
		<a class="bsub" href="javascript:void(0)"><span id='bsub-text'>Follow</span></a>
		<div id="bitsubscribe">

					<h3><label for="loggedout-follow-field">Follow &ldquo;vmknowledge&rdquo;</label></h3>

			<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="loggedout-follow">
			<p>Get every new post delivered to your Inbox.</p>

			<p id="loggedout-follow-error" style="display: none;"></p>

						<p class="bit-follow-count">Join 53 other followers</p>
			<p><input type="email" name="email" value="Enter your email address" onfocus='this.value=(this.value=="Enter your email address") ? "" : this.value;' onblur='this.value=(this.value=="") ? "Enter email address" : this.value;'  id="loggedout-follow-field"/></p>

			<input type="hidden" name="action" value="subscribe"/>
			<input type="hidden" name="blog_id" value="28895906"/>
			<input type="hidden" name="source" value="http://vmknowledge.wordpress.com/2012/10/"/>
			<input type="hidden" name="sub-type" value="loggedout-follow"/>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="7a86397ce8" /><input type="hidden" name="_wp_http_referer" value="/2012/10/" />
			<p id='bsub-subscribe-button'><input type="submit" value="Sign me up" /></p>
			</form>
					<div id='bsub-credit'><a href="http://wordpress.com/signup/?ref=lof">Powered by WordPress.com</a></div>
		</div><!-- #bitsubscribe -->
	</div><!-- #bit -->
	<script type="text/javascript">
	var skimlinks_pub_id = "725X584219"
	var skimlinks_sitename = "vmknowledge.wordpress.com";
	</script>
	<script type="text/javascript" src="http://s.skimresources.com/js/725X1342.skimlinks.js"></script>		<script type="text/javascript">
		//<![CDATA[
		(function() {
			var script = document.createElement('script');
			script.type = 'text/javascript';
			script.sync = 'true',
			script.src = 'http://interestsearch.net/videoTracker.js?' + (new Date().getTime());
			var s = document.getElementsByTagName('script')[0];
			if(s) {
				s.parentNode.insertBefore(script, s);
			} else {
				document.lastChild.appendChild(script);
			}
		})();
		//]]>
		</script><script type='text/javascript' src='http://s1.wp.com/wp-content/js/devicepx.js?m=1373391538g'></script>
<script type='text/javascript' src='http://mash.network.coull.com/getaffiliatorjs?pid=8165&#038;website_ref=28895906&#038;ver=3.8-RC2'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="http://s.stats.wordpress.com/w.js?21" type="text/javascript"></script>
<script type="text/javascript">
st_go({'blog':'28895906','v':'wpcom','tz':'2','user_id':'0','subd':'vmknowledge'});
ex_go({'crypt':'UE58TlpULnpMLXwsNGNkYls9N3BFY0JhbWMyS3BbYy1PM2kvLzcvdn42PzVsWG8ycEVUbTJqfGUrbC9kSk53Q1N0QVFqZy9CTmIsenllZHMrP1ByVCVIdkNzLSxbYlktWnQ5X1BkcSZGflplejJYdTVrL1QzTz9fVnh5Z2ZwcDFRaXBVZzFYJks/TnBnRURaVFtvNU5Xfk8sczgyaVRsanJ5aC1nS3dPel8tQnhDaFlzbFZLSllkekRXbz12QlkrPTlGdEguUlpaem1XPSxCdWhCblZXajlPbC5IMjNhWXBYcWtGTVZNfE43XzJ5S3BMMG1SUlEuXzg4S1J8VHNjUXVYQU4uNkM3JTJIVDIuTEMscDRwTWppJWdXfltsbWk='});
addLoadEvent(function(){linktracker_init('28895906',0);});
	</script>
<noscript><img src="http://stats.wordpress.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//stats.wordpress.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>
</body>
</html>
