














<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">














<html>
<head>
    <title>[#GLASSFISH-20862] @Resource  'name/mappedName' ambiguity for DataSource created in Glassfish console. - Java.net JIRA </title>

    <meta content="issuesummary" name="decorator" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    <link rel="shortcut icon" href="/jira/s/472/1/_/favicon.ico">
    <link rel="icon" type="image/png" href="/jira/s/472/1/_/images/icons/favicon.png">
    


	




<link rel="stylesheet" type="text/css" media="print" href="/jira/s/472/1/_/styles/combined-printable.css">
<link type="text/css" rel="StyleSheet" media="all" href="/jira/s/472/1/_/styles/combined.css"/>
<link type="text/css" rel="StyleSheet" media="all" href="/jira/s/472/1/0/_/styles/global.css"/>

    
    <script type="text/javascript">var contextPath = '/jira';</script>
<link type="text/css" rel="stylesheet" href="/jira/s/472/1/1.2.4/_/download/batch/com.atlassian.auiplugin:ajs/com.atlassian.auiplugin:ajs.css" media="all">
<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/jira/s/472/1/1.2.4/_/download/batch/com.atlassian.auiplugin:ajs/com.atlassian.auiplugin:ajs.css?ieonly=true" media="all">
<![endif]-->
<script type="text/javascript" src="/jira/s/472/1/1.2.4/_/download/batch/com.atlassian.auiplugin:ajs/com.atlassian.auiplugin:ajs.js" ></script>
<script type="text/javascript" src="/jira/s/472/1/1.0/_/download/batch/jira.webresources:jira-global/jira.webresources:jira-global.js" ></script>
<link type="text/css" rel="stylesheet" href="/jira/s/472/1/1.0/_/download/batch/jira.webresources:jira-global/jira.webresources:jira-global.css" media="all">
<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/jira/s/472/1/1.0/_/download/batch/jira.webresources:jira-global/jira.webresources:jira-global.css?ieonly=true" media="all">
<![endif]-->
<script type="text/javascript" src="/jira/s/472/1/1.0/_/download/batch/jira.webresources:autocomplete/jira.webresources:autocomplete.js" ></script>
<link type="text/css" rel="stylesheet" href="/jira/s/472/1/1.0/_/download/batch/jira.webresources:autocomplete/jira.webresources:autocomplete.css" media="all">
<link type="text/css" rel="stylesheet" href="/jira/s/472/1/2.3.1/_/download/batch/com.atlassian.jira.plugin.labels:labels-files/com.atlassian.jira.plugin.labels:labels-files.css" media="all">
<script type="text/javascript" src="/jira/s/472/1/2.3.1/_/download/batch/com.atlassian.jira.plugin.labels:labels-files/com.atlassian.jira.plugin.labels:labels-files.js" ></script>
<script type="text/javascript" src="/jira/s/472/1/1.0/_/download/batch/jira.webresources:header/jira.webresources:header.js" ></script>

</head>





















<body id="jira"  >


<div id="header">
    <div id="header-top">
        <a id="logo" href="/jira/secure/Dashboard.jspa">
                        <img class="logo" src="/jira/s/472/1/_/images/jira111x30.png" width="111" height="30" border="0" alt="Java.net JIRA">
                    </a>
                <form id="quicksearch" action="/jira/secure/QuickSearch.jspa" method="post">
            <label for="quickSearchInput" class="overlabel">Quick Search
                <span id="quicksearchhelp" class="informationBox">
                                                 Learn more about <a href='http://docs.atlassian.com/jira/docs-040/Using+Quick+Search?clicked=jirahelp' target='_jirahelp'>Quick Search</a>
                </span>
            </label>
            <input id="quickSearchInput" class="quickSearchInput" title="Go directly to an issue by typing a valid issue key, or run a free-text search." type="text" size="25" name="searchString" accessKey="q"  valign="absmiddle" />
        </form>
                
        <div id="header-details-user" class="aui-dd-parent header-link-container">
         <a class="lnk" rel="nofollow" href="https://java.net/people/login?original_uri=https%3A%2F%2Fjava.net%2Fjira%2Fbrowse%2FGLASSFISH-20862">Log In</a>
        <span class="drop-wrap">
        <a class="drop aui-dd-link"
                        href="#"><span>Access more options</span>
        </a>
    </span>
    <div class="aui-dropdown standard hidden">
                                                                <ul id="jira-help" class="  first     last  ">
                                            <li><a  id="view_help"   class=""  title="Goto the online documentation for JIRA" href="http://docs.atlassian.com/jira/docs-040/Home?clicked=jirahelp">Online Help</a></li>
                                            <li><a  id="user_history"   class=""  title="Get more information about JIRA" href="http://www.atlassian.com/software/jira">About JIRA</a></li>
                                    </ul>
                        </div>
</div>
        
    </div>
    <div id="header-bottom">
                <div id="menu">
            
            
<ul id="main-nav" class="menu-bar">
                        <li class="aui-dd-parent lazy  ">
                    <a class="lnk"
                href="/jira/secure/Dashboard.jspa"
                 id="home_link"                 accessKey="h"                 title="View your current Dashboard"                >Dashboards</a>

                    <span class="drop-wrap">
            <a class="drop aui-dd-link"
                                    id="home_link_drop"
                    rel="home_link"
                    accessKey="d"
                    title="Access more options (Alt+D)"
                                href="#"><span>Access more options (Alt+D)</span></a></span>
            <div class="aui-dropdown standard hidden"></div>
                </li>
                        <li class="aui-dd-parent lazy  ">
                    <a class="lnk"
                href="/jira/browse/GLASSFISH"
                 id="browse_link"                 accessKey="b"                 title="Browse currently active project 'glassfish'"                >Projects</a>

                    <span class="drop-wrap">
            <a class="drop aui-dd-link"
                                    id="browse_link_drop"
                    rel="browse_link"
                    accessKey="p"
                    title="Access more options (Alt+P)"
                                href="#"><span>Access more options (Alt+P)</span></a></span>
            <div class="aui-dropdown standard hidden"></div>
                </li>
                        <li class="aui-dd-parent lazy  selected  ">
                    <a class="lnk"
                href="/jira/secure/IssueNavigator.jspa"
                 id="find_link"                 accessKey="f"                 title="View your current filter"                >Issues</a>

                    <span class="drop-wrap">
            <a class="drop aui-dd-link"
                                    id="find_link_drop"
                    rel="find_link"
                    accessKey="i"
                    title="Access more options (Alt+I)"
                                href="#"><span>Access more options (Alt+I)</span></a></span>
            <div class="aui-dropdown standard hidden"></div>
                </li>
                        <li class="aui-dd-parent nonlazy  ">
                    <a class="lnk"
                href="/jira/secure/GreenHopper.jspa"
                 id="greenhopper_menu"                                 title="Manage your project with GreenHopper"                >Agile</a>

                                                                                                            <span class="drop-wrap">
                            <a class="drop aui-dd-link"
                                                                    id="greenhopper_menu_drop"
                                    accessKey="g"
                                    rel="greenhopper_menu"
                                    title="Access more options (Alt+G)"
                                                                href="#"><span>Access more options</span></a></span>
                            <div class="aui-dropdown standard hidden"><div>
                                                                        <ul id="greenhopper_menu_dropdown" class=" first   last  ">
                                                            <li class="dropdown-item"><a
                                     id="planningboard-mlink"                                     class="    "
                                                                                                            href="/jira/secure/VersionBoard.jspa">Planning Board</a></li>
                                                            <li class="dropdown-item"><a
                                     id="taskboard-mlink"                                     class="    "
                                                                                                            href="/jira/secure/TaskBoard.jspa">Task Board</a></li>
                                                            <li class="dropdown-item"><a
                                     id="chartboard-mlink"                                     class="    "
                                                                                                            href="/jira/secure/ChartBoard.jspa">Chart Board</a></li>
                                                            <li class="dropdown-item"><a
                                     id="releasedboard-mlink"                                     class="    "
                                                                                                            href="/jira/secure/ArchiveChartBoard.jspa">Released Board</a></li>
                                                    </ul>
                                                                        </div></div>
                                            </li>
    </ul>

            
        </div>

    </div>
</div>



<fieldset class="hidden parameters">
    <input type="hidden" id="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost.">
</fieldset>

<!--This should always be included as it is not part of a themable plugin, instead it is core functionality-->






<table cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
        <td width="200" bgcolor="#f0f0f0" valign="top" style="border-right:1px solid #bbb">
            <table cellpadding="0" cellspacing="0" border="0" width="200">
<tr><td>
        <table cellpadding="3" cellspacing="0" border="0" width="100%">
    <tr><td bgcolor="#dddddd">
        <span style="float:left"><b>Issue Details</b></span>
        <span class="small" style="float:right">
                                        (<a rel="nofollow" class="small" href="/jira/si/jira.issueviews:issue-xml/GLASSFISH-20862/GLASSFISH-20862.xml">XML</a> | <a rel="nofollow" class="small" href="/jira/si/jira.issueviews:issue-word/GLASSFISH-20862/GLASSFISH-20862.doc">Word</a> | <a rel="nofollow" class="small" href="/jira/si/jira.issueviews:issue-html/GLASSFISH-20862/GLASSFISH-20862.html">Printable</a>)
                    </span>
    </td></tr>
    </table>
                        <img src="/jira/images/bluepixel.gif" width="100%" height="1" border="0" alt=""><br>
                <table id="issuedetails" cellpadding="3" cellspacing="0" border="0">
            <tr>
                <td valign="top"><b>Key:</b></td>
                <td valign="top">
                    <b><a id="issue_key_GLASSFISH-20862" href="/jira/browse/GLASSFISH-20862">GLASSFISH-20862</a></b>
                </td>
            </tr>

            <tr>
                <td valign="top"><b>Type:</b></td>
                <td valign="top">
                                                                <img src="/jira/images/icons/bug.gif" height="16" width="16" border="0" align="absmiddle" alt="Bug" title="Bug - A problem which impairs or prevents the functions of the product.">
             Bug
                </td>
            </tr>

            <tr>
                <td valign="top"><b>Status:</b></td>
                <td valign="top">
                                                                <img src="/jira/images/icons/status_resolved.gif" height="16" width="16" border="0" align="absmiddle" alt="Resolved" title="Resolved - A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">
             Resolved
                </td>
            </tr>

                        <tr>
                <td valign="top"><b>Resolution:</b></td>
                <td valign="top">
                                             Works as designed
                </td>
            </tr>
            
                        <tr>
                <td valign="top"><b>Priority:</b></td>
                <td valign="top">
                                                                <img src="/jira/images/icons/priority_major.gif" height="16" width="16" border="0" align="absmiddle" alt="Major" title="Major - Major loss of function.">
             Major
                </td>
            </tr>
            

                        <tr>
                <td valign="top"><b>Assignee:</b></td>
                <td valign="top">
                            <a id="issue_summary_assignee_jjsnyder83" href="/jira/secure/ViewProfile.jspa?name=jjsnyder83">jjsnyder83</a>
                </td>
            </tr>
            
                        <tr>
                <td valign="top"><b>Reporter:</b></td>
                <td valign="top">
                            <a id="issue_summary_reporter_anirudhgupta169" href="/jira/secure/ViewProfile.jspa?name=anirudhgupta169">anirudhgupta169</a>
                </td>
            </tr>
            
                        <tr>
                <td valign="top"><b>Votes:</b></td>
                <td valign="top">
                                                                        0
                                                            </td>
            </tr>
            
                        <tr>
                <td valign="top"><b>Watchers:</b></td>
                <td valign="top">
                                                                                    0
                                    </td>
            </tr>
                    </table>
        
        
                <div class="operations">
        <table cellpadding="3" cellspacing="0" border="0" width="100%">
        <tr><td bgcolor="#dddddd">
            <b>Operations</b>
        </td></tr>
        </table>
        <img src="/jira/images/bluepixel.gif" width="100%" height="1" border="0" alt=""><br>
        <table cellpadding="3" cellspacing="0" border="0" id="operationsSection">
                    <tr><td class="issueOperation lazyOperation">
                If you were <a class="lnk" rel="nofollow" href="https://java.net/people/login?original_uri=https%3A%2F%2Fjava.net%2Fjira%2Fbrowse%2FGLASSFISH-20862">logged in</a> you would be able to see more operations.
            </td></tr>
                </table>
        </div>
            </td></tr>
</table>
        </td>
        <td bgcolor="#ffffff" valign="top">
            <div style="padding:1em" id="issueContent">
                <style type="text/css">
<!--
.fieldArea .fieldLabelArea { width: 10%; }
.fieldArea .fieldValueArea { width: 90%; }
#pinCommentContainer { float: right; font-size: 10px; }
#pinCommentContainer a { margin: 0 0.2em; }
-->
</style>














<table cellpadding="1" cellspacing="0" border="0" bgcolor="#bbbbbb" width="100%" align="center">
<tr><td width="100%" colspan="2" valign="top">
<table id="issue_header" cellpadding="4" cellspacing="0" border="0" width="100%" bgcolor="#ffffff">
<tr>
    <td bgcolor="#f0f0f0" width="100%" colspan="2" valign="top">
    <table id="issue_header_summary" width="100%" cellpadding="0" cellspacing="0">
        <tr><td bgcolor="#f0f0f0" width="80%" valign="top">
            <b><a href="/jira/browse/GLASSFISH">
                glassfish</a></b><br>

            

            <h3 class="formtitle"><img src="/jira/images/icons/link_out_bot.gif" width="16" height="16"
                              border="0" alt="" /> @Resource  'name/mappedName' ambiguity for DataSource created in Glassfish console.</h3>
            <font size="1">
                Created: <span class="date">19/Oct/13 07:04 AM</span> &nbsp;
                Updated: <span class="date">24/Oct/13 07:47 PM</span>

                
                    
                
                
                    &nbsp; Resolved: <span class="date">24/Oct/13 07:47 PM</span>
                
            </font>
        </td>
            
            
        </tr></table>
</tr>


    
        <tr>
            <td width="20%"><b>Component/s:</b></td>
            <td width="80%">
                
                    


    
        <a href="/jira/browse/GLASSFISH/component/10637" title="cdi Context and Dependency Injection for Java (formerly WebBeans)">cdi</a>
    



                
            </td>
        </tr>
    

    
        <tr>
            <td width="20%"><b>Affects Version/s:</b></td>
            <td width="80%">
                
                    



    None


                
            </td>
        </tr>
    

    
        <tr>
            <td width="20%"><b>Fix Version/s:</b></td>
            <td width="80%">
                
                    



    None


                
            </td>
        </tr>
    
    
        
        
            
        
    

</table>
</td></tr></table>




    
        


<br/>
<table width="100%" cellpadding="0" cellspacing="0">
    <tr>
        <td>
            <table cellpadding="4" cellspacing="1" class="tt_outer">
                <tr>
                    <td id="tt_heading" class="tt_heading" style="line-height:150%;">
                        Time Tracking:
                        
                    </td>
                    <td class="tt_infoarea">
                        
                        
                            


<table id="tt_single_table_info" class="tt_inner">
    
        <tr>
            <td>
                Not Specified
            </td>
        </tr>
    
    
</table>


                        
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>



    
    
        <br>
        <table cellpadding="0" cellspacing="0" border="0" bgcolor="#bbbbbb" WIDTH="100%" align="center"><tr><td>
        <table cellpadding="4" cellspacing="1" border="0" width="100%" bgcolor="#bbbbbb" id="issueDetailsTable">

        







        
            <tr>

                <td bgcolor="#f0f0f0" width="20%" valign="top">
                    <b>Environment:</b>
                </td>
                <td id="environment_field" bgcolor="#ffffff" valign="top">
                                  <div id="environment-open">
            <div style="float:right;">
                <a id="environment-hide" href="" onClick="toggleDivsWithCookie('environment-closed', 'environment-open'); return false;" class="smallgrey">&laquo; Hide</a>
            </div>
            <div>
                <p>Glassfish 4.0 0n Windows XP(32-bit). Browser Chrome. Oracle 11g.</p>
            </div>
        </div>
        <div id="environment-closed" style="display: none;">
            <div style="float:right;">
                <a id="environment-show" href="" onClick="toggleDivsWithCookie('environment-open', 'environment-closed'); return false;" class="smallgrey">Show &raquo;</a>
            </div>
            <div style="height: 1.2em; overflow: hidden;">
                                    Glassfish 4.0 0n Windows XP(32-bit). Browser Chrome. Oracle 11g.
                            </div>
        </div>
        <script language="JavaScript" type="text/javascript">
        <!--
            restoreDivFromCookie('environment-open', 'jira.viewissue.cong.cookie', '1');
            restoreDivFromCookie('environment-closed', 'jira.viewissue.cong.cookie', '0');
        //-->
        </script>
      
                </td>
            </tr>
        

        



        




        </table>
        </td></tr></table>
    


<br>







<table id="tab1" class="gridTabBox" cellpadding="3" cellspacing="1" align="center" width="100%">
    
    
        
             
            
                <tr id="rowForcustomfield_10002">
                    <td bgcolor="#f0f0f0" width="20%" valign="top"><b>Tags:</b></td>
                    <td bgcolor="#ffffff" width="80%">
                            <!-- This is separated out here so I can quickly change between debuging where I want scripts and css loaded from the file system
      and runtime when I want it all laoded from the class loaded via jira methos. -->
<!-- Load Via JIRA -->

    <span class="suggestedlabels plugin_label_labels_128874_customfield_10002">  <a href='/jira/secure/IssueNavigator.jspa?reset=true&amp;customfield_10002='></a>
</span>
    
                    </td>
                </tr>
            
        
    
        
             
            
                <tr id="rowForcustomfield_10010">
                    <td bgcolor="#f0f0f0" width="20%" valign="top"><b>Participants:</b></td>
                    <td bgcolor="#ffffff" width="80%">
                                    <a class="nowrap" title="Find all issues anirudhgupta169 participated in" href="/jira/secure/IssueNavigator.jspa?reset=true&customfield_10010=anirudhgupta169">anirudhgupta169</a> and             <a class="nowrap" title="Find all issues jjsnyder83 participated in" href="/jira/secure/IssueNavigator.jspa?reset=true&customfield_10010=jjsnyder83">jjsnyder83</a>    
                    </td>
                </tr>
            
        
    
</table>



<br>




























<br>

<div id="description-open">
<table cellpadding="2" cellspacing="0" border="0" width="100%" align="center">
<tr>
	<td bgcolor="#bbbbbb" width="1%" nowrap align="center">
			&nbsp;<font color="#ffffff"><b>Description</b></font>&nbsp;
	</td>
    <td align="right"><a id="description-hide" href="" onClick="toggleDivsWithCookie('description-closed', 'description-open'); return false;" class="smallgrey">&laquo; Hide</a></td>
</tr>
</table>

<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr>
	<td id="descriptionArea">
        <div id="description_full">
            <p>Created Connection Pool in Glassfish admin console.<br/>
Pool Name : OCWCD<br/>
Resource Type : java.sql.Datasource<br/>
Datasource Classname : oracle.jdbc.pool.OracleDataSource</p>

<p>Additional Properties<br/>
URL :  jdbc:oracle:thin:@xxxxxxx:xxxx:xxxxxx<br/>
portNumber : xxxxxxx<br/>
databaseName : xxxxxxx<br/>
serverName : xxxxxxx<br/>
user : xxxxxxx<br/>
password : xxxxxxx</p>

<p>Created a JDBC Resource in Admin COnsole,<br/>
JNDI Name : jdbc/ocwcd<br/>
Connecition Pool : OCWCD</p>

<p>In the Servlet, tried to inject resource by using,<br/>
1. @Resource(name="jdbc/ocwcd") DataSource ds;<br/>
2. @Resource(name="jdbc/ocwcd" mappedName="OCWCD") DataSource ds;<br/>
3. @Resource(name="jdbc/ocwcd" mappedName="jdbc/ocwcd") DataSource ds;<br/>
4. @Resource(mappedName="jdbc/ocwcd") DataSource ds;</p>

<p>Only the 3rd and 4th option worked.<br/>
With the 1st option received,<br/>
----------------------------------------<br/>
type Exception report</p>

<p>messageInternal Server Error</p>

<p>descriptionThe server encountered an internal error that prevented it from fulfilling this request.</p>

<p>exception</p>

<p>javax.servlet.ServletException: Error instantiating servlet class come.lets.learn.servlet.ResourceByAnnotations<br/>
root cause</p>

<p>com.sun.enterprise.container.common.spi.util.InjectionException: Error creating managed object for class: class come.lets.learn.servlet.ResourceByAnnotations<br/>
root cause</p>

<p>com.sun.enterprise.container.common.spi.util.InjectionException: Exception attempting to inject Res-Ref-Env-Property: jdbc/ocwcd@javax.sql.DataSource@ resolved as: jndi: OCWCD@res principal: null@mail: null<br/>
No Runtime properties<br/>
Database Vendor : null<br/>
Create Tables at Deploy : false<br/>
Delete Tables at Undeploy : false into class come.lets.learn.servlet.ResourceByAnnotations: Lookup failed for 'java:comp/env/jdbc/ocwcd' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming}<br/>
root cause<br/>
<br/>
javax.naming.NamingException: Lookup failed for 'java:comp/env/jdbc/ocwcd' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming} [Root exception is javax.naming.NamingException: Lookup failed for 'OCWCD' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming, com.sun.enterprise.naming.logicalName=java:comp/env/jdbc/ocwcd} <span class="error">&#91;Root exception is javax.naming.NameNotFoundException: OCWCD not found&#93;</span>]<br/>
root cause</p>

<p>javax.naming.NamingException: Lookup failed for 'OCWCD' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming, com.sun.enterprise.naming.logicalName=java:comp/env/jdbc/ocwcd} <span class="error">&#91;Root exception is javax.naming.NameNotFoundException: OCWCD not found&#93;</span><br/>
root cause</p>

<p>javax.naming.NameNotFoundException: OCWCD not found<br/>
note The full stack traces of the exception and its root causes are available in the GlassFish Server Open Source Edition 4.0 logs.<br/>
----------------------------------------</p>

<p>With the 2nd option , received NullPointerException for the datasource variable.</p><br />
        </div>
    </td>
</tr>
</table>
</div>

<div id="description-closed" style="display:none;">
<table cellpadding="2" cellspacing="0" border="0" width="100%" align="center" class="table-layout: fixed;">
<tr>
	<td bgcolor="#bbbbbb" width="1%" nowrap align="center">
			&nbsp;<font color="#ffffff"><b>Description</b></font>&nbsp;
	</td>
    <td style="padding: 1px; margin: 0px; border-bottom: #bbb 1px solid;"><div style="height: 1.2em; overflow: hidden; text-overflow: ellipsis;">&nbsp; &nbsp;Created Connection Pool in Glassfish admin console.
Pool Name : OCWCD
Resource Type : java.sql.Datasource
Datasource Classname : oracle.jdbc.pool.OracleDataSource

Additional Properties
URL :  jdbc:oracle:thin:@xxxxxxx:xxxx:xxxxxx
portNumber : xxxxxxx
databaseName : xxxxxxx
serverName : xxxxxxx
user : xxxxxxx
password : xxxxxxx

Created a JDBC Resource in Admin COnsole,
JNDI Name : jdbc/ocwcd
Connecition Pool : OCWCD

In the Servlet, tried to inject resource by using,
1. @Resource(name="jdbc/ocwcd") DataSource ds;
2. @Resource(name="jdbc/ocwcd" mappedName="OCWCD") DataSource ds;
3. @Resource(name="jdbc/ocwcd" mappedName="jdbc/ocwcd") DataSource ds;
4. @Resource(mappedName="jdbc/ocwcd") DataSource ds;

Only the 3rd and 4th option worked.
With the 1st option received,
----------------------------------------
type Exception report

messageInternal Server Error

descriptionThe server encountered an internal error that prevented it from fulfilling this request.

exception

javax.servlet.ServletException: Error instantiating servlet class come.lets.learn.servlet.ResourceByAnnotations
root cause

com.sun.enterprise.container.common.spi.util.InjectionException: Error creating managed object for class: class come.lets.learn.servlet.ResourceByAnnotations
root cause

com.sun.enterprise.container.common.spi.util.InjectionException: Exception attempting to inject Res-Ref-Env-Property: jdbc/ocwcd@javax.sql.DataSource@ resolved as: jndi: OCWCD@res principal: null@mail: null
No Runtime properties
Database Vendor : null
Create Tables at Deploy : false
Delete Tables at Undeploy : false into class come.lets.learn.servlet.ResourceByAnnotations: Lookup failed for 'java:comp/env/jdbc/ocwcd' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming}
root cause

javax.naming.NamingException: Lookup failed for 'java:comp/env/jdbc/ocwcd' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming} [Root exception is javax.naming.NamingException: Lookup failed for 'OCWCD' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming, com.sun.enterprise.naming.logicalName=java:comp/env/jdbc/ocwcd} <span class="error">&#91;Root exception is javax.naming.NameNotFoundException: OCWCD not found&#93;</span>]
root cause

javax.naming.NamingException: Lookup failed for 'OCWCD' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming, com.sun.enterprise.naming.logicalName=java:comp/env/jdbc/ocwcd} <span class="error">&#91;Root exception is javax.naming.NameNotFoundException: OCWCD not found&#93;</span>
root cause

javax.naming.NameNotFoundException: OCWCD not found
note The full stack traces of the exception and its root causes are available in the GlassFish Server Open Source Edition 4.0 logs.
----------------------------------------

With the 2nd option , received NullPointerException for the datasource variable.</div></td>
    <td width="1%" align="right" nowrap style="padding: 1px; margin: 0px; border-bottom: #bbb 1px solid;"><a id="description-show" href="" onClick="toggleDivsWithCookie('description-open', 'description-closed'); return false;" class="smallgrey">Show &raquo;</a></td>
</tr>
</table>
</div>

<script language="JavaScript" type="text/javascript">
<!--
    restoreDivFromCookie('description-open', 'jira.viewissue.cong.cookie', '1');
    restoreDivFromCookie('description-closed', 'jira.viewissue.cong.cookie', '0');
//-->
</script>














<br>




    <div class="tabwrap">
        
            <div class="sortwrap">
                Sort Order:
                
                    <a rel="nofollow" href="/jira/browse/GLASSFISH-20862?actionOrder=desc"><img src="/jira/images/icons/arrow_down_blue_small.gif" class="sortArrow" alt="Ascending order - Click to sort in descending order" title="Ascending order - Click to sort in descending order" border="0" /></a>
                
                
            </div>
        
        <ul class="tabs horizontal">
        
            
            
                <li><a href="/jira/browse/GLASSFISH-20862?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel"><strong>All</strong></a></li>
            
        
            
                <li class="active"><strong>Comments</strong></li>
            
            
        
            
            
                <li><a href="/jira/browse/GLASSFISH-20862?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aworklog-tabpanel"><strong>Work Log</strong></a></li>
            
        
            
            
                <li><a href="/jira/browse/GLASSFISH-20862?page=com.atlassian.jira.plugin.system.issuetabpanels%3Achangehistory-tabpanel"><strong>Change History</strong></a></li>
            
        
            
            
                <li><a href="/jira/browse/GLASSFISH-20862?page=com.atlassian.streams.streams-jira-plugin%3Aactivity-stream-issue-tab"><strong>Activity Stream</strong></a></li>
            
        
        </ul>
    </div>

    
        <div class="issuePanelContainer" id="issue_actions_container">
        
            
                
                <div id="comment-370104-open">
<div class="actionContainer">
    <div class="action-links subText smallgrey">
    [
        <a href="/jira/browse/GLASSFISH-20862?focusedCommentId=370104&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_370104" title="A permanent link to this comment." class="smallgrey">Permalink</a>
                      | <a id="comment-370104-hide" href="" onClick="toggleDivsWithCookie('comment-370104-closed', 'comment-370104-open'); return false;" class="smallgrey">&laquo; Hide</a>
    ]
    </div>
    <div class="action-details">    <a name="action_370104" />
    
    
    
                <a id="comment_370104_header_jjsnyder83" href="/jira/secure/ViewProfile.jspa?name=jjsnyder83">jjsnyder83</a> added a comment  - <span class=subText><span class=date>24/Oct/13 07:47 PM</span></span>  </div>
    <div class="action-body"><p>I believe this is working as designed.  The mappedName must be a valid JNDI name for an object in JNDI.  That is why 3 and 4 are working.  2 is failing because the mappedName is used before name and so GF is using "OCWCD" as the lookup value and there is nothing in JNDI at "java:comp/env/OCWCD".  1 should work (it worked for me.)</p> </div>
</div>
</div>


<div id="comment-370104-closed" style="display: none;">
<div class="actionContainer" style="background-color:#f0f0f0;">
    <div class="action-links subText smallgrey">
    [ <a id="comment-370104-show" href="" onClick="toggleDivsWithCookie('comment-370104-open', 'comment-370104-closed'); return false;" class="smallgrey">Show &raquo;</a> ]
    </div>
    <div class="action-details" style="overflow: hidden; height: 1em;">
                <a name="action_370104" />
    
    
    
                <a id="comment_370104_header_jjsnyder83" href="/jira/secure/ViewProfile.jspa?name=jjsnyder83">jjsnyder83</a> added a comment  - <span class=subText><span class=date>24/Oct/13 07:47 PM</span></span>               I believe this is working as designed.  The mappedName must be a valid JNDI name for an object in JNDI.  That is why 3 and 4 are working.  2 is failing because the mappedName is used before name and so GF is using "OCWCD" as the lookup value and there is nothing in JNDI at "java:comp/env/OCWCD".  1 should work (it worked for me.)     </div>
</div>
</div>
<br clear="all" />
<script language="JavaScript" type="text/javascript">
<!--
    restoreDivFromCookie('comment-370104-open', 'jira.viewissue.cong.cookie', '1');
    restoreDivFromCookie('comment-370104-closed', 'jira.viewissue.cong.cookie', '0');
//-->
</script>

                
            
        
        
        </div>
            </div>
        </td>
    </tr>
</table>











<div class="footer">
<div  class="poweredbymessage" >
        <a class="seo-link" href="http://www.atlassian.com/software/jira/bug-tracking.jsp">Bug tracking</a>, <a class="seo-link" href="http://www.atlassian.com/software/jira/issue-tracking.jsp">issue tracking</a> and <a class="seo-link" href="http://www.atlassian.com/software/jira/tour/project-management.jsp">project management software</a> powered by <a href="http://www.atlassian.com/software/jira" class="smalltext">Atlassian JIRA</a>
        <span id="footer-build-information"  style="color: #666666;" >(v4.0.2#472)</span>        | <a href="http://support.atlassian.com/secure/CreateIssue.jspa?issuetype=1&pid=10000">Report a problem</a>
        | <a href="http://jira.atlassian.com/secure/CreateIssue.jspa?pid=10240&issuetype=2">Request a feature</a>
        | <a href="/jira/secure/Administrators.jspa">Contact administrators</a>
    </div>
                
    

    



    
</div>



<!--
	                 REQUEST ID : 85519x3201996x1
	          REQUEST TIMESTAMP : [13/Dec/2013:23:45:19 +0000]
	               REQUEST TIME : 0.2430
	                 ASESSIONID : 12obd1a
-->

</body>
</html>



