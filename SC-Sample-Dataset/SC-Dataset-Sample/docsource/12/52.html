<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<style type="text/css">
@import url( /templates/default/mobile/styles/mobile.css?1386831159603 ) ;
</style>

<meta name="viewport" content="width = 320" />

<title>Zero division (Beginning Java forum at JavaRanch)</title>
<link rel="canonical" href="http://www.coderanch.com/t/400053/java/java/division"/>
<link rel="alternate" media="handheld" href="http://www.coderanch.com/mobile/t/400053/java/java/division?foo=a">
</head>
<body class="en_US">

<a name="top"></a>
<table cellspacing="0" cellpadding="0" border="0">
    <tr>
        <td align="center">
                <a href="/forums/list"><img
                src="/templates/default/mobile/images/mobile-moose.gif"
                vspace="1" border="0" alt="[Logo]" width="100" height="100" /></a>
		</td>
        <td class="logo" valign="center">
          A friendly place for programming greenhorns!
        <a href="#bottom"><img src="/templates/default/mobile/images/down_arrow.gif" width="10" height="10" alt="Jump to bottom of page" /></a>
        </td>
    </tr>
</table>

<p>
  <a id="register" class="mainmenu" href="/forums/user/insert">Register</a> /
  <a id="login" class="mainmenu" href="/forums/user/login">Login</a>
</p>
<a class="maintitle" href="http://www.coderanch.com/forums">Java Forums</a>



&raquo; <a class="maintitle" href="/forums/c/1/java">Java</a> &raquo;
<a class="maintitle" href="/forums/f-33/java">Beginning Java</a>
<div class="subject">Zero division</div>


  
  <div class="mobilePostBody">
  

  Post by: Pete Low, Greenhorn<br />
  on <span class="lastPostTime">Jun 25, 2005 12:02:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Hi,<br />  <br /> Can anyone assist what can I do if the numerator  is zero ? <br />  <br />     int dolM1    = ( diffTot / 100 ) ;<br />  <br /> Rgds<br />  <br />   <img src="http://cache-www.coderanch.com/images/smilies/jr-eek.gif" border="0"></span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Barry Gaunt, Ranch Hand<br />
  on <span class="lastPostTime">Jun 25, 2005 14:19:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">The value of dolM1 would be zero. What's wrong with that?</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Archies Gomes, Ranch Hand<br />
  on <span class="lastPostTime">Jun 27, 2005 06:21:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Hi pete<br />      There should not be any problem if the numerator is 0(untill you arent talking bout money ....hehe )...neways jokes apart.  you will just get the resulting answer as zero itself.....yeah but if the denominator is a zero value   then you will get an arithmatic error ....so if you are epxecting  denominator as zero then better put the code in a try ..catch block to prevent the termination of your program.</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Joel McNary, Bartender<br />
  on <span class="lastPostTime">Jun 27, 2005 08:04:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">&nbsp;<blockquote class="uncited">
			<div>Originally posted by Archies Gomes:<br /> so if you are epxecting  denominator as zero then better put the code in a try ..catch block to prevent the termination of your program.</div>
		</blockquote><br />  Of, better yet, add the additional logic:<br />  <br /> <textarea name="code" class="java" cols="60" rows="10">
if(denominator != 0){
    result = numerator / denominator;
}
</textarea><br />  <br /> Exceptions should be exceptional; if you anticipate it, then it's not an exception.  (Not only that, but throwing exceptions is extremely expensive.  This is not a problem if you execute this logic one or two times, but even at one hundred times you will notice a significant impact to the application if you use exceptions to handle this instead of the if clause.</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Archies Gomes, Ranch Hand<br />
  on <span class="lastPostTime">Jun 27, 2005 10:19:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Hi Joel,<br />          Whenever if you take the input from a user then we cannot anticipate what is he/she going to provide....a zero or a non zero value,So rather then testing each time whether the value inputted is 0 or not(testing does take some time,and  it can be at run time and not compile time if input is provided at the run time itself)So to avoid this  we can go for the try ...catch block wherein the catch block gets executed only when the input is zero.<br /> Now consider  checking  for ArrayIndexOutofBounds()... shall we check by a if condition that is the range outside the size or will we put a try ....catch block around the code.<br />  <br /> class Test<br /> {<br /> int items[10];<br /> int give;<br /> Test()<br /> {<br /> //Put items in array named items  from a[0] to a[10]<br />  <br /> foo();<br />  <br /> }<br /> public int foo()<br /> {give=0//Default value<br /> //Ask user which one he wants to remove<br /> //take input from user and put in variable  selected <br /> //Now do we check whetehr selected is in range 0 to 10 or <br /> try<br /> {<br /> give=items[selected];<br />  <br /> }catch(ArrayIndexOutfBounds(Exception e){System.out.println("Sorry Wrong value so be happy with the default");}<br /> return give;<br /> }<br /> public static void main(String a[])<br /> {<br /> new Test();<br />  <br /> }<br /> }</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Joel McNary, Bartender<br />
  on <span class="lastPostTime">Jun 28, 2005 11:00:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I agree that testing does take some time, but on average the testing time is very little.  In addition, with testing you don't actually try to execute the code if it fails the test, thereby saving some time there.<br />  <br /> As I say, this really doesn't matter in some (perhaps most) instances, but it is a good habit to get into to test rather than rely on exceptions.  Here's a program that demonstrates relative speeds:<br />  <br /> <textarea name="code" class="java" cols="60" rows="10">/**
 * Tests the relative speed at which errors are found using if tests vs. exceptions
 *
 * @author Joel McNary
 */
public class ExceptionTester {
    /**
     * Tests the relative speed at which errors are found using if tests vs. exceptions
     *
     * @param argv The command line parameters.  Accepts one optional parameter indicating the length of the array to test
     *
     * @throws NumberFormatException If you pass in a non-number parameter.
     */
    public static void main(String[] argv) throws NumberFormatException {
        int count = 1000;
 
        long startTime = 0L;
        long endTime = 0L;
 
        if(argv.length == 1) {
            count = Integer.parseInt(argv[0]);
        }
 
        int[] numbers = ExceptionTester.randomIntegers(count);
 
        startTime = System.currentTimeMillis();
 
        int exceptionErrors = ExceptionTester.performFunctionCatchingException(numbers);
        endTime = System.currentTimeMillis();
 
        long exceptionsTime = endTime - startTime;
 
        startTime = System.currentTimeMillis();
 
        int testErrors = ExceptionTester.performFunctionWithTest(numbers);
        endTime = System.currentTimeMillis();
 
        long testTime = endTime - startTime;
 
        System.out.println("exceptions took " + exceptionsTime + " to find " +
            exceptionErrors + " in " + count + " numbers.");
        System.out.println("Testing took " + testTime + " to find " +
            testErrors + " in " + count + " numbers.");
    }
 
    /**
     * Returns an array of count integers ranging from 50 to 150.
     *
     * @param count The number of integers to create
     *
     * @return The array of integers
     */
    public static int[] randomIntegers(int count) {
        int[] results = new int[count];
 
        for(int index = 0; index &lt; count; index++) {
            double rand = Math.random();
            int x = (int)(rand * 100.0);
            x += 50;
            results[index] = x;
        }
 
        return results;
    }
 
    /**
     * Performs a function that tests for divide by zero errors.
     *
     * @param numbers The numbers to evaluate
     *
     * @return The number of errors found.
     */
    public static int performFunctionWithTest(int[] numbers) {
        int errors = 0;
 
        for(int index = 0; index &lt; numbers.length; index++) {
            int numerator = numbers[index];
            int denominator = numerator / 100;
 
            if(denominator != 0) {
                int result = numerator / denominator;
            } else {
                ++errors;
            }
        }
 
        return errors;
    }
 
    /**
     * Performs a function that catches for divide by zero errors.
     *
     * @param numbers The numbers to evaluate
     *
     * @return The number of errors found.
     */
    public static int performFunctionCatchingException(int[] numbers) {
        int errors = 0;
 
        for(int index = 0; index &lt; numbers.length; index++) {
            int numerator = numbers[index];
            int denominator = numerator / 100;
 
            try {
                int result = numerator / denominator;
            } catch(java.lang.ArithmeticException ae) {
                ++errors;
            }
        }
 
        return errors;
    }
}
</textarea><br />  <br /> And here's the results.  Note that they are virtually identical for small numbers, but you start to see a difference at about 1000 tests, and for the larger volumes there is a huge difference (1/2 a second vs. 2 and 1/2 minutes at the largest volume tested):<br />  <br /> <textarea name="code" class="java" cols="60" rows="10">
C:\user&gt;java ExceptionTester 1
exceptions took 0 to find 0 in 1 numbers.
Testing took 0 to find 0 in 1 numbers.
 
C:\user&gt;java ExceptionTester 10
exceptions took 0 to find 2 in 10 numbers.
Testing took 0 to find 2 in 10 numbers.
 
C:\user&gt;java ExceptionTester 100
exceptions took 0 to find 48 in 100 numbers.
Testing took 0 to find 48 in 100 numbers.
 
C:\user&gt;java ExceptionTester 1000
exceptions took 16 to find 524 in 1000 numbers.
Testing took 0 to find 524 in 1000 numbers.
 
C:\user&gt;java ExceptionTester 10000
exceptions took 109 to find 4989 in 10000 numbers.
Testing took 0 to find 4989 in 10000 numbers.
 
C:\user&gt;java ExceptionTester 100000
exceptions took 1297 to find 50156 in 100000 numbers.
Testing took 15 to find 50156 in 100000 numbers.
 
C:\user&gt;java ExceptionTester 1000000
exceptions took 13719 to find 500027 in 1000000 numbers.
Testing took 46 to find 500027 in 1000000 numbers.
 
C:\user&gt;java ExceptionTester 10000000
exceptions took 149906 to find 4999761 in 10000000 numbers.
Testing took 563 to find 4999761 in 10000000 numbers.
</textarea></span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Joel McNary, Bartender<br />
  on <span class="lastPostTime">Jun 28, 2005 11:08:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">And as for your example, that actually makes for a pretty poor user interface (no slight intended; it just is not a good design).<br />  <br /> What you would want to do in that case is the following:<br />  <br /> <textarea name="code" class="java" cols="60" rows="10">
int userSelectedIndex = getInputFromUser();
while(userSelectedIndex &lt; 0 &#0124;&#0124; userSelectedIndex &gt;= items.length){
   System.out.println("Invalid value");
   userSelectedIndex = getInputFromUser();
}
return items[userSeletedIndex];
</textarea><br />  <br /> Or, even better, move the validation logic to the getInputFromUser method:<br /> <textarea name="code" class="java" cols="60" rows="10">
int userSelectedIndex = getInputFromUser(0, items.length);
return items[userSelectedIndex];
</textarea><br />  <br /> That way, you know that the userSelectedIndex is valid; there's no need to catch the exception.  As a general rule, RuntimeExceptions should not be caught (there are exceptions...)  A RuntimeException shows some basic flaw in the programming logic; not all pathways were considered.  Catching these don't solve the root problem; they just mask it.</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Archies Gomes, Ranch Hand<br />
  on <span class="lastPostTime">Jun 28, 2005 11:31:00</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Hi joel,<br /> Its really nice of you to give such a really live example.....I really appriciate that....Thanks neways.</span>
    </div>
 <br />



<br />


               <input type="button" value="Reply" onclick="location.href='/forums/posts/reply/0/400053'" />
	

    <input type="button" value="New Topic" onclick="location.href='/jforum?module=posts&amp;action=insert&amp;forum_id=33'" />






<br /><br />


<br />

<div class="gensmall center">
All times above are in ranch (not your local) time.<br />
The current ranch time is <br />
<span class="mobileLabel">Dec 13, 2013 16:39:20</span>.
</div>
<br />
<div>
  <a id="search" href="/forums/search/filters/33"><span class="mobileLabel">Search</span></a>
  |
<a href="/forums/recentTopics/list"><span class="mobileLabel">Recent Topics</span></a>
</div>

 <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ?  "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
 <script type="text/javascript">
    if (typeof _gat !== "undefined") {
        var pageTracker = _gat._getTracker("UA-2371260-2");
        pageTracker._trackPageview();

        dt = new Date();
        pageTracker._setVar("hour: " + dt.getHours());
    }
</script>

<br />
<div>Copyright &copy; 1998-2013 <a href="http://www.javaranch.com/paul-wheaton.jsp">Paul Wheaton</a></div>
<br />
<a name="bottom"></a>
<a href="#top"><img src="/templates/default/mobile/images/up_arrow.gif" width="10" height="10" alt="Jump to top of page" /></a>
<br />
<a href="http://www.coderanch.com/t/400053/java/java/division?nonMobile=true">Or visit our non-mobile (full) site</a>
</body>
</html>
