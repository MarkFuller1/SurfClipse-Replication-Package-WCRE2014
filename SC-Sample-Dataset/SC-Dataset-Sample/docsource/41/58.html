<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<style type="text/css">
@import url( /templates/default/mobile/styles/mobile.css?1386831159603 ) ;
</style>

<meta name="viewport" content="width = 320" />

<title>Jsp Error (JSP forum at JavaRanch)</title>
<link rel="canonical" href="http://www.coderanch.com/t/561919/JSP/java/Jsp-Error"/>
<link rel="alternate" media="handheld" href="http://www.coderanch.com/mobile/t/561919/JSP/java/Jsp-Error?foo=a">
</head>
<body class="en_US">

<a name="top"></a>
<table cellspacing="0" cellpadding="0" border="0">
    <tr>
        <td align="center">
                <a href="/forums/list"><img
                src="/templates/default/mobile/images/mobile-moose.gif"
                vspace="1" border="0" alt="[Logo]" width="100" height="100" /></a>
		</td>
        <td class="logo" valign="center">
          A friendly place for programming greenhorns!
        <a href="#bottom"><img src="/templates/default/mobile/images/down_arrow.gif" width="10" height="10" alt="Jump to bottom of page" /></a>
        </td>
    </tr>
</table>

<p>
  <a id="register" class="mainmenu" href="/forums/user/insert">Register</a> /
  <a id="login" class="mainmenu" href="/forums/user/login">Login</a>
</p>
<a class="maintitle" href="http://www.coderanch.com/forums">Java Forums</a>



&raquo; <a class="maintitle" href="/forums/c/1/java">Java</a> &raquo;
<a class="maintitle" href="/forums/f-50/JSP">JSP</a>
<div class="subject">Jsp Error</div>


  
  <div class="mobilePostBody">
  

  Post by: Asim Aryabhatta, Greenhorn<br />
  on <span class="lastPostTime">Dec 16, 2011 02:54:59</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Hello All,
<br /> 
<br /> I am getting the below error while trying to run the jsp file?
<br /> 
<br /> <textarea name="code" class="java" cols="60" rows="10">
&lt;%@page contentType="image/gif" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
        &lt;title&gt;JSP Page&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%@include file="images/images.jpg" %&gt;
        &lt;h1&gt;Hello World!&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;

</textarea>
<br /> 
<br /> 
<br /> The Error I am getting is: 
<br /> 
<br /> java.io.UTFDataFormatException: PWC6260: Invalid byte 1 of 1-byte UTF-8 sequence.
<br /> 	at org.apache.jasper.xmlparser.UTF8Reader.invalidByte(UTF8Reader.java:646)
<br /> 	at org.apache.jasper.xmlparser.UTF8Reader.read(UTF8Reader.java:521)
<br /> 	at org.apache.jasper.xmlparser.XMLEncodingDetector.load(XMLEncodingDetector.java:1065)
<br /> 	at org.apache.jasper.xmlparser.XMLEncodingDetector.skipString(XMLEncodingDetector.java:1016)
<br /> 	at org.apache.jasper.xmlparser.XMLEncodingDetector.scanXMLDecl(XMLEncodingDetector.java:1274)
<br /> 	at org.apache.jasper.xmlparser.XMLEncodingDetector.getEncoding(XMLEncodingDetector.java:160)
<br /> 	at org.apache.jasper.xmlparser.XMLEncodingDetector.getEncoding(XMLEncodingDetector.java:148)
<br /> 	at org.apache.jasper.compiler.ParserController.determineSyntaxAndEncoding(ParserController.java:381)
<br /> 	at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:215)
<br /> 	at org.apache.jasper.compiler.ParserController.parse(ParserController.java:161)
<br /> 	at org.apache.jasper.compiler.Parser.processIncludeDirective(Parser.java:394)
<br /> 	at org.apache.jasper.compiler.Parser.parseIncludeDirective(Parser.java:431)
<br /> 	at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:574)
<br /> 	at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1652)
<br /> 	at org.apache.jasper.compiler.Parser.parse(Parser.java:185)
<br /> 	at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)
<br /> 	at org.apache.jasper.compiler.ParserController.parse(ParserController.java:145)
<br /> 	at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:212)
<br /> 	at org.apache.jasper.compiler.Compiler.compile(Compiler.java:451)
<br /> 	at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:625)
<br /> 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
<br /> 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:492)
<br /> 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:378)
<br /> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
<br /> 	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1539)
<br /> 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:281)
<br /> 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
<br /> 	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
<br /> 	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
<br /> 	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:98)
<br /> 	at com.sun.enterprise.web.PESessionLockingStandardPipeline.invoke(PESessionLockingStandardPipeline.java:91)
<br /> 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:162)
<br /> 	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:330)
<br /> 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)
<br /> 	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:174)
<br /> 	at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:828)
<br /> 	at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:725)
<br /> 	at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1019)
<br /> 	at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:225)
<br /> 	at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
<br /> 	at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
<br /> 	at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
<br /> 	at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
<br /> 	at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
<br /> 	at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
<br /> 	at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
<br /> 	at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
<br /> 	at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
<br /> 	at java.lang.Thread.run(Thread.java:619)
<br /> 
<br /> 
<br /> Please help...
<br /> 
<br /> </span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Suraj Jadhav, Greenhorn<br />
  on <span class="lastPostTime">Dec 16, 2011 03:09:40</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">I think instead of writing this code in JSP you can also make it as html file. But to resolve your error try removing line no 5 if there is not a requirement of specific encoding type(UTF-8). Also check your respective xml configuration file because from the exception it look like error is getting while parsing xml file.</span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Bear Bibeault, Marshal<br />
  on <span class="lastPostTime">Dec 16, 2011 10:04:45</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">Why on earth would you be trying to set the content type of an HTML page to "image/gif"?  <img src="http://cache-www.coderanch.com/images/smilies/385970365b8ed7503b4294502a458efa.gif" /> </span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Stefan Evans, Bartender<br />
  on <span class="lastPostTime">Dec 18, 2011 12:24:24</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">The actual error is caused because you are using &lt;%@ include %&gt; to include an image file.
<br /> Your computer happily does this, tries to parse the result as a JSP page, and understandably spits the dummy after finding binary crap in there.
<br /> 
<br /> If you want to serve a web page with an embedded image, use the html &lt;img&gt; tag to include the image rather than &lt;%@ include %&gt;
<br /> ie:
<br /> <textarea name="code" class="java" cols="60" rows="10"> &lt;body&gt;  
         &lt;img src=&quot;images/images.jpg&quot;&gt;  
         &lt;h1&gt;Hello World!&lt;/h1&gt;  
&lt;/body&gt;</textarea>  
<br /> 
<br /> If you want to serve an image, use an ImageServlet rather than a JSP, as the text a JSP sends will just corrupt the binary data of the image.
<br /> 
<br /> 
<br /> 
<br /> </span>
    </div>
 <br />



  
  <div class="mobilePostBody">
  

  Post by: Bear Bibeault, Marshal<br />
  on <span class="lastPostTime">Dec 18, 2011 12:43:02</span>
  


    
  </div>
  
  
    <div class="mobilePostText">
                        
        <span class="postbody">And <b>only</b> send the image data -- you can't mix HTML and image data as you are trying to do here. What's the intent of <i>that</i>?</span>
    </div>
 <br />



<br />


               <input type="button" value="Reply" onclick="location.href='/forums/posts/reply/0/561919'" />
	

    <input type="button" value="New Topic" onclick="location.href='/jforum?module=posts&amp;action=insert&amp;forum_id=50'" />






<br /><br />


<br />

<div class="gensmall center">
All times above are in ranch (not your local) time.<br />
The current ranch time is <br />
<span class="mobileLabel">Dec 13, 2013 17:12:40</span>.
</div>
<br />
<div>
  <a id="search" href="/forums/search/filters/50"><span class="mobileLabel">Search</span></a>
  |
<a href="/forums/recentTopics/list"><span class="mobileLabel">Recent Topics</span></a>
</div>

 <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ?  "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
 <script type="text/javascript">
    if (typeof _gat !== "undefined") {
        var pageTracker = _gat._getTracker("UA-2371260-2");
        pageTracker._trackPageview();

        dt = new Date();
        pageTracker._setVar("hour: " + dt.getHours());
    }
</script>

<br />
<div>Copyright &copy; 1998-2013 <a href="http://www.javaranch.com/paul-wheaton.jsp">Paul Wheaton</a></div>
<br />
<a name="bottom"></a>
<a href="#top"><img src="/templates/default/mobile/images/up_arrow.gif" width="10" height="10" alt="Jump to top of page" /></a>
<br />
<a href="http://www.coderanch.com/t/561919/JSP/java/Jsp-Error?nonMobile=true">Or visit our non-mobile (full) site</a>
</body>
</html>
