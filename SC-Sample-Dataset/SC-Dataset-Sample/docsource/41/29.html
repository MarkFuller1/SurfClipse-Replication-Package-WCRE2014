<!DOCTYPE html>
<!-- Server: sfn-web-7 -->


  










<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]>--> <html lang="en" class="no-js"> <!--<![endif]-->
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
    <title>
  Saxon XSLT and XQuery Processor / Discussion / 
  Help:java.io.UTFDataFormatException: Invalid byte 
</title>
    
<meta id="webtracker" name="webtracker" content='{&#34;event_id&#34;: &#34;5c99b930-6454-11e3-87e6-0200ac1d2939&#34;, &#34;project&#34;: &#34;saxon&#34;, &#34;action_type&#34;: &#34;discussion&#34;}' />

<script src="http://a.fsdn.com/allura/nf/1386883612/_ew_/theme/sftheme/js/sftheme/modernizr.custom.90514.js"></script>

<script src="http://a.fsdn.com/allura/nf/1386883612/_ew_/theme/sftheme/js/sftheme/jquery-1.8.0.min.js"></script>

<script src="http://a.fsdn.com/allura/nf/1386883612/_ew_/theme/sftheme/js/sftheme/header.js"></script>
<!--[if lt IE 7 ]>
  <script src="http://a.fsdn.com/allura/nf/1386883612/_ew_/theme/sftheme/js/sftheme/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg'); //fix any <img> or .png_bg background-images </script>
<![endif]-->
<link href='//fonts.googleapis.com/css?family=Ubuntu:regular' rel='stylesheet' type='text/css'>
<style type="text/css">
    @font-face {
        font-family: "Pictos";
        src: url('http://a.fsdn.com/allura/nf/1386883612/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.eot');
        src: local("â˜º"), url('http://a.fsdn.com/allura/nf/1386883612/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.woff') format('woff'), url('http://a.fsdn.com/allura/nf/1386883612/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.ttf') format('truetype'), url('http://a.fsdn.com/allura/nf/1386883612/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.svg') format('svg');
    }
</style>
    <script type="text/javascript">
            /*jslint onevar: false, nomen: false, evil: true, css: true, plusplus: false, white: false, forin: true, on: true, immed: false */
            /*global confirm, alert, unescape, window, jQuery, $, net, COMSCORE */
    </script>
    
      <!-- ew:head_css -->

    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1386883612/_ew_/_slim/css?href=allura%2Fcss%2Fforge%2Fhilite.css"
                >
    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1386883612/_ew_/theme/sftheme/css/forge.css"
                >
    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1386883612/_ew_/_slim/css?href=css%2Fpage_list.css%3Bcss%2Fjquery.tagsinput.css%3Bcss%2Fmarkitup_sf.css"
                >
    
      
<!-- /ew:head_css -->

    
    
    
      <!-- ew:head_js -->

    
      
<!-- /ew:head_js -->

    
    

    
      <style type="text/css">
        #page-body.project---init-- #top_nav { display: none; }
#page-body.project---init-- #nav_menu_holder { display: none; margin-bottom: 0; }
#page-body.project---init-- #content_base {margin-top: 0; }
      </style>
    
    
      <style>.XUGJrhuomDxDwuvBtQebqUbI { display:none }</style>

    
    
    
    


<script type="text/javascript">
    var _gaq = _gaq || [];

    function _add_tracking(prefix, tracking_id, send_user) {
        _gaq.push([prefix+'._setAccount', tracking_id]);
        _gaq.push([prefix+'._setCustomVar', 1, 'Page Type', 'discussion', 3]);_gaq.push([prefix+'._trackPageview']);
    }
      _add_tracking('sfnt1', 'UA-32013-6', true);
      _add_tracking('sfnt2', 'UA-36130941-1', true);
    

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' === document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </head>

  <body id="forge">
    
    
      <!-- ew:body_top_js -->

    
      
<!-- /ew:body_top_js -->

    
    
    
<header id="site-header">
    <div class="wrapper">
        <a href="/" class="logo">
            <span>SourceForge</span>
        </a>
        
        <form method="get" action="/directory/">
            <input type="text" id="words" name="q" placeholder="Search">
        </form>
        
        <!--Switch to {language}-->
        <nav id="nav-site">
            <a href="/directory/" title="Browse our software.">Browse</a>
            <a href="/directory/enterprise" title="Browse our Enterprise software.">Enterprise</a>
            <a href="/blog/" title="Read the latest news from the SF HQ.">Blog</a>
            <a href="/support" title="Contact us for help and feedback.">Help</a>
            <a href="/jobs?source=header" title="Search 80k+ tech jobs." class="featured-link">Jobs</a>
        </nav>
        <nav id="nav-account">
            
              <div class="logged_out">
                <a href="/account/login.php">Log In</a>
                <span>or</span>
                <a href="https://sourceforge.net/user/registration/">Join</a>
              </div>
            
        </nav>
        
    </div>
</header>
<header id="site-sec-header">
    <div class="wrapper">
        <nav id="nav-hubs">
            <h4>Solution Centers</h4>
            <a href="http://ibmsmartercommerce.sourceforge.net/">Smarter Commerce</a>
            <a href="http://goparallel.sourceforge.net/">Go Parallel</a>
            <a href="http://html5center.sourceforge.net/">HTML5</a>
            <a href="http://ibmsmarteritservices.sourceforge.net/">Smarter IT</a>
        </nav>
        <nav id="nav-collateral">
            <a href="http://library.slashdotmedia.com/?source=sfnet_header">Resources</a>
            
            <a href="">Newsletters</a>
            
        </nav>
    </div>
</header>
    
    
    
    
        <div id="site-notification">
            <section class="site-message info" data-notification-id="52864aaae837a0eaca328f4e">
                <h1>Just Launched: You can now import projects and releases from Google Code onto SourceForge</h1> <p>We are excited to release new functionality to enable a 1-click import from Google Code onto the Allura platform on SourceForge. You can import tickets, wikis, source, releases, and more with a few simple steps. <a class="btn call-to-action" href="https://sourceforge.net/p/forge/documentation/Google%20Code%20Importer/">Read More</a></p>
                <a href="" class="btn btn-close">Close</a>
            </section>
        </div>
    
    
    <section id="page-body" class=" neighborhood-Projects project-saxon mountpoint-discussion">
	  <div id="nav_menu_holder">
            
            



    
    
    
    <nav id="breadcrumbs">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/directory">Browse</a></li>
            
            
            
                
            
            
                
                    <li><a href="/directory/internet/">Internet</a></li>
                
            
                
                    <li><a href="/directory/internet/www/">WWW/HTTP</a></li>
                
            
                
                    <li><a href="/directory/internet/www/dynamic/">Dynamic Content</a></li>
                
            
                
                    <li>Discussion</li>
                
            
        </ul>
    </nav>
    
  
      
    
    <div id="LeadGen_Developer_page" class="ad">
    <iframe height="70" width="384"
        src="/static/ads/iframe_ad.html?position=LeadGen_Developer_page&amp;ad=%2F%2Fad.doubleclick.net%2FN4140%2Fadj%2Fostg.sourceforge%2FLeadGen_Developer_page%3Bsz%3D384x70%3Blogged_in%3D0%3Btile%3D1%3Bu%3De%253A5c99b930-6454-11e3-87e6-0200ac1d2939%3Bord%3D8058401409624133%3F&amp;class="
        seamless frameborder="0" scrolling="no"></iframe>
    <noscript><a href="//ad.doubleclick.net/N4140/jump/ostg.sourceforge/LeadGen_Developer_page;sz=384x70;logged_in=0;tile=1;u=e%3A5c99b930-6454-11e3-87e6-0200ac1d2939;ord=8058401409624133?"><img src="//ad.doubleclick.net/N4140/ad/ostg.sourceforge/LeadGen_Developer_page;sz=384x70;logged_in=0;tile=1;u=e%3A5c99b930-6454-11e3-87e6-0200ac1d2939;ord=8058401409624133?" width="384" height="70" /></a></noscript>
    </div>
  
    
      <img src="/p/saxon//icon?2013-02-19 11:22:13+00:00" class="project_icon" alt="Project Logo">
    
    <h1 class="project_title">
      <a href="/p/saxon/" class="project_link">Saxon XSLT and XQuery Processor</a>
    </h1>
    
    
    
    <h2 class="project_summary with-icon">
        The Saxon XSLT and XQuery processor, developed by Saxonica
    </h2>
    <div class="brought-by with-icon">
        Brought to you by:
        
        
            
                <a href="/u/mhkay/">mhkay</a>
            </div>

            
      </div>
      <div id="top_nav" class="">
        
        
<ul class="dropdown">
  
    <li class="">
        <a href="/projects/saxon/" class="ui-icon-tool-summary">
            Summary
        </a>
        
        
    </li>
	
    <li class="">
        <a href="/projects/saxon/files/" class="ui-icon-tool-files">
            Files
        </a>
        
        
    </li>
	
    <li class="">
        <a href="/projects/saxon/reviews" class="ui-icon-tool-reviews">
            Reviews
        </a>
        
        
    </li>
	
    <li class="">
        <a href="/projects/saxon/support" class="ui-icon-tool-support">
            Support
        </a>
        
        
    </li>
	
    <li class="">
        <a href="/p/saxon/wiki/" class="ui-icon-tool-wiki">
            Wiki
        </a>
        
        
    </li>
	
    <li class="">
        <a href="/p/saxon/mailman/" class="ui-icon-tool-mailman">
            Mailing Lists
        </a>
        
        
    </li>
	
    <li class="">
        <a href="/p/saxon/_list/hosted_apps" class="ui-icon-tool-hosted_apps">
            Hosted Apps â–¾
        </a>
        
        
            <ul>
                
                    <li class=""><a href="http://sourceforge.net/apps/mediawiki/saxon/">MediaWiki</a></li>
                
                    <li class=""><a href="http://sourceforge.net/apps/piwik/saxon/">Piwik</a></li>
                
            </ul>
        
    </li>
	
    <li class="">
        <a href="/p/saxon/code/" class="ui-icon-tool-svn">
            Code
        </a>
        
        
    </li>
	
    <li class="">
        <a href="/p/saxon/_list/tickets" class="ui-icon-tool-tickets">
            Tickets â–¾
        </a>
        
        
            <ul>
                
                    <li class=""><a href="/p/saxon/bugs/">Bugs</a></li>
                
                    <li class=""><a href="/p/saxon/feature-requests/">Feature Requests</a></li>
                
                    <li class=""><a href="/p/saxon/extensions/">Extensions</a></li>
                
                    <li class=""><a href="/p/saxon/support-requests/">Support Requests</a></li>
                
                    <li class=""><a href="/p/saxon/patches/">Patches</a></li>
                
            </ul>
        
    </li>
	
    <li class="">
        <a href="/p/saxon/news/" class="ui-icon-tool-blog">
            News
        </a>
        
        
    </li>
	
    <li class="selected">
        <a href="/p/saxon/discussion/" class="ui-icon-tool-discussion">
            Discussion
        </a>
        
        
    </li>
	
    <li class="">
        <a href="/p/saxon/donate/" class="ui-icon-tool-link">
            Donate
        </a>
        
        
    </li>
	
</ul>

        
      </div>
      <div id="content_base">
			  
			    
          


<div id="sidebar">
  
    <form id="search" method="GET" action="/p/saxon/discussion/search/">
      <input name="q" type="text" title="Search Discussion" placeholder="Search Discussion">
    </form>
  
    
    
      
        
    
      <ul class="sidebarmenu">
      
    
    <li>
      <a href="/p/saxon/discussion/create_topic/94027"><b data-icon="+" class="ico ico-plus"></b> <span>Create Topic</span></a>
    </li>
  
      
        
    
    <li>
      <a href="/p/saxon/discussion/stats"><b data-icon="Y" class="ico ico-stats"></b> <span>Stats Graph</span></a>
    </li>
  
      
        
    
      </ul>
      
    
    
      <h3 class="">Forums</h3>
    
  
      
        
    
      <ul class="sidebarmenu">
      
    
    <li>
      <a href="/p/saxon/discussion/130181/"><span class="has_small">saxon-help</span><small>29</small></a>
    </li>
  
      
        
    
    <li>
      <a href="/p/saxon/discussion/94027/"><span class="has_small">Help</span><small>1734</small></a>
    </li>
  
      
        
    
    <li>
      <a href="/p/saxon/discussion/94026/"><span class="has_small">Open Discussion</span><small>178</small></a>
    </li>
  
      
        
    
      </ul>
      
    
    
      <h3 class="">Help</h3>
    
  
      
        
    
      <ul class="sidebarmenu">
      
    
    <li>
      <a href="/p/saxon/discussion/markdown_syntax"><span>Formatting Help</span></a>
    </li>
  
      
    
    
      </ul>
      
    
    
</div>
          
          
			  
			  
          
        
        <div class="grid-20 pad">
          <h2 class="dark title">java.io.UTFDataFormatException: Invalid byte 
            <!-- actions -->
            <small>
            
  
  <a href="#" title="Label This" class="thread_tag"><b data-icon="z" class="ico ico-tag"></b></a>
  <a href="feed.rss" class="thread_feed0" title="Follow This"><b data-icon="f" class="ico ico-feed"></b></a>

            </small>
            <!-- /actions -->
          </h2>
		
  <div class="editbox">

<div class="grid-5"><label>Forum:</label> <a href="/p/saxon/discussion/94027/">Help</a></div>

  <div class="grid-5"><label>Creator:</label> 
        
            <a href="/u/netbeansfan/">
                
                    Jack Bush
                
            </a>
        
    </div>
  <div class="grid-4"><label>Created:</label> 
    <span title="Tue Aug 17, 2010 02:51 AM UTC">
      2010-08-17
    </span>
</div>

<div class="grid-5"><label>Updated:</label> 
    <span title="Mon Oct 08, 2012 03:43 PM UTC">
      2012-10-08
    </span>
</div>



</div>

          <div>
            
            
  

<div>
                <div class="row">
                        <div class="column grid_12">
      
        <div>
  <div class="page_list">
    
    
  </div>
  <div class="clear"></div>
</div>
      
      <div id="comment">
        
          
            
            <ul>
              <!-- post_thread -->
<li>



  



<div>
  <div id="bfcb" class="discussion-post">
    <div class="row">
      <div class="grid-2 tcenter gravatar">
       <p class="gravatar">
        
        
  
    <img src="https://secure.gravatar.com/avatar/b2393bcf32dd6e407b54d7712d06b9d2?r=pg"
         alt="Jack Bush"
         title="Jack Bush"
         class="emboss x48">
  <br>
        <small>
            
        
            <a href="/u/netbeansfan/">
                
                    Jack Bush
                
            </a>
        
    
        </small>
        <br>
        <small>
    <span title="Tue Aug 17, 2010 02:51 AM UTC">
      2010-08-17
    </span>
</small>
       </p>
      </div>
      <div class="grid-14" style="width: 525px">
        <div class="display_post">
          
            
            <div class="markdown_content"><p>This is nothing to do with JDOM - you are on the wrong list. The problem<br />
is with a document that is being read using the document() function<br />
within your Saxon stylesheet. The error means that the XML parser is<br />
trying to read the document ("car.xml") as UTF-8, but it contains byte<br />
combinations that are not valid in UTF-8.<br />
</p>
<p>You need to change the XML declaration of car.xml so that it correctly<br />
describes the actual encoding of the file.<br />
</p>
<p>Michael Kay<br />
Saxonica<br />
</p>
<p>On 16/08/2010 14:30, Jack Bush wrote:<br />
</p>
<blockquote>
<p>Hi All,<br />
</p>
<p>I am getting the following error when reading secondary xml documents using<br />
document() in XSLT 2.0 stylesheet from within an EJB (Glassfish 2.1)<br />
container:<br />
</p>
<p>Recoverable error on line 8<br />
FODC0002: java.io.UTFDataFormatException: Invalid byte 1 of 1-byte UTF-8<br />
sequence.<br />
</p>
<p>The transformation snippet in Java is as follows:<br />
</p>
<p>TransformerFactory transformerFactory = new<br />
net.sf.saxon.TransformerFactoryImpl();<br />
transformerFactory.setAttribute("<a class="" href="http://saxon.sf.net/feature/sourceParserClass">http://saxon.sf.net/feature/sourceParserCl<br />
ass</a>","org.apache.xml.resolver.<br />
tools.ResolvingXMLReader");<br />
</p>
<p>FileInputStream stylesheet = new FileInputStream("C:/stylesheet.xsl");<br />
Transformer transformer = transformerFactory.newTransformer(new<br />
StreamSource(stylesheet));<br />
JDOMSource source = new JDOMSource(mainJDomDocument);<br />
JDOMResult result = new JDOMResult();<br />
</p>
<p>transformer.transform(source, result);<br />
</p>
<p>The relevant lines in C:/stylesheet.xsl is:<br />
</p>
<p>1&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;<br />
2<br />3 xmlns:xsl="<a class="" href="http://www.w3.org/1999/X
SL/Transform" rel="nofollow">http://www.w3.org/1999/XSL/Transform</a>"<br />4 xmlns:xs="<a class="" href="http://www.w3.org/2001/XMLSch
ema" rel="nofollow">http://www.w3.org/2001/XMLSchema</a>"<br />5 exclude-result-prefixes="ns"><br />
6<br />
7<br />
8<br />
...........<br />
15<br />
16<br />
17<br />
18 .........<br />
</p>
<p>All xml documents have been encoded with UTF-8. Changing encoding on<br />
C:/stylesheet.xsl to UTF-8 or using InputStreamReader(styleSheetIS,"UTF-8")<br />
did<br />
not make any difference. This application have been working fine until it<br />
is moved into an EJB 3.0 (Glassfish 2.1) container. It appears that it is<br />
the<br />
EJB container which has overrided the way these secondary documents have<br />
been<br />
read using a different method that checks the encoding. I believe from other<br />
threats that the same issue also occur in a web container as well.<br />
</p>
<p>I am running JDK 1.6.0_17, Netbeans 6.7, XSLT 2.0 (Saxon 9.1), JDOM 1.1 on<br />
Windows XP.<br />
</p>
<p>Any suggestion would be appreciated.<br />
</p>
<p>Thanks a lot,<br />
</p>
<p>Jack<br />
</p>
</blockquote></div>&nbsp;
            
  
            
          
        </div>
        
        
        
        </div>
        <div class="options grid-3">
        
        <div style="clear:both">
            <div class="little_link">
                <a href="http://sourceforge.net/p/saxon/discussion/94027/thread/275da254/#bfcb" class="little_link shortlink"><span>Link</span></a><br/>
                
            </div>
            
          
        </div>
      </div>
      <div class="shortlink_popup modal" style="display: none">
        <b data-icon="D" class="ico ico-close close"></b>
        If you would like to refer to this comment somewhere else in this project, copy and paste the following link:
        <input type="text" style="width:100%" value="http://sourceforge.net/p/saxon/discussion/94027/thread/275da254/#bfcb">
      </div>
    </div>
    <ul>
      <li>
        
      </li>
    </ul>
  </div>

  
</div>


<style type="text/css">
    div.moderate {
        color:grey;
    }
</style>

    <!-- post_thread replies -->
    <ul>
    </ul>
    <!-- post_thread /replies -->
</li>
<!-- /post_thread -->
            </ul>
            
            <ul>
              <!-- post_thread -->
<li>



  



<div>
  <div id="2b50" class="discussion-post">
    <div class="row">
      <div class="grid-2 tcenter gravatar">
       <p class="gravatar">
        
        
  
    <img src="https://secure.gravatar.com/avatar/b2393bcf32dd6e407b54d7712d06b9d2?r=pg"
         alt="Jack Bush"
         title="Jack Bush"
         class="emboss x48">
  <br>
        <small>
            
        
            <a href="/u/netbeansfan/">
                
                    Jack Bush
                
            </a>
        
    
        </small>
        <br>
        <small>
    <span title="Tue Aug 17, 2010 02:59 AM UTC">
      2010-08-17
    </span>
</small>
       </p>
      </div>
      <div class="grid-14" style="width: 525px">
        <div class="display_post">
          
            
            <div class="markdown_content"><p>Hi Michael,<br />
</p>
<p>Thank you for clarifying where this issue is coming from. Nevertheless, I<br />
don't understand why car.xml is not UTF-8 encoded unless Saxon with TagSoup<br />
parser has changed car.xml format (not sure) when converting from html while<br />
running in the EJB container.<br />
</p>
<p>car.xml looks the same as one produced outside EJB container that has worked<br />
(lots of text). Can you suggest a method to track down where this issue is<br />
coming from? ie test the validity of car.xml for UTF-8 encoding. Once again,<br />
car.xml has been generated by Saxon &amp; TagSoup and read by document() in UTF-8<br />
encoded format without a problem outside EJB container.<br />
</p>
<p>I found post <a class="" href="http://null" rel="nofollow">http://www.ibm.com/developerworks/forums/thread.jspa?messageID=1<br />
4156807</a> which appears to resemble this issue. Have posted the<br />
same question to Glassfish forum to see if they could assist from a Java EE 5<br />
perspective.<br />
</p>
<p>I am doing my best not to cross post as much as possible.<br />
</p>
<p>As always, very much appreciated for your valuable advice.<br />
</p>
<p>Thanks,<br />
</p>
<p>Jack</p></div>&nbsp;
            
  
            
          
        </div>
        
        
        
        </div>
        <div class="options grid-3">
        
        <div style="clear:both">
            <div class="little_link">
                <a href="http://sourceforge.net/p/saxon/discussion/94027/thread/275da254/#2b50" class="little_link shortlink"><span>Link</span></a><br/>
                
            </div>
            
          
        </div>
      </div>
      <div class="shortlink_popup modal" style="display: none">
        <b data-icon="D" class="ico ico-close close"></b>
        If you would like to refer to this comment somewhere else in this project, copy and paste the following link:
        <input type="text" style="width:100%" value="http://sourceforge.net/p/saxon/discussion/94027/thread/275da254/#2b50">
      </div>
    </div>
    <ul>
      <li>
        
      </li>
    </ul>
  </div>

  
</div>


<style type="text/css">
    div.moderate {
        color:grey;
    }
</style>

    <!-- post_thread replies -->
    <ul>
    </ul>
    <!-- post_thread /replies -->
</li>
<!-- /post_thread -->
            </ul>
            
          
        
      </div>
      <div style="clear:both"></div>
      
      <div style="clear:both"></div>
    </div>
  </div>
</div>


          </div>
			
          
        </div>
      </div>
    </section>
      
<footer id="site-footer">
    <div class="wrapper">
        <nav>
            <h5>SourceForge</h5>
            <a href="/about">About</a>
            <a href="/blog/category/sitestatus/">Site Status</a>
            <a href="http://twitter.com/sfnet_ops">@sfnet_ops</a>
        </nav>
        <nav>
            <h5>Find and Develop Software</h5>
            <a href="/create/">Create a Project</a>
            <a href="/directory/">Software Directory</a>
            <a href="/top">Top Downloaded Projects</a>
        </nav>
        <nav>
            <h5>Community</h5>
            <a href="/blog/">Blog</a>
            <a href="http://twitter.com/sourceforge">@sourceforge</a>
            <a href="/jobs?source=footer">Job Board</a>
            <a href="http://library.slashdotmedia.com/?source=sfnet_footer">Resources</a>
        </nav>
        <nav>
            <h5>Help</h5>
            <a href="http://p.sf.net/sourceforge/docs">Site Documentation</a>
            <a href="/support">Support Request</a>
            <a href="http://p.sf.net/sourceforge/irc">Real-Time Support</a>
        </nav>
    </div>
</footer>
<footer id="site-copyright-footer">
    <div class="wrapper">
        <div id="copyright">
            Copyright &copy; 2013 SourceForge. All Rights Reserved.<br />
            SourceForge is a <a href="http://www.diceholdingsinc.com/phoenix.zhtml?c=211152&amp;p=irol-landing">Dice Holdings, Inc.</a> company.
        </div>
        <nav>
            <a href="http://slashdotmedia.com/terms-of-use">Terms</a>
            <a href="http://slashdotmedia.com/privacy-statement/">Privacy</a>
            <a href="http://slashdotmedia.com/opt-out-choices">Cookies/Opt Out</a>
            <a href="http://slashdotmedia.com">Advertise</a>
            <a href="http://sourceforge.jp/">SourceForge.JP</a>
        </nav>
    </div>
</footer>
    <div id="messages">
        
    </div>
    
    
      <!-- ew:body_js -->

    
      <script type="text/javascript" src="http://a.fsdn.com/allura/nf/1386883612/_ew_/_slim/js?href=allura%2Fjs%2Fjquery-base.js%3Ballura%2Fjs%2Fjquery.notify.js%3Ballura%2Fjs%2Fsylvester.js%3Ballura%2Fjs%2Fpb.transformie.min.js%3Ballura%2Fjs%2Fallura-base.js%3Bjs%2Fjquery.tagsinput.js%3Bjs%2Fjquery.autosize-min.js%3Bjs%2Fjquery.lightbox_me.js%3Bjs%2Fjquery.textarea.js%3Bjs%2Fsf_markitup.js"></script>
    
      
<!-- /ew:body_js -->

    
    
      <!-- ew:body_js_tail -->

    
      <script type="text/javascript">$(function () {
          $('input.label_edit').tagsInput({
              'height':'100%',
              'width':'100%',
              'autocomplete_url':'/p/saxon/discussion/tags'
          });
          $('form').on('blur', '.ui-autocomplete-input', function() {
              setTimeout(function(){
                  var clicked = $(document.activeElement); // This is the element that has focus
                  if (clicked.is('#ui-active-menuitem')) {
                      return false;
                  } else {
                      var value = $('div.tagsinput div input').val();
                      var exists = $('input.label_edit').tagExist(value);
                      var default_value = $('div.tagsinput div input').attr('data-default');
                      if ((value !== default_value) && (!exists) && value !== '') {
                          $('input.label_edit').addTag(value);
                      }
                      $('input[type=submit]', this).attr('disabled', 'disabled');
                  }
                }, 1);
            });
        });
$(function () {
            $('select.results_per_page').change(function () {
                this.form.submit();});});
$(function () {
            $('textarea.auto_resize').focus(function(){$(this).autosize();});
        });
$(document).ready(function () {
            $("a.attachment_form_add_button").click(function(evt){
                $(this).hide();
                $(".attachment_form_fields", this.parentNode).show();
                evt.preventDefault();
            });
            $("a.cancel_edit_post").click(function(evt){
                $("textarea", this.parentNode).val($("input.original_value", this.parentNode).val());
                $(".attachment_form_fields input", this.parentNode).val('');
                evt.preventDefault();
            });
         });

        (function () {
            $('div.discussion-post').each(function () {
                var post = this;
                $('.submit', post).button();
                $('.flag_post', post).click(function (ele) {
                    this.parentNode.submit();
                    return false;
                });
                $('.moderate_post', post).click(function(e){
                    e.preventDefault();
                    var mod = $(this).text();
                    if (mod === 'Delete' && !confirm('Really delete this post?')) {
                        return;
                    }
                    var id_post = $(post).attr('id');
                    $.ajax({
                        type: 'POST',
                        url: this.parentNode.action,
                        data: jQuery(this.parentNode).serialize(),
                        success: function() {
                            if (mod == 'Delete'){
                                $(post).remove();
                            }
                            else if (mod == 'Approve'){
                                $('a.reply_post, a.shortlink, form.moderate_spam, form.moderate_approve', post).toggle();
                                $('div.moderate', post).removeClass('moderate');
                            }
                            else if (mod == 'Spam'){
                                $(post).remove();
                            }
                        }
                    });
                });

                if($('a.edit_post', post)){
                    $('a.edit_post', post).click(function (ele) {
                        $('.display_post', post).hide();
                        $('.edit_post_form', post).show();
                        $('.edit_post_form textarea', post).focus();
                        return false;
                    });
                    $("a.cancel_edit_post", post).click(function(evt){
                        $('.display_post', post).show();
                        $('.edit_post_form', post).hide();
                    });
                }
                if($('.reply_post', post)){
                    $('.reply_post', post).click(function (ele) {
                        $('.reply_post_form', post).show();
                        $('.reply_post_form textarea', post).focus();
                        return false;
                    });
                    $('.reply_post', post).button();
                }
                if($('.add_attachment', post)){
                    $('.add_attachment', post).click(function (ele) {
                        $('.add_attachment_form', post).show();
                        return false;
                    });
                }
                if($('.promote_to_thread', post)){
                    $('.promote_to_thread', post).click(function (ele) {
                        $('.promote_to_thread_form', post).show();
                        return false;
                    });
                }
                if($('.shortlink', post)){
                    var popup = $('.shortlink_popup', post);
                    $('.shortlink', post).click(function(evt){
                        evt.preventDefault();
                        popup.lightbox_me({
                            onLoad: function() {
                                $('input', popup).select();
                            }
                        });
                    });
                    $('.close', popup).bind('click', function() {
                        popup.hide();
                    });
                }
            });
        }());
        

        $(document).ready(function () {
            var thread_tag = $('a.thread_tag');
            var thread_spam = $('a.sidebar_thread_spam');
            var tag_thread_holder = $('#tag_thread_holder');
            var allow_moderate = $('#allow_moderate');
            var mod_thread_link = $('#mod_thread_link');
            var mod_thread_form = $('#mod_thread_form');
            if (mod_thread_link.length) {
                if (mod_thread_form.length) {
                    mod_thread_link.click(function (e) {
                        mod_thread_form.show();
                        return false;
                    });
                }
            }
            if (thread_tag.length) {
                if (tag_thread_holder.length) {
                    var submit_button = $('input[type="submit"]', tag_thread_holder);
                    var cancel_button = $('<a href="#" class="btn link">Cancel</a>').click(function(evt){
                        evt.preventDefault();
                        tag_thread_holder.hide();
                        thread_tag.removeClass('active');
                    });
                    submit_button.after(cancel_button);
                    thread_tag.click(function (e) {
                        tag_thread_holder.show();
                        thread_tag.addClass('active');
                        // focus the submit to scroll to the form, then focus the subject for them to start typing
                        submit_button.focus();
                        $('input[type="text"]', tag_thread_holder).focus();
                        return false;
                    });
                }
            }
            if (thread_spam.length) {
                if (allow_moderate.length) {
                    var cval = $.cookie('_session_id');
                    thread_spam[0].style.display='block';
                }
            }
        });
        </script>
    
      
<!-- /ew:body_js_tail -->

    
    
    
      
    
    
   
    <script src="//s.fsdn.com/con/js/webtracker.js" type="text/javascript"></script>
    <!-- Google Code for Remarketing tag -->
    <!-- Remarketing tags may not be associated with personally identifiable information or placed on pages related to sensitive categories. For instructions on adding this tag and more information on the above requirements, read the setup guide: google.com/ads/remarketingsetup -->
    <script type="text/javascript">
        /* <![CDATA[ */
        var google_conversion_id = 1002083962;
        var google_conversion_label = "G_uGCOaBlAQQ-qzq3QM";
        var google_custom_params = window.google_tag_params;
        var google_remarketing_only = true;
        /* ]]> */
    </script>
    <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"> </script>
    <noscript>
      <div style="display:inline;">
        <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1002083962/?value=0&amp;label=G_uGCOaBlAQQ-qzq3QM&amp;guid=ON&amp;script=0"/>
      </div>
    </noscript>
    
  </body>
</html>
