<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en" id="vbulletin_html"> <head>
<base href="http://objectmix.com/" /><!--[if IE]></base><![endif]--> <link rel="canonical" href="http://objectmix.com/apache/682577-invalid-byte-2-2-byte-utf-8-sequence.html" /> <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /> <meta id="e_vb_meta_bburl" name="vb_meta_bburl" content="http://objectmix.com" /> <meta name="generator" content="vBulletin 4.1.3" /> <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/yui/2.9.0/build/yuiloader-dom-event/yuiloader-dom-event.js?v=413"></script> <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/yui/2.9.0/build/connection/connection-min.js?v=413"></script> <script type="text/javascript"> <!--
	var SESSIONURL = "s=5a66a991bf5492abb9a1d8a6fa9f7359&";
	var SECURITYTOKEN = "guest";
	var IMGDIR_MISC = "http://idn.infnx.com/bv314/misc";
	var IMGDIR_BUTTON = "http://idn.infnx.com/bv314/buttons";
	var vb_disable_ajax = parseInt("0", 10);
	var SIMPLEVERSION = "413";
	var BBURL = "http://objectmix.com";
	var LOGGEDIN = 0 > 0 ? true : false;
	var THIS_SCRIPT = "showthread";
        var RELPATH = "showthread.php?t=682577";
        var PATHS = {forum : ""}
// --> </script> <script type="text/javascript" src="http://c.objectmix.com/bv413/objectmixcs/vbulletin-core.js?v=413"></script> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/main-rollup.css?d=1309665234" /> <!--[if lt IE 8]> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/popupmenu-ie.css?d=1309665234" /> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/vbulletin-ie.css?d=1309665234" /> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/vbulletin-chrome-ie.css?d=1309665234" /> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/vbulletin-formcontrols-ie.css?d=1309665234" /> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/editor-ie.css?d=1309665234" /> <![endif]--> <script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'> </script> <script type='text/javascript'>
GS_googleAddAdSenseService("ca-pub-0903475642738804");
GS_googleEnableAllServices();
</script> <script type='text/javascript'>
GA_googleAddSlot("ca-pub-0903475642738804", "ObjectMix-Bottom-Center");
GA_googleAddSlot("ca-pub-0903475642738804", "ObjectMix-Middle-Left");
GA_googleAddSlot("ca-pub-0903475642738804", "ObjectMix-Top-Center");
</script> <script type='text/javascript'>
GA_googleFetchAds();
</script> <meta name="description" content="Hi, when connecting an Axis-C client (v1.5) to an Axis-java webservice, the return message has the following error: &lt;soapenv:Fault&gt; &lt;faultcode" /> <title> Invalid byte 2 of 2-byte UTF-8 sequence?</title> <link rel="canonical" href="http://objectmix.com/apache/682577-invalid-byte-2-2-byte-utf-8-sequence.html" /> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/showthread-rollup.css?d=1309665234" /> <!--[if lt IE 8]><link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/toolsmenu-ie.css?d=1309665234" /> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/postlist-ie.css?d=1309665234" /> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/showthread-ie.css?d=1309665234" /> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/postbit-ie.css?d=1309665234" /> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/poll-ie.css?d=1309665234" /><![endif]--> <link rel="stylesheet" type="text/css" href="http://c.objectmix.com/bv413/objectmixcs/vbulletin_css/style00009l/additional.css?d=1309665234" /> <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script> 
<script type="text/javascript"><!--
window.google_analytics_uacct = 'UA-243917-8'; window.google_analytics_domain_name='.objectmix.com'; var _gaq = _gaq || []; _gaq.push(['_setDomainName', '.objectmix.com'], ['_setAccount', 'UA-243917-8'], ['_setVar', 'usergroup-1-Unregistered / Not Logged In'], ['_trackPageview'], ['_trackPageLoadTime']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();
//--></script>
</head> <body> <div class="above_body">  <div id="header" class="floatcontainer doc_header"> <div><a name="top" href="/" class="logo-image"><img src="http://idn.infnx.com/objectmix/objectmix-logo.png" alt="Application Forum at ObjectMix.com" /></a></div> <div id="toplinks" class="toplinks"> <ul class="nouser"> <li><a rel="help" href="http://objectmix.com/faq.php">Help</a></li> <li> <script type="text/javascript" src="http://c.objectmix.com/bv413/objectmixcs/vbulletin_md5.js?v=413"></script> <form id="navbar_loginform" action="http://objectmix.com/login.php?do=login" method="post" onsubmit="md5hash(vb_login_password, vb_login_md5password, vb_login_md5password_utf, 0)"> <fieldset id="logindetails" class="logindetails"> <div> <div> <input type="text" class="textbox default-value" name="vb_login_username" id="navbar_username" size="10" accesskey="u" tabindex="101" value="User Name" /> <input type="password" class="textbox" tabindex="102" name="vb_login_password" id="navbar_password" size="10" /> <input type="text" class="textbox default-value" tabindex="102" name="vb_login_password_hint" id="navbar_password_hint" size="10" value="Password" style="display:none;" /> <input type="submit" class="loginbutton" tabindex="104" value="Log in" title="Enter your username and password in the boxes provided to login, or click the 'register' button to create a profile for yourself." accesskey="s" /> </div> </div> </fieldset> <div id="remember" class="remember"> <label for="cb_cookieuser_navbar"><input type="checkbox" name="cookieuser" value="1" id="cb_cookieuser_navbar" class="cb_cookieuser_navbar" accesskey="c" tabindex="103" /> Remember Me?</label> </div> <input type="hidden" name="s" value="5a66a991bf5492abb9a1d8a6fa9f7359" /> <input type="hidden" name="securitytoken" value="guest" /> <input type="hidden" name="do" value="login" /> <input type="hidden" name="vb_login_md5password" /> <input type="hidden" name="vb_login_md5password_utf" /> </form> <script type="text/javascript">
			YAHOO.util.Dom.setStyle('navbar_password_hint', "display", "inline");
			YAHOO.util.Dom.setStyle('navbar_password', "display", "none");
			vB_XHTML_Ready.subscribe(function()
			{
			//
				YAHOO.util.Event.on('navbar_username', "focus", navbar_username_focus);
				YAHOO.util.Event.on('navbar_username', "blur", navbar_username_blur);
				YAHOO.util.Event.on('navbar_password_hint', "focus", navbar_password_hint);
				YAHOO.util.Event.on('navbar_password', "blur", navbar_password);
			});
			
			function navbar_username_focus(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				if (textbox.value == 'User Name')
				{
				//
					textbox.value='';
					textbox.style.color='#303030';
				}
			}

			function navbar_username_blur(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				if (textbox.value == '')
				{
				//
					textbox.value='User Name';
					textbox.style.color='#828282';
				}
			}
			
			function navbar_password_hint(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				
				YAHOO.util.Dom.setStyle('navbar_password_hint', "display", "none");
				YAHOO.util.Dom.setStyle('navbar_password', "display", "inline");
				YAHOO.util.Dom.get('navbar_password').focus();
			}

			function navbar_password(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				
				if (textbox.value == '')
				{
					YAHOO.util.Dom.setStyle('navbar_password_hint', "display", "inline");
					YAHOO.util.Dom.setStyle('navbar_password', "display", "none");
				}
			}
			</script> </li> </ul> </div> <div class="ad_global_header"> </div> <hr /> </div> <div id="navbar" class="navbar"> <ul id="navtabs" class="navtabs floatcontainer"> <li class="selected"><a class="navtab" href="http://objectmix.com/">Forum</a> <ul class="floatcontainer"> <li><a rel="help" href="http://objectmix.com/faq.php" accesskey="5">FAQ</a></li> <li><a href="http://objectmix.com/calendar.php">Calendar</a></li> <li class="popupmenu"> <a href="javascript://" class="popupctrl">Forum Actions</a> <ul class="popupbody popuphover"> <li> <a rel="nofollow" href="http://objectmix.com/forumdisplay.php?do=markread&amp;markreadhash=guest" onclick="return confirm('Are you sure you want to mark all forums as being read? This cannot be undone.')">Mark Forums Read</a> </li> </ul> </li> <li class="popupmenu"> <a href="javascript://" class="popupctrl" accesskey="3">Quick Links</a> <ul class="popupbody popuphover"> </ul> </li> </ul> </li> <li><a class="navtab" href="http://objectmix.com/search.php?do=getdaily&amp;contenttype=vBForum_Post" accesskey="2">What's New?</a></li> </ul> <div id="globalsearch" class="globalsearch"> <form action="http://objectmix.com/google-cse.php" id="cse-search-box"> <input type="hidden" name="cx" value="partner-pub-0903475642738804:by0p05bspo0" /> <input type="hidden" name="cof" value="FORID:10" /> <input type="hidden" name="ie" value="ISO-8859-1" /> <span class="textboxcontainer"><span><input type="text" value="" name="q" class="textbox" /></span></span> <span class="buttoncontainer"><span><input type="image" class="searchbutton" src="http://idn.infnx.com/bv314/buttons/search.png" name="sa" onclick="document.getElementById('navbar_search').submit;" tabindex="100"/></span></span> </form> <script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script> <ul class="navbar_advanced_search"> <li><a href="http://objectmix.com/search.php" accesskey="4">Advanced Search</a></li> </ul> </div> </div> </div> <div class="body_wrapper"> <div id="seotitle"><!-- google_ad_section_start --><h1>Invalid byte 2 of 2-byte UTF-8 sequence? - Apache </h1><p id="relevant_replacement">This is a discussion on <em>Invalid byte 2 of 2-byte UTF-8 sequence? - Apache</em> ; Hi, 
 
when connecting an Axis-C client (v1.5) to an Axis-java webservice, the return message has the following error: 
 
&amp;lt;soapenv:Fault&amp;gt; 
&amp;lt;faultcode&amp;gt;soapenv:Server.userException&amp;lt;/faultcode&amp;gt; 
&amp;lt;faultstring&amp;gt;java.io.UTFDataFormatException: Invalid byte 2 of 2-byte UTF-8 sequence.&amp;lt;/faultstring&amp;gt; 
 
The only difference with all other working requests, seems the company name ...</p><!-- google_ad_section_end --></div> <div id="ad_global_below_navbar"> <div align="center"> <script type="text/javascript"> 
  ( function() {
    if (window.CHITIKA === undefined) {
      window.CHITIKA = { 'units' : [] };
    };
    var unit = {
      'publisher' : "infnx",
      'width' : 728,
      'height' : 90,
      'type' : "mpu",
      'sid' : "ObjectMix-Banner",
      'color_site_link' : "0000CC",
      'color_title' : "0000CC",
      'color_border' : "FFFFFF",
      'color_text' : "000000",
      'color_bg' : "FFFFFF"
    };
    var placement_id = window.CHITIKA.units.length;
    window.CHITIKA.units.push(unit);
    document.write('<div id="chitikaAdBlock-' + placement_id + '"></div>');
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.src = 'http://scripts.chitika.net/getads.js';
    try {
      document.getElementsByTagName('head')[0].appendChild(s);
    } catch(e) {
      document.write(s.outerHTML);
    }
}());
</script> </div> </div> <div id="breadcrumb" class="breadcrumb"> <ul class="floatcontainer"> <li class="navbithome"><a href="http://objectmix.com/" accesskey="1"><img src="http://idn.infnx.com/bv314/misc/navbit-home.png" alt="Home" /></a></li> <li class="navbit"><a href="http://objectmix.com/">Forum</a></li> <li class="navbit"><a onclick="_gaq.push(['_trackEvent', 'Outgoing', '', 'forumdisplay.php']);" href="http://objectmix.com/#software-development">Software Development</a></li> <li class="navbit"><a href="http://objectmix.com/application-servers-tools/">Application Servers &amp; Tools</a></li> <li class="navbit"><a href="http://objectmix.com/apache/">Apache</a></li> <li class="navbit lastnavbit"><span> Invalid byte 2 of 2-byte UTF-8 sequence?</span></li> </ul> <hr /> </div> <div id="ad_navbar_below"> <script type="text/javascript"><!--
google_ad_client = "pub-0903475642738804";
/* Objmix-Links */
google_ad_slot = "8773595905";
google_ad_width = 728;
google_ad_height = 15;
//--> </script> <script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js"> </script> </div> <div id="above_postlist" class="above_postlist"> <a rel="nofollow" href="http://objectmix.com/newreply.php?p=2379697&amp;noquote=1" 
class="newcontent_textcontrol" id="newreplylink_top"><span>+</span> Reply to Thread</a> <img style="display:none" id="progress_newreplylink_top" src="http://idn.infnx.com/bv314/misc/progress.gif"  alt="" /> <div id="pagination_top" class="pagination_top"> <div id="postpagestats_above" class="postpagestats">
				Results 1 to 4 of 4
			</div> </div> </div> <div id="pagetitle" class="pagetitle"> <h2><span class="threadtitle"><a href="http://objectmix.com/apache/682577-invalid-byte-2-2-byte-utf-8-sequence.html" title="Reload this Page">Invalid byte 2 of 2-byte UTF-8 sequence?</a></span> <g:plusone size="small"></g:plusone> </h2> </div> <div id="thread_controls" class="thread_controls toolsmenu"> <div> <ul id="postlist_popups" class="postlist_popups popupgroup"> <li class="popupmenu" id="linkbacktools"> <h6><a class="popupctrl" href="javascript://">LinkBack</a><a name="goto_linkback"></a></h6> <ul class="popupbody popuphover"> <li><a href="http://objectmix.com/" onclick="prompt('Use the following URL when referencing this thread from another forum or blog.','');return false;"><img class="inlineimg" src="http://objectmix.com/vbseo/resources/images/forum/linkback_url.gif" alt="LinkBack URL" /> LinkBack URL</a></li> <li><a rel="nofollow" href="http://objectmix.com/misc.php?do=linkbacks"><img class="inlineimg" src="http://objectmix.com/vbseo/resources/images/forum/linkback_about.gif" alt="About LinkBacks" /> About LinkBacks</a></li> <li>&nbsp;</li> <li>Bookmark &amp; Share</li> <li><a rel="nofollow" href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fobjectmix.com%2Fapache%2F682577-invalid-byte-2-2-byte-utf-8-sequence.html&amp;title=Invalid+byte+2+of+2-byte+UTF-8+sequence%3F" target="_blank">Digg this Thread!</a></li><li><a rel="nofollow" href="http://del.icio.us/post?url=http%3A%2F%2Fobjectmix.com%2Fapache%2F682577-invalid-byte-2-2-byte-utf-8-sequence.html&amp;title=Invalid+byte+2+of+2-byte+UTF-8+sequence%3F" target="_blank">Add Thread to del.icio.us</a></li><li><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fobjectmix.com%2Fapache%2F682577-invalid-byte-2-2-byte-utf-8-sequence.html" target="_blank">Bookmark in Technorati</a></li><li><a rel="nofollow" href="http://twitter.com/home?status=Invalid+byte+2+of+2-byte+UTF-8+sequence%3F http%3A%2F%2Fobjectmix.com%2Fapache%2F682577-invalid-byte-2-2-byte-utf-8-sequence.html" target="_blank">Tweet this thread</a></li> </ul> </li> <li class="popupmenu" id="threadtools"> <h6><a class="popupctrl" href="javascript://">Thread Tools</a></h6> <ul class="popupbody popuphover"> <li><a href="http://objectmix.com/apache/682577-invalid-byte-2-2-byte-utf-8-sequence-print.html" accesskey="3" 
						rel="nofollow">Show Printable Version</a></li> <li><a href="http://objectmix.com/sendmessage.php?do=sendtofriend&amp;t=682577"
						rel="nofollow">Email this Page&hellip;</a></li> <li> <a href="http://objectmix.com/subscription.php?do=addsubscription&amp;t=682577" 
								rel="nofollow">Subscribe to this Thread&hellip;</a> </li> </ul> </li> </ul> </div> </div> <div id="postlist" class="postlist restrain"> <ol id="posts" class="posts" start="1"> <li class="postbitlegacy postbitim postcontainer" id="post_2379692">  <div class="posthead"> <div id="vbseo_vhtml_0"></div> </div> <div class="postdetails"> <div class="userinfo"> <div id="vbseo_vhtml_1"></div> </div> <div class="postbody"> <div class="postrow"> <h2 class="title icon"> <img src="http://objectmix.com/images/icons/icon1.png" alt="Default" /> <!-- google_ad_section_start -->Invalid byte 2 of 2-byte UTF-8 sequence?<!-- google_ad_section_end --> </h2> <div id="ad_showthread_firstpost_start"> <div style="float:left; margin-top:5px ; margin-left:5px ; margin-right:5px ; margin-bottom:5px ;">  <script type="text/javascript"> 
  ( function() {
    if (window.CHITIKA === undefined) {
      window.CHITIKA = { 'units' : [] };
    };
    var unit = {
      'publisher' : "infnx",
      'width' : 300,
      'height' : 250,
      'type' : "mpu",
      'sid' : "ObjectMix-Rect",
      'color_site_link' : "0000CC",
      'color_title' : "0000CC",
      'color_border' : "FFFFFF",
      'color_text' : "000000",
      'color_bg' : "FFFFFF"
    };
    var placement_id = window.CHITIKA.units.length;
    window.CHITIKA.units.push(unit);
    document.write('<div id="chitikaAdBlock-' + placement_id + '"></div>');
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.src = 'http://scripts.chitika.net/getads.js';
    try {
      document.getElementsByTagName('head')[0].appendChild(s);
    } catch(e) {
      document.write(s.outerHTML);
    }
}());
</script> </div> </div> <div class="content hasad"> <div id="post_message_2379692"> <blockquote class="postcontent restore "> <!-- google_ad_section_start -->Hi,<br /> <br />
when connecting an Axis-C client (v1.5) to an Axis-java webservice, the return message has the following error:<br /> <br />
&lt;soapenv:Fault&gt;<br />
&lt;faultcode&gt;soapenv:Server.userException&lt;/faultcode&gt;<br />
&lt;faultstring&gt;java.io.UTFDataFormatException: Invalid byte 2 of 2-byte UTF-8 sequence.&lt;/faultstring&gt;<br /> <br />
The only difference with all other working requests, seems the company name containing &quot;GÜTER&quot;.<br />
When debugging, the U-umlaut is showing correctly everywhere, but apparently the receiving webservice isn't getting it correctly.<br />
The source message generated by Axis-C++ looks like this in TCPMonitor:<br /> <br />
Content-Type: text/xml; charset=UTF-8<br /> <br />
&lt;?xml version='1.0' encoding='utf-8' ?&gt;<br />
....<br />
&lt;ns1:company&gt;ROTTMANN HEINRICH G TER&lt;/ns1:company&gt;<br /> <br />
So it seems the character is indeed being encoded incorrectly by Axis-C?<br /> <br /> <br />
Does anyone have any hints to get this working?<br /> <br />
By the way, I receive this company-name via another webservice, and I notice that they sent me this:<br /> <br />
&lt;employerName&gt;ROTTMANN HEINRICH G&amp;#xDC;TER&lt;/employerName&gt;<br /> <br />
Maybe there is a way to configure Axis-C to do the same, sending a character reference to avoid the encoding-mismatch?<br /> <br />
Kind regards,<br />
Iwan Tomlow<br /> <!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot"> <div id="vbseo_vhtml_2"></div> </div> <hr /> </li> <li class="postbitlegacy postbitim postcontainer" id="post_2379693">  <div class="posthead"> <div id="vbseo_vhtml_3"></div> </div> <div class="postdetails"> <div class="userinfo"> <div id="vbseo_vhtml_1"></div> </div> <div class="postbody"> <div class="postrow"> <h2 class="title icon"> <img src="http://objectmix.com/images/icons/icon1.png" alt="Default" /> <!-- google_ad_section_start -->Re: Invalid byte 2 of 2-byte UTF-8 sequence?<!-- google_ad_section_end --> </h2> <div class="content"> <div id="post_message_2379693"> <blockquote class="postcontent restore "> <!-- google_ad_section_start -->Iwan,<br /> <br />
This is an existing problem.  See AXISCPP-964.  If anyone want to provide <br />
a patch, I can include the patch. If you have a solution to fix your <br />
particular problem, then please provide the patch. <br /> <br />
Nadir K. Amra<br /> <br /> <br />
&quot;Iwan Tomlow&quot; &lt;iwan.tomlow-/1BeJOKqmzrQT0dZR+AlfA@public.gmane.org&gt; wrote on 03/28/2007 06:22:00 AM:<br /> <font color="blue"><br />
&gt; Hi,<br />
&gt; <br />
&gt; when connecting an Axis-C client (v1.5) to an Axis-java webservice, <br />
&gt; the return message has the following error:<br />
&gt; <br />
&gt; &lt;soapenv:Fault&gt;<br />
&gt;   &lt;faultcode&gt;soapenv:Server.userException&lt;/faultcode&gt;<br />
&gt;    &lt;faultstring&gt;java.io.UTFDataFormatException: Invalid byte 2 of 2-<br />
&gt; byte UTF-8 sequence.&lt;/faultstring&gt;<br />
&gt; <br />
&gt; The only difference with all other working requests, seems the <br />
&gt; company name containing &quot;GÜTER&quot;.<br />
&gt; When debugging, the U-umlaut is showing correctly everywhere, but <br />
&gt; apparently the receiving webservice isn't getting it correctly.<br />
&gt; The source message generated by Axis-C++ looks like this in TCPMonitor:<br />
&gt; <br />
&gt; Content-Type: text/xml; charset=UTF-8<br />
&gt; <br />
&gt; &lt;?xml version='1.0' encoding='utf-8' ?&gt;<br />
&gt; ...<br />
&gt;                   &lt;ns1:company&gt;ROTTMANN HEINRICH G TER&lt;/ns1:company&gt;<br />
&gt; <br />
&gt; So it seems the character is indeed being encoded incorrectly by Axis-C?<br />
&gt; <br />
&gt; <br />
&gt; Does anyone have any hints to get this working?<br />
&gt; <br />
&gt; By the way, I receive this company-name via another webservice, and <br />
&gt; I notice that they sent me this:<br />
&gt; <br />
&gt; &lt;employerName&gt;ROTTMANN HEINRICH G&amp;#xDC;TER&lt;/employerName&gt;<br />
&gt; <br />
&gt; Maybe there is a way to configure Axis-C to do the same, sending a <br />
&gt; character reference to avoid the encoding-mismatch?</font><br /> <!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot"> <div id="vbseo_vhtml_5"></div> </div> <hr /> </li> <li class="postbitlegacy postbitim postcontainer" id="post_2379696">  <div class="posthead"> <div id="vbseo_vhtml_6"></div> </div> <div class="postdetails"> <div class="userinfo"> <div id="vbseo_vhtml_1"></div> </div> <div class="postbody"> <div class="postrow"> <h2 class="title icon"> <img src="http://objectmix.com/images/icons/icon1.png" alt="Default" /> <!-- google_ad_section_start -->RE: Invalid byte 2 of 2-byte UTF-8 sequence?<!-- google_ad_section_end --> </h2> <div class="content"> <div id="post_message_2379696"> <blockquote class="postcontent restore "> <!-- google_ad_section_start -->Thanks for pointing that out, I should have been able to find that one myself.<br />
Most reasonable thing for me to do seems to apply the proposed workaround from AXISCPP-964, i.e.<br /> <br />
In SoapSerializer.cpp, turn<br />
serialize( &quot;&lt;?xml version='1.0' encoding='utf-8' ?&gt;&quot;, NULL);<br />
into<br />
serialize( &quot;&lt;?xml version='1.0' encoding='ISO-8859-1' ?&gt;&quot;, NULL);  <br /> <br />
I'm no expert on character-encoding, but since &quot;AxisChar&quot; is defined in Gdefine.hpp as a normal &quot;char&quot; anyway, isn't this simply the best way to fix the issue completely?<br /> <br />
Kind regards,<br />
Iwan<br /> <br /> <br />
-----Original Message-----<br />
From: Nadir Amra [mailto:amra-r/Jw6+rmf7HQT0dZR+AlfA@public.gmane.org] <br />
Sent: donderdag 29 maart 2007 0:52<br />
To: Apache AXIS C User List<br />
Cc: Apache AXIS C User List<br />
Subject: Re: Invalid byte 2 of 2-byte UTF-8 sequence?<br /> <br />
Iwan,<br /> <br />
This is an existing problem.  See AXISCPP-964.  If anyone want to provide a patch, I can include the patch. If you have a solution to fix your particular problem, then please provide the patch. <br /> <br />
Nadir K. Amra<br /> <br /> <br />
&quot;Iwan Tomlow&quot; &lt;iwan.tomlow-/1BeJOKqmzrQT0dZR+AlfA@public.gmane.org&gt; wrote on 03/28/2007 06:22:00 AM:<br /> <font color="blue"><br />
&gt; Hi,<br />
&gt; <br />
&gt; when connecting an Axis-C client (v1.5) to an Axis-java webservice, <br />
&gt; the return message has the following error:<br />
&gt; <br />
&gt; &lt;soapenv:Fault&gt;<br />
&gt;   &lt;faultcode&gt;soapenv:Server.userException&lt;/faultcode&gt;<br />
&gt;    &lt;faultstring&gt;java.io.UTFDataFormatException: Invalid byte 2 of 2- <br />
&gt; byte UTF-8 sequence.&lt;/faultstring&gt;<br />
&gt; <br />
&gt; The only difference with all other working requests, seems the company <br />
&gt; name containing &quot;GÜTER&quot;.<br />
&gt; When debugging, the U-umlaut is showing correctly everywhere, but <br />
&gt; apparently the receiving webservice isn't getting it correctly.<br />
&gt; The source message generated by Axis-C++ looks like this in TCPMonitor:<br />
&gt; <br />
&gt; Content-Type: text/xml; charset=UTF-8<br />
&gt; <br />
&gt; &lt;?xml version='1.0' encoding='utf-8' ?&gt; ...<br />
&gt;                   &lt;ns1:company&gt;ROTTMANN HEINRICH G TER&lt;/ns1:company&gt;<br />
&gt; <br />
&gt; So it seems the character is indeed being encoded incorrectly by Axis-C?<br />
&gt; <br />
&gt; <br />
&gt; Does anyone have any hints to get this working?<br />
&gt; <br />
&gt; By the way, I receive this company-name via another webservice, and I <br />
&gt; notice that they sent me this:<br />
&gt; <br />
&gt; &lt;employerName&gt;ROTTMANN HEINRICH G&amp;#xDC;TER&lt;/employerName&gt;<br />
&gt; <br />
&gt; Maybe there is a way to configure Axis-C to do the same, sending a <br />
&gt; character reference to avoid the encoding-mismatch?</font><br /> <br /> <br />
---------------------------------------------------------------------<br />
To unsubscribe, e-mail: <a href="mailto:axis-c-user-unsubscribe-28n8OjmUYWfNLxjTenLetw@public.gmane.org">axis-c-user-unsubscribe-28n8OjmUYWfN...blic.gmane.org</a><br />
For additional commands, e-mail: <a href="mailto:axis-c-user-help-28n8OjmUYWfNLxjTenLetw@public.gmane.org">axis-c-user-help-28n8OjmUYWfNLxjTenL...blic.gmane.org</a><br /> <!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot"> <div id="vbseo_vhtml_8"></div> </div> <hr /> </li> <li class="postbitlegacy postbitim postcontainer" id="post_2379697">  <div class="posthead"> <div id="vbseo_vhtml_9"></div> </div> <div class="postdetails"> <div class="userinfo"> <div id="vbseo_vhtml_1"></div> </div> <div class="postbody"> <div class="postrow"> <h2 class="title icon"> <img src="http://objectmix.com/images/icons/icon1.png" alt="Default" /> <!-- google_ad_section_start -->RE: Invalid byte 2 of 2-byte UTF-8 sequence?<!-- google_ad_section_end --> </h2> <div class="content"> <div id="post_message_2379697"> <blockquote class="postcontent restore "> <!-- google_ad_section_start -->Iwan,<br /> <br />
It would be a fix if you were running only in a process that is consistent <br />
with ISO-8859-1 encoding, but that is not the case.  From the client-side, <br />
the easiest fix would be to provide a  toUTF8() function as OS/400 does. <br />
The proper fix for client/server side is to ensure all data stored in <br />
various classes is wchar and to translate wchar to utf8. <br /> <br />
Nadir K. Amra<br /> <br /> <br />
&quot;Iwan Tomlow&quot; &lt;iwan.tomlow-/1BeJOKqmzrQT0dZR+AlfA@public.gmane.org&gt; wrote on 03/29/2007 09:04:32 AM:<br /> <font color="blue"><br />
&gt; Thanks for pointing that out, I should have been able to find that one </font><br />
myself.<font color="blue"><br />
&gt; Most reasonable thing for me to do seems to apply the proposed <br />
&gt; workaround from AXISCPP-964, i.e.<br />
&gt; <br />
&gt; In SoapSerializer.cpp, turn<br />
&gt; serialize( &quot;&lt;?xml version='1.0' encoding='utf-8' ?&gt;&quot;, NULL);<br />
&gt; into<br />
&gt; serialize( &quot;&lt;?xml version='1.0' encoding='ISO-8859-1' ?&gt;&quot;, NULL); <br />
&gt; <br />
&gt; I'm no expert on character-encoding, but since &quot;AxisChar&quot; is defined<br />
&gt; in Gdefine.hpp as a normal &quot;char&quot; anyway, isn't this simply the best<br />
&gt; way to fix the issue completely?<br />
&gt; <br />
&gt; Kind regards,<br />
&gt; Iwan<br />
&gt; <br />
&gt; <br />
&gt; -----Original Message-----<br />
&gt; From: Nadir Amra [mailto:amra-r/Jw6+rmf7HQT0dZR+AlfA@public.gmane.org] <br />
&gt; Sent: donderdag 29 maart 2007 0:52<br />
&gt; To: Apache AXIS C User List<br />
&gt; Cc: Apache AXIS C User List<br />
&gt; Subject: Re: Invalid byte 2 of 2-byte UTF-8 sequence?<br />
&gt; <br />
&gt; Iwan,<br />
&gt; <br />
&gt; This is an existing problem.  See AXISCPP-964.  If anyone want to <br />
&gt; provide a patch, I can include the patch. If you have a solution to <br />
&gt; fix your particular problem, then please provide the patch. <br />
&gt; <br />
&gt; Nadir K. Amra<br />
&gt; <br />
&gt; <br />
&gt; &quot;Iwan Tomlow&quot; &lt;iwan.tomlow-/1BeJOKqmzrQT0dZR+AlfA@public.gmane.org&gt; wrote on 03/28/2007 06:22:00 AM:<br />
&gt; <font color="green"><br />
&gt; &gt; Hi,<br />
&gt; &gt; <br />
&gt; &gt; when connecting an Axis-C client (v1.5) to an Axis-java webservice, <br />
&gt; &gt; the return message has the following error:<br />
&gt; &gt; <br />
&gt; &gt; &lt;soapenv:Fault&gt;<br />
&gt; &gt;   &lt;faultcode&gt;soapenv:Server.userException&lt;/faultcode&gt;<br />
&gt; &gt;    &lt;faultstring&gt;java.io.UTFDataFormatException: Invalid byte 2 of 2- <br />
&gt; &gt; byte UTF-8 sequence.&lt;/faultstring&gt;<br />
&gt; &gt; <br />
&gt; &gt; The only difference with all other working requests, seems the company </font></font><br /> <font color="blue"><font color="green"><br />
&gt; &gt; name containing &quot;GÜTER&quot;.<br />
&gt; &gt; When debugging, the U-umlaut is showing correctly everywhere, but <br />
&gt; &gt; apparently the receiving webservice isn't getting it correctly.<br />
&gt; &gt; The source message generated by Axis-C++ looks like this in </font></font><br />
TCPMonitor:<font color="blue"><font color="green"><br />
&gt; &gt; <br />
&gt; &gt; Content-Type: text/xml; charset=UTF-8<br />
&gt; &gt; <br />
&gt; &gt; &lt;?xml version='1.0' encoding='utf-8' ?&gt; ...<br />
&gt; &gt;                   &lt;ns1:company&gt;ROTTMANN HEINRICH G TER&lt;/ns1:company&gt;<br />
&gt; &gt; <br />
&gt; &gt; So it seems the character is indeed being encoded incorrectly by </font></font><br />
Axis-C?<font color="blue"><font color="green"><br />
&gt; &gt; <br />
&gt; &gt; <br />
&gt; &gt; Does anyone have any hints to get this working?<br />
&gt; &gt; <br />
&gt; &gt; By the way, I receive this company-name via another webservice, and I <br />
&gt; &gt; notice that they sent me this:<br />
&gt; &gt; <br />
&gt; &gt; &lt;employerName&gt;ROTTMANN HEINRICH G&amp;#xDC;TER&lt;/employerName&gt;<br />
&gt; &gt; <br />
&gt; &gt; Maybe there is a way to configure Axis-C to do the same, sending a <br />
&gt; &gt; character reference to avoid the encoding-mismatch?</font><br />
&gt; <br />
&gt; <br />
&gt; ---------------------------------------------------------------------<br />
&gt; To unsubscribe, e-mail: <a href="mailto:axis-c-user-unsubscribe-28n8OjmUYWfNLxjTenLetw@public.gmane.org">axis-c-user-unsubscribe-28n8OjmUYWfN...blic.gmane.org</a><br />
&gt; For additional commands, e-mail: <a href="mailto:axis-c-user-help-28n8OjmUYWfNLxjTenLetw@public.gmane.org">axis-c-user-help-28n8OjmUYWfNLxjTenL...blic.gmane.org</a><br />
&gt; <br />
&gt; <br />
&gt; ---------------------------------------------------------------------<br />
&gt; To unsubscribe, e-mail: <a href="mailto:axis-c-user-unsubscribe-28n8OjmUYWfNLxjTenLetw@public.gmane.org">axis-c-user-unsubscribe-28n8OjmUYWfN...blic.gmane.org</a><br />
&gt; For additional commands, e-mail: <a href="mailto:axis-c-user-help-28n8OjmUYWfNLxjTenLetw@public.gmane.org">axis-c-user-help-28n8OjmUYWfNLxjTenL...blic.gmane.org</a><br />
&gt; </font><br /> <!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot"> <div id="vbseo_vhtml_11"></div> </div> <hr /> </li> </ol> <div class="separator"></div> <div class="postlistfoot"> </div> </div> <div id="below_postlist" class="noinlinemod below_postlist"> <a rel="nofollow" href="http://objectmix.com/newreply.php?p=2379697&amp;noquote=1" 
			class="newcontent_textcontrol" id="newreplylink_bottom"
			><span>+</span> Reply to Thread</a> <div id="pagination_bottom" class="pagination_bottom"> </div> </div>  <div class="navlinks"> <strong>&laquo;</strong> <a href="http://objectmix.com/apache/685135-active-directory-question.html" >Active Directory question</a>
	|
	<a href="http://objectmix.com/apache/675061-re-apachectl-startssl-returns-assertion-rv-%3D%3D-apr_success-failed.html" >Re: apachectl startssl returns &quot;assertion 'rv == APR_SUCCESS&quot; failed'</a> <strong>&raquo;</strong> </div>  <div id="thread_info" class="thread_info block"> </div> <div id="footer" class="floatcontainer footer"> <form action="http://objectmix.com/" method="get" id="footer_select" class="footer_select"> </form> <ul id="footer_links" class="footer_links"> <li><a href="http://objectmix.com/sendmessage.php" rel="nofollow" accesskey="9">Contact Us</a></li> <li><a href="http://objectmix.com/">ObjectMix</a></li> <li><a href="http://objectmix.com/privacy.php">Privacy Statement</a></li> <li><a href="http://objectmix.com/apache/682577-invalid-byte-2-2-byte-utf-8-sequence.html#top" onclick="document.location.hash='top'; return false;">Top</a></li> </ul> <script type="text/javascript"> <!--
		// Main vBulletin Javascript Initialization
		vBulletin_init();
	//--> </script> </div> </div>  <div class="below_body"> <div id="footer_time" class="shade footer_time">All times are GMT -5. The time now is <span class="time">07:12 PM</span>.</div> <div id="footer_copyright" class="shade footer_copyright"> 
	Powered by <a onclick="_gaq.push(['_trackEvent', 'Outgoing', 'www.vbulletin.com', '']);" rel="nofollow" href="http://www.vbulletin.com" id="vbulletinlink">vBulletin&trade;</a> Version 4.1.3 <br />Copyright &copy; 2013 vBulletin Solutions, Inc. All rights reserved. 
	
<br /><!-- google_ad_section_start(weight=ignore) -->Content Relevant URLs by vBSEO 3.6.0 &copy;2011, Crawlability, Inc.<!-- google_ad_section_end --> </div> <div id="footer_morecopyright" class="shade footer_morecopyright">   </div> </div> 
<script type="text/javascript">
//<![CDATA[

var vbseo_jshtml = new Array();
vbseo_jshtml[0] = " <span class=\"postdate old\"> <span class=\"date\">03-28-2007&nbsp;<span class=\"time\">06:22 AM</span></span> </span> <span class=\"nodecontrols\"> <a name=\"post2379692\" href=\"http://objectmix.com/apache/682577-invalid-byte-2-2-byte-utf-8-sequence.html#post2379692\" class=\"postcounter\">#1</a><a id=\"postcount2379692\" name=\"1\"></a> </span> ";
vbseo_jshtml[1] = " <div class=\"username_container\"> <div class=\"popupmenu memberaction\"> <a rel=\"nofollow\" class=\"username offline \" href=\"http://objectmix.com/members/application-development.html\" title=\"Application Development is offline\"><strong><!-- google_ad_section_start(weight=ignore) -->Application Development<!-- google_ad_section_end --></strong></a> </div> <img class=\"inlineimg onlinestatus\" src=\"http://idn.infnx.com/bv314/statusicon/user-offline.png\" alt=\"Application Development is offline\" border=\"0\" /> </div> <span class=\"usertitle\">				Junior Member			</span> <hr /> <dl class=\"userinfo_extra\"> <dt>Join Date</dt> <dd>Nov 2009</dd> <dt>Posts</dt> <dd>0</dd> </dl> <div class=\"imlinks\"> </div> ";
vbseo_jshtml[2] = "  <div class=\"textcontrols floatcontainer\"> <span class=\"postcontrols\"> <img style=\"display:none\" id=\"progress_2379692\" src=\"http://idn.infnx.com/bv314/misc/progress.gif\" alt=\"\" /> <a id=\"qrwq_2379692\" class=\"newreply\" href=\"http://objectmix.com/newreply.php?do=newreply&amp;p=2379692\" rel=\"nofollow\"><img id=\"quoteimg_2379692\" src=\"http://objectmix.com/clear.gif\" alt=\"Reply With Quote\" />  Reply With Quote</a> </span> <span class=\"postlinking\"> </span>  </div> ";
vbseo_jshtml[3] = " <span class=\"postdate old\"> <span class=\"date\">03-28-2007&nbsp;<span class=\"time\">05:51 PM</span></span> </span> <span class=\"nodecontrols\"> <a name=\"post2379693\" href=\"http://objectmix.com/apache/682577-invalid-byte-2-2-byte-utf-8-sequence.html#post2379693\" class=\"postcounter\">#2</a><a id=\"postcount2379693\" name=\"2\"></a> </span> ";
vbseo_jshtml[4] = " <div class=\"username_container\"> <div class=\"popupmenu memberaction\"> <a rel=\"nofollow\" class=\"username offline \" href=\"http://objectmix.com/members/application-development.html\" title=\"Application Development is offline\"><strong><!-- google_ad_section_start(weight=ignore) -->Application Development<!-- google_ad_section_end --></strong></a> </div> <img class=\"inlineimg onlinestatus\" src=\"http://idn.infnx.com/bv314/statusicon/user-offline.png\" alt=\"Application Development is offline\" border=\"0\" /> </div> <span class=\"usertitle\">				Junior Member			</span> <hr /> <dl class=\"userinfo_extra\"> <dt>Join Date</dt> <dd>Nov 2009</dd> <dt>Posts</dt> <dd>0</dd> </dl> <div class=\"imlinks\"> </div> ";
vbseo_jshtml[5] = "  <div class=\"textcontrols floatcontainer\"> <span class=\"postcontrols\"> <img style=\"display:none\" id=\"progress_2379693\" src=\"http://idn.infnx.com/bv314/misc/progress.gif\" alt=\"\" /> <a id=\"qrwq_2379693\" class=\"newreply\" href=\"http://objectmix.com/newreply.php?do=newreply&amp;p=2379693\" rel=\"nofollow\"><img id=\"quoteimg_2379693\" src=\"http://objectmix.com/clear.gif\" alt=\"Reply With Quote\" />  Reply With Quote</a> </span> <span class=\"postlinking\"> </span>  </div> ";
vbseo_jshtml[6] = " <span class=\"postdate old\"> <span class=\"date\">03-29-2007&nbsp;<span class=\"time\">09:04 AM</span></span> </span> <span class=\"nodecontrols\"> <a name=\"post2379696\" href=\"http://objectmix.com/apache/682577-invalid-byte-2-2-byte-utf-8-sequence.html#post2379696\" class=\"postcounter\">#3</a><a id=\"postcount2379696\" name=\"3\"></a> </span> ";
vbseo_jshtml[7] = " <div class=\"username_container\"> <div class=\"popupmenu memberaction\"> <a rel=\"nofollow\" class=\"username offline \" href=\"http://objectmix.com/members/application-development.html\" title=\"Application Development is offline\"><strong><!-- google_ad_section_start(weight=ignore) -->Application Development<!-- google_ad_section_end --></strong></a> </div> <img class=\"inlineimg onlinestatus\" src=\"http://idn.infnx.com/bv314/statusicon/user-offline.png\" alt=\"Application Development is offline\" border=\"0\" /> </div> <span class=\"usertitle\">				Junior Member			</span> <hr /> <dl class=\"userinfo_extra\"> <dt>Join Date</dt> <dd>Nov 2009</dd> <dt>Posts</dt> <dd>0</dd> </dl> <div class=\"imlinks\"> </div> ";
vbseo_jshtml[8] = "  <div class=\"textcontrols floatcontainer\"> <span class=\"postcontrols\"> <img style=\"display:none\" id=\"progress_2379696\" src=\"http://idn.infnx.com/bv314/misc/progress.gif\" alt=\"\" /> <a id=\"qrwq_2379696\" class=\"newreply\" href=\"http://objectmix.com/newreply.php?do=newreply&amp;p=2379696\" rel=\"nofollow\"><img id=\"quoteimg_2379696\" src=\"http://objectmix.com/clear.gif\" alt=\"Reply With Quote\" />  Reply With Quote</a> </span> <span class=\"postlinking\"> </span>  </div> ";
vbseo_jshtml[9] = " <span class=\"postdate old\"> <span class=\"date\">03-29-2007&nbsp;<span class=\"time\">06:05 PM</span></span> </span> <span class=\"nodecontrols\"> <a name=\"post2379697\" href=\"http://objectmix.com/apache/682577-invalid-byte-2-2-byte-utf-8-sequence.html#post2379697\" class=\"postcounter\">#4</a><a id=\"postcount2379697\" name=\"4\"></a> </span> ";
vbseo_jshtml[10] = " <div class=\"username_container\"> <div class=\"popupmenu memberaction\"> <a rel=\"nofollow\" class=\"username offline \" href=\"http://objectmix.com/members/application-development.html\" title=\"Application Development is offline\"><strong><!-- google_ad_section_start(weight=ignore) -->Application Development<!-- google_ad_section_end --></strong></a> </div> <img class=\"inlineimg onlinestatus\" src=\"http://idn.infnx.com/bv314/statusicon/user-offline.png\" alt=\"Application Development is offline\" border=\"0\" /> </div> <span class=\"usertitle\">				Junior Member			</span> <hr /> <dl class=\"userinfo_extra\"> <dt>Join Date</dt> <dd>Nov 2009</dd> <dt>Posts</dt> <dd>0</dd> </dl> <div class=\"imlinks\"> </div> ";
vbseo_jshtml[11] = "  <div class=\"textcontrols floatcontainer\"> <span class=\"postcontrols\"> <img style=\"display:none\" id=\"progress_2379697\" src=\"http://idn.infnx.com/bv314/misc/progress.gif\" alt=\"\" /> <a id=\"qrwq_2379697\" class=\"newreply\" href=\"http://objectmix.com/newreply.php?do=newreply&amp;p=2379697\" rel=\"nofollow\"><img id=\"quoteimg_2379697\" src=\"http://objectmix.com/clear.gif\" alt=\"Reply With Quote\" />  Reply With Quote</a> </span> <span class=\"postlinking\"> </span>  </div> ";

for(var vi=0;vi<vbseo_jshtml.length;vi++)
if(fetch_object("vbseo_vhtml_"+vi))fetch_object("vbseo_vhtml_"+vi).innerHTML = vbseo_jshtml[vi];

window.orig_onload = window.onload;
window.onload = function() {
var cpost=document.location.hash.substring(1);var cpost2='';if(cpost){ var ispost=cpost.substring(0,4)=='post';if(ispost)cpost2='post_'+cpost.substring(4);if((cobj = fetch_object(cpost))||(cobj = fetch_object(cpost2))){cobj.scrollIntoView(true);}else if(ispost){cpostno = cpost.substring(4,cpost.length);if(parseInt(cpostno)>0){location.replace('http://objectmix.com/showthread.php?p='+cpostno);};} }

if(typeof window.orig_onload == "function") window.orig_onload();
}

//]]>
</script>
</body> </html> 
