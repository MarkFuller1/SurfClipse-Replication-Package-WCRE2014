<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html lang="en">  <head>    <TITLE>Java > Open Source Codes > org > eclipse > jdt > internal > core > JavaModelManager _ Java API By Example, From Geeks To Geeks.</TITLE>    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">    <META name="description" content="Java > Open Source Codes > org > eclipse > jdt > internal > core > JavaModelManager">    <META name="keywords" content="Free Books,Free book,Free Computer Books,Free Computer Book,Free Tech Books,Free Tech Book, j2ee, j2ee example, j2se, j2se example, j2me, j2me example, java, java example, java api, java api example, java jobs, free java books, Free Java Downloads, free java book, java development,enterprise java, java developer,java news,java,resources,jsp,servlets,tomcat,ejb,java and xml,jdo,jdbc,sqlj,jax,jaxp,jaxm,jaxb,jax-rpc,apache,jakarta,open source,wireless java,java 2 micro edition,struts,turbine,velocity,p2p java,jxta,jini,javaspaces,waba,java phone,i-mode,palm,java media,jvm,java 2 standard edition,c#,c sharp,jboss,java book excerpts,java api map,org.eclipse.jdt.internal.core.JavaModelManager">    <link rel="stylesheet" type="text/css" href="/cmn/stylesheet.css" />    <link rel="stylesheet" type="text/css" href="/cmn/kickjava.css" />    <script type="text/javascript" src="/cmn/kickjava.js"></script>    <script type="text/javascript" src="/cmn/kickjava1.js"></script>  </head>  <body lang="en" onload="doBodyOnLoad();">     <script type="text/javascript">doBodyBegin();</script>     <noscript>     <BR/>      Your browser does not support JavaScript and this site utilizes JavaScript to build content and provide links to additional information. You should either enable JavaScript in your browser settings or use a browser that supports JavaScript in order to take full advantage of this site.     <BR/>     </noscript>    <div id="pageWrapper">      <table id="masthead">        <tr>          <td id="mastheadLeft" >            <A href="http://KickJava.com" target="_top"><img src="/cmn/kickjava.gif" alt="KickJava"></a>&nbsp;&nbsp;&nbsp;Java <acronym title="Application Programming Interface">API</acronym> By Example, From Geeks To Geeks.          </td>          <td id="mastheadRight">            <!-- Google CSE Search Box Begins -->            <form id="searchbox_016019849777797803616:sbkqcucs8tc" action="http://KickJava.com/cmn/googlesearch.html">              <input type="hidden" name="cx" value="016019849777797803616:sbkqcucs8tc" />              <input name="q" type="text" size="20" />                    <input type="image" src="/cmn/go.gif"  name="sa"  border="0" alt="Search Now">              <input type="hidden" name="cof" value="FORID:9" />            </form>            <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_016019849777797803616%3Asbkqcucs8tc"></script>            <!-- Google CSE Search Box Ends -->          </td>        </tr>      </table>      <div id="PageHeading" class="inside">        <h1><A HREF="/">Java</A> > <A HREF="/src">Open Source Codes</A> > <a href="/src/org.index.htm">org</a> > <a href="/src/org.eclipse.index.htm">eclipse</a> > <a href="/src/org.eclipse.jdt.index.htm">jdt</a> > <a href="/src/org.eclipse.jdt.internal.index.htm">internal</a> > <a href="/src/org.eclipse.jdt.internal.core.index.htm">core</a> > <B>JavaModelManager</B></h1>        <script type="text/javascript">doPageHeading();</script>      </div>      <table id="Top1">        <tr>          <td id="Top11"><script type="text/javascript">doTop11();</script></td>          <td id="Top12"><script type="text/javascript">doTop12();</script></td>        </tr>      </table>      <table id="Top2">        <tr>          <td id="Top21"><script type="text/javascript">doTop21();</script></td>          <td id="Top22"><script type="text/javascript">doTop22();</script></td>        </tr>      </table>      <table id="outerColumnContainer">        <tr id="innerColumnContainer">          <td id="contentColumn">            <div id="contentHeading1" class="inside">              <!--contentHeading1-->            </div>            <div id="contentColumn1" class="inside">              <!--contentColumn1-->              <script type="text/javascript">doContentColumn1();</script>            </div>            <div id="contentHeading2" class="inside">              <!--contentHeading2-->            </div>            <div id="contentColumn2" class="inside">              <CODE><br><FONT ID="LN">1   </FONT><A NAME="1"></A><FONT ID="FormalComment">/*******************************************************************************<br><FONT ID="LN">2   </FONT><A NAME="2"></A>&nbsp;* Copyright (c) 2000, 2007 IBM Corporation and others.<br><FONT ID="LN">3   </FONT><A NAME="3"></A>&nbsp;* All rights reserved. This program and the accompanying materials<br><FONT ID="LN">4   </FONT><A NAME="4"></A>&nbsp;* are made available under the terms of the Eclipse Public License v1.0<br><FONT ID="LN">5   </FONT><A NAME="5"></A>&nbsp;* which accompanies this distribution, and is available at<br><FONT ID="LN">6   </FONT><A NAME="6"></A>&nbsp;* http://www.eclipse.org/legal/epl-v10.html<br><FONT ID="LN">7   </FONT><A NAME="7"></A>&nbsp;*<br><FONT ID="LN">8   </FONT><A NAME="8"></A>&nbsp;* Contributors:<br><FONT ID="LN">9   </FONT><A NAME="9"></A>&nbsp;*     IBM Corporation - initial API and implementation<br><FONT ID="LN">10  </FONT><A NAME="10"></A>&nbsp;*     Theodora Yeung (tyeung@bea.com) - ensure that JarPackageFragmentRoot make it into cache<br><FONT ID="LN">11  </FONT><A NAME="11"></A>&nbsp;*                                                           before its contents<br><FONT ID="LN">12  </FONT><A NAME="12"></A>&nbsp;*                                                           (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=102422) <br><FONT ID="LN">13  </FONT><A NAME="13"></A>&nbsp;*******************************************************************************/</FONT><br><FONT ID="LN">14  </FONT><A NAME="14"></A><FONT ID="Package">package</FONT> org.eclipse.jdt.internal.core;<br><FONT ID="LN">15  </FONT><A NAME="15"></A><br><FONT ID="LN">16  </FONT><A NAME="16"></A><FONT ID="Import">import</FONT> java.io.*;<br><FONT ID="LN">17  </FONT><A NAME="17"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../java/net/URI.java.htm">java.net.URI</A>  <A HREF= "/1211.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">18  </FONT><A NAME="18"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../java/text/MessageFormat.java.htm">java.text.MessageFormat</A>  <A HREF= "/527.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">19  </FONT><A NAME="19"></A><FONT ID="Import">import</FONT> java.util.*;<br><FONT ID="LN">20  </FONT><A NAME="20"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../../1993.htm">java.util.Map.Entry</A>;<br><FONT ID="LN">21  </FONT><A NAME="21"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../java/util/zip/ZipFile.java.htm">java.util.zip.ZipFile</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">22  </FONT><A NAME="22"></A><br><FONT ID="LN">23  </FONT><A NAME="23"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../javax/xml/parsers/DocumentBuilder.java.htm">javax.xml.parsers.DocumentBuilder</A>  <A HREF= "/1137.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">24  </FONT><A NAME="24"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../javax/xml/parsers/DocumentBuilderFactory.java.htm">javax.xml.parsers.DocumentBuilderFactory</A>  <A HREF= "/1138.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">25  </FONT><A NAME="25"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../javax/xml/parsers/ParserConfigurationException.java.htm">javax.xml.parsers.ParserConfigurationException</A>  <A HREF= "/1448.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">26  </FONT><A NAME="26"></A><br><FONT ID="LN">27  </FONT><A NAME="27"></A><FONT ID="Import">import</FONT> org.eclipse.core.resources.*;<br><FONT ID="LN">28  </FONT><A NAME="28"></A><FONT ID="Import">import</FONT> org.eclipse.core.runtime.*;<br><FONT ID="LN">29  </FONT><A NAME="29"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/core/runtime/content/IContentTypeManager.java.htm">org.eclipse.core.runtime.content.IContentTypeManager.ContentTypeChangeEvent</A>;<br><FONT ID="LN">30  </FONT><A NAME="30"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/core/runtime/content/IContentTypeManager.java.htm">org.eclipse.core.runtime.content.IContentTypeManager.IContentTypeChangeListener</A>;<br><FONT ID="LN">31  </FONT><A NAME="31"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/core/runtime/jobs/Job.java.htm">org.eclipse.core.runtime.jobs.Job</A>;<br><FONT ID="LN">32  </FONT><A NAME="32"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/DefaultScope.java.htm">org.eclipse.core.runtime.preferences.DefaultScope</A>;<br><FONT ID="LN">33  </FONT><A NAME="33"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">org.eclipse.core.runtime.preferences.IEclipsePreferences</A>;<br><FONT ID="LN">34  </FONT><A NAME="34"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IPreferencesService.java.htm">org.eclipse.core.runtime.preferences.IPreferencesService</A>;<br><FONT ID="LN">35  </FONT><A NAME="35"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IScopeContext.java.htm">org.eclipse.core.runtime.preferences.IScopeContext</A>;<br><FONT ID="LN">36  </FONT><A NAME="36"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/InstanceScope.java.htm">org.eclipse.core.runtime.preferences.InstanceScope</A>;<br><FONT ID="LN">37  </FONT><A NAME="37"></A><FONT ID="Import">import</FONT> org.eclipse.jdt.core.*;<br><FONT ID="LN">38  </FONT><A NAME="38"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/core/compiler/CharOperation.java.htm">org.eclipse.jdt.core.compiler.CharOperation</A>;<br><FONT ID="LN">39  </FONT><A NAME="39"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/core/compiler/CompilationParticipant.java.htm">org.eclipse.jdt.core.compiler.CompilationParticipant</A>;<br><FONT ID="LN">40  </FONT><A NAME="40"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/core/compiler/IProblem.java.htm">org.eclipse.jdt.core.compiler.IProblem</A>;<br><FONT ID="LN">41  </FONT><A NAME="41"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/core/formatter/DefaultCodeFormatterConstants.java.htm">org.eclipse.jdt.core.formatter.DefaultCodeFormatterConstants</A>;<br><FONT ID="LN">42  </FONT><A NAME="42"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/codeassist/CompletionEngine.java.htm">org.eclipse.jdt.internal.codeassist.CompletionEngine</A>;<br><FONT ID="LN">43  </FONT><A NAME="43"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/codeassist/SelectionEngine.java.htm">org.eclipse.jdt.internal.codeassist.SelectionEngine</A>;<br><FONT ID="LN">44  </FONT><A NAME="44"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/AbstractAnnotationProcessorManager.java.htm">org.eclipse.jdt.internal.compiler.AbstractAnnotationProcessorManager</A>;<br><FONT ID="LN">45  </FONT><A NAME="45"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/Compiler.java.htm">org.eclipse.jdt.internal.compiler.Compiler</A>;<br><FONT ID="LN">46  </FONT><A NAME="46"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/classfmt/ClassFileConstants.java.htm">org.eclipse.jdt.internal.compiler.classfmt.ClassFileConstants</A>;<br><FONT ID="LN">47  </FONT><A NAME="47"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/env/AccessRestriction.java.htm">org.eclipse.jdt.internal.compiler.env.AccessRestriction</A>;<br><FONT ID="LN">48  </FONT><A NAME="48"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/impl/CompilerOptions.java.htm">org.eclipse.jdt.internal.compiler.impl.CompilerOptions</A>;<br><FONT ID="LN">49  </FONT><A NAME="49"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/util/HashtableOfObjectToInt.java.htm">org.eclipse.jdt.internal.compiler.util.HashtableOfObjectToInt</A>;<br><FONT ID="LN">50  </FONT><A NAME="50"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProjectElementInfo.java.htm">org.eclipse.jdt.internal.core.JavaProjectElementInfo.ProjectCache</A>;<br><FONT ID="LN">51  </FONT><A NAME="51"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/builder/JavaBuilder.java.htm">org.eclipse.jdt.internal.core.builder.JavaBuilder</A>;<br><FONT ID="LN">52  </FONT><A NAME="52"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/hierarchy/TypeHierarchy.java.htm">org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy</A>;<br><FONT ID="LN">53  </FONT><A NAME="53"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/AbstractSearchScope.java.htm">org.eclipse.jdt.internal.core.search.AbstractSearchScope</A>;<br><FONT ID="LN">54  </FONT><A NAME="54"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/BasicSearchEngine.java.htm">org.eclipse.jdt.internal.core.search.BasicSearchEngine</A>;<br><FONT ID="LN">55  </FONT><A NAME="55"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/IRestrictedAccessTypeRequestor.java.htm">org.eclipse.jdt.internal.core.search.IRestrictedAccessTypeRequestor</A>;<br><FONT ID="LN">56  </FONT><A NAME="56"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/JavaWorkspaceScope.java.htm">org.eclipse.jdt.internal.core.search.JavaWorkspaceScope</A>;<br><FONT ID="LN">57  </FONT><A NAME="57"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/indexing/IndexManager.java.htm">org.eclipse.jdt.internal.core.search.indexing.IndexManager</A>;<br><FONT ID="LN">58  </FONT><A NAME="58"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/processing/JobManager.java.htm">org.eclipse.jdt.internal.core.search.processing.JobManager</A>;<br><FONT ID="LN">59  </FONT><A NAME="59"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/HashtableOfArrayToObject.java.htm">org.eclipse.jdt.internal.core.util.HashtableOfArrayToObject</A>;<br><FONT ID="LN">60  </FONT><A NAME="60"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/LRUCache.java.htm">org.eclipse.jdt.internal.core.util.LRUCache</A>;<br><FONT ID="LN">61  </FONT><A NAME="61"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/Messages.java.htm">org.eclipse.jdt.internal.core.util.Messages</A>;<br><FONT ID="LN">62  </FONT><A NAME="62"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/Util.java.htm">org.eclipse.jdt.internal.core.util.Util</A>;<br><FONT ID="LN">63  </FONT><A NAME="63"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">org.eclipse.jdt.internal.core.util.WeakHashSet</A>;<br><FONT ID="LN">64  </FONT><A NAME="64"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSetOfCharArray.java.htm">org.eclipse.jdt.internal.core.util.WeakHashSetOfCharArray</A>;<br><FONT ID="LN">65  </FONT><A NAME="65"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/osgi/service/prefs/BackingStoreException.java.htm">org.osgi.service.prefs.BackingStoreException</A>;<br><FONT ID="LN">66  </FONT><A NAME="66"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/w3c/dom/Element.java.htm">org.w3c.dom.Element</A>  <A HREF= "/1776.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">67  </FONT><A NAME="67"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/w3c/dom/Node.java.htm">org.w3c.dom.Node</A>  <A HREF= "/514.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">68  </FONT><A NAME="68"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/w3c/dom/NodeList.java.htm">org.w3c.dom.NodeList</A>  <A HREF= "/2720.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">69  </FONT><A NAME="69"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/xml/sax/InputSource.java.htm">org.xml.sax.InputSource</A>  <A HREF= "/1904.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">70  </FONT><A NAME="70"></A><FONT ID="Import">import</FONT> <A HREF="../../../../../org/xml/sax/SAXException.java.htm">org.xml.sax.SAXException</A>  <A HREF= "/1825.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>;<br><FONT ID="LN">71  </FONT><A NAME="71"></A><br><FONT ID="LN">72  </FONT><A NAME="72"></A><FONT ID="FormalComment">/**<br><FONT ID="LN">73  </FONT><A NAME="73"></A>&nbsp;* The &lt;code&gt;JavaModelManager&lt;/code&gt; manages instances of &lt;code&gt;IJavaModel&lt;/code&gt;.<br><FONT ID="LN">74  </FONT><A NAME="74"></A>&nbsp;* &lt;code&gt;IElementChangedListener&lt;/code&gt;s register with the &lt;code&gt;JavaModelManager&lt;/code&gt;,<br><FONT ID="LN">75  </FONT><A NAME="75"></A>&nbsp;* and receive &lt;code&gt;ElementChangedEvent&lt;/code&gt;s for all &lt;code&gt;IJavaModel&lt;/code&gt;s.<br><FONT ID="LN">76  </FONT><A NAME="76"></A>&nbsp;* &lt;p&gt;<br><FONT ID="LN">77  </FONT><A NAME="77"></A>&nbsp;* The single instance of &lt;code&gt;JavaModelManager&lt;/code&gt; is available from<br><FONT ID="LN">78  </FONT><A NAME="78"></A>&nbsp;* the static method &lt;code&gt;JavaModelManager.getJavaModelManager()&lt;/code&gt;.<br><FONT ID="LN">79  </FONT><A NAME="79"></A>&nbsp;*/</FONT><br><FONT ID="LN">80  </FONT><A NAME="80"></A><FONT ID="Public">public</FONT> <FONT ID="Class">class</FONT> JavaModelManager <FONT ID="Implements">implements</FONT> ISaveParticipant, IContentTypeChangeListener {     <br><FONT ID="LN">81  </FONT><A NAME="81"></A>&nbsp;<br><FONT ID="LN">82  </FONT><A NAME="82"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">83  </FONT><A NAME="83"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Unique handle onto the JavaModel<br><FONT ID="LN">84  </FONT><A NAME="84"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">85  </FONT><A NAME="85"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModel.java.htm">JavaModel</A> javaModel = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModel.java.htm">JavaModel</A>();<br><FONT ID="LN">86  </FONT><A NAME="86"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">87  </FONT><A NAME="87"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">88  </FONT><A NAME="88"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Classpath variables pool<br><FONT ID="LN">89  </FONT><A NAME="89"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">90  </FONT><A NAME="90"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> HashMap variables = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">91  </FONT><A NAME="91"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> variablesWithInitializer = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">92  </FONT><A NAME="92"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> HashMap deprecatedVariables = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">93  </FONT><A NAME="93"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> readOnlyVariables = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">94  </FONT><A NAME="94"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> HashMap previousSessionVariables = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">95  </FONT><A NAME="95"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> variableInitializationInProgress = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">96  </FONT><A NAME="96"></A><br><FONT ID="LN">97  </FONT><A NAME="97"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">98  </FONT><A NAME="98"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Classpath containers pool<br><FONT ID="LN">99  </FONT><A NAME="99"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">100 </FONT><A NAME="100"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> HashMap containers = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">101 </FONT><A NAME="101"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> HashMap previousSessionContainers = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">102 </FONT><A NAME="102"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> containerInitializationInProgress = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">103 </FONT><A NAME="103"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> batchContainerInitializations = <FONT ID="False">false</FONT>;<br><FONT ID="LN">104 </FONT><A NAME="104"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> batchContainerInitializationsProgress = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">105 </FONT><A NAME="105"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> HashMap containerInitializersCache = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">106 </FONT><A NAME="106"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">107 </FONT><A NAME="107"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">108 </FONT><A NAME="108"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* A HashSet that contains the IJavaProject whose classpath is being resolved.<br><FONT ID="LN">109 </FONT><A NAME="109"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">110 </FONT><A NAME="110"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> classpathsBeingResolved = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">111 </FONT><A NAME="111"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">112 </FONT><A NAME="112"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">113 </FONT><A NAME="113"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The unique workspace scope<br><FONT ID="LN">114 </FONT><A NAME="114"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">115 </FONT><A NAME="115"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/JavaWorkspaceScope.java.htm">JavaWorkspaceScope</A> workspaceScope;<br><FONT ID="LN">116 </FONT><A NAME="116"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">117 </FONT><A NAME="117"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">118 </FONT><A NAME="118"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Pools of symbols used in the Java model.<br><FONT ID="LN">119 </FONT><A NAME="119"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Used as a replacement for String#intern() that could prevent garbage collection of strings on some VMs.<br><FONT ID="LN">120 </FONT><A NAME="120"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">121 </FONT><A NAME="121"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">WeakHashSet</A> stringSymbols = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">WeakHashSet</A>(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">122 </FONT><A NAME="122"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSetOfCharArray.java.htm">WeakHashSetOfCharArray</A> charArraySymbols = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSetOfCharArray.java.htm">WeakHashSetOfCharArray</A>(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">123 </FONT><A NAME="123"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">124 </FONT><A NAME="124"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">125 </FONT><A NAME="125"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Extension used to construct Java 6 annotation processor managers<br><FONT ID="LN">126 </FONT><A NAME="126"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">127 </FONT><A NAME="127"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IConfigurationElement annotationProcessorManagerFactory = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">128 </FONT><A NAME="128"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">129 </FONT><A NAME="129"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/* <br><FONT ID="LN">130 </FONT><A NAME="130"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Map from a package fragment root's path to a source attachment property (source path + ATTACHMENT_PROPERTY_DELIMITER + source root path)<br><FONT ID="LN">131 </FONT><A NAME="131"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">132 </FONT><A NAME="132"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> Map rootPathToAttachments = <FONT ID="New">new</FONT> HashMap();<br><FONT ID="LN">133 </FONT><A NAME="133"></A><br><FONT ID="LN">134 </FONT><A NAME="134"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> CP_VARIABLE_PREFERENCES_PREFIX = JavaCore.PLUGIN_ID+<FONT ID="StringLiteral">".classpathVariable."</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">135 </FONT><A NAME="135"></A></FONT>    <FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> CP_CONTAINER_PREFERENCES_PREFIX = JavaCore.PLUGIN_ID+<FONT ID="StringLiteral">".classpathContainer."</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">136 </FONT><A NAME="136"></A></FONT>    <FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> CP_ENTRY_IGNORE = <FONT ID="StringLiteral">"##&lt;cp entry ignore&gt;##"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">137 </FONT><A NAME="137"></A></FONT>    <FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> IPath CP_ENTRY_IGNORE_PATH = <FONT ID="New">new</FONT> Path(CP_ENTRY_IGNORE);<br><FONT ID="LN">138 </FONT><A NAME="138"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> TRUE = <FONT ID="StringLiteral">"true"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">139 </FONT><A NAME="139"></A></FONT>    <br><FONT ID="LN">140 </FONT><A NAME="140"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> <FONT ID="Int">int</FONT> VARIABLES_AND_CONTAINERS_FILE_VERSION = <FONT ID="IntegerLiteral">2</FONT>;<br><FONT ID="LN">141 </FONT><A NAME="141"></A><br><FONT ID="LN">142 </FONT><A NAME="142"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">143 </FONT><A NAME="143"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Name of the extension point for contributing classpath variable initializers<br><FONT ID="LN">144 </FONT><A NAME="144"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">145 </FONT><A NAME="145"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> CPVARIABLE_INITIALIZER_EXTPOINT_ID = <FONT ID="StringLiteral">"classpathVariableInitializer"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">146 </FONT><A NAME="146"></A></FONT><br><FONT ID="LN">147 </FONT><A NAME="147"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">148 </FONT><A NAME="148"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Name of the extension point for contributing classpath container initializers<br><FONT ID="LN">149 </FONT><A NAME="149"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">150 </FONT><A NAME="150"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> CPCONTAINER_INITIALIZER_EXTPOINT_ID = <FONT ID="StringLiteral">"classpathContainerInitializer"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">151 </FONT><A NAME="151"></A></FONT><br><FONT ID="LN">152 </FONT><A NAME="152"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">153 </FONT><A NAME="153"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Name of the extension point for contributing a source code formatter<br><FONT ID="LN">154 </FONT><A NAME="154"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">155 </FONT><A NAME="155"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> FORMATTER_EXTPOINT_ID = <FONT ID="StringLiteral">"codeFormatter"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">156 </FONT><A NAME="156"></A></FONT>    <br><FONT ID="LN">157 </FONT><A NAME="157"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">158 </FONT><A NAME="158"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Name of the extension point for contributing a compilation participant<br><FONT ID="LN">159 </FONT><A NAME="159"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">160 </FONT><A NAME="160"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> COMPILATION_PARTICIPANT_EXTPOINT_ID = <FONT ID="StringLiteral">"compilationParticipant"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">161 </FONT><A NAME="161"></A></FONT>    <br><FONT ID="LN">162 </FONT><A NAME="162"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">163 </FONT><A NAME="163"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Name of the extension point for contributing the Java 6 annotation processor manager<br><FONT ID="LN">164 </FONT><A NAME="164"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">165 </FONT><A NAME="165"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> ANNOTATION_PROCESSOR_MANAGER_EXTPOINT_ID = <FONT ID="StringLiteral">"annotationProcessorManager"</FONT> ;  <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">166 </FONT><A NAME="166"></A></FONT>    <br><FONT ID="LN">167 </FONT><A NAME="167"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">168 </FONT><A NAME="168"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Special value used for recognizing ongoing initialization and breaking initialization cycles<br><FONT ID="LN">169 </FONT><A NAME="169"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">170 </FONT><A NAME="170"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> IPath VARIABLE_INITIALIZATION_IN_PROGRESS = <FONT ID="New">new</FONT> Path(<FONT ID="StringLiteral">"Variable Initialization In Progress"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">171 </FONT><A NAME="171"></A></FONT>    <FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> IClasspathContainer CONTAINER_INITIALIZATION_IN_PROGRESS = <FONT ID="New">new</FONT> IClasspathContainer() {<br><FONT ID="LN">172 </FONT><A NAME="172"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IClasspathEntry[] getClasspathEntries() { <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>; }<br><FONT ID="LN">173 </FONT><A NAME="173"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getDescription() { <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Container Initialization In Progress"</FONT>; } <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">174 </FONT><A NAME="174"></A></FONT>        <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getKind() { <FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">0</FONT>; }<br><FONT ID="LN">175 </FONT><A NAME="175"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IPath getPath() { <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>; }<br><FONT ID="LN">176 </FONT><A NAME="176"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> toString() { <FONT ID="Return">return</FONT> getDescription(); }<br><FONT ID="LN">177 </FONT><A NAME="177"></A>&nbsp;&nbsp;&nbsp;&nbsp;};<br><FONT ID="LN">178 </FONT><A NAME="178"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">179 </FONT><A NAME="179"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> BUFFER_MANAGER_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/buffermanager"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">180 </FONT><A NAME="180"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> INDEX_MANAGER_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/indexmanager"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">181 </FONT><A NAME="181"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> COMPILER_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/compiler"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">182 </FONT><A NAME="182"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> JAVAMODEL_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/javamodel"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">183 </FONT><A NAME="183"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> JAVAMODELCACHE_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/javamodel/cache"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">184 </FONT><A NAME="184"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> CP_RESOLVE_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/cpresolution"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">185 </FONT><A NAME="185"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> CP_RESOLVE_ADVANCED_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/cpresolution/advanced"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">186 </FONT><A NAME="186"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> ZIP_ACCESS_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/zipaccess"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">187 </FONT><A NAME="187"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> DELTA_DEBUG =JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/javadelta"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">188 </FONT><A NAME="188"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> DELTA_DEBUG_VERBOSE =JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/javadelta/verbose"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">189 </FONT><A NAME="189"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> HIERARCHY_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/hierarchy"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">190 </FONT><A NAME="190"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> POST_ACTION_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/postaction"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">191 </FONT><A NAME="191"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> BUILDER_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/builder"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">192 </FONT><A NAME="192"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> COMPLETION_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/completion"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">193 </FONT><A NAME="193"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> RESOLUTION_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/resolution"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">194 </FONT><A NAME="194"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> SELECTION_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/selection"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">195 </FONT><A NAME="195"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> SEARCH_DEBUG = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/search"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">196 </FONT><A NAME="196"></A></FONT>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> SOURCE_MAPPER_DEBUG_VERBOSE = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/debug/sourcemapper"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">197 </FONT><A NAME="197"></A></FONT><br><FONT ID="LN">198 </FONT><A NAME="198"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> COMPLETION_PERF = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/perf/completion"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">199 </FONT><A NAME="199"></A></FONT>    <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> SELECTION_PERF = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/perf/selection"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">200 </FONT><A NAME="200"></A></FONT>    <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> DELTA_LISTENER_PERF = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/perf/javadeltalistener"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">201 </FONT><A NAME="201"></A></FONT>    <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> VARIABLE_INITIALIZER_PERF = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/perf/variableinitializer"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">202 </FONT><A NAME="202"></A></FONT>    <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> CONTAINER_INITIALIZER_PERF = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/perf/containerinitializer"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">203 </FONT><A NAME="203"></A></FONT>    <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> RECONCILE_PERF = JavaCore.PLUGIN_ID + <FONT ID="StringLiteral">"/perf/reconcile"</FONT> ; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">204 </FONT><A NAME="204"></A></FONT>    <br><FONT ID="LN">205 </FONT><A NAME="205"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> INDEXED_SECONDARY_TYPES = <FONT ID="StringLiteral">"#@*_indexing secondary cache_*@#"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">206 </FONT><A NAME="206"></A></FONT><br><FONT ID="LN">207 </FONT><A NAME="207"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Boolean">boolean</FONT> PERF_VARIABLE_INITIALIZER = <FONT ID="False">false</FONT>;<br><FONT ID="LN">208 </FONT><A NAME="208"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Boolean">boolean</FONT> PERF_CONTAINER_INITIALIZER = <FONT ID="False">false</FONT>;<br><FONT ID="LN">209 </FONT><A NAME="209"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">210 </FONT><A NAME="210"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> ICompilationUnit[] NO_WORKING_COPY = <FONT ID="New">new</FONT> ICompilationUnit[<FONT ID="IntegerLiteral">0</FONT>];<br><FONT ID="LN">211 </FONT><A NAME="211"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">212 </FONT><A NAME="212"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Preferences<br><FONT ID="LN">213 </FONT><A NAME="213"></A></FONT>    <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> optionNames = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>(<FONT ID="IntegerLiteral">20</FONT>);<br><FONT ID="LN">214 </FONT><A NAME="214"></A>&nbsp;&nbsp;&nbsp;&nbsp;Hashtable optionsCache;<br><FONT ID="LN">215 </FONT><A NAME="215"></A><br><FONT ID="LN">216 </FONT><A NAME="216"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A>[] preferencesLookup = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A>[<FONT ID="IntegerLiteral">2</FONT>];<br><FONT ID="LN">217 </FONT><A NAME="217"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> PREF_INSTANCE = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">218 </FONT><A NAME="218"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> PREF_DEFAULT = <FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">219 </FONT><A NAME="219"></A><br><FONT ID="LN">220 </FONT><A NAME="220"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[][] NO_PARTICIPANTS = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[<FONT ID="IntegerLiteral">0</FONT>][];<br><FONT ID="LN">221 </FONT><A NAME="221"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">222 </FONT><A NAME="222"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> CompilationParticipants {<br><FONT ID="LN">223 </FONT><A NAME="223"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">224 </FONT><A NAME="224"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> <FONT ID="Int">int</FONT> MAX_SOURCE_LEVEL = <FONT ID="IntegerLiteral">7</FONT>; <FONT ID="SingleLineComment">// 1.1 to 1.7<br><FONT ID="LN">225 </FONT><A NAME="225"></A></FONT>    <br><FONT ID="LN">226 </FONT><A NAME="226"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">227 </FONT><A NAME="227"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The registered compilation participants (a table from int (source level) to Object[])<br><FONT ID="LN">228 </FONT><A NAME="228"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The Object array contains first IConfigurationElements when not resolved yet, then<br><FONT ID="LN">229 </FONT><A NAME="229"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* it contains CompilationParticipants.<br><FONT ID="LN">230 </FONT><A NAME="230"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">231 </FONT><A NAME="231"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[][] registeredParticipants = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">232 </FONT><A NAME="232"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> managedMarkerTypes;<br><FONT ID="LN">233 </FONT><A NAME="233"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">234 </FONT><A NAME="234"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/core/compiler/CompilationParticipant.java.htm">CompilationParticipant</A>[] getCompilationParticipants(IJavaProject project) {<br><FONT ID="LN">235 </FONT><A NAME="235"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[][] participantsPerSource = getRegisteredParticipants();<br><FONT ID="LN">236 </FONT><A NAME="236"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (participantsPerSource == NO_PARTICIPANTS)<br><FONT ID="LN">237 </FONT><A NAME="237"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">238 </FONT><A NAME="238"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> sourceLevel = project.getOption(JavaCore.COMPILER_SOURCE, <FONT ID="True">true</FONT><FONT ID="MultiLineComment">/*inherit options*/</FONT>);<br><FONT ID="LN">239 </FONT><A NAME="239"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> sourceLevelIndex = indexForSourceLevel(sourceLevel);<br><FONT ID="LN">240 </FONT><A NAME="240"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] participants = participantsPerSource[sourceLevelIndex];<br><FONT ID="LN">241 </FONT><A NAME="241"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> length = participants.length;<br><FONT ID="LN">242 </FONT><A NAME="242"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/core/compiler/CompilationParticipant.java.htm">CompilationParticipant</A>[] result = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/core/compiler/CompilationParticipant.java.htm">CompilationParticipant</A>[length];<br><FONT ID="LN">243 </FONT><A NAME="243"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> index = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">244 </FONT><A NAME="244"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; length; i++) {<br><FONT ID="LN">245 </FONT><A NAME="245"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (participants[i] <FONT ID="InstanceOf">instanceof</FONT> IConfigurationElement) {<br><FONT ID="LN">246 </FONT><A NAME="246"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IConfigurationElement configElement = (IConfigurationElement) participants[i];<br><FONT ID="LN">247 </FONT><A NAME="247"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> participantIndex = i;<br><FONT ID="LN">248 </FONT><A NAME="248"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SafeRunner.run(<FONT ID="New">new</FONT> ISafeRunnable() {<br><FONT ID="LN">249 </FONT><A NAME="249"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> handleException(<A HREF="../../../../../java/lang/Throwable.java.htm">Throwable</A>  <A HREF= "/1543.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> exception) {<br><FONT ID="LN">250 </FONT><A NAME="250"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.log(exception, <FONT ID="StringLiteral">"Exception occurred while creating compilation participant"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">251 </FONT><A NAME="251"></A></FONT>                        }<br><FONT ID="LN">252 </FONT><A NAME="252"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> run() <FONT ID="Throws">throws</FONT> <A HREF="../../../../../java/lang/Exception.java.htm">Exception</A>  <A HREF= "/2619.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> {<br><FONT ID="LN">253 </FONT><A NAME="253"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> executableExtension = configElement.createExecutableExtension(<FONT ID="StringLiteral">"class"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ <br><FONT ID="LN">254 </FONT><A NAME="254"></A></FONT>                            <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = sourceLevelIndex; j &lt; MAX_SOURCE_LEVEL; j++)<br><FONT ID="LN">255 </FONT><A NAME="255"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;participantsPerSource[j][participantIndex] = executableExtension;<br><FONT ID="LN">256 </FONT><A NAME="256"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">257 </FONT><A NAME="257"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br><FONT ID="LN">258 </FONT><A NAME="258"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br><FONT ID="LN">259 </FONT><A NAME="259"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/core/compiler/CompilationParticipant.java.htm">CompilationParticipant</A> participant = (<A HREF="../../../../../org/eclipse/jdt/core/compiler/CompilationParticipant.java.htm">CompilationParticipant</A>) participants[i];<br><FONT ID="LN">260 </FONT><A NAME="260"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (participant != <FONT ID="Null">null</FONT> &amp;&amp; participant.isActive(project))<br><FONT ID="LN">261 </FONT><A NAME="261"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[index++] = participant;<br><FONT ID="LN">262 </FONT><A NAME="262"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">263 </FONT><A NAME="263"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (index == <FONT ID="IntegerLiteral">0</FONT>)<br><FONT ID="LN">264 </FONT><A NAME="264"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">265 </FONT><A NAME="265"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (index &lt; length)<br><FONT ID="LN">266 </FONT><A NAME="266"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(result, <FONT ID="IntegerLiteral">0</FONT>, result = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/core/compiler/CompilationParticipant.java.htm">CompilationParticipant</A>[index], <FONT ID="IntegerLiteral">0</FONT>, index);<br><FONT ID="LN">267 </FONT><A NAME="267"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> result;<br><FONT ID="LN">268 </FONT><A NAME="268"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">269 </FONT><A NAME="269"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">270 </FONT><A NAME="270"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> managedMarkerTypes() {<br><FONT ID="LN">271 </FONT><A NAME="271"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.managedMarkerTypes == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">272 </FONT><A NAME="272"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// force extension points to be read<br><FONT ID="LN">273 </FONT><A NAME="273"></A></FONT>                getRegisteredParticipants();<br><FONT ID="LN">274 </FONT><A NAME="274"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">275 </FONT><A NAME="275"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.managedMarkerTypes;<br><FONT ID="LN">276 </FONT><A NAME="276"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">277 </FONT><A NAME="277"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">278 </FONT><A NAME="278"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Synchronized">synchronized</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[][] getRegisteredParticipants() {<br><FONT ID="LN">279 </FONT><A NAME="279"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.registeredParticipants != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">280 </FONT><A NAME="280"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.registeredParticipants;<br><FONT ID="LN">281 </FONT><A NAME="281"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">282 </FONT><A NAME="282"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.managedMarkerTypes = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>();<br><FONT ID="LN">283 </FONT><A NAME="283"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IExtensionPoint extension = Platform.getExtensionRegistry().getExtensionPoint(JavaCore.PLUGIN_ID, COMPILATION_PARTICIPANT_EXTPOINT_ID);<br><FONT ID="LN">284 </FONT><A NAME="284"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (extension == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">285 </FONT><A NAME="285"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.registeredParticipants = NO_PARTICIPANTS;<br><FONT ID="LN">286 </FONT><A NAME="286"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> ArrayList modifyingEnv = <FONT ID="New">new</FONT> ArrayList();<br><FONT ID="LN">287 </FONT><A NAME="287"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> ArrayList creatingProblems = <FONT ID="New">new</FONT> ArrayList();<br><FONT ID="LN">288 </FONT><A NAME="288"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> ArrayList others = <FONT ID="New">new</FONT> ArrayList();<br><FONT ID="LN">289 </FONT><A NAME="289"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IExtension[] extensions = extension.getExtensions();<br><FONT ID="LN">290 </FONT><A NAME="290"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// for all extensions of this point...<br><FONT ID="LN">291 </FONT><A NAME="291"></A></FONT>            <FONT ID="For">for</FONT>(<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; extensions.length; i++) {<br><FONT ID="LN">292 </FONT><A NAME="292"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IConfigurationElement[] configElements = extensions[i].getConfigurationElements();<br><FONT ID="LN">293 </FONT><A NAME="293"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// for all config elements named "compilationParticipant"<br><FONT ID="LN">294 </FONT><A NAME="294"></A></FONT>                <FONT ID="For">for</FONT>(<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; configElements.length; j++) {<br><FONT ID="LN">295 </FONT><A NAME="295"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IConfigurationElement configElement = configElements[j];<br><FONT ID="LN">296 </FONT><A NAME="296"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> elementName =configElement.getName();<br><FONT ID="LN">297 </FONT><A NAME="297"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!(<FONT ID="StringLiteral">"compilationParticipant"</FONT>.equals(elementName))) { <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">298 </FONT><A NAME="298"></A></FONT>                        <FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">299 </FONT><A NAME="299"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">300 </FONT><A NAME="300"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// add config element in the group it belongs to<br><FONT ID="LN">301 </FONT><A NAME="301"></A></FONT>                    <FONT ID="If">if</FONT> (TRUE.equals(configElement.getAttribute(<FONT ID="StringLiteral">"modifiesEnvironment"</FONT>))) <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">302 </FONT><A NAME="302"></A></FONT>                        modifyingEnv.add(configElement);<br><FONT ID="LN">303 </FONT><A NAME="303"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (TRUE.equals(configElement.getAttribute(<FONT ID="StringLiteral">"createsProblems"</FONT>))) <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">304 </FONT><A NAME="304"></A></FONT>                        creatingProblems.add(configElement);<br><FONT ID="LN">305 </FONT><A NAME="305"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Else">else</FONT><br><FONT ID="LN">306 </FONT><A NAME="306"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;others.add(configElement);<br><FONT ID="LN">307 </FONT><A NAME="307"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// add managed marker types<br><FONT ID="LN">308 </FONT><A NAME="308"></A></FONT>                    IConfigurationElement[] managedMarkers = configElement.getChildren(<FONT ID="StringLiteral">"managedMarker"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">309 </FONT><A NAME="309"></A></FONT>                    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>, length = managedMarkers.length; k &lt; length; k++) {<br><FONT ID="LN">310 </FONT><A NAME="310"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IConfigurationElement element = managedMarkers[k];<br><FONT ID="LN">311 </FONT><A NAME="311"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> markerType = element.getAttribute(<FONT ID="StringLiteral">"markerType"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">312 </FONT><A NAME="312"></A></FONT>                        <FONT ID="If">if</FONT> (markerType != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">313 </FONT><A NAME="313"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.managedMarkerTypes.add(markerType);<br><FONT ID="LN">314 </FONT><A NAME="314"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">315 </FONT><A NAME="315"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">316 </FONT><A NAME="316"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">317 </FONT><A NAME="317"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> size = modifyingEnv.size() + creatingProblems.size() + others.size();<br><FONT ID="LN">318 </FONT><A NAME="318"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (size == <FONT ID="IntegerLiteral">0</FONT>)<br><FONT ID="LN">319 </FONT><A NAME="319"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.registeredParticipants = NO_PARTICIPANTS;<br><FONT ID="LN">320 </FONT><A NAME="320"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">321 </FONT><A NAME="321"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// sort config elements in each group<br><FONT ID="LN">322 </FONT><A NAME="322"></A></FONT>            IConfigurationElement[] configElements = <FONT ID="New">new</FONT> IConfigurationElement[size];<br><FONT ID="LN">323 </FONT><A NAME="323"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> index = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">324 </FONT><A NAME="324"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index = sortParticipants(modifyingEnv, configElements, index);<br><FONT ID="LN">325 </FONT><A NAME="325"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index = sortParticipants(creatingProblems, configElements, index);<br><FONT ID="LN">326 </FONT><A NAME="326"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index = sortParticipants(others, configElements, index);<br><FONT ID="LN">327 </FONT><A NAME="327"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">328 </FONT><A NAME="328"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// create result table<br><FONT ID="LN">329 </FONT><A NAME="329"></A></FONT>            <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[][] result = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[MAX_SOURCE_LEVEL][];<br><FONT ID="LN">330 </FONT><A NAME="330"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> length = configElements.length;<br><FONT ID="LN">331 </FONT><A NAME="331"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; MAX_SOURCE_LEVEL; i++) {<br><FONT ID="LN">332 </FONT><A NAME="332"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[i] = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[length];<br><FONT ID="LN">333 </FONT><A NAME="333"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">334 </FONT><A NAME="334"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; length; i++) {<br><FONT ID="LN">335 </FONT><A NAME="335"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> sourceLevel = configElements[i].getAttribute(<FONT ID="StringLiteral">"requiredSourceLevel"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">336 </FONT><A NAME="336"></A></FONT>                <FONT ID="Int">int</FONT> sourceLevelIndex = indexForSourceLevel(sourceLevel);<br><FONT ID="LN">337 </FONT><A NAME="337"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = sourceLevelIndex; j &lt; MAX_SOURCE_LEVEL; j++) {<br><FONT ID="LN">338 </FONT><A NAME="338"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[j][i] = configElements[i];<br><FONT ID="LN">339 </FONT><A NAME="339"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">340 </FONT><A NAME="340"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">341 </FONT><A NAME="341"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.registeredParticipants = result;<br><FONT ID="LN">342 </FONT><A NAME="342"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">343 </FONT><A NAME="343"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">344 </FONT><A NAME="344"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">345 </FONT><A NAME="345"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 1.1 -&gt; 0<br><FONT ID="LN">346 </FONT><A NAME="346"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 1.2 -&gt; 1<br><FONT ID="LN">347 </FONT><A NAME="347"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* ...<br><FONT ID="LN">348 </FONT><A NAME="348"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 1.6 -&gt; 5<br><FONT ID="LN">349 </FONT><A NAME="349"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 1.7 -&gt; 6<br><FONT ID="LN">350 </FONT><A NAME="350"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* null -&gt; 0<br><FONT ID="LN">351 </FONT><A NAME="351"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">352 </FONT><A NAME="352"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> indexForSourceLevel(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> sourceLevel) {<br><FONT ID="LN">353 </FONT><A NAME="353"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (sourceLevel == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">354 </FONT><A NAME="354"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> majVersion = (<FONT ID="Int">int</FONT>) (CompilerOptions.versionToJdkLevel(sourceLevel) &gt;&gt;&gt; <FONT ID="IntegerLiteral">16</FONT>);<br><FONT ID="LN">355 </FONT><A NAME="355"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Switch">switch</FONT> (majVersion) {<br><FONT ID="LN">356 </FONT><A NAME="356"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> ClassFileConstants.MAJOR_VERSION_1_2:<br><FONT ID="LN">357 </FONT><A NAME="357"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">358 </FONT><A NAME="358"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> ClassFileConstants.MAJOR_VERSION_1_3:<br><FONT ID="LN">359 </FONT><A NAME="359"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">2</FONT>;<br><FONT ID="LN">360 </FONT><A NAME="360"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> ClassFileConstants.MAJOR_VERSION_1_4:<br><FONT ID="LN">361 </FONT><A NAME="361"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">3</FONT>;<br><FONT ID="LN">362 </FONT><A NAME="362"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> ClassFileConstants.MAJOR_VERSION_1_5:<br><FONT ID="LN">363 </FONT><A NAME="363"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">4</FONT>;<br><FONT ID="LN">364 </FONT><A NAME="364"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> ClassFileConstants.MAJOR_VERSION_1_6:<br><FONT ID="LN">365 </FONT><A NAME="365"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">5</FONT>;<br><FONT ID="LN">366 </FONT><A NAME="366"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> ClassFileConstants.MAJOR_VERSION_1_7:<br><FONT ID="LN">367 </FONT><A NAME="367"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">6</FONT>;<br><FONT ID="LN">368 </FONT><A NAME="368"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Default">default</FONT>:<br><FONT ID="LN">369 </FONT><A NAME="369"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// all other cases including ClassFileConstants.MAJOR_VERSION_1_1<br><FONT ID="LN">370 </FONT><A NAME="370"></A></FONT>                    <FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">371 </FONT><A NAME="371"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">372 </FONT><A NAME="372"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">373 </FONT><A NAME="373"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">374 </FONT><A NAME="374"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> sortParticipants(ArrayList group, IConfigurationElement[] configElements, <FONT ID="Int">int</FONT> index) {<br><FONT ID="LN">375 </FONT><A NAME="375"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> size = group.size();<br><FONT ID="LN">376 </FONT><A NAME="376"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (size == <FONT ID="IntegerLiteral">0</FONT>) <FONT ID="Return">return</FONT> index;<br><FONT ID="LN">377 </FONT><A NAME="377"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] elements = group.toArray();<br><FONT ID="LN">378 </FONT><A NAME="378"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.sort(elements, <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/Util.java.htm">Util.Comparer</A>() {<br><FONT ID="LN">379 </FONT><A NAME="379"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> compare(<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> a, <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> b) {<br><FONT ID="LN">380 </FONT><A NAME="380"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (a == b) <FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">381 </FONT><A NAME="381"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> id = ((IConfigurationElement) a).getAttribute(<FONT ID="StringLiteral">"id"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">382 </FONT><A NAME="382"></A></FONT>                    <FONT ID="If">if</FONT> (id == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> -<FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">383 </FONT><A NAME="383"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IConfigurationElement[] requiredElements = ((IConfigurationElement) b).getChildren(<FONT ID="StringLiteral">"requires"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">384 </FONT><A NAME="384"></A></FONT>                    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, length = requiredElements.length; i &lt; length; i++) {<br><FONT ID="LN">385 </FONT><A NAME="385"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IConfigurationElement required = requiredElements[i];<br><FONT ID="LN">386 </FONT><A NAME="386"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (id.equals(required.getAttribute(<FONT ID="StringLiteral">"id"</FONT>))) <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">387 </FONT><A NAME="387"></A></FONT>                            <FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">388 </FONT><A NAME="388"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">389 </FONT><A NAME="389"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> -<FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">390 </FONT><A NAME="390"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">391 </FONT><A NAME="391"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br><FONT ID="LN">392 </FONT><A NAME="392"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; size; i++)<br><FONT ID="LN">393 </FONT><A NAME="393"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configElements[index+i] = (IConfigurationElement) elements[i];<br><FONT ID="LN">394 </FONT><A NAME="394"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> index + size;<br><FONT ID="LN">395 </FONT><A NAME="395"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">396 </FONT><A NAME="396"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">397 </FONT><A NAME="397"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">398 </FONT><A NAME="398"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> CompilationParticipants compilationParticipants = <FONT ID="New">new</FONT> CompilationParticipants();<br><FONT ID="LN">399 </FONT><A NAME="399"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">400 </FONT><A NAME="400"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">401 </FONT><A NAME="401"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns whether the given full path (for a package) conflicts with the output location<br><FONT ID="LN">402 </FONT><A NAME="402"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* of the given project.<br><FONT ID="LN">403 </FONT><A NAME="403"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">404 </FONT><A NAME="404"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Boolean">boolean</FONT> conflictsWithOutputLocation(IPath folderPath, <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A> project) {<br><FONT ID="LN">405 </FONT><A NAME="405"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">406 </FONT><A NAME="406"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath outputLocation = project.getOutputLocation();<br><FONT ID="LN">407 </FONT><A NAME="407"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (outputLocation == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">408 </FONT><A NAME="408"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// in doubt, there is a conflict<br><FONT ID="LN">409 </FONT><A NAME="409"></A></FONT>                <FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;<br><FONT ID="LN">410 </FONT><A NAME="410"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">411 </FONT><A NAME="411"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (outputLocation.isPrefixOf(folderPath)) {<br><FONT ID="LN">412 </FONT><A NAME="412"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// only allow nesting in project's output if there is a corresponding source folder<br><FONT ID="LN">413 </FONT><A NAME="413"></A></FONT>                <FONT ID="SingleLineComment">// or if the project's output is not used (in other words, if all source folders have their custom output)<br><FONT ID="LN">414 </FONT><A NAME="414"></A></FONT>                IClasspathEntry[] classpath = project.getResolvedClasspath();<br><FONT ID="LN">415 </FONT><A NAME="415"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> isOutputUsed = <FONT ID="False">false</FONT>;<br><FONT ID="LN">416 </FONT><A NAME="416"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, length = classpath.length; i &lt; length; i++) {<br><FONT ID="LN">417 </FONT><A NAME="417"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry entry = classpath[i];<br><FONT ID="LN">418 </FONT><A NAME="418"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entry.getEntryKind() == IClasspathEntry.CPE_SOURCE) {<br><FONT ID="LN">419 </FONT><A NAME="419"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entry.getPath().equals(outputLocation)) {<br><FONT ID="LN">420 </FONT><A NAME="420"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">421 </FONT><A NAME="421"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">422 </FONT><A NAME="422"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entry.getOutputLocation() == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">423 </FONT><A NAME="423"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isOutputUsed = <FONT ID="True">true</FONT>;<br><FONT ID="LN">424 </FONT><A NAME="424"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">425 </FONT><A NAME="425"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">426 </FONT><A NAME="426"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">427 </FONT><A NAME="427"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> isOutputUsed;<br><FONT ID="LN">428 </FONT><A NAME="428"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">429 </FONT><A NAME="429"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">430 </FONT><A NAME="430"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (JavaModelException e) {<br><FONT ID="LN">431 </FONT><A NAME="431"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// in doubt, there is a conflict<br><FONT ID="LN">432 </FONT><A NAME="432"></A></FONT>            <FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;<br><FONT ID="LN">433 </FONT><A NAME="433"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">434 </FONT><A NAME="434"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">435 </FONT><A NAME="435"></A><br><FONT ID="LN">436 </FONT><A NAME="436"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> IClasspathContainer containerGet(IJavaProject project, IPath containerPath) {   <br><FONT ID="LN">437 </FONT><A NAME="437"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// check initialization in progress first<br><FONT ID="LN">438 </FONT><A NAME="438"></A></FONT>        <FONT ID="If">if</FONT> (containerIsInitializationInProgress(project, containerPath)) {<br><FONT ID="LN">439 </FONT><A NAME="439"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> CONTAINER_INITIALIZATION_IN_PROGRESS;<br><FONT ID="LN">440 </FONT><A NAME="440"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">441 </FONT><A NAME="441"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">442 </FONT><A NAME="442"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map projectContainers = (Map)<FONT ID="This">this</FONT>.containers.get(project);<br><FONT ID="LN">443 </FONT><A NAME="443"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectContainers == <FONT ID="Null">null</FONT>){<br><FONT ID="LN">444 </FONT><A NAME="444"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">445 </FONT><A NAME="445"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">446 </FONT><A NAME="446"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer container = (IClasspathContainer)projectContainers.get(containerPath);<br><FONT ID="LN">447 </FONT><A NAME="447"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> container;<br><FONT ID="LN">448 </FONT><A NAME="448"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">449 </FONT><A NAME="449"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">450 </FONT><A NAME="450"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> IClasspathContainer containerGetDefaultToPreviousSession(IJavaProject project, IPath containerPath) {   <br><FONT ID="LN">451 </FONT><A NAME="451"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map projectContainers = (Map)<FONT ID="This">this</FONT>.containers.get(project);<br><FONT ID="LN">452 </FONT><A NAME="452"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectContainers == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">453 </FONT><A NAME="453"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> getPreviousSessionContainer(containerPath, project);<br><FONT ID="LN">454 </FONT><A NAME="454"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer container = (IClasspathContainer)projectContainers.get(containerPath);<br><FONT ID="LN">455 </FONT><A NAME="455"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">456 </FONT><A NAME="456"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> getPreviousSessionContainer(containerPath, project);<br><FONT ID="LN">457 </FONT><A NAME="457"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> container;<br><FONT ID="LN">458 </FONT><A NAME="458"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">459 </FONT><A NAME="459"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">460 </FONT><A NAME="460"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Synchronized">synchronized</FONT> Map containerClone(IJavaProject project) {<br><FONT ID="LN">461 </FONT><A NAME="461"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map originalProjectContainers = (Map)<FONT ID="This">this</FONT>.containers.get(project);<br><FONT ID="LN">462 </FONT><A NAME="462"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (originalProjectContainers == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">463 </FONT><A NAME="463"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map projectContainers = <FONT ID="New">new</FONT> HashMap(originalProjectContainers.size());<br><FONT ID="LN">464 </FONT><A NAME="464"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectContainers.putAll(originalProjectContainers);<br><FONT ID="LN">465 </FONT><A NAME="465"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> projectContainers;<br><FONT ID="LN">466 </FONT><A NAME="466"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">467 </FONT><A NAME="467"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">468 </FONT><A NAME="468"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> containerIsInitializationInProgress(IJavaProject project, IPath containerPath) {<br><FONT ID="LN">469 </FONT><A NAME="469"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map initializations = (Map)<FONT ID="This">this</FONT>.containerInitializationInProgress.get();<br><FONT ID="LN">470 </FONT><A NAME="470"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (initializations == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">471 </FONT><A NAME="471"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">472 </FONT><A NAME="472"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> projectInitializations = (<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>) initializations.get(project);<br><FONT ID="LN">473 </FONT><A NAME="473"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectInitializations == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">474 </FONT><A NAME="474"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">475 </FONT><A NAME="475"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> projectInitializations.contains(containerPath);<br><FONT ID="LN">476 </FONT><A NAME="476"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">477 </FONT><A NAME="477"></A><br><FONT ID="LN">478 </FONT><A NAME="478"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> containerAddInitializationInProgress(IJavaProject project, IPath containerPath) {<br><FONT ID="LN">479 </FONT><A NAME="479"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map initializations = (Map)<FONT ID="This">this</FONT>.containerInitializationInProgress.get();<br><FONT ID="LN">480 </FONT><A NAME="480"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (initializations == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">481 </FONT><A NAME="481"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.containerInitializationInProgress.set(initializations = <FONT ID="New">new</FONT> HashMap());<br><FONT ID="LN">482 </FONT><A NAME="482"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> projectInitializations = (<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>) initializations.get(project);<br><FONT ID="LN">483 </FONT><A NAME="483"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectInitializations == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">484 </FONT><A NAME="484"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initializations.put(project, projectInitializations = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>());<br><FONT ID="LN">485 </FONT><A NAME="485"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectInitializations.add(containerPath);<br><FONT ID="LN">486 </FONT><A NAME="486"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">487 </FONT><A NAME="487"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">488 </FONT><A NAME="488"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> containerPut(IJavaProject project, IPath containerPath, IClasspathContainer container){<br><FONT ID="LN">489 </FONT><A NAME="489"></A><br><FONT ID="LN">490 </FONT><A NAME="490"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// set/unset the initialization in progress<br><FONT ID="LN">491 </FONT><A NAME="491"></A></FONT>        <FONT ID="If">if</FONT> (container == CONTAINER_INITIALIZATION_IN_PROGRESS) {<br><FONT ID="LN">492 </FONT><A NAME="492"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerAddInitializationInProgress(project, containerPath);<br><FONT ID="LN">493 </FONT><A NAME="493"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">494 </FONT><A NAME="494"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// do not write out intermediate initialization value<br><FONT ID="LN">495 </FONT><A NAME="495"></A></FONT>            <FONT ID="Return">return</FONT>;<br><FONT ID="LN">496 </FONT><A NAME="496"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">497 </FONT><A NAME="497"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerRemoveInitializationInProgress(project, containerPath);<br><FONT ID="LN">498 </FONT><A NAME="498"></A><br><FONT ID="LN">499 </FONT><A NAME="499"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map projectContainers = (Map)<FONT ID="This">this</FONT>.containers.get(project);  <br><FONT ID="LN">500 </FONT><A NAME="500"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectContainers == <FONT ID="Null">null</FONT>){<br><FONT ID="LN">501 </FONT><A NAME="501"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectContainers = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">1</FONT>);<br><FONT ID="LN">502 </FONT><A NAME="502"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.containers.put(project, projectContainers);<br><FONT ID="LN">503 </FONT><A NAME="503"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">504 </FONT><A NAME="504"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">505 </FONT><A NAME="505"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">506 </FONT><A NAME="506"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectContainers.remove(containerPath);<br><FONT ID="LN">507 </FONT><A NAME="507"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">508 </FONT><A NAME="508"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectContainers.put(containerPath, container);<br><FONT ID="LN">509 </FONT><A NAME="509"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">510 </FONT><A NAME="510"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// discard obsoleted information about previous session<br><FONT ID="LN">511 </FONT><A NAME="511"></A></FONT>            Map previousContainers = (Map)<FONT ID="This">this</FONT>.previousSessionContainers.get(project);<br><FONT ID="LN">512 </FONT><A NAME="512"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (previousContainers != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">513 </FONT><A NAME="513"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;previousContainers.remove(containerPath);<br><FONT ID="LN">514 </FONT><A NAME="514"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">515 </FONT><A NAME="515"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">516 </FONT><A NAME="516"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// container values are persisted in preferences during save operations, see #saving(ISaveContext)<br><FONT ID="LN">517 </FONT><A NAME="517"></A></FONT>    }<br><FONT ID="LN">518 </FONT><A NAME="518"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">519 </FONT><A NAME="519"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">520 </FONT><A NAME="520"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The given project is being removed. Remove all containers for this project from the cache.<br><FONT ID="LN">521 </FONT><A NAME="521"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">522 </FONT><A NAME="522"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> containerRemove(IJavaProject project) {<br><FONT ID="LN">523 </FONT><A NAME="523"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map initializations = (Map) <FONT ID="This">this</FONT>.containerInitializationInProgress.get();<br><FONT ID="LN">524 </FONT><A NAME="524"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (initializations != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">525 </FONT><A NAME="525"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initializations.remove(project);<br><FONT ID="LN">526 </FONT><A NAME="526"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">527 </FONT><A NAME="527"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.containers.remove(project);<br><FONT ID="LN">528 </FONT><A NAME="528"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">529 </FONT><A NAME="529"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">530 </FONT><A NAME="530"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> containerPutIfInitializingWithSameEntries(IPath containerPath, IJavaProject[] projects, IClasspathContainer[] respectiveContainers) {<br><FONT ID="LN">531 </FONT><A NAME="531"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> projectLength = projects.length;<br><FONT ID="LN">532 </FONT><A NAME="532"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectLength != <FONT ID="IntegerLiteral">1</FONT>) <br><FONT ID="LN">533 </FONT><A NAME="533"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">534 </FONT><A NAME="534"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IClasspathContainer container = respectiveContainers[<FONT ID="IntegerLiteral">0</FONT>];<br><FONT ID="LN">535 </FONT><A NAME="535"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaProject project = projects[<FONT ID="IntegerLiteral">0</FONT>];<br><FONT ID="LN">536 </FONT><A NAME="536"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// optimize only if initializing, otherwise we are in a regular setContainer(...) call<br><FONT ID="LN">537 </FONT><A NAME="537"></A></FONT>        <FONT ID="If">if</FONT> (!containerIsInitializationInProgress(project, containerPath)) <br><FONT ID="LN">538 </FONT><A NAME="538"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">539 </FONT><A NAME="539"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer previousContainer = containerGetDefaultToPreviousSession(project, containerPath);<br><FONT ID="LN">540 </FONT><A NAME="540"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">541 </FONT><A NAME="541"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (previousContainer == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">542 </FONT><A NAME="542"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerPut(project, containerPath, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">543 </FONT><A NAME="543"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;<br><FONT ID="LN">544 </FONT><A NAME="544"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">545 </FONT><A NAME="545"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">546 </FONT><A NAME="546"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">547 </FONT><A NAME="547"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IClasspathEntry[] newEntries = container.getClasspathEntries();<br><FONT ID="LN">548 </FONT><A NAME="548"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (previousContainer == <FONT ID="Null">null</FONT>) <br><FONT ID="LN">549 </FONT><A NAME="549"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (newEntries.length == <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">550 </FONT><A NAME="550"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerPut(project, containerPath, container);<br><FONT ID="LN">551 </FONT><A NAME="551"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;<br><FONT ID="LN">552 </FONT><A NAME="552"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">553 </FONT><A NAME="553"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE)<br><FONT ID="LN">554 </FONT><A NAME="554"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_missbehaving_container(containerPath, projects, respectiveContainers, container, newEntries, <FONT ID="Null">null</FONT><FONT ID="MultiLineComment">/*no old entries*/</FONT>);<br><FONT ID="LN">555 </FONT><A NAME="555"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">556 </FONT><A NAME="556"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">557 </FONT><A NAME="557"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IClasspathEntry[] oldEntries = previousContainer.getClasspathEntries();<br><FONT ID="LN">558 </FONT><A NAME="558"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (oldEntries.length != newEntries.length) {<br><FONT ID="LN">559 </FONT><A NAME="559"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE)<br><FONT ID="LN">560 </FONT><A NAME="560"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_missbehaving_container(containerPath, projects, respectiveContainers, container, newEntries, oldEntries);<br><FONT ID="LN">561 </FONT><A NAME="561"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">562 </FONT><A NAME="562"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">563 </FONT><A NAME="563"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, length = newEntries.length; i &lt; length; i++) {<br><FONT ID="LN">564 </FONT><A NAME="564"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (newEntries[i] == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">565 </FONT><A NAME="565"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE)<br><FONT ID="LN">566 </FONT><A NAME="566"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_missbehaving_container(project, containerPath, newEntries);<br><FONT ID="LN">567 </FONT><A NAME="567"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">568 </FONT><A NAME="568"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">569 </FONT><A NAME="569"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!newEntries[i].equals(oldEntries[i])) {<br><FONT ID="LN">570 </FONT><A NAME="570"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE)<br><FONT ID="LN">571 </FONT><A NAME="571"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_missbehaving_container(containerPath, projects, respectiveContainers, container, newEntries, oldEntries);<br><FONT ID="LN">572 </FONT><A NAME="572"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">573 </FONT><A NAME="573"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">574 </FONT><A NAME="574"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">575 </FONT><A NAME="575"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerPut(project, containerPath, container);<br><FONT ID="LN">576 </FONT><A NAME="576"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;<br><FONT ID="LN">577 </FONT><A NAME="577"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">578 </FONT><A NAME="578"></A><br><FONT ID="LN">579 </FONT><A NAME="579"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_missbehaving_container(<br><FONT ID="LN">580 </FONT><A NAME="580"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath containerPath,<br><FONT ID="LN">581 </FONT><A NAME="581"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaProject[] projects,<br><FONT ID="LN">582 </FONT><A NAME="582"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer[] respectiveContainers,<br><FONT ID="LN">583 </FONT><A NAME="583"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IClasspathContainer container,<br><FONT ID="LN">584 </FONT><A NAME="584"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IClasspathEntry[] newEntries,<br><FONT ID="LN">585 </FONT><A NAME="585"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IClasspathEntry[] oldEntries) {<br><FONT ID="LN">586 </FONT><A NAME="586"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">587 </FONT><A NAME="587"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPContainer SET  - missbehaving container\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">588 </FONT><A NAME="588"></A></FONT>            <FONT ID="StringLiteral">"   container path: "</FONT> + containerPath + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">589 </FONT><A NAME="589"></A></FONT>            <FONT ID="StringLiteral">"   projects: {"</FONT> +<FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">590 </FONT><A NAME="590"></A></FONT>            org.eclipse.jdt.internal.compiler.util.Util.toString(<br><FONT ID="LN">591 </FONT><A NAME="591"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projects, <br><FONT ID="LN">592 </FONT><A NAME="592"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/util/Util.java.htm">org.eclipse.jdt.internal.compiler.util.Util.Displayable</A>(){ <br><FONT ID="LN">593 </FONT><A NAME="593"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> displayString(<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> o) { <FONT ID="Return">return</FONT> ((IJavaProject) o).getElementName(); }<br><FONT ID="LN">594 </FONT><A NAME="594"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}) +<br><FONT ID="LN">595 </FONT><A NAME="595"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"}\n    values on previous session: {\n"</FONT>  +<FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">596 </FONT><A NAME="596"></A></FONT>            org.eclipse.jdt.internal.compiler.util.Util.toString(<br><FONT ID="LN">597 </FONT><A NAME="597"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;respectiveContainers, <br><FONT ID="LN">598 </FONT><A NAME="598"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/util/Util.java.htm">org.eclipse.jdt.internal.compiler.util.Util.Displayable</A>(){ <br><FONT ID="LN">599 </FONT><A NAME="599"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> displayString(<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> o) { <br><FONT ID="LN">600 </FONT><A NAME="600"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"        "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">601 </FONT><A NAME="601"></A></FONT>                        <FONT ID="If">if</FONT> (o == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">602 </FONT><A NAME="602"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"&lt;null&gt;"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">603 </FONT><A NAME="603"></A></FONT>                            <FONT ID="Return">return</FONT> buffer.toString();<br><FONT ID="LN">604 </FONT><A NAME="604"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">605 </FONT><A NAME="605"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(container.getDescription());<br><FONT ID="LN">606 </FONT><A NAME="606"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">" {\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">607 </FONT><A NAME="607"></A></FONT>                        <FONT ID="If">if</FONT> (oldEntries == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">608 </FONT><A NAME="608"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"             "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">609 </FONT><A NAME="609"></A></FONT>                            buffer.append(<FONT ID="StringLiteral">"&lt;null&gt;\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">610 </FONT><A NAME="610"></A></FONT>                        } <FONT ID="Else">else</FONT> {<br><FONT ID="LN">611 </FONT><A NAME="611"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; oldEntries.length; j++){<br><FONT ID="LN">612 </FONT><A NAME="612"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"             "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">613 </FONT><A NAME="613"></A></FONT>                                buffer.append(oldEntries[j]); <br><FONT ID="LN">614 </FONT><A NAME="614"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">'\n'</FONT>); <br><FONT ID="LN">615 </FONT><A NAME="615"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">616 </FONT><A NAME="616"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">617 </FONT><A NAME="617"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"         }"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">618 </FONT><A NAME="618"></A></FONT>                        <FONT ID="Return">return</FONT> buffer.toString();<br><FONT ID="LN">619 </FONT><A NAME="619"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">620 </FONT><A NAME="620"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}) +<br><FONT ID="LN">621 </FONT><A NAME="621"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"}\n    new values: {\n"</FONT>  +<FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">622 </FONT><A NAME="622"></A></FONT>            org.eclipse.jdt.internal.compiler.util.Util.toString(<br><FONT ID="LN">623 </FONT><A NAME="623"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;respectiveContainers, <br><FONT ID="LN">624 </FONT><A NAME="624"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/util/Util.java.htm">org.eclipse.jdt.internal.compiler.util.Util.Displayable</A>(){ <br><FONT ID="LN">625 </FONT><A NAME="625"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> displayString(<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> o) { <br><FONT ID="LN">626 </FONT><A NAME="626"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"        "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">627 </FONT><A NAME="627"></A></FONT>                        <FONT ID="If">if</FONT> (o == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">628 </FONT><A NAME="628"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"&lt;null&gt;"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">629 </FONT><A NAME="629"></A></FONT>                            <FONT ID="Return">return</FONT> buffer.toString();<br><FONT ID="LN">630 </FONT><A NAME="630"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">631 </FONT><A NAME="631"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(container.getDescription());<br><FONT ID="LN">632 </FONT><A NAME="632"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">" {\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">633 </FONT><A NAME="633"></A></FONT>                        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; newEntries.length; j++){<br><FONT ID="LN">634 </FONT><A NAME="634"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"             "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">635 </FONT><A NAME="635"></A></FONT>                            buffer.append(newEntries[j]); <br><FONT ID="LN">636 </FONT><A NAME="636"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">'\n'</FONT>); <br><FONT ID="LN">637 </FONT><A NAME="637"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">638 </FONT><A NAME="638"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"         }"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">639 </FONT><A NAME="639"></A></FONT>                        <FONT ID="Return">return</FONT> buffer.toString();<br><FONT ID="LN">640 </FONT><A NAME="640"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">641 </FONT><A NAME="641"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}) +<br><FONT ID="LN">642 </FONT><A NAME="642"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"\n }"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">643 </FONT><A NAME="643"></A></FONT>    }<br><FONT ID="LN">644 </FONT><A NAME="644"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">645 </FONT><A NAME="645"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Void">void</FONT> verbose_missbehaving_container(IJavaProject project, IPath containerPath, IClasspathEntry[] classpathEntries) {<br><FONT ID="LN">646 </FONT><A NAME="646"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">647 </FONT><A NAME="647"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPContainer GET - missbehaving container (returning null classpath entry)\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">648 </FONT><A NAME="648"></A></FONT>            <FONT ID="StringLiteral">"   project: "</FONT> + project.getElementName() + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">649 </FONT><A NAME="649"></A></FONT>            <FONT ID="StringLiteral">"   container path: "</FONT> + containerPath + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">650 </FONT><A NAME="650"></A></FONT>            <FONT ID="StringLiteral">"   classpath entries: {\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">651 </FONT><A NAME="651"></A></FONT>            org.eclipse.jdt.internal.compiler.util.Util.toString(<br><FONT ID="LN">652 </FONT><A NAME="652"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpathEntries, <br><FONT ID="LN">653 </FONT><A NAME="653"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/util/Util.java.htm">org.eclipse.jdt.internal.compiler.util.Util.Displayable</A>(){ <br><FONT ID="LN">654 </FONT><A NAME="654"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> displayString(<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> o) { <br><FONT ID="LN">655 </FONT><A NAME="655"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"        "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">656 </FONT><A NAME="656"></A></FONT>                        <FONT ID="If">if</FONT> (o == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">657 </FONT><A NAME="657"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"&lt;null&gt;"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">658 </FONT><A NAME="658"></A></FONT>                            <FONT ID="Return">return</FONT> buffer.toString();<br><FONT ID="LN">659 </FONT><A NAME="659"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">660 </FONT><A NAME="660"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(o);<br><FONT ID="LN">661 </FONT><A NAME="661"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> buffer.toString();<br><FONT ID="LN">662 </FONT><A NAME="662"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">663 </FONT><A NAME="663"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}) +<br><FONT ID="LN">664 </FONT><A NAME="664"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"\n }"</FONT> <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">665 </FONT><A NAME="665"></A></FONT>        );<br><FONT ID="LN">666 </FONT><A NAME="666"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">667 </FONT><A NAME="667"></A><br><FONT ID="LN">668 </FONT><A NAME="668"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> containerRemoveInitializationInProgress(IJavaProject project, IPath containerPath) {<br><FONT ID="LN">669 </FONT><A NAME="669"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map initializations = (Map)<FONT ID="This">this</FONT>.containerInitializationInProgress.get();<br><FONT ID="LN">670 </FONT><A NAME="670"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (initializations == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">671 </FONT><A NAME="671"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">672 </FONT><A NAME="672"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> projectInitializations = (<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>) initializations.get(project);<br><FONT ID="LN">673 </FONT><A NAME="673"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectInitializations == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">674 </FONT><A NAME="674"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">675 </FONT><A NAME="675"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectInitializations.remove(containerPath);<br><FONT ID="LN">676 </FONT><A NAME="676"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectInitializations.size() == <FONT ID="IntegerLiteral">0</FONT>)<br><FONT ID="LN">677 </FONT><A NAME="677"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initializations.remove(project);<br><FONT ID="LN">678 </FONT><A NAME="678"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (initializations.size() == <FONT ID="IntegerLiteral">0</FONT>)<br><FONT ID="LN">679 </FONT><A NAME="679"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.containerInitializationInProgress.set(<FONT ID="Null">null</FONT>);<br><FONT ID="LN">680 </FONT><A NAME="680"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">681 </FONT><A NAME="681"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">682 </FONT><A NAME="682"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> containersReset(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] containerIDs) {<br><FONT ID="LN">683 </FONT><A NAME="683"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; containerIDs.length; i++) {<br><FONT ID="LN">684 </FONT><A NAME="684"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> containerID = containerIDs[i];<br><FONT ID="LN">685 </FONT><A NAME="685"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator projectIterator = <FONT ID="This">this</FONT>.containers.values().iterator();<br><FONT ID="LN">686 </FONT><A NAME="686"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (projectIterator.hasNext()){<br><FONT ID="LN">687 </FONT><A NAME="687"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map projectContainers = (Map) projectIterator.next();<br><FONT ID="LN">688 </FONT><A NAME="688"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectContainers != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">689 </FONT><A NAME="689"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator containerIterator = projectContainers.keySet().iterator();<br><FONT ID="LN">690 </FONT><A NAME="690"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (containerIterator.hasNext()){<br><FONT ID="LN">691 </FONT><A NAME="691"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath containerPath = (IPath)containerIterator.next();<br><FONT ID="LN">692 </FONT><A NAME="692"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (containerPath.segment(<FONT ID="IntegerLiteral">0</FONT>).equals(containerID)) { <FONT ID="SingleLineComment">// registered container<br><FONT ID="LN">693 </FONT><A NAME="693"></A></FONT>                            projectContainers.put(containerPath, <FONT ID="Null">null</FONT>); <FONT ID="SingleLineComment">// reset container value, but leave entry in Map<br><FONT ID="LN">694 </FONT><A NAME="694"></A></FONT>                        }<br><FONT ID="LN">695 </FONT><A NAME="695"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">696 </FONT><A NAME="696"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">697 </FONT><A NAME="697"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">698 </FONT><A NAME="698"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">699 </FONT><A NAME="699"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">700 </FONT><A NAME="700"></A><br><FONT ID="LN">701 </FONT><A NAME="701"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">702 </FONT><A NAME="702"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the Java element corresponding to the given resource, or<br><FONT ID="LN">703 </FONT><A NAME="703"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;code&gt;null&lt;/code&gt; if unable to associate the given resource<br><FONT ID="LN">704 </FONT><A NAME="704"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* with a Java element.<br><FONT ID="LN">705 </FONT><A NAME="705"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">706 </FONT><A NAME="706"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The resource must be one of:&lt;ul&gt;<br><FONT ID="LN">707 </FONT><A NAME="707"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;li&gt;a project - the element returned is the corresponding &lt;code&gt;IJavaProject&lt;/code&gt;&lt;/li&gt;<br><FONT ID="LN">708 </FONT><A NAME="708"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;li&gt;a &lt;code&gt;.java&lt;/code&gt; file - the element returned is the corresponding &lt;code&gt;ICompilationUnit&lt;/code&gt;&lt;/li&gt;<br><FONT ID="LN">709 </FONT><A NAME="709"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;li&gt;a &lt;code&gt;.class&lt;/code&gt; file - the element returned is the corresponding &lt;code&gt;IClassFile&lt;/code&gt;&lt;/li&gt;<br><FONT ID="LN">710 </FONT><A NAME="710"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;li&gt;a &lt;code&gt;.jar&lt;/code&gt; file - the element returned is the corresponding &lt;code&gt;IPackageFragmentRoot&lt;/code&gt;&lt;/li&gt;<br><FONT ID="LN">711 </FONT><A NAME="711"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;li&gt;a folder - the element returned is the corresponding &lt;code&gt;IPackageFragmentRoot&lt;/code&gt;<br><FONT ID="LN">712 </FONT><A NAME="712"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*          or &lt;code&gt;IPackageFragment&lt;/code&gt;&lt;/li&gt;<br><FONT ID="LN">713 </FONT><A NAME="713"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;li&gt;the workspace root resource - the element returned is the &lt;code&gt;IJavaModel&lt;/code&gt;&lt;/li&gt;<br><FONT ID="LN">714 </FONT><A NAME="714"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;/ul&gt;<br><FONT ID="LN">715 </FONT><A NAME="715"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">716 </FONT><A NAME="716"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Creating a Java element has the side effect of creating and opening all of the<br><FONT ID="LN">717 </FONT><A NAME="717"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* element's parents if they are not yet open.<br><FONT ID="LN">718 </FONT><A NAME="718"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">719 </FONT><A NAME="719"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> IJavaElement create(IResource resource, IJavaProject project) {<br><FONT ID="LN">720 </FONT><A NAME="720"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (resource == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">721 </FONT><A NAME="721"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">722 </FONT><A NAME="722"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">723 </FONT><A NAME="723"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> type = resource.getType();<br><FONT ID="LN">724 </FONT><A NAME="724"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Switch">switch</FONT> (type) {<br><FONT ID="LN">725 </FONT><A NAME="725"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> IResource.PROJECT :<br><FONT ID="LN">726 </FONT><A NAME="726"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> JavaCore.create((IProject) resource);<br><FONT ID="LN">727 </FONT><A NAME="727"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> IResource.FILE :<br><FONT ID="LN">728 </FONT><A NAME="728"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> create((IFile) resource, project);<br><FONT ID="LN">729 </FONT><A NAME="729"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> IResource.FOLDER :<br><FONT ID="LN">730 </FONT><A NAME="730"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> create((IFolder) resource, project);<br><FONT ID="LN">731 </FONT><A NAME="731"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> IResource.ROOT :<br><FONT ID="LN">732 </FONT><A NAME="732"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> JavaCore.create((IWorkspaceRoot) resource);<br><FONT ID="LN">733 </FONT><A NAME="733"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Default">default</FONT> :<br><FONT ID="LN">734 </FONT><A NAME="734"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">735 </FONT><A NAME="735"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">736 </FONT><A NAME="736"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">737 </FONT><A NAME="737"></A><br><FONT ID="LN">738 </FONT><A NAME="738"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">739 </FONT><A NAME="739"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the Java element corresponding to the given file, its project being the given<br><FONT ID="LN">740 </FONT><A NAME="740"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* project.<br><FONT ID="LN">741 </FONT><A NAME="741"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns &lt;code&gt;null&lt;/code&gt; if unable to associate the given file<br><FONT ID="LN">742 </FONT><A NAME="742"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* with a Java element.<br><FONT ID="LN">743 </FONT><A NAME="743"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br><FONT ID="LN">744 </FONT><A NAME="744"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;The file must be one of:&lt;ul&gt;<br><FONT ID="LN">745 </FONT><A NAME="745"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;li&gt;a &lt;code&gt;.java&lt;/code&gt; file - the element returned is the corresponding &lt;code&gt;ICompilationUnit&lt;/code&gt;&lt;/li&gt;<br><FONT ID="LN">746 </FONT><A NAME="746"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;li&gt;a &lt;code&gt;.class&lt;/code&gt; file - the element returned is the corresponding &lt;code&gt;IClassFile&lt;/code&gt;&lt;/li&gt;<br><FONT ID="LN">747 </FONT><A NAME="747"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;li&gt;a &lt;code&gt;.jar&lt;/code&gt; file - the element returned is the corresponding &lt;code&gt;IPackageFragmentRoot&lt;/code&gt;&lt;/li&gt;<br><FONT ID="LN">748 </FONT><A NAME="748"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  &lt;/ul&gt;<br><FONT ID="LN">749 </FONT><A NAME="749"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">750 </FONT><A NAME="750"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Creating a Java element has the side effect of creating and opening all of the<br><FONT ID="LN">751 </FONT><A NAME="751"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* element's parents if they are not yet open.<br><FONT ID="LN">752 </FONT><A NAME="752"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">753 </FONT><A NAME="753"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> IJavaElement create(IFile file, IJavaProject project) {<br><FONT ID="LN">754 </FONT><A NAME="754"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">755 </FONT><A NAME="755"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">756 </FONT><A NAME="756"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">757 </FONT><A NAME="757"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (project == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">758 </FONT><A NAME="758"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;project = JavaCore.create(file.getProject());<br><FONT ID="LN">759 </FONT><A NAME="759"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">760 </FONT><A NAME="760"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">761 </FONT><A NAME="761"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file.getFileExtension() != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">762 </FONT><A NAME="762"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> name = file.getName();<br><FONT ID="LN">763 </FONT><A NAME="763"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (org.eclipse.jdt.internal.core.util.Util.isJavaLikeFileName(name))<br><FONT ID="LN">764 </FONT><A NAME="764"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> createCompilationUnitFrom(file, project);<br><FONT ID="LN">765 </FONT><A NAME="765"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (org.eclipse.jdt.internal.compiler.util.Util.isClassFileName(name))<br><FONT ID="LN">766 </FONT><A NAME="766"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> createClassFileFrom(file, project);<br><FONT ID="LN">767 </FONT><A NAME="767"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (org.eclipse.jdt.internal.compiler.util.Util.isArchiveFileName(name))<br><FONT ID="LN">768 </FONT><A NAME="768"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> createJarPackageFragmentRootFrom(file, project);<br><FONT ID="LN">769 </FONT><A NAME="769"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">770 </FONT><A NAME="770"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">771 </FONT><A NAME="771"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">772 </FONT><A NAME="772"></A><br><FONT ID="LN">773 </FONT><A NAME="773"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">774 </FONT><A NAME="774"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the package fragment or package fragment root corresponding to the given folder,<br><FONT ID="LN">775 </FONT><A NAME="775"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* its parent or great parent being the given project. <br><FONT ID="LN">776 </FONT><A NAME="776"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* or &lt;code&gt;null&lt;/code&gt; if unable to associate the given folder with a Java element.<br><FONT ID="LN">777 </FONT><A NAME="777"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">778 </FONT><A NAME="778"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Note that a package fragment root is returned rather than a default package.<br><FONT ID="LN">779 </FONT><A NAME="779"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &lt;p&gt;<br><FONT ID="LN">780 </FONT><A NAME="780"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Creating a Java element has the side effect of creating and opening all of the<br><FONT ID="LN">781 </FONT><A NAME="781"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* element's parents if they are not yet open.<br><FONT ID="LN">782 </FONT><A NAME="782"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">783 </FONT><A NAME="783"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> IJavaElement create(IFolder folder, IJavaProject project) {<br><FONT ID="LN">784 </FONT><A NAME="784"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (folder == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">785 </FONT><A NAME="785"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">786 </FONT><A NAME="786"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">787 </FONT><A NAME="787"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaElement element;<br><FONT ID="LN">788 </FONT><A NAME="788"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (project == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">789 </FONT><A NAME="789"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;project = JavaCore.create(folder.getProject());<br><FONT ID="LN">790 </FONT><A NAME="790"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element = determineIfOnClasspath(folder, project);<br><FONT ID="LN">791 </FONT><A NAME="791"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (element == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">792 </FONT><A NAME="792"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// walk all projects and find one that have the given folder on its classpath<br><FONT ID="LN">793 </FONT><A NAME="793"></A></FONT>                IJavaProject[] projects;<br><FONT ID="LN">794 </FONT><A NAME="794"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">795 </FONT><A NAME="795"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projects = JavaModelManager.getJavaModelManager().getJavaModel().getJavaProjects();<br><FONT ID="LN">796 </FONT><A NAME="796"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (JavaModelException e) {<br><FONT ID="LN">797 </FONT><A NAME="797"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">798 </FONT><A NAME="798"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">799 </FONT><A NAME="799"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, length = projects.length; i &lt; length; i++) {<br><FONT ID="LN">800 </FONT><A NAME="800"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;project = projects[i];<br><FONT ID="LN">801 </FONT><A NAME="801"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element = determineIfOnClasspath(folder, project);<br><FONT ID="LN">802 </FONT><A NAME="802"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (element != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">803 </FONT><A NAME="803"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">804 </FONT><A NAME="804"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">805 </FONT><A NAME="805"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">806 </FONT><A NAME="806"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">807 </FONT><A NAME="807"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element = determineIfOnClasspath(folder, project);<br><FONT ID="LN">808 </FONT><A NAME="808"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">809 </FONT><A NAME="809"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> element;<br><FONT ID="LN">810 </FONT><A NAME="810"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">811 </FONT><A NAME="811"></A><br><FONT ID="LN">812 </FONT><A NAME="812"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">813 </FONT><A NAME="813"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Creates and returns a class file element for the given &lt;code&gt;.class&lt;/code&gt; file,<br><FONT ID="LN">814 </FONT><A NAME="814"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* its project being the given project. Returns &lt;code&gt;null&lt;/code&gt; if unable<br><FONT ID="LN">815 </FONT><A NAME="815"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* to recognize the class file.<br><FONT ID="LN">816 </FONT><A NAME="816"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">817 </FONT><A NAME="817"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> IClassFile createClassFileFrom(IFile file, IJavaProject project ) {<br><FONT ID="LN">818 </FONT><A NAME="818"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">819 </FONT><A NAME="819"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">820 </FONT><A NAME="820"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">821 </FONT><A NAME="821"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (project == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">822 </FONT><A NAME="822"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;project = JavaCore.create(file.getProject());<br><FONT ID="LN">823 </FONT><A NAME="823"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">824 </FONT><A NAME="824"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPackageFragment pkg = (IPackageFragment) determineIfOnClasspath(file, project);<br><FONT ID="LN">825 </FONT><A NAME="825"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (pkg == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">826 </FONT><A NAME="826"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// fix for 1FVS7WE<br><FONT ID="LN">827 </FONT><A NAME="827"></A></FONT>            <FONT ID="SingleLineComment">// not on classpath - make the root its folder, and a default package<br><FONT ID="LN">828 </FONT><A NAME="828"></A></FONT>            <A HREF="../../../../../org/eclipse/jdt/internal/core/PackageFragmentRoot.java.htm">PackageFragmentRoot</A> root = (<A HREF="../../../../../org/eclipse/jdt/internal/core/PackageFragmentRoot.java.htm">PackageFragmentRoot</A>) project.getPackageFragmentRoot(file.getParent());<br><FONT ID="LN">829 </FONT><A NAME="829"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pkg = root.getPackageFragment(CharOperation.NO_STRINGS);<br><FONT ID="LN">830 </FONT><A NAME="830"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">831 </FONT><A NAME="831"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> pkg.getClassFile(file.getName());<br><FONT ID="LN">832 </FONT><A NAME="832"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">833 </FONT><A NAME="833"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">834 </FONT><A NAME="834"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">835 </FONT><A NAME="835"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Creates and returns a compilation unit element for the given &lt;code&gt;.java&lt;/code&gt; <br><FONT ID="LN">836 </FONT><A NAME="836"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* file, its project being the given project. Returns &lt;code&gt;null&lt;/code&gt; if unable<br><FONT ID="LN">837 </FONT><A NAME="837"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* to recognize the compilation unit.<br><FONT ID="LN">838 </FONT><A NAME="838"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">839 </FONT><A NAME="839"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> ICompilationUnit createCompilationUnitFrom(IFile file, IJavaProject project) {<br><FONT ID="LN">840 </FONT><A NAME="840"></A><br><FONT ID="LN">841 </FONT><A NAME="841"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">842 </FONT><A NAME="842"></A><br><FONT ID="LN">843 </FONT><A NAME="843"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (project == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">844 </FONT><A NAME="844"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;project = JavaCore.create(file.getProject());<br><FONT ID="LN">845 </FONT><A NAME="845"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">846 </FONT><A NAME="846"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPackageFragment pkg = (IPackageFragment) determineIfOnClasspath(file, project);<br><FONT ID="LN">847 </FONT><A NAME="847"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (pkg == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">848 </FONT><A NAME="848"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// not on classpath - make the root its folder, and a default package<br><FONT ID="LN">849 </FONT><A NAME="849"></A></FONT>            IPackageFragmentRoot root = project.getPackageFragmentRoot(file.getParent());<br><FONT ID="LN">850 </FONT><A NAME="850"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pkg = root.getPackageFragment(IPackageFragment.DEFAULT_PACKAGE_NAME);<br><FONT ID="LN">851 </FONT><A NAME="851"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">852 </FONT><A NAME="852"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE){<br><FONT ID="LN">853 </FONT><A NAME="853"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<FONT ID="StringLiteral">"WARNING : creating unit element outside classpath ("</FONT>+ Thread.currentThread()+<FONT ID="StringLiteral">"): "</FONT> + file.getFullPath()); <FONT ID="SingleLineComment">//$NON-NLS-1$//$NON-NLS-2$<br><FONT ID="LN">854 </FONT><A NAME="854"></A></FONT>            }<br><FONT ID="LN">855 </FONT><A NAME="855"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">856 </FONT><A NAME="856"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> pkg.getCompilationUnit(file.getName());<br><FONT ID="LN">857 </FONT><A NAME="857"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">858 </FONT><A NAME="858"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">859 </FONT><A NAME="859"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">860 </FONT><A NAME="860"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Creates and returns a handle for the given JAR file, its project being the given project.<br><FONT ID="LN">861 </FONT><A NAME="861"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The Java model associated with the JAR's project may be<br><FONT ID="LN">862 </FONT><A NAME="862"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* created as a side effect. <br><FONT ID="LN">863 </FONT><A NAME="863"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns &lt;code&gt;null&lt;/code&gt; if unable to create a JAR package fragment root.<br><FONT ID="LN">864 </FONT><A NAME="864"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* (for example, if the JAR file represents a non-Java resource)<br><FONT ID="LN">865 </FONT><A NAME="865"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">866 </FONT><A NAME="866"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> IPackageFragmentRoot createJarPackageFragmentRootFrom(IFile file, IJavaProject project) {<br><FONT ID="LN">867 </FONT><A NAME="867"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">868 </FONT><A NAME="868"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">869 </FONT><A NAME="869"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">870 </FONT><A NAME="870"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (project == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">871 </FONT><A NAME="871"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;project = JavaCore.create(file.getProject());<br><FONT ID="LN">872 </FONT><A NAME="872"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">873 </FONT><A NAME="873"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">874 </FONT><A NAME="874"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Create a jar package fragment root only if on the classpath<br><FONT ID="LN">875 </FONT><A NAME="875"></A></FONT>        IPath resourcePath = file.getFullPath();<br><FONT ID="LN">876 </FONT><A NAME="876"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">877 </FONT><A NAME="877"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry entry = ((<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A>)project).getClasspathEntryFor(resourcePath);<br><FONT ID="LN">878 </FONT><A NAME="878"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entry != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">879 </FONT><A NAME="879"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> project.getPackageFragmentRoot(file);<br><FONT ID="LN">880 </FONT><A NAME="880"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">881 </FONT><A NAME="881"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (JavaModelException e) {<br><FONT ID="LN">882 </FONT><A NAME="882"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// project doesn't exist: return null<br><FONT ID="LN">883 </FONT><A NAME="883"></A></FONT>        }<br><FONT ID="LN">884 </FONT><A NAME="884"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">885 </FONT><A NAME="885"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">886 </FONT><A NAME="886"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">887 </FONT><A NAME="887"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">888 </FONT><A NAME="888"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the package fragment root represented by the resource, or<br><FONT ID="LN">889 </FONT><A NAME="889"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* the package fragment the given resource is located in, or &lt;code&gt;null&lt;/code&gt;<br><FONT ID="LN">890 </FONT><A NAME="890"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* if the given resource is not on the classpath of the given project.<br><FONT ID="LN">891 </FONT><A NAME="891"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">892 </FONT><A NAME="892"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> IJavaElement determineIfOnClasspath(<br><FONT ID="LN">893 </FONT><A NAME="893"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IResource resource,<br><FONT ID="LN">894 </FONT><A NAME="894"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaProject project) {<br><FONT ID="LN">895 </FONT><A NAME="895"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">896 </FONT><A NAME="896"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath resourcePath = resource.getFullPath();<br><FONT ID="LN">897 </FONT><A NAME="897"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">898 </FONT><A NAME="898"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProjectElementInfo.java.htm">JavaProjectElementInfo</A> projectInfo = (<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProjectElementInfo.java.htm">JavaProjectElementInfo</A>) getJavaModelManager().getInfo(project);<br><FONT ID="LN">899 </FONT><A NAME="899"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ProjectCache projectCache = projectInfo == <FONT ID="Null">null</FONT> ? <FONT ID="Null">null</FONT> : projectInfo.projectCache;<br><FONT ID="LN">900 </FONT><A NAME="900"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/HashtableOfArrayToObject.java.htm">HashtableOfArrayToObject</A> allPkgFragmentsCache = projectCache == <FONT ID="Null">null</FONT> ? <FONT ID="Null">null</FONT> : projectCache.allPkgFragmentsCache;<br><FONT ID="LN">901 </FONT><A NAME="901"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] entries = <br><FONT ID="LN">902 </FONT><A NAME="902"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.eclipse.jdt.internal.core.util.Util.isJavaLikeFileName(resourcePath.lastSegment())<br><FONT ID="LN">903 </FONT><A NAME="903"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? project.getRawClasspath() <FONT ID="SingleLineComment">// JAVA file can only live inside SRC folder (on the raw path)<br><FONT ID="LN">904 </FONT><A NAME="904"></A></FONT>                    : ((<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A>)project).getResolvedClasspath();<br><FONT ID="LN">905 </FONT><A NAME="905"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">906 </FONT><A NAME="906"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> length  = entries.length;<br><FONT ID="LN">907 </FONT><A NAME="907"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (length &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">908 </FONT><A NAME="908"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> sourceLevel = project.getOption(JavaCore.COMPILER_SOURCE, <FONT ID="True">true</FONT>);<br><FONT ID="LN">909 </FONT><A NAME="909"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> complianceLevel = project.getOption(JavaCore.COMPILER_COMPLIANCE, <FONT ID="True">true</FONT>);<br><FONT ID="LN">910 </FONT><A NAME="910"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; length; i++) {<br><FONT ID="LN">911 </FONT><A NAME="911"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry entry = entries[i];<br><FONT ID="LN">912 </FONT><A NAME="912"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entry.getEntryKind() == IClasspathEntry.CPE_PROJECT) <FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">913 </FONT><A NAME="913"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath rootPath = entry.getPath();<br><FONT ID="LN">914 </FONT><A NAME="914"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (rootPath.equals(resourcePath)) {<br><FONT ID="LN">915 </FONT><A NAME="915"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> project.getPackageFragmentRoot(resource);<br><FONT ID="LN">916 </FONT><A NAME="916"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (rootPath.isPrefixOf(resourcePath)) {<br><FONT ID="LN">917 </FONT><A NAME="917"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// allow creation of package fragment if it contains a .java file that is included<br><FONT ID="LN">918 </FONT><A NAME="918"></A></FONT>                        <FONT ID="If">if</FONT> (!Util.isExcluded(resource, ((<A HREF="../../../../../org/eclipse/jdt/internal/core/ClasspathEntry.java.htm">ClasspathEntry</A>)entry).fullInclusionPatternChars(), ((<A HREF="../../../../../org/eclipse/jdt/internal/core/ClasspathEntry.java.htm">ClasspathEntry</A>)entry).fullExclusionPatternChars())) {<br><FONT ID="LN">919 </FONT><A NAME="919"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// given we have a resource child of the root, it cannot be a JAR pkg root<br><FONT ID="LN">920 </FONT><A NAME="920"></A></FONT>                            <A HREF="../../../../../org/eclipse/jdt/internal/core/PackageFragmentRoot.java.htm">PackageFragmentRoot</A> root =(<A HREF="../../../../../org/eclipse/jdt/internal/core/PackageFragmentRoot.java.htm">PackageFragmentRoot</A>) ((<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A>) project).getFolderPackageFragmentRoot(rootPath);<br><FONT ID="LN">921 </FONT><A NAME="921"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (root == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">922 </FONT><A NAME="922"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath pkgPath = resourcePath.removeFirstSegments(rootPath.segmentCount());<br><FONT ID="LN">923 </FONT><A NAME="923"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">924 </FONT><A NAME="924"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (resource.getType() == IResource.FILE) {<br><FONT ID="LN">925 </FONT><A NAME="925"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// if the resource is a file, then remove the last segment which<br><FONT ID="LN">926 </FONT><A NAME="926"></A></FONT>                                <FONT ID="SingleLineComment">// is the file name in the package<br><FONT ID="LN">927 </FONT><A NAME="927"></A></FONT>                                pkgPath = pkgPath.removeLastSegments(<FONT ID="IntegerLiteral">1</FONT>);<br><FONT ID="LN">928 </FONT><A NAME="928"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">929 </FONT><A NAME="929"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] pkgName = pkgPath.segments();<br><FONT ID="LN">930 </FONT><A NAME="930"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">931 </FONT><A NAME="931"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// if package name is in the cache, then it has already been validated<br><FONT ID="LN">932 </FONT><A NAME="932"></A></FONT>                            <FONT ID="SingleLineComment">// (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=133141)<br><FONT ID="LN">933 </FONT><A NAME="933"></A></FONT>                            <FONT ID="If">if</FONT> (allPkgFragmentsCache != <FONT ID="Null">null</FONT> &amp;&amp; allPkgFragmentsCache.containsKey(pkgName))<br><FONT ID="LN">934 </FONT><A NAME="934"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> root.getPackageFragment(pkgName);<br><FONT ID="LN">935 </FONT><A NAME="935"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">936 </FONT><A NAME="936"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (pkgName.length != <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; JavaConventions.validatePackageName(Util.packageName(pkgPath, sourceLevel, complianceLevel), sourceLevel, complianceLevel).getSeverity() == IStatus.ERROR) {<br><FONT ID="LN">937 </FONT><A NAME="937"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">938 </FONT><A NAME="938"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">939 </FONT><A NAME="939"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> root.getPackageFragment(pkgName);<br><FONT ID="LN">940 </FONT><A NAME="940"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">941 </FONT><A NAME="941"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">942 </FONT><A NAME="942"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">943 </FONT><A NAME="943"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">944 </FONT><A NAME="944"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (JavaModelException npe) {<br><FONT ID="LN">945 </FONT><A NAME="945"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">946 </FONT><A NAME="946"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">947 </FONT><A NAME="947"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">948 </FONT><A NAME="948"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">949 </FONT><A NAME="949"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">950 </FONT><A NAME="950"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">951 </FONT><A NAME="951"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The singleton manager<br><FONT ID="LN">952 </FONT><A NAME="952"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">953 </FONT><A NAME="953"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelManager.java.htm">JavaModelManager</A> MANAGER= <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelManager.java.htm">JavaModelManager</A>();<br><FONT ID="LN">954 </FONT><A NAME="954"></A><br><FONT ID="LN">955 </FONT><A NAME="955"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">956 </FONT><A NAME="956"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Infos cache.<br><FONT ID="LN">957 </FONT><A NAME="957"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">958 </FONT><A NAME="958"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelCache.java.htm">JavaModelCache</A> cache;<br><FONT ID="LN">959 </FONT><A NAME="959"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">960 </FONT><A NAME="960"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">961 </FONT><A NAME="961"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Temporary cache of newly opened elements<br><FONT ID="LN">962 </FONT><A NAME="962"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">963 </FONT><A NAME="963"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> temporaryCache = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">964 </FONT><A NAME="964"></A><br><FONT ID="LN">965 </FONT><A NAME="965"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">966 </FONT><A NAME="966"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Set of elements which are out of sync with their buffers.<br><FONT ID="LN">967 </FONT><A NAME="967"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">968 </FONT><A NAME="968"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> elementsOutOfSynchWithBuffers = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>(<FONT ID="IntegerLiteral">11</FONT>);<br><FONT ID="LN">969 </FONT><A NAME="969"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">970 </FONT><A NAME="970"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">971 </FONT><A NAME="971"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Holds the state used for delta processing.<br><FONT ID="LN">972 </FONT><A NAME="972"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">973 </FONT><A NAME="973"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/DeltaProcessingState.java.htm">DeltaProcessingState</A> deltaState = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/DeltaProcessingState.java.htm">DeltaProcessingState</A>();<br><FONT ID="LN">974 </FONT><A NAME="974"></A><br><FONT ID="LN">975 </FONT><A NAME="975"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/indexing/IndexManager.java.htm">IndexManager</A> indexManager = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">976 </FONT><A NAME="976"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">977 </FONT><A NAME="977"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">978 </FONT><A NAME="978"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Table from IProject to PerProjectInfo.<br><FONT ID="LN">979 </FONT><A NAME="979"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* NOTE: this object itself is used as a lock to synchronize creation/removal of per project infos<br><FONT ID="LN">980 </FONT><A NAME="980"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">981 </FONT><A NAME="981"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> Map perProjectInfos = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">982 </FONT><A NAME="982"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">983 </FONT><A NAME="983"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">984 </FONT><A NAME="984"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Table from WorkingCopyOwner to a table of ICompilationUnit (working copy handle) to PerWorkingCopyInfo.<br><FONT ID="LN">985 </FONT><A NAME="985"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* NOTE: this object itself is used as a lock to synchronize creation/removal of per working copy infos<br><FONT ID="LN">986 </FONT><A NAME="986"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">987 </FONT><A NAME="987"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> Map perWorkingCopyInfos = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">988 </FONT><A NAME="988"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">989 </FONT><A NAME="989"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">990 </FONT><A NAME="990"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* A weak set of the known search scopes.<br><FONT ID="LN">991 </FONT><A NAME="991"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">992 </FONT><A NAME="992"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> WeakHashMap searchScopes = <FONT ID="New">new</FONT> WeakHashMap();<br><FONT ID="LN">993 </FONT><A NAME="993"></A><br><FONT ID="LN">994 </FONT><A NAME="994"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> PerProjectInfo {<br><FONT ID="LN">995 </FONT><A NAME="995"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> JAVADOC_CACHE_INITIAL_SIZE = <FONT ID="IntegerLiteral">10</FONT>;<br><FONT ID="LN">996 </FONT><A NAME="996"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">997 </FONT><A NAME="997"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IProject project;<br><FONT ID="LN">998 </FONT><A NAME="998"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> savedState;<br><FONT ID="LN">999 </FONT><A NAME="999"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> triedRead;<br><FONT ID="LN">1000</FONT><A NAME="1000"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IClasspathEntry[] rawClasspath;<br><FONT ID="LN">1001</FONT><A NAME="1001"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IJavaModelStatus rawClasspathStatus;<br><FONT ID="LN">1002</FONT><A NAME="1002"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IClasspathEntry[] resolvedClasspath;<br><FONT ID="LN">1003</FONT><A NAME="1003"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IJavaModelStatus unresolvedEntryStatus;<br><FONT ID="LN">1004</FONT><A NAME="1004"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> Map rootPathToRawEntries; <FONT ID="SingleLineComment">// reverse map from a package fragment root's path to the raw entry<br><FONT ID="LN">1005</FONT><A NAME="1005"></A></FONT>        <FONT ID="Public">public</FONT> Map rootPathToResolvedEntries; <FONT ID="SingleLineComment">// map from a package fragment root's path to the resolved entry<br><FONT ID="LN">1006</FONT><A NAME="1006"></A></FONT>        <FONT ID="Public">public</FONT> IPath outputLocation;<br><FONT ID="LN">1007</FONT><A NAME="1007"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1008</FONT><A NAME="1008"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A> preferences;<br><FONT ID="LN">1009</FONT><A NAME="1009"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> Hashtable options;<br><FONT ID="LN">1010</FONT><A NAME="1010"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> Hashtable secondaryTypes;<br><FONT ID="LN">1011</FONT><A NAME="1011"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/LRUCache.java.htm">LRUCache</A> javadocCache;<br><FONT ID="LN">1012</FONT><A NAME="1012"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1013</FONT><A NAME="1013"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> PerProjectInfo(IProject project) {<br><FONT ID="LN">1014</FONT><A NAME="1014"></A><br><FONT ID="LN">1015</FONT><A NAME="1015"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.triedRead = <FONT ID="False">false</FONT>;<br><FONT ID="LN">1016</FONT><A NAME="1016"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.savedState = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1017</FONT><A NAME="1017"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.project = project;<br><FONT ID="LN">1018</FONT><A NAME="1018"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.javadocCache = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/LRUCache.java.htm">LRUCache</A>(JAVADOC_CACHE_INITIAL_SIZE);<br><FONT ID="LN">1019</FONT><A NAME="1019"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1020</FONT><A NAME="1020"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1021</FONT><A NAME="1021"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> rememberExternalLibTimestamps() {<br><FONT ID="LN">1022</FONT><A NAME="1022"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] classpath = <FONT ID="This">this</FONT>.resolvedClasspath;<br><FONT ID="LN">1023</FONT><A NAME="1023"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (classpath == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">1024</FONT><A NAME="1024"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IWorkspaceRoot wRoot = ResourcesPlugin.getWorkspace().getRoot();<br><FONT ID="LN">1025</FONT><A NAME="1025"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map externalTimeStamps = JavaModelManager.getJavaModelManager().deltaState.getExternalLibTimeStamps();<br><FONT ID="LN">1026</FONT><A NAME="1026"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, length = classpath.length; i &lt; length; i++) {<br><FONT ID="LN">1027</FONT><A NAME="1027"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry entry = classpath[i];<br><FONT ID="LN">1028</FONT><A NAME="1028"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entry.getEntryKind() == IClasspathEntry.CPE_LIBRARY) {<br><FONT ID="LN">1029</FONT><A NAME="1029"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath path = entry.getPath();<br><FONT ID="LN">1030</FONT><A NAME="1030"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (externalTimeStamps.get(path) == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1031</FONT><A NAME="1031"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> target = JavaModel.getTarget(wRoot, path, <FONT ID="True">true</FONT>);<br><FONT ID="LN">1032</FONT><A NAME="1032"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (target <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../../java/io/File.java.htm">java.io.File</A>  <A HREF= "/780.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) {<br><FONT ID="LN">1033</FONT><A NAME="1033"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Long">long</FONT> timestamp = DeltaProcessor.getTimeStamp((<A HREF="../../../../../java/io/File.java.htm">java.io.File</A>  <A HREF= "/780.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>)target);<br><FONT ID="LN">1034</FONT><A NAME="1034"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;externalTimeStamps.put(path, <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/Long.java.htm">Long</A>  <A HREF= "/892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(timestamp));                          <br><FONT ID="LN">1035</FONT><A NAME="1035"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1036</FONT><A NAME="1036"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1037</FONT><A NAME="1037"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1038</FONT><A NAME="1038"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1039</FONT><A NAME="1039"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1040</FONT><A NAME="1040"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1041</FONT><A NAME="1041"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> resetResolvedClasspath() {<br><FONT ID="LN">1042</FONT><A NAME="1042"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// null out resolved information<br><FONT ID="LN">1043</FONT><A NAME="1043"></A></FONT>            setClasspath(<FONT ID="This">this</FONT>.rawClasspath, <FONT ID="This">this</FONT>.outputLocation, <FONT ID="This">this</FONT>.rawClasspathStatus, <FONT ID="Null">null</FONT>, <FONT ID="Null">null</FONT>, <FONT ID="Null">null</FONT>, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">1044</FONT><A NAME="1044"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1045</FONT><A NAME="1045"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1046</FONT><A NAME="1046"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> setClasspath(IClasspathEntry[] newRawClasspath, IPath newOutputLocation, IJavaModelStatus newRawClasspathStatus, IClasspathEntry[] newResolvedClasspath, Map newRootPathToRawEntries, Map newRootPathToResolvedEntries, IJavaModelStatus newUnresolvedEntryStatus) {<br><FONT ID="LN">1047</FONT><A NAME="1047"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// remember old info<br><FONT ID="LN">1048</FONT><A NAME="1048"></A></FONT>            <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelManager.java.htm">JavaModelManager</A> manager = JavaModelManager.getJavaModelManager();<br><FONT ID="LN">1049</FONT><A NAME="1049"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/DeltaProcessor.java.htm">DeltaProcessor</A> deltaProcessor = manager.deltaState.getDeltaProcessor();<br><FONT ID="LN">1050</FONT><A NAME="1050"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deltaProcessor.addClasspathChange(<FONT ID="This">this</FONT>.project, <FONT ID="This">this</FONT>.rawClasspath, <FONT ID="This">this</FONT>.outputLocation, <FONT ID="This">this</FONT>.resolvedClasspath);<br><FONT ID="LN">1051</FONT><A NAME="1051"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1052</FONT><A NAME="1052"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.rawClasspath = newRawClasspath;<br><FONT ID="LN">1053</FONT><A NAME="1053"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.outputLocation = newOutputLocation;<br><FONT ID="LN">1054</FONT><A NAME="1054"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.rawClasspathStatus = newRawClasspathStatus;<br><FONT ID="LN">1055</FONT><A NAME="1055"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.resolvedClasspath = newResolvedClasspath;<br><FONT ID="LN">1056</FONT><A NAME="1056"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.rootPathToRawEntries = newRootPathToRawEntries;<br><FONT ID="LN">1057</FONT><A NAME="1057"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.rootPathToResolvedEntries = newRootPathToResolvedEntries;<br><FONT ID="LN">1058</FONT><A NAME="1058"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.unresolvedEntryStatus = newUnresolvedEntryStatus;<br><FONT ID="LN">1059</FONT><A NAME="1059"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.javadocCache = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/LRUCache.java.htm">LRUCache</A>(JAVADOC_CACHE_INITIAL_SIZE);<br><FONT ID="LN">1060</FONT><A NAME="1060"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1061</FONT><A NAME="1061"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1062</FONT><A NAME="1062"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1063</FONT><A NAME="1063"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Reads the raw classpath and output location from disk, and remember them.<br><FONT ID="LN">1064</FONT><A NAME="1064"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Return the raw classpath, or JavaProject#INVALID_CLASSPATH if unable to read it.<br><FONT ID="LN">1065</FONT><A NAME="1065"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1066</FONT><A NAME="1066"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> IClasspathEntry[] readAndCacheClasspath(<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A> javaProject) {<br><FONT ID="LN">1067</FONT><A NAME="1067"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// read file entries and update status<br><FONT ID="LN">1068</FONT><A NAME="1068"></A></FONT>            IClasspathEntry[] classpath;<br><FONT ID="LN">1069</FONT><A NAME="1069"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaModelStatus status;<br><FONT ID="LN">1070</FONT><A NAME="1070"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">1071</FONT><A NAME="1071"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath = javaProject.readFileEntriesWithException(<FONT ID="Null">null</FONT><FONT ID="MultiLineComment">/*not interested in unknown elements*/</FONT>);<br><FONT ID="LN">1072</FONT><A NAME="1072"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status = JavaModelStatus.VERIFIED_OK;<br><FONT ID="LN">1073</FONT><A NAME="1073"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (CoreException e) {<br><FONT ID="LN">1074</FONT><A NAME="1074"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath = JavaProject.INVALID_CLASSPATH;<br><FONT ID="LN">1075</FONT><A NAME="1075"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status = <br><FONT ID="LN">1076</FONT><A NAME="1076"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelStatus.java.htm">JavaModelStatus</A>(<br><FONT ID="LN">1077</FONT><A NAME="1077"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaModelStatusConstants.INVALID_CLASSPATH_FILE_FORMAT,<br><FONT ID="LN">1078</FONT><A NAME="1078"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Messages.bind(Messages.classpath_cannotReadClasspathFile, javaProject.getElementName()));<br><FONT ID="LN">1079</FONT><A NAME="1079"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (IOException e) {<br><FONT ID="LN">1080</FONT><A NAME="1080"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath = JavaProject.INVALID_CLASSPATH;<br><FONT ID="LN">1081</FONT><A NAME="1081"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (Messages.file_badFormat.equals(e.getMessage()))<br><FONT ID="LN">1082</FONT><A NAME="1082"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status = <br><FONT ID="LN">1083</FONT><A NAME="1083"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelStatus.java.htm">JavaModelStatus</A>(<br><FONT ID="LN">1084</FONT><A NAME="1084"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaModelStatusConstants.INVALID_CLASSPATH_FILE_FORMAT,<br><FONT ID="LN">1085</FONT><A NAME="1085"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Messages.bind(Messages.classpath_xmlFormatError, javaProject.getElementName(), Messages.file_badFormat));<br><FONT ID="LN">1086</FONT><A NAME="1086"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Else">else</FONT>                <br><FONT ID="LN">1087</FONT><A NAME="1087"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status = <br><FONT ID="LN">1088</FONT><A NAME="1088"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelStatus.java.htm">JavaModelStatus</A>(<br><FONT ID="LN">1089</FONT><A NAME="1089"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaModelStatusConstants.INVALID_CLASSPATH_FILE_FORMAT,<br><FONT ID="LN">1090</FONT><A NAME="1090"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Messages.bind(Messages.classpath_cannotReadClasspathFile, javaProject.getElementName()));<br><FONT ID="LN">1091</FONT><A NAME="1091"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (AssertionFailedException e) {<br><FONT ID="LN">1092</FONT><A NAME="1092"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath = JavaProject.INVALID_CLASSPATH;<br><FONT ID="LN">1093</FONT><A NAME="1093"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status =  <br><FONT ID="LN">1094</FONT><A NAME="1094"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelStatus.java.htm">JavaModelStatus</A>(<br><FONT ID="LN">1095</FONT><A NAME="1095"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaModelStatusConstants.INVALID_CLASSPATH_FILE_FORMAT,<br><FONT ID="LN">1096</FONT><A NAME="1096"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Messages.bind(Messages.classpath_illegalEntryInClasspathFile, <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] {javaProject.getElementName(), e.getMessage()}));<br><FONT ID="LN">1097</FONT><A NAME="1097"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1098</FONT><A NAME="1098"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1099</FONT><A NAME="1099"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// extract out the output location<br><FONT ID="LN">1100</FONT><A NAME="1100"></A></FONT>            IPath output = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1101</FONT><A NAME="1101"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (classpath.length &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1102</FONT><A NAME="1102"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry entry = classpath[classpath.length - <FONT ID="IntegerLiteral">1</FONT>];<br><FONT ID="LN">1103</FONT><A NAME="1103"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entry.getContentKind() == ClasspathEntry.K_OUTPUT) {<br><FONT ID="LN">1104</FONT><A NAME="1104"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output = entry.getPath();<br><FONT ID="LN">1105</FONT><A NAME="1105"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] copy = <FONT ID="New">new</FONT> IClasspathEntry[classpath.length - <FONT ID="IntegerLiteral">1</FONT>];<br><FONT ID="LN">1106</FONT><A NAME="1106"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(classpath, <FONT ID="IntegerLiteral">0</FONT>, copy, <FONT ID="IntegerLiteral">0</FONT>, copy.length);<br><FONT ID="LN">1107</FONT><A NAME="1107"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath = copy;<br><FONT ID="LN">1108</FONT><A NAME="1108"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1109</FONT><A NAME="1109"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1110</FONT><A NAME="1110"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1111</FONT><A NAME="1111"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// store new raw classpath, new output and new status, and null out resolved info<br><FONT ID="LN">1112</FONT><A NAME="1112"></A></FONT>            setClasspath(classpath, output, status, <FONT ID="Null">null</FONT>, <FONT ID="Null">null</FONT>, <FONT ID="Null">null</FONT>, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">1113</FONT><A NAME="1113"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1114</FONT><A NAME="1114"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> classpath;<br><FONT ID="LN">1115</FONT><A NAME="1115"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1116</FONT><A NAME="1116"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1117</FONT><A NAME="1117"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> toString() {<br><FONT ID="LN">1118</FONT><A NAME="1118"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1119</FONT><A NAME="1119"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"Info for "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1120</FONT><A NAME="1120"></A></FONT>            buffer.append(<FONT ID="This">this</FONT>.project.getFullPath());<br><FONT ID="LN">1121</FONT><A NAME="1121"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"\nRaw classpath:\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1122</FONT><A NAME="1122"></A></FONT>            <FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.rawClasspath == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1123</FONT><A NAME="1123"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"  &lt;null&gt;\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1124</FONT><A NAME="1124"></A></FONT>            } <FONT ID="Else">else</FONT> {<br><FONT ID="LN">1125</FONT><A NAME="1125"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, length = <FONT ID="This">this</FONT>.rawClasspath.length; i &lt; length; i++) {<br><FONT ID="LN">1126</FONT><A NAME="1126"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"  "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1127</FONT><A NAME="1127"></A></FONT>                    buffer.append(<FONT ID="This">this</FONT>.rawClasspath[i]);<br><FONT ID="LN">1128</FONT><A NAME="1128"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">'\n'</FONT>);<br><FONT ID="LN">1129</FONT><A NAME="1129"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1130</FONT><A NAME="1130"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1131</FONT><A NAME="1131"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"Resolved classpath:\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1132</FONT><A NAME="1132"></A></FONT>            IClasspathEntry[] resolvedCP = <FONT ID="This">this</FONT>.resolvedClasspath;<br><FONT ID="LN">1133</FONT><A NAME="1133"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (resolvedCP == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1134</FONT><A NAME="1134"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"  &lt;null&gt;\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1135</FONT><A NAME="1135"></A></FONT>            } <FONT ID="Else">else</FONT> {<br><FONT ID="LN">1136</FONT><A NAME="1136"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, length = resolvedCP.length; i &lt; length; i++) {<br><FONT ID="LN">1137</FONT><A NAME="1137"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"  "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1138</FONT><A NAME="1138"></A></FONT>                    buffer.append(resolvedCP[i]);<br><FONT ID="LN">1139</FONT><A NAME="1139"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">'\n'</FONT>);<br><FONT ID="LN">1140</FONT><A NAME="1140"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1141</FONT><A NAME="1141"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1142</FONT><A NAME="1142"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"Output location:\n  "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1143</FONT><A NAME="1143"></A></FONT>            <FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.outputLocation == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1144</FONT><A NAME="1144"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"&lt;null&gt;"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1145</FONT><A NAME="1145"></A></FONT>            } <FONT ID="Else">else</FONT> {<br><FONT ID="LN">1146</FONT><A NAME="1146"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="This">this</FONT>.outputLocation);<br><FONT ID="LN">1147</FONT><A NAME="1147"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1148</FONT><A NAME="1148"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> buffer.toString();<br><FONT ID="LN">1149</FONT><A NAME="1149"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1150</FONT><A NAME="1150"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1151</FONT><A NAME="1151"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1152</FONT><A NAME="1152"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> PerWorkingCopyInfo <FONT ID="Implements">implements</FONT> IProblemRequestor {<br><FONT ID="LN">1153</FONT><A NAME="1153"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> useCount = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">1154</FONT><A NAME="1154"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProblemRequestor problemRequestor;<br><FONT ID="LN">1155</FONT><A NAME="1155"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/CompilationUnit.java.htm">CompilationUnit</A> workingCopy;<br><FONT ID="LN">1156</FONT><A NAME="1156"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> PerWorkingCopyInfo(<A HREF="../../../../../org/eclipse/jdt/internal/core/CompilationUnit.java.htm">CompilationUnit</A> workingCopy, IProblemRequestor problemRequestor) {<br><FONT ID="LN">1157</FONT><A NAME="1157"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.workingCopy = workingCopy;<br><FONT ID="LN">1158</FONT><A NAME="1158"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.problemRequestor = problemRequestor;<br><FONT ID="LN">1159</FONT><A NAME="1159"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1160</FONT><A NAME="1160"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> acceptProblem(<A HREF="../../../../../org/eclipse/jdt/core/compiler/IProblem.java.htm">IProblem</A> problem) {<br><FONT ID="LN">1161</FONT><A NAME="1161"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProblemRequestor requestor = getProblemRequestor();<br><FONT ID="LN">1162</FONT><A NAME="1162"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (requestor == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">1163</FONT><A NAME="1163"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requestor.acceptProblem(problem);<br><FONT ID="LN">1164</FONT><A NAME="1164"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1165</FONT><A NAME="1165"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> beginReporting() {<br><FONT ID="LN">1166</FONT><A NAME="1166"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProblemRequestor requestor = getProblemRequestor();<br><FONT ID="LN">1167</FONT><A NAME="1167"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (requestor == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">1168</FONT><A NAME="1168"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requestor.beginReporting();<br><FONT ID="LN">1169</FONT><A NAME="1169"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1170</FONT><A NAME="1170"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> endReporting() {<br><FONT ID="LN">1171</FONT><A NAME="1171"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProblemRequestor requestor = getProblemRequestor();<br><FONT ID="LN">1172</FONT><A NAME="1172"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (requestor == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">1173</FONT><A NAME="1173"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requestor.endReporting();<br><FONT ID="LN">1174</FONT><A NAME="1174"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1175</FONT><A NAME="1175"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IProblemRequestor getProblemRequestor() {<br><FONT ID="LN">1176</FONT><A NAME="1176"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.problemRequestor == <FONT ID="Null">null</FONT> &amp;&amp; <FONT ID="This">this</FONT>.workingCopy.owner != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1177</FONT><A NAME="1177"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.workingCopy.owner.getProblemRequestor(<FONT ID="This">this</FONT>.workingCopy);<br><FONT ID="LN">1178</FONT><A NAME="1178"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1179</FONT><A NAME="1179"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.problemRequestor;<br><FONT ID="LN">1180</FONT><A NAME="1180"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1181</FONT><A NAME="1181"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> ICompilationUnit getWorkingCopy() {<br><FONT ID="LN">1182</FONT><A NAME="1182"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.workingCopy;<br><FONT ID="LN">1183</FONT><A NAME="1183"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1184</FONT><A NAME="1184"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> isActive() {<br><FONT ID="LN">1185</FONT><A NAME="1185"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProblemRequestor requestor = getProblemRequestor();<br><FONT ID="LN">1186</FONT><A NAME="1186"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> requestor != <FONT ID="Null">null</FONT> &amp;&amp; requestor.isActive();<br><FONT ID="LN">1187</FONT><A NAME="1187"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1188</FONT><A NAME="1188"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> toString() {<br><FONT ID="LN">1189</FONT><A NAME="1189"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1190</FONT><A NAME="1190"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"Info for "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1191</FONT><A NAME="1191"></A></FONT>            buffer.append(((<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElement.java.htm">JavaElement</A>)<FONT ID="This">this</FONT>.workingCopy).toStringWithAncestors());<br><FONT ID="LN">1192</FONT><A NAME="1192"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"\nUse count = "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1193</FONT><A NAME="1193"></A></FONT>            buffer.append(<FONT ID="This">this</FONT>.useCount);<br><FONT ID="LN">1194</FONT><A NAME="1194"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"\nProblem requestor:\n  "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1195</FONT><A NAME="1195"></A></FONT>            buffer.append(<FONT ID="This">this</FONT>.problemRequestor);<br><FONT ID="LN">1196</FONT><A NAME="1196"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.problemRequestor == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1197</FONT><A NAME="1197"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProblemRequestor requestor = getProblemRequestor();<br><FONT ID="LN">1198</FONT><A NAME="1198"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"\nOwner problem requestor:\n  "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1199</FONT><A NAME="1199"></A></FONT>                buffer.append(requestor);<br><FONT ID="LN">1200</FONT><A NAME="1200"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1201</FONT><A NAME="1201"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> buffer.toString();<br><FONT ID="LN">1202</FONT><A NAME="1202"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1203</FONT><A NAME="1203"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1204</FONT><A NAME="1204"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1205</FONT><A NAME="1205"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Boolean">boolean</FONT> VERBOSE = <FONT ID="False">false</FONT>;<br><FONT ID="LN">1206</FONT><A NAME="1206"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Boolean">boolean</FONT> CP_RESOLVE_VERBOSE = <FONT ID="False">false</FONT>;<br><FONT ID="LN">1207</FONT><A NAME="1207"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Boolean">boolean</FONT> CP_RESOLVE_VERBOSE_ADVANCED = <FONT ID="False">false</FONT>;<br><FONT ID="LN">1208</FONT><A NAME="1208"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Boolean">boolean</FONT> ZIP_ACCESS_VERBOSE = <FONT ID="False">false</FONT>;<br><FONT ID="LN">1209</FONT><A NAME="1209"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1210</FONT><A NAME="1210"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1211</FONT><A NAME="1211"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* A cache of opened zip files per thread.<br><FONT ID="LN">1212</FONT><A NAME="1212"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* (for a given thread, the object value is a HashMap from IPath to java.io.ZipFile)<br><FONT ID="LN">1213</FONT><A NAME="1213"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1214</FONT><A NAME="1214"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> zipFiles = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/ThreadLocal.java.htm">ThreadLocal</A>  <A HREF= "/1892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1215</FONT><A NAME="1215"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1216</FONT><A NAME="1216"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/UserLibraryManager.java.htm">UserLibraryManager</A> userLibraryManager;<br><FONT ID="LN">1217</FONT><A NAME="1217"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1218</FONT><A NAME="1218"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1219</FONT><A NAME="1219"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Update the classpath variable cache<br><FONT ID="LN">1220</FONT><A NAME="1220"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1221</FONT><A NAME="1221"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Class">class</FONT> EclipsePreferencesListener <FONT ID="Implements">implements</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences.IPreferenceChangeListener</A> {<br><FONT ID="LN">1222</FONT><A NAME="1222"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1223</FONT><A NAME="1223"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @see org.eclipse.core.runtime.preferences.IEclipsePreferences.IPreferenceChangeListener#preferenceChange(org.eclipse.core.runtime.preferences.IEclipsePreferences.PreferenceChangeEvent)<br><FONT ID="LN">1224</FONT><A NAME="1224"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1225</FONT><A NAME="1225"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> preferenceChange(<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences.PreferenceChangeEvent</A> event) {<br><FONT ID="LN">1226</FONT><A NAME="1226"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> propertyName = event.getKey();<br><FONT ID="LN">1227</FONT><A NAME="1227"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (propertyName.startsWith(CP_VARIABLE_PREFERENCES_PREFIX)) {<br><FONT ID="LN">1228</FONT><A NAME="1228"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> varName = propertyName.substring(CP_VARIABLE_PREFERENCES_PREFIX.length());<br><FONT ID="LN">1229</FONT><A NAME="1229"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelManager.java.htm">JavaModelManager</A> manager = getJavaModelManager();<br><FONT ID="LN">1230</FONT><A NAME="1230"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (manager.variablesWithInitializer.contains(varName)) {<br><FONT ID="LN">1231</FONT><A NAME="1231"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// revert preference value as we will not apply it to JavaCore classpath variable<br><FONT ID="LN">1232</FONT><A NAME="1232"></A></FONT>                    <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> oldValue = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) event.getOldValue();<br><FONT ID="LN">1233</FONT><A NAME="1233"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (oldValue == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1234</FONT><A NAME="1234"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// unexpected old value =&gt; remove variable from set<br><FONT ID="LN">1235</FONT><A NAME="1235"></A></FONT>                        manager.variablesWithInitializer.remove(varName);<br><FONT ID="LN">1236</FONT><A NAME="1236"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">1237</FONT><A NAME="1237"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;manager.getInstancePreferences().put(varName, oldValue);<br><FONT ID="LN">1238</FONT><A NAME="1238"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1239</FONT><A NAME="1239"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">1240</FONT><A NAME="1240"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> newValue = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>)event.getNewValue();<br><FONT ID="LN">1241</FONT><A NAME="1241"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath newPath;<br><FONT ID="LN">1242</FONT><A NAME="1242"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (newValue != <FONT ID="Null">null</FONT> &amp;&amp; !(newValue = newValue.trim()).equals(CP_ENTRY_IGNORE)) {<br><FONT ID="LN">1243</FONT><A NAME="1243"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newPath = <FONT ID="New">new</FONT> Path(newValue);<br><FONT ID="LN">1244</FONT><A NAME="1244"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">1245</FONT><A NAME="1245"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newPath = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1246</FONT><A NAME="1246"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1247</FONT><A NAME="1247"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">1248</FONT><A NAME="1248"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/SetVariablesOperation.java.htm">SetVariablesOperation</A> operation = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/SetVariablesOperation.java.htm">SetVariablesOperation</A>(<FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] {varName}, <FONT ID="New">new</FONT> IPath[] {newPath}, <FONT ID="False">false</FONT><FONT ID="MultiLineComment">/*don't update preferences*/</FONT>);<br><FONT ID="LN">1249</FONT><A NAME="1249"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation.runOperation(<FONT ID="Null">null</FONT><FONT ID="MultiLineComment">/*no progress available*/</FONT>);<br><FONT ID="LN">1250</FONT><A NAME="1250"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (JavaModelException e) {<br><FONT ID="LN">1251</FONT><A NAME="1251"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.log(e, <FONT ID="StringLiteral">"Could not set classpath variable "</FONT> + varName + <FONT ID="StringLiteral">" to "</FONT> + newPath); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">1252</FONT><A NAME="1252"></A></FONT>                    }<br><FONT ID="LN">1253</FONT><A NAME="1253"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1254</FONT><A NAME="1254"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (propertyName.startsWith(CP_CONTAINER_PREFERENCES_PREFIX)) {<br><FONT ID="LN">1255</FONT><A NAME="1255"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recreatePersistedContainer(propertyName, (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>)event.getNewValue(), <FONT ID="False">false</FONT>);<br><FONT ID="LN">1256</FONT><A NAME="1256"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (propertyName.equals(JavaCore.CORE_JAVA_BUILD_CLEAN_OUTPUT_FOLDER) ||<br><FONT ID="LN">1257</FONT><A NAME="1257"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyName.equals(JavaCore.CORE_JAVA_BUILD_RESOURCE_COPY_FILTER) ||<br><FONT ID="LN">1258</FONT><A NAME="1258"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyName.equals(JavaCore.CORE_JAVA_BUILD_DUPLICATE_RESOURCE) ||<br><FONT ID="LN">1259</FONT><A NAME="1259"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyName.equals(JavaCore.CORE_JAVA_BUILD_RECREATE_MODIFIED_CLASS_FILES_IN_OUTPUT_FOLDER) ||<br><FONT ID="LN">1260</FONT><A NAME="1260"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyName.equals(JavaCore.CORE_JAVA_BUILD_INVALID_CLASSPATH) ||<br><FONT ID="LN">1261</FONT><A NAME="1261"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyName.equals(JavaCore.CORE_ENABLE_CLASSPATH_EXCLUSION_PATTERNS) ||<br><FONT ID="LN">1262</FONT><A NAME="1262"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyName.equals(JavaCore.CORE_ENABLE_CLASSPATH_MULTIPLE_OUTPUT_LOCATIONS) ||<br><FONT ID="LN">1263</FONT><A NAME="1263"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyName.equals(JavaCore.CORE_INCOMPLETE_CLASSPATH) ||<br><FONT ID="LN">1264</FONT><A NAME="1264"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyName.equals(JavaCore.CORE_CIRCULAR_CLASSPATH) ||<br><FONT ID="LN">1265</FONT><A NAME="1265"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyName.equals(JavaCore.CORE_INCOMPATIBLE_JDK_LEVEL)) {<br><FONT ID="LN">1266</FONT><A NAME="1266"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelManager.java.htm">JavaModelManager</A> manager = JavaModelManager.getJavaModelManager();<br><FONT ID="LN">1267</FONT><A NAME="1267"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaModel model = manager.getJavaModel();<br><FONT ID="LN">1268</FONT><A NAME="1268"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaProject[] projects;<br><FONT ID="LN">1269</FONT><A NAME="1269"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">1270</FONT><A NAME="1270"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projects = model.getJavaProjects();<br><FONT ID="LN">1271</FONT><A NAME="1271"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, pl = projects.length; i &lt; pl; i++) {<br><FONT ID="LN">1272</FONT><A NAME="1272"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A> javaProject = (<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A>) projects[i];<br><FONT ID="LN">1273</FONT><A NAME="1273"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;manager.deltaState.addClasspathValidation(javaProject);<br><FONT ID="LN">1274</FONT><A NAME="1274"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">1275</FONT><A NAME="1275"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// need to touch the project to force validation by DeltaProcessor<br><FONT ID="LN">1276</FONT><A NAME="1276"></A></FONT>                            javaProject.getProject().touch(<FONT ID="Null">null</FONT>);<br><FONT ID="LN">1277</FONT><A NAME="1277"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (CoreException e) {<br><FONT ID="LN">1278</FONT><A NAME="1278"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// skip<br><FONT ID="LN">1279</FONT><A NAME="1279"></A></FONT>                        }<br><FONT ID="LN">1280</FONT><A NAME="1280"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1281</FONT><A NAME="1281"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (JavaModelException e) {<br><FONT ID="LN">1282</FONT><A NAME="1282"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// skip<br><FONT ID="LN">1283</FONT><A NAME="1283"></A></FONT>                }<br><FONT ID="LN">1284</FONT><A NAME="1284"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1285</FONT><A NAME="1285"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1286</FONT><A NAME="1286"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1287</FONT><A NAME="1287"></A><br><FONT ID="LN">1288</FONT><A NAME="1288"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1289</FONT><A NAME="1289"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Constructs a new JavaModelManager<br><FONT ID="LN">1290</FONT><A NAME="1290"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1291</FONT><A NAME="1291"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> JavaModelManager() {<br><FONT ID="LN">1292</FONT><A NAME="1292"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// singleton: prevent others from creating a new instance<br><FONT ID="LN">1293</FONT><A NAME="1293"></A></FONT>        <FONT ID="If">if</FONT> (Platform.isRunning()) <FONT ID="This">this</FONT>.indexManager = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/indexing/IndexManager.java.htm">IndexManager</A>();<br><FONT ID="LN">1294</FONT><A NAME="1294"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1295</FONT><A NAME="1295"></A><br><FONT ID="LN">1296</FONT><A NAME="1296"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1297</FONT><A NAME="1297"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @deprecated<br><FONT ID="LN">1298</FONT><A NAME="1298"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1299</FONT><A NAME="1299"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> addDeprecatedOptions(Hashtable options) {<br><FONT ID="LN">1300</FONT><A NAME="1300"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options.put(JavaCore.COMPILER_PB_INVALID_IMPORT, JavaCore.ERROR);       <br><FONT ID="LN">1301</FONT><A NAME="1301"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options.put(JavaCore.COMPILER_PB_UNREACHABLE_CODE, JavaCore.ERROR);<br><FONT ID="LN">1302</FONT><A NAME="1302"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1303</FONT><A NAME="1303"></A><br><FONT ID="LN">1304</FONT><A NAME="1304"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1305</FONT><A NAME="1305"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Starts caching ZipFiles.<br><FONT ID="LN">1306</FONT><A NAME="1306"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Ignores if there are already clients.<br><FONT ID="LN">1307</FONT><A NAME="1307"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1308</FONT><A NAME="1308"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> cacheZipFiles() {<br><FONT ID="LN">1309</FONT><A NAME="1309"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.zipFiles.get() != <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">1310</FONT><A NAME="1310"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.zipFiles.set(<FONT ID="New">new</FONT> HashMap());<br><FONT ID="LN">1311</FONT><A NAME="1311"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1312</FONT><A NAME="1312"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> closeZipFile(<A HREF="../../../../../java/util/zip/ZipFile.java.htm">ZipFile</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> zipFile) {<br><FONT ID="LN">1313</FONT><A NAME="1313"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (zipFile == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">1314</FONT><A NAME="1314"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.zipFiles.get() != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1315</FONT><A NAME="1315"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>; <FONT ID="SingleLineComment">// zip file will be closed by call to flushZipFiles<br><FONT ID="LN">1316</FONT><A NAME="1316"></A></FONT>        }<br><FONT ID="LN">1317</FONT><A NAME="1317"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">1318</FONT><A NAME="1318"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaModelManager.ZIP_ACCESS_VERBOSE) {<br><FONT ID="LN">1319</FONT><A NAME="1319"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<FONT ID="StringLiteral">"("</FONT> + Thread.currentThread() + <FONT ID="StringLiteral">") [JavaModelManager.closeZipFile(ZipFile)] Closing ZipFile on "</FONT> +zipFile.getName()); <FONT ID="SingleLineComment">//$NON-NLS-1$   //$NON-NLS-2$<br><FONT ID="LN">1320</FONT><A NAME="1320"></A></FONT>            }<br><FONT ID="LN">1321</FONT><A NAME="1321"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zipFile.close();<br><FONT ID="LN">1322</FONT><A NAME="1322"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (IOException e) {<br><FONT ID="LN">1323</FONT><A NAME="1323"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// problem occured closing zip file: cannot do much more<br><FONT ID="LN">1324</FONT><A NAME="1324"></A></FONT>        }<br><FONT ID="LN">1325</FONT><A NAME="1325"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1326</FONT><A NAME="1326"></A><br><FONT ID="LN">1327</FONT><A NAME="1327"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1328</FONT><A NAME="1328"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Configure the plugin with respect to option settings defined in ".options" file<br><FONT ID="LN">1329</FONT><A NAME="1329"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1330</FONT><A NAME="1330"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> configurePluginDebugOptions(){<br><FONT ID="LN">1331</FONT><A NAME="1331"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(JavaCore.getPlugin().isDebugging()){<br><FONT ID="LN">1332</FONT><A NAME="1332"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> option = Platform.getDebugOption(BUFFER_MANAGER_DEBUG);<br><FONT ID="LN">1333</FONT><A NAME="1333"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) BufferManager.VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1334</FONT><A NAME="1334"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1335</FONT><A NAME="1335"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(BUILDER_DEBUG);<br><FONT ID="LN">1336</FONT><A NAME="1336"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) JavaBuilder.DEBUG = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1337</FONT><A NAME="1337"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1338</FONT><A NAME="1338"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(COMPILER_DEBUG);<br><FONT ID="LN">1339</FONT><A NAME="1339"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) Compiler.DEBUG = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1340</FONT><A NAME="1340"></A><br><FONT ID="LN">1341</FONT><A NAME="1341"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(COMPLETION_DEBUG);<br><FONT ID="LN">1342</FONT><A NAME="1342"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) CompletionEngine.DEBUG = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1343</FONT><A NAME="1343"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1344</FONT><A NAME="1344"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(CP_RESOLVE_DEBUG);<br><FONT ID="LN">1345</FONT><A NAME="1345"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) JavaModelManager.CP_RESOLVE_VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1346</FONT><A NAME="1346"></A><br><FONT ID="LN">1347</FONT><A NAME="1347"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(CP_RESOLVE_ADVANCED_DEBUG);<br><FONT ID="LN">1348</FONT><A NAME="1348"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) JavaModelManager.CP_RESOLVE_VERBOSE_ADVANCED = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1349</FONT><A NAME="1349"></A><br><FONT ID="LN">1350</FONT><A NAME="1350"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(DELTA_DEBUG);<br><FONT ID="LN">1351</FONT><A NAME="1351"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) DeltaProcessor.DEBUG = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1352</FONT><A NAME="1352"></A><br><FONT ID="LN">1353</FONT><A NAME="1353"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(DELTA_DEBUG_VERBOSE);<br><FONT ID="LN">1354</FONT><A NAME="1354"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) DeltaProcessor.VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1355</FONT><A NAME="1355"></A><br><FONT ID="LN">1356</FONT><A NAME="1356"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(HIERARCHY_DEBUG);<br><FONT ID="LN">1357</FONT><A NAME="1357"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) TypeHierarchy.DEBUG = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1358</FONT><A NAME="1358"></A><br><FONT ID="LN">1359</FONT><A NAME="1359"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(INDEX_MANAGER_DEBUG);<br><FONT ID="LN">1360</FONT><A NAME="1360"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) JobManager.VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1361</FONT><A NAME="1361"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1362</FONT><A NAME="1362"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(JAVAMODEL_DEBUG);<br><FONT ID="LN">1363</FONT><A NAME="1363"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) JavaModelManager.VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1364</FONT><A NAME="1364"></A><br><FONT ID="LN">1365</FONT><A NAME="1365"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(JAVAMODELCACHE_DEBUG);<br><FONT ID="LN">1366</FONT><A NAME="1366"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) JavaModelCache.VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1367</FONT><A NAME="1367"></A><br><FONT ID="LN">1368</FONT><A NAME="1368"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(POST_ACTION_DEBUG);<br><FONT ID="LN">1369</FONT><A NAME="1369"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) JavaModelOperation.POST_ACTION_VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1370</FONT><A NAME="1370"></A><br><FONT ID="LN">1371</FONT><A NAME="1371"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(RESOLUTION_DEBUG);<br><FONT ID="LN">1372</FONT><A NAME="1372"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) NameLookup.VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1373</FONT><A NAME="1373"></A><br><FONT ID="LN">1374</FONT><A NAME="1374"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(SEARCH_DEBUG);<br><FONT ID="LN">1375</FONT><A NAME="1375"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) BasicSearchEngine.VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1376</FONT><A NAME="1376"></A><br><FONT ID="LN">1377</FONT><A NAME="1377"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(SELECTION_DEBUG);<br><FONT ID="LN">1378</FONT><A NAME="1378"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) SelectionEngine.DEBUG = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1379</FONT><A NAME="1379"></A><br><FONT ID="LN">1380</FONT><A NAME="1380"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(ZIP_ACCESS_DEBUG);<br><FONT ID="LN">1381</FONT><A NAME="1381"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) JavaModelManager.ZIP_ACCESS_VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1382</FONT><A NAME="1382"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1383</FONT><A NAME="1383"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option = Platform.getDebugOption(SOURCE_MAPPER_DEBUG_VERBOSE);<br><FONT ID="LN">1384</FONT><A NAME="1384"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(option != <FONT ID="Null">null</FONT>) SourceMapper.VERBOSE = option.equalsIgnoreCase(TRUE) ;<br><FONT ID="LN">1385</FONT><A NAME="1385"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1386</FONT><A NAME="1386"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1387</FONT><A NAME="1387"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// configure performance options<br><FONT ID="LN">1388</FONT><A NAME="1388"></A></FONT>        <FONT ID="If">if</FONT>(PerformanceStats.ENABLED) {<br><FONT ID="LN">1389</FONT><A NAME="1389"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CompletionEngine.PERF = PerformanceStats.isEnabled(COMPLETION_PERF);<br><FONT ID="LN">1390</FONT><A NAME="1390"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SelectionEngine.PERF = PerformanceStats.isEnabled(SELECTION_PERF);<br><FONT ID="LN">1391</FONT><A NAME="1391"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DeltaProcessor.PERF = PerformanceStats.isEnabled(DELTA_LISTENER_PERF);<br><FONT ID="LN">1392</FONT><A NAME="1392"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaModelManager.PERF_VARIABLE_INITIALIZER = PerformanceStats.isEnabled(VARIABLE_INITIALIZER_PERF);<br><FONT ID="LN">1393</FONT><A NAME="1393"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaModelManager.PERF_CONTAINER_INITIALIZER = PerformanceStats.isEnabled(CONTAINER_INITIALIZER_PERF);<br><FONT ID="LN">1394</FONT><A NAME="1394"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReconcileWorkingCopyOperation.PERF = PerformanceStats.isEnabled(RECONCILE_PERF);<br><FONT ID="LN">1395</FONT><A NAME="1395"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1396</FONT><A NAME="1396"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1397</FONT><A NAME="1397"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1398</FONT><A NAME="1398"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1399</FONT><A NAME="1399"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Return a new Java 6 annotation processor manager.  The manager will need to<br><FONT ID="LN">1400</FONT><A NAME="1400"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* be configured before it can be used.  Returns null if a manager cannot be<br><FONT ID="LN">1401</FONT><A NAME="1401"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* created, ie if the current VM does not support Java 6 annotation processing.<br><FONT ID="LN">1402</FONT><A NAME="1402"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1403</FONT><A NAME="1403"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/AbstractAnnotationProcessorManager.java.htm">AbstractAnnotationProcessorManager</A> createAnnotationProcessorManager() {<br><FONT ID="LN">1404</FONT><A NAME="1404"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Synchronized">synchronized</FONT>(<FONT ID="This">this</FONT>) {<br><FONT ID="LN">1405</FONT><A NAME="1405"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.annotationProcessorManagerFactory == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1406</FONT><A NAME="1406"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IExtensionPoint extension = Platform.getExtensionRegistry().getExtensionPoint(JavaCore.PLUGIN_ID, ANNOTATION_PROCESSOR_MANAGER_EXTPOINT_ID);<br><FONT ID="LN">1407</FONT><A NAME="1407"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (extension == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">1408</FONT><A NAME="1408"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1409</FONT><A NAME="1409"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IExtension[] extensions = extension.getExtensions();<br><FONT ID="LN">1410</FONT><A NAME="1410"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT>(<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; extensions.length; i++) {<br><FONT ID="LN">1411</FONT><A NAME="1411"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (i &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1412</FONT><A NAME="1412"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.log(<FONT ID="Null">null</FONT>, <FONT ID="StringLiteral">"An annotation processor manager is already registered: ignoring "</FONT> + extensions[i].getUniqueIdentifier()); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1413</FONT><A NAME="1413"></A></FONT>                        <FONT ID="Break">break</FONT>;<br><FONT ID="LN">1414</FONT><A NAME="1414"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1415</FONT><A NAME="1415"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IConfigurationElement[] configElements = extensions[i].getConfigurationElements();<br><FONT ID="LN">1416</FONT><A NAME="1416"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT>(<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; configElements.length; j++) {<br><FONT ID="LN">1417</FONT><A NAME="1417"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IConfigurationElement configElement = configElements[j];<br><FONT ID="LN">1418</FONT><A NAME="1418"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="StringLiteral">"annotationProcessorManager"</FONT>.equals(configElement.getName())) { <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1419</FONT><A NAME="1419"></A></FONT>                            <FONT ID="This">this</FONT>.annotationProcessorManagerFactory = configElement;<br><FONT ID="LN">1420</FONT><A NAME="1420"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">1421</FONT><A NAME="1421"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1422</FONT><A NAME="1422"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1423</FONT><A NAME="1423"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1424</FONT><A NAME="1424"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1425</FONT><A NAME="1425"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1426</FONT><A NAME="1426"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1427</FONT><A NAME="1427"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.annotationProcessorManagerFactory == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1428</FONT><A NAME="1428"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1429</FONT><A NAME="1429"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1430</FONT><A NAME="1430"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/AbstractAnnotationProcessorManager.java.htm">AbstractAnnotationProcessorManager</A>[] apm = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/AbstractAnnotationProcessorManager.java.htm">AbstractAnnotationProcessorManager</A>[<FONT ID="IntegerLiteral">1</FONT>];<br><FONT ID="LN">1431</FONT><A NAME="1431"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apm[<FONT ID="IntegerLiteral">0</FONT>] = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1432</FONT><A NAME="1432"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IConfigurationElement factory = <FONT ID="This">this</FONT>.annotationProcessorManagerFactory;<br><FONT ID="LN">1433</FONT><A NAME="1433"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SafeRunner.run(<FONT ID="New">new</FONT> ISafeRunnable() {<br><FONT ID="LN">1434</FONT><A NAME="1434"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> handleException(<A HREF="../../../../../java/lang/Throwable.java.htm">Throwable</A>  <A HREF= "/1543.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> exception) {<br><FONT ID="LN">1435</FONT><A NAME="1435"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.log(exception, <FONT ID="StringLiteral">"Exception occurred while loading annotation processor manager"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1436</FONT><A NAME="1436"></A></FONT>            }<br><FONT ID="LN">1437</FONT><A NAME="1437"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> run() <FONT ID="Throws">throws</FONT> <A HREF="../../../../../java/lang/Exception.java.htm">Exception</A>  <A HREF= "/2619.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> {<br><FONT ID="LN">1438</FONT><A NAME="1438"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> executableExtension = factory.createExecutableExtension(<FONT ID="StringLiteral">"class"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ <br><FONT ID="LN">1439</FONT><A NAME="1439"></A></FONT>                <FONT ID="If">if</FONT> (executableExtension <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/AbstractAnnotationProcessorManager.java.htm">AbstractAnnotationProcessorManager</A>) {<br><FONT ID="LN">1440</FONT><A NAME="1440"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apm[<FONT ID="IntegerLiteral">0</FONT>] = (<A HREF="../../../../../org/eclipse/jdt/internal/compiler/AbstractAnnotationProcessorManager.java.htm">AbstractAnnotationProcessorManager</A>) executableExtension;<br><FONT ID="LN">1441</FONT><A NAME="1441"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1442</FONT><A NAME="1442"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1443</FONT><A NAME="1443"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br><FONT ID="LN">1444</FONT><A NAME="1444"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> apm[<FONT ID="IntegerLiteral">0</FONT>];<br><FONT ID="LN">1445</FONT><A NAME="1445"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1446</FONT><A NAME="1446"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1447</FONT><A NAME="1447"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1448</FONT><A NAME="1448"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Discards the per working copy info for the given working copy (making it a compilation unit)<br><FONT ID="LN">1449</FONT><A NAME="1449"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* if its use count was 1. Otherwise, just decrement the use count.<br><FONT ID="LN">1450</FONT><A NAME="1450"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* If the working copy is primary, computes the delta between its state and the original compilation unit<br><FONT ID="LN">1451</FONT><A NAME="1451"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* and register it.<br><FONT ID="LN">1452</FONT><A NAME="1452"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Close the working copy, its buffer and remove it from the shared working copy table.<br><FONT ID="LN">1453</FONT><A NAME="1453"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Ignore if no per-working copy info existed.<br><FONT ID="LN">1454</FONT><A NAME="1454"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* NOTE: it must NOT be synchronized as it may interact with the element info cache (if useCount is decremented to 0), see bug 50667.<br><FONT ID="LN">1455</FONT><A NAME="1455"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the new use count (or -1 if it didn't exist).<br><FONT ID="LN">1456</FONT><A NAME="1456"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1457</FONT><A NAME="1457"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> discardPerWorkingCopyInfo(<A HREF="../../../../../org/eclipse/jdt/internal/core/CompilationUnit.java.htm">CompilationUnit</A> workingCopy) <FONT ID="Throws">throws</FONT> JavaModelException {<br><FONT ID="LN">1458</FONT><A NAME="1458"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1459</FONT><A NAME="1459"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// create the delta builder (this remembers the current content of the working copy)<br><FONT ID="LN">1460</FONT><A NAME="1460"></A></FONT>        <FONT ID="SingleLineComment">// outside the perWorkingCopyInfos lock (see bug 50667)<br><FONT ID="LN">1461</FONT><A NAME="1461"></A></FONT>        <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElementDeltaBuilder.java.htm">JavaElementDeltaBuilder</A> deltaBuilder = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1462</FONT><A NAME="1462"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (workingCopy.isPrimary() &amp;&amp; workingCopy.hasUnsavedChanges()) {<br><FONT ID="LN">1463</FONT><A NAME="1463"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deltaBuilder = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElementDeltaBuilder.java.htm">JavaElementDeltaBuilder</A>(workingCopy);<br><FONT ID="LN">1464</FONT><A NAME="1464"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1465</FONT><A NAME="1465"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PerWorkingCopyInfo info = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1466</FONT><A NAME="1466"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Synchronized">synchronized</FONT>(<FONT ID="This">this</FONT>.perWorkingCopyInfos) {<br><FONT ID="LN">1467</FONT><A NAME="1467"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WorkingCopyOwner owner = workingCopy.owner;<br><FONT ID="LN">1468</FONT><A NAME="1468"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map workingCopyToInfos = (Map)<FONT ID="This">this</FONT>.perWorkingCopyInfos.get(owner);<br><FONT ID="LN">1469</FONT><A NAME="1469"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (workingCopyToInfos == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> -<FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">1470</FONT><A NAME="1470"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1471</FONT><A NAME="1471"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info = (PerWorkingCopyInfo)workingCopyToInfos.get(workingCopy);<br><FONT ID="LN">1472</FONT><A NAME="1472"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (info == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> -<FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">1473</FONT><A NAME="1473"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1474</FONT><A NAME="1474"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (--info.useCount == <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">1475</FONT><A NAME="1475"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// remove per working copy info<br><FONT ID="LN">1476</FONT><A NAME="1476"></A></FONT>                workingCopyToInfos.remove(workingCopy);<br><FONT ID="LN">1477</FONT><A NAME="1477"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (workingCopyToInfos.isEmpty()) {<br><FONT ID="LN">1478</FONT><A NAME="1478"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.perWorkingCopyInfos.remove(owner);<br><FONT ID="LN">1479</FONT><A NAME="1479"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1480</FONT><A NAME="1480"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1481</FONT><A NAME="1481"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1482</FONT><A NAME="1482"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (info.useCount == <FONT ID="IntegerLiteral">0</FONT>) { <FONT ID="SingleLineComment">// info cannot be null here (check was done above)<br><FONT ID="LN">1483</FONT><A NAME="1483"></A></FONT>            <FONT ID="SingleLineComment">// remove infos + close buffer (since no longer working copy)<br><FONT ID="LN">1484</FONT><A NAME="1484"></A></FONT>            <FONT ID="SingleLineComment">// outside the perWorkingCopyInfos lock (see bug 50667)<br><FONT ID="LN">1485</FONT><A NAME="1485"></A></FONT>            removeInfoAndChildren(workingCopy);<br><FONT ID="LN">1486</FONT><A NAME="1486"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;workingCopy.closeBuffer();<br><FONT ID="LN">1487</FONT><A NAME="1487"></A><br><FONT ID="LN">1488</FONT><A NAME="1488"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// compute the delta if needed and register it if there are changes<br><FONT ID="LN">1489</FONT><A NAME="1489"></A></FONT>            <FONT ID="If">if</FONT> (deltaBuilder != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1490</FONT><A NAME="1490"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deltaBuilder.buildDeltas();<br><FONT ID="LN">1491</FONT><A NAME="1491"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (deltaBuilder.delta != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1492</FONT><A NAME="1492"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getDeltaProcessor().registerJavaModelDelta(deltaBuilder.delta);<br><FONT ID="LN">1493</FONT><A NAME="1493"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1494</FONT><A NAME="1494"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1495</FONT><A NAME="1495"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1496</FONT><A NAME="1496"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> info.useCount;<br><FONT ID="LN">1497</FONT><A NAME="1497"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1498</FONT><A NAME="1498"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1499</FONT><A NAME="1499"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1500</FONT><A NAME="1500"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @see ISaveParticipant<br><FONT ID="LN">1501</FONT><A NAME="1501"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1502</FONT><A NAME="1502"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> doneSaving(ISaveContext context){<br><FONT ID="LN">1503</FONT><A NAME="1503"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// nothing to do for jdt.core<br><FONT ID="LN">1504</FONT><A NAME="1504"></A></FONT>    }<br><FONT ID="LN">1505</FONT><A NAME="1505"></A><br><FONT ID="LN">1506</FONT><A NAME="1506"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1507</FONT><A NAME="1507"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Flushes ZipFiles cache if there are no more clients.<br><FONT ID="LN">1508</FONT><A NAME="1508"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1509</FONT><A NAME="1509"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> flushZipFiles() {<br><FONT ID="LN">1510</FONT><A NAME="1510"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Thread.java.htm">Thread</A>  <A HREF= "/186.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> currentThread = Thread.currentThread();<br><FONT ID="LN">1511</FONT><A NAME="1511"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap map = (HashMap)<FONT ID="This">this</FONT>.zipFiles.get();<br><FONT ID="LN">1512</FONT><A NAME="1512"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (map == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">1513</FONT><A NAME="1513"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.zipFiles.set(<FONT ID="Null">null</FONT>);<br><FONT ID="LN">1514</FONT><A NAME="1514"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator iterator = map.values().iterator();<br><FONT ID="LN">1515</FONT><A NAME="1515"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (iterator.hasNext()) {<br><FONT ID="LN">1516</FONT><A NAME="1516"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">1517</FONT><A NAME="1517"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/util/zip/ZipFile.java.htm">ZipFile</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> zipFile = (<A HREF="../../../../../java/util/zip/ZipFile.java.htm">ZipFile</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>)iterator.next();<br><FONT ID="LN">1518</FONT><A NAME="1518"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaModelManager.ZIP_ACCESS_VERBOSE) {<br><FONT ID="LN">1519</FONT><A NAME="1519"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<FONT ID="StringLiteral">"("</FONT> + currentThread + <FONT ID="StringLiteral">") [JavaModelManager.flushZipFiles()] Closing ZipFile on "</FONT> +zipFile.getName()); <FONT ID="SingleLineComment">//$NON-NLS-1$//$NON-NLS-2$<br><FONT ID="LN">1520</FONT><A NAME="1520"></A></FONT>                }<br><FONT ID="LN">1521</FONT><A NAME="1521"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zipFile.close();<br><FONT ID="LN">1522</FONT><A NAME="1522"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (IOException e) {<br><FONT ID="LN">1523</FONT><A NAME="1523"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// problem occured closing zip file: cannot do much more<br><FONT ID="LN">1524</FONT><A NAME="1524"></A></FONT>            }<br><FONT ID="LN">1525</FONT><A NAME="1525"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1526</FONT><A NAME="1526"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1527</FONT><A NAME="1527"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1528</FONT><A NAME="1528"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Boolean">boolean</FONT> batchContainerInitializations() {<br><FONT ID="LN">1529</FONT><A NAME="1529"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.batchContainerInitializations) {<br><FONT ID="LN">1530</FONT><A NAME="1530"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.batchContainerInitializations = <FONT ID="False">false</FONT>;<br><FONT ID="LN">1531</FONT><A NAME="1531"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;<br><FONT ID="LN">1532</FONT><A NAME="1532"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1533</FONT><A NAME="1533"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">1534</FONT><A NAME="1534"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1535</FONT><A NAME="1535"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1536</FONT><A NAME="1536"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IClasspathContainer getClasspathContainer(<FONT ID="Final">final</FONT> IPath containerPath, <FONT ID="Final">final</FONT> IJavaProject project) <FONT ID="Throws">throws</FONT> JavaModelException {<br><FONT ID="LN">1537</FONT><A NAME="1537"></A><br><FONT ID="LN">1538</FONT><A NAME="1538"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer container = containerGet(project, containerPath);<br><FONT ID="LN">1539</FONT><A NAME="1539"></A><br><FONT ID="LN">1540</FONT><A NAME="1540"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1541</FONT><A NAME="1541"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (batchContainerInitializations()) {<br><FONT ID="LN">1542</FONT><A NAME="1542"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// avoid deep recursion while initializaing container on workspace restart<br><FONT ID="LN">1543</FONT><A NAME="1543"></A></FONT>                <FONT ID="SingleLineComment">// (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=60437)<br><FONT ID="LN">1544</FONT><A NAME="1544"></A></FONT>                container = initializeAllContainers(project, containerPath);<br><FONT ID="LN">1545</FONT><A NAME="1545"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">1546</FONT><A NAME="1546"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container = initializeContainer(project, containerPath);<br><FONT ID="LN">1547</FONT><A NAME="1547"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1548</FONT><A NAME="1548"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1549</FONT><A NAME="1549"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> container;           <br><FONT ID="LN">1550</FONT><A NAME="1550"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1551</FONT><A NAME="1551"></A><br><FONT ID="LN">1552</FONT><A NAME="1552"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/DeltaProcessor.java.htm">DeltaProcessor</A> getDeltaProcessor() {<br><FONT ID="LN">1553</FONT><A NAME="1553"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.deltaState.getDeltaProcessor();<br><FONT ID="LN">1554</FONT><A NAME="1554"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1555</FONT><A NAME="1555"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1556</FONT><A NAME="1556"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/** <br><FONT ID="LN">1557</FONT><A NAME="1557"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the set of elements which are out of synch with their buffers.<br><FONT ID="LN">1558</FONT><A NAME="1558"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1559</FONT><A NAME="1559"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> getElementsOutOfSynchWithBuffers() {<br><FONT ID="LN">1560</FONT><A NAME="1560"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.elementsOutOfSynchWithBuffers;<br><FONT ID="LN">1561</FONT><A NAME="1561"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1562</FONT><A NAME="1562"></A><br><FONT ID="LN">1563</FONT><A NAME="1563"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/indexing/IndexManager.java.htm">IndexManager</A> getIndexManager() {<br><FONT ID="LN">1564</FONT><A NAME="1564"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.indexManager;<br><FONT ID="LN">1565</FONT><A NAME="1565"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1566</FONT><A NAME="1566"></A><br><FONT ID="LN">1567</FONT><A NAME="1567"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1568</FONT><A NAME="1568"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  Returns the info for the element.<br><FONT ID="LN">1569</FONT><A NAME="1569"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1570</FONT><A NAME="1570"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getInfo(IJavaElement element) {<br><FONT ID="LN">1571</FONT><A NAME="1571"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap tempCache = (HashMap)<FONT ID="This">this</FONT>.temporaryCache.get();<br><FONT ID="LN">1572</FONT><A NAME="1572"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (tempCache != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1573</FONT><A NAME="1573"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> result = tempCache.get(element);<br><FONT ID="LN">1574</FONT><A NAME="1574"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (result != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1575</FONT><A NAME="1575"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> result;<br><FONT ID="LN">1576</FONT><A NAME="1576"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1577</FONT><A NAME="1577"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1578</FONT><A NAME="1578"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.cache.getInfo(element);<br><FONT ID="LN">1579</FONT><A NAME="1579"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1580</FONT><A NAME="1580"></A><br><FONT ID="LN">1581</FONT><A NAME="1581"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1582</FONT><A NAME="1582"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Get workpsace eclipse preference for JavaCore plugin.<br><FONT ID="LN">1583</FONT><A NAME="1583"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1584</FONT><A NAME="1584"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A> getInstancePreferences() {<br><FONT ID="LN">1585</FONT><A NAME="1585"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> preferencesLookup[PREF_INSTANCE];<br><FONT ID="LN">1586</FONT><A NAME="1586"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1587</FONT><A NAME="1587"></A>&nbsp;<br><FONT ID="LN">1588</FONT><A NAME="1588"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// If modified, also modify the method getDefaultOptionsNoInitialization()<br><FONT ID="LN">1589</FONT><A NAME="1589"></A></FONT>    <FONT ID="Public">public</FONT> Hashtable getDefaultOptions(){<br><FONT ID="LN">1590</FONT><A NAME="1590"></A><br><FONT ID="LN">1591</FONT><A NAME="1591"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hashtable defaultOptions = <FONT ID="New">new</FONT> Hashtable(<FONT ID="IntegerLiteral">10</FONT>);<br><FONT ID="LN">1592</FONT><A NAME="1592"></A><br><FONT ID="LN">1593</FONT><A NAME="1593"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// see JavaCorePreferenceInitializer#initializeDefaultPluginPreferences() for changing default settings<br><FONT ID="LN">1594</FONT><A NAME="1594"></A></FONT>        <FONT ID="SingleLineComment">// If modified, also modify the method getDefaultOptionsNoInitialization()<br><FONT ID="LN">1595</FONT><A NAME="1595"></A></FONT>        <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A> defaultPreferences = getDefaultPreferences();<br><FONT ID="LN">1596</FONT><A NAME="1596"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1597</FONT><A NAME="1597"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// initialize preferences to their default<br><FONT ID="LN">1598</FONT><A NAME="1598"></A></FONT>        Iterator iterator = <FONT ID="This">this</FONT>.optionNames.iterator();<br><FONT ID="LN">1599</FONT><A NAME="1599"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (iterator.hasNext()) {<br><FONT ID="LN">1600</FONT><A NAME="1600"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> propertyName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) iterator.next();<br><FONT ID="LN">1601</FONT><A NAME="1601"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> value = defaultPreferences.get(propertyName, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">1602</FONT><A NAME="1602"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (value != <FONT ID="Null">null</FONT>) defaultOptions.put(propertyName, value);<br><FONT ID="LN">1603</FONT><A NAME="1603"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1604</FONT><A NAME="1604"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// get encoding through resource plugin<br><FONT ID="LN">1605</FONT><A NAME="1605"></A></FONT>        defaultOptions.put(JavaCore.CORE_ENCODING, JavaCore.getEncoding());<br><FONT ID="LN">1606</FONT><A NAME="1606"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// backward compatibility<br><FONT ID="LN">1607</FONT><A NAME="1607"></A></FONT>        addDeprecatedOptions(defaultOptions);<br><FONT ID="LN">1608</FONT><A NAME="1608"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1609</FONT><A NAME="1609"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> defaultOptions;<br><FONT ID="LN">1610</FONT><A NAME="1610"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1611</FONT><A NAME="1611"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1612</FONT><A NAME="1612"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1613</FONT><A NAME="1613"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Get default eclipse preference for JavaCore plugin.<br><FONT ID="LN">1614</FONT><A NAME="1614"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1615</FONT><A NAME="1615"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A> getDefaultPreferences() {<br><FONT ID="LN">1616</FONT><A NAME="1616"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> preferencesLookup[PREF_DEFAULT];<br><FONT ID="LN">1617</FONT><A NAME="1617"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1618</FONT><A NAME="1618"></A><br><FONT ID="LN">1619</FONT><A NAME="1619"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1620</FONT><A NAME="1620"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the handle to the active Java Model.<br><FONT ID="LN">1621</FONT><A NAME="1621"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1622</FONT><A NAME="1622"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModel.java.htm">JavaModel</A> getJavaModel() {<br><FONT ID="LN">1623</FONT><A NAME="1623"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.javaModel;<br><FONT ID="LN">1624</FONT><A NAME="1624"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1625</FONT><A NAME="1625"></A><br><FONT ID="LN">1626</FONT><A NAME="1626"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1627</FONT><A NAME="1627"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the singleton JavaModelManager<br><FONT ID="LN">1628</FONT><A NAME="1628"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1629</FONT><A NAME="1629"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Final">final</FONT> <FONT ID="Static">static</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelManager.java.htm">JavaModelManager</A> getJavaModelManager() {<br><FONT ID="LN">1630</FONT><A NAME="1630"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> MANAGER;<br><FONT ID="LN">1631</FONT><A NAME="1631"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1632</FONT><A NAME="1632"></A><br><FONT ID="LN">1633</FONT><A NAME="1633"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1634</FONT><A NAME="1634"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the last built state for the given project, or null if there is none.<br><FONT ID="LN">1635</FONT><A NAME="1635"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Deserializes the state if necessary.<br><FONT ID="LN">1636</FONT><A NAME="1636"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br><FONT ID="LN">1637</FONT><A NAME="1637"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* For use by image builder and evaluation support only<br><FONT ID="LN">1638</FONT><A NAME="1638"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1639</FONT><A NAME="1639"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getLastBuiltState(IProject project, IProgressMonitor monitor) {<br><FONT ID="LN">1640</FONT><A NAME="1640"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!JavaProject.hasJavaNature(project)) {<br><FONT ID="LN">1641</FONT><A NAME="1641"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaBuilder.DEBUG)<br><FONT ID="LN">1642</FONT><A NAME="1642"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(project + <FONT ID="StringLiteral">" is not a Java project"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1643</FONT><A NAME="1643"></A></FONT>            <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>; <FONT ID="SingleLineComment">// should never be requested on non-Java projects<br><FONT ID="LN">1644</FONT><A NAME="1644"></A></FONT>        }<br><FONT ID="LN">1645</FONT><A NAME="1645"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PerProjectInfo info = getPerProjectInfo(project, <FONT ID="True">true</FONT><FONT ID="MultiLineComment">/*create if missing*/</FONT>);<br><FONT ID="LN">1646</FONT><A NAME="1646"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!info.triedRead) {<br><FONT ID="LN">1647</FONT><A NAME="1647"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info.triedRead = <FONT ID="True">true</FONT>;<br><FONT ID="LN">1648</FONT><A NAME="1648"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">1649</FONT><A NAME="1649"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (monitor != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">1650</FONT><A NAME="1650"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;monitor.subTask(Messages.bind(Messages.build_readStateProgress, project.getName())); <br><FONT ID="LN">1651</FONT><A NAME="1651"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info.savedState = readState(project);<br><FONT ID="LN">1652</FONT><A NAME="1652"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (CoreException e) {<br><FONT ID="LN">1653</FONT><A NAME="1653"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br><FONT ID="LN">1654</FONT><A NAME="1654"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1655</FONT><A NAME="1655"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1656</FONT><A NAME="1656"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> info.savedState;<br><FONT ID="LN">1657</FONT><A NAME="1657"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1658</FONT><A NAME="1658"></A><br><FONT ID="LN">1659</FONT><A NAME="1659"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getOption(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> optionName) {<br><FONT ID="LN">1660</FONT><A NAME="1660"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1661</FONT><A NAME="1661"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaCore.CORE_ENCODING.equals(optionName)){<br><FONT ID="LN">1662</FONT><A NAME="1662"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> JavaCore.getEncoding();<br><FONT ID="LN">1663</FONT><A NAME="1663"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1664</FONT><A NAME="1664"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// backward compatibility<br><FONT ID="LN">1665</FONT><A NAME="1665"></A></FONT>        <FONT ID="If">if</FONT> (isDeprecatedOption(optionName)) {<br><FONT ID="LN">1666</FONT><A NAME="1666"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> JavaCore.ERROR;<br><FONT ID="LN">1667</FONT><A NAME="1667"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1668</FONT><A NAME="1668"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> propertyName = optionName;<br><FONT ID="LN">1669</FONT><A NAME="1669"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.optionNames.contains(propertyName)){<br><FONT ID="LN">1670</FONT><A NAME="1670"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/core/runtime/preferences/IPreferencesService.java.htm">IPreferencesService</A> service = Platform.getPreferencesService();<br><FONT ID="LN">1671</FONT><A NAME="1671"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> value =  service.get(optionName, <FONT ID="Null">null</FONT>, <FONT ID="This">this</FONT>.preferencesLookup);<br><FONT ID="LN">1672</FONT><A NAME="1672"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> value==<FONT ID="Null">null</FONT> ? <FONT ID="Null">null</FONT> : value.trim();<br><FONT ID="LN">1673</FONT><A NAME="1673"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1674</FONT><A NAME="1674"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1675</FONT><A NAME="1675"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1676</FONT><A NAME="1676"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1677</FONT><A NAME="1677"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> Hashtable getOptions() {<br><FONT ID="LN">1678</FONT><A NAME="1678"></A><br><FONT ID="LN">1679</FONT><A NAME="1679"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// return cached options if already computed<br><FONT ID="LN">1680</FONT><A NAME="1680"></A></FONT>        <FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.optionsCache != <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> <FONT ID="New">new</FONT> Hashtable(<FONT ID="This">this</FONT>.optionsCache);<br><FONT ID="LN">1681</FONT><A NAME="1681"></A><br><FONT ID="LN">1682</FONT><A NAME="1682"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!Platform.isRunning()) {<br><FONT ID="LN">1683</FONT><A NAME="1683"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.optionsCache = getDefaultOptionsNoInitialization();<br><FONT ID="LN">1684</FONT><A NAME="1684"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1685</FONT><A NAME="1685"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// init<br><FONT ID="LN">1686</FONT><A NAME="1686"></A></FONT>        Hashtable options = <FONT ID="New">new</FONT> Hashtable(<FONT ID="IntegerLiteral">10</FONT>);<br><FONT ID="LN">1687</FONT><A NAME="1687"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/core/runtime/preferences/IPreferencesService.java.htm">IPreferencesService</A> service = Platform.getPreferencesService();<br><FONT ID="LN">1688</FONT><A NAME="1688"></A><br><FONT ID="LN">1689</FONT><A NAME="1689"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// set options using preferences service lookup<br><FONT ID="LN">1690</FONT><A NAME="1690"></A></FONT>        Iterator iterator = optionNames.iterator();<br><FONT ID="LN">1691</FONT><A NAME="1691"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (iterator.hasNext()) {<br><FONT ID="LN">1692</FONT><A NAME="1692"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> propertyName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) iterator.next();<br><FONT ID="LN">1693</FONT><A NAME="1693"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> propertyValue = service.get(propertyName, <FONT ID="Null">null</FONT>, <FONT ID="This">this</FONT>.preferencesLookup);<br><FONT ID="LN">1694</FONT><A NAME="1694"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (propertyValue != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1695</FONT><A NAME="1695"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options.put(propertyName, propertyValue);<br><FONT ID="LN">1696</FONT><A NAME="1696"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1697</FONT><A NAME="1697"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1698</FONT><A NAME="1698"></A><br><FONT ID="LN">1699</FONT><A NAME="1699"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// get encoding through resource plugin<br><FONT ID="LN">1700</FONT><A NAME="1700"></A></FONT>        options.put(JavaCore.CORE_ENCODING, JavaCore.getEncoding()); <br><FONT ID="LN">1701</FONT><A NAME="1701"></A><br><FONT ID="LN">1702</FONT><A NAME="1702"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// backward compatibility<br><FONT ID="LN">1703</FONT><A NAME="1703"></A></FONT>        addDeprecatedOptions(options);<br><FONT ID="LN">1704</FONT><A NAME="1704"></A><br><FONT ID="LN">1705</FONT><A NAME="1705"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// store built map in cache<br><FONT ID="LN">1706</FONT><A NAME="1706"></A></FONT>        <FONT ID="This">this</FONT>.optionsCache = <FONT ID="New">new</FONT> Hashtable(options);<br><FONT ID="LN">1707</FONT><A NAME="1707"></A><br><FONT ID="LN">1708</FONT><A NAME="1708"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// return built map<br><FONT ID="LN">1709</FONT><A NAME="1709"></A></FONT>        <FONT ID="Return">return</FONT> options;<br><FONT ID="LN">1710</FONT><A NAME="1710"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1711</FONT><A NAME="1711"></A><br><FONT ID="LN">1712</FONT><A NAME="1712"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Do not modify without modifying getDefaultOptions()<br><FONT ID="LN">1713</FONT><A NAME="1713"></A></FONT>    <FONT ID="Private">private</FONT> Hashtable getDefaultOptionsNoInitialization() {<br><FONT ID="LN">1714</FONT><A NAME="1714"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map defaultOptionsMap = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/impl/CompilerOptions.java.htm">CompilerOptions</A>().getMap(); <FONT ID="SingleLineComment">// compiler defaults<br><FONT ID="LN">1715</FONT><A NAME="1715"></A></FONT>        <br><FONT ID="LN">1716</FONT><A NAME="1716"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Override some compiler defaults<br><FONT ID="LN">1717</FONT><A NAME="1717"></A></FONT>        defaultOptionsMap.put(JavaCore.COMPILER_LOCAL_VARIABLE_ATTR, JavaCore.GENERATE);<br><FONT ID="LN">1718</FONT><A NAME="1718"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.COMPILER_CODEGEN_UNUSED_LOCAL, JavaCore.PRESERVE);<br><FONT ID="LN">1719</FONT><A NAME="1719"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.COMPILER_TASK_TAGS, JavaCore.DEFAULT_TASK_TAGS);<br><FONT ID="LN">1720</FONT><A NAME="1720"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.COMPILER_TASK_PRIORITIES, JavaCore.DEFAULT_TASK_PRIORITIES);<br><FONT ID="LN">1721</FONT><A NAME="1721"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.COMPILER_TASK_CASE_SENSITIVE, JavaCore.ENABLED);<br><FONT ID="LN">1722</FONT><A NAME="1722"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.COMPILER_DOC_COMMENT_SUPPORT, JavaCore.ENABLED);<br><FONT ID="LN">1723</FONT><A NAME="1723"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.COMPILER_PB_FORBIDDEN_REFERENCE, JavaCore.ERROR);<br><FONT ID="LN">1724</FONT><A NAME="1724"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1725</FONT><A NAME="1725"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Builder settings<br><FONT ID="LN">1726</FONT><A NAME="1726"></A></FONT>        defaultOptionsMap.put(JavaCore.CORE_JAVA_BUILD_RESOURCE_COPY_FILTER, <FONT ID="StringLiteral">""</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1727</FONT><A NAME="1727"></A></FONT>        defaultOptionsMap.put(JavaCore.CORE_JAVA_BUILD_INVALID_CLASSPATH, JavaCore.ABORT); <br><FONT ID="LN">1728</FONT><A NAME="1728"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CORE_JAVA_BUILD_DUPLICATE_RESOURCE, JavaCore.WARNING); <br><FONT ID="LN">1729</FONT><A NAME="1729"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CORE_JAVA_BUILD_CLEAN_OUTPUT_FOLDER, JavaCore.CLEAN); <br><FONT ID="LN">1730</FONT><A NAME="1730"></A><br><FONT ID="LN">1731</FONT><A NAME="1731"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// JavaCore settings<br><FONT ID="LN">1732</FONT><A NAME="1732"></A></FONT>        defaultOptionsMap.put(JavaCore.CORE_JAVA_BUILD_ORDER, JavaCore.IGNORE); <br><FONT ID="LN">1733</FONT><A NAME="1733"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CORE_INCOMPLETE_CLASSPATH, JavaCore.ERROR); <br><FONT ID="LN">1734</FONT><A NAME="1734"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CORE_CIRCULAR_CLASSPATH, JavaCore.ERROR); <br><FONT ID="LN">1735</FONT><A NAME="1735"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CORE_INCOMPATIBLE_JDK_LEVEL, JavaCore.IGNORE); <br><FONT ID="LN">1736</FONT><A NAME="1736"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CORE_ENABLE_CLASSPATH_EXCLUSION_PATTERNS, JavaCore.ENABLED); <br><FONT ID="LN">1737</FONT><A NAME="1737"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CORE_ENABLE_CLASSPATH_MULTIPLE_OUTPUT_LOCATIONS, JavaCore.ENABLED); <br><FONT ID="LN">1738</FONT><A NAME="1738"></A><br><FONT ID="LN">1739</FONT><A NAME="1739"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Formatter settings<br><FONT ID="LN">1740</FONT><A NAME="1740"></A></FONT>        defaultOptionsMap.putAll(DefaultCodeFormatterConstants.getEclipseDefaultSettings());<br><FONT ID="LN">1741</FONT><A NAME="1741"></A><br><FONT ID="LN">1742</FONT><A NAME="1742"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// CodeAssist settings<br><FONT ID="LN">1743</FONT><A NAME="1743"></A></FONT>        defaultOptionsMap.put(JavaCore.CODEASSIST_VISIBILITY_CHECK, JavaCore.DISABLED);<br><FONT ID="LN">1744</FONT><A NAME="1744"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CODEASSIST_DEPRECATION_CHECK, JavaCore.DISABLED);<br><FONT ID="LN">1745</FONT><A NAME="1745"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CODEASSIST_IMPLICIT_QUALIFICATION, JavaCore.DISABLED);<br><FONT ID="LN">1746</FONT><A NAME="1746"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CODEASSIST_FIELD_PREFIXES, <FONT ID="StringLiteral">""</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1747</FONT><A NAME="1747"></A></FONT>        defaultOptionsMap.put(JavaCore.CODEASSIST_STATIC_FIELD_PREFIXES, <FONT ID="StringLiteral">""</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1748</FONT><A NAME="1748"></A></FONT>        defaultOptionsMap.put(JavaCore.CODEASSIST_LOCAL_PREFIXES, <FONT ID="StringLiteral">""</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1749</FONT><A NAME="1749"></A></FONT>        defaultOptionsMap.put(JavaCore.CODEASSIST_ARGUMENT_PREFIXES, <FONT ID="StringLiteral">""</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1750</FONT><A NAME="1750"></A></FONT>        defaultOptionsMap.put(JavaCore.CODEASSIST_FIELD_SUFFIXES, <FONT ID="StringLiteral">""</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1751</FONT><A NAME="1751"></A></FONT>        defaultOptionsMap.put(JavaCore.CODEASSIST_STATIC_FIELD_SUFFIXES, <FONT ID="StringLiteral">""</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1752</FONT><A NAME="1752"></A></FONT>        defaultOptionsMap.put(JavaCore.CODEASSIST_LOCAL_SUFFIXES, <FONT ID="StringLiteral">""</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1753</FONT><A NAME="1753"></A></FONT>        defaultOptionsMap.put(JavaCore.CODEASSIST_ARGUMENT_SUFFIXES, <FONT ID="StringLiteral">""</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1754</FONT><A NAME="1754"></A></FONT>        defaultOptionsMap.put(JavaCore.CODEASSIST_FORBIDDEN_REFERENCE_CHECK, JavaCore.ENABLED);<br><FONT ID="LN">1755</FONT><A NAME="1755"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CODEASSIST_DISCOURAGED_REFERENCE_CHECK, JavaCore.DISABLED);<br><FONT ID="LN">1756</FONT><A NAME="1756"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CODEASSIST_CAMEL_CASE_MATCH, JavaCore.ENABLED);<br><FONT ID="LN">1757</FONT><A NAME="1757"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultOptionsMap.put(JavaCore.CODEASSIST_SUGGEST_STATIC_IMPORTS, JavaCore.ENABLED);<br><FONT ID="LN">1758</FONT><A NAME="1758"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1759</FONT><A NAME="1759"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Time out for parameter names<br><FONT ID="LN">1760</FONT><A NAME="1760"></A></FONT>        defaultOptionsMap.put(JavaCore.TIMEOUT_FOR_PARAMETER_NAME_FROM_ATTACHED_JAVADOC, <FONT ID="StringLiteral">"50"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1761</FONT><A NAME="1761"></A></FONT>        <br><FONT ID="LN">1762</FONT><A NAME="1762"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="New">new</FONT> Hashtable(defaultOptionsMap);<br><FONT ID="LN">1763</FONT><A NAME="1763"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1764</FONT><A NAME="1764"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1765</FONT><A NAME="1765"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1766</FONT><A NAME="1766"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the per-project info for the given project. If specified, create the info if the info doesn't exist.<br><FONT ID="LN">1767</FONT><A NAME="1767"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1768</FONT><A NAME="1768"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> PerProjectInfo getPerProjectInfo(IProject project, <FONT ID="Boolean">boolean</FONT> create) {<br><FONT ID="LN">1769</FONT><A NAME="1769"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Synchronized">synchronized</FONT>(<FONT ID="This">this</FONT>.perProjectInfos) { <FONT ID="SingleLineComment">// use the perProjectInfo collection as its own lock<br><FONT ID="LN">1770</FONT><A NAME="1770"></A></FONT>            PerProjectInfo info= (PerProjectInfo) <FONT ID="This">this</FONT>.perProjectInfos.get(project);<br><FONT ID="LN">1771</FONT><A NAME="1771"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (info == <FONT ID="Null">null</FONT> &amp;&amp; create) {<br><FONT ID="LN">1772</FONT><A NAME="1772"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info= <FONT ID="New">new</FONT> PerProjectInfo(project);<br><FONT ID="LN">1773</FONT><A NAME="1773"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.perProjectInfos.put(project, info);<br><FONT ID="LN">1774</FONT><A NAME="1774"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1775</FONT><A NAME="1775"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> info;<br><FONT ID="LN">1776</FONT><A NAME="1776"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1777</FONT><A NAME="1777"></A>&nbsp;&nbsp;&nbsp;&nbsp;}   <br><FONT ID="LN">1778</FONT><A NAME="1778"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1779</FONT><A NAME="1779"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1780</FONT><A NAME="1780"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns  the per-project info for the given project.<br><FONT ID="LN">1781</FONT><A NAME="1781"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* If the info doesn't exist, check for the project existence and create the info.<br><FONT ID="LN">1782</FONT><A NAME="1782"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @throws JavaModelException if the project doesn't exist.<br><FONT ID="LN">1783</FONT><A NAME="1783"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1784</FONT><A NAME="1784"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> PerProjectInfo getPerProjectInfoCheckExistence(IProject project) <FONT ID="Throws">throws</FONT> JavaModelException {<br><FONT ID="LN">1785</FONT><A NAME="1785"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelManager.java.htm">JavaModelManager.PerProjectInfo</A> info = getPerProjectInfo(project, <FONT ID="False">false</FONT> <FONT ID="MultiLineComment">/* don't create info */</FONT>);<br><FONT ID="LN">1786</FONT><A NAME="1786"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (info == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1787</FONT><A NAME="1787"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!JavaProject.hasJavaNature(project)) {<br><FONT ID="LN">1788</FONT><A NAME="1788"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> ((<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A>)JavaCore.create(project)).newNotPresentException();<br><FONT ID="LN">1789</FONT><A NAME="1789"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1790</FONT><A NAME="1790"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info = getPerProjectInfo(project, <FONT ID="True">true</FONT> <FONT ID="MultiLineComment">/* create info */</FONT>);<br><FONT ID="LN">1791</FONT><A NAME="1791"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1792</FONT><A NAME="1792"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> info;<br><FONT ID="LN">1793</FONT><A NAME="1793"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1794</FONT><A NAME="1794"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1795</FONT><A NAME="1795"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1796</FONT><A NAME="1796"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the per-working copy info for the given working copy at the given path.<br><FONT ID="LN">1797</FONT><A NAME="1797"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* If it doesn't exist and if create, add a new per-working copy info with the given problem requestor.<br><FONT ID="LN">1798</FONT><A NAME="1798"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* If recordUsage, increment the per-working copy info's use count.<br><FONT ID="LN">1799</FONT><A NAME="1799"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns null if it doesn't exist and not create.<br><FONT ID="LN">1800</FONT><A NAME="1800"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1801</FONT><A NAME="1801"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> PerWorkingCopyInfo getPerWorkingCopyInfo(<A HREF="../../../../../org/eclipse/jdt/internal/core/CompilationUnit.java.htm">CompilationUnit</A> workingCopy,<FONT ID="Boolean">boolean</FONT> create, <FONT ID="Boolean">boolean</FONT> recordUsage, IProblemRequestor problemRequestor) {<br><FONT ID="LN">1802</FONT><A NAME="1802"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Synchronized">synchronized</FONT>(<FONT ID="This">this</FONT>.perWorkingCopyInfos) { <FONT ID="SingleLineComment">// use the perWorkingCopyInfo collection as its own lock<br><FONT ID="LN">1803</FONT><A NAME="1803"></A></FONT>            WorkingCopyOwner owner = workingCopy.owner;<br><FONT ID="LN">1804</FONT><A NAME="1804"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map workingCopyToInfos = (Map)<FONT ID="This">this</FONT>.perWorkingCopyInfos.get(owner);<br><FONT ID="LN">1805</FONT><A NAME="1805"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (workingCopyToInfos == <FONT ID="Null">null</FONT> &amp;&amp; create) {<br><FONT ID="LN">1806</FONT><A NAME="1806"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;workingCopyToInfos = <FONT ID="New">new</FONT> HashMap();<br><FONT ID="LN">1807</FONT><A NAME="1807"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.perWorkingCopyInfos.put(owner, workingCopyToInfos);<br><FONT ID="LN">1808</FONT><A NAME="1808"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1809</FONT><A NAME="1809"></A><br><FONT ID="LN">1810</FONT><A NAME="1810"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PerWorkingCopyInfo info = workingCopyToInfos == <FONT ID="Null">null</FONT> ? <FONT ID="Null">null</FONT> : (PerWorkingCopyInfo) workingCopyToInfos.get(workingCopy);<br><FONT ID="LN">1811</FONT><A NAME="1811"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (info == <FONT ID="Null">null</FONT> &amp;&amp; create) {<br><FONT ID="LN">1812</FONT><A NAME="1812"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info= <FONT ID="New">new</FONT> PerWorkingCopyInfo(workingCopy, problemRequestor);<br><FONT ID="LN">1813</FONT><A NAME="1813"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;workingCopyToInfos.put(workingCopy, info);<br><FONT ID="LN">1814</FONT><A NAME="1814"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1815</FONT><A NAME="1815"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (info != <FONT ID="Null">null</FONT> &amp;&amp; recordUsage) info.useCount++;<br><FONT ID="LN">1816</FONT><A NAME="1816"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> info;<br><FONT ID="LN">1817</FONT><A NAME="1817"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1818</FONT><A NAME="1818"></A>&nbsp;&nbsp;&nbsp;&nbsp;}   <br><FONT ID="LN">1819</FONT><A NAME="1819"></A><br><FONT ID="LN">1820</FONT><A NAME="1820"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1821</FONT><A NAME="1821"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns a persisted container from previous session if any. Note that it is not the original container from previous<br><FONT ID="LN">1822</FONT><A NAME="1822"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* session (i.e. it did not get serialized) but rather a summary of its entries recreated for CP initialization purpose.<br><FONT ID="LN">1823</FONT><A NAME="1823"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* As such it should not be stored into container caches.<br><FONT ID="LN">1824</FONT><A NAME="1824"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1825</FONT><A NAME="1825"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IClasspathContainer getPreviousSessionContainer(IPath containerPath, IJavaProject project) {<br><FONT ID="LN">1826</FONT><A NAME="1826"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map previousContainerValues = (Map)<FONT ID="This">this</FONT>.previousSessionContainers.get(project);<br><FONT ID="LN">1827</FONT><A NAME="1827"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (previousContainerValues != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">1828</FONT><A NAME="1828"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer previousContainer = (IClasspathContainer)previousContainerValues.get(containerPath);<br><FONT ID="LN">1829</FONT><A NAME="1829"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (previousContainer != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1830</FONT><A NAME="1830"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaModelManager.CP_RESOLVE_VERBOSE_ADVANCED)<br><FONT ID="LN">1831</FONT><A NAME="1831"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_reentering_project_container_access(containerPath, project, previousContainer);<br><FONT ID="LN">1832</FONT><A NAME="1832"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> previousContainer;<br><FONT ID="LN">1833</FONT><A NAME="1833"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1834</FONT><A NAME="1834"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1835</FONT><A NAME="1835"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>; <FONT ID="SingleLineComment">// break cycle if none found<br><FONT ID="LN">1836</FONT><A NAME="1836"></A></FONT>    }<br><FONT ID="LN">1837</FONT><A NAME="1837"></A><br><FONT ID="LN">1838</FONT><A NAME="1838"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_reentering_project_container_access(   IPath containerPath, IJavaProject project, IClasspathContainer previousContainer) {<br><FONT ID="LN">1839</FONT><A NAME="1839"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">1840</FONT><A NAME="1840"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"CPContainer INIT - reentering access to project container during its initialization, will see previous value\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ <br><FONT ID="LN">1841</FONT><A NAME="1841"></A></FONT>        buffer.append(<FONT ID="StringLiteral">" project: "</FONT> + project.getElementName() + <FONT ID="CharacerLiteral">'\n'</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1842</FONT><A NAME="1842"></A></FONT>        buffer.append(<FONT ID="StringLiteral">" container path: "</FONT> + containerPath + <FONT ID="CharacerLiteral">'\n'</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1843</FONT><A NAME="1843"></A></FONT>        buffer.append(<FONT ID="StringLiteral">" previous value: "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1844</FONT><A NAME="1844"></A></FONT>        buffer.append(previousContainer.getDescription());<br><FONT ID="LN">1845</FONT><A NAME="1845"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">" {\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1846</FONT><A NAME="1846"></A></FONT>        IClasspathEntry[] entries = previousContainer.getClasspathEntries();<br><FONT ID="LN">1847</FONT><A NAME="1847"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entries != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">1848</FONT><A NAME="1848"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; entries.length; j++){<br><FONT ID="LN">1849</FONT><A NAME="1849"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"         "</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1850</FONT><A NAME="1850"></A></FONT>                buffer.append(entries[j]); <br><FONT ID="LN">1851</FONT><A NAME="1851"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">'\n'</FONT>); <br><FONT ID="LN">1852</FONT><A NAME="1852"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1853</FONT><A NAME="1853"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1854</FONT><A NAME="1854"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"     }"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1855</FONT><A NAME="1855"></A></FONT>        Util.verbose(buffer.toString());<br><FONT ID="LN">1856</FONT><A NAME="1856"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/Exception.java.htm">Exception</A>  <A HREF= "/2619.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"&lt;Fake exception&gt;"</FONT>).printStackTrace(System.out); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1857</FONT><A NAME="1857"></A></FONT>    }<br><FONT ID="LN">1858</FONT><A NAME="1858"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1859</FONT><A NAME="1859"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1860</FONT><A NAME="1860"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns a persisted container from previous session if any<br><FONT ID="LN">1861</FONT><A NAME="1861"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1862</FONT><A NAME="1862"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IPath getPreviousSessionVariable(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> variableName) {<br><FONT ID="LN">1863</FONT><A NAME="1863"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath previousPath = (IPath)<FONT ID="This">this</FONT>.previousSessionVariables.get(variableName);<br><FONT ID="LN">1864</FONT><A NAME="1864"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (previousPath != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">1865</FONT><A NAME="1865"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE_ADVANCED)<br><FONT ID="LN">1866</FONT><A NAME="1866"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_reentering_variable_access(variableName, previousPath);<br><FONT ID="LN">1867</FONT><A NAME="1867"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> previousPath;<br><FONT ID="LN">1868</FONT><A NAME="1868"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1869</FONT><A NAME="1869"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>; <FONT ID="SingleLineComment">// break cycle<br><FONT ID="LN">1870</FONT><A NAME="1870"></A></FONT>    }<br><FONT ID="LN">1871</FONT><A NAME="1871"></A><br><FONT ID="LN">1872</FONT><A NAME="1872"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_reentering_variable_access(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> variableName, IPath previousPath) {<br><FONT ID="LN">1873</FONT><A NAME="1873"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">1874</FONT><A NAME="1874"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPVariable INIT - reentering access to variable during its initialization, will see previous value\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1875</FONT><A NAME="1875"></A></FONT>            <FONT ID="StringLiteral">"   variable: "</FONT>+ variableName + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1876</FONT><A NAME="1876"></A></FONT>            <FONT ID="StringLiteral">"   previous value: "</FONT> + previousPath); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1877</FONT><A NAME="1877"></A></FONT>        <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/Exception.java.htm">Exception</A>  <A HREF= "/2619.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"&lt;Fake exception&gt;"</FONT>).printStackTrace(System.out); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1878</FONT><A NAME="1878"></A></FONT>    }<br><FONT ID="LN">1879</FONT><A NAME="1879"></A><br><FONT ID="LN">1880</FONT><A NAME="1880"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1881</FONT><A NAME="1881"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the temporary cache for newly opened elements for the current thread.<br><FONT ID="LN">1882</FONT><A NAME="1882"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Creates it if not already created.<br><FONT ID="LN">1883</FONT><A NAME="1883"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1884</FONT><A NAME="1884"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> HashMap getTemporaryCache() {<br><FONT ID="LN">1885</FONT><A NAME="1885"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap result = (HashMap)<FONT ID="This">this</FONT>.temporaryCache.get();<br><FONT ID="LN">1886</FONT><A NAME="1886"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (result == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1887</FONT><A NAME="1887"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result = <FONT ID="New">new</FONT> HashMap();<br><FONT ID="LN">1888</FONT><A NAME="1888"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.temporaryCache.set(result);<br><FONT ID="LN">1889</FONT><A NAME="1889"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1890</FONT><A NAME="1890"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> result;<br><FONT ID="LN">1891</FONT><A NAME="1891"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1892</FONT><A NAME="1892"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1893</FONT><A NAME="1893"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../java/util/zip/ZipFile.java.htm">File</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getVariableAndContainersFile() {<br><FONT ID="LN">1894</FONT><A NAME="1894"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> JavaCore.getPlugin().getStateLocation().append(<FONT ID="StringLiteral">"variablesAndContainers.dat"</FONT>).toFile(); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1895</FONT><A NAME="1895"></A></FONT>    }<br><FONT ID="LN">1896</FONT><A NAME="1896"></A><br><FONT ID="LN">1897</FONT><A NAME="1897"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1898</FONT><A NAME="1898"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the name of the variables for which an CP variable initializer is registered through an extension point<br><FONT ID="LN">1899</FONT><A NAME="1899"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1900</FONT><A NAME="1900"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] getRegisteredVariableNames(){<br><FONT ID="LN">1901</FONT><A NAME="1901"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1902</FONT><A NAME="1902"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Plugin jdtCorePlugin = JavaCore.getPlugin();<br><FONT ID="LN">1903</FONT><A NAME="1903"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (jdtCorePlugin == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1904</FONT><A NAME="1904"></A><br><FONT ID="LN">1905</FONT><A NAME="1905"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ArrayList variableList = <FONT ID="New">new</FONT> ArrayList(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">1906</FONT><A NAME="1906"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IExtensionPoint extension = Platform.getExtensionRegistry().getExtensionPoint(JavaCore.PLUGIN_ID, JavaModelManager.CPVARIABLE_INITIALIZER_EXTPOINT_ID);<br><FONT ID="LN">1907</FONT><A NAME="1907"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (extension != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1908</FONT><A NAME="1908"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IExtension[] extensions =  extension.getExtensions();<br><FONT ID="LN">1909</FONT><A NAME="1909"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT>(<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; extensions.length; i++){<br><FONT ID="LN">1910</FONT><A NAME="1910"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IConfigurationElement [] configElements = extensions[i].getConfigurationElements();<br><FONT ID="LN">1911</FONT><A NAME="1911"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT>(<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; configElements.length; j++){<br><FONT ID="LN">1912</FONT><A NAME="1912"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> varAttribute = configElements[j].getAttribute(<FONT ID="StringLiteral">"variable"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1913</FONT><A NAME="1913"></A></FONT>                    <FONT ID="If">if</FONT> (varAttribute != <FONT ID="Null">null</FONT>) variableList.add(varAttribute);<br><FONT ID="LN">1914</FONT><A NAME="1914"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1915</FONT><A NAME="1915"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}   <br><FONT ID="LN">1916</FONT><A NAME="1916"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1917</FONT><A NAME="1917"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] variableNames = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[variableList.size()];<br><FONT ID="LN">1918</FONT><A NAME="1918"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variableList.toArray(variableNames);<br><FONT ID="LN">1919</FONT><A NAME="1919"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> variableNames;<br><FONT ID="LN">1920</FONT><A NAME="1920"></A>&nbsp;&nbsp;&nbsp;&nbsp;}   <br><FONT ID="LN">1921</FONT><A NAME="1921"></A><br><FONT ID="LN">1922</FONT><A NAME="1922"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1923</FONT><A NAME="1923"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the name of the container IDs for which an CP container initializer is registered through an extension point<br><FONT ID="LN">1924</FONT><A NAME="1924"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1925</FONT><A NAME="1925"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] getRegisteredContainerIDs(){<br><FONT ID="LN">1926</FONT><A NAME="1926"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1927</FONT><A NAME="1927"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Plugin jdtCorePlugin = JavaCore.getPlugin();<br><FONT ID="LN">1928</FONT><A NAME="1928"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (jdtCorePlugin == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1929</FONT><A NAME="1929"></A><br><FONT ID="LN">1930</FONT><A NAME="1930"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ArrayList containerIDList = <FONT ID="New">new</FONT> ArrayList(<FONT ID="IntegerLiteral">5</FONT>);<br><FONT ID="LN">1931</FONT><A NAME="1931"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IExtensionPoint extension = Platform.getExtensionRegistry().getExtensionPoint(JavaCore.PLUGIN_ID, JavaModelManager.CPCONTAINER_INITIALIZER_EXTPOINT_ID);<br><FONT ID="LN">1932</FONT><A NAME="1932"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (extension != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1933</FONT><A NAME="1933"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IExtension[] extensions =  extension.getExtensions();<br><FONT ID="LN">1934</FONT><A NAME="1934"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT>(<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; extensions.length; i++){<br><FONT ID="LN">1935</FONT><A NAME="1935"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IConfigurationElement [] configElements = extensions[i].getConfigurationElements();<br><FONT ID="LN">1936</FONT><A NAME="1936"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT>(<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; configElements.length; j++){<br><FONT ID="LN">1937</FONT><A NAME="1937"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> idAttribute = configElements[j].getAttribute(<FONT ID="StringLiteral">"id"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1938</FONT><A NAME="1938"></A></FONT>                    <FONT ID="If">if</FONT> (idAttribute != <FONT ID="Null">null</FONT>) containerIDList.add(idAttribute);<br><FONT ID="LN">1939</FONT><A NAME="1939"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1940</FONT><A NAME="1940"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}   <br><FONT ID="LN">1941</FONT><A NAME="1941"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1942</FONT><A NAME="1942"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] containerIDs = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[containerIDList.size()];<br><FONT ID="LN">1943</FONT><A NAME="1943"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerIDList.toArray(containerIDs);<br><FONT ID="LN">1944</FONT><A NAME="1944"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> containerIDs;<br><FONT ID="LN">1945</FONT><A NAME="1945"></A>&nbsp;&nbsp;&nbsp;&nbsp;}   <br><FONT ID="LN">1946</FONT><A NAME="1946"></A><br><FONT ID="LN">1947</FONT><A NAME="1947"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">1948</FONT><A NAME="1948"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the File to use for saving and restoring the last built state for the given project.<br><FONT ID="LN">1949</FONT><A NAME="1949"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1950</FONT><A NAME="1950"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../java/util/zip/ZipFile.java.htm">File</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getSerializationFile(IProject project) {<br><FONT ID="LN">1951</FONT><A NAME="1951"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!project.exists()) <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1952</FONT><A NAME="1952"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath workingLocation = project.getWorkingLocation(JavaCore.PLUGIN_ID);<br><FONT ID="LN">1953</FONT><A NAME="1953"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> workingLocation.append(<FONT ID="StringLiteral">"state.dat"</FONT>).toFile(); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">1954</FONT><A NAME="1954"></A></FONT>    }<br><FONT ID="LN">1955</FONT><A NAME="1955"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1956</FONT><A NAME="1956"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/UserLibraryManager.java.htm">UserLibraryManager</A> getUserLibraryManager() {<br><FONT ID="LN">1957</FONT><A NAME="1957"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelManager.java.htm">JavaModelManager</A> modelManager = getJavaModelManager();<br><FONT ID="LN">1958</FONT><A NAME="1958"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (modelManager.userLibraryManager == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1959</FONT><A NAME="1959"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/UserLibraryManager.java.htm">UserLibraryManager</A> libraryManager = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/UserLibraryManager.java.htm">UserLibraryManager</A>();<br><FONT ID="LN">1960</FONT><A NAME="1960"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Synchronized">synchronized</FONT>(modelManager) {<br><FONT ID="LN">1961</FONT><A NAME="1961"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (modelManager.userLibraryManager == <FONT ID="Null">null</FONT>) { <FONT ID="SingleLineComment">// ensure another library manager was not set while creating the instance above<br><FONT ID="LN">1962</FONT><A NAME="1962"></A></FONT>                    modelManager.userLibraryManager = libraryManager;<br><FONT ID="LN">1963</FONT><A NAME="1963"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelManager.getInstancePreferences().addPreferenceChangeListener(libraryManager);<br><FONT ID="LN">1964</FONT><A NAME="1964"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1965</FONT><A NAME="1965"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1966</FONT><A NAME="1966"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1967</FONT><A NAME="1967"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> modelManager.userLibraryManager;<br><FONT ID="LN">1968</FONT><A NAME="1968"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1969</FONT><A NAME="1969"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">1970</FONT><A NAME="1970"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">1971</FONT><A NAME="1971"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns all the working copies which have the given owner.<br><FONT ID="LN">1972</FONT><A NAME="1972"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Adds the working copies of the primary owner if specified.<br><FONT ID="LN">1973</FONT><A NAME="1973"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns null if it has none.<br><FONT ID="LN">1974</FONT><A NAME="1974"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">1975</FONT><A NAME="1975"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> ICompilationUnit[] getWorkingCopies(WorkingCopyOwner owner, <FONT ID="Boolean">boolean</FONT> addPrimary) {<br><FONT ID="LN">1976</FONT><A NAME="1976"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Synchronized">synchronized</FONT>(<FONT ID="This">this</FONT>.perWorkingCopyInfos) {<br><FONT ID="LN">1977</FONT><A NAME="1977"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ICompilationUnit[] primaryWCs = addPrimary &amp;&amp; owner != DefaultWorkingCopyOwner.PRIMARY <br><FONT ID="LN">1978</FONT><A NAME="1978"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? getWorkingCopies(DefaultWorkingCopyOwner.PRIMARY, <FONT ID="False">false</FONT>) <br><FONT ID="LN">1979</FONT><A NAME="1979"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <FONT ID="Null">null</FONT>;<br><FONT ID="LN">1980</FONT><A NAME="1980"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map workingCopyToInfos = (Map)<FONT ID="This">this</FONT>.perWorkingCopyInfos.get(owner);<br><FONT ID="LN">1981</FONT><A NAME="1981"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (workingCopyToInfos == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT> primaryWCs;<br><FONT ID="LN">1982</FONT><A NAME="1982"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> primaryLength = primaryWCs == <FONT ID="Null">null</FONT> ? <FONT ID="IntegerLiteral">0</FONT> : primaryWCs.length;<br><FONT ID="LN">1983</FONT><A NAME="1983"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> size = workingCopyToInfos.size(); <FONT ID="SingleLineComment">// note size is &gt; 0 otherwise pathToPerWorkingCopyInfos would be null<br><FONT ID="LN">1984</FONT><A NAME="1984"></A></FONT>            ICompilationUnit[] result = <FONT ID="New">new</FONT> ICompilationUnit[primaryLength + size];<br><FONT ID="LN">1985</FONT><A NAME="1985"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> index = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">1986</FONT><A NAME="1986"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (primaryWCs != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">1987</FONT><A NAME="1987"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; primaryLength; i++) {<br><FONT ID="LN">1988</FONT><A NAME="1988"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ICompilationUnit primaryWorkingCopy = primaryWCs[i];<br><FONT ID="LN">1989</FONT><A NAME="1989"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ICompilationUnit workingCopy = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/CompilationUnit.java.htm">CompilationUnit</A>((<A HREF="../../../../../org/eclipse/jdt/internal/core/PackageFragment.java.htm">PackageFragment</A>) primaryWorkingCopy.getParent(), primaryWorkingCopy.getElementName(), owner);<br><FONT ID="LN">1990</FONT><A NAME="1990"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!workingCopyToInfos.containsKey(workingCopy))<br><FONT ID="LN">1991</FONT><A NAME="1991"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[index++] = primaryWorkingCopy;<br><FONT ID="LN">1992</FONT><A NAME="1992"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1993</FONT><A NAME="1993"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (index != primaryLength)<br><FONT ID="LN">1994</FONT><A NAME="1994"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(result, <FONT ID="IntegerLiteral">0</FONT>, result = <FONT ID="New">new</FONT> ICompilationUnit[index+size], <FONT ID="IntegerLiteral">0</FONT>, index);<br><FONT ID="LN">1995</FONT><A NAME="1995"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">1996</FONT><A NAME="1996"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator iterator = workingCopyToInfos.values().iterator();<br><FONT ID="LN">1997</FONT><A NAME="1997"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT>(iterator.hasNext()) {<br><FONT ID="LN">1998</FONT><A NAME="1998"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[index++] = ((<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelManager.java.htm">JavaModelManager.PerWorkingCopyInfo</A>)iterator.next()).getWorkingCopy();<br><FONT ID="LN">1999</FONT><A NAME="1999"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2000</FONT><A NAME="2000"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> result;<br><FONT ID="LN">2001</FONT><A NAME="2001"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}       <br><FONT ID="LN">2002</FONT><A NAME="2002"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2003</FONT><A NAME="2003"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2004</FONT><A NAME="2004"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/JavaWorkspaceScope.java.htm">JavaWorkspaceScope</A> getWorkspaceScope() {<br><FONT ID="LN">2005</FONT><A NAME="2005"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.workspaceScope == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2006</FONT><A NAME="2006"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.workspaceScope = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/JavaWorkspaceScope.java.htm">JavaWorkspaceScope</A>();<br><FONT ID="LN">2007</FONT><A NAME="2007"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2008</FONT><A NAME="2008"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.workspaceScope;<br><FONT ID="LN">2009</FONT><A NAME="2009"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2010</FONT><A NAME="2010"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2011</FONT><A NAME="2011"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2012</FONT><A NAME="2012"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the open ZipFile at the given path. If the ZipFile<br><FONT ID="LN">2013</FONT><A NAME="2013"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* does not yet exist, it is created, opened, and added to the cache<br><FONT ID="LN">2014</FONT><A NAME="2014"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* of open ZipFiles. <br><FONT ID="LN">2015</FONT><A NAME="2015"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">2016</FONT><A NAME="2016"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* The path must be a file system path if representing an external <br><FONT ID="LN">2017</FONT><A NAME="2017"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* zip/jar, or it must be an absolute workspace relative path if <br><FONT ID="LN">2018</FONT><A NAME="2018"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* representing a zip/jar inside the workspace.<br><FONT ID="LN">2019</FONT><A NAME="2019"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br><FONT ID="LN">2020</FONT><A NAME="2020"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @exception CoreException If unable to create/open the ZipFile<br><FONT ID="LN">2021</FONT><A NAME="2021"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2022</FONT><A NAME="2022"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/util/zip/ZipFile.java.htm">ZipFile</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getZipFile(IPath path) <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">2023</FONT><A NAME="2023"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2024</FONT><A NAME="2024"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap map;<br><FONT ID="LN">2025</FONT><A NAME="2025"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/util/zip/ZipFile.java.htm">ZipFile</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> zipFile;<br><FONT ID="LN">2026</FONT><A NAME="2026"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> ((map = (HashMap)<FONT ID="This">this</FONT>.zipFiles.get()) != <FONT ID="Null">null</FONT> <br><FONT ID="LN">2027</FONT><A NAME="2027"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; (zipFile = (<A HREF="../../../../../java/util/zip/ZipFile.java.htm">ZipFile</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>)map.get(path)) != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2028</FONT><A NAME="2028"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2029</FONT><A NAME="2029"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> zipFile;<br><FONT ID="LN">2030</FONT><A NAME="2030"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2031</FONT><A NAME="2031"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/util/zip/ZipFile.java.htm">File</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> localFile = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2032</FONT><A NAME="2032"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IWorkspaceRoot root = ResourcesPlugin.getWorkspace().getRoot();<br><FONT ID="LN">2033</FONT><A NAME="2033"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IResource file = root.findMember(path);<br><FONT ID="LN">2034</FONT><A NAME="2034"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2035</FONT><A NAME="2035"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// internal resource<br><FONT ID="LN">2036</FONT><A NAME="2036"></A></FONT>            <A HREF="../../../../../java/net/URI.java.htm">URI</A>  <A HREF= "/1211.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> location;<br><FONT ID="LN">2037</FONT><A NAME="2037"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file.getType() != IResource.FILE || (location = file.getLocationURI()) == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2038</FONT><A NAME="2038"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> CoreException(<FONT ID="New">new</FONT> Status(IStatus.ERROR, JavaCore.PLUGIN_ID, -<FONT ID="IntegerLiteral">1</FONT>, Messages.bind(Messages.file_notFound, path.toString()), <FONT ID="Null">null</FONT>)); <br><FONT ID="LN">2039</FONT><A NAME="2039"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2040</FONT><A NAME="2040"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;localFile = Util.toLocalFile(location, <FONT ID="Null">null</FONT><FONT ID="MultiLineComment">/*no progress availaible*/</FONT>);<br><FONT ID="LN">2041</FONT><A NAME="2041"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (localFile == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">2042</FONT><A NAME="2042"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> CoreException(<FONT ID="New">new</FONT> Status(IStatus.ERROR, JavaCore.PLUGIN_ID, -<FONT ID="IntegerLiteral">1</FONT>, Messages.bind(Messages.file_notFound, path.toString()), <FONT ID="Null">null</FONT>)); <br><FONT ID="LN">2043</FONT><A NAME="2043"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">2044</FONT><A NAME="2044"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// external resource -&gt; it is ok to use toFile()<br><FONT ID="LN">2045</FONT><A NAME="2045"></A></FONT>            localFile= path.toFile();<br><FONT ID="LN">2046</FONT><A NAME="2046"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2047</FONT><A NAME="2047"></A><br><FONT ID="LN">2048</FONT><A NAME="2048"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2049</FONT><A NAME="2049"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (ZIP_ACCESS_VERBOSE) {<br><FONT ID="LN">2050</FONT><A NAME="2050"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<FONT ID="StringLiteral">"("</FONT> + Thread.currentThread() + <FONT ID="StringLiteral">") [JavaModelManager.getZipFile(IPath)] Creating ZipFile on "</FONT> + localFile ); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">2051</FONT><A NAME="2051"></A></FONT>            }<br><FONT ID="LN">2052</FONT><A NAME="2052"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zipFile = <FONT ID="New">new</FONT> <A HREF="../../../../../java/util/zip/ZipFile.java.htm">ZipFile</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(localFile);<br><FONT ID="LN">2053</FONT><A NAME="2053"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (map != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2054</FONT><A NAME="2054"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(path, zipFile);<br><FONT ID="LN">2055</FONT><A NAME="2055"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2056</FONT><A NAME="2056"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> zipFile;<br><FONT ID="LN">2057</FONT><A NAME="2057"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (IOException e) {<br><FONT ID="LN">2058</FONT><A NAME="2058"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> CoreException(<FONT ID="New">new</FONT> Status(IStatus.ERROR, JavaCore.PLUGIN_ID, -<FONT ID="IntegerLiteral">1</FONT>, Messages.status_IOException, e)); <br><FONT ID="LN">2059</FONT><A NAME="2059"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2060</FONT><A NAME="2060"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2061</FONT><A NAME="2061"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2062</FONT><A NAME="2062"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">2063</FONT><A NAME="2063"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns whether there is a temporary cache for the current thread.<br><FONT ID="LN">2064</FONT><A NAME="2064"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2065</FONT><A NAME="2065"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> hasTemporaryCache() {<br><FONT ID="LN">2066</FONT><A NAME="2066"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.temporaryCache.get() != <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2067</FONT><A NAME="2067"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2068</FONT><A NAME="2068"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2069</FONT><A NAME="2069"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">2070</FONT><A NAME="2070"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Initialize all container at the same time as the given container.<br><FONT ID="LN">2071</FONT><A NAME="2071"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Return the container for the given path and project.<br><FONT ID="LN">2072</FONT><A NAME="2072"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2073</FONT><A NAME="2073"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IClasspathContainer initializeAllContainers(IJavaProject javaProjectToInit, IPath containerToInit) <FONT ID="Throws">throws</FONT> JavaModelException {<br><FONT ID="LN">2074</FONT><A NAME="2074"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE_ADVANCED)<br><FONT ID="LN">2075</FONT><A NAME="2075"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_batching_containers_initialization(javaProjectToInit, containerToInit);<br><FONT ID="LN">2076</FONT><A NAME="2076"></A><br><FONT ID="LN">2077</FONT><A NAME="2077"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// collect all container paths<br><FONT ID="LN">2078</FONT><A NAME="2078"></A></FONT>        <FONT ID="Final">final</FONT> HashMap allContainerPaths = <FONT ID="New">new</FONT> HashMap();<br><FONT ID="LN">2079</FONT><A NAME="2079"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProject[] projects = ResourcesPlugin.getWorkspace().getRoot().getProjects();<br><FONT ID="LN">2080</FONT><A NAME="2080"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, length = projects.length; i &lt; length; i++) {<br><FONT ID="LN">2081</FONT><A NAME="2081"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProject project = projects[i];<br><FONT ID="LN">2082</FONT><A NAME="2082"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!JavaProject.hasJavaNature(project)) <FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">2083</FONT><A NAME="2083"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaProject javaProject = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A>(project, getJavaModel());<br><FONT ID="LN">2084</FONT><A NAME="2084"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> paths = (<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>) allContainerPaths.get(javaProject);<br><FONT ID="LN">2085</FONT><A NAME="2085"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] rawClasspath = javaProject.getRawClasspath();<br><FONT ID="LN">2086</FONT><A NAME="2086"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>, length2 = rawClasspath.length; j &lt; length2; j++) {<br><FONT ID="LN">2087</FONT><A NAME="2087"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry entry = rawClasspath[j];<br><FONT ID="LN">2088</FONT><A NAME="2088"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath path = entry.getPath();<br><FONT ID="LN">2089</FONT><A NAME="2089"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entry.getEntryKind() == IClasspathEntry.CPE_CONTAINER<br><FONT ID="LN">2090</FONT><A NAME="2090"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; containerGet(javaProject, path) == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2091</FONT><A NAME="2091"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (paths == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2092</FONT><A NAME="2092"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paths = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>();<br><FONT ID="LN">2093</FONT><A NAME="2093"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allContainerPaths.put(javaProject, paths);<br><FONT ID="LN">2094</FONT><A NAME="2094"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2095</FONT><A NAME="2095"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paths.add(path);<br><FONT ID="LN">2096</FONT><A NAME="2096"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// mark container as being initialized<br><FONT ID="LN">2097</FONT><A NAME="2097"></A></FONT>                    containerAddInitializationInProgress(javaProject, path);<br><FONT ID="LN">2098</FONT><A NAME="2098"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2099</FONT><A NAME="2099"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2100</FONT><A NAME="2100"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/* TODO (frederic) put back when JDT/UI dummy project will be thrown away...<br><FONT ID="LN">2101</FONT><A NAME="2101"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* See https://bugs.eclipse.org/bugs/show_bug.cgi?id=97524<br><FONT ID="LN">2102</FONT><A NAME="2102"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br><FONT ID="LN">2103</FONT><A NAME="2103"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (javaProject.equals(javaProjectToInit)) {<br><FONT ID="LN">2104</FONT><A NAME="2104"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (paths == null) {<br><FONT ID="LN">2105</FONT><A NAME="2105"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paths = new HashSet();<br><FONT ID="LN">2106</FONT><A NAME="2106"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allContainerPaths.put(javaProject, paths);<br><FONT ID="LN">2107</FONT><A NAME="2107"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2108</FONT><A NAME="2108"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paths.add(containerToInit);<br><FONT ID="LN">2109</FONT><A NAME="2109"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2110</FONT><A NAME="2110"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2111</FONT><A NAME="2111"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2112</FONT><A NAME="2112"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// TODO (frederic) remove following block when JDT/UI dummy project will be thrown away...<br><FONT ID="LN">2113</FONT><A NAME="2113"></A></FONT>        <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> containerPaths = (<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>) allContainerPaths.get(javaProjectToInit);<br><FONT ID="LN">2114</FONT><A NAME="2114"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (containerPaths == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2115</FONT><A NAME="2115"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerPaths = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>();<br><FONT ID="LN">2116</FONT><A NAME="2116"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allContainerPaths.put(javaProjectToInit, containerPaths);<br><FONT ID="LN">2117</FONT><A NAME="2117"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2118</FONT><A NAME="2118"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerPaths.add(containerToInit);<br><FONT ID="LN">2119</FONT><A NAME="2119"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// mark container as being initialized<br><FONT ID="LN">2120</FONT><A NAME="2120"></A></FONT>        containerAddInitializationInProgress(javaProjectToInit, containerToInit);<br><FONT ID="LN">2121</FONT><A NAME="2121"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// end block<br><FONT ID="LN">2122</FONT><A NAME="2122"></A></FONT>        <br><FONT ID="LN">2123</FONT><A NAME="2123"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// initialize all containers<br><FONT ID="LN">2124</FONT><A NAME="2124"></A></FONT>        <FONT ID="Boolean">boolean</FONT> ok = <FONT ID="False">false</FONT>;<br><FONT ID="LN">2125</FONT><A NAME="2125"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2126</FONT><A NAME="2126"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// if possible run inside an IWokspaceRunnable with AVOID_UPATE to avoid unwanted builds<br><FONT ID="LN">2127</FONT><A NAME="2127"></A></FONT>            <FONT ID="SingleLineComment">// (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=118507)<br><FONT ID="LN">2128</FONT><A NAME="2128"></A></FONT>            IWorkspaceRunnable runnable =               <br><FONT ID="LN">2129</FONT><A NAME="2129"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> IWorkspaceRunnable() {<br><FONT ID="LN">2130</FONT><A NAME="2130"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> run(IProgressMonitor monitor) <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">2131</FONT><A NAME="2131"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2132</FONT><A NAME="2132"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">Set</A> entrySet = allContainerPaths.entrySet();<br><FONT ID="LN">2133</FONT><A NAME="2133"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> length = entrySet.size();<br><FONT ID="LN">2134</FONT><A NAME="2134"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (monitor != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">2135</FONT><A NAME="2135"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;monitor.beginTask(<FONT ID="StringLiteral">""</FONT>, length); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2136</FONT><A NAME="2136"></A></FONT>                            Map.Entry[] entries = <FONT ID="New">new</FONT> Map.Entry[length]; <FONT ID="SingleLineComment">// clone as the following will have a side effect<br><FONT ID="LN">2137</FONT><A NAME="2137"></A></FONT>                            entrySet.toArray(entries);<br><FONT ID="LN">2138</FONT><A NAME="2138"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; length; i++) {<br><FONT ID="LN">2139</FONT><A NAME="2139"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = entries[i];<br><FONT ID="LN">2140</FONT><A NAME="2140"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaProject javaProject = (IJavaProject) entry.getKey();<br><FONT ID="LN">2141</FONT><A NAME="2141"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> pathSet = (<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>) entry.getValue();<br><FONT ID="LN">2142</FONT><A NAME="2142"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (pathSet == <FONT ID="Null">null</FONT>) <FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">2143</FONT><A NAME="2143"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> length2 = pathSet.size();<br><FONT ID="LN">2144</FONT><A NAME="2144"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath[] paths = <FONT ID="New">new</FONT> IPath[length2];<br><FONT ID="LN">2145</FONT><A NAME="2145"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pathSet.toArray(paths); <FONT ID="SingleLineComment">// clone as the following will have a side effect<br><FONT ID="LN">2146</FONT><A NAME="2146"></A></FONT>                                <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; length2; j++) {<br><FONT ID="LN">2147</FONT><A NAME="2147"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath path = paths[j];<br><FONT ID="LN">2148</FONT><A NAME="2148"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initializeContainer(javaProject, path);<br><FONT ID="LN">2149</FONT><A NAME="2149"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2150</FONT><A NAME="2150"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (monitor != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">2151</FONT><A NAME="2151"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;monitor.worked(<FONT ID="IntegerLiteral">1</FONT>);<br><FONT ID="LN">2152</FONT><A NAME="2152"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2153</FONT><A NAME="2153"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Finally">finally</FONT> {<br><FONT ID="LN">2154</FONT><A NAME="2154"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (monitor != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">2155</FONT><A NAME="2155"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;monitor.done();<br><FONT ID="LN">2156</FONT><A NAME="2156"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2157</FONT><A NAME="2157"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2158</FONT><A NAME="2158"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br><FONT ID="LN">2159</FONT><A NAME="2159"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProgressMonitor monitor = (IProgressMonitor) <FONT ID="This">this</FONT>.batchContainerInitializationsProgress.get();<br><FONT ID="LN">2160</FONT><A NAME="2160"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IWorkspace workspace = ResourcesPlugin.getWorkspace();<br><FONT ID="LN">2161</FONT><A NAME="2161"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (workspace.isTreeLocked())<br><FONT ID="LN">2162</FONT><A NAME="2162"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runnable.run(monitor);<br><FONT ID="LN">2163</FONT><A NAME="2163"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Else">else</FONT><br><FONT ID="LN">2164</FONT><A NAME="2164"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;workspace.run(<br><FONT ID="LN">2165</FONT><A NAME="2165"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runnable,<br><FONT ID="LN">2166</FONT><A NAME="2166"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Null">null</FONT><FONT ID="MultiLineComment">/*don't take any lock*/</FONT>,<br><FONT ID="LN">2167</FONT><A NAME="2167"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IWorkspace.AVOID_UPDATE,<br><FONT ID="LN">2168</FONT><A NAME="2168"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;monitor);<br><FONT ID="LN">2169</FONT><A NAME="2169"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ok = <FONT ID="True">true</FONT>;<br><FONT ID="LN">2170</FONT><A NAME="2170"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (CoreException e) {<br><FONT ID="LN">2171</FONT><A NAME="2171"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// ignore<br><FONT ID="LN">2172</FONT><A NAME="2172"></A></FONT>            Util.log(e, <FONT ID="StringLiteral">"Exception while initializing all containers"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2173</FONT><A NAME="2173"></A></FONT>        } <FONT ID="Finally">finally</FONT> {<br><FONT ID="LN">2174</FONT><A NAME="2174"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!ok) { <br><FONT ID="LN">2175</FONT><A NAME="2175"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// if we're being traversed by an exception, ensure that that containers are <br><FONT ID="LN">2176</FONT><A NAME="2176"></A></FONT>                <FONT ID="SingleLineComment">// no longer marked as initialization in progress<br><FONT ID="LN">2177</FONT><A NAME="2177"></A></FONT>                <FONT ID="SingleLineComment">// (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=66437)<br><FONT ID="LN">2178</FONT><A NAME="2178"></A></FONT>                <FONT ID="This">this</FONT>.containerInitializationInProgress.set(<FONT ID="Null">null</FONT>);<br><FONT ID="LN">2179</FONT><A NAME="2179"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2180</FONT><A NAME="2180"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2181</FONT><A NAME="2181"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2182</FONT><A NAME="2182"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> containerGet(javaProjectToInit, containerToInit);<br><FONT ID="LN">2183</FONT><A NAME="2183"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2184</FONT><A NAME="2184"></A><br><FONT ID="LN">2185</FONT><A NAME="2185"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_batching_containers_initialization(IJavaProject javaProjectToInit, IPath containerToInit) {<br><FONT ID="LN">2186</FONT><A NAME="2186"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">2187</FONT><A NAME="2187"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPContainer INIT - batching containers initialization\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2188</FONT><A NAME="2188"></A></FONT>            <FONT ID="StringLiteral">"   project to init: "</FONT> + javaProjectToInit.getElementName() + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2189</FONT><A NAME="2189"></A></FONT>            <FONT ID="StringLiteral">"   container path to init: "</FONT> + containerToInit); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2190</FONT><A NAME="2190"></A></FONT>    }<br><FONT ID="LN">2191</FONT><A NAME="2191"></A><br><FONT ID="LN">2192</FONT><A NAME="2192"></A>&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer initializeContainer(IJavaProject project, IPath containerPath) <FONT ID="Throws">throws</FONT> JavaModelException {<br><FONT ID="LN">2193</FONT><A NAME="2193"></A><br><FONT ID="LN">2194</FONT><A NAME="2194"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProgressMonitor monitor = (IProgressMonitor) <FONT ID="This">this</FONT>.batchContainerInitializationsProgress.get();<br><FONT ID="LN">2195</FONT><A NAME="2195"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (monitor != <FONT ID="Null">null</FONT> &amp;&amp; monitor.isCanceled())<br><FONT ID="LN">2196</FONT><A NAME="2196"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> OperationCanceledException();<br><FONT ID="LN">2197</FONT><A NAME="2197"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2198</FONT><A NAME="2198"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer container = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2199</FONT><A NAME="2199"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> ClasspathContainerInitializer initializer = JavaCore.getClasspathContainerInitializer(containerPath.segment(<FONT ID="IntegerLiteral">0</FONT>));<br><FONT ID="LN">2200</FONT><A NAME="2200"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (initializer != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">2201</FONT><A NAME="2201"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE)<br><FONT ID="LN">2202</FONT><A NAME="2202"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_triggering_container_initialization(project, containerPath, initializer);<br><FONT ID="LN">2203</FONT><A NAME="2203"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE_ADVANCED)<br><FONT ID="LN">2204</FONT><A NAME="2204"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_triggering_container_initialization_invocation_trace();<br><FONT ID="LN">2205</FONT><A NAME="2205"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PerformanceStats stats = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2206</FONT><A NAME="2206"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(JavaModelManager.PERF_CONTAINER_INITIALIZER) {<br><FONT ID="LN">2207</FONT><A NAME="2207"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stats = PerformanceStats.getStats(JavaModelManager.CONTAINER_INITIALIZER_PERF, <FONT ID="This">this</FONT>);<br><FONT ID="LN">2208</FONT><A NAME="2208"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stats.startRun(containerPath + <FONT ID="StringLiteral">" of "</FONT> + project.getPath()); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2209</FONT><A NAME="2209"></A></FONT>            }<br><FONT ID="LN">2210</FONT><A NAME="2210"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerPut(project, containerPath, CONTAINER_INITIALIZATION_IN_PROGRESS); <FONT ID="SingleLineComment">// avoid initialization cycles<br><FONT ID="LN">2211</FONT><A NAME="2211"></A></FONT>            <FONT ID="Boolean">boolean</FONT> ok = <FONT ID="False">false</FONT>;<br><FONT ID="LN">2212</FONT><A NAME="2212"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2213</FONT><A NAME="2213"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (monitor != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">2214</FONT><A NAME="2214"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;monitor.subTask(Messages.bind(Messages.javamodel_configuring, initializer.getDescription(containerPath, project)));<br><FONT ID="LN">2215</FONT><A NAME="2215"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2216</FONT><A NAME="2216"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// let OperationCanceledException go through<br><FONT ID="LN">2217</FONT><A NAME="2217"></A></FONT>                <FONT ID="SingleLineComment">// (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=59363)<br><FONT ID="LN">2218</FONT><A NAME="2218"></A></FONT>                initializer.initialize(containerPath, project);<br><FONT ID="LN">2219</FONT><A NAME="2219"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2220</FONT><A NAME="2220"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (monitor != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">2221</FONT><A NAME="2221"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;monitor.subTask(<FONT ID="StringLiteral">""</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2222</FONT><A NAME="2222"></A></FONT>                <br><FONT ID="LN">2223</FONT><A NAME="2223"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// retrieve value (if initialization was successful)<br><FONT ID="LN">2224</FONT><A NAME="2224"></A></FONT>                container = containerGet(project, containerPath);<br><FONT ID="LN">2225</FONT><A NAME="2225"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container == CONTAINER_INITIALIZATION_IN_PROGRESS) {<br><FONT ID="LN">2226</FONT><A NAME="2226"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// initializer failed to do its job: redirect to the failure container<br><FONT ID="LN">2227</FONT><A NAME="2227"></A></FONT>                    container = initializer.getFailureContainer(containerPath, project);<br><FONT ID="LN">2228</FONT><A NAME="2228"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2229</FONT><A NAME="2229"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE)<br><FONT ID="LN">2230</FONT><A NAME="2230"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_container_null_failure_container(project, containerPath, initializer);<br><FONT ID="LN">2231</FONT><A NAME="2231"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>; <FONT ID="SingleLineComment">// break cycle<br><FONT ID="LN">2232</FONT><A NAME="2232"></A></FONT>                    }<br><FONT ID="LN">2233</FONT><A NAME="2233"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE)<br><FONT ID="LN">2234</FONT><A NAME="2234"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_container_using_failure_container(project, containerPath, initializer);<br><FONT ID="LN">2235</FONT><A NAME="2235"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerPut(project, containerPath, container);<br><FONT ID="LN">2236</FONT><A NAME="2236"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2237</FONT><A NAME="2237"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ok = <FONT ID="True">true</FONT>;<br><FONT ID="LN">2238</FONT><A NAME="2238"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (CoreException e) {<br><FONT ID="LN">2239</FONT><A NAME="2239"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (e <FONT ID="InstanceOf">instanceof</FONT> JavaModelException) {<br><FONT ID="LN">2240</FONT><A NAME="2240"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> (JavaModelException) e;<br><FONT ID="LN">2241</FONT><A NAME="2241"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">2242</FONT><A NAME="2242"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> JavaModelException(e);<br><FONT ID="LN">2243</FONT><A NAME="2243"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2244</FONT><A NAME="2244"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../java/lang/RuntimeException.java.htm">RuntimeException</A>  <A HREF= "/1822.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e) {<br><FONT ID="LN">2245</FONT><A NAME="2245"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaModelManager.CP_RESOLVE_VERBOSE)<br><FONT ID="LN">2246</FONT><A NAME="2246"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br><FONT ID="LN">2247</FONT><A NAME="2247"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> e;<br><FONT ID="LN">2248</FONT><A NAME="2248"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../java/lang/Error.java.htm">Error</A>  <A HREF= "/2613.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e) {<br><FONT ID="LN">2249</FONT><A NAME="2249"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaModelManager.CP_RESOLVE_VERBOSE)<br><FONT ID="LN">2250</FONT><A NAME="2250"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br><FONT ID="LN">2251</FONT><A NAME="2251"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> e;<br><FONT ID="LN">2252</FONT><A NAME="2252"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Finally">finally</FONT> {<br><FONT ID="LN">2253</FONT><A NAME="2253"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>(JavaModelManager.PERF_CONTAINER_INITIALIZER) {<br><FONT ID="LN">2254</FONT><A NAME="2254"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stats.endRun();<br><FONT ID="LN">2255</FONT><A NAME="2255"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2256</FONT><A NAME="2256"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!ok) {<br><FONT ID="LN">2257</FONT><A NAME="2257"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// just remove initialization in progress and keep previous session container so as to avoid a full build<br><FONT ID="LN">2258</FONT><A NAME="2258"></A></FONT>                    <FONT ID="SingleLineComment">// see https://bugs.eclipse.org/bugs/show_bug.cgi?id=92588<br><FONT ID="LN">2259</FONT><A NAME="2259"></A></FONT>                    containerRemoveInitializationInProgress(project, containerPath); <br><FONT ID="LN">2260</FONT><A NAME="2260"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE) <br><FONT ID="LN">2261</FONT><A NAME="2261"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_container_initialization_failed(project, containerPath, container, initializer);<br><FONT ID="LN">2262</FONT><A NAME="2262"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2263</FONT><A NAME="2263"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2264</FONT><A NAME="2264"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE_ADVANCED)<br><FONT ID="LN">2265</FONT><A NAME="2265"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_container_value_after_initialization(project, containerPath, container);<br><FONT ID="LN">2266</FONT><A NAME="2266"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">2267</FONT><A NAME="2267"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// create a dummy initializer and get the default failure container<br><FONT ID="LN">2268</FONT><A NAME="2268"></A></FONT>            container = (<FONT ID="New">new</FONT> ClasspathContainerInitializer() {<br><FONT ID="LN">2269</FONT><A NAME="2269"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> initialize(IPath path, IJavaProject javaProject) <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">2270</FONT><A NAME="2270"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// not used<br><FONT ID="LN">2271</FONT><A NAME="2271"></A></FONT>                }<br><FONT ID="LN">2272</FONT><A NAME="2272"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}).getFailureContainer(containerPath, project);<br><FONT ID="LN">2273</FONT><A NAME="2273"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_RESOLVE_VERBOSE_ADVANCED)<br><FONT ID="LN">2274</FONT><A NAME="2274"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose_no_container_initializer_found(project, containerPath);<br><FONT ID="LN">2275</FONT><A NAME="2275"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2276</FONT><A NAME="2276"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> container;<br><FONT ID="LN">2277</FONT><A NAME="2277"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2278</FONT><A NAME="2278"></A><br><FONT ID="LN">2279</FONT><A NAME="2279"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_no_container_initializer_found(IJavaProject project, IPath containerPath) {<br><FONT ID="LN">2280</FONT><A NAME="2280"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">2281</FONT><A NAME="2281"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPContainer INIT - no initializer found\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2282</FONT><A NAME="2282"></A></FONT>            <FONT ID="StringLiteral">"   project: "</FONT> + project.getElementName() + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2283</FONT><A NAME="2283"></A></FONT>            <FONT ID="StringLiteral">"   container path: "</FONT> + containerPath); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2284</FONT><A NAME="2284"></A></FONT>    }<br><FONT ID="LN">2285</FONT><A NAME="2285"></A><br><FONT ID="LN">2286</FONT><A NAME="2286"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_container_value_after_initialization(IJavaProject project, IPath containerPath, IClasspathContainer container) {<br><FONT ID="LN">2287</FONT><A NAME="2287"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>();<br><FONT ID="LN">2288</FONT><A NAME="2288"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"CPContainer INIT - after resolution\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2289</FONT><A NAME="2289"></A></FONT>        buffer.append(<FONT ID="StringLiteral">" project: "</FONT> + project.getElementName() + <FONT ID="CharacerLiteral">'\n'</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2290</FONT><A NAME="2290"></A></FONT>        buffer.append(<FONT ID="StringLiteral">" container path: "</FONT> + containerPath + <FONT ID="CharacerLiteral">'\n'</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2291</FONT><A NAME="2291"></A></FONT>        <FONT ID="If">if</FONT> (container != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">2292</FONT><A NAME="2292"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">" container: "</FONT>+container.getDescription()+<FONT ID="StringLiteral">" {\n"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-2$//$NON-NLS-1$<br><FONT ID="LN">2293</FONT><A NAME="2293"></A></FONT>            IClasspathEntry[] entries = container.getClasspathEntries();<br><FONT ID="LN">2294</FONT><A NAME="2294"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entries != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">2295</FONT><A NAME="2295"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; entries.length; i++) {<br><FONT ID="LN">2296</FONT><A NAME="2296"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">"     "</FONT> + entries[i] + <FONT ID="CharacerLiteral">'\n'</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2297</FONT><A NAME="2297"></A></FONT>                }<br><FONT ID="LN">2298</FONT><A NAME="2298"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2299</FONT><A NAME="2299"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">" }"</FONT>);<FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2300</FONT><A NAME="2300"></A></FONT>        } <FONT ID="Else">else</FONT> {<br><FONT ID="LN">2301</FONT><A NAME="2301"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="StringLiteral">" container: {unbound}"</FONT>);<FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2302</FONT><A NAME="2302"></A></FONT>        }<br><FONT ID="LN">2303</FONT><A NAME="2303"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(buffer.toString());<br><FONT ID="LN">2304</FONT><A NAME="2304"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2305</FONT><A NAME="2305"></A><br><FONT ID="LN">2306</FONT><A NAME="2306"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_container_initialization_failed(IJavaProject project, IPath containerPath, IClasspathContainer container, ClasspathContainerInitializer initializer) {<br><FONT ID="LN">2307</FONT><A NAME="2307"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container == CONTAINER_INITIALIZATION_IN_PROGRESS) {<br><FONT ID="LN">2308</FONT><A NAME="2308"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">2309</FONT><A NAME="2309"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPContainer INIT - FAILED (initializer did not initialize container)\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2310</FONT><A NAME="2310"></A></FONT>                <FONT ID="StringLiteral">"   project: "</FONT> + project.getElementName() + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2311</FONT><A NAME="2311"></A></FONT>                <FONT ID="StringLiteral">"   container path: "</FONT> + containerPath + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2312</FONT><A NAME="2312"></A></FONT>                <FONT ID="StringLiteral">"   initializer: "</FONT> + initializer); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2313</FONT><A NAME="2313"></A></FONT>            <br><FONT ID="LN">2314</FONT><A NAME="2314"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">2315</FONT><A NAME="2315"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">2316</FONT><A NAME="2316"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPContainer INIT - FAILED (see exception above)\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2317</FONT><A NAME="2317"></A></FONT>                <FONT ID="StringLiteral">"   project: "</FONT> + project.getElementName() + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2318</FONT><A NAME="2318"></A></FONT>                <FONT ID="StringLiteral">"   container path: "</FONT> + containerPath + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2319</FONT><A NAME="2319"></A></FONT>                <FONT ID="StringLiteral">"   initializer: "</FONT> + initializer); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2320</FONT><A NAME="2320"></A></FONT>        }<br><FONT ID="LN">2321</FONT><A NAME="2321"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2322</FONT><A NAME="2322"></A><br><FONT ID="LN">2323</FONT><A NAME="2323"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_container_null_failure_container(IJavaProject project, IPath containerPath,  ClasspathContainerInitializer initializer) {<br><FONT ID="LN">2324</FONT><A NAME="2324"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">2325</FONT><A NAME="2325"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPContainer INIT - FAILED (and failure container is null)\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2326</FONT><A NAME="2326"></A></FONT>            <FONT ID="StringLiteral">"   project: "</FONT> + project.getElementName() + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2327</FONT><A NAME="2327"></A></FONT>            <FONT ID="StringLiteral">"   container path: "</FONT> + containerPath + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2328</FONT><A NAME="2328"></A></FONT>            <FONT ID="StringLiteral">"   initializer: "</FONT> + initializer); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2329</FONT><A NAME="2329"></A></FONT>    }<br><FONT ID="LN">2330</FONT><A NAME="2330"></A><br><FONT ID="LN">2331</FONT><A NAME="2331"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_container_using_failure_container(IJavaProject project, IPath containerPath,  ClasspathContainerInitializer initializer) {<br><FONT ID="LN">2332</FONT><A NAME="2332"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">2333</FONT><A NAME="2333"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPContainer INIT - FAILED (using failure container)\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2334</FONT><A NAME="2334"></A></FONT>            <FONT ID="StringLiteral">"   project: "</FONT> + project.getElementName() + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2335</FONT><A NAME="2335"></A></FONT>            <FONT ID="StringLiteral">"   container path: "</FONT> + containerPath + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2336</FONT><A NAME="2336"></A></FONT>            <FONT ID="StringLiteral">"   initializer: "</FONT> + initializer); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2337</FONT><A NAME="2337"></A></FONT>    }<br><FONT ID="LN">2338</FONT><A NAME="2338"></A><br><FONT ID="LN">2339</FONT><A NAME="2339"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_triggering_container_initialization(IJavaProject project, IPath containerPath,  ClasspathContainerInitializer initializer) {<br><FONT ID="LN">2340</FONT><A NAME="2340"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">2341</FONT><A NAME="2341"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPContainer INIT - triggering initialization\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2342</FONT><A NAME="2342"></A></FONT>            <FONT ID="StringLiteral">"   project: "</FONT> + project.getElementName() + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2343</FONT><A NAME="2343"></A></FONT>            <FONT ID="StringLiteral">"   container path: "</FONT> + containerPath + <FONT ID="CharacerLiteral">'\n'</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2344</FONT><A NAME="2344"></A></FONT>            <FONT ID="StringLiteral">"   initializer: "</FONT> + initializer); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2345</FONT><A NAME="2345"></A></FONT>    }<br><FONT ID="LN">2346</FONT><A NAME="2346"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2347</FONT><A NAME="2347"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> verbose_triggering_container_initialization_invocation_trace() {<br><FONT ID="LN">2348</FONT><A NAME="2348"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<br><FONT ID="LN">2349</FONT><A NAME="2349"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="StringLiteral">"CPContainer INIT - triggering initialization\n"</FONT> + <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2350</FONT><A NAME="2350"></A></FONT>            <FONT ID="StringLiteral">"   invocation trace:"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2351</FONT><A NAME="2351"></A></FONT>        <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/Exception.java.htm">Exception</A>  <A HREF= "/2619.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"&lt;Fake exception&gt;"</FONT>).printStackTrace(System.out); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2352</FONT><A NAME="2352"></A></FONT>    }<br><FONT ID="LN">2353</FONT><A NAME="2353"></A><br><FONT ID="LN">2354</FONT><A NAME="2354"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2355</FONT><A NAME="2355"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Initialize preferences lookups for JavaCore plugin.<br><FONT ID="LN">2356</FONT><A NAME="2356"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2357</FONT><A NAME="2357"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> initializePreferences() {<br><FONT ID="LN">2358</FONT><A NAME="2358"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2359</FONT><A NAME="2359"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Create lookups<br><FONT ID="LN">2360</FONT><A NAME="2360"></A></FONT>        preferencesLookup[PREF_INSTANCE] = ((<A HREF="../../../../../org/eclipse/core/runtime/preferences/IScopeContext.java.htm">IScopeContext</A>) <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/InstanceScope.java.htm">InstanceScope</A>()).getNode(JavaCore.PLUGIN_ID);<br><FONT ID="LN">2361</FONT><A NAME="2361"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;preferencesLookup[PREF_DEFAULT] = ((<A HREF="../../../../../org/eclipse/core/runtime/preferences/IScopeContext.java.htm">IScopeContext</A>) <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/DefaultScope.java.htm">DefaultScope</A>()).getNode(JavaCore.PLUGIN_ID);<br><FONT ID="LN">2362</FONT><A NAME="2362"></A><br><FONT ID="LN">2363</FONT><A NAME="2363"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Listen to instance preferences node removal from parent in order to refresh stored one<br><FONT ID="LN">2364</FONT><A NAME="2364"></A></FONT>        <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences.INodeChangeListener</A> listener = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences.INodeChangeListener</A>() {<br><FONT ID="LN">2365</FONT><A NAME="2365"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> added(<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences.NodeChangeEvent</A> event) {<br><FONT ID="LN">2366</FONT><A NAME="2366"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// do nothing<br><FONT ID="LN">2367</FONT><A NAME="2367"></A></FONT>            }<br><FONT ID="LN">2368</FONT><A NAME="2368"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> removed(<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences.NodeChangeEvent</A> event) {<br><FONT ID="LN">2369</FONT><A NAME="2369"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (event.getChild() == preferencesLookup[PREF_INSTANCE]) {<br><FONT ID="LN">2370</FONT><A NAME="2370"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;preferencesLookup[PREF_INSTANCE] = ((<A HREF="../../../../../org/eclipse/core/runtime/preferences/IScopeContext.java.htm">IScopeContext</A>) <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/InstanceScope.java.htm">InstanceScope</A>()).getNode(JavaCore.PLUGIN_ID);<br><FONT ID="LN">2371</FONT><A NAME="2371"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;preferencesLookup[PREF_INSTANCE].addPreferenceChangeListener(<FONT ID="New">new</FONT> EclipsePreferencesListener());<br><FONT ID="LN">2372</FONT><A NAME="2372"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2373</FONT><A NAME="2373"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2374</FONT><A NAME="2374"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br><FONT ID="LN">2375</FONT><A NAME="2375"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A>) preferencesLookup[PREF_INSTANCE].parent()).addNodeChangeListener(listener);<br><FONT ID="LN">2376</FONT><A NAME="2376"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;preferencesLookup[PREF_INSTANCE].addPreferenceChangeListener(<FONT ID="New">new</FONT> EclipsePreferencesListener());<br><FONT ID="LN">2377</FONT><A NAME="2377"></A><br><FONT ID="LN">2378</FONT><A NAME="2378"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Listen to default preferences node removal from parent in order to refresh stored one<br><FONT ID="LN">2379</FONT><A NAME="2379"></A></FONT>        listener = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences.INodeChangeListener</A>() {<br><FONT ID="LN">2380</FONT><A NAME="2380"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> added(<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences.NodeChangeEvent</A> event) {<br><FONT ID="LN">2381</FONT><A NAME="2381"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// do nothing<br><FONT ID="LN">2382</FONT><A NAME="2382"></A></FONT>            }<br><FONT ID="LN">2383</FONT><A NAME="2383"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> removed(<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences.NodeChangeEvent</A> event) {<br><FONT ID="LN">2384</FONT><A NAME="2384"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (event.getChild() == preferencesLookup[PREF_DEFAULT]) {<br><FONT ID="LN">2385</FONT><A NAME="2385"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;preferencesLookup[PREF_DEFAULT] = ((<A HREF="../../../../../org/eclipse/core/runtime/preferences/IScopeContext.java.htm">IScopeContext</A>) <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/DefaultScope.java.htm">DefaultScope</A>()).getNode(JavaCore.PLUGIN_ID);<br><FONT ID="LN">2386</FONT><A NAME="2386"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2387</FONT><A NAME="2387"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2388</FONT><A NAME="2388"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br><FONT ID="LN">2389</FONT><A NAME="2389"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A>) preferencesLookup[PREF_DEFAULT].parent()).addNodeChangeListener(listener);<br><FONT ID="LN">2390</FONT><A NAME="2390"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2391</FONT><A NAME="2391"></A><br><FONT ID="LN">2392</FONT><A NAME="2392"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Char">char</FONT>[] intern(<FONT ID="Char">char</FONT>[] array) {<br><FONT ID="LN">2393</FONT><A NAME="2393"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.charArraySymbols.add(array);<br><FONT ID="LN">2394</FONT><A NAME="2394"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2395</FONT><A NAME="2395"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2396</FONT><A NAME="2396"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> intern(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> s) {<br><FONT ID="LN">2397</FONT><A NAME="2397"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// make sure to copy the string (so that it doesn't hold on the underlying char[] that might be much bigger than necessary)<br><FONT ID="LN">2398</FONT><A NAME="2398"></A></FONT>        <FONT ID="Return">return</FONT> (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) <FONT ID="This">this</FONT>.stringSymbols.add(<FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(s));<br><FONT ID="LN">2399</FONT><A NAME="2399"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2400</FONT><A NAME="2400"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Note1: String#intern() cannot be used as on some VMs this prevents the string from being garbage collected<br><FONT ID="LN">2401</FONT><A NAME="2401"></A></FONT>        <FONT ID="SingleLineComment">// Note 2: Instead of using a WeakHashset, one could use a WeakHashMap with the following implementation<br><FONT ID="LN">2402</FONT><A NAME="2402"></A></FONT>        <FONT ID="SingleLineComment">//             This would costs more per entry (one Entry object and one WeakReference more))<br><FONT ID="LN">2403</FONT><A NAME="2403"></A></FONT>        <br><FONT ID="LN">2404</FONT><A NAME="2404"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">2405</FONT><A NAME="2405"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WeakReference reference = (WeakReference) this.symbols.get(s);<br><FONT ID="LN">2406</FONT><A NAME="2406"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String existing;<br><FONT ID="LN">2407</FONT><A NAME="2407"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (reference != null &amp;&amp; (existing = (String) reference.get()) != null)<br><FONT ID="LN">2408</FONT><A NAME="2408"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return existing;<br><FONT ID="LN">2409</FONT><A NAME="2409"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.symbols.put(s, new WeakReference(s));<br><FONT ID="LN">2410</FONT><A NAME="2410"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return s;<br><FONT ID="LN">2411</FONT><A NAME="2411"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT>  <br><FONT ID="LN">2412</FONT><A NAME="2412"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2413</FONT><A NAME="2413"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2414</FONT><A NAME="2414"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> getClasspathBeingResolved() {<br><FONT ID="LN">2415</FONT><A NAME="2415"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> result = (<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>) <FONT ID="This">this</FONT>.classpathsBeingResolved.get();<br><FONT ID="LN">2416</FONT><A NAME="2416"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (result == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2417</FONT><A NAME="2417"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>();<br><FONT ID="LN">2418</FONT><A NAME="2418"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.classpathsBeingResolved.set(result);<br><FONT ID="LN">2419</FONT><A NAME="2419"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2420</FONT><A NAME="2420"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> result;<br><FONT ID="LN">2421</FONT><A NAME="2421"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2422</FONT><A NAME="2422"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2423</FONT><A NAME="2423"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> isClasspathBeingResolved(IJavaProject project) {<br><FONT ID="LN">2424</FONT><A NAME="2424"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> getClasspathBeingResolved().contains(project);<br><FONT ID="LN">2425</FONT><A NAME="2425"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2426</FONT><A NAME="2426"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2427</FONT><A NAME="2427"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2428</FONT><A NAME="2428"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @deprecated<br><FONT ID="LN">2429</FONT><A NAME="2429"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2430</FONT><A NAME="2430"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> isDeprecatedOption(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> optionName) {<br><FONT ID="LN">2431</FONT><A NAME="2431"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> JavaCore.COMPILER_PB_INVALID_IMPORT.equals(optionName)<br><FONT ID="LN">2432</FONT><A NAME="2432"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| JavaCore.COMPILER_PB_UNREACHABLE_CODE.equals(optionName);<br><FONT ID="LN">2433</FONT><A NAME="2433"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2434</FONT><A NAME="2434"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2435</FONT><A NAME="2435"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setClasspathBeingResolved(IJavaProject project, <FONT ID="Boolean">boolean</FONT> classpathIsResolved) {<br><FONT ID="LN">2436</FONT><A NAME="2436"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (classpathIsResolved) {<br><FONT ID="LN">2437</FONT><A NAME="2437"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getClasspathBeingResolved().add(project);<br><FONT ID="LN">2438</FONT><A NAME="2438"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">2439</FONT><A NAME="2439"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getClasspathBeingResolved().remove(project);<br><FONT ID="LN">2440</FONT><A NAME="2440"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2441</FONT><A NAME="2441"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2442</FONT><A NAME="2442"></A><br><FONT ID="LN">2443</FONT><A NAME="2443"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> loadVariablesAndContainers() <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">2444</FONT><A NAME="2444"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// backward compatibility, consider persistent property <br><FONT ID="LN">2445</FONT><A NAME="2445"></A></FONT>        QualifiedName qName = <FONT ID="New">new</FONT> QualifiedName(JavaCore.PLUGIN_ID, <FONT ID="StringLiteral">"variables"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2446</FONT><A NAME="2446"></A></FONT>        <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> xmlString = ResourcesPlugin.getWorkspace().getRoot().getPersistentProperty(qName);<br><FONT ID="LN">2447</FONT><A NAME="2447"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2448</FONT><A NAME="2448"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2449</FONT><A NAME="2449"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (xmlString != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">2450</FONT><A NAME="2450"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringReader reader = <FONT ID="New">new</FONT> StringReader(xmlString);<br><FONT ID="LN">2451</FONT><A NAME="2451"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/w3c/dom/Element.java.htm">Element</A>  <A HREF= "/1776.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> cpElement;<br><FONT ID="LN">2452</FONT><A NAME="2452"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2453</FONT><A NAME="2453"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../javax/xml/parsers/DocumentBuilder.java.htm">DocumentBuilder</A>  <A HREF= "/1137.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> parser = DocumentBuilderFactory.newInstance().newDocumentBuilder();<br><FONT ID="LN">2454</FONT><A NAME="2454"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cpElement = parser.parse(<FONT ID="New">new</FONT> <A HREF="../../../../../org/xml/sax/InputSource.java.htm">InputSource</A>  <A HREF= "/1904.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(reader)).getDocumentElement();<br><FONT ID="LN">2455</FONT><A NAME="2455"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT>(<A HREF="../../../../../org/xml/sax/SAXException.java.htm">SAXException</A>  <A HREF= "/1825.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e) {<br><FONT ID="LN">2456</FONT><A NAME="2456"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">2457</FONT><A NAME="2457"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT>(<A HREF="../../../../../javax/xml/parsers/ParserConfigurationException.java.htm">ParserConfigurationException</A>  <A HREF= "/1448.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e){<br><FONT ID="LN">2458</FONT><A NAME="2458"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">2459</FONT><A NAME="2459"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Finally">finally</FONT> {<br><FONT ID="LN">2460</FONT><A NAME="2460"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reader.close();<br><FONT ID="LN">2461</FONT><A NAME="2461"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2462</FONT><A NAME="2462"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (cpElement == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">2463</FONT><A NAME="2463"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!cpElement.getNodeName().equalsIgnoreCase(<FONT ID="StringLiteral">"variables"</FONT>)) { <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2464</FONT><A NAME="2464"></A></FONT>                    <FONT ID="Return">return</FONT>;<br><FONT ID="LN">2465</FONT><A NAME="2465"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2466</FONT><A NAME="2466"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2467</FONT><A NAME="2467"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/w3c/dom/NodeList.java.htm">NodeList</A>  <A HREF= "/2720.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> list= cpElement.getChildNodes();<br><FONT ID="LN">2468</FONT><A NAME="2468"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> length= list.getLength();<br><FONT ID="LN">2469</FONT><A NAME="2469"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i= <FONT ID="IntegerLiteral">0</FONT>; i &lt; length; ++i) {<br><FONT ID="LN">2470</FONT><A NAME="2470"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/w3c/dom/Node.java.htm">Node</A>  <A HREF= "/514.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> node= list.item(i);<br><FONT ID="LN">2471</FONT><A NAME="2471"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Short">short</FONT> type= node.getNodeType();<br><FONT ID="LN">2472</FONT><A NAME="2472"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (type == Node.ELEMENT_NODE) {<br><FONT ID="LN">2473</FONT><A NAME="2473"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/w3c/dom/Element.java.htm">Element</A>  <A HREF= "/1776.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> element= (<A HREF="../../../../../org/w3c/dom/Element.java.htm">Element</A>  <A HREF= "/1776.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) node;<br><FONT ID="LN">2474</FONT><A NAME="2474"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (element.getNodeName().equalsIgnoreCase(<FONT ID="StringLiteral">"variable"</FONT>)) { <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2475</FONT><A NAME="2475"></A></FONT>                            variablePut( <br><FONT ID="LN">2476</FONT><A NAME="2476"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.getAttribute(<FONT ID="StringLiteral">"name"</FONT>), <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2477</FONT><A NAME="2477"></A></FONT>                                <FONT ID="New">new</FONT> Path(element.getAttribute(<FONT ID="StringLiteral">"path"</FONT>))); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2478</FONT><A NAME="2478"></A></FONT>                        }<br><FONT ID="LN">2479</FONT><A NAME="2479"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2480</FONT><A NAME="2480"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2481</FONT><A NAME="2481"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2482</FONT><A NAME="2482"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT>(IOException e){<br><FONT ID="LN">2483</FONT><A NAME="2483"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// problem loading xml file: nothing we can do<br><FONT ID="LN">2484</FONT><A NAME="2484"></A></FONT>        } <FONT ID="Finally">finally</FONT> {<br><FONT ID="LN">2485</FONT><A NAME="2485"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (xmlString != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">2486</FONT><A NAME="2486"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ResourcesPlugin.getWorkspace().getRoot().setPersistentProperty(qName, <FONT ID="Null">null</FONT>); <FONT ID="SingleLineComment">// flush old one<br><FONT ID="LN">2487</FONT><A NAME="2487"></A></FONT>            }<br><FONT ID="LN">2488</FONT><A NAME="2488"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2489</FONT><A NAME="2489"></A><br><FONT ID="LN">2490</FONT><A NAME="2490"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// backward compatibility, load variables and containers from preferences into cache<br><FONT ID="LN">2491</FONT><A NAME="2491"></A></FONT>        loadVariablesAndContainers(getDefaultPreferences());<br><FONT ID="LN">2492</FONT><A NAME="2492"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loadVariablesAndContainers(getInstancePreferences());<br><FONT ID="LN">2493</FONT><A NAME="2493"></A><br><FONT ID="LN">2494</FONT><A NAME="2494"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// load variables and containers from saved file into cache<br><FONT ID="LN">2495</FONT><A NAME="2495"></A></FONT>        <A HREF="../../../../../java/util/zip/ZipFile.java.htm">File</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> file = getVariableAndContainersFile();<br><FONT ID="LN">2496</FONT><A NAME="2496"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DataInputStream in = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2497</FONT><A NAME="2497"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2498</FONT><A NAME="2498"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in = <FONT ID="New">new</FONT> DataInputStream(<FONT ID="New">new</FONT> BufferedInputStream(<FONT ID="New">new</FONT> FileInputStream(file)));<br><FONT ID="LN">2499</FONT><A NAME="2499"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Switch">switch</FONT> (in.readInt()) {<br><FONT ID="LN">2500</FONT><A NAME="2500"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> <FONT ID="IntegerLiteral">2</FONT> :<br><FONT ID="LN">2501</FONT><A NAME="2501"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> VariablesAndContainersLoadHelper(in).load();<br><FONT ID="LN">2502</FONT><A NAME="2502"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">2503</FONT><A NAME="2503"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> <FONT ID="IntegerLiteral">1</FONT> : <FONT ID="SingleLineComment">// backward compatibility, load old format<br><FONT ID="LN">2504</FONT><A NAME="2504"></A></FONT>                    <FONT ID="SingleLineComment">// variables<br><FONT ID="LN">2505</FONT><A NAME="2505"></A></FONT>                    <FONT ID="Int">int</FONT> size = in.readInt();<br><FONT ID="LN">2506</FONT><A NAME="2506"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (size-- &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">2507</FONT><A NAME="2507"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> varName = in.readUTF();<br><FONT ID="LN">2508</FONT><A NAME="2508"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> pathString = in.readUTF();<br><FONT ID="LN">2509</FONT><A NAME="2509"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_ENTRY_IGNORE.equals(pathString))<br><FONT ID="LN">2510</FONT><A NAME="2510"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">2511</FONT><A NAME="2511"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath varPath = Path.fromPortableString(pathString);<br><FONT ID="LN">2512</FONT><A NAME="2512"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.variables.put(varName, varPath);<br><FONT ID="LN">2513</FONT><A NAME="2513"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.previousSessionVariables.put(varName, varPath);<br><FONT ID="LN">2514</FONT><A NAME="2514"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2515</FONT><A NAME="2515"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2516</FONT><A NAME="2516"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// containers<br><FONT ID="LN">2517</FONT><A NAME="2517"></A></FONT>                    IJavaModel model = getJavaModel();<br><FONT ID="LN">2518</FONT><A NAME="2518"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> projectSize = in.readInt();<br><FONT ID="LN">2519</FONT><A NAME="2519"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (projectSize-- &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">2520</FONT><A NAME="2520"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> projectName = in.readUTF();<br><FONT ID="LN">2521</FONT><A NAME="2521"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaProject project = model.getJavaProject(projectName);<br><FONT ID="LN">2522</FONT><A NAME="2522"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> containerSize = in.readInt();<br><FONT ID="LN">2523</FONT><A NAME="2523"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (containerSize-- &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">2524</FONT><A NAME="2524"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath containerPath = Path.fromPortableString(in.readUTF());<br><FONT ID="LN">2525</FONT><A NAME="2525"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> length = in.readInt();<br><FONT ID="LN">2526</FONT><A NAME="2526"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Byte">byte</FONT>[] containerString = <FONT ID="New">new</FONT> <FONT ID="Byte">byte</FONT>[length];<br><FONT ID="LN">2527</FONT><A NAME="2527"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in.readFully(containerString);<br><FONT ID="LN">2528</FONT><A NAME="2528"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recreatePersistedContainer(project, containerPath, <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(containerString), <FONT ID="True">true</FONT><FONT ID="MultiLineComment">/*add to container values*/</FONT>);<br><FONT ID="LN">2529</FONT><A NAME="2529"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2530</FONT><A NAME="2530"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2531</FONT><A NAME="2531"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">2532</FONT><A NAME="2532"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2533</FONT><A NAME="2533"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (IOException e) {<br><FONT ID="LN">2534</FONT><A NAME="2534"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file.exists())<br><FONT ID="LN">2535</FONT><A NAME="2535"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.log(e, <FONT ID="StringLiteral">"Unable to read variable and containers file"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2536</FONT><A NAME="2536"></A></FONT>        } <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../java/lang/RuntimeException.java.htm">RuntimeException</A>  <A HREF= "/1822.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e) {<br><FONT ID="LN">2537</FONT><A NAME="2537"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file.exists())<br><FONT ID="LN">2538</FONT><A NAME="2538"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.log(e, <FONT ID="StringLiteral">"Unable to read variable and containers file (file is corrupt)"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2539</FONT><A NAME="2539"></A></FONT>        } <FONT ID="Finally">finally</FONT> {<br><FONT ID="LN">2540</FONT><A NAME="2540"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (in != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2541</FONT><A NAME="2541"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2542</FONT><A NAME="2542"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in.close();<br><FONT ID="LN">2543</FONT><A NAME="2543"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (IOException e) {<br><FONT ID="LN">2544</FONT><A NAME="2544"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// nothing we can do: ignore<br><FONT ID="LN">2545</FONT><A NAME="2545"></A></FONT>                }<br><FONT ID="LN">2546</FONT><A NAME="2546"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2547</FONT><A NAME="2547"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2548</FONT><A NAME="2548"></A><br><FONT ID="LN">2549</FONT><A NAME="2549"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// override persisted values for variables which have a registered initializer<br><FONT ID="LN">2550</FONT><A NAME="2550"></A></FONT>        <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] registeredVariables = getRegisteredVariableNames();<br><FONT ID="LN">2551</FONT><A NAME="2551"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; registeredVariables.length; i++) {<br><FONT ID="LN">2552</FONT><A NAME="2552"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> varName = registeredVariables[i];<br><FONT ID="LN">2553</FONT><A NAME="2553"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.variables.put(varName, <FONT ID="Null">null</FONT>); <FONT ID="SingleLineComment">// reset variable, but leave its entry in the Map, so it will be part of variable names.<br><FONT ID="LN">2554</FONT><A NAME="2554"></A></FONT>        }<br><FONT ID="LN">2555</FONT><A NAME="2555"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// override persisted values for containers which have a registered initializer<br><FONT ID="LN">2556</FONT><A NAME="2556"></A></FONT>        containersReset(getRegisteredContainerIDs());<br><FONT ID="LN">2557</FONT><A NAME="2557"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2558</FONT><A NAME="2558"></A><br><FONT ID="LN">2559</FONT><A NAME="2559"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> loadVariablesAndContainers(<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A> preferences) {<br><FONT ID="LN">2560</FONT><A NAME="2560"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2561</FONT><A NAME="2561"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// only get variable from preferences not set to their default<br><FONT ID="LN">2562</FONT><A NAME="2562"></A></FONT>            <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] propertyNames = preferences.keys();<br><FONT ID="LN">2563</FONT><A NAME="2563"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> variablePrefixLength = CP_VARIABLE_PREFERENCES_PREFIX.length();<br><FONT ID="LN">2564</FONT><A NAME="2564"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; propertyNames.length; i++){<br><FONT ID="LN">2565</FONT><A NAME="2565"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> propertyName = propertyNames[i];<br><FONT ID="LN">2566</FONT><A NAME="2566"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (propertyName.startsWith(CP_VARIABLE_PREFERENCES_PREFIX)){<br><FONT ID="LN">2567</FONT><A NAME="2567"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> varName = propertyName.substring(variablePrefixLength);<br><FONT ID="LN">2568</FONT><A NAME="2568"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> propertyValue = preferences.get(propertyName, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">2569</FONT><A NAME="2569"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (propertyValue != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2570</FONT><A NAME="2570"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> pathString = propertyValue.trim();<br><FONT ID="LN">2571</FONT><A NAME="2571"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2572</FONT><A NAME="2572"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (CP_ENTRY_IGNORE.equals(pathString)) {<br><FONT ID="LN">2573</FONT><A NAME="2573"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// cleanup old preferences<br><FONT ID="LN">2574</FONT><A NAME="2574"></A></FONT>                            preferences.remove(propertyName); <br><FONT ID="LN">2575</FONT><A NAME="2575"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">2576</FONT><A NAME="2576"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2577</FONT><A NAME="2577"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2578</FONT><A NAME="2578"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// add variable to table<br><FONT ID="LN">2579</FONT><A NAME="2579"></A></FONT>                        IPath varPath = <FONT ID="New">new</FONT> Path(pathString);<br><FONT ID="LN">2580</FONT><A NAME="2580"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.variables.put(varName, varPath); <br><FONT ID="LN">2581</FONT><A NAME="2581"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.previousSessionVariables.put(varName, varPath);<br><FONT ID="LN">2582</FONT><A NAME="2582"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2583</FONT><A NAME="2583"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (propertyName.startsWith(CP_CONTAINER_PREFERENCES_PREFIX)){<br><FONT ID="LN">2584</FONT><A NAME="2584"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> propertyValue = preferences.get(propertyName, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">2585</FONT><A NAME="2585"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (propertyValue != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2586</FONT><A NAME="2586"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// cleanup old preferences<br><FONT ID="LN">2587</FONT><A NAME="2587"></A></FONT>                        preferences.remove(propertyName); <br><FONT ID="LN">2588</FONT><A NAME="2588"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2589</FONT><A NAME="2589"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// recreate container<br><FONT ID="LN">2590</FONT><A NAME="2590"></A></FONT>                        recreatePersistedContainer(propertyName, propertyValue, <FONT ID="True">true</FONT><FONT ID="MultiLineComment">/*add to container values*/</FONT>);<br><FONT ID="LN">2591</FONT><A NAME="2591"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2592</FONT><A NAME="2592"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2593</FONT><A NAME="2593"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2594</FONT><A NAME="2594"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../org/osgi/service/prefs/BackingStoreException.java.htm">BackingStoreException</A> e1) {<br><FONT ID="LN">2595</FONT><A NAME="2595"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// TODO (frederic) see if it's necessary to report this failure...<br><FONT ID="LN">2596</FONT><A NAME="2596"></A></FONT>        }<br><FONT ID="LN">2597</FONT><A NAME="2597"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2598</FONT><A NAME="2598"></A><br><FONT ID="LN">2599</FONT><A NAME="2599"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Class">class</FONT> PersistedClasspathContainer <FONT ID="Implements">implements</FONT><br><FONT ID="LN">2600</FONT><A NAME="2600"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer {<br><FONT ID="LN">2601</FONT><A NAME="2601"></A><br><FONT ID="LN">2602</FONT><A NAME="2602"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> IPath containerPath;<br><FONT ID="LN">2603</FONT><A NAME="2603"></A><br><FONT ID="LN">2604</FONT><A NAME="2604"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> IClasspathEntry[] entries;<br><FONT ID="LN">2605</FONT><A NAME="2605"></A><br><FONT ID="LN">2606</FONT><A NAME="2606"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> IJavaProject project;<br><FONT ID="LN">2607</FONT><A NAME="2607"></A><br><FONT ID="LN">2608</FONT><A NAME="2608"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PersistedClasspathContainer(IJavaProject project, IPath containerPath,<br><FONT ID="LN">2609</FONT><A NAME="2609"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] entries) {<br><FONT ID="LN">2610</FONT><A NAME="2610"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Super">super</FONT>();<br><FONT ID="LN">2611</FONT><A NAME="2611"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.containerPath = containerPath;<br><FONT ID="LN">2612</FONT><A NAME="2612"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.entries = entries;<br><FONT ID="LN">2613</FONT><A NAME="2613"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.project = project;<br><FONT ID="LN">2614</FONT><A NAME="2614"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2615</FONT><A NAME="2615"></A><br><FONT ID="LN">2616</FONT><A NAME="2616"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IClasspathEntry[] getClasspathEntries() {<br><FONT ID="LN">2617</FONT><A NAME="2617"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> entries;<br><FONT ID="LN">2618</FONT><A NAME="2618"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2619</FONT><A NAME="2619"></A><br><FONT ID="LN">2620</FONT><A NAME="2620"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getDescription() {<br><FONT ID="LN">2621</FONT><A NAME="2621"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Persisted container ["</FONT> + containerPath <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2622</FONT><A NAME="2622"></A></FONT>                    + <FONT ID="StringLiteral">" for project ["</FONT> + project.getElementName() <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2623</FONT><A NAME="2623"></A></FONT>                    + <FONT ID="StringLiteral">"]]"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$  <br><FONT ID="LN">2624</FONT><A NAME="2624"></A></FONT>        }<br><FONT ID="LN">2625</FONT><A NAME="2625"></A><br><FONT ID="LN">2626</FONT><A NAME="2626"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getKind() {<br><FONT ID="LN">2627</FONT><A NAME="2627"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">2628</FONT><A NAME="2628"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2629</FONT><A NAME="2629"></A><br><FONT ID="LN">2630</FONT><A NAME="2630"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IPath getPath() {<br><FONT ID="LN">2631</FONT><A NAME="2631"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> containerPath;<br><FONT ID="LN">2632</FONT><A NAME="2632"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2633</FONT><A NAME="2633"></A><br><FONT ID="LN">2634</FONT><A NAME="2634"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> toString() {<br><FONT ID="LN">2635</FONT><A NAME="2635"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> getDescription();<br><FONT ID="LN">2636</FONT><A NAME="2636"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2637</FONT><A NAME="2637"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2638</FONT><A NAME="2638"></A><br><FONT ID="LN">2639</FONT><A NAME="2639"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Class">class</FONT> VariablesAndContainersLoadHelper {<br><FONT ID="LN">2640</FONT><A NAME="2640"></A><br><FONT ID="LN">2641</FONT><A NAME="2641"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> ARRAY_INCREMENT = <FONT ID="IntegerLiteral">200</FONT>;<br><FONT ID="LN">2642</FONT><A NAME="2642"></A><br><FONT ID="LN">2643</FONT><A NAME="2643"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IClasspathEntry[] allClasspathEntries;<br><FONT ID="LN">2644</FONT><A NAME="2644"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> allClasspathEntryCount;<br><FONT ID="LN">2645</FONT><A NAME="2645"></A><br><FONT ID="LN">2646</FONT><A NAME="2646"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> Map allPaths; <FONT ID="SingleLineComment">// String -&gt; IPath<br><FONT ID="LN">2647</FONT><A NAME="2647"></A></FONT><br><FONT ID="LN">2648</FONT><A NAME="2648"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] allStrings;<br><FONT ID="LN">2649</FONT><A NAME="2649"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> allStringsCount;<br><FONT ID="LN">2650</FONT><A NAME="2650"></A><br><FONT ID="LN">2651</FONT><A NAME="2651"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> DataInputStream in;<br><FONT ID="LN">2652</FONT><A NAME="2652"></A><br><FONT ID="LN">2653</FONT><A NAME="2653"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VariablesAndContainersLoadHelper(DataInputStream in) {<br><FONT ID="LN">2654</FONT><A NAME="2654"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Super">super</FONT>();<br><FONT ID="LN">2655</FONT><A NAME="2655"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.allClasspathEntries = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2656</FONT><A NAME="2656"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.allClasspathEntryCount = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">2657</FONT><A NAME="2657"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.allPaths = <FONT ID="New">new</FONT> HashMap();<br><FONT ID="LN">2658</FONT><A NAME="2658"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.allStrings = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2659</FONT><A NAME="2659"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.allStringsCount = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">2660</FONT><A NAME="2660"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.in = in;<br><FONT ID="LN">2661</FONT><A NAME="2661"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2662</FONT><A NAME="2662"></A><br><FONT ID="LN">2663</FONT><A NAME="2663"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Void">void</FONT> load() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2664</FONT><A NAME="2664"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loadProjects(JavaModelManager.<FONT ID="This">this</FONT>.getJavaModel());<br><FONT ID="LN">2665</FONT><A NAME="2665"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loadVariables();<br><FONT ID="LN">2666</FONT><A NAME="2666"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2667</FONT><A NAME="2667"></A><br><FONT ID="LN">2668</FONT><A NAME="2668"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IAccessRule loadAccessRule() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2669</FONT><A NAME="2669"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> problemId = loadInt();<br><FONT ID="LN">2670</FONT><A NAME="2670"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath pattern = loadPath();<br><FONT ID="LN">2671</FONT><A NAME="2671"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/ClasspathAccessRule.java.htm">ClasspathAccessRule</A>(pattern.toString().toCharArray(), problemId);<br><FONT ID="LN">2672</FONT><A NAME="2672"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2673</FONT><A NAME="2673"></A><br><FONT ID="LN">2674</FONT><A NAME="2674"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IAccessRule[] loadAccessRules() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2675</FONT><A NAME="2675"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = loadInt();<br><FONT ID="LN">2676</FONT><A NAME="2676"></A><br><FONT ID="LN">2677</FONT><A NAME="2677"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (count == <FONT ID="IntegerLiteral">0</FONT>)<br><FONT ID="LN">2678</FONT><A NAME="2678"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> ClasspathEntry.NO_ACCESS_RULES;<br><FONT ID="LN">2679</FONT><A NAME="2679"></A><br><FONT ID="LN">2680</FONT><A NAME="2680"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IAccessRule[] rules = <FONT ID="New">new</FONT> IAccessRule[count];<br><FONT ID="LN">2681</FONT><A NAME="2681"></A><br><FONT ID="LN">2682</FONT><A NAME="2682"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i)<br><FONT ID="LN">2683</FONT><A NAME="2683"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rules[i] = loadAccessRule();<br><FONT ID="LN">2684</FONT><A NAME="2684"></A><br><FONT ID="LN">2685</FONT><A NAME="2685"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> rules;<br><FONT ID="LN">2686</FONT><A NAME="2686"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2687</FONT><A NAME="2687"></A><br><FONT ID="LN">2688</FONT><A NAME="2688"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IClasspathAttribute loadAttribute() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2689</FONT><A NAME="2689"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> name = loadString();<br><FONT ID="LN">2690</FONT><A NAME="2690"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> value = loadString();<br><FONT ID="LN">2691</FONT><A NAME="2691"></A><br><FONT ID="LN">2692</FONT><A NAME="2692"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/ClasspathAttribute.java.htm">ClasspathAttribute</A>(name, value);<br><FONT ID="LN">2693</FONT><A NAME="2693"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2694</FONT><A NAME="2694"></A><br><FONT ID="LN">2695</FONT><A NAME="2695"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IClasspathAttribute[] loadAttributes() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2696</FONT><A NAME="2696"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = loadInt();<br><FONT ID="LN">2697</FONT><A NAME="2697"></A><br><FONT ID="LN">2698</FONT><A NAME="2698"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (count == <FONT ID="IntegerLiteral">0</FONT>)<br><FONT ID="LN">2699</FONT><A NAME="2699"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> ClasspathEntry.NO_EXTRA_ATTRIBUTES;<br><FONT ID="LN">2700</FONT><A NAME="2700"></A><br><FONT ID="LN">2701</FONT><A NAME="2701"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathAttribute[] attributes = <FONT ID="New">new</FONT> IClasspathAttribute[count];<br><FONT ID="LN">2702</FONT><A NAME="2702"></A><br><FONT ID="LN">2703</FONT><A NAME="2703"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i)<br><FONT ID="LN">2704</FONT><A NAME="2704"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes[i] = loadAttribute();<br><FONT ID="LN">2705</FONT><A NAME="2705"></A><br><FONT ID="LN">2706</FONT><A NAME="2706"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> attributes;<br><FONT ID="LN">2707</FONT><A NAME="2707"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2708</FONT><A NAME="2708"></A><br><FONT ID="LN">2709</FONT><A NAME="2709"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> loadBoolean() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2710</FONT><A NAME="2710"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.in.readBoolean();<br><FONT ID="LN">2711</FONT><A NAME="2711"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2712</FONT><A NAME="2712"></A><br><FONT ID="LN">2713</FONT><A NAME="2713"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IClasspathEntry[] loadClasspathEntries() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2714</FONT><A NAME="2714"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = loadInt();<br><FONT ID="LN">2715</FONT><A NAME="2715"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] entries = <FONT ID="New">new</FONT> IClasspathEntry[count];<br><FONT ID="LN">2716</FONT><A NAME="2716"></A><br><FONT ID="LN">2717</FONT><A NAME="2717"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i)<br><FONT ID="LN">2718</FONT><A NAME="2718"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries[i] = loadClasspathEntry();<br><FONT ID="LN">2719</FONT><A NAME="2719"></A><br><FONT ID="LN">2720</FONT><A NAME="2720"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> entries;<br><FONT ID="LN">2721</FONT><A NAME="2721"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2722</FONT><A NAME="2722"></A><br><FONT ID="LN">2723</FONT><A NAME="2723"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IClasspathEntry loadClasspathEntry() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2724</FONT><A NAME="2724"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> id = loadInt();<br><FONT ID="LN">2725</FONT><A NAME="2725"></A><br><FONT ID="LN">2726</FONT><A NAME="2726"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (id &lt; <FONT ID="IntegerLiteral">0</FONT> || id &gt; <FONT ID="This">this</FONT>.allClasspathEntryCount)<br><FONT ID="LN">2727</FONT><A NAME="2727"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> IOException(<FONT ID="StringLiteral">"Unexpected classpathentry id"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2728</FONT><A NAME="2728"></A></FONT><br><FONT ID="LN">2729</FONT><A NAME="2729"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (id &lt; <FONT ID="This">this</FONT>.allClasspathEntryCount)<br><FONT ID="LN">2730</FONT><A NAME="2730"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.allClasspathEntries[id];<br><FONT ID="LN">2731</FONT><A NAME="2731"></A><br><FONT ID="LN">2732</FONT><A NAME="2732"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> contentKind = loadInt();<br><FONT ID="LN">2733</FONT><A NAME="2733"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> entryKind = loadInt();<br><FONT ID="LN">2734</FONT><A NAME="2734"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath path = loadPath();<br><FONT ID="LN">2735</FONT><A NAME="2735"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath[] inclusionPatterns = loadPaths();<br><FONT ID="LN">2736</FONT><A NAME="2736"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath[] exclusionPatterns = loadPaths();<br><FONT ID="LN">2737</FONT><A NAME="2737"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath sourceAttachmentPath = loadPath();<br><FONT ID="LN">2738</FONT><A NAME="2738"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath sourceAttachmentRootPath = loadPath();<br><FONT ID="LN">2739</FONT><A NAME="2739"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath specificOutputLocation = loadPath();<br><FONT ID="LN">2740</FONT><A NAME="2740"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> isExported = loadBoolean();<br><FONT ID="LN">2741</FONT><A NAME="2741"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IAccessRule[] accessRules = loadAccessRules();<br><FONT ID="LN">2742</FONT><A NAME="2742"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> combineAccessRules = loadBoolean();<br><FONT ID="LN">2743</FONT><A NAME="2743"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathAttribute[] extraAttributes = loadAttributes();<br><FONT ID="LN">2744</FONT><A NAME="2744"></A><br><FONT ID="LN">2745</FONT><A NAME="2745"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry entry = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/ClasspathEntry.java.htm">ClasspathEntry</A>(contentKind, entryKind,<br><FONT ID="LN">2746</FONT><A NAME="2746"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path, inclusionPatterns, exclusionPatterns,<br><FONT ID="LN">2747</FONT><A NAME="2747"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceAttachmentPath, sourceAttachmentRootPath,<br><FONT ID="LN">2748</FONT><A NAME="2748"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specificOutputLocation, isExported, accessRules,<br><FONT ID="LN">2749</FONT><A NAME="2749"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combineAccessRules, extraAttributes);<br><FONT ID="LN">2750</FONT><A NAME="2750"></A><br><FONT ID="LN">2751</FONT><A NAME="2751"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] array = <FONT ID="This">this</FONT>.allClasspathEntries;<br><FONT ID="LN">2752</FONT><A NAME="2752"></A><br><FONT ID="LN">2753</FONT><A NAME="2753"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (array == <FONT ID="Null">null</FONT> || id == array.length) {<br><FONT ID="LN">2754</FONT><A NAME="2754"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array = <FONT ID="New">new</FONT> IClasspathEntry[id + ARRAY_INCREMENT];<br><FONT ID="LN">2755</FONT><A NAME="2755"></A><br><FONT ID="LN">2756</FONT><A NAME="2756"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (id != <FONT ID="IntegerLiteral">0</FONT>)<br><FONT ID="LN">2757</FONT><A NAME="2757"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(<FONT ID="This">this</FONT>.allClasspathEntries, <FONT ID="IntegerLiteral">0</FONT>, array, <FONT ID="IntegerLiteral">0</FONT>, id);<br><FONT ID="LN">2758</FONT><A NAME="2758"></A><br><FONT ID="LN">2759</FONT><A NAME="2759"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.allClasspathEntries = array;<br><FONT ID="LN">2760</FONT><A NAME="2760"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2761</FONT><A NAME="2761"></A><br><FONT ID="LN">2762</FONT><A NAME="2762"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array[id] = entry;<br><FONT ID="LN">2763</FONT><A NAME="2763"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.allClasspathEntryCount = id + <FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">2764</FONT><A NAME="2764"></A><br><FONT ID="LN">2765</FONT><A NAME="2765"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> entry;<br><FONT ID="LN">2766</FONT><A NAME="2766"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2767</FONT><A NAME="2767"></A><br><FONT ID="LN">2768</FONT><A NAME="2768"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> loadContainers(IJavaProject project) <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2769</FONT><A NAME="2769"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> projectIsAccessible = project.getProject().isAccessible();<br><FONT ID="LN">2770</FONT><A NAME="2770"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = loadInt();<br><FONT ID="LN">2771</FONT><A NAME="2771"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i) {<br><FONT ID="LN">2772</FONT><A NAME="2772"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath path = loadPath();<br><FONT ID="LN">2773</FONT><A NAME="2773"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] entries = loadClasspathEntries();<br><FONT ID="LN">2774</FONT><A NAME="2774"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2775</FONT><A NAME="2775"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!projectIsAccessible) <br><FONT ID="LN">2776</FONT><A NAME="2776"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// avoid leaking deleted project's persisted container,<br><FONT ID="LN">2777</FONT><A NAME="2777"></A></FONT>                    <FONT ID="SingleLineComment">// but still read the container as it is is part of the file format<br><FONT ID="LN">2778</FONT><A NAME="2778"></A></FONT>                    <FONT ID="Continue">continue</FONT>; <br><FONT ID="LN">2779</FONT><A NAME="2779"></A><br><FONT ID="LN">2780</FONT><A NAME="2780"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer container = <FONT ID="New">new</FONT> PersistedClasspathContainer(project, path, entries);<br><FONT ID="LN">2781</FONT><A NAME="2781"></A><br><FONT ID="LN">2782</FONT><A NAME="2782"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaModelManager.<FONT ID="This">this</FONT>.containerPut(project, path, container);<br><FONT ID="LN">2783</FONT><A NAME="2783"></A><br><FONT ID="LN">2784</FONT><A NAME="2784"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map oldContainers = (Map) JavaModelManager.<FONT ID="This">this</FONT>.previousSessionContainers.get(project);<br><FONT ID="LN">2785</FONT><A NAME="2785"></A><br><FONT ID="LN">2786</FONT><A NAME="2786"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (oldContainers == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2787</FONT><A NAME="2787"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldContainers = <FONT ID="New">new</FONT> HashMap();<br><FONT ID="LN">2788</FONT><A NAME="2788"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaModelManager.<FONT ID="This">this</FONT>.previousSessionContainers.put(project, oldContainers);<br><FONT ID="LN">2789</FONT><A NAME="2789"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2790</FONT><A NAME="2790"></A><br><FONT ID="LN">2791</FONT><A NAME="2791"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldContainers.put(path, container);<br><FONT ID="LN">2792</FONT><A NAME="2792"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2793</FONT><A NAME="2793"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2794</FONT><A NAME="2794"></A><br><FONT ID="LN">2795</FONT><A NAME="2795"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> loadInt() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2796</FONT><A NAME="2796"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.in.readInt();<br><FONT ID="LN">2797</FONT><A NAME="2797"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2798</FONT><A NAME="2798"></A><br><FONT ID="LN">2799</FONT><A NAME="2799"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IPath loadPath() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2800</FONT><A NAME="2800"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (loadBoolean())<br><FONT ID="LN">2801</FONT><A NAME="2801"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2802</FONT><A NAME="2802"></A><br><FONT ID="LN">2803</FONT><A NAME="2803"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> portableString = loadString();<br><FONT ID="LN">2804</FONT><A NAME="2804"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath path = (IPath) <FONT ID="This">this</FONT>.allPaths.get(portableString);<br><FONT ID="LN">2805</FONT><A NAME="2805"></A><br><FONT ID="LN">2806</FONT><A NAME="2806"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (path == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2807</FONT><A NAME="2807"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path = Path.fromPortableString(portableString);<br><FONT ID="LN">2808</FONT><A NAME="2808"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.allPaths.put(portableString, path);<br><FONT ID="LN">2809</FONT><A NAME="2809"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2810</FONT><A NAME="2810"></A><br><FONT ID="LN">2811</FONT><A NAME="2811"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> path;<br><FONT ID="LN">2812</FONT><A NAME="2812"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2813</FONT><A NAME="2813"></A><br><FONT ID="LN">2814</FONT><A NAME="2814"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> IPath[] loadPaths() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2815</FONT><A NAME="2815"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = loadInt();<br><FONT ID="LN">2816</FONT><A NAME="2816"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath[] pathArray = <FONT ID="New">new</FONT> IPath[count];<br><FONT ID="LN">2817</FONT><A NAME="2817"></A><br><FONT ID="LN">2818</FONT><A NAME="2818"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i)<br><FONT ID="LN">2819</FONT><A NAME="2819"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pathArray[i] = loadPath();<br><FONT ID="LN">2820</FONT><A NAME="2820"></A><br><FONT ID="LN">2821</FONT><A NAME="2821"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> pathArray;<br><FONT ID="LN">2822</FONT><A NAME="2822"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2823</FONT><A NAME="2823"></A><br><FONT ID="LN">2824</FONT><A NAME="2824"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> loadProjects(IJavaModel model) <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2825</FONT><A NAME="2825"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = loadInt();<br><FONT ID="LN">2826</FONT><A NAME="2826"></A><br><FONT ID="LN">2827</FONT><A NAME="2827"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i) {<br><FONT ID="LN">2828</FONT><A NAME="2828"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> projectName = loadString();<br><FONT ID="LN">2829</FONT><A NAME="2829"></A><br><FONT ID="LN">2830</FONT><A NAME="2830"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loadContainers(model.getJavaProject(projectName));<br><FONT ID="LN">2831</FONT><A NAME="2831"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2832</FONT><A NAME="2832"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2833</FONT><A NAME="2833"></A><br><FONT ID="LN">2834</FONT><A NAME="2834"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> loadString() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2835</FONT><A NAME="2835"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> id = loadInt();<br><FONT ID="LN">2836</FONT><A NAME="2836"></A><br><FONT ID="LN">2837</FONT><A NAME="2837"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (id &lt; <FONT ID="IntegerLiteral">0</FONT> || id &gt; <FONT ID="This">this</FONT>.allStringsCount)<br><FONT ID="LN">2838</FONT><A NAME="2838"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> IOException(<FONT ID="StringLiteral">"Unexpected string id"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2839</FONT><A NAME="2839"></A></FONT><br><FONT ID="LN">2840</FONT><A NAME="2840"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (id &lt; <FONT ID="This">this</FONT>.allStringsCount)<br><FONT ID="LN">2841</FONT><A NAME="2841"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.allStrings[id];<br><FONT ID="LN">2842</FONT><A NAME="2842"></A><br><FONT ID="LN">2843</FONT><A NAME="2843"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> string = <FONT ID="This">this</FONT>.in.readUTF();<br><FONT ID="LN">2844</FONT><A NAME="2844"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] array = <FONT ID="This">this</FONT>.allStrings;<br><FONT ID="LN">2845</FONT><A NAME="2845"></A><br><FONT ID="LN">2846</FONT><A NAME="2846"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (array == <FONT ID="Null">null</FONT> || id == array.length) {<br><FONT ID="LN">2847</FONT><A NAME="2847"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[id + ARRAY_INCREMENT];<br><FONT ID="LN">2848</FONT><A NAME="2848"></A><br><FONT ID="LN">2849</FONT><A NAME="2849"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (id != <FONT ID="IntegerLiteral">0</FONT>)<br><FONT ID="LN">2850</FONT><A NAME="2850"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(<FONT ID="This">this</FONT>.allStrings, <FONT ID="IntegerLiteral">0</FONT>, array, <FONT ID="IntegerLiteral">0</FONT>, id);<br><FONT ID="LN">2851</FONT><A NAME="2851"></A><br><FONT ID="LN">2852</FONT><A NAME="2852"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.allStrings = array;<br><FONT ID="LN">2853</FONT><A NAME="2853"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2854</FONT><A NAME="2854"></A><br><FONT ID="LN">2855</FONT><A NAME="2855"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array[id] = string;<br><FONT ID="LN">2856</FONT><A NAME="2856"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.allStringsCount = id + <FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">2857</FONT><A NAME="2857"></A><br><FONT ID="LN">2858</FONT><A NAME="2858"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> string;<br><FONT ID="LN">2859</FONT><A NAME="2859"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2860</FONT><A NAME="2860"></A><br><FONT ID="LN">2861</FONT><A NAME="2861"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> loadVariables() <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">2862</FONT><A NAME="2862"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> size = loadInt();<br><FONT ID="LN">2863</FONT><A NAME="2863"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map loadedVars = <FONT ID="New">new</FONT> HashMap(size);<br><FONT ID="LN">2864</FONT><A NAME="2864"></A><br><FONT ID="LN">2865</FONT><A NAME="2865"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; size; ++i) {<br><FONT ID="LN">2866</FONT><A NAME="2866"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> varName = loadString();<br><FONT ID="LN">2867</FONT><A NAME="2867"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath varPath = loadPath();<br><FONT ID="LN">2868</FONT><A NAME="2868"></A><br><FONT ID="LN">2869</FONT><A NAME="2869"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (varPath != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">2870</FONT><A NAME="2870"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loadedVars.put(varName, varPath);<br><FONT ID="LN">2871</FONT><A NAME="2871"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2872</FONT><A NAME="2872"></A><br><FONT ID="LN">2873</FONT><A NAME="2873"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaModelManager.<FONT ID="This">this</FONT>.previousSessionVariables.putAll(loadedVars);<br><FONT ID="LN">2874</FONT><A NAME="2874"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaModelManager.<FONT ID="This">this</FONT>.variables.putAll(loadedVars);<br><FONT ID="LN">2875</FONT><A NAME="2875"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2876</FONT><A NAME="2876"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2877</FONT><A NAME="2877"></A><br><FONT ID="LN">2878</FONT><A NAME="2878"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2879</FONT><A NAME="2879"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  Returns the info for this element without<br><FONT ID="LN">2880</FONT><A NAME="2880"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  disturbing the cache ordering.<br><FONT ID="LN">2881</FONT><A NAME="2881"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2882</FONT><A NAME="2882"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> <FONT ID="Synchronized">synchronized</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> peekAtInfo(IJavaElement element) {<br><FONT ID="LN">2883</FONT><A NAME="2883"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap tempCache = (HashMap)<FONT ID="This">this</FONT>.temporaryCache.get();<br><FONT ID="LN">2884</FONT><A NAME="2884"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (tempCache != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2885</FONT><A NAME="2885"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> result = tempCache.get(element);<br><FONT ID="LN">2886</FONT><A NAME="2886"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (result != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">2887</FONT><A NAME="2887"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> result;<br><FONT ID="LN">2888</FONT><A NAME="2888"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2889</FONT><A NAME="2889"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2890</FONT><A NAME="2890"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.cache.peekAtInfo(element);<br><FONT ID="LN">2891</FONT><A NAME="2891"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2892</FONT><A NAME="2892"></A><br><FONT ID="LN">2893</FONT><A NAME="2893"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2894</FONT><A NAME="2894"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @see ISaveParticipant<br><FONT ID="LN">2895</FONT><A NAME="2895"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2896</FONT><A NAME="2896"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> prepareToSave(ISaveContext context) <FONT ID="MultiLineComment">/*throws CoreException*/</FONT> {<br><FONT ID="LN">2897</FONT><A NAME="2897"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// nothing to do<br><FONT ID="LN">2898</FONT><A NAME="2898"></A></FONT>    }<br><FONT ID="LN">2899</FONT><A NAME="2899"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">2900</FONT><A NAME="2900"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Puts the infos in the given map (keys are IJavaElements and values are JavaElementInfos)<br><FONT ID="LN">2901</FONT><A NAME="2901"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* in the Java model cache in an atomic way.<br><FONT ID="LN">2902</FONT><A NAME="2902"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* First checks that the info for the opened element (or one of its ancestors) has not been <br><FONT ID="LN">2903</FONT><A NAME="2903"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* added to the cache. If it is the case, another thread has opened the element (or one of<br><FONT ID="LN">2904</FONT><A NAME="2904"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* its ancestors). So returns without updating the cache.<br><FONT ID="LN">2905</FONT><A NAME="2905"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2906</FONT><A NAME="2906"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> putInfos(IJavaElement openedElement, Map newElements) {<br><FONT ID="LN">2907</FONT><A NAME="2907"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// remove children<br><FONT ID="LN">2908</FONT><A NAME="2908"></A></FONT>        <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> existingInfo = <FONT ID="This">this</FONT>.cache.peekAtInfo(openedElement);<br><FONT ID="LN">2909</FONT><A NAME="2909"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (openedElement <FONT ID="InstanceOf">instanceof</FONT> IParent &amp;&amp; existingInfo <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElementInfo.java.htm">JavaElementInfo</A>) {<br><FONT ID="LN">2910</FONT><A NAME="2910"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaElement[] children = ((<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElementInfo.java.htm">JavaElementInfo</A>)existingInfo).getChildren();<br><FONT ID="LN">2911</FONT><A NAME="2911"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, size = children.length; i &lt; size; ++i) {<br><FONT ID="LN">2912</FONT><A NAME="2912"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElement.java.htm">JavaElement</A> child = (<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElement.java.htm">JavaElement</A>) children[i];<br><FONT ID="LN">2913</FONT><A NAME="2913"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2914</FONT><A NAME="2914"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;child.close();<br><FONT ID="LN">2915</FONT><A NAME="2915"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (JavaModelException e) {<br><FONT ID="LN">2916</FONT><A NAME="2916"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// ignore<br><FONT ID="LN">2917</FONT><A NAME="2917"></A></FONT>                }<br><FONT ID="LN">2918</FONT><A NAME="2918"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2919</FONT><A NAME="2919"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2920</FONT><A NAME="2920"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2921</FONT><A NAME="2921"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Need to put any JarPackageFragmentRoot in first.<br><FONT ID="LN">2922</FONT><A NAME="2922"></A></FONT>        <FONT ID="SingleLineComment">// This is due to the way the LRU cache flushes entries.<br><FONT ID="LN">2923</FONT><A NAME="2923"></A></FONT>        <FONT ID="SingleLineComment">// When a JarPackageFragment is flused from the LRU cache, the entire<br><FONT ID="LN">2924</FONT><A NAME="2924"></A></FONT>        <FONT ID="SingleLineComment">// jar is flushed by removing the JarPackageFragmentRoot and all of its<br><FONT ID="LN">2925</FONT><A NAME="2925"></A></FONT>        <FONT ID="SingleLineComment">// children (see ElementCache.close()). If we flush the JarPackageFragment <br><FONT ID="LN">2926</FONT><A NAME="2926"></A></FONT>        <FONT ID="SingleLineComment">// when its JarPackageFragmentRoot is not in the cache and the root is about to be <br><FONT ID="LN">2927</FONT><A NAME="2927"></A></FONT>        <FONT ID="SingleLineComment">// added (during the 'while' loop), we will end up in an inconsist state. <br><FONT ID="LN">2928</FONT><A NAME="2928"></A></FONT>        <FONT ID="SingleLineComment">// Subsequent resolution against package in the jar would fail as a result.<br><FONT ID="LN">2929</FONT><A NAME="2929"></A></FONT>        <FONT ID="SingleLineComment">// https://bugs.eclipse.org/bugs/show_bug.cgi?id=102422<br><FONT ID="LN">2930</FONT><A NAME="2930"></A></FONT>        <FONT ID="SingleLineComment">// (theodora)<br><FONT ID="LN">2931</FONT><A NAME="2931"></A></FONT>        <FONT ID="For">for</FONT>(Iterator it = newElements.entrySet().iterator(); it.hasNext(); ) {<br><FONT ID="LN">2932</FONT><A NAME="2932"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry)it.next();<br><FONT ID="LN">2933</FONT><A NAME="2933"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaElement element = (IJavaElement)entry.getKey();<br><FONT ID="LN">2934</FONT><A NAME="2934"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT>( element <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JarPackageFragmentRoot.java.htm">JarPackageFragmentRoot</A> ){<br><FONT ID="LN">2935</FONT><A NAME="2935"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> info = entry.getValue();<br><FONT ID="LN">2936</FONT><A NAME="2936"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it.remove();<br><FONT ID="LN">2937</FONT><A NAME="2937"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.cache.putInfo(element, info);<br><FONT ID="LN">2938</FONT><A NAME="2938"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2939</FONT><A NAME="2939"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}   <br><FONT ID="LN">2940</FONT><A NAME="2940"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2941</FONT><A NAME="2941"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator iterator = newElements.entrySet().iterator();  <br><FONT ID="LN">2942</FONT><A NAME="2942"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (iterator.hasNext()) {<br><FONT ID="LN">2943</FONT><A NAME="2943"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) iterator.next();<br><FONT ID="LN">2944</FONT><A NAME="2944"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.cache.putInfo((IJavaElement) entry.getKey(), entry.getValue());<br><FONT ID="LN">2945</FONT><A NAME="2945"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2946</FONT><A NAME="2946"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2947</FONT><A NAME="2947"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">2948</FONT><A NAME="2948"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">2949</FONT><A NAME="2949"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Remember the info for the jar binary type<br><FONT ID="LN">2950</FONT><A NAME="2950"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2951</FONT><A NAME="2951"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> putJarTypeInfo(IJavaElement type, <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> info) {<br><FONT ID="LN">2952</FONT><A NAME="2952"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.cache.jarTypeCache.put(type, info);<br><FONT ID="LN">2953</FONT><A NAME="2953"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2954</FONT><A NAME="2954"></A><br><FONT ID="LN">2955</FONT><A NAME="2955"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">2956</FONT><A NAME="2956"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Reads the build state for the relevant project.<br><FONT ID="LN">2957</FONT><A NAME="2957"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">2958</FONT><A NAME="2958"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> readState(IProject project) <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">2959</FONT><A NAME="2959"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/util/zip/ZipFile.java.htm">File</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> file = getSerializationFile(project);<br><FONT ID="LN">2960</FONT><A NAME="2960"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file != <FONT ID="Null">null</FONT> &amp;&amp; file.exists()) {<br><FONT ID="LN">2961</FONT><A NAME="2961"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2962</FONT><A NAME="2962"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DataInputStream in= <FONT ID="New">new</FONT> DataInputStream(<FONT ID="New">new</FONT> BufferedInputStream(<FONT ID="New">new</FONT> FileInputStream(file)));<br><FONT ID="LN">2963</FONT><A NAME="2963"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">2964</FONT><A NAME="2964"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> pluginID= in.readUTF();<br><FONT ID="LN">2965</FONT><A NAME="2965"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!pluginID.equals(JavaCore.PLUGIN_ID))<br><FONT ID="LN">2966</FONT><A NAME="2966"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> IOException(Messages.build_wrongFileFormat); <br><FONT ID="LN">2967</FONT><A NAME="2967"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> kind= in.readUTF();<br><FONT ID="LN">2968</FONT><A NAME="2968"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!kind.equals(<FONT ID="StringLiteral">"STATE"</FONT>)) <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2969</FONT><A NAME="2969"></A></FONT>                        <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> IOException(Messages.build_wrongFileFormat); <br><FONT ID="LN">2970</FONT><A NAME="2970"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (in.readBoolean())<br><FONT ID="LN">2971</FONT><A NAME="2971"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> JavaBuilder.readState(project, in);<br><FONT ID="LN">2972</FONT><A NAME="2972"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaBuilder.DEBUG)<br><FONT ID="LN">2973</FONT><A NAME="2973"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<FONT ID="StringLiteral">"Saved state thinks last build failed for "</FONT> + project.getName()); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2974</FONT><A NAME="2974"></A></FONT>                } <FONT ID="Finally">finally</FONT> {<br><FONT ID="LN">2975</FONT><A NAME="2975"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in.close();<br><FONT ID="LN">2976</FONT><A NAME="2976"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2977</FONT><A NAME="2977"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../java/lang/Exception.java.htm">Exception</A>  <A HREF= "/2619.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e) {<br><FONT ID="LN">2978</FONT><A NAME="2978"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br><FONT ID="LN">2979</FONT><A NAME="2979"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> CoreException(<FONT ID="New">new</FONT> Status(IStatus.ERROR, JavaCore.PLUGIN_ID, Platform.PLUGIN_ERROR, <FONT ID="StringLiteral">"Error reading last build state for project "</FONT>+ project.getName(), e)); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2980</FONT><A NAME="2980"></A></FONT>            }<br><FONT ID="LN">2981</FONT><A NAME="2981"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (JavaBuilder.DEBUG) {<br><FONT ID="LN">2982</FONT><A NAME="2982"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">2983</FONT><A NAME="2983"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<FONT ID="StringLiteral">"Project does not exist: "</FONT> + project); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">2984</FONT><A NAME="2984"></A></FONT>            <FONT ID="Else">else</FONT><br><FONT ID="LN">2985</FONT><A NAME="2985"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<FONT ID="StringLiteral">"Build state file "</FONT> + file.getPath() + <FONT ID="StringLiteral">" does not exist"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">2986</FONT><A NAME="2986"></A></FONT>        }<br><FONT ID="LN">2987</FONT><A NAME="2987"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">2988</FONT><A NAME="2988"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">2989</FONT><A NAME="2989"></A><br><FONT ID="LN">2990</FONT><A NAME="2990"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Void">void</FONT> recreatePersistedContainer(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> propertyName, <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> containerString, <FONT ID="Boolean">boolean</FONT> addToContainerValues) {<br><FONT ID="LN">2991</FONT><A NAME="2991"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> containerPrefixLength = CP_CONTAINER_PREFERENCES_PREFIX.length();<br><FONT ID="LN">2992</FONT><A NAME="2992"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> index = propertyName.indexOf(<FONT ID="CharacerLiteral">'|'</FONT>, containerPrefixLength);<br><FONT ID="LN">2993</FONT><A NAME="2993"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (containerString != <FONT ID="Null">null</FONT>) containerString = containerString.trim();<br><FONT ID="LN">2994</FONT><A NAME="2994"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (index &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">2995</FONT><A NAME="2995"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> projectName = propertyName.substring(containerPrefixLength, index).trim();<br><FONT ID="LN">2996</FONT><A NAME="2996"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaProject project = getJavaModelManager().getJavaModel().getJavaProject(projectName);<br><FONT ID="LN">2997</FONT><A NAME="2997"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath containerPath = <FONT ID="New">new</FONT> Path(propertyName.substring(index+<FONT ID="IntegerLiteral">1</FONT>).trim());<br><FONT ID="LN">2998</FONT><A NAME="2998"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recreatePersistedContainer(project, containerPath, containerString, addToContainerValues);<br><FONT ID="LN">2999</FONT><A NAME="2999"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3000</FONT><A NAME="3000"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3001</FONT><A NAME="3001"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3002</FONT><A NAME="3002"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Void">void</FONT> recreatePersistedContainer(<FONT ID="Final">final</FONT> IJavaProject project, <FONT ID="Final">final</FONT> IPath containerPath, <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> containerString, <FONT ID="Boolean">boolean</FONT> addToContainerValues) {<br><FONT ID="LN">3003</FONT><A NAME="3003"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!project.getProject().isAccessible()) <FONT ID="Return">return</FONT>; <FONT ID="SingleLineComment">// avoid leaking deleted project's persisted container    <br><FONT ID="LN">3004</FONT><A NAME="3004"></A></FONT>        <FONT ID="If">if</FONT> (containerString == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3005</FONT><A NAME="3005"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getJavaModelManager().containerPut(project, containerPath, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">3006</FONT><A NAME="3006"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">3007</FONT><A NAME="3007"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] entries;<br><FONT ID="LN">3008</FONT><A NAME="3008"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3009</FONT><A NAME="3009"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries = ((<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A>) project).decodeClasspath(containerString, <FONT ID="Null">null</FONT><FONT ID="MultiLineComment">/*not interested in unknown elements*/</FONT>);<br><FONT ID="LN">3010</FONT><A NAME="3010"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (IOException e) {<br><FONT ID="LN">3011</FONT><A NAME="3011"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.log(e, <FONT ID="StringLiteral">"Could not recreate persisted container: \n"</FONT> + containerString); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3012</FONT><A NAME="3012"></A></FONT>                entries = JavaProject.INVALID_CLASSPATH;<br><FONT ID="LN">3013</FONT><A NAME="3013"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3014</FONT><A NAME="3014"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (entries != JavaProject.INVALID_CLASSPATH) {<br><FONT ID="LN">3015</FONT><A NAME="3015"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IClasspathEntry[] containerEntries = entries;<br><FONT ID="LN">3016</FONT><A NAME="3016"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer container = <FONT ID="New">new</FONT> IClasspathContainer() {<br><FONT ID="LN">3017</FONT><A NAME="3017"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IClasspathEntry[] getClasspathEntries() {<br><FONT ID="LN">3018</FONT><A NAME="3018"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> containerEntries;<br><FONT ID="LN">3019</FONT><A NAME="3019"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3020</FONT><A NAME="3020"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> getDescription() {<br><FONT ID="LN">3021</FONT><A NAME="3021"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Persisted container ["</FONT>+containerPath+<FONT ID="StringLiteral">" for project ["</FONT>+ project.getElementName()+<FONT ID="StringLiteral">"]"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$//$NON-NLS-2$//$NON-NLS-3$<br><FONT ID="LN">3022</FONT><A NAME="3022"></A></FONT>                    }<br><FONT ID="LN">3023</FONT><A NAME="3023"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getKind() {<br><FONT ID="LN">3024</FONT><A NAME="3024"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">0</FONT>; <br><FONT ID="LN">3025</FONT><A NAME="3025"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3026</FONT><A NAME="3026"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> IPath getPath() {<br><FONT ID="LN">3027</FONT><A NAME="3027"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> containerPath;<br><FONT ID="LN">3028</FONT><A NAME="3028"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3029</FONT><A NAME="3029"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> toString() {<br><FONT ID="LN">3030</FONT><A NAME="3030"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> getDescription();<br><FONT ID="LN">3031</FONT><A NAME="3031"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3032</FONT><A NAME="3032"></A><br><FONT ID="LN">3033</FONT><A NAME="3033"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br><FONT ID="LN">3034</FONT><A NAME="3034"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (addToContainerValues) {<br><FONT ID="LN">3035</FONT><A NAME="3035"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getJavaModelManager().containerPut(project, containerPath, container);<br><FONT ID="LN">3036</FONT><A NAME="3036"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3037</FONT><A NAME="3037"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map projectContainers = (Map)getJavaModelManager().previousSessionContainers.get(project);<br><FONT ID="LN">3038</FONT><A NAME="3038"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectContainers == <FONT ID="Null">null</FONT>){<br><FONT ID="LN">3039</FONT><A NAME="3039"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectContainers = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">1</FONT>);<br><FONT ID="LN">3040</FONT><A NAME="3040"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getJavaModelManager().previousSessionContainers.put(project, projectContainers);<br><FONT ID="LN">3041</FONT><A NAME="3041"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3042</FONT><A NAME="3042"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectContainers.put(containerPath, container);<br><FONT ID="LN">3043</FONT><A NAME="3043"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3044</FONT><A NAME="3044"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3045</FONT><A NAME="3045"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3046</FONT><A NAME="3046"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3047</FONT><A NAME="3047"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">3048</FONT><A NAME="3048"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Remembers the given scope in a weak set<br><FONT ID="LN">3049</FONT><A NAME="3049"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* (so no need to remove it: it will be removed by the garbage collector)<br><FONT ID="LN">3050</FONT><A NAME="3050"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3051</FONT><A NAME="3051"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> rememberScope(<A HREF="../../../../../org/eclipse/jdt/internal/core/search/AbstractSearchScope.java.htm">AbstractSearchScope</A> scope) {<br><FONT ID="LN">3052</FONT><A NAME="3052"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// NB: The value has to be null so as to not create a strong reference on the scope<br><FONT ID="LN">3053</FONT><A NAME="3053"></A></FONT>        <FONT ID="This">this</FONT>.searchScopes.put(scope, <FONT ID="Null">null</FONT>); <br><FONT ID="LN">3054</FONT><A NAME="3054"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3055</FONT><A NAME="3055"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3056</FONT><A NAME="3056"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">3057</FONT><A NAME="3057"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Removes all cached info for the given element (including all children)<br><FONT ID="LN">3058</FONT><A NAME="3058"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* from the cache.<br><FONT ID="LN">3059</FONT><A NAME="3059"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the info for the given element, or null if it was closed.<br><FONT ID="LN">3060</FONT><A NAME="3060"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3061</FONT><A NAME="3061"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> removeInfoAndChildren(<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElement.java.htm">JavaElement</A> element) <FONT ID="Throws">throws</FONT> JavaModelException {<br><FONT ID="LN">3062</FONT><A NAME="3062"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> info = <FONT ID="This">this</FONT>.cache.peekAtInfo(element);<br><FONT ID="LN">3063</FONT><A NAME="3063"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (info != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3064</FONT><A NAME="3064"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Boolean">boolean</FONT> wasVerbose = <FONT ID="False">false</FONT>;<br><FONT ID="LN">3065</FONT><A NAME="3065"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3066</FONT><A NAME="3066"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaModelCache.VERBOSE) {<br><FONT ID="LN">3067</FONT><A NAME="3067"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> elementType;<br><FONT ID="LN">3068</FONT><A NAME="3068"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Switch">switch</FONT> (element.getElementType()) {<br><FONT ID="LN">3069</FONT><A NAME="3069"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> IJavaElement.JAVA_PROJECT:<br><FONT ID="LN">3070</FONT><A NAME="3070"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elementType = <FONT ID="StringLiteral">"project"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3071</FONT><A NAME="3071"></A></FONT>                            <FONT ID="Break">break</FONT>;<br><FONT ID="LN">3072</FONT><A NAME="3072"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> IJavaElement.PACKAGE_FRAGMENT_ROOT:<br><FONT ID="LN">3073</FONT><A NAME="3073"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elementType = <FONT ID="StringLiteral">"root"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3074</FONT><A NAME="3074"></A></FONT>                            <FONT ID="Break">break</FONT>;<br><FONT ID="LN">3075</FONT><A NAME="3075"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> IJavaElement.PACKAGE_FRAGMENT:<br><FONT ID="LN">3076</FONT><A NAME="3076"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elementType = <FONT ID="StringLiteral">"package"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3077</FONT><A NAME="3077"></A></FONT>                            <FONT ID="Break">break</FONT>;<br><FONT ID="LN">3078</FONT><A NAME="3078"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> IJavaElement.CLASS_FILE:<br><FONT ID="LN">3079</FONT><A NAME="3079"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elementType = <FONT ID="StringLiteral">"class file"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3080</FONT><A NAME="3080"></A></FONT>                            <FONT ID="Break">break</FONT>;<br><FONT ID="LN">3081</FONT><A NAME="3081"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> IJavaElement.COMPILATION_UNIT:<br><FONT ID="LN">3082</FONT><A NAME="3082"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elementType = <FONT ID="StringLiteral">"compilation unit"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3083</FONT><A NAME="3083"></A></FONT>                            <FONT ID="Break">break</FONT>;<br><FONT ID="LN">3084</FONT><A NAME="3084"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Default">default</FONT>:<br><FONT ID="LN">3085</FONT><A NAME="3085"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elementType = <FONT ID="StringLiteral">"element"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3086</FONT><A NAME="3086"></A></FONT>                    }<br><FONT ID="LN">3087</FONT><A NAME="3087"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(Thread.currentThread() + <FONT ID="StringLiteral">" CLOSING "</FONT>+ elementType + <FONT ID="StringLiteral">" "</FONT> + element.toStringWithAncestors());  <FONT ID="SingleLineComment">//$NON-NLS-1$//$NON-NLS-2$<br><FONT ID="LN">3088</FONT><A NAME="3088"></A></FONT>                    wasVerbose = <FONT ID="True">true</FONT>;<br><FONT ID="LN">3089</FONT><A NAME="3089"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaModelCache.VERBOSE = <FONT ID="False">false</FONT>;<br><FONT ID="LN">3090</FONT><A NAME="3090"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3091</FONT><A NAME="3091"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.closing(info);<br><FONT ID="LN">3092</FONT><A NAME="3092"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (element <FONT ID="InstanceOf">instanceof</FONT> IParent &amp;&amp; info <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElementInfo.java.htm">JavaElementInfo</A>) {<br><FONT ID="LN">3093</FONT><A NAME="3093"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaElement[] children = ((<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElementInfo.java.htm">JavaElementInfo</A>)info).getChildren();<br><FONT ID="LN">3094</FONT><A NAME="3094"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>, size = children.length; i &lt; size; ++i) {<br><FONT ID="LN">3095</FONT><A NAME="3095"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElement.java.htm">JavaElement</A> child = (<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaElement.java.htm">JavaElement</A>) children[i];<br><FONT ID="LN">3096</FONT><A NAME="3096"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;child.close();<br><FONT ID="LN">3097</FONT><A NAME="3097"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3098</FONT><A NAME="3098"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3099</FONT><A NAME="3099"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.cache.removeInfo(element);<br><FONT ID="LN">3100</FONT><A NAME="3100"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (wasVerbose) {<br><FONT ID="LN">3101</FONT><A NAME="3101"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<FONT ID="This">this</FONT>.cache.toStringFillingRation(<FONT ID="StringLiteral">"-&gt; "</FONT>)); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3102</FONT><A NAME="3102"></A></FONT>                }<br><FONT ID="LN">3103</FONT><A NAME="3103"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Finally">finally</FONT> {<br><FONT ID="LN">3104</FONT><A NAME="3104"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaModelCache.VERBOSE = wasVerbose;<br><FONT ID="LN">3105</FONT><A NAME="3105"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3106</FONT><A NAME="3106"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> info;<br><FONT ID="LN">3107</FONT><A NAME="3107"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3108</FONT><A NAME="3108"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3109</FONT><A NAME="3109"></A>&nbsp;&nbsp;&nbsp;&nbsp;}   <br><FONT ID="LN">3110</FONT><A NAME="3110"></A><br><FONT ID="LN">3111</FONT><A NAME="3111"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> removePerProjectInfo(<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A> javaProject) {<br><FONT ID="LN">3112</FONT><A NAME="3112"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Synchronized">synchronized</FONT>(<FONT ID="This">this</FONT>.perProjectInfos) { <FONT ID="SingleLineComment">// use the perProjectInfo collection as its own lock<br><FONT ID="LN">3113</FONT><A NAME="3113"></A></FONT>            IProject project = javaProject.getProject();<br><FONT ID="LN">3114</FONT><A NAME="3114"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PerProjectInfo info= (PerProjectInfo) <FONT ID="This">this</FONT>.perProjectInfos.get(project);<br><FONT ID="LN">3115</FONT><A NAME="3115"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (info != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3116</FONT><A NAME="3116"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.perProjectInfos.remove(project);<br><FONT ID="LN">3117</FONT><A NAME="3117"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3118</FONT><A NAME="3118"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3119</FONT><A NAME="3119"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3120</FONT><A NAME="3120"></A><br><FONT ID="LN">3121</FONT><A NAME="3121"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">3122</FONT><A NAME="3122"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Reset project options stored in info cache.<br><FONT ID="LN">3123</FONT><A NAME="3123"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3124</FONT><A NAME="3124"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> resetProjectOptions(<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A> javaProject) {<br><FONT ID="LN">3125</FONT><A NAME="3125"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Synchronized">synchronized</FONT>(<FONT ID="This">this</FONT>.perProjectInfos) { <FONT ID="SingleLineComment">// use the perProjectInfo collection as its own lock<br><FONT ID="LN">3126</FONT><A NAME="3126"></A></FONT>            IProject project = javaProject.getProject();<br><FONT ID="LN">3127</FONT><A NAME="3127"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PerProjectInfo info= (PerProjectInfo) <FONT ID="This">this</FONT>.perProjectInfos.get(project);<br><FONT ID="LN">3128</FONT><A NAME="3128"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (info != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3129</FONT><A NAME="3129"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info.options = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3130</FONT><A NAME="3130"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3131</FONT><A NAME="3131"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3132</FONT><A NAME="3132"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3133</FONT><A NAME="3133"></A><br><FONT ID="LN">3134</FONT><A NAME="3134"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">3135</FONT><A NAME="3135"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Reset project preferences stored in info cache.<br><FONT ID="LN">3136</FONT><A NAME="3136"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3137</FONT><A NAME="3137"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> resetProjectPreferences(<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A> javaProject) {<br><FONT ID="LN">3138</FONT><A NAME="3138"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Synchronized">synchronized</FONT>(<FONT ID="This">this</FONT>.perProjectInfos) { <FONT ID="SingleLineComment">// use the perProjectInfo collection as its own lock<br><FONT ID="LN">3139</FONT><A NAME="3139"></A></FONT>            IProject project = javaProject.getProject();<br><FONT ID="LN">3140</FONT><A NAME="3140"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PerProjectInfo info= (PerProjectInfo) <FONT ID="This">this</FONT>.perProjectInfos.get(project);<br><FONT ID="LN">3141</FONT><A NAME="3141"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (info != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3142</FONT><A NAME="3142"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info.preferences = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3143</FONT><A NAME="3143"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3144</FONT><A NAME="3144"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3145</FONT><A NAME="3145"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3146</FONT><A NAME="3146"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3147</FONT><A NAME="3147"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Void">void</FONT> doNotUse() {<br><FONT ID="LN">3148</FONT><A NAME="3148"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// used by tests to simulate a startup<br><FONT ID="LN">3149</FONT><A NAME="3149"></A></FONT>        MANAGER = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelManager.java.htm">JavaModelManager</A>();<br><FONT ID="LN">3150</FONT><A NAME="3150"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3151</FONT><A NAME="3151"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3152</FONT><A NAME="3152"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">3153</FONT><A NAME="3153"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Resets the cache that holds on binary type in jar files<br><FONT ID="LN">3154</FONT><A NAME="3154"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3155</FONT><A NAME="3155"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> resetJarTypeCache() {<br><FONT ID="LN">3156</FONT><A NAME="3156"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.cache.resetJarTypeCache();<br><FONT ID="LN">3157</FONT><A NAME="3157"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3158</FONT><A NAME="3158"></A><br><FONT ID="LN">3159</FONT><A NAME="3159"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">3160</FONT><A NAME="3160"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Resets the temporary cache for newly created elements to null.<br><FONT ID="LN">3161</FONT><A NAME="3161"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3162</FONT><A NAME="3162"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> resetTemporaryCache() {<br><FONT ID="LN">3163</FONT><A NAME="3163"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.temporaryCache.set(<FONT ID="Null">null</FONT>);<br><FONT ID="LN">3164</FONT><A NAME="3164"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3165</FONT><A NAME="3165"></A><br><FONT ID="LN">3166</FONT><A NAME="3166"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">3167</FONT><A NAME="3167"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @see ISaveParticipant<br><FONT ID="LN">3168</FONT><A NAME="3168"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3169</FONT><A NAME="3169"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> rollback(ISaveContext context){<br><FONT ID="LN">3170</FONT><A NAME="3170"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// nothing to do<br><FONT ID="LN">3171</FONT><A NAME="3171"></A></FONT>    }<br><FONT ID="LN">3172</FONT><A NAME="3172"></A><br><FONT ID="LN">3173</FONT><A NAME="3173"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveState(PerProjectInfo info, ISaveContext context) <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">3174</FONT><A NAME="3174"></A><br><FONT ID="LN">3175</FONT><A NAME="3175"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// passed this point, save actions are non trivial<br><FONT ID="LN">3176</FONT><A NAME="3176"></A></FONT>        <FONT ID="If">if</FONT> (context.getKind() == ISaveContext.SNAPSHOT) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">3177</FONT><A NAME="3177"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3178</FONT><A NAME="3178"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// save built state<br><FONT ID="LN">3179</FONT><A NAME="3179"></A></FONT>        <FONT ID="If">if</FONT> (info.triedRead) saveBuiltState(info);<br><FONT ID="LN">3180</FONT><A NAME="3180"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3181</FONT><A NAME="3181"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3182</FONT><A NAME="3182"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">3183</FONT><A NAME="3183"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Saves the built state for the project.<br><FONT ID="LN">3184</FONT><A NAME="3184"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3185</FONT><A NAME="3185"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveBuiltState(PerProjectInfo info) <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">3186</FONT><A NAME="3186"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaBuilder.DEBUG)<br><FONT ID="LN">3187</FONT><A NAME="3187"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(Messages.bind(Messages.build_saveStateProgress, info.project.getName())); <br><FONT ID="LN">3188</FONT><A NAME="3188"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/util/zip/ZipFile.java.htm">File</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> file = getSerializationFile(info.project);<br><FONT ID="LN">3189</FONT><A NAME="3189"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file == <FONT ID="Null">null</FONT>) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">3190</FONT><A NAME="3190"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Long">long</FONT> t = System.currentTimeMillis();<br><FONT ID="LN">3191</FONT><A NAME="3191"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3192</FONT><A NAME="3192"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DataOutputStream out = <FONT ID="New">new</FONT> DataOutputStream(<FONT ID="New">new</FONT> BufferedOutputStream(<FONT ID="New">new</FONT> FileOutputStream(file)));<br><FONT ID="LN">3193</FONT><A NAME="3193"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3194</FONT><A NAME="3194"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeUTF(JavaCore.PLUGIN_ID);<br><FONT ID="LN">3195</FONT><A NAME="3195"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeUTF(<FONT ID="StringLiteral">"STATE"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3196</FONT><A NAME="3196"></A></FONT>                <FONT ID="If">if</FONT> (info.savedState == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3197</FONT><A NAME="3197"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeBoolean(<FONT ID="False">false</FONT>);<br><FONT ID="LN">3198</FONT><A NAME="3198"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">3199</FONT><A NAME="3199"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeBoolean(<FONT ID="True">true</FONT>);<br><FONT ID="LN">3200</FONT><A NAME="3200"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaBuilder.writeState(info.savedState, out);<br><FONT ID="LN">3201</FONT><A NAME="3201"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3202</FONT><A NAME="3202"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Finally">finally</FONT> {<br><FONT ID="LN">3203</FONT><A NAME="3203"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.close();<br><FONT ID="LN">3204</FONT><A NAME="3204"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3205</FONT><A NAME="3205"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../java/lang/RuntimeException.java.htm">RuntimeException</A>  <A HREF= "/1822.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e) {<br><FONT ID="LN">3206</FONT><A NAME="3206"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3207</FONT><A NAME="3207"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.delete();<br><FONT ID="LN">3208</FONT><A NAME="3208"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT>(<A HREF="../../../../../java/lang/SecurityException.java.htm">SecurityException</A>  <A HREF= "/1840.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> se) {<br><FONT ID="LN">3209</FONT><A NAME="3209"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// could not delete file: cannot do much more<br><FONT ID="LN">3210</FONT><A NAME="3210"></A></FONT>            }<br><FONT ID="LN">3211</FONT><A NAME="3211"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> CoreException(<br><FONT ID="LN">3212</FONT><A NAME="3212"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> Status(IStatus.ERROR, JavaCore.PLUGIN_ID, Platform.PLUGIN_ERROR,<br><FONT ID="LN">3213</FONT><A NAME="3213"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Messages.bind(Messages.build_cannotSaveState, info.project.getName()), e)); <br><FONT ID="LN">3214</FONT><A NAME="3214"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (IOException e) {<br><FONT ID="LN">3215</FONT><A NAME="3215"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3216</FONT><A NAME="3216"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.delete();<br><FONT ID="LN">3217</FONT><A NAME="3217"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT>(<A HREF="../../../../../java/lang/SecurityException.java.htm">SecurityException</A>  <A HREF= "/1840.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> se) {<br><FONT ID="LN">3218</FONT><A NAME="3218"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// could not delete file: cannot do much more<br><FONT ID="LN">3219</FONT><A NAME="3219"></A></FONT>            }<br><FONT ID="LN">3220</FONT><A NAME="3220"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> CoreException(<br><FONT ID="LN">3221</FONT><A NAME="3221"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> Status(IStatus.ERROR, JavaCore.PLUGIN_ID, Platform.PLUGIN_ERROR,<br><FONT ID="LN">3222</FONT><A NAME="3222"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Messages.bind(Messages.build_cannotSaveState, info.project.getName()), e)); <br><FONT ID="LN">3223</FONT><A NAME="3223"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3224</FONT><A NAME="3224"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaBuilder.DEBUG) {<br><FONT ID="LN">3225</FONT><A NAME="3225"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t = System.currentTimeMillis() - t;<br><FONT ID="LN">3226</FONT><A NAME="3226"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(Messages.bind(Messages.build_saveStateComplete, String.valueOf(t))); <br><FONT ID="LN">3227</FONT><A NAME="3227"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3228</FONT><A NAME="3228"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3229</FONT><A NAME="3229"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3230</FONT><A NAME="3230"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveVariablesAndContainers(ISaveContext context) <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">3231</FONT><A NAME="3231"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/util/zip/ZipFile.java.htm">File</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> file = getVariableAndContainersFile();<br><FONT ID="LN">3232</FONT><A NAME="3232"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DataOutputStream out = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3233</FONT><A NAME="3233"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3234</FONT><A NAME="3234"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out = <FONT ID="New">new</FONT> DataOutputStream(<FONT ID="New">new</FONT> BufferedOutputStream(<FONT ID="New">new</FONT> FileOutputStream(file)));<br><FONT ID="LN">3235</FONT><A NAME="3235"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeInt(VARIABLES_AND_CONTAINERS_FILE_VERSION);<br><FONT ID="LN">3236</FONT><A NAME="3236"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VARIABLES_AND_CONTAINERS_FILE_VERSION != <FONT ID="IntegerLiteral">1</FONT>)<br><FONT ID="LN">3237</FONT><A NAME="3237"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> VariablesAndContainersSaveHelper(out).save(context);<br><FONT ID="LN">3238</FONT><A NAME="3238"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Else">else</FONT> {<br><FONT ID="LN">3239</FONT><A NAME="3239"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// old code retained for performance comparisons<br><FONT ID="LN">3240</FONT><A NAME="3240"></A></FONT>                <br><FONT ID="LN">3241</FONT><A NAME="3241"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// variables<br><FONT ID="LN">3242</FONT><A NAME="3242"></A></FONT>                out.writeInt(<FONT ID="This">this</FONT>.variables.size());<br><FONT ID="LN">3243</FONT><A NAME="3243"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator iterator = <FONT ID="This">this</FONT>.variables.entrySet().iterator();<br><FONT ID="LN">3244</FONT><A NAME="3244"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (iterator.hasNext()) {<br><FONT ID="LN">3245</FONT><A NAME="3245"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) iterator.next();<br><FONT ID="LN">3246</FONT><A NAME="3246"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> variableName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getKey();<br><FONT ID="LN">3247</FONT><A NAME="3247"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeUTF(variableName);<br><FONT ID="LN">3248</FONT><A NAME="3248"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath path = (IPath) entry.getValue();<br><FONT ID="LN">3249</FONT><A NAME="3249"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeUTF(path == <FONT ID="Null">null</FONT> ? CP_ENTRY_IGNORE : path.toPortableString());<br><FONT ID="LN">3250</FONT><A NAME="3250"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3251</FONT><A NAME="3251"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3252</FONT><A NAME="3252"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// containers<br><FONT ID="LN">3253</FONT><A NAME="3253"></A></FONT>                IJavaProject[] projects = getJavaModel().getJavaProjects();<br><FONT ID="LN">3254</FONT><A NAME="3254"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> length = projects.length;<br><FONT ID="LN">3255</FONT><A NAME="3255"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeInt(length);<br><FONT ID="LN">3256</FONT><A NAME="3256"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; length; i++) {<br><FONT ID="LN">3257</FONT><A NAME="3257"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaProject project = projects[i];<br><FONT ID="LN">3258</FONT><A NAME="3258"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// clone while iterating (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=59638)<br><FONT ID="LN">3259</FONT><A NAME="3259"></A></FONT>                    Map projectContainers = containerClone(project);<br><FONT ID="LN">3260</FONT><A NAME="3260"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeUTF(project.getElementName());<br><FONT ID="LN">3261</FONT><A NAME="3261"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectContainers == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3262</FONT><A NAME="3262"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeInt(<FONT ID="IntegerLiteral">0</FONT>);<br><FONT ID="LN">3263</FONT><A NAME="3263"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Continue">continue</FONT>;<br><FONT ID="LN">3264</FONT><A NAME="3264"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3265</FONT><A NAME="3265"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap containersToSave = <FONT ID="New">new</FONT> HashMap();<br><FONT ID="LN">3266</FONT><A NAME="3266"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (iterator = projectContainers.entrySet().iterator(); iterator.hasNext();) {<br><FONT ID="LN">3267</FONT><A NAME="3267"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) iterator.next();<br><FONT ID="LN">3268</FONT><A NAME="3268"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath containerPath = (IPath) entry.getKey();<br><FONT ID="LN">3269</FONT><A NAME="3269"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer container = (IClasspathContainer) entry.getValue();<br><FONT ID="LN">3270</FONT><A NAME="3270"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> containerString = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3271</FONT><A NAME="3271"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3272</FONT><A NAME="3272"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3273</FONT><A NAME="3273"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// container has not been initialized yet, use previous session value<br><FONT ID="LN">3274</FONT><A NAME="3274"></A></FONT>                                <FONT ID="SingleLineComment">// (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=73969)<br><FONT ID="LN">3275</FONT><A NAME="3275"></A></FONT>                                container = getPreviousSessionContainer(containerPath, project);<br><FONT ID="LN">3276</FONT><A NAME="3276"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3277</FONT><A NAME="3277"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3278</FONT><A NAME="3278"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] entries = container.getClasspathEntries();<br><FONT ID="LN">3279</FONT><A NAME="3279"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerString = ((<A HREF="../../../../../org/eclipse/jdt/internal/core/JavaProject.java.htm">JavaProject</A>)project).encodeClasspath(<br><FONT ID="LN">3280</FONT><A NAME="3280"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries, <br><FONT ID="LN">3281</FONT><A NAME="3281"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Null">null</FONT>, <br><FONT ID="LN">3282</FONT><A NAME="3282"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="False">false</FONT>,<br><FONT ID="LN">3283</FONT><A NAME="3283"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Null">null</FONT><FONT ID="MultiLineComment">/*not interested in unknown elements*/</FONT>);<br><FONT ID="LN">3284</FONT><A NAME="3284"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3285</FONT><A NAME="3285"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT>(JavaModelException e){<br><FONT ID="LN">3286</FONT><A NAME="3286"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// could not encode entry: will not persist<br><FONT ID="LN">3287</FONT><A NAME="3287"></A></FONT>                            Util.log(e, <FONT ID="StringLiteral">"Could not persist container "</FONT> + containerPath + <FONT ID="StringLiteral">" for project "</FONT> + project.getElementName()); <FONT ID="SingleLineComment">//$NON-NLS-1$ //$NON-NLS-2$<br><FONT ID="LN">3288</FONT><A NAME="3288"></A></FONT>                        }<br><FONT ID="LN">3289</FONT><A NAME="3289"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (containerString != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">3290</FONT><A NAME="3290"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containersToSave.put(containerPath, containerString);<br><FONT ID="LN">3291</FONT><A NAME="3291"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3292</FONT><A NAME="3292"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeInt(containersToSave.size());<br><FONT ID="LN">3293</FONT><A NAME="3293"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterator = containersToSave.entrySet().iterator();<br><FONT ID="LN">3294</FONT><A NAME="3294"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (iterator.hasNext()) {<br><FONT ID="LN">3295</FONT><A NAME="3295"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) iterator.next();<br><FONT ID="LN">3296</FONT><A NAME="3296"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath containerPath = (IPath) entry.getKey();<br><FONT ID="LN">3297</FONT><A NAME="3297"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeUTF(containerPath.toPortableString());<br><FONT ID="LN">3298</FONT><A NAME="3298"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> containerString = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getValue();<br><FONT ID="LN">3299</FONT><A NAME="3299"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeInt(containerString.length());<br><FONT ID="LN">3300</FONT><A NAME="3300"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.writeBytes(containerString);<br><FONT ID="LN">3301</FONT><A NAME="3301"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3302</FONT><A NAME="3302"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3303</FONT><A NAME="3303"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3304</FONT><A NAME="3304"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (IOException e) {<br><FONT ID="LN">3305</FONT><A NAME="3305"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IStatus status = <FONT ID="New">new</FONT> Status(IStatus.ERROR, JavaCore.PLUGIN_ID, IStatus.ERROR, <FONT ID="StringLiteral">"Problems while saving variables and containers"</FONT>, e); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3306</FONT><A NAME="3306"></A></FONT>            <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> CoreException(status);<br><FONT ID="LN">3307</FONT><A NAME="3307"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Finally">finally</FONT> {<br><FONT ID="LN">3308</FONT><A NAME="3308"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (out != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3309</FONT><A NAME="3309"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3310</FONT><A NAME="3310"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.close();<br><FONT ID="LN">3311</FONT><A NAME="3311"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (IOException e) {<br><FONT ID="LN">3312</FONT><A NAME="3312"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// nothing we can do: ignore<br><FONT ID="LN">3313</FONT><A NAME="3313"></A></FONT>                }<br><FONT ID="LN">3314</FONT><A NAME="3314"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3315</FONT><A NAME="3315"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3316</FONT><A NAME="3316"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3317</FONT><A NAME="3317"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3318</FONT><A NAME="3318"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <FONT ID="Class">class</FONT> VariablesAndContainersSaveHelper {<br><FONT ID="LN">3319</FONT><A NAME="3319"></A><br><FONT ID="LN">3320</FONT><A NAME="3320"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/util/HashtableOfObjectToInt.java.htm">HashtableOfObjectToInt</A> classpathEntryIds; <FONT ID="SingleLineComment">// IClasspathEntry -&gt; int<br><FONT ID="LN">3321</FONT><A NAME="3321"></A></FONT>        <FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> DataOutputStream out;<br><FONT ID="LN">3322</FONT><A NAME="3322"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/util/HashtableOfObjectToInt.java.htm">HashtableOfObjectToInt</A> stringIds; <FONT ID="SingleLineComment">// Strings -&gt; int<br><FONT ID="LN">3323</FONT><A NAME="3323"></A></FONT><br><FONT ID="LN">3324</FONT><A NAME="3324"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VariablesAndContainersSaveHelper(DataOutputStream out) {<br><FONT ID="LN">3325</FONT><A NAME="3325"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Super">super</FONT>();<br><FONT ID="LN">3326</FONT><A NAME="3326"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.classpathEntryIds = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/util/HashtableOfObjectToInt.java.htm">HashtableOfObjectToInt</A>();<br><FONT ID="LN">3327</FONT><A NAME="3327"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.out = out;<br><FONT ID="LN">3328</FONT><A NAME="3328"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.stringIds = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/compiler/util/HashtableOfObjectToInt.java.htm">HashtableOfObjectToInt</A>();<br><FONT ID="LN">3329</FONT><A NAME="3329"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3330</FONT><A NAME="3330"></A><br><FONT ID="LN">3331</FONT><A NAME="3331"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Void">void</FONT> save(ISaveContext context) <FONT ID="Throws">throws</FONT> IOException, JavaModelException {<br><FONT ID="LN">3332</FONT><A NAME="3332"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProject project = context.getProject();<br><FONT ID="LN">3333</FONT><A NAME="3333"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (project == <FONT ID="Null">null</FONT>) { <FONT ID="SingleLineComment">// save all projects if none specified (snapshot or full save)<br><FONT ID="LN">3334</FONT><A NAME="3334"></A></FONT>                saveProjects(JavaModelManager.<FONT ID="This">this</FONT>.getJavaModel().getJavaProjects());<br><FONT ID="LN">3335</FONT><A NAME="3335"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3336</FONT><A NAME="3336"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Else">else</FONT> {<br><FONT ID="LN">3337</FONT><A NAME="3337"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveProjects(<FONT ID="New">new</FONT> IJavaProject[] {JavaCore.create(project)});<br><FONT ID="LN">3338</FONT><A NAME="3338"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3339</FONT><A NAME="3339"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3340</FONT><A NAME="3340"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Switch">switch</FONT> (context.getKind()) {<br><FONT ID="LN">3341</FONT><A NAME="3341"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Case">case</FONT> ISaveContext.FULL_SAVE :<br><FONT ID="LN">3342</FONT><A NAME="3342"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// TODO (eric) - investigate after 3.3 if variables should be saved for a SNAPSHOT<br><FONT ID="LN">3343</FONT><A NAME="3343"></A></FONT>                <FONT ID="Case">case</FONT> ISaveContext.SNAPSHOT :<br><FONT ID="LN">3344</FONT><A NAME="3344"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// remove variables that should not be saved<br><FONT ID="LN">3345</FONT><A NAME="3345"></A></FONT>                    HashMap varsToSave = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3346</FONT><A NAME="3346"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator iterator = JavaModelManager.<FONT ID="This">this</FONT>.variables.entrySet().iterator();<br><FONT ID="LN">3347</FONT><A NAME="3347"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A> defaultPreferences = getDefaultPreferences();<br><FONT ID="LN">3348</FONT><A NAME="3348"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (iterator.hasNext()) {<br><FONT ID="LN">3349</FONT><A NAME="3349"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) iterator.next();<br><FONT ID="LN">3350</FONT><A NAME="3350"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> varName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getKey();<br><FONT ID="LN">3351</FONT><A NAME="3351"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (defaultPreferences.get(CP_VARIABLE_PREFERENCES_PREFIX + varName, <FONT ID="Null">null</FONT>) != <FONT ID="Null">null</FONT> <FONT ID="SingleLineComment">// don't save classpath variables from the default preferences as there is no delta if they are removed<br><FONT ID="LN">3352</FONT><A NAME="3352"></A></FONT>                                || CP_ENTRY_IGNORE_PATH.equals(entry.getValue())) {<br><FONT ID="LN">3353</FONT><A NAME="3353"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3354</FONT><A NAME="3354"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (varsToSave == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">3355</FONT><A NAME="3355"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;varsToSave = <FONT ID="New">new</FONT> HashMap(JavaModelManager.<FONT ID="This">this</FONT>.variables);<br><FONT ID="LN">3356</FONT><A NAME="3356"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;varsToSave.remove(varName);<br><FONT ID="LN">3357</FONT><A NAME="3357"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3358</FONT><A NAME="3358"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}               <br><FONT ID="LN">3359</FONT><A NAME="3359"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveVariables(varsToSave != <FONT ID="Null">null</FONT> ? varsToSave : JavaModelManager.<FONT ID="This">this</FONT>.variables);<br><FONT ID="LN">3360</FONT><A NAME="3360"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Break">break</FONT>;<br><FONT ID="LN">3361</FONT><A NAME="3361"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Default">default</FONT> :<br><FONT ID="LN">3362</FONT><A NAME="3362"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// do nothing<br><FONT ID="LN">3363</FONT><A NAME="3363"></A></FONT>            }<br><FONT ID="LN">3364</FONT><A NAME="3364"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3365</FONT><A NAME="3365"></A><br><FONT ID="LN">3366</FONT><A NAME="3366"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveAccessRule(<A HREF="../../../../../org/eclipse/jdt/internal/core/ClasspathAccessRule.java.htm">ClasspathAccessRule</A> rule) <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3367</FONT><A NAME="3367"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(rule.problemId);<br><FONT ID="LN">3368</FONT><A NAME="3368"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savePath(rule.getPattern());<br><FONT ID="LN">3369</FONT><A NAME="3369"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3370</FONT><A NAME="3370"></A><br><FONT ID="LN">3371</FONT><A NAME="3371"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveAccessRules(IAccessRule[] rules) <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3372</FONT><A NAME="3372"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = rules == <FONT ID="Null">null</FONT> ? <FONT ID="IntegerLiteral">0</FONT> : rules.length;<br><FONT ID="LN">3373</FONT><A NAME="3373"></A><br><FONT ID="LN">3374</FONT><A NAME="3374"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(count);<br><FONT ID="LN">3375</FONT><A NAME="3375"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i)<br><FONT ID="LN">3376</FONT><A NAME="3376"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveAccessRule((<A HREF="../../../../../org/eclipse/jdt/internal/core/ClasspathAccessRule.java.htm">ClasspathAccessRule</A>) rules[i]);<br><FONT ID="LN">3377</FONT><A NAME="3377"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3378</FONT><A NAME="3378"></A><br><FONT ID="LN">3379</FONT><A NAME="3379"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveAttribute(IClasspathAttribute attribute)<br><FONT ID="LN">3380</FONT><A NAME="3380"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3381</FONT><A NAME="3381"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveString(attribute.getName());<br><FONT ID="LN">3382</FONT><A NAME="3382"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveString(attribute.getValue());<br><FONT ID="LN">3383</FONT><A NAME="3383"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3384</FONT><A NAME="3384"></A><br><FONT ID="LN">3385</FONT><A NAME="3385"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveAttributes(IClasspathAttribute[] attributes)<br><FONT ID="LN">3386</FONT><A NAME="3386"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3387</FONT><A NAME="3387"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = attributes == <FONT ID="Null">null</FONT> ? <FONT ID="IntegerLiteral">0</FONT> : attributes.length;<br><FONT ID="LN">3388</FONT><A NAME="3388"></A><br><FONT ID="LN">3389</FONT><A NAME="3389"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(count);<br><FONT ID="LN">3390</FONT><A NAME="3390"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i)<br><FONT ID="LN">3391</FONT><A NAME="3391"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveAttribute(attributes[i]);<br><FONT ID="LN">3392</FONT><A NAME="3392"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3393</FONT><A NAME="3393"></A><br><FONT ID="LN">3394</FONT><A NAME="3394"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveClasspathEntries(IClasspathEntry[] entries)<br><FONT ID="LN">3395</FONT><A NAME="3395"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3396</FONT><A NAME="3396"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = entries == <FONT ID="Null">null</FONT> ? <FONT ID="IntegerLiteral">0</FONT> : entries.length;<br><FONT ID="LN">3397</FONT><A NAME="3397"></A><br><FONT ID="LN">3398</FONT><A NAME="3398"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(count);<br><FONT ID="LN">3399</FONT><A NAME="3399"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i)<br><FONT ID="LN">3400</FONT><A NAME="3400"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveClasspathEntry(entries[i]);<br><FONT ID="LN">3401</FONT><A NAME="3401"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3402</FONT><A NAME="3402"></A><br><FONT ID="LN">3403</FONT><A NAME="3403"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveClasspathEntry(IClasspathEntry entry)<br><FONT ID="LN">3404</FONT><A NAME="3404"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3405</FONT><A NAME="3405"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (saveNewId(entry, <FONT ID="This">this</FONT>.classpathEntryIds)) {<br><FONT ID="LN">3406</FONT><A NAME="3406"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(entry.getContentKind());<br><FONT ID="LN">3407</FONT><A NAME="3407"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(entry.getEntryKind());<br><FONT ID="LN">3408</FONT><A NAME="3408"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savePath(entry.getPath());<br><FONT ID="LN">3409</FONT><A NAME="3409"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savePaths(entry.getInclusionPatterns());<br><FONT ID="LN">3410</FONT><A NAME="3410"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savePaths(entry.getExclusionPatterns());<br><FONT ID="LN">3411</FONT><A NAME="3411"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savePath(entry.getSourceAttachmentPath());<br><FONT ID="LN">3412</FONT><A NAME="3412"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savePath(entry.getSourceAttachmentRootPath());<br><FONT ID="LN">3413</FONT><A NAME="3413"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savePath(entry.getOutputLocation());<br><FONT ID="LN">3414</FONT><A NAME="3414"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.out.writeBoolean(entry.isExported());<br><FONT ID="LN">3415</FONT><A NAME="3415"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveAccessRules(entry.getAccessRules());<br><FONT ID="LN">3416</FONT><A NAME="3416"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.out.writeBoolean(entry.combineAccessRules());<br><FONT ID="LN">3417</FONT><A NAME="3417"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveAttributes(entry.getExtraAttributes());<br><FONT ID="LN">3418</FONT><A NAME="3418"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3419</FONT><A NAME="3419"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3420</FONT><A NAME="3420"></A><br><FONT ID="LN">3421</FONT><A NAME="3421"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveContainers(IJavaProject project, Map containerMap)<br><FONT ID="LN">3422</FONT><A NAME="3422"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3423</FONT><A NAME="3423"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(containerMap.size());<br><FONT ID="LN">3424</FONT><A NAME="3424"></A><br><FONT ID="LN">3425</FONT><A NAME="3425"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (Iterator i = containerMap.entrySet().iterator(); i.hasNext();) {<br><FONT ID="LN">3426</FONT><A NAME="3426"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../../1993.htm">Entry</A> entry = (<A HREF="../../../../../../1993.htm">Entry</A>) i.next();<br><FONT ID="LN">3427</FONT><A NAME="3427"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath path = (IPath) entry.getKey();<br><FONT ID="LN">3428</FONT><A NAME="3428"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathContainer container = (IClasspathContainer) entry.getValue();<br><FONT ID="LN">3429</FONT><A NAME="3429"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IClasspathEntry[] cpEntries = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3430</FONT><A NAME="3430"></A><br><FONT ID="LN">3431</FONT><A NAME="3431"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3432</FONT><A NAME="3432"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// container has not been initialized yet, use previous<br><FONT ID="LN">3433</FONT><A NAME="3433"></A></FONT>                    <FONT ID="SingleLineComment">// session value<br><FONT ID="LN">3434</FONT><A NAME="3434"></A></FONT>                    <FONT ID="SingleLineComment">// (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=73969)<br><FONT ID="LN">3435</FONT><A NAME="3435"></A></FONT>                    container = JavaModelManager.<FONT ID="This">this</FONT>.getPreviousSessionContainer(path, project);<br><FONT ID="LN">3436</FONT><A NAME="3436"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3437</FONT><A NAME="3437"></A><br><FONT ID="LN">3438</FONT><A NAME="3438"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (container != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">3439</FONT><A NAME="3439"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cpEntries = container.getClasspathEntries();<br><FONT ID="LN">3440</FONT><A NAME="3440"></A><br><FONT ID="LN">3441</FONT><A NAME="3441"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savePath(path);<br><FONT ID="LN">3442</FONT><A NAME="3442"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveClasspathEntries(cpEntries);<br><FONT ID="LN">3443</FONT><A NAME="3443"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3444</FONT><A NAME="3444"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3445</FONT><A NAME="3445"></A><br><FONT ID="LN">3446</FONT><A NAME="3446"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveInt(<FONT ID="Int">int</FONT> value) <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3447</FONT><A NAME="3447"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.out.writeInt(value);<br><FONT ID="LN">3448</FONT><A NAME="3448"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3449</FONT><A NAME="3449"></A><br><FONT ID="LN">3450</FONT><A NAME="3450"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> saveNewId(<A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> key, <A HREF="../../../../../org/eclipse/jdt/internal/compiler/util/HashtableOfObjectToInt.java.htm">HashtableOfObjectToInt</A> map) <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3451</FONT><A NAME="3451"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> id = map.get(key);<br><FONT ID="LN">3452</FONT><A NAME="3452"></A><br><FONT ID="LN">3453</FONT><A NAME="3453"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (id == -<FONT ID="IntegerLiteral">1</FONT>) {<br><FONT ID="LN">3454</FONT><A NAME="3454"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> newId = map.size();<br><FONT ID="LN">3455</FONT><A NAME="3455"></A><br><FONT ID="LN">3456</FONT><A NAME="3456"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(key, newId);<br><FONT ID="LN">3457</FONT><A NAME="3457"></A><br><FONT ID="LN">3458</FONT><A NAME="3458"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(newId);<br><FONT ID="LN">3459</FONT><A NAME="3459"></A><br><FONT ID="LN">3460</FONT><A NAME="3460"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;<br><FONT ID="LN">3461</FONT><A NAME="3461"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">3462</FONT><A NAME="3462"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(id);<br><FONT ID="LN">3463</FONT><A NAME="3463"></A><br><FONT ID="LN">3464</FONT><A NAME="3464"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">3465</FONT><A NAME="3465"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3466</FONT><A NAME="3466"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3467</FONT><A NAME="3467"></A><br><FONT ID="LN">3468</FONT><A NAME="3468"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> savePath(IPath path) <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3469</FONT><A NAME="3469"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (path == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3470</FONT><A NAME="3470"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.out.writeBoolean(<FONT ID="True">true</FONT>);<br><FONT ID="LN">3471</FONT><A NAME="3471"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">3472</FONT><A NAME="3472"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.out.writeBoolean(<FONT ID="False">false</FONT>);<br><FONT ID="LN">3473</FONT><A NAME="3473"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveString(path.toPortableString());<br><FONT ID="LN">3474</FONT><A NAME="3474"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3475</FONT><A NAME="3475"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3476</FONT><A NAME="3476"></A><br><FONT ID="LN">3477</FONT><A NAME="3477"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> savePaths(IPath[] paths) <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3478</FONT><A NAME="3478"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = paths == <FONT ID="Null">null</FONT> ? <FONT ID="IntegerLiteral">0</FONT> : paths.length;<br><FONT ID="LN">3479</FONT><A NAME="3479"></A><br><FONT ID="LN">3480</FONT><A NAME="3480"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(count);<br><FONT ID="LN">3481</FONT><A NAME="3481"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i)<br><FONT ID="LN">3482</FONT><A NAME="3482"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savePath(paths[i]);<br><FONT ID="LN">3483</FONT><A NAME="3483"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3484</FONT><A NAME="3484"></A><br><FONT ID="LN">3485</FONT><A NAME="3485"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveProjects(IJavaProject[] projects) <FONT ID="Throws">throws</FONT> IOException,<br><FONT ID="LN">3486</FONT><A NAME="3486"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaModelException {<br><FONT ID="LN">3487</FONT><A NAME="3487"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> count = projects.length;<br><FONT ID="LN">3488</FONT><A NAME="3488"></A><br><FONT ID="LN">3489</FONT><A NAME="3489"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(count);<br><FONT ID="LN">3490</FONT><A NAME="3490"></A><br><FONT ID="LN">3491</FONT><A NAME="3491"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; count; ++i) {<br><FONT ID="LN">3492</FONT><A NAME="3492"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IJavaProject project = projects[i];<br><FONT ID="LN">3493</FONT><A NAME="3493"></A><br><FONT ID="LN">3494</FONT><A NAME="3494"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveString(project.getElementName());<br><FONT ID="LN">3495</FONT><A NAME="3495"></A><br><FONT ID="LN">3496</FONT><A NAME="3496"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map containerMap = (Map) JavaModelManager.<FONT ID="This">this</FONT>.containers.get(project);<br><FONT ID="LN">3497</FONT><A NAME="3497"></A><br><FONT ID="LN">3498</FONT><A NAME="3498"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (containerMap == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3499</FONT><A NAME="3499"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerMap = Collections.EMPTY_MAP;<br><FONT ID="LN">3500</FONT><A NAME="3500"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">3501</FONT><A NAME="3501"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// clone while iterating<br><FONT ID="LN">3502</FONT><A NAME="3502"></A></FONT>                    <FONT ID="SingleLineComment">// (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=59638)<br><FONT ID="LN">3503</FONT><A NAME="3503"></A></FONT>                    containerMap = <FONT ID="New">new</FONT> HashMap(containerMap);<br><FONT ID="LN">3504</FONT><A NAME="3504"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3505</FONT><A NAME="3505"></A><br><FONT ID="LN">3506</FONT><A NAME="3506"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveContainers(project, containerMap);<br><FONT ID="LN">3507</FONT><A NAME="3507"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3508</FONT><A NAME="3508"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3509</FONT><A NAME="3509"></A><br><FONT ID="LN">3510</FONT><A NAME="3510"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveString(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> string) <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3511</FONT><A NAME="3511"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (saveNewId(string, <FONT ID="This">this</FONT>.stringIds))<br><FONT ID="LN">3512</FONT><A NAME="3512"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.out.writeUTF(string);<br><FONT ID="LN">3513</FONT><A NAME="3513"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3514</FONT><A NAME="3514"></A><br><FONT ID="LN">3515</FONT><A NAME="3515"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> saveVariables(Map map) <FONT ID="Throws">throws</FONT> IOException {<br><FONT ID="LN">3516</FONT><A NAME="3516"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveInt(map.size());<br><FONT ID="LN">3517</FONT><A NAME="3517"></A><br><FONT ID="LN">3518</FONT><A NAME="3518"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (Iterator i = map.entrySet().iterator(); i.hasNext();) {<br><FONT ID="LN">3519</FONT><A NAME="3519"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../../1993.htm">Entry</A> entry = (<A HREF="../../../../../../1993.htm">Entry</A>) i.next();<br><FONT ID="LN">3520</FONT><A NAME="3520"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> varName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getKey();<br><FONT ID="LN">3521</FONT><A NAME="3521"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath varPath = (IPath) entry.getValue();<br><FONT ID="LN">3522</FONT><A NAME="3522"></A><br><FONT ID="LN">3523</FONT><A NAME="3523"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveString(varName);<br><FONT ID="LN">3524</FONT><A NAME="3524"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savePath(varPath);<br><FONT ID="LN">3525</FONT><A NAME="3525"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3526</FONT><A NAME="3526"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3527</FONT><A NAME="3527"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3528</FONT><A NAME="3528"></A><br><FONT ID="LN">3529</FONT><A NAME="3529"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> traceVariableAndContainers(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> action, <FONT ID="Long">long</FONT> start) {<br><FONT ID="LN">3530</FONT><A NAME="3530"></A><br><FONT ID="LN">3531</FONT><A NAME="3531"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Long.java.htm">Long</A>  <A HREF= "/892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> delta = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/Long.java.htm">Long</A>  <A HREF= "/892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(System.currentTimeMillis() - start);<br><FONT ID="LN">3532</FONT><A NAME="3532"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/Long.java.htm">Long</A>  <A HREF= "/892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> length = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/Long.java.htm">Long</A>  <A HREF= "/892.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(getVariableAndContainersFile().length());<br><FONT ID="LN">3533</FONT><A NAME="3533"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> pattern = <FONT ID="StringLiteral">"{0} {1} bytes in variablesAndContainers.dat in {2}ms"</FONT>; <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3534</FONT><A NAME="3534"></A></FONT>        <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> message = MessageFormat.format(pattern, <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[]{action, length, delta});<br><FONT ID="LN">3535</FONT><A NAME="3535"></A><br><FONT ID="LN">3536</FONT><A NAME="3536"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(message);<br><FONT ID="LN">3537</FONT><A NAME="3537"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3538</FONT><A NAME="3538"></A><br><FONT ID="LN">3539</FONT><A NAME="3539"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">3540</FONT><A NAME="3540"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @see ISaveParticipant<br><FONT ID="LN">3541</FONT><A NAME="3541"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3542</FONT><A NAME="3542"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> saving(ISaveContext context) <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">3543</FONT><A NAME="3543"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3544</FONT><A NAME="3544"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Long">long</FONT> start = -<FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">3545</FONT><A NAME="3545"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE)<br><FONT ID="LN">3546</FONT><A NAME="3546"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start = System.currentTimeMillis();<br><FONT ID="LN">3547</FONT><A NAME="3547"></A><br><FONT ID="LN">3548</FONT><A NAME="3548"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// save variable and container values on snapshot/full save<br><FONT ID="LN">3549</FONT><A NAME="3549"></A></FONT>        saveVariablesAndContainers(context);<br><FONT ID="LN">3550</FONT><A NAME="3550"></A><br><FONT ID="LN">3551</FONT><A NAME="3551"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE)<br><FONT ID="LN">3552</FONT><A NAME="3552"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;traceVariableAndContainers(<FONT ID="StringLiteral">"Saved"</FONT>, start); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3553</FONT><A NAME="3553"></A></FONT>        <br><FONT ID="LN">3554</FONT><A NAME="3554"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (context.getKind() == ISaveContext.FULL_SAVE) {<br><FONT ID="LN">3555</FONT><A NAME="3555"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// will need delta since this save (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=38658)<br><FONT ID="LN">3556</FONT><A NAME="3556"></A></FONT>            context.needDelta();<br><FONT ID="LN">3557</FONT><A NAME="3557"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3558</FONT><A NAME="3558"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// clean up indexes on workspace full save<br><FONT ID="LN">3559</FONT><A NAME="3559"></A></FONT>            <FONT ID="SingleLineComment">// (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=52347)<br><FONT ID="LN">3560</FONT><A NAME="3560"></A></FONT>            <A HREF="../../../../../org/eclipse/jdt/internal/core/search/indexing/IndexManager.java.htm">IndexManager</A> manager = <FONT ID="This">this</FONT>.indexManager;<br><FONT ID="LN">3561</FONT><A NAME="3561"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (manager != <FONT ID="Null">null</FONT> <br><FONT ID="LN">3562</FONT><A NAME="3562"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// don't force initialization of workspace scope as we could be shutting down<br><FONT ID="LN">3563</FONT><A NAME="3563"></A></FONT>                    <FONT ID="SingleLineComment">// (see https://bugs.eclipse.org/bugs/show_bug.cgi?id=93941)<br><FONT ID="LN">3564</FONT><A NAME="3564"></A></FONT>                    &amp;&amp; <FONT ID="This">this</FONT>.workspaceScope != <FONT ID="Null">null</FONT>) { <br><FONT ID="LN">3565</FONT><A NAME="3565"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;manager.cleanUpIndexes();<br><FONT ID="LN">3566</FONT><A NAME="3566"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3567</FONT><A NAME="3567"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3568</FONT><A NAME="3568"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3569</FONT><A NAME="3569"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProject savedProject = context.getProject();<br><FONT ID="LN">3570</FONT><A NAME="3570"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (savedProject != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3571</FONT><A NAME="3571"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!JavaProject.hasJavaNature(savedProject)) <FONT ID="Return">return</FONT>; <FONT ID="SingleLineComment">// ignore<br><FONT ID="LN">3572</FONT><A NAME="3572"></A></FONT>            PerProjectInfo info = getPerProjectInfo(savedProject, <FONT ID="True">true</FONT> <FONT ID="MultiLineComment">/* create info */</FONT>);<br><FONT ID="LN">3573</FONT><A NAME="3573"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveState(info, context);<br><FONT ID="LN">3574</FONT><A NAME="3574"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info.rememberExternalLibTimestamps();<br><FONT ID="LN">3575</FONT><A NAME="3575"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT>;<br><FONT ID="LN">3576</FONT><A NAME="3576"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3577</FONT><A NAME="3577"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3578</FONT><A NAME="3578"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ArrayList vStats= <FONT ID="Null">null</FONT>; <FONT ID="SingleLineComment">// lazy initialized<br><FONT ID="LN">3579</FONT><A NAME="3579"></A></FONT>        ArrayList values = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3580</FONT><A NAME="3580"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Synchronized">synchronized</FONT>(<FONT ID="This">this</FONT>.perProjectInfos) {<br><FONT ID="LN">3581</FONT><A NAME="3581"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values = <FONT ID="New">new</FONT> ArrayList(<FONT ID="This">this</FONT>.perProjectInfos.values());<br><FONT ID="LN">3582</FONT><A NAME="3582"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3583</FONT><A NAME="3583"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator iterator = values.iterator();<br><FONT ID="LN">3584</FONT><A NAME="3584"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (iterator.hasNext()) {<br><FONT ID="LN">3585</FONT><A NAME="3585"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3586</FONT><A NAME="3586"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PerProjectInfo info = (PerProjectInfo) iterator.next();<br><FONT ID="LN">3587</FONT><A NAME="3587"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveState(info, context);<br><FONT ID="LN">3588</FONT><A NAME="3588"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info.rememberExternalLibTimestamps();<br><FONT ID="LN">3589</FONT><A NAME="3589"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (CoreException e) {<br><FONT ID="LN">3590</FONT><A NAME="3590"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (vStats == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">3591</FONT><A NAME="3591"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vStats= <FONT ID="New">new</FONT> ArrayList();<br><FONT ID="LN">3592</FONT><A NAME="3592"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vStats.add(e.getStatus());<br><FONT ID="LN">3593</FONT><A NAME="3593"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3594</FONT><A NAME="3594"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3595</FONT><A NAME="3595"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (vStats != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3596</FONT><A NAME="3596"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IStatus[] stats= <FONT ID="New">new</FONT> IStatus[vStats.size()];<br><FONT ID="LN">3597</FONT><A NAME="3597"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vStats.toArray(stats);<br><FONT ID="LN">3598</FONT><A NAME="3598"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> CoreException(<FONT ID="New">new</FONT> MultiStatus(JavaCore.PLUGIN_ID, IStatus.ERROR, stats, Messages.build_cannotSaveStates, <FONT ID="Null">null</FONT>)); <br><FONT ID="LN">3599</FONT><A NAME="3599"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3600</FONT><A NAME="3600"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3601</FONT><A NAME="3601"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// save external libs timestamps<br><FONT ID="LN">3602</FONT><A NAME="3602"></A></FONT>        <FONT ID="This">this</FONT>.deltaState.saveExternalLibTimeStamps();<br><FONT ID="LN">3603</FONT><A NAME="3603"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3604</FONT><A NAME="3604"></A><br><FONT ID="LN">3605</FONT><A NAME="3605"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">3606</FONT><A NAME="3606"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Add a secondary type in temporary indexing cache for a project got from given path.<br><FONT ID="LN">3607</FONT><A NAME="3607"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">3608</FONT><A NAME="3608"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Current secondary types cache is not modified as we want to wait that indexing<br><FONT ID="LN">3609</FONT><A NAME="3609"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* was finished before taking new secondary types into account.<br><FONT ID="LN">3610</FONT><A NAME="3610"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">3611</FONT><A NAME="3611"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Indexing cache is a specific entry in secondary types cache which key is<br><FONT ID="LN">3612</FONT><A NAME="3612"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* {@link #INDEXED_SECONDARY_TYPES } and value a map with same structure than<br><FONT ID="LN">3613</FONT><A NAME="3613"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* secondary types cache itself.<br><FONT ID="LN">3614</FONT><A NAME="3614"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">3615</FONT><A NAME="3615"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @see #secondaryTypes(IJavaProject, boolean, IProgressMonitor)<br><FONT ID="LN">3616</FONT><A NAME="3616"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3617</FONT><A NAME="3617"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> secondaryTypeAdding(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> path, <FONT ID="Char">char</FONT>[] typeName, <FONT ID="Char">char</FONT>[] packageName) {<br><FONT ID="LN">3618</FONT><A NAME="3618"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE) {<br><FONT ID="LN">3619</FONT><A NAME="3619"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"JavaModelManager.addSecondaryType("</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3620</FONT><A NAME="3620"></A></FONT>            buffer.append(path);<br><FONT ID="LN">3621</FONT><A NAME="3621"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">','</FONT>);<br><FONT ID="LN">3622</FONT><A NAME="3622"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">'['</FONT>);<br><FONT ID="LN">3623</FONT><A NAME="3623"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(packageName));<br><FONT ID="LN">3624</FONT><A NAME="3624"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">'.'</FONT>);<br><FONT ID="LN">3625</FONT><A NAME="3625"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(typeName));<br><FONT ID="LN">3626</FONT><A NAME="3626"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">']'</FONT>);<br><FONT ID="LN">3627</FONT><A NAME="3627"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">')'</FONT>);<br><FONT ID="LN">3628</FONT><A NAME="3628"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(buffer.toString());<br><FONT ID="LN">3629</FONT><A NAME="3629"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3630</FONT><A NAME="3630"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IWorkspaceRoot wRoot = ResourcesPlugin.getWorkspace().getRoot();<br><FONT ID="LN">3631</FONT><A NAME="3631"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IResource resource = wRoot.findMember(path);<br><FONT ID="LN">3632</FONT><A NAME="3632"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (resource != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3633</FONT><A NAME="3633"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (org.eclipse.jdt.internal.core.util.Util.isJavaLikeFileName(path) &amp;&amp; resource.getType() == IResource.FILE) {<br><FONT ID="LN">3634</FONT><A NAME="3634"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IProject project = resource.getProject();<br><FONT ID="LN">3635</FONT><A NAME="3635"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3636</FONT><A NAME="3636"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PerProjectInfo projectInfo = getPerProjectInfoCheckExistence(project);<br><FONT ID="LN">3637</FONT><A NAME="3637"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Get or create map to cache secondary types while indexing (can be not synchronized as indexing insure a non-concurrent usage)<br><FONT ID="LN">3638</FONT><A NAME="3638"></A></FONT>                    HashMap indexedSecondaryTypes = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3639</FONT><A NAME="3639"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectInfo.secondaryTypes == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3640</FONT><A NAME="3640"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectInfo.secondaryTypes = <FONT ID="New">new</FONT> Hashtable(<FONT ID="IntegerLiteral">3</FONT>);<br><FONT ID="LN">3641</FONT><A NAME="3641"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexedSecondaryTypes = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">3</FONT>);<br><FONT ID="LN">3642</FONT><A NAME="3642"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectInfo.secondaryTypes.put(INDEXED_SECONDARY_TYPES, indexedSecondaryTypes);<br><FONT ID="LN">3643</FONT><A NAME="3643"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">3644</FONT><A NAME="3644"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexedSecondaryTypes = (HashMap) projectInfo.secondaryTypes.get(INDEXED_SECONDARY_TYPES);<br><FONT ID="LN">3645</FONT><A NAME="3645"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (indexedSecondaryTypes == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3646</FONT><A NAME="3646"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexedSecondaryTypes = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">3</FONT>);<br><FONT ID="LN">3647</FONT><A NAME="3647"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectInfo.secondaryTypes.put(INDEXED_SECONDARY_TYPES, indexedSecondaryTypes);<br><FONT ID="LN">3648</FONT><A NAME="3648"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3649</FONT><A NAME="3649"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3650</FONT><A NAME="3650"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Store the secondary type in temporary cache (these are just handles =&gt; no problem to create it now...)<br><FONT ID="LN">3651</FONT><A NAME="3651"></A></FONT>                    HashMap allTypes = (HashMap) indexedSecondaryTypes.get(resource);<br><FONT ID="LN">3652</FONT><A NAME="3652"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (allTypes == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3653</FONT><A NAME="3653"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allTypes = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">3</FONT>);<br><FONT ID="LN">3654</FONT><A NAME="3654"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexedSecondaryTypes.put(resource, allTypes);<br><FONT ID="LN">3655</FONT><A NAME="3655"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3656</FONT><A NAME="3656"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ICompilationUnit unit = JavaModelManager.createCompilationUnitFrom((IFile)resource, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">3657</FONT><A NAME="3657"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (unit != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3658</FONT><A NAME="3658"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> typeString = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(typeName);<br><FONT ID="LN">3659</FONT><A NAME="3659"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> packageString = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(packageName);<br><FONT ID="LN">3660</FONT><A NAME="3660"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap packageTypes = (HashMap) allTypes.get(packageString);<br><FONT ID="LN">3661</FONT><A NAME="3661"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (packageTypes == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3662</FONT><A NAME="3662"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;packageTypes = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">3</FONT>);<br><FONT ID="LN">3663</FONT><A NAME="3663"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allTypes.put(packageString, packageTypes);<br><FONT ID="LN">3664</FONT><A NAME="3664"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3665</FONT><A NAME="3665"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;packageTypes.put(typeString, unit.getType(typeString));<br><FONT ID="LN">3666</FONT><A NAME="3666"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3667</FONT><A NAME="3667"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE) {<br><FONT ID="LN">3668</FONT><A NAME="3668"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<FONT ID="StringLiteral">"  - indexing cache:"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3669</FONT><A NAME="3669"></A></FONT>                        Iterator entries = indexedSecondaryTypes.entrySet().iterator();<br><FONT ID="LN">3670</FONT><A NAME="3670"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (entries.hasNext()) {<br><FONT ID="LN">3671</FONT><A NAME="3671"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) entries.next();<br><FONT ID="LN">3672</FONT><A NAME="3672"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IFile file = (IFile) entry.getKey();<br><FONT ID="LN">3673</FONT><A NAME="3673"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<FONT ID="StringLiteral">"      + "</FONT>+file.getFullPath()+<FONT ID="CharacerLiteral">':'</FONT>+ entry.getValue()); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3674</FONT><A NAME="3674"></A></FONT>                        }<br><FONT ID="LN">3675</FONT><A NAME="3675"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3676</FONT><A NAME="3676"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3677</FONT><A NAME="3677"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Catch">catch</FONT> (JavaModelException jme) {<br><FONT ID="LN">3678</FONT><A NAME="3678"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// do nothing<br><FONT ID="LN">3679</FONT><A NAME="3679"></A></FONT>                }<br><FONT ID="LN">3680</FONT><A NAME="3680"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3681</FONT><A NAME="3681"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3682</FONT><A NAME="3682"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3683</FONT><A NAME="3683"></A><br><FONT ID="LN">3684</FONT><A NAME="3684"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">3685</FONT><A NAME="3685"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Get all secondary types for a project and store result in per project info cache.<br><FONT ID="LN">3686</FONT><A NAME="3686"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">3687</FONT><A NAME="3687"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This cache is an Hashtable&lt;String, HashMap&lt;String, IType&gt;&gt;:<br><FONT ID="LN">3688</FONT><A NAME="3688"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  - key: package name<br><FONT ID="LN">3689</FONT><A NAME="3689"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  - value:<br><FONT ID="LN">3690</FONT><A NAME="3690"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*      + key: type name<br><FONT ID="LN">3691</FONT><A NAME="3691"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*      + value: java model handle for the secondary type<br><FONT ID="LN">3692</FONT><A NAME="3692"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Hashtable was used to protect callers from possible concurrent access.<br><FONT ID="LN">3693</FONT><A NAME="3693"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">3694</FONT><A NAME="3694"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Note that this map may have a specific entry which key is {@link #INDEXED_SECONDARY_TYPES }<br><FONT ID="LN">3695</FONT><A NAME="3695"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* and value is a map containing all secondary types created during indexing.<br><FONT ID="LN">3696</FONT><A NAME="3696"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* When this key is in cache and indexing is finished, returned map is merged<br><FONT ID="LN">3697</FONT><A NAME="3697"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* with the value of this special key. If indexing is not finished and caller does<br><FONT ID="LN">3698</FONT><A NAME="3698"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* not wait for the end of indexing, returned map is the current secondary<br><FONT ID="LN">3699</FONT><A NAME="3699"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* types cache content which may be invalid...<br><FONT ID="LN">3700</FONT><A NAME="3700"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">3701</FONT><A NAME="3701"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param project Project we want get secondary types from<br><FONT ID="LN">3702</FONT><A NAME="3702"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @return HashMap Table of secondary type names-&gt;path for given project<br><FONT ID="LN">3703</FONT><A NAME="3703"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3704</FONT><A NAME="3704"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> Map secondaryTypes(IJavaProject project, <FONT ID="Boolean">boolean</FONT> waitForIndexes, IProgressMonitor monitor) <FONT ID="Throws">throws</FONT> JavaModelException {<br><FONT ID="LN">3705</FONT><A NAME="3705"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE) {<br><FONT ID="LN">3706</FONT><A NAME="3706"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"JavaModelManager.secondaryTypes("</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3707</FONT><A NAME="3707"></A></FONT>            buffer.append(project.getElementName());<br><FONT ID="LN">3708</FONT><A NAME="3708"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">','</FONT>);<br><FONT ID="LN">3709</FONT><A NAME="3709"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(waitForIndexes);<br><FONT ID="LN">3710</FONT><A NAME="3710"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">')'</FONT>);<br><FONT ID="LN">3711</FONT><A NAME="3711"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(buffer.toString());<br><FONT ID="LN">3712</FONT><A NAME="3712"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3713</FONT><A NAME="3713"></A><br><FONT ID="LN">3714</FONT><A NAME="3714"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Return cache if not empty and there's no new secondary types created during indexing<br><FONT ID="LN">3715</FONT><A NAME="3715"></A></FONT>        <FONT ID="Final">final</FONT> PerProjectInfo projectInfo = getPerProjectInfoCheckExistence(project.getProject());<br><FONT ID="LN">3716</FONT><A NAME="3716"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map indexingSecondaryCache = projectInfo.secondaryTypes == <FONT ID="Null">null</FONT> ? <FONT ID="Null">null</FONT> : (Map) projectInfo.secondaryTypes.get(INDEXED_SECONDARY_TYPES);<br><FONT ID="LN">3717</FONT><A NAME="3717"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectInfo.secondaryTypes != <FONT ID="Null">null</FONT> &amp;&amp; indexingSecondaryCache == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3718</FONT><A NAME="3718"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> projectInfo.secondaryTypes;<br><FONT ID="LN">3719</FONT><A NAME="3719"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3720</FONT><A NAME="3720"></A><br><FONT ID="LN">3721</FONT><A NAME="3721"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Perform search request only if secondary types cache is not initialized yet (this will happen only once!)<br><FONT ID="LN">3722</FONT><A NAME="3722"></A></FONT>        <FONT ID="If">if</FONT> (projectInfo.secondaryTypes == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3723</FONT><A NAME="3723"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> secondaryTypesSearching(project, waitForIndexes, monitor, projectInfo);<br><FONT ID="LN">3724</FONT><A NAME="3724"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3725</FONT><A NAME="3725"></A><br><FONT ID="LN">3726</FONT><A NAME="3726"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// New secondary types have been created while indexing secondary types cache<br><FONT ID="LN">3727</FONT><A NAME="3727"></A></FONT>        <FONT ID="SingleLineComment">// =&gt; need to know whether the indexing is finished or not<br><FONT ID="LN">3728</FONT><A NAME="3728"></A></FONT>        <FONT ID="Boolean">boolean</FONT> indexing = <FONT ID="This">this</FONT>.indexManager.awaitingJobsCount() &gt; <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">3729</FONT><A NAME="3729"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (indexing) {<br><FONT ID="LN">3730</FONT><A NAME="3730"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!waitForIndexes)  {<br><FONT ID="LN">3731</FONT><A NAME="3731"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Indexing is running but caller cannot wait =&gt; return current cache<br><FONT ID="LN">3732</FONT><A NAME="3732"></A></FONT>                <FONT ID="Return">return</FONT> projectInfo.secondaryTypes;<br><FONT ID="LN">3733</FONT><A NAME="3733"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3734</FONT><A NAME="3734"></A><br><FONT ID="LN">3735</FONT><A NAME="3735"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Wait for the end of indexing or a cancel<br><FONT ID="LN">3736</FONT><A NAME="3736"></A></FONT>            <FONT ID="While">while</FONT> (<FONT ID="This">this</FONT>.indexManager.awaitingJobsCount() &gt; <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">3737</FONT><A NAME="3737"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (monitor != <FONT ID="Null">null</FONT> &amp;&amp; monitor.isCanceled()) {<br><FONT ID="LN">3738</FONT><A NAME="3738"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> projectInfo.secondaryTypes;<br><FONT ID="LN">3739</FONT><A NAME="3739"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3740</FONT><A NAME="3740"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">3741</FONT><A NAME="3741"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thread.sleep(<FONT ID="IntegerLiteral">10</FONT>);<br><FONT ID="LN">3742</FONT><A NAME="3742"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../java/lang/InterruptedException.java.htm">InterruptedException</A>  <A HREF= "/2811.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e) {<br><FONT ID="LN">3743</FONT><A NAME="3743"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> projectInfo.secondaryTypes;<br><FONT ID="LN">3744</FONT><A NAME="3744"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3745</FONT><A NAME="3745"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3746</FONT><A NAME="3746"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3747</FONT><A NAME="3747"></A><br><FONT ID="LN">3748</FONT><A NAME="3748"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Indexing is finished =&gt; merge caches and return result<br><FONT ID="LN">3749</FONT><A NAME="3749"></A></FONT>        <FONT ID="Return">return</FONT> secondaryTypesMerging(projectInfo.secondaryTypes);<br><FONT ID="LN">3750</FONT><A NAME="3750"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3751</FONT><A NAME="3751"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3752</FONT><A NAME="3752"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">3753</FONT><A NAME="3753"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Return secondary types cache merged with new secondary types created while indexing<br><FONT ID="LN">3754</FONT><A NAME="3754"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Note that merge result is directly stored in given parameter map.<br><FONT ID="LN">3755</FONT><A NAME="3755"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3756</FONT><A NAME="3756"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> Hashtable secondaryTypesMerging(Hashtable secondaryTypes) {<br><FONT ID="LN">3757</FONT><A NAME="3757"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE) {<br><FONT ID="LN">3758</FONT><A NAME="3758"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<FONT ID="StringLiteral">"JavaModelManager.getSecondaryTypesMerged()"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3759</FONT><A NAME="3759"></A></FONT>            Util.verbose(<FONT ID="StringLiteral">"  - current cache to merge:"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3760</FONT><A NAME="3760"></A></FONT>            Iterator entries = secondaryTypes.entrySet().iterator();<br><FONT ID="LN">3761</FONT><A NAME="3761"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (entries.hasNext()) {<br><FONT ID="LN">3762</FONT><A NAME="3762"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) entries.next();<br><FONT ID="LN">3763</FONT><A NAME="3763"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> packName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getKey();<br><FONT ID="LN">3764</FONT><A NAME="3764"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<FONT ID="StringLiteral">"      + "</FONT>+packName+<FONT ID="CharacerLiteral">':'</FONT>+ entry.getValue() ); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3765</FONT><A NAME="3765"></A></FONT>            }<br><FONT ID="LN">3766</FONT><A NAME="3766"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3767</FONT><A NAME="3767"></A><br><FONT ID="LN">3768</FONT><A NAME="3768"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Return current cache if there's no indexing cache (double check, this should not happen)<br><FONT ID="LN">3769</FONT><A NAME="3769"></A></FONT>        HashMap indexedSecondaryTypes = (HashMap) secondaryTypes.remove(INDEXED_SECONDARY_TYPES);<br><FONT ID="LN">3770</FONT><A NAME="3770"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (indexedSecondaryTypes == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3771</FONT><A NAME="3771"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> secondaryTypes;<br><FONT ID="LN">3772</FONT><A NAME="3772"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3773</FONT><A NAME="3773"></A><br><FONT ID="LN">3774</FONT><A NAME="3774"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Merge indexing cache in secondary types one<br><FONT ID="LN">3775</FONT><A NAME="3775"></A></FONT>        Iterator entries = indexedSecondaryTypes.entrySet().iterator();<br><FONT ID="LN">3776</FONT><A NAME="3776"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (entries.hasNext()) {<br><FONT ID="LN">3777</FONT><A NAME="3777"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) entries.next();<br><FONT ID="LN">3778</FONT><A NAME="3778"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IFile file = (IFile) entry.getKey();<br><FONT ID="LN">3779</FONT><A NAME="3779"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3780</FONT><A NAME="3780"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Remove all secondary types of indexed file from cache<br><FONT ID="LN">3781</FONT><A NAME="3781"></A></FONT>            secondaryTypesRemoving(secondaryTypes, file);<br><FONT ID="LN">3782</FONT><A NAME="3782"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3783</FONT><A NAME="3783"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Add all indexing file secondary types in given secondary types cache<br><FONT ID="LN">3784</FONT><A NAME="3784"></A></FONT>            HashMap fileSecondaryTypes = (HashMap) entry.getValue();<br><FONT ID="LN">3785</FONT><A NAME="3785"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator entries2 = fileSecondaryTypes.entrySet().iterator();<br><FONT ID="LN">3786</FONT><A NAME="3786"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (entries2.hasNext()) {<br><FONT ID="LN">3787</FONT><A NAME="3787"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry2 = (Map.Entry) entries2.next();<br><FONT ID="LN">3788</FONT><A NAME="3788"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> packageName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry2.getKey();<br><FONT ID="LN">3789</FONT><A NAME="3789"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap cachedTypes = (HashMap) secondaryTypes.get(packageName);<br><FONT ID="LN">3790</FONT><A NAME="3790"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (cachedTypes == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3791</FONT><A NAME="3791"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;secondaryTypes.put(packageName, entry2.getValue());<br><FONT ID="LN">3792</FONT><A NAME="3792"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">3793</FONT><A NAME="3793"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap types = (HashMap) entry2.getValue();<br><FONT ID="LN">3794</FONT><A NAME="3794"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator entries3 = types.entrySet().iterator();<br><FONT ID="LN">3795</FONT><A NAME="3795"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (entries3.hasNext()) {<br><FONT ID="LN">3796</FONT><A NAME="3796"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry3 = (Map.Entry) entries3.next();<br><FONT ID="LN">3797</FONT><A NAME="3797"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> typeName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry3.getKey();<br><FONT ID="LN">3798</FONT><A NAME="3798"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cachedTypes.put(typeName, entry3.getValue());<br><FONT ID="LN">3799</FONT><A NAME="3799"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3800</FONT><A NAME="3800"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3801</FONT><A NAME="3801"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3802</FONT><A NAME="3802"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3803</FONT><A NAME="3803"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE) {<br><FONT ID="LN">3804</FONT><A NAME="3804"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<FONT ID="StringLiteral">"  - secondary types cache merged:"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3805</FONT><A NAME="3805"></A></FONT>            entries = secondaryTypes.entrySet().iterator();<br><FONT ID="LN">3806</FONT><A NAME="3806"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (entries.hasNext()) {<br><FONT ID="LN">3807</FONT><A NAME="3807"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) entries.next();<br><FONT ID="LN">3808</FONT><A NAME="3808"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> packName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getKey();<br><FONT ID="LN">3809</FONT><A NAME="3809"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<FONT ID="StringLiteral">"      + "</FONT>+packName+<FONT ID="CharacerLiteral">':'</FONT>+ entry.getValue()); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3810</FONT><A NAME="3810"></A></FONT>            }<br><FONT ID="LN">3811</FONT><A NAME="3811"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3812</FONT><A NAME="3812"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> secondaryTypes;<br><FONT ID="LN">3813</FONT><A NAME="3813"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3814</FONT><A NAME="3814"></A><br><FONT ID="LN">3815</FONT><A NAME="3815"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">3816</FONT><A NAME="3816"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Perform search request to get all secondary types of a given project.<br><FONT ID="LN">3817</FONT><A NAME="3817"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* If not waiting for indexes and indexing is running, will return types found in current built indexes...<br><FONT ID="LN">3818</FONT><A NAME="3818"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3819</FONT><A NAME="3819"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> Map secondaryTypesSearching(IJavaProject project, <FONT ID="Boolean">boolean</FONT> waitForIndexes, IProgressMonitor monitor, <FONT ID="Final">final</FONT> PerProjectInfo projectInfo) <FONT ID="Throws">throws</FONT> JavaModelException {<br><FONT ID="LN">3820</FONT><A NAME="3820"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE || BasicSearchEngine.VERBOSE) {<br><FONT ID="LN">3821</FONT><A NAME="3821"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"JavaModelManager.secondaryTypesSearch("</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3822</FONT><A NAME="3822"></A></FONT>            buffer.append(project.getElementName());<br><FONT ID="LN">3823</FONT><A NAME="3823"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">','</FONT>);<br><FONT ID="LN">3824</FONT><A NAME="3824"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(waitForIndexes);<br><FONT ID="LN">3825</FONT><A NAME="3825"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">')'</FONT>);<br><FONT ID="LN">3826</FONT><A NAME="3826"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(buffer.toString());<br><FONT ID="LN">3827</FONT><A NAME="3827"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3828</FONT><A NAME="3828"></A><br><FONT ID="LN">3829</FONT><A NAME="3829"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> Hashtable secondaryTypes = <FONT ID="New">new</FONT> Hashtable(<FONT ID="IntegerLiteral">3</FONT>);<br><FONT ID="LN">3830</FONT><A NAME="3830"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/search/IRestrictedAccessTypeRequestor.java.htm">IRestrictedAccessTypeRequestor</A> nameRequestor = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/IRestrictedAccessTypeRequestor.java.htm">IRestrictedAccessTypeRequestor</A>() {<br><FONT ID="LN">3831</FONT><A NAME="3831"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> acceptType(<FONT ID="Int">int</FONT> modifiers, <FONT ID="Char">char</FONT>[] packageName, <FONT ID="Char">char</FONT>[] simpleTypeName, <FONT ID="Char">char</FONT>[][] enclosingTypeNames, <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> path, <A HREF="../../../../../org/eclipse/jdt/internal/compiler/env/AccessRestriction.java.htm">AccessRestriction</A> access) {<br><FONT ID="LN">3832</FONT><A NAME="3832"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> key = packageName==<FONT ID="Null">null</FONT> ? <FONT ID="StringLiteral">""</FONT> : <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(packageName); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3833</FONT><A NAME="3833"></A></FONT>                HashMap types = (HashMap) secondaryTypes.get(key);<br><FONT ID="LN">3834</FONT><A NAME="3834"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (types == <FONT ID="Null">null</FONT>) types = <FONT ID="New">new</FONT> HashMap(<FONT ID="IntegerLiteral">3</FONT>);<br><FONT ID="LN">3835</FONT><A NAME="3835"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;types.put(<FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(simpleTypeName), path);<br><FONT ID="LN">3836</FONT><A NAME="3836"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;secondaryTypes.put(key, types);<br><FONT ID="LN">3837</FONT><A NAME="3837"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3838</FONT><A NAME="3838"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br><FONT ID="LN">3839</FONT><A NAME="3839"></A><br><FONT ID="LN">3840</FONT><A NAME="3840"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Build scope using prereq projects but only source folders<br><FONT ID="LN">3841</FONT><A NAME="3841"></A></FONT>        IPackageFragmentRoot[] allRoots = project.getAllPackageFragmentRoots();<br><FONT ID="LN">3842</FONT><A NAME="3842"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> length = allRoots.length, size = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">3843</FONT><A NAME="3843"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPackageFragmentRoot[] allSourceFolders = <FONT ID="New">new</FONT> IPackageFragmentRoot[length];<br><FONT ID="LN">3844</FONT><A NAME="3844"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i=<FONT ID="IntegerLiteral">0</FONT>; i&lt;length; i++) {<br><FONT ID="LN">3845</FONT><A NAME="3845"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (allRoots[i].getKind() == IPackageFragmentRoot.K_SOURCE) {<br><FONT ID="LN">3846</FONT><A NAME="3846"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allSourceFolders[size++] = allRoots[i];<br><FONT ID="LN">3847</FONT><A NAME="3847"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3848</FONT><A NAME="3848"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3849</FONT><A NAME="3849"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (size &lt; length) {<br><FONT ID="LN">3850</FONT><A NAME="3850"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(allSourceFolders, <FONT ID="IntegerLiteral">0</FONT>, allSourceFolders = <FONT ID="New">new</FONT> IPackageFragmentRoot[size], <FONT ID="IntegerLiteral">0</FONT>, size);<br><FONT ID="LN">3851</FONT><A NAME="3851"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3852</FONT><A NAME="3852"></A><br><FONT ID="LN">3853</FONT><A NAME="3853"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Search all secondary types on scope<br><FONT ID="LN">3854</FONT><A NAME="3854"></A></FONT>        <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/search/BasicSearchEngine.java.htm">BasicSearchEngine</A>().searchAllSecondaryTypeNames(allSourceFolders, nameRequestor, waitForIndexes, monitor);<br><FONT ID="LN">3855</FONT><A NAME="3855"></A><br><FONT ID="LN">3856</FONT><A NAME="3856"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Build types from paths<br><FONT ID="LN">3857</FONT><A NAME="3857"></A></FONT>        Iterator packages = secondaryTypes.values().iterator();<br><FONT ID="LN">3858</FONT><A NAME="3858"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (packages.hasNext()) {<br><FONT ID="LN">3859</FONT><A NAME="3859"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap types = (HashMap) packages.next();<br><FONT ID="LN">3860</FONT><A NAME="3860"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator names = types.entrySet().iterator();<br><FONT ID="LN">3861</FONT><A NAME="3861"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (names.hasNext()) {<br><FONT ID="LN">3862</FONT><A NAME="3862"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) names.next();<br><FONT ID="LN">3863</FONT><A NAME="3863"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> typeName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getKey();<br><FONT ID="LN">3864</FONT><A NAME="3864"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> path = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getValue();<br><FONT ID="LN">3865</FONT><A NAME="3865"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (org.eclipse.jdt.internal.core.util.Util.isJavaLikeFileName(path)) {<br><FONT ID="LN">3866</FONT><A NAME="3866"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IFile file = ResourcesPlugin.getWorkspace().getRoot().getFile(<FONT ID="New">new</FONT> Path(path));<br><FONT ID="LN">3867</FONT><A NAME="3867"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ICompilationUnit unit = JavaModelManager.createCompilationUnitFrom(file, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">3868</FONT><A NAME="3868"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IType type = unit.getType(typeName);<br><FONT ID="LN">3869</FONT><A NAME="3869"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;types.put(typeName, type); <FONT ID="SingleLineComment">// replace stored path with type itself<br><FONT ID="LN">3870</FONT><A NAME="3870"></A></FONT>                }<br><FONT ID="LN">3871</FONT><A NAME="3871"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3872</FONT><A NAME="3872"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3873</FONT><A NAME="3873"></A><br><FONT ID="LN">3874</FONT><A NAME="3874"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Store result in per project info cache if still null or there's still an indexing cache (may have been set by another thread...)<br><FONT ID="LN">3875</FONT><A NAME="3875"></A></FONT>        <FONT ID="If">if</FONT> (projectInfo.secondaryTypes == <FONT ID="Null">null</FONT> || projectInfo.secondaryTypes.get(INDEXED_SECONDARY_TYPES) != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3876</FONT><A NAME="3876"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectInfo.secondaryTypes = secondaryTypes;<br><FONT ID="LN">3877</FONT><A NAME="3877"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE || BasicSearchEngine.VERBOSE) {<br><FONT ID="LN">3878</FONT><A NAME="3878"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.print(Thread.currentThread() + <FONT ID="StringLiteral">" -&gt; secondary paths stored in cache: "</FONT>);  <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3879</FONT><A NAME="3879"></A></FONT>                System.out.println();<br><FONT ID="LN">3880</FONT><A NAME="3880"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator entries = secondaryTypes.entrySet().iterator();<br><FONT ID="LN">3881</FONT><A NAME="3881"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (entries.hasNext()) {<br><FONT ID="LN">3882</FONT><A NAME="3882"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) entries.next();<br><FONT ID="LN">3883</FONT><A NAME="3883"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> qualifiedName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getKey();<br><FONT ID="LN">3884</FONT><A NAME="3884"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<FONT ID="StringLiteral">"      - "</FONT>+qualifiedName+<FONT ID="CharacerLiteral">'-'</FONT>+ entry.getValue()); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3885</FONT><A NAME="3885"></A></FONT>                }<br><FONT ID="LN">3886</FONT><A NAME="3886"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3887</FONT><A NAME="3887"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3888</FONT><A NAME="3888"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> projectInfo.secondaryTypes;<br><FONT ID="LN">3889</FONT><A NAME="3889"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3890</FONT><A NAME="3890"></A><br><FONT ID="LN">3891</FONT><A NAME="3891"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">3892</FONT><A NAME="3892"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Remove from secondary types cache all types belonging to a given file.<br><FONT ID="LN">3893</FONT><A NAME="3893"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Clean secondary types cache built while indexing if requested.<br><FONT ID="LN">3894</FONT><A NAME="3894"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">3895</FONT><A NAME="3895"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Project's secondary types cache is found using file location.<br><FONT ID="LN">3896</FONT><A NAME="3896"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br><FONT ID="LN">3897</FONT><A NAME="3897"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* @param file File to remove<br><FONT ID="LN">3898</FONT><A NAME="3898"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3899</FONT><A NAME="3899"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> secondaryTypesRemoving(IFile file, <FONT ID="Boolean">boolean</FONT> cleanIndexCache) {<br><FONT ID="LN">3900</FONT><A NAME="3900"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE) {<br><FONT ID="LN">3901</FONT><A NAME="3901"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"JavaModelManager.removeFromSecondaryTypesCache("</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3902</FONT><A NAME="3902"></A></FONT>            buffer.append(file.getName());<br><FONT ID="LN">3903</FONT><A NAME="3903"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">')'</FONT>);<br><FONT ID="LN">3904</FONT><A NAME="3904"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(buffer.toString());<br><FONT ID="LN">3905</FONT><A NAME="3905"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3906</FONT><A NAME="3906"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3907</FONT><A NAME="3907"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PerProjectInfo projectInfo = getPerProjectInfo(file.getProject(), <FONT ID="False">false</FONT>);<br><FONT ID="LN">3908</FONT><A NAME="3908"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (projectInfo != <FONT ID="Null">null</FONT> &amp;&amp; projectInfo.secondaryTypes != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3909</FONT><A NAME="3909"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE) {<br><FONT ID="LN">3910</FONT><A NAME="3910"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<FONT ID="StringLiteral">"-&gt; remove file from cache of project: "</FONT>+file.getProject().getName()); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3911</FONT><A NAME="3911"></A></FONT>                }<br><FONT ID="LN">3912</FONT><A NAME="3912"></A><br><FONT ID="LN">3913</FONT><A NAME="3913"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Clean current cache<br><FONT ID="LN">3914</FONT><A NAME="3914"></A></FONT>                secondaryTypesRemoving(projectInfo.secondaryTypes, file);<br><FONT ID="LN">3915</FONT><A NAME="3915"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">3916</FONT><A NAME="3916"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Clean indexing cache if necessary<br><FONT ID="LN">3917</FONT><A NAME="3917"></A></FONT>                <FONT ID="If">if</FONT> (!cleanIndexCache) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">3918</FONT><A NAME="3918"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap indexingCache = (HashMap) projectInfo.secondaryTypes.get(INDEXED_SECONDARY_TYPES);<br><FONT ID="LN">3919</FONT><A NAME="3919"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (indexingCache != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3920</FONT><A NAME="3920"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">Set</A> keys = indexingCache.keySet();<br><FONT ID="LN">3921</FONT><A NAME="3921"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> filesSize = keys.size(), filesCount = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">3922</FONT><A NAME="3922"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IFile[] removed = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3923</FONT><A NAME="3923"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator cachedFiles = keys.iterator();<br><FONT ID="LN">3924</FONT><A NAME="3924"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (cachedFiles.hasNext()) {<br><FONT ID="LN">3925</FONT><A NAME="3925"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IFile cachedFile = (IFile) cachedFiles.next();<br><FONT ID="LN">3926</FONT><A NAME="3926"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file.equals(cachedFile)) {<br><FONT ID="LN">3927</FONT><A NAME="3927"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (removed == <FONT ID="Null">null</FONT>) removed = <FONT ID="New">new</FONT> IFile[filesSize];<br><FONT ID="LN">3928</FONT><A NAME="3928"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filesSize--;<br><FONT ID="LN">3929</FONT><A NAME="3929"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;removed[filesCount++] = cachedFile;<br><FONT ID="LN">3930</FONT><A NAME="3930"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3931</FONT><A NAME="3931"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3932</FONT><A NAME="3932"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (removed != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3933</FONT><A NAME="3933"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i=<FONT ID="IntegerLiteral">0</FONT>; i&lt;filesCount; i++) {<br><FONT ID="LN">3934</FONT><A NAME="3934"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexingCache.remove(removed[i]);<br><FONT ID="LN">3935</FONT><A NAME="3935"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3936</FONT><A NAME="3936"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3937</FONT><A NAME="3937"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3938</FONT><A NAME="3938"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3939</FONT><A NAME="3939"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3940</FONT><A NAME="3940"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3941</FONT><A NAME="3941"></A><br><FONT ID="LN">3942</FONT><A NAME="3942"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">3943</FONT><A NAME="3943"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Remove from a given cache map all secondary types belonging to a given file.<br><FONT ID="LN">3944</FONT><A NAME="3944"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Note that there can have several secondary types per file...<br><FONT ID="LN">3945</FONT><A NAME="3945"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">3946</FONT><A NAME="3946"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> secondaryTypesRemoving(Hashtable secondaryTypesMap, IFile file) {<br><FONT ID="LN">3947</FONT><A NAME="3947"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE) {<br><FONT ID="LN">3948</FONT><A NAME="3948"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> buffer = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/StringBuffer.java.htm">StringBuffer</A>  <A HREF= "/508.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>(<FONT ID="StringLiteral">"JavaModelManager.removeSecondaryTypesFromMap("</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">3949</FONT><A NAME="3949"></A></FONT>            Iterator entries = secondaryTypesMap.entrySet().iterator();<br><FONT ID="LN">3950</FONT><A NAME="3950"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (entries.hasNext()) {<br><FONT ID="LN">3951</FONT><A NAME="3951"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) entries.next();<br><FONT ID="LN">3952</FONT><A NAME="3952"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> qualifiedName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getKey();<br><FONT ID="LN">3953</FONT><A NAME="3953"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(qualifiedName+<FONT ID="CharacerLiteral">':'</FONT>+ entry.getValue());<br><FONT ID="LN">3954</FONT><A NAME="3954"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3955</FONT><A NAME="3955"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">','</FONT>);<br><FONT ID="LN">3956</FONT><A NAME="3956"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(file.getFullPath());<br><FONT ID="LN">3957</FONT><A NAME="3957"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.append(<FONT ID="CharacerLiteral">')'</FONT>);<br><FONT ID="LN">3958</FONT><A NAME="3958"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(buffer.toString());<br><FONT ID="LN">3959</FONT><A NAME="3959"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3960</FONT><A NAME="3960"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">Set</A> packageEntries = secondaryTypesMap.entrySet();<br><FONT ID="LN">3961</FONT><A NAME="3961"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> packagesSize = packageEntries.size(), removedPackagesCount = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">3962</FONT><A NAME="3962"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] removedPackages = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3963</FONT><A NAME="3963"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator packages = packageEntries.iterator();<br><FONT ID="LN">3964</FONT><A NAME="3964"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (packages.hasNext()) {<br><FONT ID="LN">3965</FONT><A NAME="3965"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) packages.next();<br><FONT ID="LN">3966</FONT><A NAME="3966"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> packName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getKey();<br><FONT ID="LN">3967</FONT><A NAME="3967"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (packName != INDEXED_SECONDARY_TYPES) { <FONT ID="SingleLineComment">// skip indexing cache entry if present (!= is intentional)<br><FONT ID="LN">3968</FONT><A NAME="3968"></A></FONT>                HashMap types = (HashMap) entry.getValue();<br><FONT ID="LN">3969</FONT><A NAME="3969"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">Set</A> nameEntries = types.entrySet();<br><FONT ID="LN">3970</FONT><A NAME="3970"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> namesSize = nameEntries.size(), removedNamesCount = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">3971</FONT><A NAME="3971"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] removedNames = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">3972</FONT><A NAME="3972"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator names = nameEntries.iterator();<br><FONT ID="LN">3973</FONT><A NAME="3973"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (names.hasNext()) {<br><FONT ID="LN">3974</FONT><A NAME="3974"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry2 = (Map.Entry) names.next();<br><FONT ID="LN">3975</FONT><A NAME="3975"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> typeName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry2.getKey();<br><FONT ID="LN">3976</FONT><A NAME="3976"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IType type = (IType) entry2.getValue();<br><FONT ID="LN">3977</FONT><A NAME="3977"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file.equals(type.getResource())) {<br><FONT ID="LN">3978</FONT><A NAME="3978"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (removedNames == <FONT ID="Null">null</FONT>) removedNames = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[namesSize];<br><FONT ID="LN">3979</FONT><A NAME="3979"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;namesSize--;<br><FONT ID="LN">3980</FONT><A NAME="3980"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;removedNames[removedNamesCount++] = typeName;<br><FONT ID="LN">3981</FONT><A NAME="3981"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3982</FONT><A NAME="3982"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3983</FONT><A NAME="3983"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (removedNames != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3984</FONT><A NAME="3984"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i=<FONT ID="IntegerLiteral">0</FONT>; i&lt;removedNamesCount; i++) {<br><FONT ID="LN">3985</FONT><A NAME="3985"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;types.remove(removedNames[i]);<br><FONT ID="LN">3986</FONT><A NAME="3986"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3987</FONT><A NAME="3987"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3988</FONT><A NAME="3988"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (types.size() == <FONT ID="IntegerLiteral">0</FONT>) {<br><FONT ID="LN">3989</FONT><A NAME="3989"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (removedPackages == <FONT ID="Null">null</FONT>) removedPackages = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[packagesSize];<br><FONT ID="LN">3990</FONT><A NAME="3990"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;packagesSize--;<br><FONT ID="LN">3991</FONT><A NAME="3991"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;removedPackages[removedPackagesCount++] = packName;<br><FONT ID="LN">3992</FONT><A NAME="3992"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3993</FONT><A NAME="3993"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3994</FONT><A NAME="3994"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3995</FONT><A NAME="3995"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (removedPackages != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">3996</FONT><A NAME="3996"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i=<FONT ID="IntegerLiteral">0</FONT>; i&lt;removedPackagesCount; i++) {<br><FONT ID="LN">3997</FONT><A NAME="3997"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;secondaryTypesMap.remove(removedPackages[i]);<br><FONT ID="LN">3998</FONT><A NAME="3998"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">3999</FONT><A NAME="3999"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4000</FONT><A NAME="4000"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE) {<br><FONT ID="LN">4001</FONT><A NAME="4001"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<FONT ID="StringLiteral">"  - new secondary types map:"</FONT>); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">4002</FONT><A NAME="4002"></A></FONT>            Iterator entries = secondaryTypesMap.entrySet().iterator();<br><FONT ID="LN">4003</FONT><A NAME="4003"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (entries.hasNext()) {<br><FONT ID="LN">4004</FONT><A NAME="4004"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map.Entry entry = (Map.Entry) entries.next();<br><FONT ID="LN">4005</FONT><A NAME="4005"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> qualifiedName = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) entry.getKey();<br><FONT ID="LN">4006</FONT><A NAME="4006"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.verbose(<FONT ID="StringLiteral">"      + "</FONT>+qualifiedName+<FONT ID="CharacerLiteral">':'</FONT>+ entry.getValue()); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">4007</FONT><A NAME="4007"></A></FONT>            }<br><FONT ID="LN">4008</FONT><A NAME="4008"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4009</FONT><A NAME="4009"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4010</FONT><A NAME="4010"></A><br><FONT ID="LN">4011</FONT><A NAME="4011"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">4012</FONT><A NAME="4012"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Record the order in which to build the java projects (batch build). This order is based<br><FONT ID="LN">4013</FONT><A NAME="4013"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* on the projects classpath settings.<br><FONT ID="LN">4014</FONT><A NAME="4014"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">4015</FONT><A NAME="4015"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> <FONT ID="Void">void</FONT> setBuildOrder(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] javaBuildOrder) <FONT ID="Throws">throws</FONT> JavaModelException {<br><FONT ID="LN">4016</FONT><A NAME="4016"></A><br><FONT ID="LN">4017</FONT><A NAME="4017"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// optional behaviour<br><FONT ID="LN">4018</FONT><A NAME="4018"></A></FONT>        <FONT ID="SingleLineComment">// possible value of index 0 is Compute<br><FONT ID="LN">4019</FONT><A NAME="4019"></A></FONT>        <FONT ID="If">if</FONT> (!JavaCore.COMPUTE.equals(JavaCore.getOption(JavaCore.CORE_JAVA_BUILD_ORDER))) <FONT ID="Return">return</FONT>; <FONT ID="SingleLineComment">// cannot be customized at project level<br><FONT ID="LN">4020</FONT><A NAME="4020"></A></FONT>        <br><FONT ID="LN">4021</FONT><A NAME="4021"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (javaBuildOrder == <FONT ID="Null">null</FONT> || javaBuildOrder.length &lt;= <FONT ID="IntegerLiteral">1</FONT>) <FONT ID="Return">return</FONT>;<br><FONT ID="LN">4022</FONT><A NAME="4022"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4023</FONT><A NAME="4023"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IWorkspace workspace = ResourcesPlugin.getWorkspace();<br><FONT ID="LN">4024</FONT><A NAME="4024"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IWorkspaceDescription description = workspace.getDescription();<br><FONT ID="LN">4025</FONT><A NAME="4025"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] wksBuildOrder = description.getBuildOrder();<br><FONT ID="LN">4026</FONT><A NAME="4026"></A><br><FONT ID="LN">4027</FONT><A NAME="4027"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] newOrder;<br><FONT ID="LN">4028</FONT><A NAME="4028"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (wksBuildOrder == <FONT ID="Null">null</FONT>){<br><FONT ID="LN">4029</FONT><A NAME="4029"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newOrder = javaBuildOrder;<br><FONT ID="LN">4030</FONT><A NAME="4030"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">4031</FONT><A NAME="4031"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// remove projects which are already mentionned in java builder order<br><FONT ID="LN">4032</FONT><A NAME="4032"></A></FONT>            <FONT ID="Int">int</FONT> javaCount = javaBuildOrder.length;<br><FONT ID="LN">4033</FONT><A NAME="4033"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap newSet = <FONT ID="New">new</FONT> HashMap(javaCount); <FONT ID="SingleLineComment">// create a set for fast check<br><FONT ID="LN">4034</FONT><A NAME="4034"></A></FONT>            <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; javaCount; i++){<br><FONT ID="LN">4035</FONT><A NAME="4035"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newSet.put(javaBuildOrder[i], javaBuildOrder[i]);<br><FONT ID="LN">4036</FONT><A NAME="4036"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4037</FONT><A NAME="4037"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> removed = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">4038</FONT><A NAME="4038"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> oldCount = wksBuildOrder.length;<br><FONT ID="LN">4039</FONT><A NAME="4039"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; oldCount; i++){<br><FONT ID="LN">4040</FONT><A NAME="4040"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (newSet.containsKey(wksBuildOrder[i])){<br><FONT ID="LN">4041</FONT><A NAME="4041"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wksBuildOrder[i] = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">4042</FONT><A NAME="4042"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;removed++;<br><FONT ID="LN">4043</FONT><A NAME="4043"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4044</FONT><A NAME="4044"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4045</FONT><A NAME="4045"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// add Java ones first<br><FONT ID="LN">4046</FONT><A NAME="4046"></A></FONT>            newOrder = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[oldCount - removed + javaCount];<br><FONT ID="LN">4047</FONT><A NAME="4047"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.arraycopy(javaBuildOrder, <FONT ID="IntegerLiteral">0</FONT>, newOrder, <FONT ID="IntegerLiteral">0</FONT>, javaCount); <FONT ID="SingleLineComment">// java projects are built first<br><FONT ID="LN">4048</FONT><A NAME="4048"></A></FONT><br><FONT ID="LN">4049</FONT><A NAME="4049"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// copy previous items in their respective order<br><FONT ID="LN">4050</FONT><A NAME="4050"></A></FONT>            <FONT ID="Int">int</FONT> index = javaCount;<br><FONT ID="LN">4051</FONT><A NAME="4051"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; oldCount; i++){<br><FONT ID="LN">4052</FONT><A NAME="4052"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (wksBuildOrder[i] != <FONT ID="Null">null</FONT>){<br><FONT ID="LN">4053</FONT><A NAME="4053"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newOrder[index++] = wksBuildOrder[i];<br><FONT ID="LN">4054</FONT><A NAME="4054"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4055</FONT><A NAME="4055"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4056</FONT><A NAME="4056"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4057</FONT><A NAME="4057"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// commit the new build order out<br><FONT ID="LN">4058</FONT><A NAME="4058"></A></FONT>        description.setBuildOrder(newOrder);<br><FONT ID="LN">4059</FONT><A NAME="4059"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">4060</FONT><A NAME="4060"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;workspace.setDescription(description);<br><FONT ID="LN">4061</FONT><A NAME="4061"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT>(CoreException e){<br><FONT ID="LN">4062</FONT><A NAME="4062"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> JavaModelException(e);<br><FONT ID="LN">4063</FONT><A NAME="4063"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4064</FONT><A NAME="4064"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4065</FONT><A NAME="4065"></A><br><FONT ID="LN">4066</FONT><A NAME="4066"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">4067</FONT><A NAME="4067"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Sets the last built state for the given project, or null to reset it.<br><FONT ID="LN">4068</FONT><A NAME="4068"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">4069</FONT><A NAME="4069"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setLastBuiltState(IProject project, <A HREF="../../../../../java/lang/Object.java.htm">Object</A>  <A HREF= "/1241.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> state) {<br><FONT ID="LN">4070</FONT><A NAME="4070"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (JavaProject.hasJavaNature(project)) {<br><FONT ID="LN">4071</FONT><A NAME="4071"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// should never be requested on non-Java projects<br><FONT ID="LN">4072</FONT><A NAME="4072"></A></FONT>            PerProjectInfo info = getPerProjectInfo(project, <FONT ID="True">true</FONT> <FONT ID="MultiLineComment">/*create if missing*/</FONT>);<br><FONT ID="LN">4073</FONT><A NAME="4073"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info.triedRead = <FONT ID="True">true</FONT>; <FONT ID="SingleLineComment">// no point trying to re-read once using setter<br><FONT ID="LN">4074</FONT><A NAME="4074"></A></FONT>            info.savedState = state;<br><FONT ID="LN">4075</FONT><A NAME="4075"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4076</FONT><A NAME="4076"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (state == <FONT ID="Null">null</FONT>) { <FONT ID="SingleLineComment">// delete state file to ensure a full build happens if the workspace crashes<br><FONT ID="LN">4077</FONT><A NAME="4077"></A></FONT>            <FONT ID="Try">try</FONT> {<br><FONT ID="LN">4078</FONT><A NAME="4078"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/util/zip/ZipFile.java.htm">File</A>  <A HREF= "/1291.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> file = getSerializationFile(project);<br><FONT ID="LN">4079</FONT><A NAME="4079"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (file != <FONT ID="Null">null</FONT> &amp;&amp; file.exists())<br><FONT ID="LN">4080</FONT><A NAME="4080"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.delete();<br><FONT ID="LN">4081</FONT><A NAME="4081"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT>(<A HREF="../../../../../java/lang/SecurityException.java.htm">SecurityException</A>  <A HREF= "/1840.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> se) {<br><FONT ID="LN">4082</FONT><A NAME="4082"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// could not delete file: cannot do much more<br><FONT ID="LN">4083</FONT><A NAME="4083"></A></FONT>            }<br><FONT ID="LN">4084</FONT><A NAME="4084"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4085</FONT><A NAME="4085"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4086</FONT><A NAME="4086"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4087</FONT><A NAME="4087"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setOptions(Hashtable newOptions) {<br><FONT ID="LN">4088</FONT><A NAME="4088"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4089</FONT><A NAME="4089"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">4090</FONT><A NAME="4090"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A> defaultPreferences = getDefaultPreferences();<br><FONT ID="LN">4091</FONT><A NAME="4091"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">IEclipsePreferences</A> instancePreferences = getInstancePreferences();<br><FONT ID="LN">4092</FONT><A NAME="4092"></A><br><FONT ID="LN">4093</FONT><A NAME="4093"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (newOptions == <FONT ID="Null">null</FONT>){<br><FONT ID="LN">4094</FONT><A NAME="4094"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instancePreferences.clear();<br><FONT ID="LN">4095</FONT><A NAME="4095"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">4096</FONT><A NAME="4096"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enumeration keys = newOptions.keys();<br><FONT ID="LN">4097</FONT><A NAME="4097"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (keys.hasMoreElements()){<br><FONT ID="LN">4098</FONT><A NAME="4098"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> key = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>)keys.nextElement();<br><FONT ID="LN">4099</FONT><A NAME="4099"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!<FONT ID="This">this</FONT>.optionNames.contains(key)) <FONT ID="Continue">continue</FONT>; <FONT ID="SingleLineComment">// unrecognized option<br><FONT ID="LN">4100</FONT><A NAME="4100"></A></FONT>                    <FONT ID="If">if</FONT> (key.equals(JavaCore.CORE_ENCODING)) <FONT ID="Continue">continue</FONT>; <FONT ID="SingleLineComment">// skipped, contributed by resource prefs<br><FONT ID="LN">4101</FONT><A NAME="4101"></A></FONT>                    <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> value = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>)newOptions.get(key);<br><FONT ID="LN">4102</FONT><A NAME="4102"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> defaultValue = defaultPreferences.get(key, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">4103</FONT><A NAME="4103"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (defaultValue != <FONT ID="Null">null</FONT> &amp;&amp; defaultValue.equals(value)) {<br><FONT ID="LN">4104</FONT><A NAME="4104"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instancePreferences.remove(key);<br><FONT ID="LN">4105</FONT><A NAME="4105"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">4106</FONT><A NAME="4106"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instancePreferences.put(key, value);<br><FONT ID="LN">4107</FONT><A NAME="4107"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4108</FONT><A NAME="4108"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4109</FONT><A NAME="4109"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4110</FONT><A NAME="4110"></A><br><FONT ID="LN">4111</FONT><A NAME="4111"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// persist options<br><FONT ID="LN">4112</FONT><A NAME="4112"></A></FONT>            instancePreferences.flush();<br><FONT ID="LN">4113</FONT><A NAME="4113"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4114</FONT><A NAME="4114"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// update cache<br><FONT ID="LN">4115</FONT><A NAME="4115"></A></FONT>            <FONT ID="This">this</FONT>.optionsCache = newOptions==<FONT ID="Null">null</FONT> ? <FONT ID="Null">null</FONT> : <FONT ID="New">new</FONT> Hashtable(newOptions);<br><FONT ID="LN">4116</FONT><A NAME="4116"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../org/osgi/service/prefs/BackingStoreException.java.htm">BackingStoreException</A> e) {<br><FONT ID="LN">4117</FONT><A NAME="4117"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// ignore<br><FONT ID="LN">4118</FONT><A NAME="4118"></A></FONT>        }<br><FONT ID="LN">4119</FONT><A NAME="4119"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4120</FONT><A NAME="4120"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4121</FONT><A NAME="4121"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> startup() <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">4122</FONT><A NAME="4122"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">4123</FONT><A NAME="4123"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configurePluginDebugOptions();<br><FONT ID="LN">4124</FONT><A NAME="4124"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4125</FONT><A NAME="4125"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// initialize Java model cache<br><FONT ID="LN">4126</FONT><A NAME="4126"></A></FONT>            <FONT ID="This">this</FONT>.cache = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/JavaModelCache.java.htm">JavaModelCache</A>();<br><FONT ID="LN">4127</FONT><A NAME="4127"></A><br><FONT ID="LN">4128</FONT><A NAME="4128"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// request state folder creation (workaround 19885)<br><FONT ID="LN">4129</FONT><A NAME="4129"></A></FONT>            JavaCore.getPlugin().getStateLocation();<br><FONT ID="LN">4130</FONT><A NAME="4130"></A><br><FONT ID="LN">4131</FONT><A NAME="4131"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Initialize eclipse preferences<br><FONT ID="LN">4132</FONT><A NAME="4132"></A></FONT>            initializePreferences();<br><FONT ID="LN">4133</FONT><A NAME="4133"></A><br><FONT ID="LN">4134</FONT><A NAME="4134"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Listen to preference changes<br><FONT ID="LN">4135</FONT><A NAME="4135"></A></FONT>            <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">Preferences.IPropertyChangeListener</A> propertyListener = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">Preferences.IPropertyChangeListener</A>() {<br><FONT ID="LN">4136</FONT><A NAME="4136"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> propertyChange(<A HREF="../../../../../org/eclipse/core/runtime/preferences/IEclipsePreferences.java.htm">Preferences.PropertyChangeEvent</A> event) {<br><FONT ID="LN">4137</FONT><A NAME="4137"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaModelManager.<FONT ID="This">this</FONT>.optionsCache = <FONT ID="Null">null</FONT>;<br><FONT ID="LN">4138</FONT><A NAME="4138"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4139</FONT><A NAME="4139"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br><FONT ID="LN">4140</FONT><A NAME="4140"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaCore.getPlugin().getPluginPreferences().addPropertyChangeListener(propertyListener);<br><FONT ID="LN">4141</FONT><A NAME="4141"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4142</FONT><A NAME="4142"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Listen to content-type changes<br><FONT ID="LN">4143</FONT><A NAME="4143"></A></FONT>             Platform.getContentTypeManager().addContentTypeChangeListener(<FONT ID="This">this</FONT>);<br><FONT ID="LN">4144</FONT><A NAME="4144"></A><br><FONT ID="LN">4145</FONT><A NAME="4145"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// retrieve variable values<br><FONT ID="LN">4146</FONT><A NAME="4146"></A></FONT>            <FONT ID="Long">long</FONT> start = -<FONT ID="IntegerLiteral">1</FONT>;<br><FONT ID="LN">4147</FONT><A NAME="4147"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE)<br><FONT ID="LN">4148</FONT><A NAME="4148"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start = System.currentTimeMillis();<br><FONT ID="LN">4149</FONT><A NAME="4149"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loadVariablesAndContainers();<br><FONT ID="LN">4150</FONT><A NAME="4150"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (VERBOSE)<br><FONT ID="LN">4151</FONT><A NAME="4151"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;traceVariableAndContainers(<FONT ID="StringLiteral">"Loaded"</FONT>, start); <FONT ID="SingleLineComment">//$NON-NLS-1$<br><FONT ID="LN">4152</FONT><A NAME="4152"></A></FONT><br><FONT ID="LN">4153</FONT><A NAME="4153"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Final">final</FONT> IWorkspace workspace = ResourcesPlugin.getWorkspace();<br><FONT ID="LN">4154</FONT><A NAME="4154"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;workspace.addResourceChangeListener(<br><FONT ID="LN">4155</FONT><A NAME="4155"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.deltaState,<br><FONT ID="LN">4156</FONT><A NAME="4156"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/* update spec in JavaCore#addPreProcessingResourceChangedListener(...) if adding more event types */</FONT><br><FONT ID="LN">4157</FONT><A NAME="4157"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IResourceChangeEvent.PRE_BUILD<br><FONT ID="LN">4158</FONT><A NAME="4158"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| IResourceChangeEvent.POST_BUILD<br><FONT ID="LN">4159</FONT><A NAME="4159"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| IResourceChangeEvent.POST_CHANGE<br><FONT ID="LN">4160</FONT><A NAME="4160"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| IResourceChangeEvent.PRE_DELETE<br><FONT ID="LN">4161</FONT><A NAME="4161"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| IResourceChangeEvent.PRE_CLOSE);<br><FONT ID="LN">4162</FONT><A NAME="4162"></A><br><FONT ID="LN">4163</FONT><A NAME="4163"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startIndexing();<br><FONT ID="LN">4164</FONT><A NAME="4164"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4165</FONT><A NAME="4165"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// process deltas since last activated in indexer thread so that indexes are up-to-date.<br><FONT ID="LN">4166</FONT><A NAME="4166"></A></FONT>            <FONT ID="SingleLineComment">// see https://bugs.eclipse.org/bugs/show_bug.cgi?id=38658<br><FONT ID="LN">4167</FONT><A NAME="4167"></A></FONT>            <A HREF="../../../../../org/eclipse/core/runtime/jobs/Job.java.htm">Job</A> processSavedState = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/core/runtime/jobs/Job.java.htm">Job</A>(Messages.savedState_jobName) { <br><FONT ID="LN">4168</FONT><A NAME="4168"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Protected">protected</FONT> IStatus run(IProgressMonitor monitor) {<br><FONT ID="LN">4169</FONT><A NAME="4169"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">4170</FONT><A NAME="4170"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// add save participant and process delta atomically<br><FONT ID="LN">4171</FONT><A NAME="4171"></A></FONT>                        <FONT ID="SingleLineComment">// see https://bugs.eclipse.org/bugs/show_bug.cgi?id=59937<br><FONT ID="LN">4172</FONT><A NAME="4172"></A></FONT>                        workspace.run(<br><FONT ID="LN">4173</FONT><A NAME="4173"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="New">new</FONT> IWorkspaceRunnable() {<br><FONT ID="LN">4174</FONT><A NAME="4174"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> run(IProgressMonitor progress) <FONT ID="Throws">throws</FONT> CoreException {<br><FONT ID="LN">4175</FONT><A NAME="4175"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ISavedState savedState = workspace.addSaveParticipant(JavaCore.getJavaCore(), JavaModelManager.<FONT ID="This">this</FONT>);<br><FONT ID="LN">4176</FONT><A NAME="4176"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (savedState != <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">4177</FONT><A NAME="4177"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// the event type coming from the saved state is always POST_AUTO_BUILD<br><FONT ID="LN">4178</FONT><A NAME="4178"></A></FONT>                                        <FONT ID="SingleLineComment">// force it to be POST_CHANGE so that the delta processor can handle it<br><FONT ID="LN">4179</FONT><A NAME="4179"></A></FONT>                                        JavaModelManager.<FONT ID="This">this</FONT>.deltaState.getDeltaProcessor().overridenEventType = IResourceChangeEvent.POST_CHANGE;<br><FONT ID="LN">4180</FONT><A NAME="4180"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savedState.processResourceChangeEvents(JavaModelManager.<FONT ID="This">this</FONT>.deltaState);<br><FONT ID="LN">4181</FONT><A NAME="4181"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4182</FONT><A NAME="4182"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4183</FONT><A NAME="4183"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br><FONT ID="LN">4184</FONT><A NAME="4184"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;monitor);<br><FONT ID="LN">4185</FONT><A NAME="4185"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (CoreException e) {<br><FONT ID="LN">4186</FONT><A NAME="4186"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> e.getStatus();<br><FONT ID="LN">4187</FONT><A NAME="4187"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4188</FONT><A NAME="4188"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> Status.OK_STATUS;<br><FONT ID="LN">4189</FONT><A NAME="4189"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4190</FONT><A NAME="4190"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br><FONT ID="LN">4191</FONT><A NAME="4191"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;processSavedState.setSystem(<FONT ID="True">true</FONT>);<br><FONT ID="LN">4192</FONT><A NAME="4192"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;processSavedState.setPriority(Job.SHORT); <FONT ID="SingleLineComment">// process asap<br><FONT ID="LN">4193</FONT><A NAME="4193"></A></FONT>            processSavedState.schedule();<br><FONT ID="LN">4194</FONT><A NAME="4194"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../java/lang/RuntimeException.java.htm">RuntimeException</A>  <A HREF= "/1822.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e) {<br><FONT ID="LN">4195</FONT><A NAME="4195"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shutdown();<br><FONT ID="LN">4196</FONT><A NAME="4196"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Throw">throw</FONT> e;<br><FONT ID="LN">4197</FONT><A NAME="4197"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4198</FONT><A NAME="4198"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4199</FONT><A NAME="4199"></A><br><FONT ID="LN">4200</FONT><A NAME="4200"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="FormalComment">/**<br><FONT ID="LN">4201</FONT><A NAME="4201"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Initiate the background indexing process.<br><FONT ID="LN">4202</FONT><A NAME="4202"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* This should be deferred after the plugin activation.<br><FONT ID="LN">4203</FONT><A NAME="4203"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">4204</FONT><A NAME="4204"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> startIndexing() {<br><FONT ID="LN">4205</FONT><A NAME="4205"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getIndexManager().reset();<br><FONT ID="LN">4206</FONT><A NAME="4206"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4207</FONT><A NAME="4207"></A><br><FONT ID="LN">4208</FONT><A NAME="4208"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> shutdown () {<br><FONT ID="LN">4209</FONT><A NAME="4209"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaCore javaCore = JavaCore.getJavaCore();<br><FONT ID="LN">4210</FONT><A NAME="4210"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;javaCore.savePluginPreferences();<br><FONT ID="LN">4211</FONT><A NAME="4211"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IWorkspace workspace = ResourcesPlugin.getWorkspace();<br><FONT ID="LN">4212</FONT><A NAME="4212"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;workspace.removeResourceChangeListener(<FONT ID="This">this</FONT>.deltaState);<br><FONT ID="LN">4213</FONT><A NAME="4213"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;workspace.removeSaveParticipant(javaCore);<br><FONT ID="LN">4214</FONT><A NAME="4214"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4215</FONT><A NAME="4215"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Stop listening to content-type changes<br><FONT ID="LN">4216</FONT><A NAME="4216"></A></FONT>        Platform.getContentTypeManager().removeContentTypeChangeListener(<FONT ID="This">this</FONT>);<br><FONT ID="LN">4217</FONT><A NAME="4217"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4218</FONT><A NAME="4218"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Stop listening to user library changes<br><FONT ID="LN">4219</FONT><A NAME="4219"></A></FONT>        <FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.userLibraryManager != <FONT ID="Null">null</FONT>)<br><FONT ID="LN">4220</FONT><A NAME="4220"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getInstancePreferences().removePreferenceChangeListener(<FONT ID="This">this</FONT>.userLibraryManager);<br><FONT ID="LN">4221</FONT><A NAME="4221"></A>&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4222</FONT><A NAME="4222"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.indexManager != <FONT ID="Null">null</FONT>){ <FONT ID="SingleLineComment">// no more indexing<br><FONT ID="LN">4223</FONT><A NAME="4223"></A></FONT>            <FONT ID="This">this</FONT>.indexManager.shutdown();<br><FONT ID="LN">4224</FONT><A NAME="4224"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4225</FONT><A NAME="4225"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4226</FONT><A NAME="4226"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// wait for the initialization job to finish<br><FONT ID="LN">4227</FONT><A NAME="4227"></A></FONT>        <FONT ID="Try">try</FONT> {<br><FONT ID="LN">4228</FONT><A NAME="4228"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Job.getJobManager().join(JavaCore.PLUGIN_ID, <FONT ID="Null">null</FONT>);<br><FONT ID="LN">4229</FONT><A NAME="4229"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../java/lang/InterruptedException.java.htm">InterruptedException</A>  <A HREF= "/2811.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> e) {<br><FONT ID="LN">4230</FONT><A NAME="4230"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// ignore<br><FONT ID="LN">4231</FONT><A NAME="4231"></A></FONT>        }<br><FONT ID="LN">4232</FONT><A NAME="4232"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4233</FONT><A NAME="4233"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// Note: no need to close the Java model as this just removes Java element infos from the Java model cache<br><FONT ID="LN">4234</FONT><A NAME="4234"></A></FONT>    }<br><FONT ID="LN">4235</FONT><A NAME="4235"></A><br><FONT ID="LN">4236</FONT><A NAME="4236"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> IPath variableGet(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> variableName){<br><FONT ID="LN">4237</FONT><A NAME="4237"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// check initialization in progress first<br><FONT ID="LN">4238</FONT><A NAME="4238"></A></FONT>        <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> initializations = variableInitializationInProgress();<br><FONT ID="LN">4239</FONT><A NAME="4239"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (initializations.contains(variableName)) {<br><FONT ID="LN">4240</FONT><A NAME="4240"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> VARIABLE_INITIALIZATION_IN_PROGRESS;<br><FONT ID="LN">4241</FONT><A NAME="4241"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4242</FONT><A NAME="4242"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> (IPath)<FONT ID="This">this</FONT>.variables.get(variableName);<br><FONT ID="LN">4243</FONT><A NAME="4243"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4244</FONT><A NAME="4244"></A><br><FONT ID="LN">4245</FONT><A NAME="4245"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <FONT ID="Synchronized">synchronized</FONT> IPath variableGetDefaultToPreviousSession(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> variableName){<br><FONT ID="LN">4246</FONT><A NAME="4246"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath variablePath = (IPath)<FONT ID="This">this</FONT>.variables.get(variableName);<br><FONT ID="LN">4247</FONT><A NAME="4247"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (variablePath == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">4248</FONT><A NAME="4248"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> getPreviousSessionVariable(variableName);<br><FONT ID="LN">4249</FONT><A NAME="4249"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> variablePath;<br><FONT ID="LN">4250</FONT><A NAME="4250"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4251</FONT><A NAME="4251"></A><br><FONT ID="LN">4252</FONT><A NAME="4252"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">4253</FONT><A NAME="4253"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Returns the set of variable names that are being initialized in the current thread.<br><FONT ID="LN">4254</FONT><A NAME="4254"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">4255</FONT><A NAME="4255"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Private">private</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> variableInitializationInProgress() {<br><FONT ID="LN">4256</FONT><A NAME="4256"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> initializations = (<A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>)<FONT ID="This">this</FONT>.variableInitializationInProgress.get();<br><FONT ID="LN">4257</FONT><A NAME="4257"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (initializations == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">4258</FONT><A NAME="4258"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initializations = <FONT ID="New">new</FONT> <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A>();<br><FONT ID="LN">4259</FONT><A NAME="4259"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.variableInitializationInProgress.set(initializations);<br><FONT ID="LN">4260</FONT><A NAME="4260"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4261</FONT><A NAME="4261"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> initializations;<br><FONT ID="LN">4262</FONT><A NAME="4262"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4263</FONT><A NAME="4263"></A><br><FONT ID="LN">4264</FONT><A NAME="4264"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] variableNames(){<br><FONT ID="LN">4265</FONT><A NAME="4265"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> length = <FONT ID="This">this</FONT>.variables.size();<br><FONT ID="LN">4266</FONT><A NAME="4266"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] result = <FONT ID="New">new</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[length];<br><FONT ID="LN">4267</FONT><A NAME="4267"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator vars = <FONT ID="This">this</FONT>.variables.keySet().iterator();<br><FONT ID="LN">4268</FONT><A NAME="4268"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Int">int</FONT> index = <FONT ID="IntegerLiteral">0</FONT>;<br><FONT ID="LN">4269</FONT><A NAME="4269"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="While">while</FONT> (vars.hasNext()) {<br><FONT ID="LN">4270</FONT><A NAME="4270"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[index++] = (<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>) vars.next();<br><FONT ID="LN">4271</FONT><A NAME="4271"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4272</FONT><A NAME="4272"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> result;<br><FONT ID="LN">4273</FONT><A NAME="4273"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4274</FONT><A NAME="4274"></A><br><FONT ID="LN">4275</FONT><A NAME="4275"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> variablePut(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> variableName, IPath variablePath){      <br><FONT ID="LN">4276</FONT><A NAME="4276"></A><br><FONT ID="LN">4277</FONT><A NAME="4277"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// set/unset the initialization in progress<br><FONT ID="LN">4278</FONT><A NAME="4278"></A></FONT>        <A HREF="../../../../../org/eclipse/jdt/internal/core/util/WeakHashSet.java.htm">HashSet</A> initializations = variableInitializationInProgress();<br><FONT ID="LN">4279</FONT><A NAME="4279"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (variablePath == VARIABLE_INITIALIZATION_IN_PROGRESS) {<br><FONT ID="LN">4280</FONT><A NAME="4280"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initializations.add(variableName);<br><FONT ID="LN">4281</FONT><A NAME="4281"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4282</FONT><A NAME="4282"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// do not write out intermediate initialization value<br><FONT ID="LN">4283</FONT><A NAME="4283"></A></FONT>            <FONT ID="Return">return</FONT>;<br><FONT ID="LN">4284</FONT><A NAME="4284"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">4285</FONT><A NAME="4285"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initializations.remove(variableName);<br><FONT ID="LN">4286</FONT><A NAME="4286"></A><br><FONT ID="LN">4287</FONT><A NAME="4287"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// update cache - do not only rely on listener refresh      <br><FONT ID="LN">4288</FONT><A NAME="4288"></A></FONT>            <FONT ID="If">if</FONT> (variablePath == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">4289</FONT><A NAME="4289"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// if path is null, record that the variable was removed to avoid asking the initializer to initialize it again<br><FONT ID="LN">4290</FONT><A NAME="4290"></A></FONT>                <FONT ID="SingleLineComment">// see https://bugs.eclipse.org/bugs/show_bug.cgi?id=112609<br><FONT ID="LN">4291</FONT><A NAME="4291"></A></FONT>                <FONT ID="This">this</FONT>.variables.put(variableName, CP_ENTRY_IGNORE_PATH);<br><FONT ID="LN">4292</FONT><A NAME="4292"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">4293</FONT><A NAME="4293"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.variables.put(variableName, variablePath);<br><FONT ID="LN">4294</FONT><A NAME="4294"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4295</FONT><A NAME="4295"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// discard obsoleted information about previous session<br><FONT ID="LN">4296</FONT><A NAME="4296"></A></FONT>            <FONT ID="This">this</FONT>.previousSessionVariables.remove(variableName);<br><FONT ID="LN">4297</FONT><A NAME="4297"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4298</FONT><A NAME="4298"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4299</FONT><A NAME="4299"></A><br><FONT ID="LN">4300</FONT><A NAME="4300"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> variablePreferencesPut(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> variableName, IPath variablePath) {<br><FONT ID="LN">4301</FONT><A NAME="4301"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> variableKey = CP_VARIABLE_PREFERENCES_PREFIX+variableName;<br><FONT ID="LN">4302</FONT><A NAME="4302"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (variablePath == <FONT ID="Null">null</FONT>) {<br><FONT ID="LN">4303</FONT><A NAME="4303"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="This">this</FONT>.variablesWithInitializer.remove(variableName);<br><FONT ID="LN">4304</FONT><A NAME="4304"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getInstancePreferences().remove(variableKey);<br><FONT ID="LN">4305</FONT><A NAME="4305"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Else">else</FONT> {<br><FONT ID="LN">4306</FONT><A NAME="4306"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getInstancePreferences().put(variableKey, variablePath.toString());<br><FONT ID="LN">4307</FONT><A NAME="4307"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4308</FONT><A NAME="4308"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Try">try</FONT> {<br><FONT ID="LN">4309</FONT><A NAME="4309"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getInstancePreferences().flush();<br><FONT ID="LN">4310</FONT><A NAME="4310"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <FONT ID="Catch">catch</FONT> (<A HREF="../../../../../org/osgi/service/prefs/BackingStoreException.java.htm">BackingStoreException</A> e) {<br><FONT ID="LN">4311</FONT><A NAME="4311"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="SingleLineComment">// ignore exception<br><FONT ID="LN">4312</FONT><A NAME="4312"></A></FONT>        }<br><FONT ID="LN">4313</FONT><A NAME="4313"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4314</FONT><A NAME="4314"></A><br><FONT ID="LN">4315</FONT><A NAME="4315"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="MultiLineComment">/*<br><FONT ID="LN">4316</FONT><A NAME="4316"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Optimize startup case where 1 variable is initialized at a time with the same value as on shutdown.<br><FONT ID="LN">4317</FONT><A NAME="4317"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</FONT><br><FONT ID="LN">4318</FONT><A NAME="4318"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> variablePutIfInitializingWithSameValue(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A>[] variableNames, IPath[] variablePaths) {<br><FONT ID="LN">4319</FONT><A NAME="4319"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (variableNames.length != <FONT ID="IntegerLiteral">1</FONT>)<br><FONT ID="LN">4320</FONT><A NAME="4320"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">4321</FONT><A NAME="4321"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> variableName = variableNames[<FONT ID="IntegerLiteral">0</FONT>];<br><FONT ID="LN">4322</FONT><A NAME="4322"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath oldPath = variableGetDefaultToPreviousSession(variableName);<br><FONT ID="LN">4323</FONT><A NAME="4323"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (oldPath == <FONT ID="Null">null</FONT>)<br><FONT ID="LN">4324</FONT><A NAME="4324"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">4325</FONT><A NAME="4325"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPath newPath = variablePaths[<FONT ID="IntegerLiteral">0</FONT>];<br><FONT ID="LN">4326</FONT><A NAME="4326"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="If">if</FONT> (!oldPath.equals(newPath))<br><FONT ID="LN">4327</FONT><A NAME="4327"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;<br><FONT ID="LN">4328</FONT><A NAME="4328"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variablePut(variableName, newPath);<br><FONT ID="LN">4329</FONT><A NAME="4329"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;<br><FONT ID="LN">4330</FONT><A NAME="4330"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4331</FONT><A NAME="4331"></A><br><FONT ID="LN">4332</FONT><A NAME="4332"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> contentTypeChanged(ContentTypeChangeEvent event) {<br><FONT ID="LN">4333</FONT><A NAME="4333"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Util.resetJavaLikeExtensions();<br><FONT ID="LN">4334</FONT><A NAME="4334"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><FONT ID="LN">4335</FONT><A NAME="4335"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4336</FONT><A NAME="4336"></A><br><FONT ID="LN">4337</FONT><A NAME="4337"></A>&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> cacheToString(<A HREF="../../../../../java/lang/String.java.htm">String</A>  <A HREF= "/777.htm"><img SRC="../../../../../../cmn/javadoc.gif" alt="JavaDoc" border="0"></A> prefix) {<br><FONT ID="LN">4338</FONT><A NAME="4338"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>.cache.toStringFillingRation(prefix);<br><FONT ID="LN">4339</FONT><A NAME="4339"></A>&nbsp;&nbsp;&nbsp;&nbsp;}<br><FONT ID="LN">4340</FONT><A NAME="4340"></A>}<br><FONT ID="LN">4341</FONT><A NAME="4341"></A></CODE>              <script type="text/javascript">doContentColumn2();</script>            </div>            <div id="contentHeading3" class="inside">              <!--contentHeading3-->            </div>            <div id="contentColumn3" class="inside">              <!--contentColumn3-->              <script type="text/javascript">doContentColumn3();</script>            </div>            <div id="contentHeading4" class="inside">              <!--contentHeading4-->            </div>            <div id="contentColumn4" class="inside">              <!--contentColumn4-->              <script type="text/javascript">doContentColumn4();</script>            </div>            <div id="contentHeading5" class="inside">              <!--contentHeading5-->            </div>            <div id="contentColumn5" class="inside">              <!--contentColumn5-->              <script type="text/javascript">doContentColumn5();</script>            </div>          </td>          <td id="rightColumn">            <div id="rightHeading1" class="inside">              <!--rightHeading1-->            </div>            <div id="rightColumn1" class="inside">              <!--rightColumn1-->              <a href="/browse.html" title="JavaDoc, source codes and sample codes for all the Java SE, EE, and ME methods organized alphabetically in one central place." id="menu1" target="_top">A to Z: JavaDoc & Examples</a>              <hr class="hide">              <a href="/news" title="Daily Java news and articles, updated continuously from 100+ Java news sources." id="menu2" target="_top">Daily Java News & Articles</a>              <hr class="hide">              <a href="/prj" title="Java Open Source Projects by Tags." id="menu3" target="_top">Open Source Projects</a>              <hr class="hide">              <a href="/src" title="34,081,897 lines of Java Open Source Codes." id="menu4" target="_top">Open Source Codes</a>              <hr class="hide">              <a href="/books" title="A large collection of free online computer books." id="menu5" target="_top">Free Computer Books</a>              <hr class="hide">              <a href=# title="Remove Frame." onclick="removeFrame();" id="menu6" target="_top">Remove Frame</a>              <hr class="hide">              <script type="text/javascript">doRightColumn1();</script>            </div>            <div id="rightHeading2" class="inside">              <!--rightHeading2-->            </div>            <div id="rightColumn2" class="inside">              <!--rightColumn2-->              <script type="text/javascript">doRightColumn2();</script>            </div>            <div id="rightHeading3" class="inside">              Popular Tags            </div>            <div id="rightColumn3" class="inside">              <!--rightColumn3-->              <script type="text/javascript">doRightColumn3();</script>            </div>            <div id="rightHeading4" class="inside">              <!--rightHeading4-->            </div>            <div id="rightColumn4" class="inside">              <!--rightColumn4-->              <script type="text/javascript">doRightColumn4();</script>            </div>            <div id="rightHeading5" class="inside">              <!--rightHeading5-->            </div>            <div id="rightColumn5" class="inside">              <!--rightColumn5-->              <script type="text/javascript">doRightColumn5();</script>            </div>          </td>        </tr>      </table>      <table id="Bottom1">        <tr>          <td id="Bottom10"><script type="text/javascript">doBottom10();</script></td>          <td id="Bottom11"><script type="text/javascript">doBottom11();</script></td>          <td id="Bottom12"><script type="text/javascript">doBottom12();</script></td>          <td id="Bottom13"><script type="text/javascript">doBottom13();</script></td>          <td id="Bottom14"><script type="text/javascript">doBottom14();</script></td>          <td id="Bottom15"><script type="text/javascript">doBottom15();</script></td>          <td id="Bottom16"><script type="text/javascript">doBottom16();</script></td>          <td id="Bottom17"><script type="text/javascript">doBottom17();</script></td>          <td id="Bottom18"><script type="text/javascript">doBottom18();</script></td>          <td id="Bottom10"><script type="text/javascript">doBottom19();</script></td>        </tr>      </table>      <table id="Bottom2">        <tr>          <td id="Bottom20"><script type="text/javascript">doBottom20();</script></td>          <td id="Bottom21"><script type="text/javascript">doBottom21();</script></td>          <td id="Bottom22"><script type="text/javascript">doBottom22();</script></td>          <td id="Bottom23"><script type="text/javascript">doBottom23();</script></td>          <td id="Bottom24"><script type="text/javascript">doBottom24();</script></td>          <td id="Bottom25"><script type="text/javascript">doBottom25();</script></td>          <td id="Bottom26"><script type="text/javascript">doBottom26();</script></td>          <td id="Bottom27"><script type="text/javascript">doBottom27();</script></td>          <td id="Bottom28"><script type="text/javascript">doBottom28();</script></td>          <td id="Bottom29"><script type="text/javascript">doBottom29();</script></td>        </tr>      </table>      <div id="footer" class="inside">        <hr class="hide">        <p>          Java <acronym title="Application Programming Interface">API</acronym> By Example, From Geeks To Geeks.&nbsp;|&nbsp;          <A href="http://121space.com/blog/kickjava" target="_top">Our Blog</A>&nbsp;|&nbsp;          <A href="/cmn/condition.html" target="_top">Conditions of Use</A><A href="/sitemap_index.xml"> </a>&nbsp;|&nbsp;          <A href="/cmn/about.html" target="_top">About Us</A><A href="/all.html.gz">_</a>&nbsp;|&nbsp;          <script type="text/javascript">doFooter();</script>        </p>      </div>    </div>    <script type="text/javascript">doBodyEnd();</script>    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>    <script type="text/javascript">_uacct = "UA-437240-2";urchinTracker();</script>    <DIV ID="divWindow" NAME="divWindow"></DIV>  </body></html>
