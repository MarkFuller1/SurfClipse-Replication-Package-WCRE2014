<!DOCTYPE html>
<html>
<head>
	            <title>SSL Troubleshooting and Reference Guide - CAS User Manual - Jasig Wiki</title>
    
        

                        
    
                        
    

                
    
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<!-- Deprecated since 3.4. To be removed in a future version of Confluence; use AJS.Confluence.getContextPath() -->
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="https://wiki.jasig.org">

<meta id="atlassian-token" name="atlassian-token" content="f45a55de7c189e05f04074ea0d588bd27c3b6b57">

<meta id="confluence-space-key" name="confluence-space-key" content="CASUM">
<script type="text/javascript">
    // Deprecated global variables. To be removed in a future version of Confluence.
    var contextPath = '';
</script>

    

<!-- include system css resources -->


    <!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/64/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/64/_/download/superbatch/css/batch.css?media=print" media="print">
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/64/_/download/superbatch/css/batch.css" media="all">
<!--[if gte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/64/_/download/superbatch/css/batch.css?conditionalComment=gte+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/64/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/64/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/e74ebe2423acb7d80fab292b64a3a505/_/download/contextbatch/css/main/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/ff82d997fb3c1575b19f06a6bc748b94/_/download/contextbatch/css/atl.general/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/ff82d997fb3c1575b19f06a6bc748b94/_/download/contextbatch/css/atl.general/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/2.0.20/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/2.0.20/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-confluence/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-confluence.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/2.2.3/_/download/batch/confluence.macros.advanced:children-resource/confluence.macros.advanced:children-resource.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/21/_/styles/colors.css?spaceKey=CASUM" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/1.0/_/download/resources/com.atlassian.confluence.themes.default:styles/default-theme.css" media="all">

<!-- end system css resources -->

    <meta name="confluence-request-time" content="1386980370046">
<!-- Deprecated since 3.4. To be removed in a future version of Confluence; use atl.header -->
        
            <script type="text/x-template" title="share-content-popup">
    <form action="#" method="post" class="aui share-content-popup">
        <div class="field-group">
            <div class="autocomplete-user-target">
                <input class="text autocomplete-sharepage" id="users" data-max="10" data-dropdown-target=".autocomplete-user-target" data-none-message="No matching user or email found" placeholder="User name or email"/>
            </div>
            <ol class="recipients">
            </ol>
        </div>
        <div class="field-group">
            <textarea class="textarea" id="note" placeholder="Add an optional note"/>
        </div>
        <div class="field-group button-panel">
            <div class="progress-messages-icon"></div>
            <div class="progress-messages">
            </div>
            <input class="button submit" type="submit" value="Share" disabled/>
            <a class="close-dialog" href="#">Cancel</a>
        </div>
    </form>
</script>

<script type="text/x-template" title="share-content-popup-recipient-username">
    <li data-username="{username}" style="display: none">
        <img src="{thumbnailLink.href}" title="{title}">
        <span class="title" title="{title}">{title}</span>
        <span class="remove-recipient"/>
    </li>
</script>

<script type="text/x-template" title="share-content-popup-recipient-email">
    <li data-email="{email}" style="display: none">
        <img src="{icon}" title="{email}">
        <span class="title" title="{email}">{email}</span>
        <span class="remove-recipient"/>
    </li>
</script>
            <script type="text/x-template" title="gliffy-footer-webpanel">
    <div class="gliffy-footer-webpanel"><span>This Confluence installation runs a Free Gliffy License - Evaluate the <a href="http://www.gliffy.com/products/confluence-plugin/">Gliffy Confluence Plugin</a> for your Wiki!</span></div>
</script>

<meta name="gliffy-license-type" content="OPEN_SOURCE">
<meta name="gliffy-license-quantity" content="-1">



    
        
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-keyboardshortcut-hash" content="e176133e83af49fcfe5f38ef0b694344">
            <meta name="ap-request-id" content="47db306eccc1413a">
            <style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.acs-side-bar {visibility: hidden;}</style>
            

    
            
    
    
            <meta name="ajs-page-id" content="28574092">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="SSL Troubleshooting and Reference Guide">
            <meta name="ajs-parent-page-title" content="Troubleshooting">
            <meta name="ajs-parent-page-id" content="6062801">
            <meta name="ajs-space-key" content="CASUM">
            <meta name="ajs-space-name" content="CAS User Manual">
            <meta name="ajs-editor.loader.comment.resources" content="&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/931010d351dc7f270b74458129a8e810/_/download/contextbatch/css/comment-editor/batch.css&quot; media=&quot;all&quot;&gt;
">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://wiki.jasig.org">
            <meta name="ajs-version-number" content="5.1.3">
            <meta name="ajs-build-number" content="4226">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/_">
            <meta name="ajs-global-settings-attachment-max-size" content="104857600">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="">
            <meta name="ajs-atl-token" content="f45a55de7c189e05f04074ea0d588bd27c3b6b57">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-editor.loader.resources" content="&lt;!--[if lt IE 9]&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/d0b5f52e1c4cd1866960caf487f232d4/_/download/contextbatch/css/editor,macro-browser,fullpage-editor/batch.css?conditionalComment=lt+IE+9&quot; media=&quot;all&quot;&gt;
&lt;![endif]--&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/d0b5f52e1c4cd1866960caf487f232d4/_/download/contextbatch/css/editor,macro-browser,fullpage-editor/batch.css&quot; media=&quot;all&quot;&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/d0b5f52e1c4cd1866960caf487f232d4/_/download/contextbatch/css/editor,macro-browser,fullpage-editor/batch.css?media=%28max-width%3A+1270px%29&quot; media=&quot;(max-width: 1270px)&quot;&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/5.3.2/_/download/batch/com.gliffy.integration.confluence:gliffy-editor-linknavigator/com.gliffy.integration.confluence:gliffy-editor-linknavigator.css&quot; media=&quot;all&quot;&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/5.3.2/_/download/batch/com.gliffy.integration.confluence:gliffy-rte-flash-resources/com.gliffy.integration.confluence:gliffy-rte-flash-resources.css&quot; media=&quot;all&quot;&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/d0b5f52e1c4cd1866960caf487f232d4/_/download/contextbatch/js/editor,macro-browser,fullpage-editor/batch.js&quot; &gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/5.3.2/_/download/batch/com.gliffy.integration.confluence:gliffy-editor-linknavigator/com.gliffy.integration.confluence:gliffy-editor-linknavigator.js&quot; &gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/5.3.2/_/download/batch/com.gliffy.integration.confluence:gliffy-rte-flash-resources/com.gliffy.integration.confluence:gliffy-rte-flash-resources.js&quot; &gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/5.3.2/_/download/batch/com.gliffy.integration.confluence:gliffy-editor-flash/com.gliffy.integration.confluence:gliffy-editor-flash.js&quot; &gt;&lt;/script&gt;
">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="/opensearch/osd.action" title="Jasig Wiki"/>

    <!-- include system javascript resources -->
    <script type="text/javascript" src="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/64/_/download/superbatch/js/batch.js" ></script>
<!--[if lte IE 8]>
<script type="text/javascript" src="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/64/_/download/superbatch/js/batch.js?conditionalComment=lte+IE+8" ></script>
<![endif]-->
<script type="text/javascript" src="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/1ceae0bda79b0d30d895be8776d21aa2/_/download/contextbatch/js/atl.comments/batch.js" ></script>
<script type="text/javascript" src="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/e74ebe2423acb7d80fab292b64a3a505/_/download/contextbatch/js/main/batch.js" ></script>
<script type="text/javascript" src="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/ff82d997fb3c1575b19f06a6bc748b94/_/download/contextbatch/js/atl.general/batch.js" ></script>
<script type="text/javascript" src="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/2.0.20/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter.js" ></script>
<script type="text/javascript" src="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/2.0.20/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-brushes/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-brushes.js" ></script>
<script type="text/javascript" src="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/1.1.27/_/download/batch/com.atlassian.mywork.mywork-confluence-host-plugin:mw-header-anchor/com.atlassian.mywork.mywork-confluence-host-plugin:mw-header-anchor.js" ></script>

    

        
    <!-- end system javascript resources -->
    

    
</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-default  aui-layout aui-theme-default">

        
    <ul id="assistive-skip-links" class="assistive">
    <li><a href="#title-heading">Skip to content</a></li>
    <li><a href="#breadcrumbs">Skip to breadcrumbs</a></li>
    <li><a href="#header-menu-bar">Skip to header menu</a></li>
    <li><a href="#navigation">Skip to action menu</a></li>
    <li><a href="#quick-search-query">Skip to quick search</a></li>
</ul>
<div id="page">
<div id="full-height-container">
    <div id="header-precursor">
        <div class="cell">
            
                            </div>
    </div>
    



<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class="aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-haspopup="true" tabindex="0"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default"><div class="app-switcher-loading">Loading&hellip;</div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="/"><img src="/s/en_GB-1988229788/4226/d7686547091e645d7b0285207c0b86be721c74eb.15/_/images/logo/confluence-logo.png" alt="Jasig Wiki" /></a></h1><ul class="aui-nav">
                            <li>
            
        
        
<a  id="space-directory-link" href="/spacedirectory/view.action"  class=" aui-nav-imagelink"   title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                        </ul>
</div><div class="aui-header-secondary"><ul class="aui-nav">
                <li>
<form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="/dosearchsite.action" method="get">
    <fieldset>
                        <label for="quick-search-query" class="assistive">Quick Search</label>
        <input id="quick-search-query" class="text app-search search quick-search-query" type="text"
               accessKey="q" autocomplete="off" name="queryString" title="Quick Search"  placeholder="Search" />
        <input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search"/>

        <div class="aui-dd-parent quick-nav-drop-down"></div>
    </fieldset>
    <div class="hidden parameters">
                    <!-- putMetadata failed to add value for key "quick-nav-enabled" so rendering metadata inline - see server debug log for details -->
        <meta name="ajs-quick-nav-enabled" content="true">
                </div>
</form>
</li>
    <li>    
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help">
        <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span><span class="aui-icon-dropdown"></span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                <ul  id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
        
<a  id="confluence-help-link" href="http://docs.atlassian.com/confluence/docs-51/Getting+Help+And+Support" class="    "      title="Visit the Confluence documentation home"  target="_blank"
>
        Online Help
</a>
</li>
                                            <li>
    
            
<a  id="keyboard-shortcuts-link" href="#" class="    "      title="View available keyboard shortcuts" >
        Keyboard Shortcuts
</a>
</li>
                                            <li>
    
        
<a  id="feed-builder-link" href="/dashboard/configurerssfeed.action" class="    "      title="Create your custom RSS feed." >
        Feed Builder
</a>
</li>
                                            <li>
    
        
<a  id="whats-new-menu-link" href="http://docs.atlassian.com/confluence/docs-51/whatsnew/iframe" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
            
<a  id="gadget-directory-link" href="#" class="   user-item administration-link "      title="Browse gadgets provided by Confluence" >
        Available Gadgets
</a>
</li>
                                    </ul>
            </div>
            </nav>
    </li>
    <li>    
    </li>
                <li>                                    <li>
    
        
<a  id="login-link" href="/login.action?os_destination=%2Fdisplay%2FCASUM%2FSSL%2BTroubleshooting%2Band%2BReference%2BGuide" class="   user-item login-link "      title="" >
        Log In
</a>
</li>
                        </li>
</ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

        <!-- \#header -->

        
        <div id="main" class=" aui-page-panel">
                <div id="main-header">
            
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                    
                    
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action ajs-menu-title aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation"><span><span>Tools</span></span></a>         <div id="action-menu" class="aui-dropdown2 aui-style-default">
                            <ul  id="action-menu-primary"                     class="section-primary first aui-dropdown2-section">
                                            <li>

    
        
    
    <a  id="view-attachments-link" href="/pages/viewpageattachments.action?pageId=28574092"  class="action-view-attachments"  accessKey="t"  title="View Attachments">
                <span>A<u>t</u>tachments (1)</span>    </a>
</li>
                                        <li>

    
        
    
    <a  id="action-view-history-link" href="/pages/viewpreviousversions.action?pageId=28574092"  class="action-view-history"   title="">
                <span>Page History</span>    </a>
</li>
                                        <li>

    
        
    
    <a  id="action-page-permissions-link" href="/pages/viewinfo.action?pageId=28574092"  class="action-page-permissions"   title="Edit restrictions">
                <span>Restrictions</span>    </a>
</li>
                                </ul>
                            <ul  id="action-menu-secondary"                     class="section-secondary aui-dropdown2-section">
                                            <li>

    
        
    
    <a  id="view-page-info-link" href="/pages/viewinfo.action?pageId=28574092"  class="action-view-info"   title="">
                <span>Page Information</span>    </a>
</li>
                                        <li>

    
        
    
    <a  id="link-to-page-link" href="/pages/viewinfo.action?pageId=28574092"  class=""   title="Link to this Page">
                <span>Link to this Page…</span>    </a>
</li>
                                        <li>

    
        
    
    <a  id="view-in-hierarchy-link" href="/pages/reorderpages.action?key=CASUM&amp;openId=28574092#selectedPageInHierarchy"  class=""   title="">
                <span>View in Hierarchy</span>    </a>
</li>
                                        <li>

    
        
    
    <a  id="action-view-source-link" href="/plugins/viewsource/viewpagesrc.action?pageId=28574092"  class="action-view-source popup-link"   title="">
                <span>View Source</span>    </a>
</li>
                                        <li>

    
        
    
    <a  id="action-export-pdf-link" href="/spaces/flyingpdf/pdfpageexport.action?pageId=28574092"  class=""   title="">
                <span>Export to PDF</span>    </a>
</li>
                                        <li>

    
        
    
    <a  id="action-export-word-link" href="/exportword?pageId=28574092"  class="action-export-word"   title="">
                <span>Export to Word</span>    </a>
</li>
                                </ul>
                    </div>
    </li>
            </ul>
    </div>

            
            <h1 id="title-heading" class="pagetitle with-breadcrumbs">
                
                                    <div id="breadcrumb-section">
                        
    
    
    <ol id="breadcrumbs">
                    
                
        <li class="first" >
                

                    <span class=""><a href="/collector/pages.action?key=CASUM">Pages</a></span>
                            
                
        <li>
                

                    <span class=""><a href="/display/CASUM/Home">Home</a></span>
                            
                
        <li>
                

                    <span class=""><a href="/display/CASUM/Troubleshooting">Troubleshooting</a></span>
                </ol>


                    </div>
                
                <span id="title-text" class="with-breadcrumbs">
                                                <a href="/display/CASUM/SSL+Troubleshooting+and+Reference+Guide">SSL Troubleshooting and Reference Guide</a>
                                    </span>
            </h1>
        </div><!-- \#main-header -->
        
        

        <div id="sidebar-container">
                                                </div><!-- \#sidebar-container -->

        
    

        




        

    
    
        
    
    
    


<div id="content" class="page view">
    
<div id="action-messages">
                        </div>

        
    
                

        
        <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">

    
            
    
    <a  id="content-metadata-page-restrictions" href="#"  class="page-metadata-icon page-restrictions hidden"   title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                <span>Page restrictions apply</span>    </a>
</li>
                            <li class="page-metadata-item noprint">

    
        
    
    <a  id="content-metadata-attachments" href="/pages/viewpageattachments.action?pageId=28574092&amp;metadataLink=true"  class="page-metadata-icon action-view-attachments"  accessKey="t"  title="Attachments: 1">
                <span><span class="page-metadata-attachments-text">Attachments:</span><span class="page-metadata-attachments-count">1</span></span>    </a>
</li>
                        <li class="page-metadata-modification-info">
                                    Added by <a href="    /display/~serac
"
                          class="url fn"
                   >Marvin S. Addison</a>, last edited by <a href="    /display/~robertoschwald
"
                          class="url fn"
                   >Robert Oschwald</a> on Jul 09, 2013
                                                                <span class="noprint">&nbsp;(<a id="view-change-link" href="/pages/diffpages.action?pageId=28574092&originalId=60293154">view change</a>)</span>
                                                </li>
                            <li class="show-hide-comment-link">
                    <a id="show-version-comment" class="inline-control-link" href="#">show comment</a>
                    <a id="hide-version-comment" class="inline-control-link" style="display:none;" href="#">hide comment</a>
                </li>
                    </ul>
                <div id="version-comment" class="noteMacro">
        <strong>Comment:</strong>
        wikipedia ref to SNI<br />
    </div>
        </div>


<a href="#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>
        <style>
.spacetree * ul{
padding-left:0px;
margin-left: 0px;
}
.spacetree * li{
margin-left: 5px;
padding-left:5px;
}

</style>

<table cellspacing="2" cellpadding="5">
<tr>
<td valign="top" align="left" width="22%" bgcolor="#F9F9F9" class="noprint">
<div class="tabletitle">Table of Contents</div>
<div class="spacetree">
                        <h5 id="Navigation-Home"><a href="/display/CASUM/Home">Home</a></h5><h5 id="Navigation-OverallArchitecture"><a href="/display/CASUM/Overall+Architecture">Overall Architecture</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/Building+and+Deploying">Building and Deploying</a></li><li><a href="/display/CASUM/Development">Development</a></li><li><a href="/display/CASUM/Introduction">Introduction</a></li><li><a href="/display/CASUM/Java+Versions">Java Versions</a></li><li><a href="/display/CASUM/Releasing">Releasing</a></li><li><a href="/display/CASUM/Spring+Configuration">Spring Configuration</a></li><li><a href="/display/CASUM/Technical+Overview">Technical Overview</a></li><li><a href="/display/CASUM/Upgrading">Upgrading</a></li></ul></p><h5 id="Navigation-Authentication"><a href="/display/CASUM/Authentication">Authentication</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/Active+Directory">Active Directory</a></li><li><a href="/display/CASUM/Generic">Generic</a></li><li><a href="/display/CASUM/JAAS">JAAS</a></li><li><a href="/display/CASUM/JDBC">JDBC</a></li><li><a href="/display/CASUM/LDAP">LDAP</a></li><li><a href="/display/CASUM/Legacy">Legacy</a></li><li><a href="/display/CASUM/RADIUS">RADIUS</a></li><li><a href="/display/CASUM/SPNEGO">SPNEGO</a></li><li><a href="/display/CASUM/Trusted">Trusted</a></li><li><a href="/display/CASUM/X.509+Certificates">X.509 Certificates</a></li></ul></p><h5 id="Navigation-AuthenticationManagers"><a href="/display/CASUM/Authentication+Managers">Authentication Managers</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/AuthenticationHandler-to-PrincipalResolver+AuthenticationManager">AuthenticationHandler-to-PrincipalResolver AuthenticationManager</a></li><li><a href="/display/CASUM/Default+AuthenticationManager">Default AuthenticationManager</a></li><li><a href="/display/CASUM/Direct+Mapping+AuthenticationManager">Direct Mapping AuthenticationManager</a></li></ul></p><h5 id="Navigation-SecurityPolicy"><a href="/display/CASUM/Security+Policy">Security Policy</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/Ticket+Expiration+Policy">Ticket Expiration Policy</a></li><li><a href="/display/CASUM/Remember+Me">Remember Me</a></li><li><a href="/display/CASUM/Throttling+Login+Attempts">Throttling Login Attempts</a></li></ul></p><h5 id="Navigation-TicketRegistry"><a href="/display/CASUM/TicketRegistry">TicketRegistry</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/BerkleyDB">BerkleyDB</a></li><li><a href="/display/CASUM/Default">Default</a></li><li><a href="/display/CASUM/EhcacheTicketRegistry">EhcacheTicketRegistry</a></li><li><a href="/display/CASUM/JBOSS+TreeCache">JBOSS TreeCache</a></li><li><a href="/display/CASUM/JDBCTicketRegistry">JDBCTicketRegistry</a></li><li><a href="/display/CASUM/JpaTicketRegistry">JpaTicketRegistry</a></li><li><a href="/display/CASUM/MemcacheTicketRegistry">MemcacheTicketRegistry</a></li><li><a href="/display/CASUM/TicketRegistry+Cleaner">TicketRegistry Cleaner</a></li></ul></p><h5 id="Navigation-Testing"><a href="/display/CASUM/Testing">Testing</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/Apache+JMeter">Apache JMeter</a></li><li><a href="/display/CASUM/Java+HttpComponents+Based+Test+Class">Java HttpComponents Based Test Class</a></li><li><a href="/display/CASUM/Nagios+plugins">Nagios plugins</a></li></ul></p><h5 id="Navigation-Protocols"><a href="/display/CASUM/Protocols">Protocols</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/Add+Your+Custom+Protocol">Add Your Custom Protocol</a></li><li><a href="/display/CASUM/Applications+that+Require+POST+Responses">Applications that Require POST Responses</a></li><li><a href="/display/CASUM/CAS">CAS</a></li><li><a href="/display/CASUM/OAuth">OAuth</a></li><li><a href="/display/CASUM/OpenID">OpenID</a></li><li><a href="/pages/viewpage.action?pageId=57577635">pac4j = CAS/OAuth/OpenID client support</a></li><li><a href="/display/CASUM/RESTful+API">RESTful API</a></li><li><a href="/display/CASUM/SAML+1.1">SAML 1.1</a></li><li><a href="/pages/viewpage.action?pageId=6063484">SAML 2.0 (Google Accounts Integration)</a></li><li><a href="/display/CASUM/Single+Sign+Out">Single Sign Out</a></li></ul></p><h5 id="Navigation-AdvancedTopics"><a href="/display/CASUM/Advanced+Topics">Advanced Topics</a></h5><p><ul class='childpages-macro'><li><a href="/pages/viewpage.action?pageId=13570204">Adding &quot;Public Workstation&quot; vs. &quot;Private Workstation&quot; Timeouts</a></li><li><a href="/display/CASUM/Auditing+and+Statistics+Via+Inspektr">Auditing and Statistics Via Inspektr</a></li><li><a href="/display/CASUM/Internationalization">Internationalization</a></li><li><a href="/pages/viewpage.action?pageId=26149328">LDAP Password Policy Enforcement (LPPE)</a></li><li><a href="/display/CASUM/Second-Level+CAS+Server">Second-Level CAS Server</a></li><li><a href="/display/CASUM/Terracotta">Terracotta</a></li><li><a href="/display/CASUM/Use+Javascript+Redirection">Use Javascript Redirection</a></li><li><a href="/display/CASUM/Deployment+Scenarios">Deployment Scenarios</a></li><li><a href="/display/CASUM/Preserving+URL+anchor+fragments+on+login+form+submission">Preserving URL anchor fragments on login form submission</a></li><li><a href="/display/CASUM/Acceptable+Use+interface+for+Login+Webflow">Acceptable Use interface for Login Webflow</a></li><li><a href="/display/CASUM/Change+Password+Integration+With+Jasig+CAS+3.4.7">Change Password Integration With Jasig CAS 3.4.7</a></li><li><a href="/display/CASUM/Localization">Localization</a></li></ul></p><h5 id="Navigation-TutorialsandHOWTOs"><a href="/display/CASUM/Tutorials+and+HOWTOs">Tutorials and HOWTOs</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/CAS+on+Windows+Quick+Setup+Guide">CAS on Windows Quick Setup Guide</a></li><li><a href="/display/CASUM/Clustering+CAS">Clustering CAS</a></li><li><a href="/display/CASUM/Demo">Demo</a></li><li><a href="/display/CASUM/HOWTO+Configure+JBoss+for+HTTPS">HOWTO Configure JBoss for HTTPS</a></li><li><a href="/display/CASUM/HOWTO+Configure+Single+Sign+On+Session+Timeout">HOWTO Configure Single Sign On Session Timeout</a></li><li><a href="/display/CASUM/HOWTO+Setup+Dual+Authentication+in+CAS+-+SSL+Client+Auth+and+LDAP">HOWTO Setup Dual Authentication in CAS - SSL Client Auth and LDAP</a></li><li><a href="/pages/viewpage.action?pageId=10650669">HOWTO Setup LDAP GSSAPI+Kerberos Authentication in CAS</a></li><li><a href="/display/CASUM/HOWTO+Switch+to+Sun+JVM+in+RHEL">HOWTO Switch to Sun JVM in RHEL</a></li><li><a href="/display/CASUM/End-to-end+Windows+Example">End-to-end Windows Example</a></li><li><a href="/display/CASUM/HOWTO+Use+Jasypt+to+encrypt+passwords+in+configuration+files">HOWTO Use Jasypt to encrypt passwords in configuration files</a></li><li><a href="/pages/viewpage.action?pageId=47874068">HOWTO utilize javax.servlet.http.HttpServletRequest isUserInRole( java.lang.String role )</a></li><li><a href="/display/CASUM/Migrating+an+existing+CAS+server+installation">Migrating an existing CAS server installation</a></li><li><a href="/display/CASUM/Using+CAS+with+two+different+AD+forests">Using CAS with two different AD forests</a></li><li><a href="/display/CASUM/Best+Practice+-+Setting+Up+CAS+Locally+using+the+Maven+WAR+Overlay+Method">Best Practice - Setting Up CAS Locally using the Maven WAR Overlay Method</a></li><li><a href="/display/CASUM/Deploying+CAS+3.0.x+in+RHEL+5+with+Sun+Java">Deploying CAS 3.0.x in RHEL 5 with Sun Java</a></li><li><a href="/display/CASUM/HOWTO+CASifying+ASP.NET+WebApp+-+ExampleWebsite">HOWTO CASifying ASP.NET WebApp - ExampleWebsite</a></li><li><a href="/display/CASUM/HOWTO+Configure+CAS+for+LDAP+DIGEST-MD5">HOWTO Configure CAS for LDAP DIGEST-MD5</a></li><li><a href="/display/CASUM/HOWTO+Run+Canoo+Web+Tests">HOWTO Run Canoo Web Tests</a></li><li><a href="/display/CASUM/Shibboleth-CAS+Integration">Shibboleth-CAS Integration</a></li></ul></p><h5 id="Navigation-Troubleshooting"><a href="/display/CASUM/Troubleshooting">Troubleshooting</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/Logging">Logging</a></li><li><a href="/display/CASUM/SSL+Troubleshooting+and+Reference+Guide">SSL Troubleshooting and Reference Guide</a></li></ul></p><h5 id="Navigation-ServicesManagement"><a href="/display/CASUM/Services+Management">Services Management</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/Adding+a+New+Service">Adding a New Service</a></li><li><a href="/display/CASUM/Attributes">Attributes</a></li><li><a href="/display/CASUM/Configuring">Configuring</a></li><li><a href="/display/CASUM/Deleting">Deleting</a></li><li><a href="/display/CASUM/Editing">Editing</a></li></ul></p><h5 id="Navigation-Extensions"><a href="/display/CASUM/Extensions">Extensions</a></h5><p><ul class='childpages-macro'><li><a href="/display/CASUM/ClearPass">ClearPass</a></li></ul></p>
            </div>
</td>
<td valign="top" align="left" width="78%" class="pagecontent">
<div class="wiki-content">
                This page consists of an SSL error message troubleshooting reference followed by a discussion of SSL in Java that puts many of the solutions in context.<h2 id="SSLTroubleshootingandReferenceGuide-TroubleshootingSSLErrors">Troubleshooting SSL Errors</h2><p>This section contains the most often-cited SSL errors reported by the CAS server and CAS clients in typical CAS integration scenarios.</p><h3 id="SSLTroubleshootingandReferenceGuide-PKIXpathbuildingfailed">PKIX path building failed</h3><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>PKIX Example Stack Trace</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[Sep 28, 2009 4:13:26 PM org.jasig.cas.client.validation.AbstractCasProtocolUrlBasedTicketValidator retrieveResponseFromServer
SEVERE: javax.net.ssl.SSLHandshakeException:
sun.security.validator.ValidatorException: PKIX path building failed:
sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
javax.net.ssl.SSLHandshakeException:
sun.security.validator.ValidatorException: PKIX path building failed:
sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
      at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Unknown Source)
      at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(Unknown Source)
      at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Unknown Source)
      at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Unknown Source)
      at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(Unknown Source)
      at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(Unknown Source)
      at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Unknown Source)
      at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Unknown Source)
      at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(Unknown Source)
      at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)
      at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(Unknown Source)
      at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(Unknown Source)
      at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)
      at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)
      at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)
      at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(Unknown Source)
      at org.jasig.cas.client.validation.AbstractCasProtocolUrlBasedTicketValidator.retrieveResponseFromServer(AbstractCasProtocolUrlBasedTicketValidator.java:35)
      at org.jasig.cas.client.validation.AbstractUrlBasedTicketValidator.validate(AbstractUrlBasedTicketValidator.java:178)
      at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:132)
      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
]]></script>
</div></div><p>PKIX path building errors are by far the most common SSL errors reported on the <em>cas-user@lists.jasig.org</em> mailing list. The problem here is that the CAS <em>client</em> does not trust the certificate presented by the CAS server; most often this occurs because of using a <strong>self-signed certificate</strong> on the CAS server. To resolve this error, import the CAS server certificate into the system truststore of the CAS client. If the certificate is issued by your own PKI, it is better to import the root certificate of your PKI into the CAS client truststore. See <a href="#SSLTroubleshootingandReferenceGuide-ImportTrustedCertificate">Import Trusted Certificate</a> for examples of importing a trusted certificate into a Java truststore.</p><p>If you have multiple java editions installed on your machine, make sure that your app / web server is pointing to the correct jdk/jre version (The one to which the certificate has been exported correctly) One common mistake that occurs while generating self-validated certifcates is that the java_home might be different than that used by the server (especially if it is run within an IDE like Eclipse or Websphere)</p><h3 id="SSLTroubleshootingandReferenceGuide-Nosubjectalternativenamespresent">No subject alternative names present</h3><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Sample Alt Name Stack Trace</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names present
]]></script>
</div></div><p>In most cases this is a hostname/SSL certificate CN mismatch. This commonly happens when a self-signed certificate issued to localhost is placed on a machine that is accessed by IP address. It should be noted that generating a certificate with an IP address for a common name, e.g. CN=192.168.1.1,OU=Middleware,dc=vt,dc=edu, will not work in most cases where the client making the connection is Java. For example the Java CAS client will throw SSL errors on connecting to a CAS server secured with a certificate containing an IP address in the CN.</p><h3 id="SSLTroubleshootingandReferenceGuide-HTTPShostnamewrong">HTTPS hostname wrong</h3><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Sample Wrong Host Name Stack Trace</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[ava.lang.RuntimeException: java.io.IOException: HTTPS hostname wrong:  should be &lt;eiger.iad.vt.edu&gt;
	org.jasig.cas.client.validation.Saml11TicketValidator.retrieveResponseFromServer(Saml11TicketValidator.java:203)
	org.jasig.cas.client.validation.AbstractUrlBasedTicketValidator.validate(AbstractUrlBasedTicketValidator.java:185)
	org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:132)
	org.jasig.cas.client.authentication.AuthenticationFilter.doFilter(AuthenticationFilter.java:102)
]]></script>
</div></div><p>The above error occurs most commonly when the CAS client ticket validator attempts to contact the CAS server and is presented a certificate whose CN does not match the fully-qualified host name of the CAS server. There are a few common root causes of this mismatch:</p><ul class="alternate"><li>CAS client misconfiguration (usually a bad serverName init param)</li><li>Complex multi-tier server environment (e.g. clustered CAS server)</li><li>Host name too broad for scope of wildcard certificate</li></ul><p>It is also worth checking that the certificate your CAS server is using for SSL encryption matches the one the client is checking against. For example, if your CAS server's ticket validator URL is https://subdomain.correctdomain.com/&lt;something&gt; and you have accidentally configured Tomcat to use the certificate for <span style="color: rgb(68,68,68);">*.wrongdomain.com in it's SSL connector. You will get a bad certificate warning in the browser on the login page to hint at a problem but you ignore that warning (because you are using self signed certificates during development) and continue. Ticket validation will then fail with &quot;<span style="color: rgb(68,68,68);">java.security.cert.CertificateException: No name matching subdomain.correctdomain.com found&quot; because the public key the CAS server is providing is for *.wrongdomain.com. The CAS client looks for the *.wrongdomain.com certificate in cacerts and then tries to find a matching CN or alternate within that certificate. It will completely ignore the beautifully crafted *.correctdomain.com certificate you carefully imported into cacerts.</span></span></p><h4 id="SSLTroubleshootingandReferenceGuide-WildcardCertificates">Wildcard Certificates</h4><p>JSSE support for wildcard certificates is limited to hosts strictly in the same domain as the wildcard. For example, a certificate with CN=<strong>.vt.edu matches hosts *a.vt.edu</strong> and <strong>b.vt.edu</strong>, but <em>not</em> <strong>a.b.vt.edu</strong>.</p><h2 id="SSLTroubleshootingandReferenceGuide-unrecognized_nameError" class="wiki">unrecognized_name Error</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>JDK unrecognized_name SSL error</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[javax.net.ssl.SSLProtocolException: handshake alert: unrecognized_name ]]></script>
</div></div><p> </p><p class="wiki">The above error occurs mainly in Oracle JDK 7 CAS Server installations. In JDK7, <a href="http://en.wikipedia.org/wiki/Server_Name_Indication" class="external-link" rel="nofollow">SNI</a> (Server Name Indication) is enabled by default. When the HTTPD Server does not send the correct Server Name back, the JDK HTTP Connection refuses to connect and the exception stated above is thrown.</p><p class="wiki">To fix the issue, you must ensure your HTTPD Server is sending back the correct hostname. E.g. in Apache HTTPD, you must set the ServerAlias in the SSL vhost:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Apache HTTPD ServerAlias to fix SNI error</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[ServerName your.ssl-server.name
ServerAlias your.ssl-server.name]]></script>
</div></div><p> </p><p class="wiki">Alternatively, you can disable the SNI detection in JDK7, by adding this flag to the Java options of your CAS Servers' application server configuration:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Disable SNI in JDK7</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[-Djsse.enableSNIExtension=false]]></script>
</div></div><p class="wiki"> </p><h2 id="SSLTroubleshootingandReferenceGuide-Keystore/TrustStoreReference">Keystore/TrustStore Reference</h2><h3 id="SSLTroubleshootingandReferenceGuide-ImportTrustedCertificate">Import Trusted Certificate</h3><p>By default the Java system truststore is at <strong>$JAVA_HOME/jre/lib/security/cacerts</strong>. The certificate to be imported <strong>MUST</strong> be a DER-encoded file. If the contents of the certificate file are binary, it's likely DER-encoded; if the file begins with the text <code>--<span style="text-decoration: line-through;">-</span></code><code>BEGIN CERTIFICATE</code>---, it is PEM-encoded and needs to be converted to DER encoding. The following example demonstrates a conversion command using OpenSSL.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Convert PEM-encoded Cert to DER Encoding</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[openssl x509 -in etc/pki/incommon-root-cert.pem -out tmp/incommon-root-cert.der -outform DER
]]></script>
</div></div><p>Once the certificate file is properly in the DER-encoded format, it may be imported using the <a href="http://java.sun.com/j2se/1.5.0/docs/tooldocs/solaris/keytool.html" class="external-link" rel="nofollow">keytool</a> command.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Keytool Import Command</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[keytool -import -keystore $JAVA_HOME/jre/lib/security/cacerts -file tmp/incommon-root-cert.der -alias incommon
]]></script>
</div></div><h3 id="SSLTroubleshootingandReferenceGuide-ListTrustedCertificates">List Trusted Certificates</h3><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[keytool -v -list -keystore $JAVA_HOME/jre/lib/security/cacerts
]]></script>
</div></div><h3 id="SSLTroubleshootingandReferenceGuide-AlternativestoSunkeytoolUtility">Alternatives to Sun keytool Utility</h3><ul><li><a href="http://portecle.sourceforge.net/" class="external-link" rel="nofollow">Portecle</a> is a Java GUI tool that can handle all the keystore and certificate formats I've ever encountered. Very easy to use and recommended if you are uncomfortable with CLI tools.</li><li><a href="http://code.google.com/p/vt-middleware/wiki/vtcrypt#keystore_-_Keystore_Operations" class="external-link" rel="nofollow">keystore</a>is a CLI tool that has a couple notable improvements on keytool:<ul><li>Support for both PEM and DER-encoded files.</li><li>You can import a certificate/key pair directly into a keystore. (With keytool, keys never leave the keystore; you generate them, then a corresponding CSR, then import the matching certificate once it is issued.)</li></ul></li></ul><h3 id="SSLTroubleshootingandReferenceGuide-WhenAllElseFails">When All Else Fails</h3><p>If you have read, understood, and tried all the troubleshooting tips on this page and continue to have problems, please perform an SSL trace and attach it to a posting to the <em>cas-user@lists.jasig.org</em> mailing list. An SSL trace is written to STDOUT when the following system property is set, <code>javax.net.debug=ssl</code>. An example follows of how to do this in the Tomcat servlet container.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Sample setenv.sh Tomcat Script</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[# Uncomment the next 4 lines for custom SSL keystore
# used by all deployed applications
#KEYSTORE=&quot;$HOME/path/to/custom.keystore&quot;
#CATALINA_OPTS=$CATALINA_OPTS&quot; -Djavax.net.ssl.keyStore=$KEYSTORE&quot;
#CATALINA_OPTS=$CATALINA_OPTS&quot; -Djavax.net.ssl.keyStoreType=BKS&quot;
#CATALINA_OPTS=$CATALINA_OPTS&quot; -Djavax.net.ssl.keyStorePassword=changeit&quot;

# Uncomment the next 4 lines to allow custom SSL trust store
# used by all deployed applications
#TRUSTSTORE=&quot;$HOME/path/to/custom.truststore&quot;
#CATALINA_OPTS=$CATALINA_OPTS&quot; -Djavax.net.ssl.trustStore=$TRUSTSTORE&quot;
#CATALINA_OPTS=$CATALINA_OPTS&quot; -Djavax.net.ssl.trustStoreType=BKS&quot;
#CATALINA_OPTS=$CATALINA_OPTS&quot; -Djavax.net.ssl.trustStorePassword=changeit&quot;

# Uncomment the next line to print SSL debug trace in catalina.out
#CATALINA_OPTS=$CATALINA_OPTS&quot; -Djavax.net.debug=ssl&quot;

export CATALINA_OPTS
]]></script>
</div></div>
    
</div>
</td>
</tr>
</table>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://wiki.jasig.org/display/CASUM/SSL+Troubleshooting+and+Reference+Guide"
    dc:identifier="https://wiki.jasig.org/display/CASUM/SSL+Troubleshooting+and+Reference+Guide"
    dc:title="SSL Troubleshooting and Reference Guide"
    trackback:ping="https://wiki.jasig.org/rpc/trackback/28574092"/>
</rdf:RDF>
-->

            
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="28574092" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
            <li class="no-labels-message">
            No labels
        </li>
            </ul>

    </div>
</div></div>

            
            




            
    








                    
    
<div id="comments-section" class="pageSection group">
    
    
    
    
            <div class="bottom-comment-panels comment-panels">
                                    
    


    
            </div>
    
    </div>


            
</div>


    




    
    

    
    
    







    </div><!-- \#main -->
        
    
        
            <div id="footer">

    <section class="footer-body">

                                                <p class="license license-opensource">
                  Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to Java Architectures Special Interest Group. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                        
    

    <ul id="poweredby">
        <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> <span id='footer-build-information'>5.1.3</span>, <a href="http://www.atlassian.com/software/confluence/overview/team-collaboration-software?utm_source=confluence-footer" class="hover-footer-link">Team Collaboration Software</a></li>
        <li class="print-only">Printed by Atlassian Confluence 5.1.3, Team Collaboration Software.</li>
        <li class="noprint"><a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="hover-footer-link">Report a bug</a></li>
        <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
    </ul>

    

            <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7467127-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    
    </section>

</div>

    

</div><!-- \#full-height-container -->
</div><!-- \#page -->
</body>
</html>
