<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta http-equiv="Content-Language" content="tr">
      <link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.jroller.com/hasant/feed/entries/rss" />
      <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.jroller.com/hasant/rsd"/>
  <link rel="stylesheet" type="text/css" href="/themes/base.css" />
  <link rel="stylesheet" type="text/css" href="/themes/werner/theme.css" />
  <style type="text/css">
                                                  td.codetitle {
border-bottom-width: 1px;
border-bottom-style: dotted;
}

table.codeframe {
border-width: 1px;
border-style: dotted;
background-color:#eeeeee;
}

code {
font-family: Courier New, Courier;
font-size: 10pt;
margin: 0px;
}
      </style>

  <title>Hasan's Weblog ~ Experiences @ workspace</title>
</head>

<body>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-1903251-1");
pageTracker._trackPageview();
} catch(err) {}</script>

<div id="MainColumn">
   <div align="center">
       <h2>Hasan's Weblog ~ Experiences @ workspace</h2>
           <div class="rWeblogCategoryChooser">
            <span class="rChosenCategory">All</span>
    
                |
                    <span class="rUnchosenCategory"><a href="http://www.jroller.com/hasant/category/General">General</a></span>
                    |
                    <span class="rUnchosenCategory"><a href="http://www.jroller.com/hasant/category/Status">Status</a></span>
                    |
                    <span class="rUnchosenCategory"><a href="http://www.jroller.com/hasant/category/Java">Java</a></span>
                    |
                    <span class="rUnchosenCategory"><a href="http://www.jroller.com/hasant/category/Technology">Technology</a></span>
                    |
                    <span class="rUnchosenCategory"><a href="http://www.jroller.com/hasant/category/Semantic+Web">Semantic Web</a></span>
                </div>
   </div>
</div>

<div id="MainColumn" align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-4720012943346481";
/* 728x90, created 3/23/09 */
google_ad_slot = "1997422882";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

<div id="MainColumn">
      <!-- 
   showNextPreviousLinks() is no longer needed as next/prev links are 
   built-into the  macro.
   -->
       
            <div class="next-previous">
                                        &laquo; <a href="http://www.jroller.com/hasant/entry/installing_ubuntu_on_windows_like">Installing Ubuntu on...</a> |  
                <a href="/hasant/">Main</a>
                | <a href="http://www.jroller.com/hasant/entry/recommendation_serena_for_prototyping_gwt">Recommendation;...</a> &raquo;
            </div>
    
                <div class="box">
    <h2 class="box">
          <a href="http://www.jroller.com/hasant/date/20081127"><img
        class="daypermalink"
        src="/images/permalink.gif"
        title="Permanent link to this day"
        alt="20081127" /></a>
           Thursday November 27, 2008         </h2>
    <a name="no_subject_alternative_names_matching" id="no_subject_alternative_names_matching"></a>
    <b>"No subject alternative names matching IP address ..." & "No name matching ... found"</b> 
                               <br><br><p>If you're struggling with the exceptions in the title, read on...</p>
<p>When you want to establish an SSL connection like this;</p>
<div align="left" class="java">
<table cellpadding="3" cellspacing="0" class="codeframe">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>URL url = new URL("https://localhost:9443/soap_rpc");</code>
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<br>
<p>You may get an exception like this;</p>

<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table cellpadding="3" cellspacing="0" class="codeframe">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#000000">javax.net.ssl.SSLHandshakeException:&nbsp;java.security.cert.CertificateException:&nbsp;No&nbsp;name&nbsp;matching&nbsp;localhost&nbsp;found</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.Alerts.getSSLException</font><font color="#000000">(</font><font color="#000000">Alerts.java:</font><font color="#990000">174</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal</font><font color="#000000">(</font><font color="#000000">SSLSocketImpl.java:</font><font color="#990000">1591</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.Handshaker.fatalSE</font><font color="#000000">(</font><font color="#000000">Handshaker.java:</font><font color="#990000">187</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.Handshaker.fatalSE</font><font color="#000000">(</font><font color="#000000">Handshaker.java:</font><font color="#990000">181</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate</font><font color="#000000">(</font><font color="#000000">ClientHandshaker.java:</font><font color="#990000">975</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage</font><font color="#000000">(</font><font color="#000000">ClientHandshaker.java:</font><font color="#990000">123</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.Handshaker.processLoop</font><font color="#000000">(</font><font color="#000000">Handshaker.java:</font><font color="#990000">516</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.Handshaker.process_record</font><font color="#000000">(</font><font color="#000000">Handshaker.java:</font><font color="#990000">454</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord</font><font color="#000000">(</font><font color="#000000">SSLSocketImpl.java:</font><font color="#990000">884</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake</font><font color="#000000">(</font><font color="#000000">SSLSocketImpl.java:</font><font color="#990000">1096</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake</font><font color="#000000">(</font><font color="#000000">SSLSocketImpl.java:</font><font color="#990000">1123</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake</font><font color="#000000">(</font><font color="#000000">SSLSocketImpl.java:</font><font color="#990000">1107</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;sun.net.www.protocol.https.HttpsClient.afterConnect</font><font color="#000000">(</font><font color="#000000">HttpsClient.java:</font><font color="#990000">405</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect</font><font color="#000000">(</font><font color="#000000">AbstractDelegateHttpsURLConnection.java:</font><font color="#990000">166</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;sun.net.www.protocol.http.HttpURLConnection.getOutputStream</font><font color="#000000">(</font><font color="#000000">HttpURLConnection.java:</font><font color="#990000">832</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream</font><font color="#000000">(</font><font color="#000000">HttpsURLConnectionImpl.java:</font><font color="#990000">230</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;SSLPost.test</font><font color="#000000">(</font><font color="#000000">SSLPost.java:</font><font color="#990000">74</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;SSLPost.&lt;init&gt;</font><font color="#000000">(</font><font color="#000000">SSLPost.java:</font><font color="#990000">29</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;SSLPost.main</font><font color="#000000">(</font><font color="#000000">SSLPost.java:</font><font color="#990000">98</font><font color="#000000">)</font><br />
<font color="#000000">Caused&nbsp;by:&nbsp;java.security.cert.CertificateException:&nbsp;No&nbsp;name&nbsp;matching&nbsp;localhost&nbsp;found</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;sun.security.util.HostnameChecker.matchDNS</font><font color="#000000">(</font><font color="#000000">HostnameChecker.java:</font><font color="#990000">210</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;sun.security.util.HostnameChecker.match</font><font color="#000000">(</font><font color="#000000">HostnameChecker.java:</font><font color="#990000">77</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkIdentity</font><font color="#000000">(</font><font color="#000000">X509TrustManagerImpl.java:</font><font color="#990000">264</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted</font><font color="#000000">(</font><font color="#000000">X509TrustManagerImpl.java:</font><font color="#990000">250</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">at&nbsp;com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate</font><font color="#000000">(</font><font color="#000000">ClientHandshaker.java:</font><font color="#990000">954</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">...&nbsp;</font><font color="#990000">14&nbsp;</font><font color="#000000">more</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

<br>
<p>But, you have installed the server certificate, generated keystore and all work fine. So, what may be the problem?</p>
<p>If you google for the above exception, most of the results will suggest you to write a custom HostNameVerifier which will always return <i>true</i> like this;<p>

<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table cellpadding="3" cellspacing="0" class="codeframe">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#3f5fbf">/**</font><br />
<font color="#ffffff">&nbsp;</font><font color="#3f5fbf">*&nbsp;Host&nbsp;name&nbsp;verifier&nbsp;that&nbsp;does&nbsp;not&nbsp;perform&nbsp;nay&nbsp;checks.</font><br />
<font color="#ffffff">&nbsp;</font><font color="#3f5fbf">*/</font><br />
<font color="#7f0055"><b>private&nbsp;static&nbsp;class&nbsp;</b></font><font color="#000000">NullHostnameVerifier&nbsp;</font><font color="#7f0055"><b>implements&nbsp;</b></font><font color="#000000">HostnameVerifier&nbsp;</font><font color="#000000">{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>boolean&nbsp;</b></font><font color="#000000">verify</font><font color="#000000">(</font><font color="#000000">String&nbsp;hostname,&nbsp;SSLSession&nbsp;session</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>return&nbsp;true</b></font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#000000">}</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

<p>... and apply this disabled host name checker for current connection only;</p>

<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table cellpadding="3" cellspacing="0" class="codeframe">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#3f7f5f">/*&nbsp;disabling&nbsp;hostnamechecking&nbsp;only&nbsp;for&nbsp;current&nbsp;connection&nbsp;*/</font><br />
<font color="#000000">URL&nbsp;url&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">URL</font><font color="#000000">(</font><font color="#2a00ff">&#34;https://localhost:9443/soap_rpc&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#000000">HttpsURLConnection&nbsp;connection&nbsp;=&nbsp;</font><font color="#000000">(</font><font color="#000000">HttpsURLConnection</font><font color="#000000">)</font><font color="#000000">url.openConnection</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#000000">connection.setHostnameVerifier</font><font color="#000000">(</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">NullHostNameVerifier</font><font color="#000000">())</font><font color="#000000">;</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

<p>... or for all SSL connections;</p>

<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table cellpadding="3" cellspacing="0" class="codeframe">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#3f7f5f">/*&nbsp;disabling&nbsp;hostnamechecking&nbsp;for&nbsp;all&nbsp;https&nbsp;connections&nbsp;statically&nbsp;*/</font><br />
<font color="#000000">....</font><br />
<font color="#000000">HttpsURLConnection.setDefaultHostnameVerifier</font><font color="#000000">(</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">NullHostnameVerifier</font><font color="#000000">())</font><font color="#000000">;</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

<br>
<p>But, is this the way to go? It didn't satisfied me as most of the skin-deep ways :). So, i decided to go into deep and find a more pleasant solution. Because, regardless of the choosen method among the above ones, you open a gap for URL spoofing at the core of the system. Disabling host name verifier means accepting any hostname in the certificate.</p>
<p>BTW, Sun's default <a href="http://docjar.org/html/api/javax/net/ssl/HttpsURLConnection.java.html">HostNameVerifier</a> implementation always returns <i>false</i> since JDK1.4. We didn't get this exception while working on IBM's implementation since it always returns <i>true</i> which means disables host name verification-though their documentation <a href="http://www.ibm.com/developerworks/java/jdk/security/142/secguides/jssedocs/api/javax/net/ssl/HttpsURLConnection.html#setDefaultHostnameVerifier(javax.net.ssl.HostnameVerifier)">says opposite</a>.</p>
<br><p>Let's come to the solution;</p>
<p>While making an SSL connection, <a href="http://www.docjar.net/html/api/sun/net/www/protocol/https/HttpsClient.java.html">HttpsClient</a> steps in and does basic server authentication to protect against URL spoofing which includes verifying that the name of the server is found in the certificate. <i>HttpsClient#checkURLSpoofing</i> method checks server identity according to "RFC 2818: HTTP over TLS" - "Section 3.1 Server Identity".</p>
<p>HttpsClient basically uses <a href="http://www.docjar.com/html/api/sun/security/util/HostnameChecker.java.html">HostNameChecker</a> first to check the hostname against the names specified in the certificate. Then, if it fails, HostNameVerifier's turn comes and it's used to verify the host name. As mentioned above, while not overridden, SUN's default behaviour is returning <i>false</i> for this verification. This means, if your HostNameChecker fails, you will get one of the exceptions written in the title according to your URL's hostname type.</p>
<p>So, what can be done to "not-fail" HostNameChecker?</p>
<p><i>HostNameChecker#match</i> method's implementation is like below;</p>

<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table border="2" cellpadding="3" cellspacing="0" class="codeframe">
  <!-- start headline -->
   <tr>
    <td colspan="2" class="codetitle">
     <center><font size="+2">
      <code><b>
sun.security.util.HostNameChecker
      </b></code>
     </font></center>
    </td>
   </tr>
  <!-- end headline -->
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#7f0055"><b>public&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">match</font><font color="#000000">(</font><font color="#000000">String&nbsp;hostName,&nbsp;X509Certificate&nbsp;x509certificate</font><font color="#000000">)&nbsp;</font><font color="#7f0055"><b>throws&nbsp;</b></font><font color="#000000">CertificateException&nbsp;</font><font color="#000000">{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">isIpAddress</font><font color="#000000">(</font><font color="#000000">hostName</font><font color="#000000">))&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">matchIP</font><font color="#000000">(</font><font color="#000000">hostName,&nbsp;x509certificate</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}&nbsp;</font><font color="#7f0055"><b>else&nbsp;</b></font><font color="#000000">{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">matchDNS</font><font color="#000000">(</font><font color="#000000">hostName,&nbsp;x509certificate</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#000000">}</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

<p>If the incoming hostname is IP, (by matchIP method), it will be searched in available subject alternative names and throw CertificateException("No subject alternative names matching IP address ...") if no matching ip value found.</p>
<p>On the other hand, if the incoming hostname is DNS, (by matchDNS method), it will be searched in available subject alternative names but, different from IP matching algorithm, DNS matching will compare the hostname with the CommonName value from certificate if available. If neither matches with the hostname, a CertificateException("No name matching ... found") will be thrown.</p>
<p>What we can conclude from these details is;</p>
<ul>
<li>if you'd like to connect via using IP as hostname;</li>
your certificate should include that ip value as a subject alternative name value (of type IPAddress : key=7).
<li>if you'd like to connect via using DNS as hostname;</li>
your certificate should either include that DNS name as a subject alternative name value (of type DNS : key=2) or as a CommonName(CN) value.
</ul>
<p>Hope it helps...</p><br>
               Posted by hasanT
    <span class="dateStamp">(     Nov 27 2008, 05:46:43 PM GMT+02:00     )</span>
        <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching"
        title="Permanent link to this weblog entry"
        class="entrypermalink">Permalink</a>
                    <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching#comments" class="entrycommentslink">Comments [9]</a>
        <br/>
    <br/>
    </div>

    
                                    <a name="comments"></a>
    <div class="comments" id="comments">

            <div class="comments-head">Comments:</div>
            
    <br/>
                                                            
            <div class="comment odd" id="comment1">
                Thanks Hasan. Your article saved me time and nerves. 
<br />

                <p class="comment-details">
                Posted by
                                    <b>Nenad Popovic</b>
                
                on April 03, 2009 at 03:34 PM GMT+02:00

                <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching#comment-1238765651000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                                                    
            <div class="comment even" id="comment2">
                Among all the ...
<br />After all there's good stuff on the net!
<br />Thanks a lot Hasan!
<br />

                <p class="comment-details">
                Posted by
                                    <b>Paulo Martins</b>
                
                on June 02, 2009 at 12:50 AM GMT+02:00

                <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching#comment-1243896611000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                                                    
            <div class="comment odd" id="comment3">
                If the web service is exposed on an IP address, and the certificate doesn't contain the alternative name, is there some way to disable the check as I can't change the certificate?

                <p class="comment-details">
                Posted by
                                    <a rel="nofollow" href="http://schrepfler.blogspot.com"><b>Srgjan Srepfler</b></a>
                
                on June 09, 2009 at 01:38 PM GMT+02:00

                <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching#comment-1244547507000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                                                    
            <div class="comment even" id="comment4">
                @Srgjan
<br />
<br />You can disable hostnameverifier as mentioned in the post. But this opens a gate for url spoofing.. Although not a good practice, you can disable hostnameverification only for certain ip addresses like this;
<br />/**
<br /> * Host name verifier that does not perform for certain ip address */
<br />private static class SpecializedHostnameVerifier implements HostnameVerifier {
<br />    public boolean verify(String hostname, SSLSession session) {
<br />        return hostname.equals(&quot;xxx.yyy...&quot;) ? true : false;
<br />    }
<br />}

                <p class="comment-details">
                Posted by
                                    <a rel="nofollow" href="http://www.jroller.com/hasant"><b>Hasan Turksoy</b></a>
                
                on June 09, 2009 at 02:10 PM GMT+02:00

                <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching#comment-1244549402000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                                                    
            <div class="comment odd" id="comment5">
                Hi Hasan,
<br />We have installed a SSL certificate with IP address in the Subject Alternate field. But the IP address is provided against key type 2. So matchbyIP is failing. When we checked with the CA, they mentioned that they don't provide certificates with IPAddress : key=7 in the SAN field. Is it a standard to use key type 7? Are you aware of any CA that issues certificates in this format?
<br />Any help is appreciated.
<br />thanks,

                <p class="comment-details">
                Posted by
                                    <b>Lalitha Bhat</b>
                
                on December 29, 2009 at 07:50 PM GMT+02:00

                <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching#comment-1262109023000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                                                    
            <div class="comment even" id="comment6">
                Thank you very much. I wished this post was #1 in google search instead of useless staff like disabling security or host name checks in Java. Saved me time and nerves (+1).

                <p class="comment-details">
                Posted by
                                    <b>Sergey Karepov</b>
                
                on February 07, 2011 at 10:28 AM GMT+02:00

                <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching#comment-1297067280000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                                                    
            <div class="comment odd" id="comment7">
                It really solved my problem. I was struggling to connect to HTTPS using java. Thanks a ton. :)

                <p class="comment-details">
                Posted by
                                    <b>Sumit Kumar</b>
                
                on February 28, 2011 at 10:56 AM GMT+02:00

                <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching#comment-1298883418000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                                                    
            <div class="comment even" id="comment8">
                How would I handle this situation? I create a connection to a third party https: site (https://ipv4.tunnelbroker.net ) and am getting the  &quot; No name matching ipv4.tunnelbroker.net found &quot; message.  The certificate is for tunnelbroker.net, but doesn't list ipv4.tunnelbroker.net as an alternative (to my knowledge).
<br />
<br />Since it's not my certificate, I can't change it.  And I don't want to disable checking, unless that's my only option.
<br />
<br />have a great day:)
<br />Patrick.

                <p class="comment-details">
                Posted by
                                    <a rel="nofollow" href="http://patscompservices.blogspot.com"><b>Patrick Dickey</b></a>
                
                on April 21, 2011 at 02:41 AM GMT+02:00

                <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching#comment-1303346479000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                                                    
            <div class="comment odd" id="comment9">
                In my earlier post, I should add that I tried adding the certificate to my jssecacerts and cacerts files (using keytool), and specify those in my run-time arguments.  
<br />
<br />Have a great day:)
<br />Patrick.

                <p class="comment-details">
                Posted by
                                    <a rel="nofollow" href="http://patscompservices.blogspot.com"><b>Patrick Dickey</b></a>
                
                on April 21, 2011 at 02:43 AM GMT+02:00

                <a href="http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching#comment-1303346630000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                </div>
        
    <div class="comments-form">
    <div class="comments-head">Post a Comment:</div><br/>

    <span class="status">Comments are closed for this entry.</span>

    </div>
    <br/>
</div>

<div id="SideBar">
 <div class="namebox">
   <br/>
   A blog by
   <br/>
   hasant
   <br/>
   hturksoy-AT-gmail-DOT-com
   <br/><br/>
 </div>

<div class="menubox">
<table>
<tr><td><h2 class="box">Recent Blog Entries</h2></td></tr> 
<tr><td>
<ul class="rReferersList">
              <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/fileupload_with_gwt" class="entrycommentslink">FileUpload with GWT</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/gwt_notes_from_a_real" class="entrycommentslink">GWT: Notes from a Real World Project</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/recommendation_serena_for_prototyping_gwt" class="entrycommentslink">Recommendation; Serena for prototyping, GWT Designer for GWT apps</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/no_subject_alternative_names_matching" class="entrycommentslink">"No subject alternative names matching IP address ..." & "No name matching ... found"</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/installing_ubuntu_on_windows_like" class="entrycommentslink">Installing Ubuntu on Windows like a normal(uninstallable) program</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/how_to_change_oracle_xml" class="entrycommentslink">How to change Oracle XML parser</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/remarks_from_netbeans_day_turkey" class="entrycommentslink">Remarks from NetBeans Day Turkey</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/hibernate_saveorupdate_trap_for_web" class="entrycommentslink">Hibernate saveOrUpdate trap for web developers and StaleStateException</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/jsf_groupable_client_and_server" class="entrycommentslink">JSF: Groupable Client And Server Validations Via Commons Validator</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/jsf_logout_and_redirect_user" class="entrycommentslink">[JSF] Logout and redirect user when session expired</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/flickr_ransomizr" class="entrycommentslink">Flickr Ransomizr</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/a_tiny_issue_when_using" class="entrycommentslink">A tiny issue when using properties file in an ant property definiton </a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/jsf_bypassable_client_and_server" class="entrycommentslink">JSF-bypassable client and server validation with commons validator</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/creating_an_actionsource_with_action" class="entrycommentslink">Creating an ActionSource(with action binding) component inside of a custom component</a></li>
                  <li class="rReferersListItem"> <B>&raquo;</B> <a href="/comments/hasant/Weblog/spring_web_flow_jsf_integration" class="entrycommentslink">Spring Web Flow-JSF integration experiment [the tide between success and failure]</a></li>
      </ul>
</td></tr>
</table>
</div>

 <div class="menubox">
 <h2 class="box">calendar</h2>
 <center>        <table cellspacing="0" border="0"  summary="Blog Archive Calendar" class="hCalendarTable"><tr><td colspan="7" align="center" class="hCalendarMonthYearRow"><a href="/hasant/date/201311" title="Prev" class="hCalendarNavBar">&laquo;</a> Aralık 2013</td></tr><tr><th class="hCalendarDayNameRow" align="center">Pzt</th><th class="hCalendarDayNameRow" align="center">Sal</th><th class="hCalendarDayNameRow" align="center">Çar</th><th class="hCalendarDayNameRow" align="center">Per</th><th class="hCalendarDayNameRow" align="center">Cum</th><th class="hCalendarDayNameRow" align="center">Cmt</th><th class="hCalendarDayNameRow" align="center">Paz</th></tr><tr><td class="hCalendarDayNotInMonth">&nbsp;</td><td class="hCalendarDayNotInMonth">&nbsp;</td><td class="hCalendarDayNotInMonth">&nbsp;</td><td class="hCalendarDayNotInMonth">&nbsp;</td><td class="hCalendarDayNotInMonth">&nbsp;</td><td class="hCalendarDayNotInMonth">&nbsp;</td><td class="hCalendarDay"><div class="hCalendarDayTitle">1</div></td></tr><tr><td class="hCalendarDay"><div class="hCalendarDayTitle">2</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">3</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">4</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">5</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">6</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">7</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">8</div></td></tr><tr><td class="hCalendarDay"><div class="hCalendarDayTitle">9</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">10</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">11</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">12</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">13</div></td><td class="hCalendarDayCurrent"><div class="hCalendarDayTitle">14</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">15</div></td></tr><tr><td class="hCalendarDay"><div class="hCalendarDayTitle">16</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">17</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">18</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">19</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">20</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">21</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">22</div></td></tr><tr><td class="hCalendarDay"><div class="hCalendarDayTitle">23</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">24</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">25</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">26</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">27</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">28</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">29</div></td></tr><tr><td class="hCalendarDay"><div class="hCalendarDayTitle">30</div></td><td class="hCalendarDay"><div class="hCalendarDayTitle">31</div></td><td class="hCalendarDayNotInMonth">&nbsp;</td><td class="hCalendarDayNotInMonth">&nbsp;</td><td class="hCalendarDayNotInMonth">&nbsp;</td><td class="hCalendarDayNotInMonth">&nbsp;</td><td class="hCalendarDayNotInMonth">&nbsp;</td></tr><tr class="hCalendarNextPrev"><td colspan="7" align="center"><a href="/hasant/" class="hCalendarNavBar">Today</a></td></tr></table>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-410289-11";
urchinTracker();
</script>
</center>
 </div>

 <div class="menubox"><h2 class="box">search</h2>
              <form id="searchForm" method="get" action="/hasant/search"
        style="margin: 0; padding: 0" onsubmit="return validateSearch(this)">
        <p>
          <input type="text" id="q" name="q" size="10"
              maxlength="255" value="" />
                      <select name="cat">
            <option value="">- Category -</option>
                          <option >General</option>
                          <option >Status</option>
                          <option >Java</option>
                          <option >Technology</option>
                          <option >Semantic Web</option>
                        </select>
                    <input type="submit" value="Search" />
        </p>
    </form>
    <script type="text/javascript">
        function validateSearch(form) {
            if (form.q.value == "") {
                alert("Please enter a search term to continue.");
                form.q.focus();
                return false;
            }
            return true;
        }
    </script>
 </div>

 <div class="menubox"><h2 class="box">navigation</h2>
              <div class="rNavigationBar">
         <br />
    <a href="/">Front Page</a>             <br />
    <a href="http://www.jroller.com/hasant/">Weblog</a>                                                                                                                                                                                                                                                                                    
                                         <br />
    <a href="http://www.jroller.com/hasant/page/Archives">Archives</a>                
                                                                                                                        
                                <br />
    <a href="/roller-ui/login-redirect.jsp">Login</a>                </div >
  <br/>
      
 </div>

 <div class="menubox"><h2 class="box">links</h2>
  <br/>
                         <ul class="rFolder">
                    <li class="rFolderItem">
                    <a href="http://cagataycivici.wordpress.com/"
           title=""
           class="rBookmark0">Cagatay Civici</a>
        </li>
                <li class="rFolderItem">
                    <a href="http://cenkcivici.com/blog/"
           title=""
           class="rBookmark0">Cenk Civici</a>
        </li>
                <li class="rFolderItem">
                    <a href="http://www.jroller.com/HazemBlog/"
           title=""
           class="rBookmark0">Hazem Saleh</a>
        </li>
                <li class="rFolderItem">
                    <a href="http://ksevindik.blogspot.com"
           title=""
           class="rBookmark0">Kenan Sevindik</a>
        </li>
                <li class="rFolderItem">
                    <a href="http://www.mehmetgursul.net"
           title=""
           class="rBookmark0">Mehmet Gursul</a>
        </li>
                <li class="rFolderItem">
                    <a href="http://mcatr.blogspot.com/"
           title=""
           class="rBookmark0">Murat Can Alpay</a>
        </li>
                <li class="rFolderItem">
                    <a href="http://www.jroller.com/yigitdarcin"
           title=""
           class="rBookmark0">Yigit Darcin</a>
        </li>
                <li class="rFolderItem">
                    <a href="http://yui4jsf.sourceforge.net/site/index.html"
           title=""
           class="rBookmark0">YUI4JSF</a>
        </li>
                   </ul>
          <br/>
 </div>

 <div class="menubox"><h2 class="box">rss feeds</h2>
       <a href="http://www.jroller.com/hasant/feed/entries/rss"><img class="rssbadge"
        src="/images/rssbadge.gif" alt="XML" /></a>
<br/>
       <a href="http://www.jroller.com/hasant/feed/entries/rss">All</a><br />
                <a href="http://www.jroller.com/hasant/feed/entries/rss?cat=%2FGeneral">/General</a><br />
            <a href="http://www.jroller.com/hasant/feed/entries/rss?cat=%2FStatus">/Status</a><br />
            <a href="http://www.jroller.com/hasant/feed/entries/rss?cat=%2FJava">/Java</a><br />
            <a href="http://www.jroller.com/hasant/feed/entries/rss?cat=%2FTechnology">/Technology</a><br />
            <a href="http://www.jroller.com/hasant/feed/entries/rss?cat=%2FSemantic+Web">/Semantic Web</a><br />
    <br/>
 </div>

 <div class="menubox"><h2 class="box">referers</h2>
       <p>Today's Page Hits: 80</p>
        <ul class="rReferersList">
        </ul>
 </div>

 <div class="menubox">
   <h2 class="box">visitors</h2><br/>
   <center>
  <a href="http://clustrmaps.com/counter/maps.php?url=http://www.jroller.com/page/hasant" id="clustrMapsLink"><img src="http://clustrmaps.com/counter/index2.php?url=http://www.jroller.com/page/hasant" border=1 alt="Locations of visitors to this page" onError="this.onError=null; this.src='http://www.meetomatic.com/images/clustrmaps-back-soon.jpg'; document.getElementById('clustrMapsLink').href='http://clustrmaps.com/'">
  </a>
  </center>
 </div>

 <div class="box">
    <center><img src="http://www.jroller.com/hasant/resource/cert/scjp_cert.jpg" alt="SCJP 5.0 Certified (%88)" /></center>
 </div>

 <div class="box">
    <center><a href="http://www.linkedin.com/in/hasanturksoy" ><img src="http://www.linkedin.com/img/webpromo/btn_myprofile_160x33.gif" width="160" height="33" border="0" alt="View Hasan Turksoy's profile on LinkedIn"></a></center>
 </div>

</div>

<p>
<!-- AddThis Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php?v=250&pub=xa-4a7160865d4ba278" onmouseover="return addthis_open(this, '', '[URL]', '[TITLE]')" onmouseout="addthis_close()" onclick="return addthis_sendto()"><img src="http://s7.addthis.com/static/btn/lg-share-en.gif" width="125" height="16" alt="Bookmark and Share" style="border:0"/></a><script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js?pub=xa-4a7160865d4ba278"></script>
<!-- AddThis Button END -->
</p>
</body>
</html>
