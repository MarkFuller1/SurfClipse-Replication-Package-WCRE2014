<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: BundleException - unresolved package org.osgi.framework</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>tuscany-user mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/tuscany-user" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/tuscany-user/200806.mbox/%3ca440eccf0806011252j355ae0e9tf76c22e8694f427a@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/tuscany-user/200806.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/tuscany-user/200806.mbox/%3c4843C0D0.5020205@gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/tuscany-user/200806.mbox/%3ca440eccf0806011252j355ae0e9tf76c22e8694f427a@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/tuscany-user/200806.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/tuscany-user/200806.mbox/%3cjUsT.aNoTheR.mEsSaGe.iD.121241104725767@www.fh-swf.de%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/tuscany-user/200806.mbox/%3ca440eccf0806011252j355ae0e9tf76c22e8694f427a@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/tuscany-user/200806.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/tuscany-user/200806.mbox/%3c4843C0D0.5020205@gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/tuscany-user/200806.mbox/%3ca440eccf0806011252j355ae0e9tf76c22e8694f427a@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/tuscany-user/200806.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/tuscany-user/200806.mbox/%3cjUsT.aNoTheR.mEsSaGe.iD.121241104725767@www.fh-swf.de%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Yevgeniy Melnichuk &lt;yevgeniy.melnic...@stud.fh-swf.de&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: BundleException - unresolved package org.osgi.framework</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Mon, 02 Jun 2008 07:19:23 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
hello Rajini,

thank you for the answer!

As you assumed, i start tuscany outside of a osgi-container. I would
like tuscany to use the shipped felix.

Specifing a version in the Import-Packe didn't help. But taking a closer
look at the failure-output, i saw a line, which maybe points to the
source of my problem:

DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0

The full failure-output is:

Using default configuration properties.
DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0
DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0
DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0
DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0
DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0
DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0
DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0
DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0
DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0
DEBUG: PackagePermission.EXPORT denied for org.osgi.frameworkfrom 0
org.apache.tuscany.sca.core.factory.ObjectCreationException: org.
osgi.framework.BundleException: Unresolved package in bundle 1: package;
(&amp;(package=org.osgi.framework)(version&gt;=1.3.0))
	at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.
java:194)
	at org.apache.tools.ant.taskdefs.Java.run(Java.java:747)
	at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:201)
	at org.apache.tools.ant.taskdefs.Java.execute(Java.java:104)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.
java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.
java:105)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:357)
	at org.apache.tools.ant.Target.performTasks(Target.java:385)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1298)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.
java:41)
	at org.eclipse.ant.internal.ui.antsupport.EclipseDefaultExecutor.
executeTargets(EclipseDefaultExecutor.java:32)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1181)
	at org.eclipse.ant.internal.ui.antsupport.InternalAntRunner.run(InternalAntRunner.
java:423)
	at org.eclipse.ant.internal.ui.antsupport.InternalAntRunner.main(InternalAntRunner.
java:137)
Caused by: org.apache.tuscany.sca.core.factory.ObjectCreationException:
org.osgi.framework.BundleException: Unresolved package in bundle 
1: package; (&amp;(package=org.osgi.framework)(version&gt;=1.3.0))
	at org.apache.tuscany.sca.implementation.osgi.invocation.OSGiImplementationProvider.
startBundle(OSGiImplementationProvider.java:374)
	at org.apache.tuscany.sca.implementation.osgi.invocation.OSGiImplementationProvider.
getScopeContainer(OSGiImplementationProvider.java:1023)
	at org.apache.tuscany.sca.implementation.osgi.invocation.OSGiTargetInvoker.
invokeTarget(OSGiTargetInvoker.java:93)
	at org.apache.tuscany.sca.implementation.osgi.invocation.OSGiTargetInvoker.
invoke(OSGiTargetInvoker.java:188)
	at org.apache.tuscany.sca.binding.sca.impl.SCABindingInvoker.invoke(SCABindingInvoker.
java:61)
	at org.apache.tuscany.sca.core.invocation.JDKInvocationHandler.invoke(JDKInvocationHandler.
java:286)
	at org.apache.tuscany.sca.core.invocation.JDKInvocationHandler.invoke(JDKInvocationHandler.
java:154)
	at $Proxy0.getMessage(Unknown Source)
	at eumel.tuscany.sca.osgi.motd.launcher.Main.main(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.
java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.tools.ant.taskdefs.ExecuteJava.run(ExecuteJava.java:217)
	at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.
java:152)
	... 19 more
Caused by: org.osgi.framework.BundleException: Unresolved package 
in bundle 1: package; (&amp;(package=org.osgi.framework)(version&gt;=1.3.
0))
	at org.apache.felix.framework.Felix._resolveBundle(Felix.java:1699)
	at org.apache.felix.framework.Felix._startBundle(Felix.java:1566)
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1519)
	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:354)
	at org.apache.tuscany.sca.implementation.osgi.invocation.OSGiImplementationProvider.
startBundle(OSGiImplementationProvider.java:360)
	... 33 more
--- Nested Exception ---
org.apache.tuscany.sca.core.factory.ObjectCreationException: org.
osgi.framework.BundleException: Unresolved package in bundle 1: package;
(&amp;(package=org.osgi.framework)(version&gt;=1.3.0))
	at org.apache.tuscany.sca.implementation.osgi.invocation.OSGiImplementationProvider.
startBundle(OSGiImplementationProvider.java:374)
	at org.apache.tuscany.sca.implementation.osgi.invocation.OSGiImplementationProvider.
getScopeContainer(OSGiImplementationProvider.java:1023)
	at org.apache.tuscany.sca.implementation.osgi.invocation.OSGiTargetInvoker.
invokeTarget(OSGiTargetInvoker.java:93)
	at org.apache.tuscany.sca.implementation.osgi.invocation.OSGiTargetInvoker.
invoke(OSGiTargetInvoker.java:188)
	at org.apache.tuscany.sca.binding.sca.impl.SCABindingInvoker.invoke(SCABindingInvoker.
java:61)
	at org.apache.tuscany.sca.core.invocation.JDKInvocationHandler.invoke(JDKInvocationHandler.
java:286)
	at org.apache.tuscany.sca.core.invocation.JDKInvocationHandler.invoke(JDKInvocationHandler.
java:154)
	at $Proxy0.getMessage(Unknown Source)
	at eumel.tuscany.sca.osgi.motd.launcher.Main.main(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.
java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.tools.ant.taskdefs.ExecuteJava.run(ExecuteJava.java:217)
	at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.
java:152)
	at org.apache.tools.ant.taskdefs.Java.run(Java.java:747)
	at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:201)
	at org.apache.tools.ant.taskdefs.Java.execute(Java.java:104)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.
java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.
java:105)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:357)
	at org.apache.tools.ant.Target.performTasks(Target.java:385)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1298)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.
java:41)
	at org.eclipse.ant.internal.ui.antsupport.EclipseDefaultExecutor.
executeTargets(EclipseDefaultExecutor.java:32)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1181)
	at org.eclipse.ant.internal.ui.antsupport.InternalAntRunner.run(InternalAntRunner.
java:423)
	at org.eclipse.ant.internal.ui.antsupport.InternalAntRunner.main(InternalAntRunner.
java:137)
Caused by: org.osgi.framework.BundleException: Unresolved package 
in bundle 1: package; (&amp;(package=org.osgi.framework)(version&gt;=1.3.
0))
	at org.apache.felix.framework.Felix._resolveBundle(Felix.java:1699)
	at org.apache.felix.framework.Felix._startBundle(Felix.java:1566)
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1519)
	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:354)
	at org.apache.tuscany.sca.implementation.osgi.invocation.OSGiImplementationProvider.
startBundle(OSGiImplementationProvider.java:360)
	... 33 more



Best regards,
Eugene



On sun, 1 jun 2008 you wrote:

&gt;Eugene,
&gt; 
&gt;Yes, org.osgi.framework is exported from the OSGi container. If you
&gt;are running Tuscany outside of OSGi and using &lt;implementation.osgi/&gt;,
&gt;the embedded Felix runtime started by Tuscany will
&gt;export  org.osgi.framework version 1.3.0. So your bundle should be
&gt;able to import this package if you haven't specified any version in
&gt;your import or if the version range specified in your import includes
&gt;1.3.0. Could you cut-and-paste the full exception stack trace from 
&gt;your failure?
&gt; 
&gt;On 5/30/08, Yevgeniy Melnichuk &lt;yevgeniy.melnichuk@stud.fh-swf.de&gt; 
wrote:
&gt;hy!i would like to use Tuscany to expose services from my OSGi-Bundles,
but iget a BundleException, because Felix can't resolve org.osgi.
framework. I
&gt;thougth a OSGi-Container would provide this package - isn't it so?I 
tested my OSGi-Bundle with Eclipse/Equinox and it worked fine.My 
project consists of following files,osgi-service.composite:
&gt;&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;composite xmlns="http://www.
osoa.org/xmlns/sca/1.0"  xmlns:t="http://tuscany.apache.org/xmlns/sca/1.
0"
&gt;  name="SomeComposite"&gt;     &lt;component name="SomeComponent"&gt;    
&lt;t:implementation.osgi           bundleSymbolicName="com.sample.
myBundle" /&gt;     &lt;/component&gt;
&gt;&lt;/composite&gt;com.sample.myBundle.componentType:&lt;?xml version="1.0" 
encoding="UTF-8"?&gt;&lt;componentType xmlns="http://www.osoa.org/xmlns/sca/1.
0"
&gt;  xmlns:t="http://tuscany.apache.org/xmlns/sca/1.0"&gt;  &lt;service name="com.
sample.SomeService"&gt;     &lt;interface.java        interface="com.sample.
SomeServiceInterface" /&gt;
&gt;  &lt;/service&gt;&lt;/componentType&gt;and a Main-Class with the following 
main-method:public static void main(String[] args) {  SCADomain domain 
= SCADomain.newInstance("osgi-service.composite");
&gt;  MotdService service = domain.getService(MotdService.class,    
"SomeComponent/com.sample.SomeService");  /* do something with the 
service */}Does anybody knows whats my problem? do i have to provide 
a bundle,
&gt;which exports the org.osgi.framework package myself?Thx for your 
answers,Eugene-- Thank you...Regards,Rajini 
&gt;
&gt;









</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/tuscany-user/200806.mbox/raw/%3cjUsT.aNoTheR.mEsSaGe.iD.121239229818662@www.fh-swf.de%3e/">Unnamed text/plain</a> (inline, 8-Bit, 10576 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/tuscany-user/200806.mbox/raw/%3cjUsT.aNoTheR.mEsSaGe.iD.121239229818662@www.fh-swf.de%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>
